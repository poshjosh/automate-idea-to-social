(self.webpackChunkpictory=self.webpackChunkpictory||[]).push([[179],{62279:function(e,t,n){"use strict";var r=n(15671),s=n(43144),a=n(86508),i=n(10770),o=function(){function e(){(0,r.Z)(this,e),this.backgroundAnimation=null,this.strokeLineAnimation=null,this.sentenceAnimation=null,this.sentenceBackgroundAnimation=null,this.subSceneTimer=null}return(0,s.Z)(e,[{key:"reset",value:function(){var t=this.animationContainer.querySelector(e.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(e.VIDEO_CSS_SELECTOR);t&&t.removeAttribute("style"),this.resetSentences()}},{key:"animateOutroSentences",value:function(){this.sentenceAnimation=(0,a.Z)({begin:function(){document.querySelector(".sentences.outro-scene").style.visibility="visible"},targets:this.animationContainer.querySelector(".sentences"),opacity:1,scale:0,duration:1e3*e.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:this.onSentenceComplete.bind(this)})}},{key:"setSubSceneTimer",value:function(e){this.subSceneTimer=e}},{key:"onBackgroundComplete",value:function(){this.backgroundAnimation=null}},{key:"onStrokeComplete",value:function(){this.strokeLineAnimation=null}},{key:"onSentenceComplete",value:function(){this.sentenceAnimation=null}},{key:"onSentenceBackgroundComplete",value:function(){this.sentenceBackgroundAnimation=null}},{key:"play",value:function(){this.backgroundAnimation&&this.backgroundAnimation.play(),this.strokeLineAnimation&&this.strokeLineAnimation.play(),this.sentenceAnimation&&this.sentenceAnimation.play(),this.sentenceBackgroundAnimation&&this.sentenceBackgroundAnimation.play(),this.subSceneTimer&&this.subSceneTimer.resume()}},{key:"pause",value:function(){this.backgroundAnimation&&this.backgroundAnimation.pause(),this.strokeLineAnimation&&this.strokeLineAnimation.pause(),this.sentenceAnimation&&this.sentenceAnimation.pause(),this.sentenceBackgroundAnimation&&this.sentenceBackgroundAnimation.pause(),this.subSceneTimer&&this.subSceneTimer.pause()}},{key:"stop",value:function(){this.backgroundAnimation&&this.backgroundAnimation.seek(this.backgroundAnimation.duration),this.strokeLineAnimation&&this.strokeLineAnimation.seek(this.strokeLineAnimation.duration),this.sentenceAnimation&&this.sentenceAnimation.seek(this.sentenceAnimation.duration),this.sentenceBackgroundAnimation&&this.sentenceBackgroundAnimation.seek(this.sentenceBackgroundAnimation.duration),this.subSceneTimer&&this.subSceneTimer.cancel()}}],[{key:"getStyles",value:function(){return{fontFamily:"'Montserrat'",fontName:"'Montserrat'",fontWeight:"Bold",fontSize:32,width:1*i.Z.defaultWidth+"px",lineSpacing:1.1,textRightAlign:!1,fontColor:"rgb(255,255,255)",backgroundColor:"",textBackgroundColor:"rgb(0,0,0)",backColor:"rgb(0,0,0)",keywordColor:"rgb(32,148,243)",bgMask:!1,bgMaskSide:"left",bgMaskArea:"0.4",bgMaskColor:"rgb(229,239,219)",showLogo:!1,strokeLine:!1,strokeColor:"rgb(255,255,255)",strokeWidth:200,strokeAnimation:"slide-in-left",strokeAnimationSpeed:1,bgAnimation:"pan-up",textAnimation:"expand-out",textAnimationSpeed:1,textStagger:0,textBgAnimation:"expand-out",textBgAnimationSpeed:1,textBgStagger:0}}},{key:"animateBrandSetting",value:function(t){this.sentenceAnimation=(0,a.Z)({begin:function(){document.querySelector(".sentences-bottom").style.visibility="visible"},targets:t.querySelector(".sentences-bottom"),opacity:1,scale:0,duration:1e3*e.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse"})}},{key:"getSampleTemplate",value:function(){return{sentences:["Importance of Cloud-Native Approach to Governance"],keywords:["Governance"],bgImage:"https://www.corestack.io/wp-content/uploads/2019/09/05-securityvscomplianc-1725x1007-1024x598.png",sceneTime:5e3}}}]),e}();o.className="default",o.themeName="Animation",o.IMAGE_CSS_SELECTOR=".background:not(.from-article):not(.disable-panning) img",o.VIDEO_CSS_SELECTOR=".background:not(.from-article) video",t.Z=o},76290:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(1413),s=n(15671),a=n(43144),i=n(64433),o=n(88301),c=n(61120),l=n(60136),u=n(29388),d=n(86508),p=n.p+"static/media/HardWorking.3d54348445cd692c8e70.jpg",h=n(62279),m=n(10770),g=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,a.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,o.Z)((0,c.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,i.Z)((0,c.Z)(n.prototype),"backgroundAnimation",(0,d.Z)({targets:this.animationContainer.querySelector(h.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(h.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,o.Z)((0,c.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),d.Z.set(this.animationContainer.querySelector(".background:not(.from-article):not(.disable-panning) img")||this.animationContainer.querySelector(".background:not(.from-article) video"),{scale:1.1}),(0,i.Z)((0,c.Z)(n.prototype),"backgroundAnimation",(0,d.Z)({targets:this.animationContainer.querySelector(".background:not(.from-article):not(.disable-panning) img")||this.animationContainer.querySelector(".background:not(.from-article) video"),translateY:"-4%",duration:e,easing:"linear",complete:function(){(0,o.Z)((0,c.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,i.Z)((0,c.Z)(n.prototype),"sentenceAnimation",(0,d.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelector(".sentences"),translateX:-720,opacity:0,visibilty:"visible",delay:d.Z.stagger(100,{start:100,direction:"reverse"}),duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,o.Z)((0,c.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,o.Z)((0,c.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Rokkitt'",fontWeight:"Bold",fontSize:28,width:.6*m.Z.defaultWidth+"px",lineSpacing:1,lineHeightRelatedToSentence:1.2,textBottomAlignPercent:7,textLeftAlignPercent:5,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(0,0,0,0.65)",keywordColor:"rgb(255,255,0)",bgAnimation:"pan-down",textAnimation:"slide-in-left",textBgAnimation:"slide-in-left",preset:"bottom-left"};return(0,r.Z)((0,r.Z)({},(0,o.Z)((0,c.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Be humble. Be hungry. And always be the hardest worker in the room"],keywords:["humble","hungry","hardest worker"],bgImage:p};return(0,r.Z)((0,r.Z)({},(0,o.Z)((0,c.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(h.Z);g.className="theme-animation1",g.themeName="Animation1";var f=g},70494:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(1413),s=n(15671),a=n(43144),i=n(64433),o=n(88301),c=n(61120),l=n(60136),u=n(29388),d=n(86508),p=n.p+"static/media/SomeBooks.8a3ead0d07080b93f911.jpg",h=n(62279),m=n(10770),g=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,a.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,o.Z)((0,c.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,i.Z)((0,c.Z)(n.prototype),"backgroundAnimation",(0,d.Z)({targets:this.animationContainer.querySelector(h.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(h.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,o.Z)((0,c.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),d.Z.set(this.animationContainer.querySelector(h.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(h.Z.VIDEO_CSS_SELECTOR),{scale:1.1}),(0,i.Z)((0,c.Z)(n.prototype),"backgroundAnimation",(0,d.Z)({targets:this.animationContainer.querySelector(h.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(h.Z.VIDEO_CSS_SELECTOR),translateX:"-4%",duration:e,easing:"linear",complete:function(){(0,o.Z)((0,c.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,i.Z)((0,c.Z)(n.prototype),"sentenceAnimation",(0,d.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelector(".sentences"),opacity:0,duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,o.Z)((0,c.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,o.Z)((0,c.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Lato'",fontWeight:void 0,fontSize:24,width:.7*m.Z.defaultWidth+"px",paragraphWidth:"70%",lineSpacing:1.1,lineHeightRelatedToSentence:1.2,textBottomAlignPercent:7,textLeftAlignPercent:5,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(0,0,0,0.77)",keywordColor:"rgb(245,240,162)",textShadowColor:"rgba(0,0,0,1)",textShadowWidthFr:.03,bgAnimation:"pan-right",textAnimation:"fade-in",textAnimationSpeed:1.5,textBgAnimation:"fade-in",textBgAnimationSpeed:1.5,preset:"bottom-center",textAlign:"center",textHCenterAlign:!0};return(0,r.Z)((0,r.Z)({},(0,o.Z)((0,c.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Some books are like journeys. At the end you are not the same person you were at the beginning"],keywords:["books are like journeys"],bgImage:p};return(0,r.Z)((0,r.Z)({},(0,o.Z)((0,c.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(h.Z);g.className="theme-animation2",g.themeName="Animation2";var f=g},10770:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r=n(1413),s=n(93433),a=n(15671),i=n(43144),o=n(92859),c=n.n(o),l=n(63346),u=n(16031),d=n.n(u),p=(n(47313),n(84389)),h=n(47439),m=n(11043),g=n(91104),f=n(90794),v=n(62279),x=n(76290),S=n(70494),y=n(64433),b=n(88301),j=n(61120),w=n(60136),Z=n(29388),k=n(86508),C=n.p+"static/media/StandUp.d139e6a33b97c6ff9ca2.jpg",I=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,b.Z)((0,j.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),k.Z.set(this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),{scale:1.1}),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),translateX:"4%",duration:e,easing:"linear",complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,y.Z)((0,j.Z)(n.prototype),"strokeLineAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(".sentences .head-strokeline"),translateX:-720,backgroundSize:"0% 100%",duration:500*n.getStyles().strokeAnimationSpeed,direction:"reverse",easing:"easeInCubic",complete:(0,b.Z)((0,j.Z)(n.prototype),"onStrokeComplete",this).bind(this)}),this,!0),(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelectorAll(".sentences p"),translateX:-720,delay:k.Z.stagger(1e3*n.getStyles().textStagger,{start:0,direction:"reverse"}),duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,b.Z)((0,j.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Merriweather'",fontWeight:"Bold",fontSize:30,width:.3*ee.defaultWidth+"px",lineSpacing:1.2,lineHeightRelatedToSentence:1.2,textLeftAlignPercent:4,fontColor:"rgb(0,0,0)",textBackgroundColor:"rgb(255,255,255)",keywordColor:"rgb(176,35,24)",bgMask:!0,bgMaskSide:"left",bgMaskArea:.4,bgMaskColor:"rgb(229,239,219)",strokeLine:!0,strokeColor:"rgb(255,255,255)",strokeWidth:.105*ee.defaultWidth,strokeAnimation:"slide-in-left",strokeAnimationSpeed:1,bgAnimation:"pan-left",textAnimation:"slide-in-left",textStagger:.1,textBgAnimation:"slide-in-left",textBgStagger:.1,preset:"center-left"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Fall seven times, stand up eight"],keywords:["stand up"],bgImage:C};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);I.className="theme-animation3",I.themeName="Animation3";var T=I,E=n.p+"static/media/Simplicity.d9995d81ceb26599e01c.jpg",A=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,b.Z)((0,j.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),k.Z.set(this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),{scale:1.15}),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),translateY:"-6%",duration:e,easing:"linear",complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelector(".sentences"),scale:0,duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,b.Z)((0,j.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Open Sans'",fontWeight:"Bold",fontSize:32,width:.9*ee.defaultWidth+"px",lineSpacing:1.1,lineHeightRelatedToSentence:1.2,textBottomAlignPercent:7,textLeftAlignPercent:5,fontColor:"rgb(6,33,92)",textBackgroundColor:"rgb(255,255,255)",keywordColor:"rgb(126,171,85)",bgAnimation:"pan-down",textAnimation:"expand-out",textBgAnimation:"expand-out",preset:"bottom-left"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Simplicity is the ultimate sophistication"],keywords:["Simplicity"],bgImage:E};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);A.className="theme-animation4",A.themeName="Animation4";var _=A,R=n.p+"static/media/stillness.ff64d31619631e926457.jpg",P=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,b.Z)((0,j.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),k.Z.set(this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),{scale:1.1}),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),translateX:"-4%",duration:e,easing:"linear",complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){k.Z.set(this.animationContainer.querySelector(".sentences"),{opacity:0}),(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelector(".sentences"),opacity:1,duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,b.Z)((0,j.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Open Sans'",fontWeight:"Bold",fontSize:32,width:.9*ee.defaultWidth+"px",lineSpacing:1,lineHeightRelatedToSentence:1.2,textBottomAlignPercent:7,textLeftAlignPercent:5,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(165,169,119,0.6)",keywordColor:"rgb(246,193,67)",bgAnimation:"pan-right",textAnimation:"fade-in",textBgAnimation:"fade-in",preset:"bottom-left"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Build pockets of stillness into your life"],keywords:["stillness"],bgImage:R};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);P.className="theme-animation5",P.themeName="Animation5";var N=P,O=n.p+"static/media/ToUnderstand.acd74e77d2c3b5f85d4b.jpg",D=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,b.Z)((0,j.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),k.Z.set(this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),{scale:1.15}),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),translateY:"6%",duration:e,easing:"linear",complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelector(".sentences"),translateY:"-50%",scale:0,duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,b.Z)((0,j.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Open Sans'",fontWeight:"Bold",fontSize:32,width:.9*ee.defaultWidth+"px",lineSpacing:1.2,lineHeightRelatedToSentence:1.2,textBottomAlignPercent:7,textLeftAlignPercent:5,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgb(0,0,0)",keywordColor:"rgb(246,193,67)",bgAnimation:"pan-up",textAnimation:"expand-out",textAnimationSpeed:2.5,textBgAnimation:"expand-out",textBgAnimationSpeed:2.5,preset:"bottom-left"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["To understand and be understood are the life’s greatest gifts. Every interaction is an opportunity to exchange them"],keywords:["life’s greatest gifts","opportunity"],bgImage:O};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);D.className="theme-animation6",D.themeName="Animation6";var U=D,L=n.p+"static/media/Artist.9a5777ad9b38f10e41cb.jpg",F=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,b.Z)((0,j.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),scale:1.2,duration:e,easing:"linear",complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,y.Z)((0,j.Z)(n.prototype),"strokeLineAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(".head-strokeline"),backgroundSize:"0% 100%",translateX:150,duration:500*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onStrokeComplete",this).bind(this)}),this,!0),(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelectorAll(".sentences p span"),translateX:150,opacity:0,delay:k.Z.stagger(1e3*n.getStyles().textStagger,{direction:"reverse"}),duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}},{key:"reset",value:function(){(0,b.Z)((0,j.Z)(n.prototype),"reset",this).call(this)}}],[{key:"getStyles",value:function(){var e={fontName:"'Poppins'",fontWeight:"Bold",fontSize:32,width:.45*ee.defaultWidth+"px",textRightAlign:!0,lineSpacing:1,lineHeightRelatedToSentence:1.3,textRightAlignPercent:10,fontColor:"rgb(255, 255, 255)",textBackgroundColor:"",keywordColor:"rgb(116,250,199)",strokeLine:!0,strokeColor:"rgb(255,255,255)",strokeWidth:.1575*ee.defaultWidth,strokeAnimation:"slide-in-right",strokeAnimationSpeed:1,bgAnimation:"zoom-in",textAnimation:"slide-in-right",textAnimationSpeed:.75,textStagger:.4,textBgAnimation:"slide-in-right",textBgStagger:.4,preset:"center-right"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Every child is an artist, the problem is staying an artist when you grow up."],keywords:["staying an artist"],bgImage:L};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);F.className="theme-focus",F.themeName="FocusAnimation";var V=F,B=n.p+"static/media/HappyLife.7f6f14915a2cbfeb43b9.jpg",M=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;"Outro Scene"===r?((0,b.Z)((0,j.Z)(n.prototype),"animateOutroSentences",this).call(this),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),duration:e,complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),s&&s()}}),this,!0)):(this.animateSentences(),(0,y.Z)((0,j.Z)(n.prototype),"backgroundAnimation",(0,k.Z)({targets:this.animationContainer.querySelector(v.Z.IMAGE_CSS_SELECTOR)||this.animationContainer.querySelector(v.Z.VIDEO_CSS_SELECTOR),scale:1.2,duration:e,easing:"linear",complete:function(){(0,b.Z)((0,j.Z)(n.prototype),"onBackgroundComplete",t).call(t),t.reset(),s&&s()}}),this,!0))}},{key:"animateSentences",value:function(){(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelectorAll("p"),translateX:"-125%",delay:k.Z.stagger(1e3*n.getStyles().textBgStagger,{direction:"reverse"}),duration:1e3*n.getStyles().textBgAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0),(0,y.Z)((0,j.Z)(n.prototype),"sentenceAnimation",(0,k.Z)({begin:function(){this.animatables&&this.animatables[0]&&this.animatables[0].target&&this.animatables[0].target.classList&&this.animatables[0].target.classList.contains("sentences")&&(this.animatables[0].target.style.visibility="visible")},targets:this.animationContainer.querySelectorAll("p span"),translateX:-75,delay:k.Z.stagger(1e3*n.getStyles().textStagger,{direction:"reverse"}),duration:1e3*n.getStyles().textAnimationSpeed,easing:"easeInCubic",direction:"reverse",complete:(0,b.Z)((0,j.Z)(n.prototype),"onSentenceComplete",this).bind(this)}),this,!0)}},{key:"reset",value:function(){(0,b.Z)((0,j.Z)(n.prototype),"reset",this).call(this)}},{key:"resetSentences",value:function(){this.animationContainer.querySelector(".head-strokeline").removeAttribute("style"),this.animationContainer.querySelectorAll(".sentences, .sentences *").forEach((function(e){e.removeAttribute("style")}))}}],[{key:"getStyles",value:function(){var e={fontName:"'Montserrat'",fontWeight:"Bold",fontSize:32,width:.45*ee.defaultWidth+"px",lineSpacing:1.4,lineHeightRelatedToSentence:1.6,textLeftAlignPercent:10,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(0, 0, 0, 0.8)",keywordColor:"rgb(250,105,111)",bgAnimation:"zoom-in",textAnimation:"slide-in-left",textAnimationSpeed:1.2,textStagger:.4,textBgAnimation:"slide-in-left",textBgAnimationSpeed:1,textBgStagger:.4,preset:"center-left"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["If you want to live a happy life, tie it to a goal, not to people or things."],keywords:["happy life","goal"],bgImage:B};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);M.className="theme-pop",M.themeName="PopAnimation";var G=M,W=n(72973),z=n.p+"static/media/texture2.0a14b7a8bcf3d86208e5.png",J=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){}},{key:"animateSentences",value:function(){}},{key:"reset",value:function(){}},{key:"resetSentences",value:function(){}}],[{key:"getStyles",value:function(){var e={fontName:"Helvetica",fontWeight:"Regular",fontSize:26,fontSizeInPerc:.05,width:.7*ee.defaultWidth+"px",textBottomAlign:!0,textHCenterAlign:!0,textRightAlign:!1,lineSpacing:1,lineHeightRelatedToSentence:1.7,textBottomAlignPercent:7,textLeftAlignPercent:15,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(0,0,0,0.6)",keywordColor:"rgb(255,242,204)",bgAnimation:"",textAnimation:"",textAnimationSpeed:1,textBgAnimation:"",textBgAnimationSpeed:1,preset:"bottom-center"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Subtitles with tinted background"],keywords:["Subtitles"],bgImage:z};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);J.className="theme-subtitle2",J.themeName="SubtitleTheme2";var H=J,K=n.p+"static/media/texture1.e832d7851bd45b0ddb05.png",q=function(e){(0,w.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,i.Z)(n,[{key:"animate",value:function(e){}},{key:"animateSentences",value:function(){}},{key:"reset",value:function(){}},{key:"resetSentences",value:function(){}}],[{key:"getStyles",value:function(){var e={fontName:"Helvetica",fontWeight:"Regular",fontSize:26,fontSizeInPerc:.05,width:.7*ee.defaultWidth+"px",textBottomAlign:!0,textHCenterAlign:!0,textRightAlign:!1,lineSpacing:1,lineHeightRelatedToSentence:1.4,textBottomAlignPercent:7,textLeftAlignPercent:15,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(0,0,0,0)",keywordColor:"rgb(255,242,204)",bgAnimation:"",textAnimation:"",textAnimationSpeed:1,textBgAnimation:"",textBgAnimationSpeed:1,preset:"bottom-center"};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Subtitles with no background"],keywords:["Subtitles"],bgImage:K};return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,j.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(v.Z);q.className="theme-subtitle3",q.themeName="SubtitleTheme3";var Y=q,Q=n(12522),X=n(46417),$=function(){function e(t){(0,a.Z)(this,e),this.animationContainer=t,this.computedAttributes=window.getComputedStyle(t),this.height=this.computedAttributes.height,this.width=this.computedAttributes.width}return(0,i.Z)(e,[{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"getHighlightedLines",value:function(t,n){var r=e.highlightKeywords(t,n);return this.getLines(r)}},{key:"getLines",value:function(t){var n=window.getComputedStyle(this.animationContainer.querySelector(".sentences")),r={fontFamily:n.fontName,fontSize:n.fontSize,width:n.width};return e.calculateLines(t,r)}}],[{key:"defaultWidth",get:function(){return parseInt(f.Z.getItem("aspectRatio")||e.standardWidth)}},{key:"defaultHeight",get:function(){return 720}},{key:"defaultTopPadding",get:function(){return.07}},{key:"calculateDefaultWidth",value:function(e,t){return t=t||720,e?Math.round(t*e):t}},{key:"isDragToUploadSupported",value:function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}},{key:"keywordSearch",value:function(t,n){try{var r=!1;return n&&n.matchAll&&(0,s.Z)(n.matchAll(/[^\w\ ]/g)).filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(e){n=n.replace("/"+e+"/g","\\"+e),r=!0})),r?e.regexIndexOf(new RegExp("(\\b)?"+e.escapeSpecialRegexChar(n)+"(\\b)?"),t):e.regexIndexOf(new RegExp("\\b"+e.escapeSpecialRegexChar(n)+"\\b"),t)}catch(e){console.log("Keyword search error in keyword: ",n)}}},{key:"escapeSpecialRegexChar",value:function(e){return e&&""!=e?(["$","@","*","(",")","^","?","/","\\",",","&","{","}",";","[","]","'",'"',"+","."].forEach((function(t){e.indexOf(t)>-1&&(e=e.split(t).join("\\"+t))})),e.split("\\\\").join("\\")):""}},{key:"regexIndexOf",value:function(e,t,n){var r=t.substring(n||0).search(e);return r>=0?r+(n||0):r}},{key:"scaleLengthByContainer",value:function(t,n){t=parseFloat(t);var r=parseFloat(window.getComputedStyle(n).height);return Math.round(t*(e.defaultHeight/r))}},{key:"unscaleLengthByContainerHeight",value:function(t,n){return t*(n/e.defaultHeight)}},{key:"convertPxToPt",value:function(e){return Math.round(.75*e)}},{key:"convertPttoPx",value:function(e){return 1.33*e}},{key:"highlightKeywords",value:function(t,n){return Array.isArray(t)&&(t=t.join("\n")),t=e.sanatizeString(t),n.forEach((function(n){if(n&&null!=n&&null!=n){n=e.sanatizeString(n);var r=e.keywordSearch(t,n,!0),s=n.length;if(r>-1){var a=t.substring(0,r)+"<strong>"+t.substring(r,r+s)+"</strong>"+t.substring(r+s);a.match(/<strong|<\/strong/g).some((function(e,t,n){return n[t-1]&&n[t-1]===e}))||(t=a)}}})),t}},{key:"calculateLines",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={fontName:"'Montserrat', sans-serif",fontWeight:"Bold",fontSize:"24px",width:"360px"};if(n=(0,r.Z)((0,r.Z)({},a),n),!1===s){var i=document.getElementById("line-container");i&&i.remove()}var o=null,c=null,l=null,u=null;if(!0===s&&(o=document.getElementById("line-container-span"),c=document.getElementById("line-container-para"),l=document.getElementById("line-container"),u=document.getElementById("line-container-div")),!l){(o=document.createElement("span")).setAttribute("id","line-container-span"),o.style.width="100%",o.style.backgroundColor="grey",(c=document.createElement("p")).setAttribute("id","line-container-para"),c.style.fontSize=n.fontSize,c.style.width="100%";var p=n.fontName&&n.fontName.split(";");if(p&&p.length>=1)if(c.style.fontFamily=p[0].trim(),p[1]&&p[1].trim().startsWith("font-weight")){var m=p[1].trim().split(":")[1].trim();c.style.fontWeight=m}else c.style.fontWeight="normal";else c.style.fontFamily=n.fontName;l=document.createElement("div"),u=document.createElement("div"),l.setAttribute("id","line-container"),l.classList.add("text-container-parent"),l.classList.add("sentences"),l.style.width=n.fullWidth?"98%":n.width,u.setAttribute("id","line-container-div"),u.classList.add("animation-container"),u.style.zIndex=-1,u.style.position="absolute",u.style.bottom=0,u.style.height="100%",u.style.backgroundColor="transparent",u.style.overflowWrap="break-word",u.style.width=(n.parentElementWidth||e.defaultWidth)+"px",n.decoration&&(Array.isArray(n.decoration)?n.decoration.forEach((function(e){l.classList.add(e)})):l.classList.add(n.decoration)),n.case&&l.classList.add(n.case),document.getElementsByTagName("body")[0].appendChild(u),u.appendChild(l),l.appendChild(c),c.appendChild(o)}for(var f=o,v=[],x=t.split(/<br>|<\/br>|<br\/>|\n/g).join(" <br>").split(" "),S=0;S<x.length;S++)x[S]=(0,g.VA)(x[S],"-","&#8209;"),x[S]=(0,g.VA)(x[S],"—","&#8211;");for(var y=0,b=0,j=(n.lineHeight||h.BA,parseFloat(n.fontSize),0);j<x.length;j++)if(f.innerHTML=f.innerHTML+" "+e.sanatizeString(x[j],!0),0===y&&(y=f.offsetHeight),f.offsetHeight-y>5||"<br>"===x[j].trim()){var w=d().cloneDeep(f.innerHTML);if(f.innerHTML=f.innerHTML+"<br>",Math.abs(f.offsetHeight-y)<5){f.innerHTML=w;continue}f.innerHTML=w,y=f.offsetHeight;var Z=x.slice(b,j).join(" ");Z=(0,g.VA)(Z,"<br>",""),Z=(0,g.VA)(Z,"&#8209;","-"),Z=(0,g.VA)(Z,"&#8211;","—"),v.push(Z),b=j}var k=x.slice(b,x.length).join(" ");return k&&"<br>"!==k&&(k=(0,g.VA)(k,"<br>",""),k=(0,g.VA)(k,"&#8209;","-"),k=(0,g.VA)(k,"&#8211;","—"),v.push(k)),!1===s?(o.remove(),c.remove(),l.remove(),u.remove()):f.innerHTML="",v}},{key:"cleanUpLineContainers",value:function(){var e=document.getElementById("line-container");e&&e.remove()}},{key:"calculateHighlightedLines",value:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.Z,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=(0,r.Z)((0,r.Z)({},s.getStyles()),a);return o.fontFamily=o.fontName,e.calculateLines(t,o,i)}},{key:"HtmlToText",value:function(e){return(e||"").replace(/(<([^>]+)>)/gi,"")}},{key:"removeBrTag",value:function(e){return(e||"").replace(/<br[^>]*>/g,"")}},{key:"getIntroStyles",value:function(){var e={};return"true"===f.Z.getItem("showIntroStyle")&&(e={bgColor:f.Z.getItem("sceneIntroTextBgColor")},"false"!==f.Z.getItem("introLogo")&&(e.logo="")),e}},{key:"getSceneStyles",value:function(){var e={};return"true"===f.Z.getItem("showSceneStyle")&&(e={bgColor:f.Z.getItem("sceneTextBackroundColor")}),e}},{key:"getOutroStyles",value:function(){var e={};return"true"===f.Z.getItem("showOutroScene")&&(e={bgColor:f.Z.getItem("sceneTextBackroundColor")}),e}},{key:"getOffset",value:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=0,a=0,i=parseFloat(window.getComputedStyle(t).width),o=parseFloat(window.getComputedStyle(t).height),c=t.querySelectorAll("span.content-line").length,l=null;if(c>0){var u=t.querySelector("span.content-line");u&&(l=parseFloat(window.getComputedStyle(u).height))}for(;t!=n&&t;){var d=window.getComputedStyle(t).transform;if("none"!=d){var p=d.replace(/[^\d,-\.]/g,"").split(",").map(parseFloat);s+=p[4],a+=p[5]}s+=t.offsetLeft-t.scrollLeft+t.clientLeft,a+=(t.offsetTop>=1?t.offsetTop-1:0)-t.scrollTop+t.clientTop,t=t.offsetParent}return r?{x:e.scaleLengthByContainer(s,n),end_x:e.scaleLengthByContainer(s+i,n),y:e.scaleLengthByContainer(a,n),end_y:e.scaleLengthByContainer(a+o,n),height:e.scaleLengthByContainer(o,n),width:e.scaleLengthByContainer(i,n),lineCounts:c,lineHeight:e.scaleLengthByContainer(l,n)}:{x:s,end_x:s+i,y:a,end_y:a+o,height:o,width:i,lineCounts:c,lineHeight:l}}},{key:"secondsToMinutesRepresentation",value:function(e){return Math.floor(e/60)+":"+((e%=60)<10?"0"+e:e)}},{key:"secondsToMinutesRepresentationHuman",value:function(e,t){var n="";return(e=Math.round(e))<60?(n=e+"s",t&&(n=e<10?"00 : 0"+e:"00 : "+e)):(n=Math.floor(e/60)+"m "+e%60+"s",t&&(n=e%60<10?Math.floor(e/60)+" : 0"+e%60:Math.floor(e/60)+" : "+e%60)),n}},{key:"secondsToMinutesRepresentationHuman2",value:function(e,t){var n="";return(e=Math.round(e))<60?(n=e+" sec",t&&(n=e<10?"00 : 0"+e:"00 : "+e)):(n=Math.floor(e/60)+" min "+e%60+" sec",t&&(n=e%60<10?Math.floor(e/60)+" : 0"+e%60:Math.floor(e/60)+" : "+e%60)),n}},{key:"arrangeByLines",value:function(t,n){var r="",s=!1,a="<p"+(n?" style='"+n+"'":"")+"><span class='content-line'>",i="</span></p>";return t.forEach((function(t){var n=((t=e.sanatizeString(t,!0)).match(/<strong>/g)||[]).length,o=(t.match(/<\/strong>/g)||[]).length;n===o&&n>0&&t.indexOf("</strong>")<t.indexOf("<strong>")||n===o&&0===n&&s?r+=a+"<strong>"+t+"</strong>"+i:n===o?r+=a+t+i:n>o?(r+=a+t+"</strong>"+i,s=!0):n<o&&(r+=a+"<strong>"+t+i,s=!1)})),r}}]),e}();$.reservedTagNames=["searchresult","searchresultmain"],$.defaultFontSize=24,$.standardWidth=1280,$.PICTORY_BRANDING_VIDEO_16_9=m.Z.Instance.GetStaticFile("outro.mp4","brand"),$.PICTORY_BRANDING_VIDEO_9_16=m.Z.Instance.GetStaticFile("outro9-16.mp4","brand"),$.PICTORY_BRANDING_VIDEO_1_1=m.Z.Instance.GetStaticFile("outro1-1.mp4","brand"),$.getThemeByName=function(e){var t=x.Z;switch(e){case"Animation1":case"theme-animation1":default:t=x.Z;break;case"SubtitleTheme1":case"theme-subtitle1":t=W.Z;break;case"SubtitleTheme2":case"theme-subtitle2":t=H;break;case"SubtitleTheme3":case"theme-subtitle3":t=Y;break;case"TitleTheme1":case"theme-title1":t=Q.Z;break;case"Animation2":case"theme-animation2":t=S.Z;break;case"Animation3":case"theme-animation3":t=T;break;case"Animation4":case"theme-animation4":t=_;break;case"Animation5":case"theme-animation5":t=N;break;case"Animation6":case"theme-animation6":t=U;break;case"FocusAnimation":case"theme-focus":t=V;break;case"PopAnimation":case"theme-pop":t=G}return t},$.sanatizeString=function(e,t,n){var r=$.reservedTagNames;if(t){e=c().decode(e),e=c().escape(e),e=(0,g.VA)(e,"&lt;strong&gt;",n?"":"<strong>"),e=(0,g.VA)(e,"&lt;/strong&gt;",n?"":"</strong>"),e=(0,g.VA)(e,"&lt;br&gt;","<br>"),e=(0,g.VA)(e,"&lt;/br&gt;","</br>"),e=(0,g.VA)(e,"&lt;br/&gt;","<br>"),e=(0,g.VA)(e,"\n","<br>");for(var s=0;s<(r&&r.length);s++){var a=r[s];e=(0,g.VA)(e,"&lt;"+a+"&gt;","<"+a+">"),e=(0,g.VA)(e,"&lt;/"+a+"&gt;","</"+a+">")}return e}e=c().decode(e);var i={replace:function(e){var t;if("text"!==e.type&&"br"!=e.name)return"strong"===e.name||"background-color: rgba(255, 255, 255, 0.1);"===(null===(t=e.attribs)||void 0===t?void 0:t.style)?(0,X.jsx)("strong",{children:(0,l.du)(e.children,i)}):e.children?(0,X.jsx)(X.Fragment,{children:(0,l.du)(e.children,i)}):void 0}},o=(0,l.ZP)(e,i);e=p.renderToStaticMarkup(o),"<br>"!==(e=(0,g.VA)(e,"\n","<br>"))&&"<br/>"!==e||(e="");for(var u=0;u<(r&&r.length);u++){var d=r[u];e=(0,g.VA)(e,"<"+d+">",""),e=(0,g.VA)(e,"</"+d+">","")}return e=n?(0,g.VA)(e,"<strong>",""):e,n?(0,g.VA)(e,"</strong>",""):e},$.getFontSpecificLineHeightCSS=function(e){return["Noto Sans","Open Sans","Poppins"].some((function(t){return(null==e?void 0:e.indexOf(t))>-1}))?"line-height: 1.7 !important;":""};var ee=$},72973:function(e,t,n){"use strict";var r=n(1413),s=n(15671),a=n(43144),i=n(88301),o=n(61120),c=n(60136),l=n(29388),u=n(43778),d=n(62279),p=n(10770),h=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,a.Z)(n,[{key:"animate",value:function(e){}},{key:"animateSentences",value:function(){}},{key:"reset",value:function(){}},{key:"resetSentences",value:function(){}}],[{key:"getStyles",value:function(){var e={fontName:"Lato",fontWeight:void 0,fontSize:24,fontSizeInPerc:.05,width:.7*p.Z.defaultWidth+"px",textBottomAlign:!0,textHCenterAlign:!0,textRightAlign:!1,lineSpacing:1,lineHeightRelatedToSentence:1.7,textBottomAlignPercent:7,textLeftAlignPercent:15,fontColor:"rgb(255,255,255)",textBackgroundColor:"rgba(0,0,0,1)",keywordColor:"rgb(255,242,204)",bgAnimation:"",textAnimation:"",textAnimationSpeed:1,textBgAnimation:"",textBgAnimationSpeed:1,preset:"bottom-center"};return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Subtitles with background"],keywords:["Subtitles"],bgImage:u};return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(d.Z);h.className="theme-subtitle1",h.themeName="SubtitleTheme1",t.Z=h},12522:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(1413),s=n(15671),a=n(43144),i=n(88301),o=n(61120),c=n(60136),l=n(29388),u=n.p+"static/media/texture4.23f9375bcb26a4b0a1cb.jpg",d=n(62279),p=n(10770),h=n(43778),m=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,a.Z)(n,[{key:"animate",value:function(e){}},{key:"animateSentences",value:function(){}},{key:"reset",value:function(){}},{key:"resetSentences",value:function(){}}],[{key:"getStyles",value:function(){var e={fontName:"Helvetica",fontWeight:"Regular",fontSize:26,fontSizeInPerc:.05,width:.9*p.Z.defaultWidth+"px",textBottomAlign:!0,textHCenterAlign:!0,textRightAlign:!1,lineSpacing:1,lineHeightRelatedToSentence:1.2,textBottomAlignPercent:0,textLeftAlignPercent:15,fontColor:"rgba(255,255,255, 1)",textBackgroundColor:"",backcolorFullwidth:"rgba(179, 44, 78, 0.7)",keywordColor:"rgb(255,242,204)",bgAnimation:"",textAnimation:"",textAnimationSpeed:1,textBgAnimation:"",textBgAnimationSpeed:1,preset:"bottom-center"};return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n),"getStyles",this).call(this)),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Subtitles with full-width background"],keywords:["Subtitles"],bgImage:h};return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(d.Z);m.className="theme-subtitle4",m.themeName="SubtitleTheme4";var g=m,f=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).animationContainer=e,r}return(0,a.Z)(n,[{key:"animate",value:function(e){}},{key:"animateSentences",value:function(){}},{key:"reset",value:function(){}},{key:"resetSentences",value:function(){}}],[{key:"getStyles",value:function(){var e={headline:{fontName:"Helvetica",fontWeight:"Regular",fontSize:36,width:.9*p.Z.defaultWidth+"px",textTopAlign:!0,textHCenterAlign:!0,lineSpacing:1,lineHeightRelatedToSentence:1.2,textTopAlignPercent:2,fontColor:"rgba(255,255,255, 1)",textBackgroundColor:"",backcolorFullwidth:"rgba(179, 44, 78, 0.7)",preset:"top-center"}};return(0,r.Z)((0,r.Z)({},g.getStyles()),e)}},{key:"getSampleTemplate",value:function(){var e={sentences:["Subtitles with full-width background"],keywords:[""],bgImage:u};return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n),"getSampleTemplate",this).call(this)),e)}}]),n}(d.Z);f.className="theme-title1",f.themeName="TitleTheme1";var v=f},69473:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(74165),s=n(1413),a=n(15861),i=n(43144),o=n(15671),c=n(31881),l=n.n(c),u=n(55235),d=n(89956),p=n(90794),h=n(7861),m=function(e,t){if("string"!=typeof e||!e)throw new Error("Invalid token provided");var n=!1,r=(0,h.Z)(e).exp;return(new Date).getTime()/1e3+(t||0)>r&&(n=!0),n},g=420,f=(0,i.Z)((function e(){var t=this;(0,o.Z)(this,e),this.axiosInstance=l().create(),this.axiosInstance.defaults.raxConfig={instance:this.axiosInstance,retry:10,noResponseRetries:5,httpMethodsToRetry:["GET","HEAD","OPTIONS","DELETE","PUT","POST"],statusCodesToRetry:[[100,199],[500,599]],onRetryAttempt:function(e){u.iE(e)}},this.interceptorId=u.ub(this.axiosInstance),this.head=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,i,o,c,l,u,h,f=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]?f[1]:{},i=f.length>2?f[2]:void 0,o=f.length>3&&void 0!==f[3]?f[3]:{},c=null,!(l=p.Z.getItem("IdTokenJwtToken"))||m(l,g)){e.next=9;break}c=l,e.next=15;break;case 9:return e.next=11,(0,d.d)();case 11:u=e.sent,h=u.session,c=h.getIdToken().getJwtToken(),p.Z.setItem("IdTokenJwtToken",c);case 15:return e.abrupt("return",t.axiosInstance.head(n,(0,s.Z)({headers:(0,s.Z)({Authorization:c,"Content-Type":"application/json"},a),cancelToken:i},o)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.get=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,i,o,c,l,u,h,f=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]?f[1]:{},i=f.length>2?f[2]:void 0,o=f.length>3&&void 0!==f[3]?f[3]:{},c=null,!(l=p.Z.getItem("IdTokenJwtToken"))||m(l,g)){e.next=9;break}c=l,e.next=15;break;case 9:return e.next=11,(0,d.d)();case 11:u=e.sent,h=u.session,c=h.getIdToken().getJwtToken(),p.Z.setItem("IdTokenJwtToken",c);case 15:return e.abrupt("return",t.axiosInstance.get(n,(0,s.Z)({headers:(0,s.Z)({Authorization:c,"Content-Type":"application/json"},a),cancelToken:i},o)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.post=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var i,o,c,l,u,h,f,v=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:{},o=v.length>3?v[3]:void 0,c=v.length>4&&void 0!==v[4]?v[4]:{},l=null,!(u=p.Z.getItem("IdTokenJwtToken"))||m(u,g)){e.next=9;break}l=u,e.next=15;break;case 9:return e.next=11,(0,d.d)();case 11:h=e.sent,f=h.session,l=f.getIdToken().getJwtToken(),p.Z.setItem("IdTokenJwtToken",l);case 15:return e.abrupt("return",t.axiosInstance.post(n,a,(0,s.Z)({headers:(0,s.Z)({Authorization:l,"Content-Type":"application/json"},i),cancelToken:o},c)));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.put=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var i,o,c,l,u,h,f=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=f.length>2&&void 0!==f[2]?f[2]:{},o=f.length>3&&void 0!==f[3]?f[3]:{},c=null,!(l=p.Z.getItem("IdTokenJwtToken"))||m(l,g)){e.next=8;break}c=l,e.next=14;break;case 8:return e.next=10,(0,d.d)();case 10:u=e.sent,h=u.session,c=h.getIdToken().getJwtToken(),p.Z.setItem("IdTokenJwtToken",c);case 14:return e.abrupt("return",t.axiosInstance.put(n,a,(0,s.Z)({headers:(0,s.Z)({Authorization:c,"Content-Type":"application/json"},i)},o)));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.delete=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,i,o,c,l,u,h=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>1&&void 0!==h[1]?h[1]:{},i=h.length>2&&void 0!==h[2]?h[2]:{},o=null,!(c=p.Z.getItem("IdTokenJwtToken"))||m(c,g)){e.next=8;break}o=c,e.next=14;break;case 8:return e.next=10,(0,d.d)();case 10:l=e.sent,u=l.session,o=u.getIdToken().getJwtToken(),p.Z.setItem("IdTokenJwtToken",o);case 14:return e.abrupt("return",t.axiosInstance.delete(n,(0,s.Z)({headers:(0,s.Z)({Authorization:o,"Content-Type":"application/json"},a)},i)));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),v=new f},42599:function(e,t,n){"use strict";var r=n(43144),s=n(15671),a=(0,r.Z)((function e(){(0,s.Z)(this,e),this.APIBaseURL="https://api.pictory.ai/",this.videoPostsURL=this.APIBaseURL+"video-posts/api/v1",this.summaryAPIv2=this.APIBaseURL+"summarizer/api/v1/summarize",this.transcribeSummary=this.APIBaseURL+"summarizer/api/v1/transcription/summarize",this.transcribe=this.APIBaseURL+"transcribe/api/v1",this.transcribeV5=this.APIBaseURL+"transcribe/api/v5",this.downloadMedia=this.APIBaseURL+"video-downloader/api/v1",this.createVideoAPIv4=this.APIBaseURL+"video-generation/api/v1/video",this.createTeamVideoAPIv4=this.APIBaseURL+"video-generation/api/v1/teams/{0}/video",this.renderService=this.APIBaseURL+"render-service/api/v1/video",this.sharePreview=this.APIBaseURL+"video-generation/api/v1/preview",this.generateCSV=this.APIBaseURL+"video-generation/api/v1/videoperscene",this.googleAPIAuth=this.APIBaseURL+"uploader/api/v1/auth",this.uploadVideoYoutube=this.APIBaseURL+"uploader/api/v1/upload",this.getVoiceOverTrackURLv1=this.APIBaseURL+"audio/api/v1/voice-over",this.getVoiceOverTrackURLv2=this.APIBaseURL+"audio/api/v2/voice-over",this.getVoiceOverTrackURLv3=this.APIBaseURL+"audio/api/v3/voice-over",this.getVoiceOverTrackURLv3Teams=this.APIBaseURL+"audio/api/v3/teams/{0}/voice-over",this.getImageAPINew=this.APIBaseURL+"asset-search/api/v2/images/",this.getVideosAPINew=this.APIBaseURL+"asset-search/api/v2/videos/",this.searchAllAssets=this.APIBaseURL+"asset-search/api/v4/assets/search",this.searchAllAssetsTeams=this.APIBaseURL+"asset-search/api/v4/teams/{0}/assets/search",this.searchAssets=this.APIBaseURL+"asset-search/api/v4/resource/search",this.searchAssetsTeams=this.APIBaseURL+"asset-search/api/v4/teams/{0}/resource/search",this.keywordsSuggestion=this.APIBaseURL+"asset-search/api/v2/keywords/suggestion",this.searchAllCategories=this.APIBaseURL+"asset-search/api/v2/assets/categories",this.searchSimilarAssets=this.APIBaseURL+"asset-search/api/v4/assets/similar/search",this.searchSimilarAssetsTeams=this.APIBaseURL+"asset-search/api/v4/teams/{0}/assets/similar/search",this.searchAudioTracks=this.APIBaseURL+"asset-search/api/v1/audios/premium/search",this.autoDetectedLanguage=this.APIBaseURL+"asset-search/api/v2/language/detect",this.premiumSearchEndpoint="premium/search",this.standardSearchEndpoint="standard/search",this.userManagementURL=this.APIBaseURL+"customer-management/api/v1",this.userManagementURLV2=this.APIBaseURL+"customer-management/api/v2",this.subscriptionBaseURL=this.userManagementURL+"/customers/subscriptions",this.subscriptionBaseURLV2=this.userManagementURLV2+"/customers/subscriptions",this.teamSubscriptionBaseURL=this.userManagementURL+"/teams/{0}/subscriptions",this.teamSubscriptionBaseURLV2=this.userManagementURLV2+"/teams/{0}/subscriptions",this.customerBaseURL=this.userManagementURL+"/customers",this.customerBaseURLV2=this.userManagementURLV2+"/customers",this.planBaseURL=this.userManagementURL+"/subscriptions",this.planBaseURLV2=this.userManagementURLV2+"/subscriptions",this.teamPlanBaseURL=this.userManagementURL+"/teams/{0}/subscriptions",this.teamPlanBaseURLV2=this.userManagementURLV2+"/teams/{0}/subscriptions",this.tasksBaseURL=this.APIBaseURL+"tasks/api/v1",this.projectsBaseURL=this.APIBaseURL+"projects/api/v1",this.sharesBaseURL=this.APIBaseURL+"shares/api/v1",this.mediaResourcesURL="https://media-resources.pictorycontent.com/api/v1",this.searchSuggestionsBaseURL=this.APIBaseURL+"search-suggestions/api/v1",this.brandsettingsBaseURL=this.APIBaseURL+"brandsettings/api/v1",this.musicBaseUrl=this.APIBaseURL+"music/api/v1",this.visualsFavoritesBaseURL=this.APIBaseURL+"visuals-favorites/api/v2",this.imagesBaseURL=this.APIBaseURL+"images/api/v1",this.templatesBaseURL=this.APIBaseURL+"template-styles/api/v1",this.teamsBaseURL=this.APIBaseURL+"teams/api/v1",this.teamsBaseURLV2=this.APIBaseURL+"teams/api/v2",this.credentialsBaseURL=this.APIBaseURL+"credentials/api/v1",this.deploymentBaseURL=this.APIBaseURL+"deployment/api/v1",this.textToImageBaseURL=this.APIBaseURL+"texttoimage/api/v1",this.brandsBaseURL=this.APIBaseURL+"branding/api/v1",this.userPreferenceBaseUrl=this.APIBaseURL+"user-preference/api/v1",this.eoyVideoBaseUrl=this.APIBaseURL+"eoy1/v1/getVideo"}));t.Z=new a},66423:function(e,t,n){"use strict";n.d(t,{Jb:function(){return f},R3:function(){return S},TJ:function(){return v},Wi:function(){return x}});var r=n(93433),s=n(15671),a=n(43144),i=n(60136),o=n(29388),c=n(51443),l=n.n(c),u=n(76666),d=n.n(u),p=n(47313),h=n(91104),m=n(47439),g=n(46417),f="facebook-newsfeed-16-9",v="sixteen-nine",x=1.77777777778,S=[{icon:"/icons/aspect-ratios/16x9.png","icon-selected":"/icons/aspect-ratios/16x9-selected.png",label:"16:9 Landscape",description:"A standard video format for business presentations, promotions and webinars",value:"facebook-newsfeed-16-9",fractionValue:1.77777777778,class:"sixteen-nine",supported:["facebook","linkedin","youtube","instagram"],dropdownLabel:"Landscape",dropdownDescription:"YouTube, Vimeo",dropdownAspectRatio:"16:9",dropdownIconSrc:"../images/aspectratio-16-9.svg",dropdownIconSrcSelected:"../images/aspectratio-16-9-selected.svg"},{icon:"/icons/aspect-ratios/9x16.png","icon-selected":"/icons/aspect-ratios/9x16-selected.png",label:"9:16 Portrait",description:"Suitable for mobile viewing experience and short band promotions",value:"facebook-story-9-16",fractionValue:.5625,class:"nine-sixteen",supported:["facebook","twitter","linkedin"],dropdownLabel:"Portrait",dropdownDescription:"TikTok, Reels, Shorts",dropdownAspectRatio:"9:16",dropdownIconSrc:"../images/aspectratio-9-16.svg",dropdownIconSrcSelected:"../images/aspectratio-9-16-selected.svg"},{icon:"/icons/aspect-ratios/1x1.png","icon-selected":"/icons/aspect-ratios/1x1-selected.png",label:"1:1 Square",description:"A popular format for videos with less text and great visuals",value:"facebook-newsfeed-1-1",fractionValue:1,class:"one-one",supported:["facebook","linkedin","twitter","instagram"],dropdownLabel:"Square",dropdownDescription:"Instagram post",dropdownAspectRatio:"1:1",dropdownIconSrc:"../images/squareIcon.svg",dropdownIconSrcSelected:"../images/squareIcon-selected.svg"}],y=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).addNotFoundAspectRatio=function(e,t,n){t&&-1===r.state.aspectRatios.findIndex((function(e){return e.value===t}))&&e.push({icon:"/icons/aspect-ratios/source_aspect_ratio.png","icon-selected":"/icons/aspect-ratios/selected_source_aspect_ratio.png",label:"Original aspect ratio",description:"Original aspect ratio",value:t,fractionValue:n,class:t,supported:["facebook","linkedin","youtube","instagram"]})},r.handleChange=function(e){var t=(0,h.N$)(r.props.username)[m.R2.differentAspectRatios];"sixteen-nine"===e.class||t||!1===["nine-sixteen","one-one"].includes(e.class)?(r.setState({selectedRow:e,selectedOption:e.value}),r.props.isRedirectToArrangeVisuals?r.props.selectAspectRatioForVisuals(e.value,e.class,e.fractionValue):r.props.gotoCreateVideoStep3?r.props.gotoCreateVideoStep3(e.value,e.class,e.fractionValue):(l().getInstance().logEvent("format-updated",{format:e.class}),r.props.onChangeAspectRatio(e,!1,r.state.selectedOption))):r.showUpgradeModal()},r.showUpgradeModal=function(e){e&&e.stopPropagation(),(0,h.TX)("aspect-ratio-modal"),d()("#aspect-ratio-modal").modal("show")},r.hideUpgradeModal=function(e,t){e.stopPropagation(),d()(".modal").modal("hide"),t&&r.props.gotoPlansList()},r.hoverThis=function(e){if(!r.props.hoveringEnabled)return!1;r.setState({hoveringOption:e.value}),r.props.updateSupportedPlatforms(e.supported)},r.state={aspectRatios:[].concat(S),selectedOption:r.props.isMiddlePage?"":r.props.aspectRatioValue||f,hoveringOption:null},r.addNotFoundAspectRatio(r.state.aspectRatios,r.state.selectedOption,r.props.aspectRatioFractionValue),r}return(0,a.Z)(n,[{key:"componentWillReceiveProps",value:function(e){if(!e.isMiddlePage&&!this.props.isMiddlePage&&this.props.aspectRatioValue!=e.aspectRatioValue){var t=(0,r.Z)(this.state.aspectRatios);this.addNotFoundAspectRatio(t,e.aspectRatioValue,e.aspectRatioFractionValue),this.setState({aspectRatios:t,selectedOption:e.aspectRatioValue})}}},{key:"render",value:function(){var e=this;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"aspect-ratio-selections",children:[!1!==this.props.containerLabel&&(0,g.jsx)("h5",{className:"track-heading blue",children:"Change aspect ratio"}),(0,g.jsx)("div",{className:"aspect-rows-containers",children:this.state.aspectRatios.map((function(t,n){return(0,g.jsxs)("div",{className:["aspect-ratio-selection",e.state.selectedOption===t.value?"selected":"",e.state.hoveringOption&&e.state.hoveringOption===t.value?"selected":"",e.props.layout||"wide"].join(" "),onMouseOver:function(){return e.hoverThis(t)},onMouseOut:function(){return e.setState({hoveringOption:null})},onClick:function(){e.handleChange(t)},children:[(0,g.jsx)("div",{className:"radio-container",children:e.state.selectedOption===t.value||e.state.hoveringOption===t.value?(0,g.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}):(0,g.jsx)("i",{className:"fa fa-circle-thin","aria-hidden":"true"})}),(0,g.jsx)("img",{src:e.state.selectedOption===t.value||e.state.hoveringOption===t.value?t["icon-selected"]:t.icon,alt:t.label}),(0,g.jsx)("p",{className:"label",children:t.label}),(0,g.jsx)("p",{className:["label-description",e.props.hoveringEnabled?"":"hidden"].join(" "),children:t.description})]},"aspect-ratio-selection-"+n)}))})]},"aspect-ratio-selections-0"),(0,g.jsx)("div",{id:"aspect-ratio-modal",className:"upgrade-modal modal fade",role:"dialog",children:(0,g.jsx)("div",{className:"modal-dialog",children:(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsx)("div",{className:"modal-header",children:(0,g.jsxs)("h4",{className:"modal-title",children:["Upgrade to Professional!",(0,g.jsx)("span",{className:"close",onClick:this.hideUpgradeModal.bind(this),children:"×"})]})}),(0,g.jsxs)("div",{className:"modal-body",children:[(0,g.jsxs)("p",{children:["Create videos with different aspect ratio ",(0,g.jsx)("br",{}),"with a Professional plan"]}),(0,g.jsx)("div",{className:"button-container horizontal buttonsStep2head",children:(0,g.jsx)("a",{className:"btn btn--nexts2 btn-submit",onClick:function(t){return e.hideUpgradeModal(t,!0)},children:"See plans"})})]})]})})})]})}}]),n}(p.Component);t.ZP=y},98165:function(e,t,n){"use strict";n.d(t,{An:function(){return oa},C6:function(){return ca},gA:function(){return da},PA:function(){return pa},_F:function(){return la},ZP:function(){return Ca}});var r=n(37762),s=n(4942),a=n(1413),i=n(74165),o=n(93433),c=n(15861),l=n(15671),u=n(43144),d=n(97326),p=n(60136),h=n(29388),m=n(42669),g=n(24873),f=n(77449),v=n(605),x=n(62463),S=n(80699),y=n(51987),b=n(86315),j=n(51443),w=n.n(j),Z=(n(86508),n(78503)),k=n(40009),C=(n(17999),n(37770),n(44629),n(53792),n(52927)),I=n(77280),T=n(14108),E=n(28674),A=n(76666),_=n.n(A),R=(n(19469),n(62892)),P=n.n(R),N=n(16031),O=n.n(N),D=n(70816),U=n.n(D),L=n(47313),F=n(50049),V=(n(33538),n(92229),n(16390)),B=n(11018),M=n.n(B),G=n(92145),W=n(1084),z=n(10889),J=n(39254),H=n.n(J),K=n(69412),q=(n(89303),n(11043)),Y=n(18248),Q=n(90314),X=n.n(Q),$=n(95668),ee=n.n($),te=n(76290),ne=n(70494),re=n(10770),se=n(72973),ae=n(78896),ie=n(45987),oe=n(2517),ce=n(71235),le=n(28566),ue=n(46417),de=["value"];function pe(e){var t=e.value,n=(0,ie.Z)(e,de);return(0,ue.jsx)(le.Z,(0,a.Z)({variant:"determinate",value:t,color:"secondary",sx:{height:"8px",borderRadius:"8px",backgroundColor:"grey.100","& .MuiLinearProgress-bar":{backgroundColor:"secondary.light",borderRadius:"8px"}}},n))}n(64009);var he=n(88345),me=["id","open","videoGenerationProgress","enableRunInBackgroundButton","cancelGenerateVideo","runInBackgroundMode"];function ge(e){e.id;var t=e.open,n=e.videoGenerationProgress,r=e.enableRunInBackgroundButton,s=e.cancelGenerateVideo,i=e.runInBackgroundMode,o=(0,ie.Z)(e,me),c=1==n.step?n.progress||0:100,l=2==n.step?n.progress||0:n.step<2?0:100;return ue.Fragment,ue.Fragment,(0,ue.jsxs)(oe.Z,(0,a.Z)((0,a.Z)({open:t},o),{},{children:[(0,ue.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"18px 24px 8px 24px"},children:[(0,ue.jsx)(m.Z,{variant:"text_2xl",sx:{lineHeight:2,mb:"20px",color:"grey.900",display:"block",fontWeight:"700"},className:"mb-0",children:"Preparing your video for download"}),(0,ue.jsx)(v.Z,{variant:"text",color:"error",className:"mt-1",onClick:s,children:"Cancel download"})]}),(0,ue.jsxs)(ce.Z,{sx:{padding:"10px 24px 20px 24px"},children:[(0,ue.jsxs)(g.Z,{sx:{border:"2px solid",borderColor:"grey.100",color:"grey.900",borderRadius:"8px",p:2},children:[(0,ue.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[1==n.step&&(0,ue.jsxs)(m.Z,{gutterBottom:!0,sx:{display:"block"},className:"mb-3",children:[(0,ue.jsx)("b",{children:"Step 1"}),": ",n.message||"Preprocessing scenes..."]}),n.step>1&&(0,ue.jsxs)(m.Z,{gutterBottom:!0,sx:{display:"block"},className:"mb-3",children:[(0,ue.jsx)("b",{children:"Step 1"}),": Scenes created"]}),1==n.step&&(0,ue.jsxs)(m.Z,{gutterBottom:!0,sx:{display:"block",color:"secondary.light"},className:"mb-3",children:[c,"%"]}),n.step>1&&(0,ue.jsx)(he.Z,{color:"success",sx:{mb:2}})]}),(0,ue.jsx)(g.Z,{sx:{flexGrow:1},children:(0,ue.jsx)(pe,{value:c})})]}),(0,ue.jsxs)(g.Z,{sx:{border:"2px solid",borderColor:"grey.100",color:"grey.900",borderRadius:"8px",p:2},className:"mt-3",children:[(0,ue.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.step<2&&(0,ue.jsxs)(m.Z,{gutterBottom:!0,sx:{display:"block",color:"grey.300"},className:"mb-3",children:[(0,ue.jsx)(m.Z,{sx:{color:"grey.500"},component:"span",children:"Step 2"}),": Generate video"]}),n.step>=2&&(0,ue.jsxs)(m.Z,{gutterBottom:!0,sx:{display:"block"},className:"mb-3",children:[(0,ue.jsx)("b",{children:"Step 2"}),":"," ",(Array.isArray(n.message)?n.message[0]:n.message)||"Generating the video.",".."]}),2==n.step&&(0,ue.jsxs)(m.Z,{gutterBottom:!0,sx:{display:"block",color:"secondary.light"},className:"mb-3",children:[l,"%"]}),n.step>2&&(0,ue.jsx)(he.Z,{color:"success",sx:{mb:2}})]}),(0,ue.jsx)(g.Z,{sx:{flexGrow:1},children:(0,ue.jsx)(pe,{value:l})})]}),(0,ue.jsxs)(g.Z,{sx:{backgroundColor:"info.lighter",borderRadius:"4px",display:"flex"},className:"mt-3 p-3"+(r?"":" disabled"),children:[(0,ue.jsx)(m.Z,{gutterBottom:!0,className:"m-0",sx:{fontWeight:"100",fontSize:"text_sm"},children:"Click to run in background and we'll notify you when your video is ready."}),(0,ue.jsx)(v.Z,{variant:"outlined",color:"secondary",onClick:i,sx:{color:"grey.900",backgroundColor:"white",fontWeight:"100",fontSize:"text_sm",minWidth:"170px",ml:2,"&:hover":{backgroundColor:"white"}},children:"Run in background"})]})]})]}))}var fe=n(48268),ve=n(26972),xe=n(19259),Se=n(34207),ye=n(91104),be=n(90794),je=n(47439),we=n(89956),Ze=n(96161),ke=n(45610),Ce=n(3128),Ie=n(51577),Te=n(96530),Ee=n(29439),Ae=n(44906),_e=n(78061),Re=n(73078),Pe=n(91325),Ne=n(33357),Oe=n(17717),De=n(23072),Ue=["children","transitions","sceneTransition","onSelect"];function Le(e){e.children;var t=e.transitions,n=e.sceneTransition,r=e.onSelect,s=(0,ie.Z)(e,Ue);return(0,ue.jsx)(g.Z,(0,a.Z)((0,a.Z)({sx:{display:"grid",gridTemplateColumns:"50% 50%",columnGap:".5rem",rowGap:".5rem",padding:".5rem",paddingRight:"1rem"}},s),{},{children:t.filter((function(e){return"hblur"!==e.id})).map((function(e){return(0,ue.jsx)(g.Z,{onClick:function(){return null==r?void 0:r(e.id)},className:"transition-".concat(e.id),children:(0,ue.jsx)(g.Z,{className:n===e.id?"active":"",sx:{padding:"4px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"80px",cursor:n===e.id?"default":"pointer",backgroundColor:n===e.id?"primary.lighter":"","&:not(.active):hover":{backgroundColor:"grey.50"},"&:hover":{".scene-transition-grid-animation":{display:"block"},".scene-transition-grid-image":{display:"none"}}},children:(0,ue.jsxs)(g.Z,{sx:{textAlign:"center"},children:["none"==e.id&&(0,ue.jsx)(g.Z,{sx:{height:"34px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ue.jsx)(De.Z,{sx:{width:"20px",height:"20px",fill:_e.Z.primary.main}})}),"none"!=e.id&&(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(g.Z,{className:"scene-transition-grid-animation",sx:{display:"none",marginTop:"3px",borderRadius:"6px"},children:(0,ue.jsx)("img",{style:{width:"53px",height:"34px"},src:e.preview})}),(0,ue.jsx)(g.Z,{className:"scene-transition-grid-image",sx:{display:"block",marginTop:"3px",borderRadius:"6px"},children:(0,ue.jsx)("img",{style:{width:"53px",height:"34px"},src:e.poster})})]}),(0,ue.jsx)(m.Z,{variant:"text_xs",sx:{display:"block",marginTop:".75rem"},children:e.name})]})})},e.id)}))}))}var Fe=n(80201),Ve=["children","sx","disabled","onSelect","sceneTransition","onRemove","onRemoveAll","onApplyToAll"],Be="0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 20px 31px 3px rgba(0, 0, 0, 0.14), 0px 8px 38px 7px rgba(0, 0, 0, 0.12);",Me={color:_e.Z.grey[400],"&:hover":{color:_e.Z.primary.main},path:{fill:_e.Z.grey[400]},"&:hover path":{fill:_e.Z.primary.main},cursor:"pointer"},Ge={path:{fill:_e.Z.primary.main},cursor:"pointer"};function We(e){e.children;var t=e.sx,n=e.disabled,r=e.onSelect,s=e.sceneTransition,i=e.onRemove,o=e.onRemoveAll,c=e.onApplyToAll,l=(0,ie.Z)(e,Ve),u=L.useState(),d=(0,Ee.Z)(u,2),p=d[0],h=d[1],f=L.useState(!1),v=(0,Ee.Z)(f,2),y=v[0],b=v[1],j=L.useState(),w=(0,Ee.Z)(j,2),Z=w[0],k=w[1],C=L.useRef(),I=n,T=L.useCallback((function(e){!I&&s&&(k(e.currentTarget),C.current=e.currentTarget,b(!1))}),[I,s]),E=function(){setTimeout((function(){k(void 0),C.current=void 0}),20)},A=L.useCallback((function(){Z||p||b(!0)}),[]),_=L.useMemo((function(){return!!p}),[p]),R=_?"scene-transition-popover":void 0,P=_?"scene-transition-edit-popover":void 0;L.useEffect((function(){_&&setTimeout((function(){var e=document.getElementsByClassName("MuiBackdrop-root");if(null!=e&&e.length){var t=e[0];null==t||t.addEventListener("click",(function(e){e.stopPropagation(),h(void 0)}))}}),1)}),[_]);var N=L.useCallback((function(e){h(void 0),"none"===e?null==i||i():null==r||r(e)}),[]),O=L.useCallback((function(){k(void 0),C.current=void 0,null==c||c()}),[]),D=L.useCallback((function(){k(void 0),C.current=void 0,null==i||i()}),[]),U=L.useCallback((function(){k(void 0),C.current=void 0,null==o||o()}),[]),F=L.useCallback((function(){h(C.current),setTimeout((function(){k(void 0),C.current=void 0}),10)}),[]);return(0,ue.jsxs)(g.Z,(0,a.Z)((0,a.Z)({},l),{},{sx:(0,a.Z)({display:"flex",flex:1,alignItems:"center"},t),children:[(0,ue.jsx)(S.Z,{title:(0,ue.jsx)(g.Z,{sx:{display:"block",whiteSpace:"nowrap",textAlign:"center"},children:"linked"===I?(0,ue.jsx)("span",{children:"Cannot add transition as this is a linked scene"}):I?"Transition disabled":"Add transition"}),placement:"top",arrow:!0,open:y,onClose:function(){return b(!1)},onOpen:A,PopperProps:{disablePortal:!0,popperOptions:{positionFixed:!0,modifiers:{preventOverflow:{enabled:!0,boundariesElement:"window"}}}},children:(0,ue.jsx)(g.Z,{sx:{borderRadius:"100%",background:_e.Z.common.white,width:"28px",height:"28px",display:"flex",flex:1,alignItems:"center",justifyContent:"center",cursor:I?"not-allowed":"pointer",boxShadow:Be},onMouseOver:T,onClick:function(e){e.stopPropagation(),I||(h(e.currentTarget),b(!1))},children:(0,ue.jsx)(g.Z,{sx:(0,a.Z)((0,a.Z)({},s&&!I?Ge:null),{},{marginBottom:"2px"},I?Fe.C:null),children:(0,ue.jsx)(Re.Z,{style:{width:"20px",height:"20px"}})})})}),(0,ue.jsx)(Ae.ZP,{id:P,open:!!Z,anchorEl:Z,onClose:E,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},classes:{paper:"MuiPopover-paper-empty"},children:(0,ue.jsxs)(x.Z,{sx:{padding:"4px",borderRadius:"1000px",background:_e.Z.common.white,width:"28px",boxShadow:Be,position:"relative",top:"29px"},onMouseLeave:E,children:[(0,ue.jsx)(S.Z,{title:"Remove all transitions",placement:"right",arrow:!0,children:(0,ue.jsx)(g.Z,{sx:Me,onClick:U,children:(0,ue.jsx)("div",{className:"MuiSVGIcon-slash",children:(0,ue.jsx)(Pe.Z,{})})})}),(0,ue.jsx)(S.Z,{title:"Remove transition",placement:"right",arrow:!0,children:(0,ue.jsx)(g.Z,{sx:Me,onClick:D,children:(0,ue.jsx)("div",{className:"MuiSVGIcon-slash",children:(0,ue.jsx)(Re.Z,{})})})}),(0,ue.jsx)(S.Z,{title:"Apply to entire video",placement:"right",arrow:!0,children:(0,ue.jsx)(g.Z,{sx:Me,onClick:O,children:(0,ue.jsx)(Pe.Z,{})})}),(0,ue.jsx)(S.Z,{title:"Change transition",placement:"right",arrow:!0,children:(0,ue.jsx)(g.Z,{sx:Me,onClick:F,children:(0,ue.jsx)(Re.Z,{style:{width:"20px",height:"20px"}})})})]})}),(0,ue.jsx)(Ae.ZP,{id:R,open:!!p,anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},onClose:function(){h(void 0)},children:(0,ue.jsxs)(g.Z,{sx:{minWidth:"220px"},children:[(0,ue.jsx)(m.Z,{variant:"text_sm",sx:{color:"grey.400",padding:".5rem"},children:"Transitions"}),(0,ue.jsx)(g.Z,{sx:{maxHeight:"270px",overflow:"auto"},children:(0,ue.jsx)(Le,{sceneTransition:s,transitions:Oe,onSelect:N})}),(0,ue.jsx)(g.Z,{sx:{textAlign:"center"},children:(0,ue.jsx)(Ne.Z,{sx:{fill:_e.Z.grey[500]}})})]})})]}))}n(79155),n(61382),n(92297),n(76417);var ze=n(87074),Je=n(77406),He=n(91210),Ke=(n(63346),n(85508)),qe=n.n(Ke),Ye=(n(12522),n(66423)),Qe=n(92873),Xe=n(75772),$e=function(e){(0,p.Z)(s,e);var t,n,r=(0,h.Z)(s);function s(e){var t;return(0,l.Z)(this,s),(t=r.call(this,e)).onVideoSeeked=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.playSceneOnVideoSeeked){e.next=17;break}if(0!==t.currentSegmentIndex){e.next=11;break}if(!t.props.stopAndResumePreviewProgress){e.next=5;break}return e.next=5,t.props.stopAndResumePreviewProgress(!0);case 5:return t.props.playScene(!0),window.requestAnimationFrame(t.playVideoSegments),e.next=9,t.videoPlayer.play();case 9:e.next=17;break;case 11:if(!t.props.stopAndResumePreviewProgress){e.next=14;break}return e.next=14,t.props.stopAndResumePreviewProgress(!0);case 14:return e.next=16,t.playAnimations();case 16:window.requestAnimationFrame(t.playVideoSegments);case 17:case"end":return e.stop()}}),e)}))),t.playVideoSegments=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.videoPlayer){e.next=12;break}if(!(t.currentSegmentIndex<t.videoSegements.length-1)){e.next=12;break}if(!(t.videoPlayer.currentTime>=t.videoSegements[t.currentSegmentIndex].end)){e.next=11;break}if(!t.props.stopAndResumePreviewProgress){e.next=6;break}return e.next=6,t.props.stopAndResumePreviewProgress(!1);case 6:t.pauseAnimations(),t.currentSegmentIndex++,t.videoPlayer.currentTime=t.props.currentSubScene.settings.videoOptions.segments[t.currentSegmentIndex].start,e.next=12;break;case 11:window.requestAnimationFrame(t.playVideoSegments);case 12:case"end":return e.stop()}}),e)}))),t.play=function(e,t){var n=document.getElementById(t);n&&n.play()},t.stop=function(e,t){var n=document.getElementById(t);n&&n.pause()},t.getFontSizeForAspectRatio=function(e){return e*(0,ye.U$)(t.props.aspectRatioClass)},t.showToggleButton=function(){var e={fontSize:"20px",ml:1,mr:1,cursor:"pointer","&:hover":{color:"primary.main"}},n="Custom Intro Scene"===t.props.currentSubScene.showSceneNumber?"intro":"outro";return(0,ue.jsx)(g.Z,{sx:{display:"flex",justifyContent:"sixteen-nine"===t.props.aspectRatioClass?"flex-end":"center",position:"absolute",top:"-15px",width:"100%",left:"".concat("nine-sixteen"===t.props.aspectRatioClass?"10px":"auto")},children:t.props.settings&&t.props.settings.hideScene?(0,ue.jsx)(S.Z,{title:"Enable "+n,placement:"right-start",arrow:!0,children:(0,ue.jsx)(Je.Z,{className:"show-hide-toggle enable-scene",sx:e})}):(0,ue.jsx)(S.Z,{title:"Disable "+n,placement:"right-start",arrow:!0,children:(0,ue.jsx)(He.Z,{className:"show-hide-toggle",sx:e})})})},t.renderDisplayItemText=function(e){if(e){var n=t.props.CurrentSceneId+"_"+e.id,r=e.itemStyleData,s="text-align-"+(r.textAlign||"left"),i=Array.isArray(r.decoration)?r.decoration.join(" "):r.decoration,o=(0,a.Z)((0,a.Z)((0,a.Z)({fontSize:t.state.sizingRatio*t.getFontSizeForAspectRatio(re.Z.convertPttoPx(r.fontSize)),color:r.fontColor},r.leftCoordinate?{left:r.leftCoordinate}:{}),r.topCoordinate?{top:r.topCoordinate}:{}),{},{width:r.paragraphWidth||"100%"}),c=Ca.getFrontFontName(null==r?void 0:r.fontName),l="#".concat(n,".sentences p {font-family: ").concat(c,"; }");r.keywordColor&&(l+="#".concat(n,".sentences strong {color: ").concat(r.keywordColor,";}")),r.fullWidth?l+=(0,Xe.v2)(n,r.textBackgroundColor,r.textAlign,!1,t.state.sizingRatio):l+="#".concat(n,".sentences p span {background-color: ").concat(r.textBackgroundColor," }");var u=["sentences",r.leftCoordinate&&r.topCoordinate?"have-custom-coordinates":"",i||"",r.case||"",s,r.fullWidth?"full-width-style":"",(r.fullWidth?"":"position-preset ")+(r.preset||"")].join(" "),d=r.textShadowWidthFr?{textShadow:"0 0 "+r.textShadowWidthFr*r.fontSize+"px "+r.textShadowColor}:{},p=(0,a.Z)((0,a.Z)((0,a.Z)({display:"block"},d),o),{},{wordWrap:"break-word"});return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("style",{children:l}),(0,ue.jsx)("div",{id:n,className:u,style:p,children:(0,ue.jsx)(Qe.w,{htmlText:e.textHtml,contentEditable:!1})})]})}},t.renderDisplayItemVisual=function(e){var n,r,s,i;if(e){var o=e.itemStyleData,c=t.props.CurrentSceneId+"_"+e.id,l=["sentences",o.leftCoordinate&&o.topCoordinate?"have-custom-coordinates":"",(o.fullWidth?"":"position-preset ")+(o.preset||"")].join(" "),u=(0,a.Z)((0,a.Z)((0,a.Z)({},o.leftCoordinate?{left:o.leftCoordinate}:{}),o.topCoordinate?{top:o.topCoordinate}:{}),{},{width:o.paragraphWidth||"100%"}),d=(0,a.Z)({display:"block"},u);return(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsxs)("div",{id:c,className:l,style:d,children:["video"!=(0,ye.Q5)(null===(n=e.visualData)||void 0===n?void 0:n.url)&&(0,ue.jsx)("img",{src:(null===(r=e.visualData)||void 0===r?void 0:r.url)||"",draggable:!1,style:{display:"block",opacity:o.opacity||1,transform:(o.flipVertical?"scaleY(-1) ":"")+(o.flipHorizontal?"scaleX(-1)":"")}}),"video"==(0,ye.Q5)(null===(s=e.visualData)||void 0===s?void 0:s.url)&&(0,ue.jsx)("video",{src:(null===(i=e.visualData)||void 0===i?void 0:i.url)||"",draggable:!1,style:{display:"block",opacity:o.opacity||1,width:"100%",transform:(o.flipVertical?"scaleY(-1) ":"")+(o.flipHorizontal?"scaleX(-1)":"")}})]})})}},t.renderDisplayItems=function(){var e,n=null===(e=t.props.currentSubScene)||void 0===e?void 0:e.displayItems;if(n&&0!==n.length)return(0,ue.jsx)(ue.Fragment,{children:n.map((function(e){return"text"===e.type?(0,ue.jsx)(ue.Fragment,{children:t.renderDisplayItemText(e)}):"visual"===e.type?(0,ue.jsx)(ue.Fragment,{children:t.renderDisplayItemVisual(e)}):void 0}))})},t.state={sizingRatio:100/re.Z.defaultHeight},t.animationContainerRef=L.createRef(),t.currentSegmentIndex=-1,t.videoSegements=[],t}return(0,u.Z)(s,[{key:"componentDidMount",value:function(){this.animationHelper=new re.Z(this.animationContainerRef.current);var e=parseFloat(window.getComputedStyle(this.animationContainerRef.current).height);this.setState({sizingRatio:e/re.Z.defaultHeight})}},{key:"componentWillReceiveProps",value:function(e){this.props.SceneId!==e.SceneId&&this.videoPlayer&&(this.videoPlayer.currentTime=0)}},{key:"componentDidUpdate",value:(n=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.SceneId===this.props.SceneId){e.next=19;break}if(!this.props.bgImage||"video"!==(0,ye.Q5)(this.props.bgImage)){e.next=19;break}if(r=this.props.currentSubScene,!this.videoPlayer||!this.props.playSceneOnVideoSeeked){e.next=19;break}if(s=null,this.currentSegmentIndex=0,this.videoSegements=[],r&&r.settings&&r.settings.videoOptions&&r.settings.videoOptions.segments&&r.settings.videoOptions.segments.length&&(s=r.settings.videoOptions.segments,this.videoSegements=s),!(s&&s.length>0)){e.next=19;break}if(!(s[this.currentSegmentIndex].start>this.videoPlayer.currentTime)){e.next=17;break}if(this.videoPlayer.pause(),!this.props.stopAndResumePreviewProgress){e.next=14;break}return e.next=14,this.props.stopAndResumePreviewProgress(!1);case 14:this.videoPlayer.currentTime=s[this.currentSegmentIndex].start,e.next=19;break;case 17:return e.next=19,this.onVideoSeeked();case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.animator&&(this.animator.subSceneTimer=null)}},{key:"getTextStyle",value:function(){var e=this.props.isThemeScene||null==this.props.brandStyles?this.props.theme.getStyles().fontSize:this.props.brandStyles.fontSize,t=this.getFontSizeForAspectRatio(re.Z.convertPttoPx(e));return{fontSize:this.props.forcedFontSize?this.props.forcedFontSize:this.state.sizingRatio*t}}},{key:"getBrandSettings",value:function(){if(!this.props.isThemeScene&&this.props.brandStyles){var e=this.props.brandStyles.fontBackend,t=400;void 0===e?e=700:void 0!==e&&e.toLowerCase().includes("extrabold")||void 0!==e&&e.toLowerCase().includes("black")?t=900:void 0!==e&&e.toLowerCase().includes("bold")&&(t=700);var n=re.Z.getFontSpecificLineHeightCSS(this.props.brandStyles.fontName),r="#".concat(this.props.CurrentSceneId,".sentences p {font-family: ").concat(this.props.brandStyles.fontName,"; color: ").concat(this.props.brandStyles.fontColor,"!important; font-weight: ").concat(t,"!important; ").concat(n," } ");return this.props.brandStyles.backcolorFullwidth?r+="#".concat(this.props.CurrentSceneId,".sentences {background-color: ").concat(this.props.brandStyles.backcolorFullwidth,";}"):r+="#".concat(this.props.CurrentSceneId,".sentences p span {background-color: ").concat(this.props.brandStyles.textBackgroundColor," !important;}"),r+="#".concat(this.props.CurrentSceneId,".sentences p strong {color: ").concat(this.props.brandStyles.keywordColor,"!important;} "),(0,ue.jsx)("style",{children:r})}return null}},{key:"renderBackground",value:function(){var e=this,t=this.props.objectUrl||this.props.bgImage,n=this.animationContainerRef.current,r=50,s="",a=null;if(this.props.settings?a=this.props.settings.frame:this.props.currentSubScene&&(a=this.props.currentSubScene.settings&&this.props.currentSubScene.settings.frame),n&&a){var i=a.visual_width,o=a.visual_height;if(i>0){var c=re.Z.defaultHeight*i/o,l=Ye.R3.find((function(t){return t.class===e.props.aspectRatioClass}));if(l){var u=l.fractionValue*re.Z.defaultHeight;(r=Math.round(100*(50-100*a.center_x/(c-u)))/100)>100?r=100:r<0&&(r=0)}}}if(this.props.currentSubScene){var d=this.props.currentSubScene;if(d&&d.settings&&d.settings.videoOptions&&d.settings.videoOptions.segments&&d.settings.videoOptions.segments.length&&d.settings.videoOptions.isCropped){var p=d.settings.videoOptions.segments[0].start,h=d.settings.videoOptions.segments[0].end;p>=0&&h>0&&(t+="#t=".concat(p,",").concat(h))}}var m="v"+(0,ye.DO)(),g="";if(this.props.currentSubScene&&("Custom Intro Scene"===this.props.currentSubScene.showSceneNumber?g="intro-scene-video":"Outro Scene"===this.props.currentSubScene.showSceneNumber&&(g="outro-scene-video")),this.props.sceneType){var f=["scene-visual",g].join(" "),v=this.props.bgImage;return s="#".concat(m," {object-position: ").concat(r,"%;}"),(0,ue.jsxs)(ue.Fragment,{children:[v&&s&&(0,ue.jsx)("style",{style:{display:"none"},children:s}),v&&!O().isEmpty(v)&&("video"===(0,ye.Q5)(this.props.bgImage.thumb)?(0,ue.jsxs)("div",{className:"vid-blocksearch d-flex h-100",style:{zIndex:"1"},children:[(0,ue.jsx)("span",{className:"vid-playbtn",children:(0,ue.jsx)("i",{className:"fa fa-play"})}),(0,ue.jsx)(qe(),{children:function(t){var n=t.isVisible;return(0,ue.jsx)("video",{className:f,loop:!0,muted:!0,disablePictureInPicture:!0,poster:v.thumb_jpg||"",controlsList:"nodownload nofullscreen",onLoadedData:e.onImageLoad.bind(e),onMouseEnter:function(t){return e.play(t,m)},onMouseLeave:function(t){return e.stop(t,m)},src:n||e.props.isOutro||e.props.isCustomIntro?v.thumb:""})}})]}):v.thumb&&""!=v.thumb||v.thumb_jpg&&""!=v.thumb_jpg?(0,ue.jsx)("img",{id:m,className:"scene-visual",src:v.thumb||v.thumb_jpg,onLoad:this.onImageLoad.bind(this)}):"")]})}var x=["scene-visual",g,m].join(" ");return this.props.currentSubScene&&this.props.currentSubScene.transcription&&(t=(t=this.props.objectUrl||this.props.bgImage)&&t.split("#t=")[0]),s=".".concat(m," {object-position: ").concat(r,"%;}"),(0,ue.jsxs)(ue.Fragment,{children:[this.props.bgImage&&s&&(0,ue.jsx)("style",{style:{display:"none"},children:s}),this.props.bgImage&&("video"===(0,ye.Q5)(this.props.bgImage)?(0,ue.jsxs)("div",{className:"vid-blocksearch d-flex h-100",style:{zIndex:"1"},children:[(0,ue.jsx)("span",{className:"vid-playbtn",children:(0,ue.jsx)("i",{className:"fa fa-play"})}),(0,ue.jsx)("video",{className:x,muted:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},src:this.props.objectUrl||this.props.bgImage})]}):(0,ue.jsx)("img",{className:x,src:this.props.objectUrl||this.props.bgImage,onLoad:this.onImageLoad.bind(this)}))]})}},{key:"renderLogo",value:function(){var e=this.props.brandStyles.logoImage,t=this.props.brandStyles.showLogo,n="",r={};if(this.props.currentSubScene&&this.props.currentSubScene.visual&&this.props.currentSubScene.visual.isLogo&&this.props.currentSubScene.visual.position){var s=this.props.currentSubScene.visual;n="position-preset "+s.position.preset,r.opacity=s.opacity,r.width=s.position.width,e=s.visualUrl,t=!0}if(t){var i={top:"7%",zIndex:"10"};return i[1==parseInt(this.props.brandStyles.logoLocation)?"left":"right"]="7%",i=(0,a.Z)((0,a.Z)({},i),r),(0,ue.jsx)("img",{className:["mr-auto sml-brand",n].join(" "),src:e,style:i})}}},{key:"onImageLoad",value:function(){this.imageLoaded=!0}},{key:"animate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.stopAnimations();var n=function(){e()};this.animator=new this.props.theme(this.animationContainerRef.current),isNaN(t)?this.animator.animate(this.props.sceneTime,n):(this.animator.subSceneTimer=new et(n,t),this.animator.animate(this.props.sceneTime,null))}},{key:"animateSubScene",value:function(e,t){this.animator.resetSentences(),this.animator.animateSentences(),this.animator.setSubSceneTimer(new et(e,t))}},{key:"animateOutro",value:function(e){this.stopAnimations(),this.animator=new te.Z(this.animationContainerRef.current),this.animator.animate(this.props.sceneTime||this.props.defaultOutroTimeInMiniSec||5e3,"Outro Scene",e)}},{key:"playAnimations",value:(t=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.animator){e.next=5;break}if(this.animator.play(),!this.videoPlayer){e.next=5;break}return e.next=5,this.videoPlayer.play();case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"pauseAnimations",value:function(){null!=this.animator&&(this.animator.pause(),this.videoPlayer&&this.videoPlayer.pause())}},{key:"stopAnimations",value:function(){null!=this.animator&&(this.animator.stop(),this.animator.reset())}},{key:"render",value:function(){var e=this.props.currentSubScene,t="";e&&(t="#".concat(this.props.CurrentSceneId," {")+(e.preset||!parseFloat(this.props.leftCoordinate)&&!parseFloat(this.props.topCoordinate)?"":"left: ".concat(this.props.leftCoordinate,"!important; top: ").concat(this.props.topCoordinate,"!important;"))+" width: ".concat(this.props.paragraphWidth||"","; }")),null!=e&&e.fullWidth&&(t+=(0,Xe.v2)(this.props.CurrentSceneId,e.textBackgroundColor,e.textAlign,this.props.hideText,this.state.sizingRatio));var n=this.props.bgColor;n&&void 0!==n&&"null"!=typeof n&&""!=n&&(n=n.replace(/\s+/g," ").trim()),!O().isEmpty(this.props.bgImage)&&this.props.bgImage.thumb&&"null"!=typeof this.props.bgImage.thumb&&null!=this.props.bgImage.thumb&&""!=this.props.bgImage.thumb&&this.props.brandStyles&&!this.props.isOutro&&(n="");var r="";this.props.brandStyles&&!this.props.isOutro&&("left"===this.props.brandStyles.textAlign?r="text-align-left":"center"===this.props.brandStyles.textAlign?r="text-align-center":"right"===this.props.brandStyles.textAlign&&(r="text-align-right"));var s=e&&e.decoration&&(Array.isArray(e.decoration)?e.decoration.join(" "):e.decoration);return(0,ue.jsxs)(ue.Fragment,{children:[this.getBrandSettings(),(0,ue.jsxs)("div",{ref:this.animationContainerRef,id:this.props.id,className:["animation-container",this.props.themeClass,this.props.aspectRatioClass||"sixteen-nine",this.props.className||""].join(" "),onMouseEnter:this.props.animateOnHover&&this.animate.bind(this,null),onMouseLeave:this.props.animateOnHover&&this.stopAnimations.bind(this),style:{height:"100%"},children:[(0,ue.jsxs)("div",{className:"background from-search",style:{backgroundColor:n},children:[!this.props.isBranding&&!this.props.isCustomIntro&&(0,ue.jsx)("div",{className:"bg-mask"}),(this.props.sceneType&&this.props.bgImage&&!O().isEmpty(this.props.bgImage)||!this.props.sceneType&&"video"===(0,ye.Q5)(this.props.bgImage))&&this.renderBackground(),this.props.settings&&this.props.settings.hideScene&&(0,ue.jsx)(g.Z,{className:"absolute-fill translucent-background-layer-12"})]}),(0,ue.jsxs)("div",{className:"background ".concat(this.props.BgImageSource||""," ").concat(this.props.disablePanning?"disable-panning":""),style:{backgroundColor:n,backdropFilter:"blur(8px)"},children:[!this.props.isBranding&&!this.props.isCustomIntro&&(0,ue.jsx)("div",{className:"bg-mask"}),this.renderBackground(),this.props.settings&&this.props.settings.hideScene&&(0,ue.jsx)(g.Z,{className:"absolute-fill translucent-background-layer-12"})]}),this.props.pictoryBranding,(0,ue.jsx)("style",{children:t}),(0,ue.jsx)("div",{id:this.props.CurrentSceneId,className:["sentences",this.props.sentences?"":"blank-text",null!=e&&e.leftCoordinate&&null!=e&&e.topCoordinate?"have-custom-coordinates":"",r,null!=e&&e.fullWidth?"full-width-style":"",(null!=e&&e.fullWidth?"":"position-preset ")+((null==e?void 0:e.preset)||""),s||"",(null==e?void 0:e.case)||""].join(" "),style:(0,a.Z)({},this.getTextStyle()),children:!this.props.hideText&&(0,ue.jsx)(Qe.w,{htmlText:this.props.sentences,contentEditable:!1})},this.props.CurrentSceneId),this.renderDisplayItems(),this.renderLogo()]}),this.props.showToggleButton&&this.showToggleButton()]})}}]),s}(L.PureComponent),et=function(){function e(t,n){(0,l.Z)(this,e),this.timerId=null,this.callback={onCompleteListener:t},this.remaining=n,this.hasEnded=!1,this.resume()}return(0,u.Z)(e,[{key:"pause",value:function(){window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start}},{key:"resume",value:function(){this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onFinish.bind(this),this.remaining)}},{key:"cancel",value:function(){window.clearTimeout(this.timerId)}},{key:"onFinish",value:function(){this.hasEnded=!0,this.callback.onCompleteListener()}}]),e}(),tt=$e,nt=(0,Te.Z)("li")({margin:"0 10px"}),rt=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).getCleanText=function(e){if(e){var t=document.createElement("span");return t.innerHTML=e,(t.textContent||t.innerText).replace(/(<([^>]+)>)/gi,"")}return e},r.EditScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,s,a,o,c,l,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!!t.target.closest(".show-hide-toggle"),!r.props.currentSubScene.settings.hideScene||n){e.next=3;break}return e.abrupt("return");case 3:if(!!t.target.closest(".show-hide-toggle.enable-scene")&&r.props.openTab(da),!n||"Custom Intro Scene"!==r.props.showSceneNumber&&"Outro Scene"!==r.props.showSceneNumber){e.next=9;break}return e.next=8,r.props.updateSettings(r.props.currentSubScene.sceneId,r.props.currentSubScene.subSceneId,{hideScene:!r.props.settings.hideScene});case 8:"Outro Scene"===r.props.showSceneNumber?r.props.settings.hideScene?w().getInstance().logEvent("outro-disabled"):w().getInstance().logEvent("outro-enabled"):"Custom Intro Scene"===r.props.showSceneNumber&&(r.props.settings.hideScene?w().getInstance().logEvent("intro-disabled"):w().getInstance().logEvent("intro-enabled"));case 9:for(document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause(),s=document.getElementsByClassName("PreviewSceneAudio"),a=s.length,o=0;o<a;o++)s[o].pause();for(s=document.getElementsByClassName("pausePreviewButton"),a=s.length,o=0;o<a;o++)s[o].className="pausePreviewButton icon-play-right";c=r.props.SceneId,l=r.props.SubSceneId,r.props.currentSubScene.settings.hideScene&&n?1===r.props.counterSentence?u=r.props.counterSentence+1:r.props.counterSentence===r.props.totalNumberOfSentences&&(u=r.props.counterSentence-1):u=r.props.counterSentence,r.props.changeActiveDiv(u,!1,t.ctrlKey||t.metaKey),(d=document.getElementById("SceneLeftText_"+c+"_"+l))&&(d=d.offsetTop,(p=document.getElementById("divLeftSceneSentences"))&&(p.scrollTop=d-100));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.YetToBeImplement=function(e){alert(ze.Z.YetToImplement)},r.getWidth=function(){return document.getElementById("eachSceneWidth").clientWidth},r.state={SceneId:r.props.SceneId,SubSceneId:r.props.SubSceneId,subSceneLength:r.props.subSceneLength,sentence:r.props.sentence,imageSentence:r.props.sentence,keyword:r.props.keyword,allKeywordList:r.props.allKeywordList,traversingCounter:0,isPrevious:r.props.isPrevious,imageUrl:r.props.imageUrl,hideShowOverlay:r.props.hideShowOverlay,isOverlayShown:r.props.isOverlayShown,TextEditorId:"textEditor_"+r.props.SceneId,isOpen:!1,totalNumberOfSentences:r.props.totalNumberOfSentences,isShowLoader:!1,Url:r.props.Url,brandSetting:r.props.brandSetting,logoImage:r.props.brandSetting.hasOwnProperty("logoFilePath")?r.props.brandSetting.logoFilePath:"",logolocation:r.props.brandSetting.hasOwnProperty("logoLocation")?r.props.brandSetting.logoLocation:"",fontSize:r.props.fontSize,fontColor:r.props.fontColor,textBackgroundColor:r.props.textBackgroundColor,keywordColor:r.props.keywordColor,fontName:r.props.fontName},r}return(0,u.Z)(n,[{key:"componentWillMount",value:function(){if(this.state.isPrevious){this.setState({ThumbImage:this.state.imageUrl}),this.props.hideShowOverlay(this.props.SceneId,this.props.imageUrl);for(var e=0;e<this.props.subSceneLength;e++)document.getElementById("figure_"+this.props.SceneId+"_"+(parseInt(e)+1)).style.backgroundImage="url('"+document.getElementById("Image_"+parseInt(this.props.SceneId-1)+"_1").src+"')"}else 1===this.state.SubSceneId&&this.setState({ThumbImage:this.state.imageUrl})}},{key:"shouldComponentUpdate",value:function(e,t){return!1===O().isEqual(this.props,e)||!1===O().isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props;r.refresh,r.id,r.brandSetting,r.imageURL,e.refresh,this.props.isActive&&e.isActive!==this.props.isActive&&this.props.getSentenceKeywordSuggestions(this.props.sentence&&this.getCleanText(this.props.sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,"")),this.props.scriptLanguage)}},{key:"handleSceneTransitionSelect",value:function(e,t,n){this.props.SetTransition(t,e,n),n?(0,ye.xd)("transition-applied-to-all-scenes",(0,s.Z)({},"transition-name",t)):(0,ye.xd)("transition-applied",(0,s.Z)({},"transition-name",t))}},{key:"handleSceneTransitionRemove",value:function(e){this.props.RemoveTransition(e),(0,ye.xd)("transition-removed")}},{key:"handleSceneTransitionRemoveAll",value:function(){this.props.RemoveAllTransitions(),(0,ye.xd)("transition-removed-from-all-scenes")}},{key:"getDisabled",value:function(){var e;return this.props.currentSubScene.settings.hideScene||null!==(e=this.props.nextSubScene)&&void 0!==e&&e.settings.hideScene?"hidden":this.props.nextSubSceneIsLinked?"linked":void 0}},{key:"render",value:function(){var e=this,t=(0,ye.PW)(this.props.user&&this.props.user.username),n=this.props.showSceneNumber,r=this.props.sentence,s=!1,a=!1,i=this.props.animationTheme.className,o=this.props.backgroundColor,c={showLogo:this.props.showLogo,fontColor:this.props.fontColor,fontName:this.props.fontName,fontBackend:this.props.fontBackend,fontSize:this.props.fontSize,textBackgroundColor:this.props.textBackgroundColor,backcolorFullwidth:this.props.backcolorFullwidth,keywordColor:this.props.keywordColor,textAlign:this.props.textAlign,sceneNumber:this.props.showSceneNumber,decoration:this.props.currentSubScene&&this.props.currentSubScene.decoration,case:this.props.currentSubScene&&this.props.currentSubScene.case},l="",u=this.props.imageUrl,d=this.props.settings&&this.props.settings.imageZoomPan?"from-search":"from-article",p=this.props.settings&&this.props.settings.hideText;isNaN(n)&&"Outro Scene"!==n&&(l="sub-scene"),""!==this.props.logoImage&&""!==this.props.logoLocation&&this.props.showLogo?(c.logoImage=this.props.logoImage,c.logoLocation=this.props.logoLocation):c.showLogo=!1;var h="";return t||1!==this.props.SceneId||1!==this.props.SubSceneId||"Custom Intro Scene"==n||(n+=" (Title)"),"Custom Intro Scene"==n&&(a=!1,n="Intro scene"),!t&&2==this.props.SceneId&&1===this.props.SubSceneId&&this.props.hasIntroScene&&(n+=" (Title)"),"Outro Scene"===n&&(n="Outro scene",s=!1,l="sub-scene",c.logoImage=this.props.logoImage,h=this.props.currentSubScene.layout?this.props.currentSubScene.layout:""),(0,ue.jsx)(nt,{className:l,style:{height:"100%"},children:(0,ue.jsxs)(g.Z,{className:["w-100 d-flex figure-list btn-span",this.props.currentSubScene.settings.hideScene?"default-cursor":"pointer"].join(" "),onClick:function(t){return e.EditScene(t)},id:this.props.AllSceneId,sx:{position:"relative",height:"100%",minWidth:"65px"},children:[(0,ue.jsx)("span",{id:this.props.SceneNumberId,className:this.props.isActive?"current":"",children:n}),(0,ue.jsx)("div",{id:"eachSceneWidth",style:"sub-scene"===l?{minWidth:39,height:"100%",marginLeft:"".concat("one-one"===this.props.aspectRatioClass?"21px":"nine-sixteen"===this.props.aspectRatioClass?"35px":"0px")}:{width:115,marginLeft:0,height:"100%"},children:(0,ue.jsx)(tt,{id:this.props.ImageATagId,theme:this.props.animationTheme,brandStyles:c,bgImage:u,BgImageSource:d,aspectRatioClass:this.props.aspectRatioClass||"sixteen-nine",bgColor:o,leftCoordinate:this.props.leftCoordinate,CurrentSceneId:"text"+this.props.SceneId+"_"+this.props.SubSceneId,themeClass:i,topCoordinate:this.props.topCoordinate,paragraphWidth:this.props.paragraphWidth,sentences:r,keywords:this.props.allKeywordList||[],className:this.props.isActive?"active":"",layout:h,sceneType:this.props.sceneType,isOutro:s,isCustomIntro:a,hideText:p,settings:this.props.settings,currentSubScene:this.props.currentSubScene,textFormat:this.props.textFormat,showToggleButton:("Outro Scene"===this.props.showSceneNumber||"Custom Intro Scene"===this.props.showSceneNumber)&&t},this.props.ImageATagId)}),(0,ue.jsx)(G.Z,{active:this.state.isShowLoader,spinner:!0,text:"Please wait..."}),this.props.transitionButton&&this.props.transitionsEnabled&&(0,ue.jsx)(We,{transitionId:this.props.transitionId,onSelect:function(t){return e.handleSceneTransitionSelect(e.state.SceneId,t)},onRemove:function(){return e.handleSceneTransitionRemove(e.state.SceneId)},onRemoveAll:function(){return e.handleSceneTransitionRemoveAll()},onApplyToAll:function(){return e.handleSceneTransitionSelect(e.state.SceneId,e.props.transition,!0)},sx:{position:"absolute",zIndex:100,right:"-22px",top:"20px"},sceneTransition:this.props.transition,disabled:this.getDisabled()})]})})}}]),n}(L.Component),st=rt,at=n(5109),it=n(47434),ot=(0,Te.Z)("ul")({paddingBottom:"0 !important",paddingLeft:"23px",display:"flex",width:"100%",overflowX:"hidden",overflowY:"hidden"}),ct=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).rightClick=function(e){var t=document.getElementsByClassName("showcase")[0].offsetWidth;document.getElementById("ReactVirtualized__SceneStrip").scrollLeft+=t},r.leftClick=function(e){var t=document.getElementsByClassName("showcase")[0].offsetWidth;document.getElementById("ReactVirtualized__SceneStrip").scrollLeft<t?document.getElementById("ReactVirtualized__SceneStrip").scrollLeft=0:document.getElementById("ReactVirtualized__SceneStrip").scrollLeft-=t},r.scrollToScene=function(){var e=document.getElementById("ReactVirtualized__SceneStrip").scrollWidth,t=r.calculatePageSize(),n=e/(r.props.subSentencesArrayDetail.length/t)*(Math.ceil(r.props.currentActiveDiv/t)-1);document.getElementById("ReactVirtualized__SceneStrip").scrollLeft=n},r.calculatePageSize=function(){var e=document.getElementById("eachScene").offsetWidth;return Math.floor(document.getElementById("ReactVirtualized__SceneStrip").clientWidth/e)},r.changeActiveDiv=function(e,t,n){r.IgnoreScrollForChangeDiv=!0,r.props.changeActiveDiv(e,t,n)},r.renderDummyScene=function(e,t){return(0,ue.jsx)("div",{id:"eachScene",style:(0,a.Z)((0,a.Z)({},e),{},{top:"25px",height:"calc(100% - 65px)"}),children:(0,ue.jsx)(g.Z,{sx:{aspectRatio:"1.67",height:"100%",mt:1},children:(0,ue.jsx)(g.Z,{sx:{width:"100%",height:"100%",borderRadius:"5px",backgroundColor:"grey.100"}})})},t)},r._onDragEnd=function(e){},r._cellRenderer=function(e){var t=e.columnIndex,n=e.style,s=e.key,i=e.isScrolling;if(e.rowIndex,e.parent,r.props.subSentencesArrayDetail.length>200&&i)return r.renderDummyScene(n,s);var o,c=r.props.subSentencesArrayDetail[t],l=t,u=(0,ye.S8)(c),d=r.props.subSentencesArrayDetail.findIndex((function(e){return e.sceneId===c.sceneId&&e.subSceneId===c.subSceneId}));return d>-1&&(o=r.props.subSentencesArrayDetail[d+1]),(0,ue.jsx)(it._l,{draggableId:c.uuid,index:c.sceneId,children:function(e){var t;return(0,ue.jsx)("div",(0,a.Z)((0,a.Z)((0,a.Z)({id:"eachScene",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(0,a.Z)((0,a.Z)({},n),{},{top:"25px",height:"calc(100% - 65px)"}),children:(0,ue.jsx)(st,{ref:r.sceneRef,leftCoordinate:c.leftCoordinate,topCoordinate:c.topCoordinate,paragraphWidth:c.paragraphWidth,animationTheme:r.props.animationTheme,aspectRatioClass:r.props.aspectRatioClass||"",changeActiveDiv:r.changeActiveDiv,counterSentence:l+1,AllSceneId:"AllScene_"+c.sceneId+"_"+c.subSceneId,ImageATagId:"image_a_"+c.sceneId+"_"+c.subSceneId,SceneNumberId:"SceneNumberId_"+c.sceneId+"_"+c.subSceneId,refresh:r.props.refreshAllScenePanel,UpdateAllScenePanel:r.props.UpdateAllScenePanel,SceneId:c.sceneId,SubSceneId:c.subSceneId,sentence:c.subSentences,keyword:c.keywords[0],allKeywordList:c.keywords,hideShowOverlay:r.props.hideShowOverlay,isPrevious:r.props.isPrevious,imageUrl:"Outro Scene"==c.showSceneNumber?r.props.imageURL[parseInt(c.sceneId)-1]:r.props.imageAssests[parseInt(c.sceneId)-1],imageAsset:r.props.imageAssests[parseInt(c.sceneId)-1],isOverlayShown:r.props.isOverlayShown,Sentence:c.sentence,totalNumberOfSentences:r.props.totalNumberOfSentences,subSceneLength:c.AllSubSentences.length,showSceneNumber:c.showSceneNumber,Url:r.props.Url,brandSetting:r.props.brandSetting,fontName:c.FontNameForFront,fontBackend:c.fontName,fontSize:c.fontSize,fontColor:c.fontColor,backgroundColor:c.backgroundColor,backcolorFullwidth:c.backcolorFullwidth,textBackgroundColor:c.textBackgroundColor,keywordColor:c.keywordColor,textAlign:c.textAlign,logoImage:c.logoImage,logoLocation:c.logoLocation,showLogo:c.showLogo,isActive:c.isActive,settings:c.settings,sceneType:"Outro Scene"==c.showSceneNumber?null:"AllScenePanel",getSentenceKeywordSuggestions:r.props.getSentenceKeywordSuggestions,scriptLanguage:r.props.scriptLanguage,currentSubScene:c,nextSubScene:o,nextSubSceneIsLinked:(null===(t=o)||void 0===t?void 0:t.subSceneId)>1,hasIntroScene:"Custom Intro Scene"===r.props.subSentencesArrayDetail[0].showSceneNumber,textFormat:u,user:r.props.user,updateSettings:r.props.updateSettings,openTab:r.props.openTab,transitionButton:l<r.props.subSentencesArrayDetail.length&&l+1<r.props.totalNumberOfSentences,totalScenes:r.props.totalNumberOfSentences,SetTransition:r.props.SetTransition,transition:c.transition,onSelectTransition:function(e){return handleSelectTransition(c,e)},RemoveTransition:r.props.RemoveTransition,RemoveAllTransitions:r.props.RemoveAllTransitions,transitionsEnabled:r.props.transitionsEnabled},c.uuid)}),c.uuid)}})},r.state={subSentencesArray:r.props.subSentencesArrayDetail,url:r.props.Url,imageURL:r.props.imageURL,refreshAllScenePanel:r.props.refreshAllScenePanel,isShowOverlay:!1,brandSetting:r.props.brandSetting,isPrevious:r.props.isPrevious},r.sceneRef=L.createRef(),r._cache=new at.t1({fixedHeight:!0}),r}return(0,u.Z)(n,[{key:"componentDidUpdate",value:function(e,t){e.currentActiveDiv!==this.props.currentActiveDiv&&this.scrollToScene()}},{key:"componentDidMount",value:function(){}},{key:"handleSelectTransition",value:function(e,t){this.props.onSelectTransition&&this.props.onSelectTransition(e,t)}},{key:"render",value:function(){var e=this;return(0,ue.jsx)(L.Fragment,{children:(0,ue.jsxs)(it.Z5,{onDragEnd:this._onDragEnd,children:[(0,ue.jsx)(it.bK,{droppableId:"AllSceneSectionId",children:function(t){return(0,ue.jsx)("div",{id:"AllSceneSectionId",className:"card-body pr-4 pl-4 pt-0",style:{paddingBottom:0},children:(0,ue.jsx)("div",{className:"contents slide-crousal",children:(0,ue.jsx)("div",{className:"showcase",children:(0,ue.jsxs)(ot,{id:"AllSceneSection",className:"hit-list",children:[(0,ue.jsx)("div",(0,a.Z)((0,a.Z)({style:{width:"100%",minHeight:"130px"},ref:t.innerRef},t.droppableProps),{},{children:(0,ue.jsx)(at.qj,{children:function(t){var n=t.width,r=t.height;return(0,ue.jsx)(at.rj,(0,a.Z)((0,a.Z)((0,a.Z)({id:"ReactVirtualized__SceneStrip"},e.props),e.state),{},{style:{overflowY:"hidden",outline:"none",top:"-10px",overflowX:"auto"},data:e.props.subSentencesArrayDetail,columnCount:e.props.subSentencesArrayDetail.length,rowHeight:130,columnWidth:130,cellRenderer:e._cellRenderer,height:r,width:n,rowCount:1}))}})})),t.placeholder]})})})})}}),(0,ue.jsx)("button",{className:"slide-btn scroll-leftbtn",onClick:this.leftClick.bind(),children:(0,ue.jsx)("i",{className:"fa fa-angle-left"})}),(0,ue.jsx)("button",{className:"slide-btn scroll-rightbtn",onClick:function(){return e.rightClick()},children:(0,ue.jsx)("i",{className:"fa fa-angle-right"})})]})})}}]),n}(L.PureComponent),lt=["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"],ut=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).scrollListener=r.scrollListener.bind((0,d.Z)(r)),r.eventListenerOptions=r.eventListenerOptions.bind((0,d.Z)(r)),r.mousewheelListener=r.mousewheelListener.bind((0,d.Z)(r)),r.top=0,r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener(),setInterval((function(){if(e.scrollComponent&&e.state&&e.state.mouseDown){if(e.executingInterval)return;e.executingInterval=!0;var t=e.getParentElement(e.scrollComponent);e.scrollComponent.scrollHeight-t.scrollTop-t.clientHeight<Number(e.props.threshold)?e.scrollListener({target:e.scrollComponent,dir:2}):t.scrollTop<Number(e.props.threshold)&&e.scrollListener({target:e.scrollComponent,dir:1}),e.executingInterval=!1}}),50)}},{key:"componentDidUpdate",value:function(e,t){if(t&&this.state&&t.newscrollTop!=this.state.newscrollTop&&(this.getParentElement(this.scrollComponent).scrollTop=this.state.newscrollTop),this.props.isReverse&&this.loadMore){var n=this.getParentElement(this.scrollComponent);n.scrollTop=n.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){return this.props.useCapture,this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this,t=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&t){var n=window;!1===this.props.useWindow&&(n=t),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("mousedown",(function(t){t&&t.target&&t.target.className&&t.target.className.includes("hover-only-scrollbar")&&e.setState({mouseDown:!0})})),n.addEventListener("mouseup",(function(t){t&&t.target&&t.target.className&&t.target.className.includes("hover-only-scrollbar")&&e.setState({mouseDown:!1})})),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(e){var t=this;this.executing||(this.executing=!0,setTimeout((function(){var n=e.target,r=t.getParentElement(n),s=r.scrollTop,a=e.dir;if(a||(a=s>t.top?2:1),2==a){if(n.scrollHeight-r.scrollTop-r.clientHeight<Number(t.props.threshold)&&"function"==typeof t.props.loadMore){var i=r.scrollTop-Number(t.props.threshold)-100;!1===t.props.loadMore(t.pageLoaded+=1)||t.setState({newscrollTop:i}),t.loadMore=!0}}else if(n.scrollHeight,r.scrollTop,r.clientHeight,n.scrollTop<Number(t.props.threshold)&&"function"==typeof t.props.loadMore){var o=r.scrollTop+100;!1===t.props.loadMore(t.pageLoaded-=1)||t.setState({newscrollTop:o}),t.loadMore=!0}t.top=s,t.executing=!1}),50))}},{key:"scrollListenerOld",value:function(e){var t,n,r=this.scrollComponent,s=this.getParentElement(r);if(this.props.useWindow){t=window;var a=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:a.scrollTop;n=this.props.isReverse?i:this.calculateOffset(r,i)}else this.props.isReverse?(n=s.scrollTop,t=this.getParentElement(this.scrollComponent)):(t=this.getParentElement(this.scrollComponent),n=r.scrollHeight-s.scrollTop-s.clientHeight);n<Number(this.props.threshold)&&r&&null!==r.offsetParent?(this.beforeScrollHeight=s.scrollHeight,this.beforeScrollTop=s.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),t.scrollBy({top:t.scrollTop-500,left:t.scrollLeft,behaviour:"smooth"}),this.loadMore=!0)):this.pageLoaded>1&&s.scrollTop<100&&(this.beforeScrollHeight=s.scrollHeight,this.beforeScrollTop=s.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded-=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,s=t.hasMore,a=(t.initialLoad,t.isReverse),i=t.loader,o=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,(0,ie.Z)(t,lt));c.ref=function(t){e.scrollComponent=t,o&&o(t)};var l=[n];return s&&(i?a?l.unshift(i):l.push(i):this.defaultLoader&&(a?l.unshift(this.defaultLoader):l.push(this.defaultLoader))),L.createElement(r,c,l)}}]),n}(L.Component);ut.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null,top:0};var dt=n(63376),pt=ae.Z.getImagesVideosByKeyword,ht=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onClickSentenceBox=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.closest(".border-icon.link-sentence .fa-link")?t.target.closest(".border-icon.link-sentence .fa-link.link-action")&&r.props.linkScene(r.props.counterSentence,!0):t.target.closest(".border-icon.link-sentence .fa-unlink.link-action")?r.props.linkScene(r.props.counterSentence,!1):t.target.closest(".split-scene-button")?(r.setState({editMode:!1,splitMode:!1}),n=r.getSentenceParts(),s=n.htmlPart1,a=n.htmlPart2,s&&a&&(r.hasRecordedAudioEntireVideo()?r.setState({htmlPart1:s,htmlPart2:a,showConfirmation:!0,confirmationMsg:"Split would remove the recorded audio present on the entire video",forceResetText:r.props.Sentence}):r.hasRecordedAudioSceneLevel()?r.setState({htmlPart1:s,htmlPart2:a,showConfirmation:!0,confirmationMsg:"Split would remove the recorded audio present on this scene",forceResetText:r.props.Sentence}):r.props.splitScene(r.props.counterSentence,s,a))):"blur"===t.type&&t.target.closest(".all-sentences-editor-span")?(setTimeout((function(){r.setState({editMode:!1,splitMode:!1})}),500),r.state.splitMode||r.saveEditorText()):t.target.closest(".highlightSelectedScene .addRemoveHighlightPTag")?"Custom Intro Scene"!==r.props.showSceneNumber&&"Outro Scene"!==r.props.showSceneNumber&&(r.state.editMode||!r.props.isEditVideoScenario&&setTimeout((function(){r.setState({splitMode:!0})}),500),r.setState({editMode:!0})):(r.setState({editMode:!1,splitMode:!1}),r.props.changeActiveDiv(r.props.counterSentence,!1,t.ctrlKey||t.metaKey));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getSentenceParts=function(){var e,t,n="__|__",s=window.getSelection();if("Caret"===s.type){var a,i,o,c=document.getElementById(r.props.SceneLeftTextDiv),l=c&&c.querySelector(".all-sentences-editor-span"),u=s.getRangeAt(0).cloneRange();u.setStart(l.firstChild,0);var d=s.getRangeAt(0).cloneRange();if(0===u.toString().length||u.startContainer===u.endContainer&&u.startOffset===u.endOffset)return{htmlPart1:null,htmlPart2:null};if("#text"===l.lastChild.nodeName?d.setEnd(l.lastChild,l.lastChild.length):l.lastChild.childNodes[0]?d.setEnd(l.lastChild.childNodes[0],l.lastChild.childNodes[0].length):d.setEnd(l.lastChild,l.lastChild.length||0),0===d.toString().length||d.startContainer===d.endContainer&&d.startOffset===d.endOffset)return{htmlPart1:null,htmlPart2:null};var p=null==d||null===(a=d.startContainer)||void 0===a?void 0:a.previousSibling;document.execCommand("insertHTML",!1,n);var h=(l=c&&c.querySelector(".all-sentences-editor-span")).innerHTML.split(n);e=h[0],t=h[1],p||"BR"!==(null==d||null===(i=d.startContainer)||void 0===i||null===(o=i.previousSibling)||void 0===o?void 0:o.nodeName)||(t=t.replace("<br>",""))}return{htmlPart1:e,htmlPart2:t}},r.removeAudioAndSplit=(0,c.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.subSentencesArrayDetail[r.props.counterSentence-1],e.next=3,r.props.removeRecordedAudio(t.sceneId,t.subSceneId,!0);case 3:r.props.splitScene(r.props.counterSentence,r.state.htmlPart1,r.state.htmlPart2);case 4:case"end":return e.stop()}}),e)}))),r.saveEditorText=function(e){var t=r.props.subSentencesArrayDetail[r.props.counterSentence-1],n=e.html,s=e.keywords;if(r.setState({editMode:!1,splitMode:!1}),n!==r.props.sentence){r.props.saveTextEditorValue(r.props.counterSentence,n,s,{},t.sceneId,t.subSceneId,void 0,!1,!1,!0);var a=be.Z.getItem("voiceOverTrackId"),i=be.Z.getItem("voiceOverTrackCategory");a&&i&&"Eleven Labs"===i&&w().getInstance().logEvent("edit-scene-text",{projectId:r.props.project_id,scendId:t.sceneId})}},r.hasRecordedAudioSceneLevel=function(){var e=r.props.subSentencesArrayDetail[r.props.counterSentence-1];if(e.recordedAudio||e.audioSegments&&null!==e.audioSegments[0])return!0},r.hasRecordedAudioEntireVideo=function(){if(r.props.subSentencesArrayDetail.some((function(e){return e.recordingApplyToAll})))return!0},r.state={counterSentence:r.props.counterSentence},r}return(0,u.Z)(n,[{key:"componentDidUpdate",value:function(){this.state.forceResetText&&this.setState({forceResetText:void 0})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.isAllowTemplates,n=this.props.showSceneNumber,r=this.props.subSentencesArrayDetail[this.props.counterSentence-1];if(!r)return null;var s=this.props.Sentence;if(this.props.searchSceneText.sort((function(e,t){return e.startIndex<t.startIndex?1:e.startIndex>t.startIndex?-1:0})).forEach((function(t,n){var r,a;e.props.mainHighlighted.uniqueId===t.uniqueId?(r="<searchresultmain>",a="</searchresultmain>"):(r="<searchresult>",a="</searchresult>"),s=[(s=[s.slice(0,t.endIndex+0),a,s.slice(t.endIndex+0)].join("")).slice(0,t.startIndex+0),r,s.slice(t.startIndex+0)].join("")})),"Custom Intro Scene"==n)n="Intro scene";else if("Outro Scene"===n){n="Outro scene";var i=this.props.imageUrl;r.addArticleLink&&this.props.Url?s=""===i||i===je.FS?""===s?'For more information please go to <a class="btn-span keyword"  href="'+this.props.Url+'" target="_blank">'+this.props.Url+"</a>":s+'<br /><br />For more information please go to <a className="btn-span keyword"  href="'+this.props.Url+'" target="_blank">'+this.props.Url+"</a>":"":""===i||i===je.FS||t||(s=""),this.props.brandSetting&&this.props.brandSetting.outroStyle&&"logo"==this.props.brandSetting.outroStyle.layout&&(s="📷 logo")}var o=r.subSceneId>1,c=this.state.editMode&&"Custom Intro Scene"!==this.props.showSceneNumber&&"Outro Scene"!==this.props.showSceneNumber,l=!this.props.isEditVideoScenario&&this.state.splitMode,u=this.props.subSentencesArrayDetail[this.props.counterSentence-2],d=!(this.props.isEditVideoScenario&&1===r.subSceneId&&u&&(r.transcription&&!u.transcription||!r.transcription&&u.transcription))&&this.state.showLinkActionIcon,p=1!==this.props.counterSentence&&!("Custom Intro Scene"===this.props.subSentencesArrayDetail[0].showSceneNumber&&2===this.props.counterSentence)&&"Outro Scene"!==this.props.showSceneNumber,h={};return d&&(h["data-tooltip"]=o?"Unlink scene":"Link scene",h["data-inverted"]="",h["data-position"]="top right"),(0,ue.jsxs)("div",{className:"sep-sent "+(this.props.isActive?"highlightSelectedScene":"white-background"),id:this.props.SceneLeftTextDiv,onClick:this.onClickSentenceBox,onMouseEnter:function(){return!o&&!d&&e.setState({showLinkActionIcon:!0})},onMouseLeave:function(){return d&&e.setState({showLinkActionIcon:!1})},children:[(0,ue.jsxs)("h5",{className:"small",id:this.props.AllSceneTitleText,children:[(0,ue.jsx)("span",{children:n}),(0,ue.jsx)("span",{children:l&&(0,ue.jsx)("span",{id:"",className:"split-scene-button apply pointer small",onMouseDown:function(e){return e.preventDefault()},children:"Split scene"})})]}),(0,ue.jsx)(Qe.w,{htmlText:s,onChangeFn:this.saveEditorText,className:"addRemoveHighlightPTag",innerSpanClassName:"all-sentences-editor-span",contentEditable:!!c,forceResetText:this.state.forceResetText,closeEditorFn:function(){return e.setState({editMode:!1,splitMode:!1})}}),p&&(0,ue.jsxs)("span",(0,a.Z)((0,a.Z)({onMouseEnter:function(){return!d&&e.setState({showLinkActionIcon:!0})},onMouseLeave:function(){return d&&e.setState({showLinkActionIcon:!1})}},h),{},{className:"fa-stack fa-1x border-icon link-sentence "+(o?"":"invisible ")+(d?"show-link-on-hover white-background":""),children:[(0,ue.jsx)("i",{className:"fa fa-circle fa-stack-2x font-size-2x"}),(0,ue.jsx)("i",{className:"fa fa-stack-1x font-size-1x "+(d?o?"fa-unlink link-action":"fa-link link-action":o?"fa-link blue ":"")})]})),this.state.showConfirmation?(0,ue.jsx)(T.default,{icon:(0,ue.jsx)(dt.Z,{color:"primary"}),iconBgPaletteColor:"primary.lighter",open:!!this.state.showConfirmation,title:"Confirm ?",message:this.state.confirmationMsg||"Are you sure ?",primaryButtonLabel:"Yes",primaryButtonOnClick:function(){e.setState({showConfirmation:!1}),e.removeAudioAndSplit()},secondaryButtonLabel:"No",secondaryButtonOnClick:function(){return e.setState({showConfirmation:!1})}}):(0,ue.jsx)(ue.Fragment,{})]})}}]),n}(L.PureComponent),mt=(0,W.$j)((function(e){return{imagesVideosByKeyword:e.createVideoStepThree.imagesVideosByKeyword}}),{getImagesVideosByKeyword:pt})(ht),gt=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).bringSearchElementToFocus=function(e,t){t=t||r.props.subSentencesArrayDetail;var n=null!=e?e:r.props.currentActiveDiv,s=r.props.searchSceneText.matches[r.props.searchSceneText.activeElIndex];if(!s){if(!n)return;n>t.length&&(n=t.length);var a=t[n-1];s={rowindex:n-1,uniqueId:a.sceneId+"-"+a.subSceneId}}var i=s.rowindex;r.state.slidingWindowsStart<=i&&i<=r.state.slidingWindowsEnd?r.setState({bringtoFocus:!1}):(i>=t.length-r.state.itemCount&&(i=t.length-r.state.itemCount),r.setWindowsStart(i,r.state.dropableId,!0))},r.searchSceneText=function(e){for(var t=0,n=0;n<r.props.subSentencesArrayDetail.length;n++){var s=r.props.subSentencesArrayDetail[n];if(s.sentence&&s.sentence.toLowerCase().includes(e.query)){t=n;break}}var a=t;r.setWindowsStart(a,r.state.dropableId,!0)},r.loadSentences=function(e){return r.loadMoreSentences(e,r.props.subSentencesArrayDetail)},r.loadMoreSentences=function(e,t){var n=r.state.itemShiftCount,s=r.state.itemCount,a=r.state.slidingWindowsStart,i=r.state.slidingWindowsEnd;if(e>r.state.page){if(i==t.length-1)return!1;a+=n}else{if(0==a)return!1;a-=n}a<0&&(a=0),(i=a+s)>=t.length&&(i=t.length-1),r.setWindow(a,i,t,e)},r.getScrollParentHeight=function(){if(r.initialSentencesLoaded)return!1;var e=r.props.scrollContainer,t=0,n=0;if(e){var s=e.children;(s=s.length?s[0]:null)&&(t=s.getBoundingClientRect())&&(t=t.height),(n=e.getBoundingClientRect())&&(n=n.height)}return n>t||(r.initialSentencesLoaded=!0,!1)},r.onDragStart=function(e){e.destination;var t=e.source,n=(e.reason,t.index);r.state.page<=1&&r.state.allSentences&&r.state.allSentences[0]&&r.state.allSentences[0][0]&&"Custom Intro Scene"===r.state.allSentences[0][0].showSceneNumber&&(n=t.index+1);var s=r.state.allSentences[n];s&&(r.dropStartIndex=n,r.dropSentense=s)},r.onDragEnd=function(e){var t=e.destination,n=(e.source,e.reason),s=r.dropSentense;if(!t||"CANCEL"===n||!s)return r.dropStartIndex=null,void(r.dropSentense=null);var a=t.index;r.state.page<=1&&r.state.allSentences&&r.state.allSentences[0]&&r.state.allSentences[0][0]&&"Custom Intro Scene"===r.state.allSentences[0][0].showSceneNumber&&(a=t.index+1)<=0&&(a=1);var i=r.state.allSentences[a];if(!i)return r.dropStartIndex=null,void(r.dropSentense=null);if(i[0].counterSentence==s[0].counterSentence)return r.dropStartIndex=null,void(r.dropSentense=null);var o=s[0].sceneId,c=i[0].sceneId;r.dropStartIndex=null,r.dropSentense=null,r.props.reorderScene(o,c)},r.changeActiveDiv=function(e,t,n){r.IgnoreScrollForChangeDiv=!0,r.props.changeActiveDiv(e,t,n)},r.renderSentence=function(e){return(0,ue.jsx)(mt,{changeActiveDiv:r.changeActiveDiv,isActive:e.isActive,SceneLeftTextDiv:"SceneLeftText_"+e.sceneId+"_"+e.subSceneId,AllSceneTitleText:"AllSceneTitleText_"+e.sceneId+"_"+e.subSceneId,SceneTextParagraphId:"SceneP_"+e.sceneId+"_"+e.subSceneId,refreshAllScene:r.props.refreshAllScene,UpdateAllScene:r.props.UpdateAllScene,SceneId:e.sceneId,SubSceneId:e.subSceneId,sentence:e.subSentences,keyword:e.keywords[0],allKeywordList:e.keywords,updateAllAssets:r.props.updateAllAssets,isPrevious:r.props.isPrevious,imageUrl:r.props.imageURL[parseInt(e.sceneId)-1],isOverlayShown:r.props.isOverlayShown,Sentence:e.sentence,totalNumberOfSentences:r.props.totalNumberOfSentences,subSceneLength:e.AllSubSentences.length,AllSubSentences:e.AllSubSentences,showSceneNumber:e.showSceneNumber,subSentencesArrayDetail:r.props.subSentencesArrayDetail,Url:r.props.Url,brandSetting:r.props.brandSetting,linkScene:r.props.linkScene,isEditVideoScenario:r.props.isEditVideoScenario,mainHighlighted:(r.props.searchSceneText.matches||[])[r.props.activeSearchElIndex]||{},searchSceneText:r.props.searchSceneText.matches.filter((function(t){return t.sceneId===e.sceneId&&t.subSceneId===e.subSceneId})),counterSentence:e.counterSentence,splitScene:r.props.splitScene,removeRecordedAudio:r.props.removeRecordedAudio,saveTextEditorValue:r.props.saveTextEditorValue,isAllowTemplates:r.props.isAllowTemplates,project_id:r.props.project_id},e.uuid)},r.renderCloneVirtual=function(){return function(e,t,n){var s=r.renderDragable(r.state.allSentences[n.source.index],n.source.index);return(0,ue.jsx)("div",(0,a.Z)((0,a.Z)({ref:e.innerRef},e.droppableProps),{},{children:s}))}},r.renderClone=function(){if(r.dropSentense)return r.renderDragable(r.dropSentense,r.dropStartIndex)},r.state={page:1,itemStartIndex:-1,itemEndIndex:-1,slidingWindowsStart:0,slidingWindowsEnd:39,itemCount:40,itemShiftCount:10,subSentencesArray:r.props.subSentencesArrayDetail,url:r.props.Url,imageURL:r.props.imageURL,refreshAllScene:r.props.refreshAllScene,isShowOverlay:!1,speed:r.props.speed,brandSetting:r.props.brandSetting,isPrevious:r.props.isPrevious,allSentences:[],hasMoreSentences:!0,pageInfo:[],allPagesSentences:[]},r.initialSentencesLoaded=!1,r}return(0,u.Z)(n,[{key:"InitialLoad",value:function(e){var t=Math.floor(1e3*Math.random()+1);this.setWindow(this.state.slidingWindowsStart,this.state.slidingWindowsStart+this.state.itemCount,e,this.state.page,t)}},{key:"setWindow",value:function(e,t,n,r,s,a){var i=this,o=n&&n.length>0&&n[e]&&n[e].sceneId;if(o){t>=n.length&&(t=n.length-1);for(var c=[],l=[],u=e;u<=t;u++)n[u].sceneId===o||(c.push(l),l=[],o=n[u].sceneId),n[u].counterSentence=u+1,l.push(n[u]);c.push(l),this.dropSentense&&c.splice(this.dropStartIndex,0,this.dropSentense),setTimeout((function(){s?i.setState({allSentences:c,slidingWindowsStart:e,slidingWindowsEnd:t,page:r,bringtoFocus:a,dropableId:s}):i.setState({allSentences:c,slidingWindowsStart:e,slidingWindowsEnd:t,page:r,bringtoFocus:a})}),10)}}},{key:"componentDidUpdate",value:function(e,t){this.state.bringtoFocus&&this.bringSearchElementToFocus(),1==this.IgnoreScrollForChangeDiv&&(this.IgnoreScrollForChangeDiv=!1)}},{key:"componentWillReceiveProps",value:function(e){this.props.subSentencesArrayDetail.length===e.subSentencesArrayDetail.length&&O().isEqual(this.props.subSentencesArrayDetail,e.subSentencesArrayDetail)||this.InitialLoad(e.subSentencesArrayDetail),O().isEqual(this.props.searchSceneText,e.searchSceneText)?this.props.activeSearchElIndex!=e.activeSearchElIndex&&this.bringSearchElementToFocus():e.searchSceneText.query&&this.searchSceneText(e.searchSceneText),this.IgnoreScrollForChangeDiv||this.props.currentActiveDiv!=e.currentActiveDiv&&(this.state.slidingWindowsStart<=e.currentActiveDiv&&e.currentActiveDiv<=this.state.slidingWindowsEnd?this.bringSearchElementToFocus(e.currentActiveDiv-1,e.subSentencesArrayDetail):this.setWindowsStart(e.currentActiveDiv-1,this.state.dropableId,!0))}},{key:"setWindowsStart",value:function(e,t,n){var r=e+this.state.itemCount;if(this.props.subSentencesArrayDetail.length<=this.state.itemCount)return e=0,void(r=this.state.itemCount-1);r>=this.props.subSentencesArrayDetail.length&&(e=(r=this.props.subSentencesArrayDetail.length-1)-this.state.itemCount),this.setWindow(e,r,this.props.subSentencesArrayDetail,this.state.page,t,n)}},{key:"renderDragable",value:function(e,t){var n=this,r={borderRadius:"5px",width:"calc(100% - 10px)"};return e&&e[0]?"Custom Intro Scene"===e[0].showSceneNumber||"Outro Scene"===e[0].showSceneNumber?(0,ue.jsx)(ue.Fragment,{}):(0,ue.jsx)(it._l,{draggableId:"scene_"+e[0].uuid,index:t,children:function(s,i){var o=(0,a.Z)((0,a.Z)((0,a.Z)({},r),s.draggableProps.style),{},{backgroundColor:i.isDragging||n.state.dragHandleHover===e[0].sceneId?"#D8D8FF":""});return(0,ue.jsxs)("div",(0,a.Z)((0,a.Z)({className:"flex-row visible-on-hover",ref:s.innerRef},s.draggableProps),{},{style:o,children:[(0,ue.jsx)("div",{children:(0,ue.jsx)("span",(0,a.Z)((0,a.Z)({"data-tooltip":"Drag to reorder","data-inverted":"","data-position":0===t?"bottom left":"top left"},s.dragHandleProps),{},{className:"sep-sent-drag-handle",onMouseEnter:function(){return n.setState({dragHandleHover:e[0].sceneId})},onMouseLeave:function(){return n.setState({dragHandleHover:void 0})},children:(0,ue.jsx)("i",{className:"fa fa-bars gray-colored mr-1"})}))}),(0,ue.jsx)("div",{className:"sep-sent-container full-width",children:e.map((function(e,t){return n.renderSentence(e)}))})]}))}},"scene_"+e[0].uuid):(0,ue.jsx)(ue.Fragment,{})}},{key:"render",value:function(){var e=this,t={borderRadius:"5px",width:"calc(100% - 10px)"};return(0,ue.jsxs)("div",{className:"on-hover-event",children:[(0,ue.jsx)("style",{children:"i.font-size-2x{font-size: 2em !important;} i.font-size-1x{font-size: 1em !important;} i.font-size-small{font-size: 0.8em !important;} i.font-size-xs{font-size: 0.6em !important;}"}),this.props.subSentencesArrayDetail&&this.props.subSentencesArrayDetail.length>0&&this.props.scrollContainer?(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsxs)(ut,{threshold:500,pageStart:this.state.page,initialLoad:!1,loadMore:this.loadSentences,hasMore:this.state.hasMoreSentences,useWindow:!1,getScrollParent:function(){return e.props.scrollContainer},children:[this.state.allSentences&&this.state.allSentences[0]&&this.state.allSentences[0][0]&&"Custom Intro Scene"===this.state.allSentences[0][0].showSceneNumber&&!this.state.allSentences[0][0].settings.hideScene&&(0,ue.jsx)("div",{children:(0,ue.jsxs)("div",{className:"flex-row ",style:t,children:[(0,ue.jsx)("div",{children:(0,ue.jsx)("span",{className:"sep-sent-drag-handle",children:(0,ue.jsx)("i",{className:"fa fa-bars gray-colored mr-1"})})}),(0,ue.jsx)("div",{className:"sep-sent-container full-width",children:this.renderSentence(this.state.allSentences[0][0])})]})},"intro_"+this.state.allSentences[0][0].uuid),(0,ue.jsx)(it.Z5,{onBeforeDragStart:this.onDragStart,onDragEnd:this.onDragEnd,children:(0,ue.jsx)(it.bK,{droppableId:this.state.dropableId?"droppable-"+this.state.dropableId:"droppable",children:function(t,n){return(0,ue.jsxs)("div",(0,a.Z)((0,a.Z)({ref:t.innerRef},t.droppableProps),{},{children:[e.state.allSentences&&e.state.allSentences.filter((function(e){return!(!e||!e[0])&&"Custom Intro Scene"!==e[0].showSceneNumber&&"Outro Scene"!==e[0].showSceneNumber})).map((function(t,n){return e.renderDragable(t,n)})),t.placeholder]}))}},this.state.dropableId?"droppable-"+this.state.dropableId:"droppable")}),this.state.allSentences&&this.state.allSentences[this.state.allSentences.length-1]&&this.state.allSentences[this.state.allSentences.length-1][0]&&"Outro Scene"===this.state.allSentences[this.state.allSentences.length-1][0].showSceneNumber&&!this.state.allSentences[this.state.allSentences.length-1][0].settings.hideScene&&(0,ue.jsx)("div",{children:(0,ue.jsxs)("div",{className:"flex-row ",style:t,children:[(0,ue.jsx)("div",{children:(0,ue.jsx)("span",{className:"sep-sent-drag-handle",children:(0,ue.jsx)("i",{className:"fa fa-bars gray-colored mr-1"})})}),(0,ue.jsx)("div",{className:"sep-sent-container full-width",children:this.renderSentence(this.state.allSentences[this.state.allSentences.length-1][0])})]})},"outro_"+this.state.allSentences[this.state.allSentences.length-1][0].uuid)]})}):(0,ue.jsx)(G.Z,{active:this.state.isShowOverlay,spinner:!0,text:"Please wait..."})]})}}]),n}(L.PureComponent),ft=n(42599);n(23265),n(22845),n(79833);var vt=n.p+"static/media/audio-ico.8c9d8b64e9808c9c55cf60d8b4d64a6b.svg",xt=n(41293),St=n(30835),yt=(n(38789),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAYAAAAKjPErAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAEH9JREFUaAXNWwlwVdd5/u6521skgTYENmCxSkgKEgYDNdgIL+nE9TjOpKLFNW7smbRN6thuxlmGxuZhT5MwbjKZSZPONOmk09TLWLEz2TrsxhgbMEtSbAmzGGx2ITZJvO2+u/T/z733+WkFS2xHc9+996z/d/7l/Oc/Vwo4tbyqonWJw49TFqxcXGyqjziOd1fOdsdTlgAUD/AULr+eSVNFl66JnVnbbT11wnn53MFEN5Ag+hJEH/gaMCloaSGArU5FzTeLyyvjq3QhvnK0C+g6ngRMaqNTH96g7Qfs9KplJl2gxETd+BgU5Ham09ZXD+14fkeIYbBxJXeqqxORyHjxkqbHv/D+x2exeGaFPW/uZLWifBSVcxUGeb0Y6U+woijIpLNe+75jzovrDym3lBWrRUauI5VzHji8NfFuC0ljayCNfcFKyqffvnKFacYT7x064/zj0kavuXm2VlpaDFUlLvZKAwENudy3bKD8wjx+Dtv0feZBC8v8d48kKp3Jou39g97Pfrklm3ONSNwgjib1ew7t+nZXodpxizBpE2Y/PyWi46t7Pu7CYw/OcO+7b4Eej0dgWTk4jlTTsO4NcY+YOubObVCEIoynf7TenVEZn2NGcw8TcT8BWgekUZSXiLt7MsqYqVW6u2hRk8YASSxIDT2wiNxQF3E3Z9mwbQf1DVPEsrsnOXtPWTB15T5Cp7BtkfrZB6rQdKXhcKeDWxuq3HLSQe6AkElwfepe/1eSYCGElDDTNFBbMxE4b8NzMXXSvOVjmMDmzvpQzvP0Ctf1qpBzUTqqiHRQpQLmYL78hnuQ2hvQZxg6UESgPVeLmzFjMGIFXI9qejxDzL7B6t0w+ZLCwH7JlY2fPXiWBlpfBk6CJFkWUr28PRu46o2Xm+cJLQLRIcgT5Mjc+OwrABAwsSDn0o99F8JLt7jONSRHPiVfRgySlxq+rmnqN97QwjgykDQYm3RN0yTGawZ4aEz95ntEIBUCyJ5RV9dFufzouibX16sJVspMP8Hpl9EL6PBBEhd5XT1w8Che+NGvseWt3Th3rrs3WPfKi/LATBw4N0Tqy1n4dpl35pSv+x6SyQy2/uEEtn5wDosa9uLu5nrU1U1GaWkJFOqdPSjXdUG+5ic+92WOc6WqDQtk4eAqiSymRNE0MYo9h87jzc0b0byoDXct+gSspqnI5aT7RTo89KwX9n2lnkcAMiSW9CHlwnY83FRqYnyZiV0HzmETgb2ruR3Nd9RJzpaVjSKaPQmWiSf36ppxdgQgC+aZ6GXVp3CJzLylIgKFrrf3nsHGLW/g7oV7sWjhDNTVT4YES+Ju28TZwF7wTudqpmGBlFzoQ1UhmVnLlTo7fUwUbqWHzXs7sWFbB+6a73O2vn4K6WyxnBmb9qy+jhf20KfzEb4OC6TPt94jFxrxkDEZy5E6WEtgnXIPO/adxcbtm7B4bnteZ0cTWIYnt3i9u/wUbzz64JM0TJD9O+yfQ8MSWhbJDHGWIym3lEfglnnYfeAs3ti8Afcu3ovFd9ajtrYaxSXxEXhOA43+yRzR0MNNhbwbug/mLNklUFAGDq2dt1REMXvWKKzbfQrLn3gJW7e9Tx34hLLoXuk0TE4yIUPPXiGhTDevNKqq0Hqp4Gy3heOHM5g9pxT3PDYPTU01VN0Hd1lGKNSH/CBD09MLpD9MvuWgDwN1OVBbBsf0mBy7JRDnL9o4fiKLhtoSPPT1JjQ1TkdVVbn0f9nahmkobso+BxosbDzAvRfIy+XNpeqFEsfgGOTpLgsdFHCaOaMESz/fiFmzajCGwLEj4Tg2rZ1OoL8+9ewwsOMfBtHydFOxS5175EFxkpMREJPOV+r/0Atk/+LBcvrDDHMYoKEr0IjIUxey6DiWRePM0Xj4C02Y1TQdY8dW5DmXKwh5MsEa+cKCLJTjuBQxtHAxmaYJyJFb6E+CECoiERPxeBQx0wRvCJCjAcnLjLh2SEI/oocJsk8/chwQkQSOiDzbncXxQxk03lqKZQSuKQDHwWp278J4rrS+ZIgYGG/XUqk0jh8/jY+OnMTHfD9xAZ1nMkj15KCRVMRLdEwYG8eEcWWonToRpzsvIFqqUX8Ur4MmQVZW1hE1vdOwQPrxoHDi6B4RMDSBM2RQjh5Io75pNJbmda6CAPjgWO8KRZC5pxuajKW27f8Q23a0Y+2OIzi9LUVUKiiFBoohklTQUkTcvIAc2kBnPDgKjGvH9BkxTBpjIJfOKumk3cPQ2tvbOeTYKyo+LJChZeUp4x0GDmfxR4qH1U0owtNfb5ScY4PCjjkDy2Z9cKxnnELDwiHFs2e7sHHTTvx0TTuwO4dJdMrU+OAoaM0GvClEbxn5V3wkk6N25z2MPU0e0h4HmVYLqY05FfNIVuOYZEL5GnX9fFtbwmpuTmibNiXylmxYIKUFJy6we2dQ2H7cHLKW99dLgyLBkW6xu2ZliTKiLwTnI5S/pE86jhw5hZd/9SZWrzuKKZ0xFD8chfIQkTtLh1LJ+snSwldh8uA+4CKyLAL1jYzIfC/rKllamRqN56bdnqg+8E7d323atMQuBDoskP6QitSt6dMm4IeJFpSXjybCCRzpnEXGghMdWPhVC35Z1JmDDPDf/nM1duw6j5ndJcBPDYi/jEKtpOgC1ed6fgoUnl+C7kSULG+tCrVWhzrfEJkfJ13nF1mhfTb22PSFe/X9W1oelZwMzl2H7/HQgGzKY7GIXOtIa2QohE18od4FlMobizZbRI4gvPzam9ix/RyaioqAVyMw/qEIGgFkP9AjYyQxSn0Iegif+c7FXIeSMSuC+KpRQvtnw7HXpjw1Fl02bUH9v8pCeZSXCJRE5gzjh+SWzb0080OA455ZDzlcwmsi6+DqNUfRmC2C+0MT5gNxmhiqQ31JbhVMPUuDnDSWCt+n8AkNnnmimfvxbxSr2tO646zNQETVp2r+bGULV2xpqeOYxMhSyDW+XyrxMnHw4BH8ZHUbpp6JAd83YNxPd2YNc4Z1kBnEaz09cp/2sRzSv0ki+2YaXoakJFQBrsdD0jtPjhilIvpEkab8BSzlJJ18RJVnaud+t5wPZkcMkoa5ZAoXel4Ht9Iygd0WipYYUL8Ylb6sBMjEM+GUJBACmt2cRvLJLmQeTCLV3IPUD7phH89J8BIgTwYnBkqSok3QYf5TTHfaMq6iGJ9xdXupLJaVrsEPL/inTp2hnccRTEIE+BsTapXmLycMsIB7TqeN1L93I3VvD9wttAFfTCK7gM4mv5OVoLNbAycubBfQL43avIiifU1zvHdpsuL462okaBW/yolnmMWOjgilJ9Pxdgol95MlvY2WCR6bucdXQIm1M4Pkt7pgPZ4BLCK0gQp4aaeDOWUmHcK95iD1QA/SP6cJuEDuHgOVHVEdSoKO8rTPmarbY5Fxwhx9vmi86iDlwGTfMnTW/9GxDkmIuliHoHUwv0wQkd5FF+n/uYjUX/XA+QWv4woiL0VhfjkCbzNxs0og8i8xkHGBd8ZD9sskys92Ibc3K/ssFF+txlCU2+CKC7opSjCPj+4CTfDrXo1f3lWkUhkcPn4BZSAiJ6sUk/1k+tmpyK5JI70sCe8QGZElGmJbihFdWgwxkSeDEomzsZCWi2dGwXyBAmUTyCj9mLyex4mjHcRRBkLSwnXVSqGoC4SLncRDXaljpQi4eTXR8lJj49yZFGkjAbyJh2T2EUkBVqVcQG1QoX/JgLmUOHYTWUhKXjrgAYmsl6VlqEpH7IliWHN0ZFalIOZSf1GfdtIKbkFbEtqqVakKbQX4vZoPL4jfrDM8DUGHXPcKJ9ZNJ0tiR/0qJTzvNDwPRw88/+YdUejrDCilAsKkY1NSKIVWOIXdbU4BKySvDHInm2ki6qk+AVKKqZA7Y/3kxGjpeyZyAClChjLaGYnjvIs4Q44yb4MM2hVwfX9W/DZX6je/KoeuM9MU0EUMhjqWxuY/XjO5gMv4kVNhlk0v5BwJ9pC4ICgLLbSs7/KncozDs0XWcnZNJyOwftdJ9eTJTs8/hqOBCGnhJZFzM3n1LuN6fj7d+rSTZVTIXNFjfLBPbc/yL1MQ9MfP3AWD44JAmjk7PwnhZHBeyLFw3MIyKpa62eXQx4Ckz5pySnSctzfQ1yIHk7amrFm7K8ccjUYjvcIP0pth1nJn8iIRoffCKywrzAufmS7DMDBubBE6WU9O8KIoYXKRn7jfQnBhfp9qYba8h/QUZLIieN0uXDJgys0k7q53UHTsSZymUOGqujERvP7WMeOVVzZYhz485nGwV+oEmX8+hwwv3jbJ+EtBHpcNlB/m8YQXF8dRU11FKkI7lPfopCvNQD9FGgps2A2DpuScpFDB667mVds0jvInudXa//azP6+5fWXDZyaOevK1d04Yu9p+5y2cM94eN7aMiKeZuZwB/P4H/WXAJymcUdEQUdKvZtXI35LHU2NK8ZZSMFjLgPDBivP5TCPVJWWA/UeKZl8UqlfkdDodyg4NiYSgy933zoqnahc8d6yuUvtm0hKV/732qIbMR/k+Lv+BqSqcleCdpHTcWBNjbo7BWpN1xbqMoEXbF9GAwMHG4B6UQT9FClpRH6we9okcci9lHTEzorp2ZsOhPz1zgNsjBMqPM+58fhrFVL5IBXOI1jIiOKBY2tuQnCCPWwyYAmT5MjmOZbs5V/WmK5aodk+6bvy3xcKYSR4NbZfyxiRsEhCdWZ9C8t5uaHdQvKd1tO/v8pZMRg2Cyiz5wRKT/o8eJ/v3WVW5h7Qz6X5u39bEah+krEsc9e95ZaEQAnnSVyadM+LqnrXfSNbMf26BF/P+F+1qifp5z459d7SmlpEVZMLZaoYUBSDtw+TVfI++SbhNQ/SRIigmVQinmkkLALLByb6VQvrOi5a6KGY4Xrp1/+YVS7hK2CU/yyRjIxzWG+QD2bDeSO6k/99S4ub3nXUZaCsNJ/5UsSpKCGjhklBAGfu1IAdAoSsPkIHyRaxhgLn3aIfylW5L9BiGV26dQo9o3rfzmX2Mp6CrvmQTZ1vahijvW3+od9qk17d79a3QOJrGNWsWJF4U8fhD9tqkqy/X3ejjxZo6zncGJPEMgBNTEFKRlzHKC8CxobHeziDz7SSF6VXDm0BR2JS75MC2xOvhR75hc+7u2qQguDR1aqJEjBUvqrHI/fbaNAWxhBV5Mqbrc0xFBDtABtA/Md98JrodFO78fdqxnko7ymTT8CootpL0Ht2/fcUvqUaATfFCz7B/X1crp72VPv9OaLt3J9LFYtGv1YhdKWr1OfhAVa0fpMmDth1XuArtHninwsmnhLlI539uDx3/fWR71vq0m34h6dirLE2bH1PduNXppbwvHdi+4hW/ATuRi+UsXXtOBpMndT8IAE+bt/JR2sUvF5451XuD3WoLyp8LR7tVeKiglbqIyOQoZw+57Ucdz1nn0AdE9NHMDApA32zBtbzfqkl854Ndz77nc3AlNUjkhfu6gWSshf8BMGP28nFu1HzEi+EhAjRTdJKj8D4LrNwuyamhDRTtOkj4mmgiSnK0u8YG5aL3X/u2r/iNrCD//eNVAuc75zKPfq4rSJ+IwMDx9+OU6N83Rus3K7eJIswn/7oRrnIT7brosIDYq+Is0f+hm8UOpUfZtv/dZ//P7wMolIwwL7z/PyS+rYMhBB28AAAAAElFTkSuQmCC"),bt=n(77049),jt=n(41769),wt=n(18104),Zt=n(12757),kt=n(48755),Ct=n(59341),It=n(18210),Tt=n(90119),Et=n(11198),At=n(5261),_t=n(73507),Rt=n(64923),Pt=n(66823),Nt=n(2983),Ot=n(48527),Dt=n(76045),Ut=n(446),Lt=n(44282),Ft=ae.Z.getUploadedAudio,Vt=ae.Z.deleteImage,Bt=ae.Z.uploadImage,Mt=ae.Z.saveImage,Gt=ae.Z.saveBrandSettings,Wt=ae.Z.getAudioUsersRequest,zt=ae.Z.shareAudioFavAndRecents,Jt=ae.Z.saveAudioFavAndRecents,Ht=ae.Z.deleteAudioFavAndRecents,Kt=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).getUploadedAudio=function(){return r.state.uploadedList&&Array.isArray(r.state.uploadedList)?(0,o.Z)(r.state.uploadedList).filter((function(e){return e.type==r.state.type&&"upload"==e.category})).sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})):[]},r.makeTrackActive=function(e,t,n,s,a,i){if("music"==r.state.type){if("music-apply"==i.target.id){var o,c,l;if(!(0,ye.N$)(null===(o=r.state.user)||void 0===o?void 0:o.username)[je.R2.customMusicTrack])return void(null===(c=(l=r.props).musicTrackNotAllowed)||void 0===c||c.call(l));for(var u=0;u<r.getUploadedAudio().length;u++){var d=document.getElementById("musicPlay"+e);d&&(d.className="playStop fa fa-play")}r.props.makeTrackActive(e,t,n,s,i)}}else if("recording-apply-to-all"==i.target.id)(0,ye.N$)(r.state.user?r.state.user.username:"")[je.R2.manualVoiceOver]||(0,Dt.m)(r.state.plan_code)!==Dt.h?r.props.recordingApplyToAll(t,a):_()("#upgrade-modal-dialog-1").modal("show");else if("recording-adjust"==i.target.id)r.props.toggleAudioTrimmer(!0);else if("recording-apply"==i.target.id){var p="Scene_-4_-1";document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(p=e.id)}));var h=p.split("_"),m=parseInt(h[1]),g=parseInt(h[2]);r.props.recordAudio(t,a,m,g,1)}},r.changeType=function(e,t){var n;0===t?n="music":1===t&&(n="voiceover"),r.setState({type:n,filterValue:"all"})},r.saveBlobFile=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,s){var a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,we.d)();case 2:r.setState({showAssetLoader:!0}),a=document.createElement("audio"),o=URL.createObjectURL(t),a.src=o,a.controls=!0,a.autoplay=!0,a.volume=0,a.play().then((function(e){(0,xt.Z)(t).then((function(e){r.setState({totalSelected:r.state.totalSelected+1});var a=(new Date).toISOString().replace(/\D/g,""),o="/recorded-audio/uploaded_".concat(a,"_audio.").concat(s||"mp3"),l=((0,ye.E3)()?"teams/".concat((0,ye.E3)(),"/users/"):"")+r.props.username+"/project/"+r.props.project_id+o;Z.Ke.put(l,t,{level:"public",ACL:"public-read"}).then(function(){var t=(0,c.Z)((0,i.Z)().mark((function t(s){var o,c,u;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=q.Z.Instance.GetUserUploadUrl(l,"public"),c={id:a,trackId:a,name:n,type:r.state.type,url:o,category:"upload",cognito_id:r.props.username,date:new Date,duration:e||"",teamId:(0,ye.E3)()},u={body:c},t.next=5,r.props.saveAudioFavAndRecents(u);case 5:return r.props.saveAudioStatus,r.setState({filterValue:"all"}),t.next=9,r.props.getAudioFavouritesAndRecent();case 9:r.setState({currentUploadedAudioURL:o,audioIdHovered:a,showAssetLoader:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){}))}))})).catch((function(e){(0,Ze.JQ)("couldn't upload \"".concat(n,'", please try another one')),r.setState({showAssetLoader:!1})}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.getAssetsLoader=function(){return(0,ue.jsxs)("div",{className:"vertical-flex center-center black-floaty-background white-text",style:{marginRight:"15px",marginBottom:"15px"},children:[(0,ue.jsx)("div",{children:(0,ue.jsx)(H(),{size:35,loading:!0,color:"#ADB4B3"})}),(0,ue.jsx)("strong",{children:"Uploading the audio file"})]})},r.getResponsiveBtnWidth=function(){return{"@media (min-width:600px)":{minWidth:"100px"},"@media (min-width:900px)":{minWidth:"100px"},"@media (min-width:1200px)":{minWidth:"100px"},"@media (min-width:1440px)":{minWidth:"100px"},"@media (min-width:1600px)":{minWidth:"120px"},"@media (min-width:1920px)":{minWidth:"120px"},"@media (min-width:2560px)":{minWidth:"120px"},"@media (min-width:3840px)":{minWidth:"120px"},"@media (min-width:4096px)":{minWidth:"120px"}}},r.getResponsiveAdjustBtnWidth=function(){return{"@media (min-width:600px)":{minWidth:"70px",maxWidth:"70px",mr:"5px"},"@media (min-width:900px)":{minWidth:"70px",maxWidth:"70px",mr:"5px"},"@media (min-width:1200px)":{minWidth:"70px",maxWidth:"70px",mr:"5px"},"@media (min-width:1440px)":{minWidth:"70px",maxWidth:"70px",mr:"5px"},"@media (min-width:1600px)":{minWidth:"90px",maxWidth:"90px",mr:"5px"},"@media (min-width:1920px)":{minWidth:"90px",maxWidth:"90px",mr:"5px"},"@media (min-width:2560px)":{minWidth:"90px",maxWidth:"90px",mr:"5px"},"@media (min-width:3840px)":{minWidth:"90px",maxWidth:"90px",mr:"5px"},"@media (min-width:4096px)":{minWidth:"90px",maxWidth:"90px",mr:"5px"}}},r.removeTrack=function(e,t,n,s){if("music"==r.state.type)r.props.removeTrackFromStorage(e,t,s);else{be.Z.setItem("recordedAudio","");var a="Scene_-4_-1";r.props.imageURL,document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){if("block"===e.style.display){a=e.id;var t=e.getElementsByTagName("p");if(t.length>0)for(var n=0;n<t.length;n++)if(n>0&&t[n]&&t[n].innerText)t[n].innerText}}));var i=a.split("_"),o=i[1],c=i[2];r.props.removeRecordedAudio(o,c,!0)}},r.deleteTrack=function(e,t){if(null==t||t.stopPropagation(),r.state.user){r.props.deleteAudioFavAndRecents({username:r.state.user.username,id:e});var n=r.state.uploadedList.filter((function(t){return t.id!==e}));r.setState({uploadedList:n})}},r.filterAudio=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({filterValue:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.openShareAudioDialog=function(e){var t;e=e.replace(/[^0-9]/g,"");var n=null===(t=r.props.audioUsersMapping)||void 0===t?void 0:t.Items.filter((function(t){return t.audioId==e}));r.setState({openShareAudioDialog:!0,audioMapping:n,selectedAudioForShare:e})},r.openShareAudioPopover=function(e,t){var n,s;t=t.replace(/[^0-9]/g,"");var a=null===(n=r.props.audioUsersMapping)||void 0===n?void 0:n.Items.filter((function(e){return e.audioId==t}));r.setState({openAudioMapping:!r.state.openAudioMapping,anchorElAudioMapping:e.currentTarget,audioMapping:a,selectedAudioForShare:t,disableRemoveShare:(null===(s=a[0])||void 0===s?void 0:s.sharedByUserId)!==r.state.user.username})},r.shareAudio=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.selectedAudioForShare||r.state.selectedAudioCheckbox,e.next=3,r.props.shareAudioFavAndRecents(r.state.user.username,n,t);case 3:"success"===(s=e.sent)?(setTimeout((function(){var e=Array.isArray(n)?n.length:1,s=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Audio share removed for the chosen team member":"".concat(e," audio").concat(e>1?"s":""," shared with selected team members");r.setState({showAlertNotification:s})}),100),r.props.getAudioUsersRequest((0,ye.E3)(),r.state.user.username),w().getInstance().logEvent("asset-shared",{"asset-type":"audio","use-case":r.props.source,"project-id":r.props.project_id,"workspace-name":(0,ye.CV)(r.state.user.username)})):(a=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Audio share could not be removed. Please contact support":"Audio could not be shared. Please contact support",r.setState({showAlertNotification:a}),w().getInstance().logEvent("asset-share-error",{"asset-type":"audio","use-case":r.props.source,"project-id":r.props.project_id,"workspace-name":(0,ye.CV)(r.state.user.username),response:s}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectMultiple=function(e,t){var n,s=(0,o.Z)(r.state.selectedAudioCheckbox||[]),a=s.findIndex((function(e){return e===t}));a>-1?e||s.splice(a,1):e&&s.push(t);for(var i=[],c=(null===(n=r.props.audioUsersMapping)||void 0===n?void 0:n.Items)||[],l=0;l<c.length&&1==s.length;l++){var u=c[l];s.includes(u.audioId)&&i.push(u)}r.setState({selectedAudioCheckbox:s,audioMapping:i})},r.state={uploadedList:r.props.uploadedAudio,brandSetting:r.props.brandSetting,user:"",files:[],fileNames:[],fileTypes:[],imagesPreviewUrls:[],addErrorClass:"",showOverlay:!1,favouritesList:[],imageLoaded:!1,type:"voiceover",uploadType:"",totalSelected:0,percent:0,alertSeverity:"success",fileValidations:null,errorMsg:null,plan_code:null,openAlertTooltip:null,autoSyncBanner:!1},r.handleAudioChange=r.handleAudioChange.bind((0,d.Z)(r)),r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e,t=this;q.Z.Instance.Configure(),k.g.currentAuthenticatedUser().then((function(e){t.setState({user:e}),t.fileRef.addEventListener("click",(function(n){(0,ye.N$)(e.username)[je.R2.customMusicTrack]&&"music"==t.state.type||"voiceover"==t.state.type||(n.preventDefault(),t.props.musicTrackNotAllowed&&t.props.musicTrackNotAllowed())}));var n=(0,ye.E3)();n&&t.props.getAudioUsersRequest(n,t.state.user.username),t.setState({fileValidations:(0,ye.eF)(t.state.user?t.state.user.username:"")})})).catch(function(e){}.bind(this));var n=(0,ye.we)(this.props.username);this.setState({plan_code:(null==n||null===(e=n.plan)||void 0===e?void 0:e.plan_code)||"",autoSyncBanner:be.Z.getItem("autoSyncBanner")})}},{key:"componentWillReceiveProps",value:function(e){e.uploadedAudio&&e.uploadedAudio!==this.props.uploadedAudio&&this.setState({uploadedList:e.uploadedAudio})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.refresh;if(t.id,e.refresh!==n&&e.type&&this.state.type!==e.type&&this.setState({type:e.type}),this.props.audioUsersMapping&&this.props.audioUsersMapping!==e.audioUsersMapping){for(var r=[],s=this.props.audioUsersMapping.Items||[],a=0;a<s.length&&this.state.selectedAudioForShare;a++){var i=s[a];this.state.selectedAudioForShare==i.audioId&&r.push(i)}this.setState({audioMapping:r})}}},{key:"handleAudioChange",value:function(e){var t=this;if(e.preventDefault(),(0,ye.N$)(this.state.user?this.state.user.username:"")[je.R2.customMusicTrack]&&"music"==this.state.type||"voiceover"==this.state.type){this.setState({files:[]});var n=Array.from(e.target.files),r=!1,s=!1,a=je.tP.audio,i=this.state.fileValidations.audioUploadMaxSize;if(n.forEach((function(e){if(r=a.every((function(t){return e.type!==t})),s=e.size/1e6>i,!r&&!s){var n=void 0;"audio/x-ms-wma"==e.type?n="wma":"audio/wav"==e.type&&(n="wav"),t.saveBlobFile(e,e.name,n)}})),this.fileRef.value="",r||s)return void this.setState({errorMsg:"Please choose a file that has a valid format and size less than ".concat(this.state.fileValidations.audioUploadMaxSize," mb")})}else this.props.musicTrackNotAllowed&&this.props.musicTrackNotAllowed()}},{key:"render",value:function(){var e,t,n,r,i,o,c=this,l=this.getUploadedAudio(),u=(0,ye.E3)();return(0,ue.jsxs)("div",{className:"card block-1 fill-height",children:[(0,ue.jsx)(St.k,{id:"upgrade-modal-dialog-1",msgHtml:(0,ue.jsxs)(ue.Fragment,{children:["Apply uploaded audio to entire video ",(0,ue.jsx)("br",{}),"with a Professional plan"]})}),(0,ue.jsxs)(b.Z,{value:"voiceover"===this.state.type?1:0,onChange:this.changeType,children:[(0,ue.jsx)(y.Z,{label:"Background music"}),(0,ue.jsx)(y.Z,{label:"Voiceover"})]}),(0,ue.jsx)("div",{className:"tab-content",children:(0,ue.jsx)("div",{id:"recordings-tabpane-recordings","aria-labelledby":"recordings-tab-recordings",role:"tabpanel",className:"tab-pane active",children:(0,ue.jsx)("div",{className:"card no-border fill-height",children:(0,ue.jsx)("div",{className:"card-body ov-right-dep pt-3 pr-0 fill-height",children:(0,ue.jsx)("div",{style:{height:"100%",flexWrap:"nowrap"},className:"theme-var content fill-height",children:(0,ue.jsx)("div",{className:"col-12 p-0 pr-3 fill-height",children:(0,ue.jsxs)("div",{className:"row vertical-flex fill-height",id:"voice-over-uploads",style:{flexWrap:"nowrap"},children:[(0,ue.jsxs)("form",{className:"upload-imgform",style:{position:"relative",borderRadius:"5px"},children:[(0,ue.jsxs)("div",{className:"upload-label",onClick:function(){return c.setState({uploadType:"browsed",errorMsg:null})},children:[(0,ue.jsx)("input",{type:"file",id:"file",ref:function(e){return c.fileRef=e},onChange:this.handleAudioChange.bind(),accept:je.tP.audio.join(","),multiple:!0}),(0,ue.jsxs)("label",{className:"helper-content text-center",children:[(0,ue.jsx)("img",{src:yt,alt:""}),(0,ue.jsxs)("p",{className:"mb-0 helper-text",children:["Drag and drop files or ",(0,ue.jsx)("br",{})," browse from your computer ",(0,ue.jsx)("br",{}),(0,ue.jsxs)(m.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px"},children:["Audio files"," ",(0,ue.jsx)(S.Z,{sx:{zIndex:"999"},title:(0,ue.jsxs)(g.Z,{sx:{p:"5px"},children:[(0,ue.jsx)(m.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px",mb:"4px"},children:"Supported format types and sizes"}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(m.Z,{variant:"text_sm",sx:{mb:"2px"},children:["Audio - MP3, WAV, and WEBA up to"," ",null===(e=this.state.fileValidations)||void 0===e?void 0:e.audioUploadMaxSize," MB"]})]}),placement:"bottom",children:(0,ue.jsx)(Ct.Z,{fontSize:"small",sx:{width:"13px",height:"13px",ml:"2px",mb:"3px"}})})]})]}),this.state.errorMsg&&(0,ue.jsx)(m.Z,{component:"span",variant:"text_xs",color:"error.main",children:this.state.errorMsg})]})]}),this.state.showAssetLoader?this.getAssetsLoader():null,(0,ue.jsxs)("div",{children:[u&&(0,ue.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ue.jsx)(S.Z,{title:(null===(t=this.state.selectedAudioCheckbox)||void 0===t?void 0:t.length)>0?"":"Select audio to share",children:(0,ue.jsx)(g.Z,{children:(0,ue.jsxs)(v.Z,{onClick:function(e){return c.setState({openShareAudioDialog:!0,selectedAudioForShare:void 0})},disabled:!((null===(n=this.state.selectedAudioCheckbox)||void 0===n?void 0:n.length)>0),children:[(0,ue.jsx)(_t.Z,{fontSize:"small",sx:{mr:1,transform:"scaleX(-1)"}}),"Share"+((null===(r=this.state.selectedAudioCheckbox)||void 0===r?void 0:r.length)>0?" selected":"")]})})}),(0,ue.jsx)(bt.default,{filterData:this.filterAudio,filterValue:this.state.filterValue})]}),(0,ue.jsx)("p",{className:"mt-0 mb-0 left-aligned pl-01 bold",children:"music"===this.state.type?"Background music will be applied to the entire project":"Recent uploads"})]})]}),"pending"==this.props.audioImportStatus&&(0,ue.jsxs)(x.Z,{spacing:1,sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:"26px",padding:"0 1rem"},children:[(0,ue.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%"},children:[(0,ue.jsx)(Nt.Z,{variant:"circular",width:26,height:26,sx:{display:"block",mr:"1em"}}),(0,ue.jsx)(Nt.Z,{variant:"rounded",height:16,sx:{display:"block",width:"50%"}})]}),(0,ue.jsx)(Nt.Z,{variant:"rounded",width:24,height:24,sx:{display:"block",marginTop:"0 !important",marginRight:"10px !important"}})]}),"music"!==this.state.type&&!this.state.autoSyncBanner&&(0,ue.jsx)(g.Z,{class:"rotating-border voice-over-banner ai-sync-banner",sx:{background:"#EAF4FD !important"},children:(0,ue.jsxs)(g.Z,{sx:{display:"flex",height:"100%"},children:[(0,ue.jsx)(Et.Z,{sx:{position:"absolute",right:"10px",top:"9px",fontSize:"18px",cursor:"pointer"},onClick:function(){c.setState({autoSyncBanner:!0}),be.Z.setItem("autoSyncBanner",!0)}}),(0,ue.jsx)(g.Z,{sx:{minWidth:"unset",margin:"-2px 8px 0 0",width:"24px"},children:(0,ue.jsx)(At.Z,{sx:{color:"#2D57C6"}})}),(0,ue.jsxs)(g.Z,{sx:{paddingRight:"10px"},children:[(0,ue.jsxs)(m.Z,{color:"primary.main",sx:{fontSize:"16px !important",fontWeight:"600 !important ",margin:"0 0 0 0 !important"},children:["AI AutoSync will match audio to your video"," "]}),(0,ue.jsx)(g.Z,{children:(0,ue.jsx)(m.Z,{variant:"text_sm",sx:{margin:"5px 0 0 0 !important",color:"#4D6274",display:"inline-block"},children:"AutoSync enables you to effortlessly record and synchronize your voiceover with each scene in your video."})})]})]})}),(0,ue.jsxs)("ol",{className:"track-list-2 height-minus-form mCustomScrollbar p-0",children:[l.filter((function(e){return!c.state.filterValue||("my"==c.state.filterValue?!e.isShared||0==e.isShared:"sharedwithme"!=c.state.filterValue||1==e.isShared)})).map((function(e,t){var n,r,i,o,l,d,p,h,f,x=!1,y={};if("music"==c.state.type)x=c.props.activeTrack==e.id||"id:".concat(c.props.activeTrack)==e.id;else if("voiceover"==c.state.type){var b=be.Z.getItem("recordedAudio"),j=c.props.listOfRecordedAudio,w=j.findIndex((function(t){return t.url===e.url}));-1!=w&&(y=j[w]),(y.recordingApplyToAll||b==e.url)&&(x=!0)}var Z=null!==(n=e.name)&&void 0!==n&&n.includes("/recorded")?"voiceover"==c.state.type?e.name.split("/").pop():"Music "+(t+1):e.name,k="voiceover"===c.state.type&&!O().isEmpty(y)&&y.recordingApplyToAll,C="voiceover"===c.state.type&&!O().isEmpty(y)&&!y.recordingApplyToAll,I=e.id.replace(/[^0-9]/g,""),T=null===(r=c.props.audioUsersMapping)||void 0===r?void 0:r.Items.filter((function(e){return e.audioId==I})),E=null!=T&&null!==(i=T[0])&&void 0!==i&&i.sharedByUserId&&T[0].sharedByUserId!==c.state.user.username?(0,ue.jsxs)(m.Z,{component:"div",className:"sub-text ellipsis-full-width",sx:{ml:"-2px"},children:["By ",(0,ye.Yf)(T[0])]}):(0,ue.jsx)(ue.Fragment,{}),A=(null==T||null===(o=T[0])||void 0===o?void 0:o.isShared)&&(null==T||null===(l=T[0])||void 0===l?void 0:l.sharedByUserId)!==c.state.user.username,_=A&&(0,ue.jsxs)(ue.Fragment,{children:["This audio is owned by ",(0,ye.Yf)(T[0]),". ",(0,ue.jsx)("br",{}),"Ask ",(0,ye.Zo)(T[0])," to delete."]}),R=A&&(0,ue.jsxs)(ue.Fragment,{children:["This audio is owned by ",(0,ye.Yf)(T[0]),". ",(0,ue.jsx)("br",{}),"Ask ",(0,ye.Zo)(T[0])," to provide access."]}),P="branding"==e.context,N=P?"This music track can't be deleted here as it was uploaded to a brand":"",D="branding"==e.context&&(null===(d=c.props.brandingBgMusicList)||void 0===d?void 0:d.find((function(t){return t.audio_id==e.id})));return(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsx)("li",{className:"addRemoveActiveClassForTrack on-hover-event ".concat(x?"active":""),id:"track_li_"+e.id,onMouseOver:function(){return c.setState({audioIdHovered:e.id})},style:{padding:"0 0 0 16px"},children:(0,ue.jsx)("div",{className:"col pt-2 pb-2 pl-0 pr-0 track-row",id:"track_div_"+e.id,onClick:function(t){return c.makeTrackActive(e.id,e.url,"music",e.name,e.duration,t)},children:(0,ue.jsxs)("div",{className:"horizontal-flex start-center",children:[u&&(0,ue.jsx)(S.Z,{title:R,children:(0,ue.jsx)(g.Z,{className:null!==(p=c.state.selectedAudioCheckbox)&&void 0!==p&&p.includes(e.id)?"":"show-on-hover",children:(0,ue.jsx)(jt.Z,{checked:!(null===(h=c.state.selectedAudioCheckbox)||void 0===h||!h.includes(e.id)),onChange:function(t){return c.selectMultiple(t.target.checked,e.id)},disabled:A,size:"small",sx:{width:"30px",height:"30px",color:"grey.400",p:0,ml:"2px"}})})}),(0,ue.jsxs)("div",{className:"track-icon-play pl-0 col-2",children:[c.props.activeAudioTrack!==e.id&&(0,ue.jsx)(wt.Z,{sx:{p:"0"},onClick:function(t){return c.props.playMusic(e.url,e.id,e.name,t,!0)},children:(0,ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20V20C35 28.285 28.285 35 20 35V35C11.715 35 5 28.285 5 20V20C5 11.715 11.715 5 20 5V5C28.285 5 35 11.715 35 20Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.2353 15.097L24.7053 18.9237C25.5236 19.407 25.5236 20.592 24.7053 21.0754L18.2353 24.902C17.402 25.3954 16.3486 24.7937 16.3486 23.8254V16.1737C16.3486 15.2054 17.402 14.6037 18.2353 15.097Z",fill:"#424242"})]})}),c.props.activeAudioTrack==e.id&&(0,ue.jsx)(wt.Z,{sx:{p:"0"},onClick:function(t){return c.props.playMusic(e.url,e.id,e.name,t,!1)},children:(0,ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20C35 28.285 28.285 35 20 35C11.715 35 5 28.285 5 20C5 11.715 11.715 5 20 5C28.285 5 35 11.715 35 20Z",fill:"#424242",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,ue.jsx)("rect",{x:"15",y:"15",width:"10",height:"10",rx:"2",fill:"white"})]})})]}),(0,ue.jsxs)("div",{className:"col-6 p-0 flex-filler override-width default-cursor"+(k||c.state.currentUploadedAudioURL==e.url&&c.state.audioIdHovered==e.id?" reduce-width":C?" reduce-width-100":""),children:[(0,ue.jsxs)("h5",{className:"mb-0 track-heading",title:Z,children:[Z,D&&(0,ue.jsx)(S.Z,{title:"Part of your applied brand",placement:"top",arrow:!0,children:(0,ue.jsx)(kt.Z,{sx:{color:"primary.main",marginLeft:"5px",fontSize:"18px"}})})]}),E]}),(0,ue.jsx)("div",{className:"flex-filler"}),"music"===c.state.type&&x&&(0,ue.jsxs)(g.Z,{id:"recording-applied",className:"default-cursor",sx:{marginTop:"-6px !important",height:"33px",border:"1px solid rgb(133, 44, 255) !important",borderRadius:"20px !important",color:"rgb(133, 44, 255) !important",fontSize:"13px !important",display:"flex",alignItems:"center",overflow:"hidden",padding:"1px 10px 2px 17px !important",maxWidth:"max-width"},children:[(0,ue.jsx)(m.Z,{sx:{m:"1px 0 0 0 !important",color:"rgb(133, 44, 255) !important",fontSize:"13px !important"},children:"Applied"}),x&&(0,ue.jsx)(wt.Z,{sx:{margin:" 0 -12px 0 7px",borderRadius:0,padding:"8px 7px 8px 0","&:hover":{backgroundColor:"rgb(240, 233, 252)"}},title:"Remove track",className:"",onClick:function(t){return c.removeTrack(e.id,e.name,e.url,t)},children:(0,ue.jsx)(Et.Z,{sx:(0,s.Z)({fontSize:"20px",marginLeft:"5px",color:"grey.0",cursor:"pointer"},"color","rgb(133, 44, 255)")})})]}),"music"===c.state.type&&!x&&(0,ue.jsx)(g.Z,{id:"music-apply",className:"show-on-hover apply pointer",sx:{height:"30px",display:"flex",alignItems:"center",fontSize:"13px !important",color:"#fff !important ",border:"0 !important",background:"rgb(133, 44, 255) !important",padding:"7px 12px 9px 12px !important"},children:"Apply"}),k&&(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(g.Z,{className:"apply pointer",sx:(0,a.Z)({background:"#fff !important",color:"#852CFF !important",height:"33px",border:"1px solid #852CFF !important",fontSize:"13px !important",display:"flex",alignItems:"center",justifyContent:"center"},c.getResponsiveAdjustBtnWidth()),children:(0,ue.jsx)(m.Z,{id:"recording-adjust",variant:"text_xs_13",sx:{whiteSpace:"nowrap",m:"0 !important",color:"#852CFF !important"},children:"Adjust"})}),(0,ue.jsxs)(g.Z,{id:"recording-applied",className:"default-cursor",sx:(0,a.Z)({background:"#fff !important",color:"#852CFF !important",height:"33px",border:"1px solid #852CFF !important",fontSize:"13px !important",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"20px !important",overflow:"hidden",maxWidth:"120px",padding:"0 17px 0px 28px !important"},c.getResponsiveBtnWidth()),children:[(0,ue.jsx)(m.Z,{variant:"text_xs_13",sx:{whiteSpace:"nowrap",m:"0 !important",color:"#852CFF !important"},children:"Entire video"}),(0,ue.jsx)(wt.Z,{onClick:function(t){return c.removeTrack(e.id,e.name,e.url,t)},sx:{height:"100%",borderRadius:"0",backgroundColor:"#fff",padding:"10px 10px 10px 4px",margin:"0px -7px 0 5px !important",color:"#852CFF !important","&:hover":{backgroundColor:"#F0E9FC"}},children:(0,ue.jsx)(Et.Z,{sx:{fontSize:"20px"}})})]})]}),C&&(0,ue.jsxs)(g.Z,{className:"pointer",id:"recording-scene-tag",sx:(f={m:"0 !important",flexDirection:"row-reverse",height:"30px",justifyContent:"center",alignItems:"center",padding:"10px !important",borderRadius:"15px !important",background:"transparent !important",minWidth:"max-content"},(0,s.Z)(f,"padding","0 0 0 0 !important"),(0,s.Z)(f,"border","1px solid #852CFF"),(0,s.Z)(f,"height","33px"),(0,s.Z)(f,"display","flex"),(0,s.Z)(f,"alignItems","center"),(0,s.Z)(f,"flexDirection","row"),(0,s.Z)(f,"overflow","hidden"),(0,s.Z)(f,"m","0 0 0 10px !important"),f),children:[(0,ue.jsxs)(m.Z,{sx:(0,s.Z)({m:"-6px 0 0 0 !important",color:"#852CFF !important",fontSize:"13px !important"},"m","0 0 0 10px !important"),children:["Applied to"," ",y.showSceneNumber?y.showSceneNumber:"Scene"+y.sceneNumber]}),(0,ue.jsx)(wt.Z,{sx:{margin:" 0 -5px 0 7px",borderRadius:0,padding:"8px 13px 8px 0","&:hover":{backgroundColor:"rgb(240, 233, 252)"}},title:"Remove track",className:"",onClick:function(t){return c.removeTrack(e.id,e.name,e.url,t)},children:(0,ue.jsx)(Et.Z,{sx:(0,s.Z)({fontSize:"20px",marginLeft:"5px",color:"grey.0",cursor:"pointer"},"color","rgb(133, 44, 255)")})})]}),"voiceover"===c.state.type&&O().isEmpty(y)&&(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsx)(Lt.Z,{menu:[{handle:(0,ue.jsx)("div",{id:"recording-apply",style:c.state.currentUploadedAudioURL==e.url&&c.state.audioIdHovered==e.id?{display:"block"}:{},children:"Current scene"}),onClick:function(){return function(){}}},{handle:(0,ue.jsx)("div",{style:c.state.currentUploadedAudioURL==e.url&&c.state.audioIdHovered==e.id?{display:"block",position:"relative"}:{position:"relative"},children:(0,ue.jsx)(g.Z,{sx:{display:"flex",alignItems:"center"},onMouseEnter:function(){c.setState({openAlertTooltip:e.id})},onMouseLeave:function(){c.setState({openAlertTooltip:null})},children:(0,ue.jsx)(S.Z,{title:(0,ye.N$)(c.state.user?c.state.user.username:"")[je.R2.manualVoiceOver]||(0,Dt.m)(c.state.plan_code)!==Dt.h.prohibited?(0,Dt.m)(c.state.plan_code)===Dt.h.permittedWithCrown?"Enjoy this Professional Plan asset during your trial period!":"Auto sync the voiceover":"Only available to Professional and Teams plans",children:(0,ue.jsx)(g.Z,{children:(0,ue.jsxs)(g.Z,{id:"recording-apply-to-all",className:"d-flex ".concat((0,ye.N$)(c.state.user?c.state.user.username:"")[je.R2.manualVoiceOver]||(0,Dt.m)(c.state.plan_code)!==Dt.h.prohibited?"":"disabled"),children:["Entire video",!(0,ye.N$)(c.state.user?c.state.user.username:"")[je.R2.manualVoiceOver]&&(0,Dt.m)(c.state.plan_code)===Dt.h.prohibited||(0,Dt.m)(c.state.plan_code)===Dt.h.permittedWithCrown&&(0,ue.jsx)(g.Z,{sx:{display:"flex",ml:"5px"},children:(0,ue.jsx)("img",{src:"/images/premium-crown.svg"})})]})})})})}),onClick:function(){return function(){}}}],anchorOrigin:{vertical:"bottom"},trigger:function(e,t){var n;return(0,ue.jsxs)(v.Z,{variant:"contained",className:t?"":"show-on-hover",sx:{borderRadius:"50px",paddingRight:"30px",fontSize:"14px",background:"#852CFF","&:hover":{background:"#852CFF"}},onClick:e,children:["Apply"," ",(0,ue.jsx)(Ut.Z,{size:"small",sx:(n={position:"absolute",right:"10px",fontSize:"20px"},(0,s.Z)(n,"right","6px"),(0,s.Z)(n,"top","7px"),n)})]})}})}),(0,ue.jsx)("div",{className:"track-time text-right",style:{margin:"0 0px 0 1rem"},children:(0,ue.jsx)("p",{className:"mb-0 track-timer",style:{margin:"0"},children:e.duration?U().utc(1e3*e.duration).format("mm:ss"):"00:00"})}),(0,ue.jsxs)(g.Z,{className:"on-hover-event col-1",children:[(0,ue.jsx)(g.Z,{sx:{backgroundColor:"white",borderRadius:"4px",p:"0 2px 2px",cursor:"pointer",width:"max-content"},children:(0,ue.jsx)(It.Z,{fontSize:"small",sx:{transform:"rotate(90deg)"}})}),c.state.audioIdHovered===e.id&&(0,ue.jsx)(g.Z,{className:"show-on-hover-child shadow",sx:{position:"absolute",top:"26px",right:"0px",width:"max-content",borderColor:"transparent",backgroundColor:"common.white",borderRadius:"4px",zIndex:2},children:(0,ue.jsxs)(Zt.Z,{orientation:"vertical",color:"grey",sx:{"& .MuiButtonGroup-grouped:not(:last-of-type):hover":{borderColor:"transparent"},"& .MuiButtonGroup-grouped:hover":{borderColor:"transparent"},"& .MuiButton-root":{fontSize:"14px",py:1,justifyContent:"start",borderColor:"transparent"},"& .MuiButton-root.Mui-disabled":{borderColor:"transparent"}},children:[u&&(0,ue.jsx)(S.Z,{title:R,children:(0,ue.jsx)(g.Z,(0,a.Z)((0,a.Z)({component:"span"},A?{sx:{cursor:"default"}}:{}),{},{children:(0,ue.jsx)(v.Z,{variant:"outlined",startIcon:(0,ue.jsx)(_t.Z,{fontSize:"small",sx:{transform:"scaleX(-1)"}}),onClick:function(){return c.openShareAudioDialog(e.id)},disabled:A,children:"Share"})}))}),(0,ue.jsx)(S.Z,{title:_||N,children:(0,ue.jsx)(g.Z,(0,a.Z)((0,a.Z)({component:"span"},A||P?{sx:{cursor:"default"}}:{}),{},{children:(0,ue.jsx)(v.Z,{variant:"outlined",fullWidth:!0,color:"error",disabled:x||A||P,startIcon:(0,ue.jsx)(Tt.Z,{fontSize:"small"}),onClick:function(){return c.deleteTrack(e.id)},children:"Delete"})}))})]})})]})]})})},e.id)})})),(0,ue.jsx)(g.Z,{sx:{height:"70px"}})]})]})})})})})})}),this.state.openShareAudioDialog&&(0,ue.jsx)(Rt.I,{open:this.state.openShareAudioDialog,onClose:function(){return c.setState({openShareAudioDialog:!1,selectedAudioForShare:void 0,selectedAudioCheckbox:[]})},assetMapping:this.state.audioMapping,teamUsers:this.props.teamUsers,shareAsset:this.shareAudio,cognito_id:this.state.user.username,assetType:"audio",title:"Share ".concat((null===(i=this.state.selectedAudioCheckbox)||void 0===i?void 0:i.length)||1," audio").concat((null===(o=this.state.selectedAudioCheckbox)||void 0===o?void 0:o.length)>1?"s":"")}),this.state.openAudioMapping&&(0,ue.jsx)(Ot.y,{open:this.state.openAudioMapping,onClose:function(){return c.setState({openAudioMapping:!1,selectedAudioForShare:void 0})},assetMapping:this.state.audioMapping,teamUsers:this.props.teamUsers,shareAsset:this.shareAudio,anchorEl:this.state.anchorElAudioMapping,disableRemoveShare:this.state.disableRemoveShare}),(0,ue.jsx)(Pt.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,onClose:function(){return c.setState({showAlertNotification:void 0})},severity:this.state.alertSeverity})]})}}]),n}(L.Component),qt=(0,W.$j)((function(e){return{imageList:e.uploadImage.imageListResult.Items,saveImageStatus:e.uploadImage.saveImageStatus,uploadImageStatus:e.brandSettings.uploadImageStatus,saveSettingsStatus:e.brandSettings.saveSettingsStatus,audioUsersMapping:e.favouriteAndRecents.audioUsersResult}}),{saveAudioFavAndRecents:Jt,getUploadedAudio:Ft,deleteImage:Vt,uploadImage:Bt,saveImage:Mt,saveBrandSettings:Gt,deleteAudioFavAndRecents:Ht,getAudioUsersRequest:Wt,shareAudioFavAndRecents:zt})(Kt),Yt=n(89554),Qt=n(10366),Xt=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).voiceOverOnEntireVideo=function(){return r.props.subSentencesArrayDetail.some((function(e){return e.recordingApplyToAll}))},r.updateItemCopied=function(e){r.setState({isItemCopied:e})},r.getDeletedSceneCount=function(){return r.props.subSentencesArrayDetail.filter((function(e){return e.isActive})).length},r.state={isShowOverlay:!1,isItemCopied:!1},r}return(0,u.Z)(n,[{key:"componentWillMount",value:function(){this.props.imageURL&&this.props.imageAssets&&!this.props.allowReelFastVideo&&this.props.loadMediaResources(this.props.imageURL,this.props.imageAssets)}},{key:"componentWillReceiveProps",value:function(e){this.props.imageAssets===e.imageAssets||this.props.allowReelFastVideo||this.props.loadMediaResources(e.imageURL,e.imageAssets)}},{key:"render",value:function(){var e,t,n=this;if(this.props.subSentencesArrayDetail){t=this.props.currentActiveDiv-1;var r=this.props.subSentencesArrayDetail[t],s=this.props.subSentencesArrayDetail.find((function(e){return e.isActive}))||r;e=r.isActive?r:s}return(0,ue.jsxs)("div",{children:[e&&(0,ue.jsx)(Xe.ZP,{isVoiceOverApplying:this.props.isVoiceOverApplying,previewReady:this.props.previewReady,showPreviewProgress:this.props.showPreviewProgress,allScenesArray:this.props.subSentencesArrayDetail,showDeletePopup:this.props.showDeletePopup,deletedSceneCount:this.getDeletedSceneCount(),setOpenConfirmDeleteDialog:this.props.setOpenConfirmDeleteDialog,videoPreviewComponentNew:this.props.videoPreviewComponentNew,closePreviewFlag:this.props.closePreviewFlag,playScenePreviewNew:this.props.playScenePreviewNew,closePreviewNew:this.props.closePreviewNew,refreshAfterAddSceneBefore:this.state.refreshAfterAddSceneBefore,checkMuteClipAudio:this.props.checkMuteClipAudio,applyMuteClipAudioToAllScene:this.props.applyMuteClipAudioToAllScene,imagesAssets:this.props.imageAssets,getAudioFavouritesAndRecent:this.props.getAudioFavouritesAndRecent,project_id:this.props.project_id,recordAudio:this.props.recordAudio,trimVideoNotAllowed:this.props.trimVideoNotAllowed,user:this.props.user,showFocusOverlay:this.props.showFocusOverlay,paragraphWidth:e.paragraphWidth,leftCoordinate:e.leftCoordinate,topCoordinate:e.topCoordinate,aspectRatioClass:this.props.aspectRatioClass,aspectRatioFractionValue:this.props.aspectRatioFractionValue,videoDuration:this.props.videoDuration,videoTotalDurationInSeconds:this.props.videoTotalDurationInSeconds,videoDurationLimit:this.props.videoDurationLimit,videoDurationLimitWithGrace:this.props.videoDurationLimitWithGrace,videoDurationToolTip:this.props.videoDurationToolTip,trimScene:this.props.trimScene,themeChange:this.props.themeChange,animationTheme:this.props.animationTheme,changeActiveDiv:this.props.changeActiveDiv,isActive:e.isActive,SceneDivId:"Scene_"+e.sceneId+"_"+e.subSceneId,FigureId:"figure_"+e.sceneId+"_"+e.subSceneId,SceneTextPId:"pSceneText_"+e.sceneId+"_"+e.subSceneId,BackButtonSceneId:"BackScene_"+e.sceneId+"_"+e.subSceneId,NextButtonSceneId:"NextScene_"+e.sceneId+"_"+e.subSceneId,PreviewPauseButton:"PreviewPauseButton_"+e.sceneId+"_"+e.subSceneId,confirmationBox:"confirmationBox_"+e.sceneId+"_"+e.subSceneId,refresh:this.props.refresh,SceneId:e.sceneId,transcribeVideoLength:e.transcribeVideoLength,SubSceneId:e.subSceneId,CounterSubSence:t+1,subSceneTime:this.props.timePerFrame&&this.props.timePerFrame[t],SetTimePerFrame:this.props.SetTimePerFrame,SetTimePerFrameForAllScenes:this.props.SetTimePerFrameForAllScenes,Sentence:e.subSentences,AllSubSentences:e.AllSubSentences,imageUrl:this.props.imageURL[parseInt(e.sceneId)-1],imageAsset:this.props.imageAssets[parseInt(e.sceneId)-1],mediaResources:this.props.mediaResources,SubSentencesLength:e.AllSubSentences.length,subSentenceIndex:t,showSceneNumber:e.showSceneNumber,isOverlayShown:this.props.isOverlayShown,Url:this.props.Url,brandSetting:this.props.brandSetting,fontSize:e.fontSize,fontNameForFront:e.FontNameForFront,fontName:e.fontName,fontColor:e.fontColor,backgroundColor:e.backgroundColor,textBackgroundColor:e.textBackgroundColor,backcolorFullwidth:e.backcolorFullwidth,keywordColor:e.keywordColor,logoImage:e.logoImage,logoLocation:e.logoLocation,showLogo:e.showLogo,InsertNewScene:this.props.InsertNewScene,InsertNewSubScene:this.props.InsertNewSubScene,insertSceneBefore:this.props.insertSceneBefore,insertSubsceneBefore:this.props.insertSubsceneBefore,DeleteMultipleScenes:this.props.DeleteMultipleScenes,DeleteSubScene:this.props.DeleteSubScene,isOpenTextEditor:e.isOpenTextEditor,closeOpenTextEditor:this.props.closeOpenTextEditor,saveTextEditorValue:this.props.saveTextEditorValue,checkImageZoom:this.props.checkImageZoom,checkVoiceOver:this.props.checkVoiceOver,checkMusic:this.props.checkMusic,checkLoopVideo:this.props.checkLoopVideo,applyLoopVideoToAllScene:this.props.applyLoopVideoToAllScene,checkHideText:this.props.checkHideText,applyHideTextToAllScene:this.props.applyHideTextToAllScene,applyMusicToAllScene:this.props.applyMusicToAllScene,applyImageZoomPanToAllSceneFn:this.props.applyImageZoomPanToAllSceneFn,applyVoiceOverToAllScene:this.props.applyVoiceOverToAllScene,checkAllScene:this.props.checkAllScene,settings:e.settings,applyToAllScenes:this.props.applyToAllScenes,editScenePlayVideo:this.props.editScenePlayVideo,undo:this.props.undo,redo:this.props.redo,openTextures:this.props.openTextures,source:this.props.source,disableAddSubScene:e.transcription&&!e.bRoll||""==e.sentence.trim(),allowTrimVideo:!e.transcription,isTranscription:e.transcription,frameAspectRatio:this.props.frameAspectRatio,frameSize:this.props.frameSize,setFrameCoordinates:this.props.setFrameCoordinates,projectName:this.props.projectName,showAudioTrimmer:this.props.showAudioTrimmer,toggleAudioTrimmer:this.props.toggleAudioTrimmer,saveTrimmedAudio:this.props.saveTrimmedAudio,SaveButtonText:this.props.SaveButtonText,openTab:this.props.openTab,saveTextNextSceneCounter:this.props.saveTextNextSceneCounter,removeTranscriptionScenebRoll:this.props.removeTranscriptionScenebRoll,allowReelFastVideo:this.props.allowReelFastVideo,currentSubScene:e,prevSubScene:this.props.subSentencesArrayDetail[t-1],nextSubScene:this.props.subSentencesArrayDetail[t+1],totalSubScenes:this.props.subSentencesArrayDetail.length,voiceOverOnEntireVideo:this.voiceOverOnEntireVideo,textFormat:(0,ye.S8)(e),templateName:this.props.templateName,isNewPreviewPlaying:this.props.isNewPreviewPlaying,addStyleToTemplate:this.props.addStyleToTemplate,setEditorFocusItem:this.props.setEditorFocusItem,removeRecordedAudio:this.props.removeRecordedAudio,copyDisplayItemToState:function(e){return n.setState({displayItem:e})},displayItem:this.state.displayItem,isItemCopied:this.state.isItemCopied,updateItemCopied:this.updateItemCopied,pausePreview:this.props.pausePreview,elevateStoryboardScriptTab:this.props.elevateStoryboardScriptTab,onChangeAspectRatio:this.props.onChangeAspectRatio,removeVoiceOver:this.props.removeVoiceOver,durationUpdatedScenes:this.props.durationUpdatedScenes,updateDuration:this.props.updateDuration,selectedBrand:this.props.selectedBrand,onSceneDurationUpdate:this.props.onSceneDurationUpdate}),(!this.props.subSentencesArrayDetail||0===this.props.subSentencesArrayDetail.length)&&(0,ue.jsx)(G.Z,{active:this.state.isShowOverlay,spinner:!0,text:"Please wait..."})]})}}]),n}(L.PureComponent),$t=L.memo((0,W.$j)((function(e){return{mediaResources:e.editVideoAllScene.downloadedMediaResources}}),(function(e){return{loadMediaResources:function(t,n){return e(ae.Z.loadMediaResourcesBegin(t,n))}}}))(Xt)),en=ae.Z.saveBrandSettings,tn=ae.Z.deleteAudioFavAndRecents,nn=ae.Z.saveAudioFavAndRecents,rn=ae.Z.deleteVoiceOverTrackRequest,sn=function(e){(0,p.Z)(d,e);var t,n,r,a=(0,h.Z)(d);function d(e){var t;return(0,l.Z)(this,d),(t=a.call(this,e)).cancelVOApplying=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),t.props.cancelingAudioStatus(!0),e.next=4,t.props.deleteVoiceOverTrackRequest(t.state.applyingTrackResponseID);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.removeActiveFavourite=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("track"!=n.type){e.next=6;break}return e.next=4,t.props.removeTrackFromStorage(n.trackId,n.name,r);case 4:e.next=15;break;case 6:be.Z.removeItem("voiceOverTrackType"),be.Z.removeItem("voiceOverTrackActive"),be.Z.removeItem("voiceOverTrackId"),be.Z.removeItem("voiceOverTrackName"),be.Z.removeItem("voiceOverTrackCategory"),t.props.UpdateIsActiveVoiceOver(n.trackId,!1),t.props.UpdateRecent(),t.props.UpdateFavourite(),t.props.UpdateVoiceOver();case 15:t.setState({appliedTrack:null});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.goToPlanList=function(e){e&&e.stopPropagation();try{w().getInstance().logEvent("upgrade-button-clicked",{"button-clicked-from":"Voice over tab"})}catch(e){w().getInstance().logEvent("log-failed",{"event-name":"upgrade-button-clicked"})}t.props.history.push(ze.Z.BaseURL+ke.Z.plansList)},t.state={trackList:[],type:t.props.type,brandSetting:t.props.brandSetting,recentList:[],activeFavTrackId:null,appliedTrack:null},t}return(0,u.Z)(d,[{key:"componentDidMount",value:function(){this.getFavouriteList()}},{key:"componentDidUpdate",value:function(e,t){this.props.voiceOverDataResponseID!==e.voiceOverDataResponseID&&this.setState({applyingTrackResponseID:this.props.voiceOverDataResponseID})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.refresh;t.id,t.favouriteTracks,e.refresh!==n&&this.props.username&&(this.state.brandSetting=this.props.brandSetting,this.getFavouriteList()),e.tracks.length!=this.props.tracks.length&&this.getFavouriteList(e.tracks)}},{key:"RemoveFromFavourite",value:(r=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),s=(0,o.Z)(this.state.trackList),a=s.findIndex((function(e){return e.id===n})),c=null,-1!==a&&(c=s[a].type,s.splice(a,1),this.setState({trackList:s})),e.next=7,this.props.deleteAudioFavAndRecents({username:this.props.username,id:n});case 7:"success"===this.props.deleteAudioStatus&&(this.props.UpdateRecent(),this.props.UpdateVoiceOver(),this.props.UpdateFavourite(),this.props.setFavouritesFromFavoritesTab&&this.props.setFavouritesFromFavoritesTab(t)),"voiceover"===c&&(document.getElementById("AddVoiceOverToFavourite"+t).checked=!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getFavouriteList",value:function(e){for(var t=[],n=[],r=e||this.props.tracks,s=0;s<r.length;s++){var a=r[s];"favorite"==a.category&&(ye.Tf.includes(null==a?void 0:a.trackId)||t.push(a)),"recent"==a.category&&(ye.Tf.includes(null==a?void 0:a.trackId)||n.push(a))}for(var i=[],c=[],l=[],u=[],d=0;d<t.length;d++)t[d].type===this.state.type&&(i.push(t[d]),t[d].date?c.push(t[d]):l.push(t[d]));c=c.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),i=[].concat((0,o.Z)(c),l);for(var p=0;p<n.length;p++)n[p].type===this.state.type&&u.push(n[p]);this.setState({trackList:i,recentList:u})}},{key:"startApplyVoiceOver",value:(n=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a,o,c,l,u){var d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.textToSpeechDurationValue<=0&&"Eleven Labs"===c)){e.next=2;break}return e.abrupt("return");case 2:return u.stopPropagation(),this.setState({applyingTrackResponseID:null}),e.next=6,this.props.startApplyVoiceOver({trackId:t,trackUrl:n,trackType:r,trackName:s,gender:a,Category:c});case 6:d=e.sent,this.setState({applyingTrackResponseID:null}),null!=d&&d.success&&this.makeActiveVoiceTrack(t,n,r,s,a,o,c,l,u);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r,s,a,i,o,c,l){return n.apply(this,arguments)})},{key:"makeActiveVoiceTrack",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a,c,l,u,d){var p,h,m,g,f,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.stopPropagation(),"track"!=r){e.next=7;break}if(t==be.Z.getItem("trackId")){e.next=5;break}return e.next=5,this.props.makeTrackActive(t,n,r,s,d);case 5:e.next=36;break;case 7:if(t==be.Z.getItem("voiceOverTrackId")){e.next=36;break}for(be.Z.setItem("voiceOverTrackType",r),be.Z.setItem("voiceOverTrackActive",n),be.Z.setItem("voiceOverTrackId",t),be.Z.setItem("voiceOverTrackName",s+", "+a),be.Z.setItem("voiceOverTrackCategory",c),p=(0,o.Z)(this.state.recentList),h=0;h<p.length;h++)p[h].type===r&&(p[h].active=!1);if(m={},g=p.findIndex((function(e){return e.trackId===t&&e.type===r})),!(g<0)){e.next=22;break}m={id:(0,ye.DO)(),trackId:t,name:s+"".concat(a?", "+a:""),type:r,url:n,category:"recent",library:l,cognito_id:this.props.username,date:new Date},p.splice(0,0,m),e.next=30;break;case 22:return f=p[g].id,p.splice(g,1),e.next=26,this.props.deleteAudioFavAndRecents({username:this.props.username,id:f});case 26:if("success"===this.props.deleteAudioStatus){e.next=28;break}return e.abrupt("return");case 28:m={id:(0,ye.DO)(),date:new Date,trackId:t,name:s+"".concat(a?", "+a:""),type:r,url:n,library:l,category:"recent",cognito_id:this.props.username},p.splice(0,0,m);case 30:return v={body:m},this.setState({appliedTrack:t}),e.next=34,this.props.saveAudioFavAndRecents(v);case 34:"success"===this.props.saveAudioStatus&&(this.props.UpdateIsActiveVoiceOver(t,!0),this.props.UpdateRecent(),this.props.UpdateFavourite(),this.props.UpdateVoiceOver(),this.props.logEventVoiceSelected(s,this.props.category,l,u));case 36:case"end":return e.stop()}}),e,this)}))),function(e,n,r,s,a,i,o,c,l){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return(0,ue.jsx)("ol",{className:"list-inline tracklink-list",children:this.state.trackList.map((function(t,n){t.trackId;var r,a,i,o,c,l,u,d,p,h,f,x,S,y="btn-span trk-link",b="track"+t.trackId,j=be.Z.getItem("voiceover"==e.props.type?"voiceOverTrackId":"trackId");j&&j==t.trackId&&(y="btn-span trk-link active");var w=e.props.textToSpeechDurationValue<=0&&"Eleven Labs"===t.library;return(0,ue.jsx)("li",{style:{marginBottom:"5px"},children:(0,ue.jsx)("a",{className:[y,"on-hover-event"].join(" "),style:{padding:"0 10px"},children:(0,ue.jsxs)(g.Z,{className:"w-100",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ue.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center"},children:[e.props.activeFavTrack!==t.trackId&&(0,ue.jsx)(wt.Z,{onClick:function(n){return e.props.playMusic(t.url,t.trackId,t.name,n,!0)},sx:{padding:0},children:(0,ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20V20C35 28.285 28.285 35 20 35V35C11.715 35 5 28.285 5 20V20C5 11.715 11.715 5 20 5V5C28.285 5 35 11.715 35 20Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.2353 15.097L24.7053 18.9237C25.5236 19.407 25.5236 20.592 24.7053 21.0754L18.2353 24.902C17.402 25.3954 16.3486 24.7937 16.3486 23.8254V16.1737C16.3486 15.2054 17.402 14.6037 18.2353 15.097Z",fill:"#424242"})]})}),e.props.activeFavTrack==t.trackId&&(0,ue.jsx)(wt.Z,{onClick:function(n){return e.props.playMusic(t.url,t.trackId,t.name,n,!1)},sx:{padding:0},children:(0,ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20C35 28.285 28.285 35 20 35C11.715 35 5 28.285 5 20C5 11.715 11.715 5 20 5C28.285 5 35 11.715 35 20Z",fill:"#424242",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,ue.jsx)("rect",{x:"15",y:"15",width:"10",height:"10",rx:"2",fill:"white"})]})}),(0,ue.jsx)("span",{className:"track-hd",style:{display:"inline-block",marginTop:"4px"},children:t.name})]}),(0,ue.jsxs)(g.Z,{sx:{position:"relative",display:"flex",flexDirection:"row-reverse"},children:[(0,ue.jsxs)("span",{className:"fav-bx",children:[(0,ue.jsx)("input",{type:"checkbox",title:"Remove from favourite",checked:!0,onClick:e.RemoveFromFavourite.bind(e,t.trackId,t.id)}),(0,ue.jsxs)(g.Z,{className:"favorite-icon",sx:{mt:"5px"},children:[(0,ue.jsx)("svg",{className:"favorite-removed",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,ue.jsx)("svg",{className:"favorite-added",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",fill:"#424242"})})]})]}),(0,ue.jsxs)(g.Z,{children:[e.props.restrictUsers&&"Eleven Labs"===(null==t?void 0:t.library)?(0,ue.jsx)(v.Z,{onClick:function(t){e.goToPlanList(t)},className:"show-on-hover",sx:{borderRadius:"15px",backgroundColor:"#852CFF",color:"#fff",fontSize:"12px",fontFamily:"Lato",mr:"1rem","&:hover":{backgroundColor:"#1A3D9B"}},children:"Upgrade"}):"",(0,ue.jsxs)(g.Z,{className:"apply-box voice-over-apply d-flex",sx:{alignItems:"center"},children:[(!(null!==(r=e.props)&&void 0!==r&&r.applyingVO)||(null===(a=e.props)||void 0===a?void 0:a.applyingVO)===(null==t?void 0:t.trackId))&&(0,ue.jsx)("span",{className:"apply ml-3 ".concat(null!==(i=e.props)&&void 0!==i&&i.applyingVO?(null===(o=e.props)||void 0===o?void 0:o.applyingVO)!==(null==t?void 0:t.trackId)?"disable":"d-flex":"show-on-hover","  ").concat(w?"apply-disable disable":""),onClick:"Eleven Labs"===t.library?e.startApplyVoiceOver.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library,t.language):e.makeActiveVoiceTrack.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library,t.language),children:(null===(c=e.props)||void 0===c?void 0:c.applyingVO)===(null==t?void 0:t.trackId)?(0,ue.jsx)(g.Z,{sx:{display:"flex",minWidth:"50px",alignItems:"center",justifyContent:"center"},children:e.props.cancelingVO?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(m.Z,{component:"span",sx:{mr:"5px",display:"inline-block",color:"#fff !important"},children:"Canceling"}),(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff !important"}})]}):e.state.applyingTrackResponseID&&"Eleven Labs"===t.library?(0,ue.jsxs)(m.Z,{variant:"text_sm",component:"div",color:"grey.0",children:[e.props.voiceoverprogressStatus,"%"]}):(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})}):"Apply"}),(null===(l=e.props.durationUpdated)||void 0===l||null===(u=l.sceneIds)||void 0===u?void 0:u.length)>0||null!==(d=e.state)&&void 0!==d&&null!==(p=d.durationUpdatedScenes)&&void 0!==p&&p.isSceneDeleted?(0,ue.jsx)(g.Z,{className:["applied hide-on-hover","".concat(e.props.durationUpdated.loading?"disable":"")].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 5px 0 0 !important",ml:"1rem",cursor:"pointer"},onClick:"Eleven Labs"===t.library?e.startApplyVoiceOver.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library):e.makeActiveVoiceTrack.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.language),children:(0,ue.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 !important",height:"33px",overflow:"hidden",background:"#852CFF !important"},children:[(null===(h=e.props)||void 0===h?void 0:h.applyingVO)===(null==t?void 0:t.trackId)?(0,ue.jsx)(g.Z,{sx:{display:"flex",minWidth:"50px",alignItems:"center",justifyContent:"center",ml:"1rem"},children:e.props.cancelingVO?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(m.Z,{component:"span",sx:{mr:"5px",display:"inline-block",color:"#fff !important"},children:"Canceling"}),(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff !important"}})]}):e.state.applyingTrackResponseID?(0,ue.jsxs)(m.Z,{variant:"text_sm",component:"div",color:"grey.0",children:[e.props.voiceoverprogressStatus,"%"]}):(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})}):(0,ue.jsx)(m.Z,{sx:(f={m:"1px 5px 0 3px !important",fontSize:"13px !important",color:"grey.0",height:"100%",display:"flex",alignItems:"center",padding:"1px 10px 0 20px",margin:"0 0px 0 -4px !important"},(0,s.Z)(f,"color","#ffffff !important"),(0,s.Z)(f,"background","#852CFF !important"),(0,s.Z)(f,"&:hover",{background:"#6C00FF !important"}),f),children:"Apply changes"}),(null===(x=e.props)||void 0===x?void 0:x.applyingVO)!==(null==t?void 0:t.trackId)&&(0,ue.jsx)(wt.Z,{sx:{padding:"0 5px 0 2px",height:"100%",borderRadius:"0",background:"#852CFF","&:hover":{background:"#1A3D9B !important"}},onClick:function(n){null==n||n.stopPropagation(),e.removeActiveFavourite(t,n)},children:(0,ue.jsx)(Et.Z,{sx:{fontSize:"20px",marginLeft:"5px",color:"grey.0"}})})]})}):(0,ue.jsx)(g.Z,{className:["applied hide-on-hover"].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 !important"},children:(0,ue.jsxs)(g.Z,{sx:(S={display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 8px 0 8px !important",height:"33px",overflow:"hidden",background:"#fff !important"},(0,s.Z)(S,"padding","0 !important"),(0,s.Z)(S,"border","1px solid #852CFF"),(0,s.Z)(S,"minWidth","95px"),S),children:[(0,ue.jsx)(m.Z,{sx:{m:"1px 5px 0 3px !important",fontSize:"13px !important",padding:"0 0 0 12px !important",color:"#6C00FF !important"},children:"Applied"}),(0,ue.jsx)(wt.Z,{id:b,onClick:function(n){null==n||n.stopPropagation(),e.removeActiveFavourite(t,n)},sx:{padding:"0 7px 0 3px",height:"100%",borderRadius:"0",color:"#6C00FF","&:hover":{background:"#F0E9FC"}},children:(0,ue.jsx)(Et.Z,{sx:{fontSize:"20px",marginLeft:"5px"}})})]})})]})]})]})]})})},n)}))})}}]),d}(L.Component),an=(0,W.$j)((function(e){return{saveSettingsStatus:e.brandSettings.saveSettingsStatus,saveAudioStatus:e.favouriteAndRecents.saveAudioStatus,deleteAudioStatus:e.favouriteAndRecents.deleteAudioStatus,voiceOverDataResponseID:e.createVideoStepThree.voiceOverDataResponseID,voiceOverDeleteResult:e.createVideoStepThree.voiceOverDeleteResult}}),{saveBrandSettings:en,deleteAudioFavAndRecents:tn,saveAudioFavAndRecents:nn,deleteVoiceOverTrackRequest:rn})(sn),on=n(93909),cn=n(52740),ln=n(93298),un=n(86836),dn=(n(17568),ae.Z.deleteVisualsFavAndRecents),pn=function(e){(0,p.Z)(d,e);var t,n,r=(0,h.Z)(d);function d(e){var t;return(0,l.Z)(this,d),(t=r.call(this,e)).wrapWithTooltip=function(e,t,n){return t?(0,ue.jsx)(un.C,{history:n,children:e}):e},t.closeDisclaimer=function(){t.setState({showUnsplashTooltip:!1})},t.creditClick=function(e,t){t.userhtml&&(e.preventDefault&&e.preventDefault(),window.open(t.userhtml,"_blank","noreferrer"))},t.state={favList:[],type:t.props.type,brandSetting:t.props.brandSetting,showUnsplashTooltip:!1,plan_code:"",selectedVisualId:null,isTeamWorkspace:!1},t}return(0,u.Z)(d,[{key:"componentDidMount",value:function(){var e;this.getFavouriteList(this.props.favoriteVisuals);var t=(0,ye.we)(this.props.username);this.setState({plan_code:t&&t.plan?t.plan.plan_code:"",isTeamWorkspace:!(null==t||null===(e=t.data)||void 0===e||!e.teamId)})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.refresh;t.id,e.refresh!==n&&(this.state.brandSetting=this.props.brandSetting,this.getFavouriteList(this.props.favoriteVisuals)),e.favoriteVisuals.length!==this.props.favoriteVisuals.length&&this.getFavouriteList(e.favoriteVisuals)}},{key:"getFavouriteList",value:(n=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,o,c,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.props.stopImageFavouriteLoader(!1),n={},r=[],s=0;s<t.length;s++)o={},t[s].imageMetadata?(c=t[s].imageMetadata,l=t[s].url,"video"===c.media_type&&(l=c.preview||c.thumb,"video"!==(0,ye.Q5)(l)&&(l=t[s].url)),n[l]=c,o=(0,a.Z)((0,a.Z)({url:l,fav:!0},c),{},{id:t[s].id})):o={url:t[s].url,fav:!0,thumb:t[s].url,preview:t[s].url,large:t[s].url,id:t[s].id},r.push(o);this.setState({favList:r}),this.props.updateAllAssets(n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"RemoveFromFavourite",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.stopPropagation(),(s=this.state.favList[n]?this.state.favList[n].id:null)&&((a=(0,o.Z)(this.state.favList)).splice(n,1),this.setState({favList:a}),this.props.deleteVisualsFavAndRecents({username:this.props.username,id:s}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"updateImage",value:function(e,t,n){var r;if(n.stopPropagation(),t.deprecated||"getty"===t.library&&(0,Dt.m)(this.state.plan_code,this.state.isTeamWorkspace,this.props.username)===Dt.h.prohibited)t.deprecated||this.setState({selectedVisualId:null==t?void 0:t.id});else{var s=e,a="Scene_-4_-1",i=this.props.imageURL;document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(a=e.id)}));var o=(null===(r=document.querySelector(".drag-and-resize-box.sentences>#editor-box>p>span"))||void 0===r?void 0:r.innerText)||"",c=a.split("_"),l=c[1],u=c[2];if(this.props.isOutroScene(l))return!1;if(this.props.isCustomIntroScene(l))return!1;a=l-1,w().getInstance().logEvent("image-replaced",{"old-image":i[a],"new-image":s,"scene-text":o,source:"Favorites","project-id":this.props.project_id}),i[a]=s,this.setState({imageURL:i});for(var d=1;null!=document.getElementById("Image_"+l+"_"+d);d++)document.getElementById("Image_"+l+"_"+d).src=s;document.getElementById("figure_"+l+"_"+u).style["background-image"]='url("'+s+'")',this.props.hideShowOverlay(l,s,!0,t,!0)}}},{key:"render",value:function(){var e=this;return(0,ue.jsx)("div",{className:"card block-1 fill-height",children:(0,ue.jsx)("div",{className:"card-body pr-0 pt-4 pb-4 fill-height",id:"imagefavourite-div",children:(0,ue.jsx)("div",{className:"ov-right content mCustomScrollbar hover-only-scrollbar fill-height",children:(0,ue.jsx)("div",{className:"container mt-0 p-0 pr-3",children:(0,ue.jsx)("div",{className:"row",children:this.state.favList.map((function(t,n){if(t.thumb||t.url){var r=(t.thumb?t.thumb:t.url).split(" ").length;return(0,ue.jsx)("div",{className:"col-6",children:(0,ue.jsxs)(g.Z,{className:"img-block img-fav d-block",sx:{"& .tooltip":{opacity:"1",zIndex:"4"}},children:["getty"===t.library&&(0,ue.jsxs)(ue.Fragment,{children:[(0,Dt.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===Dt.h.permittedWithCrown||(0,Dt.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===Dt.h.prohibited?(0,ue.jsx)(S.Z,{placement:"bottom-start",title:(0,Dt.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===Dt.h.permittedWithCrown?(0,ue.jsx)(g.Z,{sx:{maxWidth:"150px"},children:"Enjoy this Professional Plan asset during your trial period!"}):"",children:(0,ue.jsx)(g.Z,{className:"getty-image",sx:{position:"absolute",top:"0",left:"0",zIndex:"4"},children:(0,ue.jsxs)(g.Z,{className:"getty-icon-hover ".concat(e.state.selectedVisualId===(null==t?void 0:t.id)?"getty-icon-expanded":""),children:[(0,ue.jsx)(g.Z,{className:"hover-getty-icon",children:(0,ue.jsx)("img",{src:"/images/premium-crown.svg"})}),(0,ue.jsx)(m.Z,{color:"cardcolors.one",className:"getty-permium-label",sx:{fontSize:"10px !important",color:"#F9C114 !important",margin:"0"},children:"Premium"})]})})}):(0,ue.jsx)(g.Z,{sx:{position:"absolute",left:"5px",right:"unset",top:"5px",backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:"9",width:"56px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px"},children:(0,ue.jsx)("img",{src:"/images/getty-watermark.svg",id:"getty-icon"})}),e.state.selectedVisualId===t.id&&(0,ue.jsxs)(g.Z,{className:"upgrade-getty",children:[(0,ue.jsx)(m.Z,{color:"cardcolors.one",variant:"text_xs",pl:"10px",pr:"10px",mb:"10px",children:"Assets from Gettyimages, available only for Professional & Teams plans."}),(0,ue.jsx)(ln.Z,{variant:"outlined",fontSize:"text_sm",onClick:function(){return e.props.history.push(ze.Z.BaseURL+ke.Z.plansList)},children:"Upgrade"})]})]}),(0,ue.jsxs)("a",{className:"outer-link",onClick:e.updateImage.bind(e,t.url,t),children:[(0,ue.jsxs)("div",{className:"change-img",onClick:e.updateImage.bind(e,t.url,t),children:[t.deprecated?(0,ue.jsx)("span",{className:"vid-alert",title:"This visual is not available anymore. Please choose another one",children:(0,ue.jsx)("i",{className:"fa fa-exclamation-triangle"})}):(0,ue.jsx)(ue.Fragment,{}),"video"===(0,ye.Q5)(t.url)?(0,ue.jsxs)("div",{className:"vid-blocksearch d-flex h-100",onMouseOver:function(){e.setState((0,s.Z)({},"show-duration-".concat(n),!0))},onMouseOut:function(){e.setState((0,s.Z)({},"show-duration-".concat(n),!1))},children:[(0,ue.jsx)("span",{className:"vid-playbtn",children:(0,ue.jsx)("i",{className:"fa fa-play"})}),t.duration&&e.state["show-duration-".concat(n)]&&(0,ue.jsx)("span",{className:"vid-duration",children:re.Z.secondsToMinutesRepresentationHuman(t.duration,!0)})||"",!e.state["showVideo-".concat(n)]&&t.thumb_jpg&&(0,ue.jsx)("div",{style:{backgroundImage:"url(".concat(t.thumb_jpg,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"w-100",onMouseEnter:function(){return e.setState((0,s.Z)({},"showVideo-".concat(n),!0))},onMouseLeave:function(){return e.setState((0,s.Z)({},"showVideo-".concat(n),!1))},children:" "})||null,(e.state["showVideo-".concat(n)]||!t.thumb_jpg)&&(0,ue.jsx)("video",{autoPlay:!!t.thumb_jpg,className:"w-100",loop:!0,muted:!0,disablePictureInPicture:!0,poster:t.thumb_jpg,style:{backgroundImage:"url(".concat(t.thumb_jpg,")")},controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return t.thumb_jpg?"":e.target.play()},onMouseLeave:function(r){return t.thumb_jpg?e.setState((0,s.Z)({},"showVideo-".concat(n),!1)):r.target.pause()},alt:"",children:(0,ue.jsx)("source",{src:t.thumb?t.thumb:t.url})})||null]}):r>1?(0,ue.jsx)("img",{className:"w-100",src:t.thumb?t.thumb:t.url,alt:""}):(0,ue.jsx)("div",{style:{backgroundImage:"url(".concat(t.thumb?t.thumb:t.url,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"w-100 absolute-fill",children:" "})]}),t.user&&(0,ue.jsxs)("div",{className:"credit-controls",children:[" ",(0,ue.jsx)(f.Z,{href:"javascript:;",underline:"hover",variant:"text_xs",onClick:function(n){return e.creditClick(n,t)},children:t.user})]}),(0,ue.jsx)(g.Z,{className:"img-controls img-controls2",sx:{bottom:"38px !important"},children:(0,ue.jsxs)("div",{className:"fav-ico",children:[(0,ue.jsx)("input",{type:"checkbox",name:"fav1",checked:!!t.fav,title:"Remove from favourite",onClick:e.RemoveFromFavourite.bind(e,t.url,n)}),(0,ue.jsx)("label",{style:{background:"rgba(0,0,0,0.7)",display:"flex",height:"23px",width:"23px",position:"relative",alignItems:"center",justifyContent:"center",borderRadius:"4px",right:"4px",bottom:"1px"}})]})})]})]})},t.id)}}))})})})})})}}]),d}(L.Component),hn=(0,W.$j)((function(e){return{deleteVisualStatus:e.favouriteAndRecents.deleteVisualStatus}}),{deleteVisualsFavAndRecents:dn})(pn),mn=ae.Z.saveVisualsFavAndRecents,gn=ae.Z.deleteVisualsFavAndRecents,fn=function(e){(0,p.Z)(r,e);var t,n=(0,h.Z)(r);function r(e){var t;return(0,l.Z)(this,r),(t=n.call(this,e)).wrapWithTooltip=function(e,t,n){return t?(0,ue.jsx)(un.C,{history:n,children:e}):e},t.DeleteImage=function(e,n){var r=(0,o.Z)(t.state.recList);if(-1!=n){var s=r[n];if(s){var a=s.id;t.props.deleteVisualsFavAndRecents({username:t.props.username,id:a}),r.splice(n,1),t.setState({recList:r})}}},t.closeDisclaimer=function(){t.setState({showUnsplashTooltip:!1})},t.creditClick=function(e,t){t.userhtml&&(e.preventDefault&&e.preventDefault(),window.open(t.userhtml,"_blank","noreferrer"))},t.state={recList:[],showOverlay:!1,showUnsplashTooltip:!1,selectedVisualId:null,plan_code:null,isTeamWorkspace:!1},t}return(0,u.Z)(r,[{key:"componentDidMount",value:function(){var e;this.getRecentList(this.props.recentVisuals);var t=(0,ye.we)(this.props.username);this.setState({plan_code:t&&t.plan?t.plan.plan_code:"",isTeamWorkspace:!(null==t||null===(e=t.data)||void 0===e||!e.teamId)})}},{key:"componentWillReceiveProps",value:function(e){var t,n=this.props.refresh;e.refresh!==n&&this.getRecentList(this.props.recentVisuals),e.recentVisuals&&e.recentVisuals.length!==(null===(t=this.props.recentVisuals)||void 0===t?void 0:t.length)&&this.getRecentList(e.recentVisuals)}},{key:"getRecentList",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,o,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.props.stopRecentLoader(),n=[],r={},s=0;s<t.length;s++)t[s].url!==je.FS&&t[s].url!==je.pS&&t[s].url!==je.Ty&&(t[s].imageMetadata?(r[t[s].url]=t[s].imageMetadata,o=(0,a.Z)((0,a.Z)({url:t[s].url,fav:!!t[s].fav,favVisualId:t[s].favVisualId},t[s].imageMetadata),{},{id:t[s].id}),n.push(o)):(c={url:t[s].url,fav:!!t[s].fav,favVisualId:t[s].favVisualId,thumb:t[s].url,preview:t[s].url,large:t[s].url,id:t[s].id},n.push(c)));this.props.updateAllAssets(r),this.setState({recList:n});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"updateImage",value:function(e,t,n){var r;if(n.stopPropagation(),t.deprecated||"getty"===t.library&&(0,Dt.m)(this.state.plan_code,this.state.isTeamWorkspace,this.props.username)===Dt.h.prohibited)e.deprecated||this.setState({selectedVisualId:null==t?void 0:t.id});else{var s=e,a="Scene_-4_-1",i=this.props.imageURL;document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(a=e.id)}));var o=(null===(r=document.querySelector(".drag-and-resize-box.sentences>#editor-box>p>span"))||void 0===r?void 0:r.innerText)||"",c=a.split("_"),l=c[1],u=c[2];if(this.props.isOutroScene(l))return!1;if(this.props.isCustomIntroScene(l))return!1;a=l-1,w().getInstance().logEvent("image-replaced",{"old-image":i[a],"new-image":s,"scene-text":o,source:"Recents","project-id":this.props.project_id}),i[a]=s,this.setState({imageURL:i});for(var d=1;null!=document.getElementById("Image_"+l+"_"+d);d++)document.getElementById("Image_"+l+"_"+d).src=s;document.getElementById("figure_"+l+"_"+u).style["background-image"]='url("'+s+'")',this.props.hideShowOverlay(l,s,!0,t,!0)}}},{key:"AddRemoveFromFavForRecent",value:function(e,t,n){n.stopPropagation();var r=(0,o.Z)(this.state.recList),s=(0,a.Z)({},r[t]);if(s){if(s.fav)s.favVisualId&&(this.props.deleteVisualsFavAndRecents({username:this.props.username,id:s.favVisualId}),s.fav=!1,s.favVisualId=null,r[t]=s);else{var i={id:(0,ye.DO)(),url:e,category:"favorite",active:!1,cognito_id:this.props.username,date:new Date};this.props.allAssets[i.url]&&(i.imageMetadata=this.props.allAssets[i.url]);var c={body:i};w().getInstance().logEvent("image-favorited",{"image-url":e,source:"Recents","project-id":this.props.project_id}),this.props.saveVisualsFavAndRecents(c),s.fav=!0,s.favVisualId=i.id,r[t]=s}this.setState({recList:r})}}},{key:"render",value:function(){var e=this;return(0,ue.jsxs)("div",{className:"card block-1 fill-height",children:[(0,ue.jsx)(G.Z,{active:this.state.showOverlay,spinner:!0,text:"Please wait..."}),(0,ue.jsx)("div",{className:"card-body pr-0 pt-4 pb-4",id:"image-recent-div",children:(0,ue.jsx)("div",{className:"ov-right content mCustomScrollbar hover-only-scrollbar fill-height",children:(0,ue.jsx)("div",{className:"container p-0 pr-3",children:(0,ue.jsx)("div",{className:"row",children:this.state.recList.map((function(t,n){if(t.url&&"string"==typeof t.url||t.thumb&&"string"==typeof t.thumb){var r=(t.thumb?t.thumb:t.url).split(" ").length;return(0,ue.jsx)("div",{className:"col-6",children:(0,ue.jsxs)(g.Z,{className:"img-block img-fav d-block",sx:{"& .tooltip":{opacity:"1",zIndex:"4"}},children:["getty"===t.library&&(0,ue.jsxs)(ue.Fragment,{children:[(0,Dt.m)(e.state.plan_code,e.state.isTeamWorkspace)===Dt.h.permittedWithCrown||(0,Dt.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===Dt.h.prohibited?(0,ue.jsx)(S.Z,{placement:"bottom-start",title:(0,Dt.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===Dt.h.permittedWithCrown?(0,ue.jsx)(g.Z,{sx:{maxWidth:"150px"},children:"Enjoy this Professional Plan asset during your trial period!"}):"",children:(0,ue.jsx)(g.Z,{className:"getty-image",sx:{position:"absolute",top:"0",left:"0",zIndex:"4"},children:(0,ue.jsxs)(g.Z,{className:"getty-icon-hover ".concat(e.state.selectedVisualId===(null==t?void 0:t.id)?"getty-icon-expanded":""),children:[(0,ue.jsx)(g.Z,{className:"hover-getty-icon",children:(0,ue.jsx)("img",{src:"/images/premium-crown.svg"})}),(0,ue.jsx)(m.Z,{color:"cardcolors.one",className:"getty-permium-label",sx:{fontSize:"10px !important",color:"#F9C114 !important",margin:"0"},children:"Premium"})]})})}):(0,ue.jsx)(g.Z,{sx:{position:"absolute",left:"5px",right:"unset",top:"5px",backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:"9",width:"56px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px"},children:(0,ue.jsx)("img",{src:"/images/getty-watermark.svg",id:"getty-icon"})}),e.state.selectedVisualId===t.id&&(0,ue.jsxs)(g.Z,{className:"upgrade-getty",children:[(0,ue.jsx)(m.Z,{color:"cardcolors.one",variant:"text_xs",pl:"10px",pr:"10px",mb:"10px",children:"Assets from Gettyimages, available only for Professional & Teams plans."}),(0,ue.jsx)(ln.Z,{variant:"outlined",fontSize:"text_sm",onClick:function(){return e.props.history.push(GlobalJs.BaseURL+CustomURLs.plansList)},children:"Upgrade"})]})]}),(0,ue.jsxs)("a",{className:"outer-link",children:[(0,ue.jsxs)("div",{className:"change-img",onClick:e.updateImage.bind(e,t.url,t),children:[t.deprecated?(0,ue.jsx)("span",{className:"vid-alert",title:"This visual is not available anymore. Please choose another one",children:(0,ue.jsx)("i",{className:"fa fa-exclamation-triangle"})}):(0,ue.jsx)(ue.Fragment,{}),"video"===(0,ye.Q5)(t.url)?(0,ue.jsxs)("div",{className:"vid-blocksearch d-flex h-100",onMouseOver:function(){e.setState((0,s.Z)({},"show-duration-".concat(n),!0))},onMouseOut:function(){e.setState((0,s.Z)({},"show-duration-".concat(n),!1))},children:[(0,ue.jsx)("span",{className:"vid-playbtn",children:(0,ue.jsx)("i",{className:"fa fa-play"})}),t.duration&&e.state["show-duration-".concat(n)]&&(0,ue.jsx)("span",{className:"vid-duration",children:re.Z.secondsToMinutesRepresentationHuman(t.duration,!0)})||"",!e.state["showVideo-".concat(n)]&&t.thumb_jpg&&(0,ue.jsx)("div",{style:{backgroundImage:"url(".concat(t.thumb_jpg,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"w-100",onMouseEnter:function(){return e.setState((0,s.Z)({},"showVideo-".concat(n),!0))},onMouseLeave:function(){return e.setState((0,s.Z)({},"showVideo-".concat(n),!1))},children:" "})||null,(e.state["showVideo-".concat(n)]||!t.thumb_jpg)&&(0,ue.jsx)("video",{autoPlay:!!t.thumb_jpg,className:"w-100",style:{backgroundImage:"url(".concat(t.thumb_jpg,")")},loop:!0,muted:!0,disablePictureInPicture:!0,poster:t.thumb_jpg,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return t.thumb_jpg?"":e.target.play()},onMouseLeave:function(r){return t.thumb_jpg?e.setState((0,s.Z)({},"showVideo-".concat(n),!1)):r.target.pause()},alt:"",children:(0,ue.jsx)("source",{src:t.thumb?t.thumb:t.url})})||null]}):r>1?(0,ue.jsx)("img",{src:t.thumb?t.thumb:t.url,className:"w-100",alt:""}):(0,ue.jsx)("div",{style:{backgroundImage:"url(".concat(t.thumb?t.thumb:t.url,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"w-100 absolute-fill",children:" "})]}),t.user&&(0,ue.jsxs)("div",{className:"credit-controls",children:[" ",(0,ue.jsx)(f.Z,{href:"javascript:;",underline:"hover",variant:"text_xs",onClick:function(n){return e.creditClick(n,t)},children:t.user})]}),(0,ue.jsx)("div",{className:"img-controls",children:(0,ue.jsxs)("div",{className:"fav-ico",children:[(0,ue.jsx)("input",{type:"checkbox",name:"fav1",title:t.fav?"Remove from favourite":"Add to favourite",onClick:e.AddRemoveFromFavForRecent.bind(e,t.url,n),checked:!!t.fav}),(0,ue.jsx)("label",{})]})})]}),(0,ue.jsx)("span",{className:"del-bttn close-icon",children:(0,ue.jsx)("i",{className:"fa fa-close",title:"Delete",onClick:e.DeleteImage.bind(e,t.url,n)})})]})},t.id)}}))})})})})]})}}]),r}(L.Component),vn=(0,W.$j)((function(e){return{deleteVisualStatus:e.favouriteAndRecents.deleteVisualStatus,saveVisualStatus:e.favouriteAndRecents.saveVisualStatus}}),{saveVisualsFavAndRecents:mn,deleteVisualsFavAndRecents:gn})(fn),xn=n(78768),Sn=n(75694),yn=n(89973),bn=ae.Z.saveBrandSettings,jn=ae.Z.deleteAudioFavAndRecents,wn=ae.Z.saveAudioFavAndRecents,Zn=ae.Z.deleteVoiceOverTrackRequest,kn=function(e){(0,p.Z)(d,e);var t,n,r,a=(0,h.Z)(d);function d(e){var t;return(0,l.Z)(this,d),(t=a.call(this,e)).cancelVOApplying=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),t.props.cancelingAudioStatus(!0),e.next=4,t.props.deleteVoiceOverTrackRequest(t.state.applyingTrackResponseID);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.goToPlanList=function(e){e&&e.stopPropagation();try{w().getInstance().logEvent("upgrade-button-clicked",{"button-clicked-from":"Voice over tab"})}catch(e){w().getInstance().logEvent("log-failed",{"event-name":"upgrade-button-clicked"})}t.props.history.push(GlobalJs.BaseURL+CustomURLs.plansList)},t.removeActiveRecent=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("track"!=n.type){e.next=6;break}return e.next=4,t.props.removeTrackFromStorage(n.trackId,n.name,r);case 4:e.next=16;break;case 6:be.Z.removeItem("voiceOverTrackType"),be.Z.removeItem("voiceOverTrackActive"),be.Z.removeItem("voiceOverTrackId"),be.Z.removeItem("voiceOverTrackName"),be.Z.removeItem("voiceOverTrackCategory"),t.setState({appliedTrack:null}),t.props.UpdateIsActiveVoiceOver(n.trackId,!1),t.props.UpdateRecent(),t.props.UpdateFavourite(),t.props.UpdateVoiceOver();case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.state={trackList:[],type:t.props.type,favouriteTracks:[],brandSetting:t.props.brandSetting,activeRecentTrack:null,appliedTrack:null},t}return(0,u.Z)(d,[{key:"componentDidMount",value:function(){this.getRecentList()}},{key:"componentWillReceiveProps",value:function(e){var t,n,r,s,a=this.props,i=a.refresh;a.id,e.refresh!==i&&(this.state.brandSetting=this.props.brandSetting,this.getRecentList()),e.favouriteTracks.length!=this.props.favouriteTracks.length&&this.getRecentList(e.favouriteTracks,e.recentTracks),e.recentTracks.length==this.props.recentTracks.length&&(null===(t=e.recentTracks)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id)===(null===(r=this.props.recentTracks)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.id)||this.getRecentList(e.favouriteTracks,e.recentTracks)}},{key:"componentDidUpdate",value:function(e,t){this.props.voiceOverDataResponseID!==e.voiceOverDataResponseID&&this.setState({applyingTrackResponseID:this.props.voiceOverDataResponseID})}},{key:"getRecentList",value:function(e,t){var n=this,r=e||this.props.favouriteTracks,s=t||this.props.recentTracks,a=[];s=s.filter((function(e){return e.type===n.state.type&&"recent"===e.category&&!ye.Tf.includes(null==e?void 0:e.trackId)}));for(var i=0;i<s.length&&5!==i;i++)s[i].type===this.state.type&&a.push(s[i]);r=r.filter((function(e){return e.type===n.state.type&&"favorite"===e.category&&!ye.Tf.includes(null==e?void 0:e.trackId)})),this.setState({favouriteTracks:r,trackList:a.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))},(function(){n.props.updateRecentListForMarkActive&&n.props.updateRecentListForMarkActive(n.state.trackList)}))}},{key:"AddRemoveRecentFromFavourite",value:(r=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a,c,l){var u,d,p,h,m,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,o.Z)(this.props.favouriteTracks),!n){e.next=13;break}return p=u.findIndex((function(e){return e.trackId===t})),h=null===(d=u[p])||void 0===d?void 0:d.id,u.splice(p,1),this.setState({favouriteTracks:u}),e.next=8,this.props.deleteAudioFavAndRecents({username:this.props.username,id:h});case 8:"success"===this.props.deleteAudioStatus&&(this.props.UpdateRecent(),this.props.UpdateVoiceOver(),this.props.UpdateFavourite(),this.props.setFavouritesFromFavoritesTab&&this.props.setFavouritesFromFavoritesTab(t)),"voiceover"===a&&(document.getElementById("recAddToFavCheckbox"+t).checked=!1),e.next=22;break;case 13:return m={id:(0,ye.DO)(),name:r,trackId:t,type:a,url:s,category:"favorite",cognito_id:this.props.username,date:new Date},u.splice(0,0,m),g={body:m},this.setState({favouriteTracks:u}),e.next=19,this.props.saveAudioFavAndRecents(g);case 19:"success"===this.props.saveAudioStatus&&(this.props.UpdateFavourite(),this.props.UpdateVoiceOver(),this.props.UpdateRecent(),"track"===a?w().getInstance().logEvent("track-favorited",{"track-name":r,"project-id":this.props.project_id}):w().getInstance().logEvent("voice-favorited",{name:r,country:this.props.country,"project-id":this.props.project_id})),"voiceover"===a&&(document.getElementById("recAddToFavCheckbox"+t).checked=!0);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t,n,s,a,i,o){return r.apply(this,arguments)})},{key:"startApplyVoiceOver",value:(n=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a,o,c,l,u){var d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.textToSpeechDurationValue<=0&&"Eleven Labs"===c)){e.next=2;break}return e.abrupt("return");case 2:return u.stopPropagation(),this.setState({applyingTrackResponseID:null}),e.next=6,this.props.startApplyVoiceOver({trackId:t,trackUrl:n,trackType:r,trackName:s,gender:a,Category:c});case 6:null!=(d=e.sent)&&d.success&&this.makeActiveVoiceTrack(t,n,r,s,a,o,c,l,u);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r,s,a,i,o,c,l){return n.apply(this,arguments)})},{key:"makeActiveVoiceTrack",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a,c,l,u,d){var p,h,m,g,f,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.stopPropagation(),"track"!=r){e.next=7;break}if(t==be.Z.getItem("trackId")){e.next=5;break}return e.next=5,this.props.makeTrackActive(t,n,r,s,d);case 5:e.next=37;break;case 7:if(t==be.Z.getItem("voiceOverTrackId")){e.next=37;break}for(be.Z.setItem("voiceOverTrackType",r),be.Z.setItem("voiceOverTrackActive",n),be.Z.setItem("voiceOverTrackId",t),be.Z.setItem("voiceOverTrackName",s+", "+a),be.Z.setItem("voiceOverTrackCategory",c),p=(0,o.Z)(this.props.recentTracks),h=0;h<p.length;h++)p[h].type===r&&(p[h].active=!1);if(m={},g=p.findIndex((function(e){return e.trackId===t&&e.type===r})),!(g<0)){e.next=22;break}m={id:(0,ye.DO)(),trackId:t,name:s+"".concat(a?", "+a:""),type:r,url:n,category:"recent",library:l,cognito_id:this.props.username,date:new Date},p.splice(0,0,m),e.next=30;break;case 22:return f=p[g].id,p.splice(g,1),e.next=26,this.props.deleteAudioFavAndRecents({username:this.props.username,id:f});case 26:if("success"===this.props.deleteAudioStatus){e.next=28;break}return e.abrupt("return");case 28:m={id:(0,ye.DO)(),date:new Date,trackId:t,name:s+"".concat(a?", "+a:""),type:r,url:n,library:l,category:"recent",cognito_id:this.props.username},p.splice(0,0,m);case 30:return this.setState({recentTracks:p}),v={body:m},e.next=34,this.props.saveAudioFavAndRecents(v);case 34:this.setState({appliedTrack:t}),"success"===this.props.saveAudioStatus&&(this.props.UpdateIsActiveVoiceOver(t,!0),this.props.UpdateRecent(),this.props.UpdateFavourite(),this.props.UpdateVoiceOver(),this.props.logEventVoiceSelected(s,this.props.category,l,u));case 37:case"end":return e.stop()}}),e,this)}))),function(e,n,r,s,a,i,o,c,l){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return(0,ue.jsx)("div",{children:(0,ue.jsx)("ol",{className:"list-inline tracklink-list",children:this.state.trackList.map((function(t,n){t.trackId;var r,a,i,o,c,l,u,d,p,h,f,v,x,S,y="track"+t.trackId,b="btn-span trk-link",j=be.Z.getItem("voiceover"==e.props.type?"voiceOverTrackId":"trackId");j&&j==t.trackId&&(b="btn-span trk-link active");var w=!1,Z="Add to favourite",k="recAddToFavCheckbox"+t.trackId,C=e.props.textToSpeechDurationValue<=0&&"Eleven Labs"===t.library;return e.state.favouriteTracks.findIndex((function(e){return e.trackId===t.trackId}))>=0&&(w=!0,Z="Remove from favourite"),(0,ue.jsx)("li",{style:{marginBottom:"5px"},children:(0,ue.jsx)("a",{className:[b,"on-hover-event"].join(" "),style:{padding:"5px 16px"},children:(0,ue.jsxs)(g.Z,{sx:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},children:[(0,ue.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center"},children:[e.props.activeRecentTrack!==t.trackId&&(0,ue.jsx)(wt.Z,{onClick:function(n){return e.props.playMusic(t.url,t.trackId,t.name,n,!0)},sx:{p:"0"},children:(0,ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20V20C35 28.285 28.285 35 20 35V35C11.715 35 5 28.285 5 20V20C5 11.715 11.715 5 20 5V5C28.285 5 35 11.715 35 20Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.2353 15.097L24.7053 18.9237C25.5236 19.407 25.5236 20.592 24.7053 21.0754L18.2353 24.902C17.402 25.3954 16.3486 24.7937 16.3486 23.8254V16.1737C16.3486 15.2054 17.402 14.6037 18.2353 15.097Z",fill:"#424242"})]})}),e.props.activeRecentTrack==t.trackId&&(0,ue.jsx)(wt.Z,{onClick:function(n){return e.props.playMusic(t.url,t.trackId,t.name,n,!1)},sx:{p:"0"},children:(0,ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20C35 28.285 28.285 35 20 35C11.715 35 5 28.285 5 20C5 11.715 11.715 5 20 5C28.285 5 35 11.715 35 20Z",fill:"#424242",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,ue.jsx)("rect",{x:"15",y:"15",width:"10",height:"10",rx:"2",fill:"white"})]})}),(0,ue.jsx)("span",{className:"track-hd",style:{display:"inline-block",marginTop:"4px"},children:t.name})]}),(0,ue.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"row-reverse"},children:[(0,ue.jsx)(g.Z,{className:"fav-bx",sx:{position:"relative",display:"flex",flexDirection:"row-reverse"},children:(0,ue.jsxs)(g.Z,{sx:{position:"relative",margin:"0 auto"},children:[(0,ue.jsx)("input",{type:"checkbox",id:k,title:Z,checked:w,onClick:e.AddRemoveRecentFromFavourite.bind(e,t.trackId,w,t.name,t.url,t.type,t.gender),style:{width:"100%"}}),(0,ue.jsxs)(g.Z,{className:"favorite-icon",children:[(0,ue.jsx)("svg",{className:"favorite-removed",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,ue.jsx)("svg",{className:"favorite-added",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,ue.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",fill:"#424242"})})]})]})}),e.props.restrictUsers&&"Eleven Labs"===(null==t?void 0:t.library)?(0,ue.jsx)(Button,{onClick:function(t){e.goToPlanList(t)},className:"show-on-hover",sx:{borderRadius:"15px",backgroundColor:"#2D57C6",color:"#fff",fontSize:"12px",fontFamily:"Lato",mr:"1rem","&:hover":{backgroundColor:"#1A3D9B"}},children:"Upgrade"}):(0,ue.jsxs)(g.Z,{className:"apply-box voice-over-apply d-flex",sx:{alignItems:"center"},children:[(!(null!==(r=e.props)&&void 0!==r&&r.applyingVO)||(null===(a=e.props)||void 0===a?void 0:a.applyingVO)===(null==t?void 0:t.trackId))&&(0,ue.jsx)("span",{className:"apply ".concat(null!==(i=e.props)&&void 0!==i&&i.applyingVO?(null===(o=e.state)||void 0===o?void 0:o.applyingVO)!==(null==t?void 0:t.trackId)?"disable":"d-flex":"show-on-hover","  ").concat(C?"apply-disable disable":""),onClick:"Eleven Labs"===t.library?e.startApplyVoiceOver.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library,t.language):e.makeActiveVoiceTrack.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library,t.language),children:(null===(c=e.props)||void 0===c?void 0:c.applyingVO)===(null==t?void 0:t.trackId)?(0,ue.jsx)(g.Z,{sx:{display:"flex",minWidth:"50px",alignItems:"center",justifyContent:"center"},children:e.props.cancelingVO?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(m.Z,{component:"span",sx:{mr:"5px",display:"inline-block",color:"#fff !important"},children:"Canceling"}),(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff !important"}})]}):e.state.applyingTrackResponseID&&"Eleven Labs"===t.library?(0,ue.jsxs)(m.Z,{variant:"text_sm",component:"div",color:"grey.0",children:[e.props.voiceoverprogressStatus,"%"]}):(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})}):"Apply"}),(null===(l=e.props.durationUpdated)||void 0===l||null===(u=l.sceneIds)||void 0===u?void 0:u.length)>0||null!==(d=e.state)&&void 0!==d&&null!==(p=d.durationUpdatedScenes)&&void 0!==p&&p.isSceneDeleted?(0,ue.jsx)(g.Z,{className:["applied hide-on-hover","".concat(e.props.durationUpdated.loading?"disable":"")].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 5px 0 0 !important",ml:"1rem",cursor:"pointer"},children:(0,ue.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 !important",height:"33px",overflow:"hidden",background:"#2D57C6 !important"},className:(null===(h=e.props)||void 0===h?void 0:h.applyingVO)===(null==t?void 0:t.trackId)?"disable":"",onClick:"Eleven Labs"===t.library?e.startApplyVoiceOver.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library):e.makeActiveVoiceTrack.bind(e,t.trackId,t.url,t.type,t.name,t.gender,t.category,t.library,t.language),children:[(null===(f=e.props)||void 0===f?void 0:f.applyingVO)===(null==t?void 0:t.trackId)?(0,ue.jsx)(g.Z,{sx:{display:"flex",minWidth:"50px",alignItems:"center",justifyContent:"center",ml:"1rem",cursor:"pointer"},children:e.props.cancelingVO?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(m.Z,{component:"span",sx:{mr:"5px",display:"inline-block"},children:"Canceling"}),(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff !important"}})]}):e.state.applyingTrackResponseID?(0,ue.jsxs)(m.Z,{variant:"text_sm",component:"div",color:"grey.0",children:[e.props.voiceoverprogressStatus,"%"]}):(0,ue.jsx)(Se.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})}):(0,ue.jsx)(m.Z,{sx:(v={m:"1px 5px 0 3px !important",fontSize:"13px !important",color:"grey.0",height:"100%",display:"flex",alignItems:"center",padding:"1px 10px 0 20px",margin:"0 0px 0 -4px !important"},(0,s.Z)(v,"color","#ffffff !important"),(0,s.Z)(v,"background","#852CFF !important"),(0,s.Z)(v,"border","0 !important"),(0,s.Z)(v,"&:hover",{background:"#6C00FF !important"}),v),children:"Apply Changes"}),(null===(x=e.props)||void 0===x?void 0:x.applyingVO)!==(null==t?void 0:t.trackId)&&(0,ue.jsx)(wt.Z,{sx:{padding:"0 9px 0 6px",height:"100%",borderRadius:"0",background:"#852CFF",margin:"0 0px 0 0px","&:hover":{background:"#6C00FF !important"}},onClick:function(n){null==n||n.stopPropagation(),e.removeActiveRecent(t,n)},children:(0,ue.jsx)(Et.Z,{sx:{fontSize:"20px",marginLeft:"5px",color:"grey.0 !important"}})})]})}):(0,ue.jsx)(g.Z,{className:["applied hide-on-hover"].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 !important"},children:(0,ue.jsxs)(g.Z,{sx:(S={display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 8px 0 8px !important",height:"33px",overflow:"hidden",background:"#fff !important"},(0,s.Z)(S,"padding","0 !important"),(0,s.Z)(S,"border","1px solid #852CFF"),(0,s.Z)(S,"minWidth","95px"),S),children:[(0,ue.jsx)(m.Z,{sx:{m:"1px 5px 0 3px !important",fontSize:"13px !important",padding:"0 0 0 12px !important",color:"#852CFF !important"},children:"Applied"}),(0,ue.jsx)(wt.Z,{id:y,onClick:function(n){null==n||n.stopPropagation(),e.removeActiveRecent(t,n)},sx:{padding:"0 7px 0 0px",height:"100%",borderRadius:"0",color:"#852CFF","&:hover":{background:"#F0E9FC"}},children:(0,ue.jsx)(Et.Z,{sx:{fontSize:"20px",marginLeft:"5px"}})})]})})]})]})]})})},n)}))})})}}]),d}(L.Component),Cn=(0,W.$j)((function(e){return{saveSettingsStatus:e.brandSettings.saveSettingsStatus,saveAudioStatus:e.favouriteAndRecents.saveAudioStatus,deleteAudioStatus:e.favouriteAndRecents.deleteAudioStatus,voiceOverDataResponseID:e.createVideoStepThree.voiceOverDataResponseID}}),{saveBrandSettings:bn,deleteAudioFavAndRecents:jn,saveAudioFavAndRecents:wn,deleteVoiceOverTrackRequest:Zn})(kn),In=n(51175),Tn=n(94728),En=q.Z.Instance.ImagesBucketBaseUrl,An=["#2E8BCA","#615050","#66231E","#34B076","#79A035","#861E8B","#A8BE8E","#89B27A","#7CD46D","#3BAD1B","#CE54CA","#5A68C3","#074169","#4FCBD3","#D9AB79","#A97634","#DD9032","#F5B710","#EE3B3B","#D95912","#CE8776","#894B11","#DFDB3D","#F9D446","#D8D8D8","#DBD7D7","#AEAAAA","#979292","#5E5959","#000000"],_n=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).handleColorChange=function(e){var t=e.target.value;r.setState({color:t}),t&&(t.search(/^#?([0-9a-f]{3}){1,2}$/i)?r.setState({hexColorTextError:!0}):r.setState({hexColorTextError:!1}))},r.handleColorChangeComplete=function(e){if(e&&("object"==typeof e&&(e=e.hex),e&&(0!==e.indexOf("#")&&(e="#"+e),!e.search(/^#([0-9a-f]{3}){1,2}$/i)))){var t="Scene_-4_-1";document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(t=e.id)}));var n=t.split("_"),s=parseInt(n[1]);return!r.props.isOutroScene(s)&&!r.props.isCustomIntroScene(s)&&void r.setState({color:e},(function(){r.props.changeBgColor(r.rgbaNotation(r.state.color),s)}))}},r.chunk=function(e,t){for(var n=[],r=0;r<e.length;)n.push(e.slice(r,t+r)),r+=t;return n},r.colorSelected=function(e){var t="Scene_-4_-1";document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(t=e.id)}));var n=t.split("_"),s=parseInt(n[1]);return!r.props.isOutroScene(s)&&!r.props.isCustomIntroScene(s)&&void r.setState({color:e},(function(){r.props.changeBgColor(r.rgbaNotation(r.state.color),s)}))},r.pastedValue=function(e){var t=e.target.value;if("string"==typeof t&&"#"===t[0]);else{if("string"!=typeof t||6!==t.length)return;t="#"+t}r.setState({color:r.hexToRgba(e.target.value)}),r.colorSelected(t)},r.hexToRgba=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:1}:null},r.rgbaNotation=function(){var e=r.hexToRgba(r.state.color);return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":""},r.state={user:{},color:"#000"},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this;k.g.currentAuthenticatedUser().then((function(t){e.setState({user:t})})).catch(function(e){}.bind(this))}},{key:"updateImage",value:function(e,t){t.stopPropagation();var n=e,r="Scene_-4_-1",s={thumb:e,preview:e,large:e,url:e,library:"pictory_textures"};this.props.imageURL,document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){if("block"===e.style.display){r=e.id;var t=e.getElementsByTagName("p");if(t.length>0)for(var n=0;n<t.length;n++)if(n>0&&t[n]&&t[n].innerText)t[n].innerText}}));var a=r.split("_"),i=a[1],o=a[2];if(this.props.isOutroScene(i))return!1;if(this.props.isCustomIntroScene(i))return!1;for(var c=1;null!=document.getElementById("Image_"+i+"_"+c);c++)document.getElementById("Image_"+i+"_"+c).src=n;document.getElementById("figure_"+i+"_"+o).style["background-image"]='url("'+n+'")',this.props.hideShowOverlay(i,n,!0,s,!0)}},{key:"render",value:function(){var e=this;return(0,ue.jsxs)("div",{className:"form-group p-rel mb-0 p-3 ov-right mCustomScrollbar hover-only-scrollbar content fill-height",style:{maxWidth:"536px"},children:[(0,ue.jsx)("h5",{className:"texture-tab-heading",children:"Background textures"}),(0,ue.jsx)("div",{className:"textures-container vertical-flex mt-2",style:{minHeight:"268px"},children:this.chunk(this.props.textures,6).map((function(t){return(0,ue.jsx)("div",{className:"horizontal-flex",style:{cursor:"pointer"},children:t.map((function(t){return(0,ue.jsx)("img",{className:"texture",onClick:function(n){return e.updateImage(En+t,n)},src:En+t,alt:"texture"},t)}))},t[0])}))}),(0,ue.jsx)("h5",{className:"texture-tab-heading mt-4 mb-0",children:"Solid colors"}),(0,ue.jsxs)("div",{className:"horizontal-flex flex-space-between",children:[(0,ue.jsx)("div",{className:"colors-container vertical-flex item-space-1 mt-2 ml-0 mr-3",children:this.chunk(An,6).map((function(t){return(0,ue.jsx)("div",{className:"horizontal-flex item-space-1",children:t.map((function(t){return(0,ue.jsx)("div",{className:"color-box",onClick:function(){e.colorSelected(t)},style:{backgroundColor:t},children:" "},t)}))},t[0])}))}),(0,ue.jsxs)("div",{className:"vertical-flex color-picker-container hide-preset-colors hide-alpha hide-hex-rgb-input",children:[(0,ue.jsxs)("h5",{className:"horizontal-flex flex-space-between color-selection-container max-width-188",children:["Color hex:",(0,ue.jsx)("input",{type:"text",className:"solid-color-value",value:this.state.color||"#000",onChange:this.handleColorChange,onBlur:function(t){return e.handleColorChangeComplete({hex:t.target.value})},style:{color:this.state.hexColorTextError?"red":""}})]}),(0,ue.jsx)(Tn.xS,{className:"max-width-168",color:this.state.color,disableAlpha:!0,onChangeComplete:this.handleColorChangeComplete})]})]})]})}}]),n}(L.Component),Rn=(0,W.$j)((function(e){return{textures:e.visualsSearch.textures}}))(_n),Pn=n(76657),Nn=n.n(Pn),On=n(10056),Dn=n(3859),Un=ae.Z.getImageList,Ln=ae.Z.deleteImage,Fn=ae.Z.uploadImage,Vn=ae.Z.saveImage,Bn=ae.Z.saveVisualsFavAndRecents,Mn=ae.Z.deleteVisualsFavAndRecents,Gn=ae.Z.getImageUsersRequest,Wn=ae.Z.shareImage,zn=function(e){(0,p.Z)(f,e);var t,n=(0,h.Z)(f);function f(e){var t;return(0,l.Z)(this,f),(t=n.call(this,e)).DeleteImage=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({showOverlay:!0}),t.state.user.username,e.next=5,t.props.deleteImage({username:t.state.user.username,id:n});case 5:t.props.deleteImageStatus,t.setState({showOverlay:!1});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.handleValueChange=function(e){var n=e.target.name,r=e.target.value;t.setState((0,s.Z)({},n,r))},t.CloseUploadImageBox=function(e){document.getElementById("file").value=null,t.setState({showPopUpUploadImages:!1,files:[],fileNames:[],imagesPreviewUrls:[],fileTypes:[]})},t.removeImageFromSave=function(e,n){var r=(0,o.Z)(t.state.files),s=(0,o.Z)(t.state.fileNames),a=(0,o.Z)(t.state.imagesPreviewUrls),i=(0,o.Z)(t.state.fileTypes);r.splice(e,1),s.splice(e,1),a.splice(e,1),i.splice(e,1),t.setState({imagesPreviewUrls:a,fileNames:s,files:r,fileTypes:i})},t.SaveUploadedImage=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var r,s,a,c,l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("file").value=null,0!==(r=(0,o.Z)(t.state.files)).length){e.next=9;break}return document.getElementById("spanForErrorSave").innerHTML="Upload file",document.getElementById("savingInProgress").style.display="block",document.getElementById("spanForErrorSave").className="spanForSavingAndSave alert alert-danger",t.setState({showOverlay:!1}),setTimeout((function(){document.getElementById("savingInProgress").style.display="none",document.getElementById("spanForErrorSave").className="spanForSavingAndSave"}),2e3),e.abrupt("return",!1);case 9:s=(0,o.Z)(t.state.fileNames),(0,o.Z)(t.state.imagesPreviewUrls),a=(0,o.Z)(t.state.fileTypes),t.setState({showOverlay:!0}),c=0;case 14:if(!(c<r.length)){e.next=40;break}return l=((0,ye.E3)()?"teams/".concat((0,ye.E3)(),"/users/"):"")+t.state.user.username+"/",a[c].match("video.*")?l+="videos/":a[c].match("image.*")&&(l+="images/"),u=s[c].split("."),d="."+u[u.length-1],l="".concat(l).concat((0,ye.DO)()).concat(d),e.next=22,t.props.uploadImage({filePath:l,file:r[c]});case 22:if("success"!==t.props.uploadImageStatus){e.next=34;break}return l=q.Z.Instance.GetUserUploadUrl(l,"public"),p={id:Date.now(),cognito_id:t.state.user.username,url:l,Tags:t.state.Tags,createdDate:(new Date).toISOString(),name:u[0],teamId:(0,ye.E3)()},""!==t.state.Credits&&null!==t.state.Credits&&void 0!==t.state.Credits&&(p.description=t.state.Credits),h={body:p},e.next=30,t.props.saveImage(h);case 30:"success"===t.props.saveImageStatus?(t.setState({showPopUpUploadImages:!1,filterValue:"all"}),t.props.setImageFilter("all"),w().getInstance().logEvent("image-upload",{"image-url":p.url,"upload-type":t.state.uploadType,"project-id":t.props.project_id}),setTimeout((function(){t.setState({showOverlay:!1,uploadType:""})}),2e3)):(t.setState({showPopUpUploadImages:!1}),setTimeout((function(){t.setState({showOverlay:!1,uploadType:""})}),2e3)),e.next=37;break;case 34:(0,Ze.x2)("Failed to upload file. Please try again."),w().getInstance().logEvent("image-upload-error",{error:"Failed to upload file: "+s[c]}),setTimeout((function(){t.setState({showOverlay:!1,uploadType:""})}),2e3);case 37:c++,e.next=14;break;case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.AddRemoveFromFavForUpload=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,r,s){var c,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&s.stopPropagation(),(c=(0,o.Z)(t.state.imageList))[r]&&((l=(0,a.Z)({},c[r])).favVisualId?(t.props.deleteVisualsFavAndRecents({username:t.props.username,id:l.favVisualId}),l.fav=!1,l.favVisualId=null):(u={id:(0,ye.DO)(),url:n,category:"favorite",active:!1,cognito_id:t.props.username,date:new Date},d={body:u},w().getInstance().logEvent("image-favorited",{"image-url":n,source:"Upload Image","project-id":t.props.project_id}),t.props.saveVisualsFavAndRecents(d),l.fav=!0,l.favVisualId=u.id),c[r]=l,t.setState({imageList:c}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.createVideoFromVideo=function(e){var n={cognito_id:t.state.user.username,email:t.state.user.attributes.email,project_id:Date.now(),articleUrl:e};t.props.history.push({pathname:ze.Z.BaseURL+ke.Z.stepTwo,state:{url:e,sentences:2,originalText:"",baseText:"",summaryText:"",isPrevious:!1,summaryJson:"",lines:5,value:40,totalLines:20,GoClick:"URL",allSummaryText:"",mainOriginalText:"",startingSummary:"",projectDetails:n}})},t.getAssetsLoader=function(){return(0,ue.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"absolute",left:"46%",zIndex:"2",top:"100px",marginTop:"100px"},children:"Uploading..."})},t.loadMoreVisuals=function(e){var n=t.state.imageList.slice(0,100*e);n.length!=t.state.paginatedList.length?t.setState({page:e,paginatedList:n}):(t.props.nextImageListPageKey&&(t.props.getMoreUploadedImages(t.props.nextImageListPageKey),t.props.getImageUsersRequest((0,ye.E3)(),t.state.user.username)),t.setState({loadMoreList:!1}))},t.filterImages=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({filterValue:n}),t.props.setImageFilter(n),t.props.getImageUsersRequest((0,ye.E3)(),t.state.user.username);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.openShareVisualDialog=function(e){var n,r=null===(n=t.props.visualsUsersMapping)||void 0===n?void 0:n.Items.filter((function(t){return t.imageId===e}));t.setState({openShareVisualDialog:!0,visualMapping:r,selectedVisualForShare:e})},t.openShareVisualsPopover=function(e,n){var r,s,a=null===(r=t.props.visualsUsersMapping)||void 0===r?void 0:r.Items.filter((function(e){return e.imageId===n}));t.setState({openVisualMapping:!t.state.openVisualMapping,anchorElVisualMapping:e.currentTarget,visualMapping:a,selectedVisualForShare:n,disableRemoveShare:(null===(s=a[0])||void 0===s?void 0:s.sharedByUserId)!==t.state.user.username})},t.shareVisual=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var r,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.selectedVisualForShare||t.state.selectedVisualsCheckbox,e.next=3,t.props.shareImage(t.state.user.username,r,n);case 3:"success"===(s=e.sent)?(setTimeout((function(){var e=Array.isArray(r)?r.length:1,s=1===(null==n?void 0:n.length)&&"remove"===n[0].action?"Visual share removed for the chosen team member":"".concat(e," visual").concat(e>1?"s":""," shared with selected team members");t.setState({showAlertNotification:s})}),100),t.props.getImageUsersRequest((0,ye.E3)(),t.state.user.username),w().getInstance().logEvent("asset-shared",{"asset-type":"visual","use-case":t.props.source,"project-id":t.props.project_id,"workspace-name":(0,ye.CV)(t.state.user.username)})):(a=1===(null==n?void 0:n.length)&&"remove"===n[0].action?"Visual share could not be removed. Please contact support":"Visual could not be shared. Please contact support",t.setState({showAlertNotification:a}),w().getInstance().logEvent("asset-share-error",{"asset-type":"visual","use-case":t.props.source,"project-id":t.props.project_id,"workspace-name":(0,ye.CV)(t.state.user.username),response:s}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.selectMultiple=function(e,n){var r,s=(0,o.Z)(t.state.selectedVisualsCheckbox||[]),a=s.findIndex((function(e){return e===n}));a>-1?e||s.splice(a,1):e&&s.push(n);for(var i=[],c=(null===(r=t.props.visualsUsersMapping)||void 0===r?void 0:r.Items)||[],l=0;l<c.length&&1==s.length;l++){var u=c[l];s.includes(u.imageId)&&i.push(u)}t.setState({selectedVisualsCheckbox:s,visualMapping:i})},t.CellRenderer=function(e){var n,r,i,o,c,l,u,p,h,f,y,b,j,w=e.key,Z=e.rowIndex,k=e.columnIndex,C=e.style,I=(e.parent,e.isScrolling,e.isVisible,e.showCheckbox),T=k+2*Z;if(t.state.imageList.length%2==1&&T>=t.state.imageList.length+2)return"";if(1===T)return"";if(0===T)return(0,ue.jsxs)("div",{style:{width:"calc(100% - 16px)"},children:[(0,ue.jsx)("form",{className:"upload-imgform",children:(0,ue.jsxs)("div",{className:"upload-label",style:I?{padding:"16px",height:"150px"}:{},onClick:function(){return t.setState({uploadType:"browsed",errorMsg:null})},children:[(0,ue.jsx)("input",{type:"file",id:"file",onChange:t._handleImageChange.bind(),accept:"".concat(je.tP.video.join(","),",").concat(je.tP.image.join(",")),multiple:!0}),(0,ue.jsxs)("label",{className:"helper-content text-center",children:[(0,ue.jsx)("img",{src:yt,alt:""}),(0,ue.jsxs)("p",{className:"mb-0 helper-text",children:["Drag and drop files or ",(0,ue.jsx)("br",{})," browse from your computer"]}),(0,ue.jsxs)(m.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px"},children:["Images and Video files"," ",(0,ue.jsx)(S.Z,{sx:{zIndex:"999"},title:(0,ue.jsxs)(g.Z,{sx:{p:"5px"},children:[(0,ue.jsx)(m.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px",mb:"4px"},children:"Supported format types and sizes"}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(m.Z,{variant:"text_sm",sx:{mb:"2px"},children:["Images - JPG, JPEG, PNG, SVG and WEBP up to ",null===(h=t.state.fileValidations)||void 0===h?void 0:h.imageUploadMaxSize," ","MB"]}),(0,ue.jsx)("br",{}),(0,ue.jsxs)(m.Z,{variant:"text_sm",children:["Videos - MP4, MOV and WEBM up to ",null===(f=t.state.fileValidations)||void 0===f?void 0:f.videoUploadMaxSize," MB"]})]}),placement:"bottom",children:(0,ue.jsx)(Ct.Z,{fontSize:"small",sx:{width:"13px",height:"13px",ml:"2px",mb:"3px"}})})]})]}),t.state.errorMsg&&(0,ue.jsx)(m.Z,{component:"p",variant:"text_xs",color:"error.main",children:t.state.errorMsg})]})}),I&&(0,ue.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ue.jsx)(S.Z,{title:(null===(y=t.state.selectedVisualsCheckbox)||void 0===y?void 0:y.length)>0?"":"Select visuals to share",arrow:!0,children:(0,ue.jsx)(g.Z,{children:(0,ue.jsxs)(v.Z,{onClick:function(e){return t.setState({openShareVisualDialog:!0,selectedVisualForShare:void 0})},disabled:!((null===(b=t.state.selectedVisualsCheckbox)||void 0===b?void 0:b.length)>0),children:[(0,ue.jsx)(_t.Z,{fontSize:"small",sx:{mr:1}}),"Share"+((null===(j=t.state.selectedVisualsCheckbox)||void 0===j?void 0:j.length)>0?" selected":"")]})})}),(0,ue.jsx)(bt.default,{filterData:t.filterImages,filterValue:t.state.filterValue})]})]});var E=t.state.imageList[T-2];if(!E)return"";var A=null===(n=t.props.visualsUsersMapping)||void 0===n?void 0:n.Items.filter((function(e){return e.imageId===E.id})),_=null!=A&&null!==(r=A[0])&&void 0!==r&&r.sharedByUserId&&A[0].sharedByUserId!==t.state.user.username?(0,ue.jsxs)(m.Z,{variant:"text_sm",component:"div",sx:{color:"grey.800",ml:0,pt:"5px",textAlign:"left"},children:["By ",(0,ye.Yf)(A[0])]}):(0,ue.jsx)(ue.Fragment,{}),R=(null==A||null===(i=A[0])||void 0===i?void 0:i.isShared)&&(null==A||null===(o=A[0])||void 0===o?void 0:o.sharedByUserId)!==t.state.user.username,P=R&&(0,ue.jsxs)(ue.Fragment,{children:["This visual is owned by ",(0,ye.Yf)(A[0]),". ",(0,ue.jsx)("br",{}),"Ask ",(0,ye.Zo)(A[0])," to delete."]}),N=R&&(0,ue.jsxs)(ue.Fragment,{children:["This visual is owned by ",(0,ye.Yf)(A[0]),". ",(0,ue.jsx)("br",{}),"Ask ",(0,ye.Zo)(A[0])," to provide access."]}),O="branding"==E.context,D=O?"This visual can't be deleted here as it was uploaded to a brand":"",U="branding"==E.context&&(null===(c=t.props.brandingVisualList)||void 0===c?void 0:c.find((function(e){return e.url==E.url})));return(0,ue.jsx)("div",{className:"on-hover-event",style:(0,a.Z)((0,a.Z)({},C),{},{paddingRight:"16px"}),children:(0,ue.jsxs)("div",{className:"w-100 on-hover-event position-relative",children:[(0,ue.jsxs)(x.Z,{className:"img-block d-block img-fav",sx:{borderRadius:"8px",overflow:"hidden !important"},children:[U&&(0,ue.jsx)(S.Z,{title:"Part of your applied brand",placement:"top",arrow:!0,children:(0,ue.jsx)(g.Z,{sx:{position:"absolute",zIndex:"1",left:"6px",top:"6px",background:"rgba(0,0,0,0.7)",padding:"0",width:"26px",height:"26px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",cursor:"pointer"},children:(0,ue.jsx)(kt.Z,{sx:{color:"rgba(255,255,255,0.7)",marginLeft:"0px",fontSize:"18px"}})})}),(0,ue.jsxs)("a",{className:"btn-span outer-link",children:[(0,ue.jsx)("div",{className:"change-img",onClick:t.updateImage.bind((0,d.Z)(t),E.url,E),children:"video"===(0,ye.Q5)(E.url)?(0,ue.jsxs)("div",{className:"vid-blocksearch d-flex h-100",children:[(0,ue.jsx)("span",{className:"vid-playbtn",children:(0,ue.jsx)(On.Z,{className:"fa fa-play"})}),(0,ue.jsx)("video",{muted:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},className:"w-100",alt:"",children:(0,ue.jsx)("source",{src:E.url})},E.url)]}):(0,ue.jsx)("img",{src:E.url,alt:""})}),I&&(0,ue.jsx)(S.Z,{title:N,arrow:!0,children:(0,ue.jsx)(g.Z,{sx:{position:"absolute",zIndex:1,top:0,right:0},className:null!==(l=t.state.selectedVisualsCheckbox)&&void 0!==l&&l.includes(E.id)?"":"show-on-hover",children:(0,ue.jsx)(jt.Z,{checked:!(null===(u=t.state.selectedVisualsCheckbox)||void 0===u||!u.includes(E.id)),onChange:function(e){return t.selectMultiple(e.target.checked,E.id)},disabled:R,sx:{color:"grey.0","& svg.MuiSvgIcon-root":{backgroundColor:"rgba(0,0,0,0.7)"},"&.Mui-checked":{color:"grey.0"},"&.Mui-disabled":{color:"rgba(95, 97, 120, 0.8)"}}})})})]})]}),(0,ue.jsxs)(g.Z,{className:"visual-shared-by",sx:{left:"4px",bottom:"4px",borderRadius:"4px",p:"0 2px 2px",cursor:"default",display:"flex",alignItems:"center"},children:[_,(null==A?void 0:A.length)>0&&(0,ue.jsx)(wt.Z,{size:"small",sx:(p={color:"grey.800",position:"absolute",background:"rgba(0,0,0,0.5)",bottom:"48px",left:"10px",borderRadius:"4px"},(0,s.Z)(p,"color","grey.0"),(0,s.Z)(p,"&:hover",{background:"rgba(0,0,0,0.5)"}),p),onClick:function(e){return t.openShareVisualsPopover(e,E.id)},children:(0,ue.jsx)(Dn.Z,{fontSize:"small"})})]}),(0,ue.jsxs)(g.Z,{className:"justify-content-between visual-toolbar",children:[(0,ue.jsx)(S.Z,{title:"Add to favourite",arrow:!0,children:(0,ue.jsx)(v.Z,{variant:"text",sx:{minWidth:"unset",height:"32px","&:hover":{backgroundColor:"grey.200"}},children:(0,ue.jsx)(g.Z,{className:"pt-2 p-0 visual-fav-icon",sx:{mt:"-18px !important"},children:(0,ue.jsx)("a",{className:"img-controls fav-icon-height",children:(0,ue.jsxs)("div",{className:"fav-ico",children:[(0,ue.jsx)("input",{type:"checkbox",name:"fav1",title:E.fav?"Remove from favourite":"Add to favourite",onClick:t.AddRemoveFromFavForUpload.bind((0,d.Z)(t),E.url,T-2),checked:!!E.fav}),(0,ue.jsx)("label",{})]})})})})}),I&&(0,ue.jsx)(S.Z,{title:N||"share",arrow:!0,children:(0,ue.jsx)(g.Z,(0,a.Z)((0,a.Z)({component:"span"},R?{sx:{cursor:"default"}}:{}),{},{children:(0,ue.jsx)(v.Z,{variant:"text",onClick:function(){return t.openShareVisualDialog(E.id)},disabled:R,sx:{minWidth:"unset",height:"32px","&:hover":{backgroundColor:"grey.200"}},children:(0,ue.jsx)(_t.Z,{fontSize:"small",sx:{m:0,color:"grey.600",transform:"scaleX(-1)"}})})}))}),(0,ue.jsx)(S.Z,{title:P||D||"Delete",arrow:!0,children:(0,ue.jsx)(g.Z,(0,a.Z)((0,a.Z)({component:"span"},R||O?{sx:{cursor:"default"}}:{}),{},{children:(0,ue.jsx)(v.Z,{variant:"text",fullWidth:!0,color:"error",onClick:function(){return t.DeleteImage(E.id)},disabled:R||O,sx:{minWidth:"unset",height:"32px",color:"grey.600","&:hover":{backgroundColor:"grey.200",color:"red"}},children:(0,ue.jsx)(Tt.Z,{fontSize:"small",sx:{m:0}})})}))})]})]})},w)},t.state={imageList:[],paginatedList:[],page:1,loadMoreList:!0,brandSetting:t.props.brandSetting,Credits:"",Tags:"",user:"",files:[],fileNames:[],fileTypes:[],imagesPreviewUrls:[],addErrorClass:"",showOverlay:!1,imageLoaded:!1,uploadType:"",favoriteVisualsDict:{},filterValue:"all",showAlert:!1,alertMessage:"",alertSeverity:"success",fileValidations:{videoUploadMaxSize:null,imageUploadMaxSize:null},errorMsg:null},t._handleImageChange=t._handleImageChange.bind((0,d.Z)(t)),t}return(0,u.Z)(f,[{key:"componentDidMount",value:function(){var e=this;q.Z.Instance.Configure(),k.g.currentAuthenticatedUser().then((function(t){e.setState({user:t}),e.getImageList(e.props.favoriteVisuals,e.props.imageList);var n=(0,ye.E3)();n&&e.props.getImageUsersRequest(n,e.state.user.username),e.setState({fileValidations:(0,ye.eF)(e.state.user?e.state.user.username:"")})})).catch(function(e){this.props.history.push(ze.Z.BaseURL)}.bind(this))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.refresh;if(n.id,e.refresh!==r&&(this.props.updateUpload(),this.props.getImageUsersRequest((0,ye.E3)(),this.state.user.username)),this.state.imageList!==t.imageList&&this.setState({paginatedList:this.state.imageList.slice(0,100*this.state.page),loadMoreList:!0}),this.props.visualsUsersMapping&&this.props.visualsUsersMapping!==e.visualsUsersMapping){for(var s=[],a=this.props.visualsUsersMapping.Items||[],i=0;i<a.length&&this.state.selectedVisualForShare;i++){var o=a[i];this.state.selectedVisualForShare==o.imageId&&s.push(o)}this.setState({visualMapping:s})}}},{key:"componentWillReceiveProps",value:function(e){e.favoriteVisuals&&e.favoriteVisuals!==this.props.favoriteVisuals&&this.getImageList(e.favoriteVisuals,this.props.imageList),e.imageList&&e.imageList!==this.props.imageList&&this.getImageList(this.props.favoriteVisuals,e.imageList)}},{key:"getImageList",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t,n){var s,a,o,c,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={},t){a=(0,r.Z)(t);try{for(a.s();!(o=a.n()).done;)c=o.value,s[c.url]=c}catch(e){a.e(e)}finally{a.f()}}for(l=[],u=0;u<n.length;u++)d={url:n[u].url,id:n[u].id,thumb:n[u].url,preview:n[u].url,large:n[u].url,isShared:n[u].isShared,context:n[u].context},s[d.url]?(d.fav=!0,d.favVisualId=s[d.url].id):(d.fav=!1,d.favVisualId=null),l.push(d);this.setState({imageList:l,favoriteVisualsDict:s,imageLoaded:!0});case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault(),this.setState({errorMsg:null}),this.setState({Credits:"",Tags:"",files:[],fileNames:[],imagesPreviewUrls:[],fileTypes:[]}),Array.from(e.target.files).forEach((function(e){var n,r,s=e.type,a=e.size/1e6;if(je.tP.video.includes(s)&&a<(null===(n=t.state.fileValidations)||void 0===n?void 0:n.videoUploadMaxSize)||je.tP.image.includes(s)&&a<(null===(r=t.state.fileValidations)||void 0===r?void 0:r.imageUploadMaxSize)){var i=new FileReader;i.onloadend=function(){t.setState({files:[].concat((0,o.Z)(t.state.files),[e]),imagesPreviewUrls:[].concat((0,o.Z)(t.state.imagesPreviewUrls),[i.result]),fileNames:[].concat((0,o.Z)(t.state.fileNames),[e.name]),fileTypes:[].concat((0,o.Z)(t.state.fileTypes),[e.type])})},i.readAsDataURL(e),t.setState({showPopUpUploadImages:!0,addErrorClass:"",uploadType:"browsed"===t.state.uploadType?"browsed":"dragged"})}else{var c,l,u,d;document.getElementById("file").value="",t.setState({errorMsg:"Please choose a file that has a valid format and size less than ".concat(je.tP.video.includes(s)?(null===(c=t.state.fileValidations)||void 0===c?void 0:c.videoUploadMaxSize)>1024?Math.floor(t.state.fileValidations.videoUploadMaxSize/1e3)+" GB":(null===(l=t.state.fileValidations)||void 0===l?void 0:l.videoUploadMaxSize)+" MB":(null===(u=t.state.fileValidations)||void 0===u?void 0:u.imageUploadMaxSize)>1024?Math.floor(t.state.fileValidations.imageUploadMaxSize/1e3)+" GB":(null===(d=t.state.fileValidations)||void 0===d?void 0:d.imageUploadMaxSize)+" MB"," ")})}}))}},{key:"updateImage",value:function(e,t,n){var r;n.stopPropagation(),this.state.imageList;var s=e,a="Scene_-4_-1",i=this.props.imageURL;document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(a=e.id)}));var o=(null===(r=document.querySelector(".drag-and-resize-box.sentences>#editor-box>p>span"))||void 0===r?void 0:r.innerText)||"",c=a.split("_"),l=c[1],u=c[2];if(this.props.isOutroScene(l))return!1;if(this.props.isCustomIntroScene(l))return!1;a=l-1,w().getInstance().logEvent("image-replaced",{"old-image":i[a],"new-image":s,"scene-text":o,source:"Upload Image","project-id":this.props.project_id}),i[a]=s,this.setState({imageURL:i});for(var d=1;null!=document.getElementById("Image_"+l+"_"+d);d++)document.getElementById("Image_"+l+"_"+d).src=s;document.getElementById("figure_"+l+"_"+u).style["background-image"]='url("'+s+'")',this.props.hideShowOverlay(l,s,!0,t,"isUploadImage")}},{key:"render",value:function(){var e,t,n=this,r=(0,ye.E3)();return(0,ue.jsxs)("div",{className:"card blocktwo-3 fill-height",children:[(0,ue.jsx)(G.Z,{active:this.state.showOverlay,spinner:!0,text:"Please wait..."}),(0,ue.jsx)("div",{className:"card-body pr-0 fill-height",children:(0,ue.jsx)("div",{className:"ov-right content mCustomScrollbar hover-only-scrollbar vertical-flex fill-height",ref:function(e){return n.scrollParentRef=e},style:{paddingRight:"20px"},children:(0,ue.jsx)(at.qj,{children:function(e){var t=e.width,s=e.height;return(0,ue.jsx)(at.rj,(0,a.Z)((0,a.Z)((0,a.Z)({},n.props),n.state),{},{data:n.state.imageList,columnCount:2,rowCount:Math.ceil(n.state.imageList.length/2+1),rowHeight:200,columnWidth:t/2+5,height:s,style:{overflowX:"hidden"},width:t+20,overscanRowCount:3,cellRenderer:function(e){return(0,ue.jsx)(n.CellRenderer,(0,a.Z)((0,a.Z)((0,a.Z)({},e),n.state),{},{showCheckbox:r}))}}))}})})}),this.state.imageLoaded?null:this.getAssetsLoader(),(0,ue.jsx)("div",{className:"VideoProgressBar UploadImageModel",id:"UploadImageModel",style:{left:"0px",display:this.state.showPopUpUploadImages?"block":"none"},children:(0,ue.jsx)("div",{className:"modal-dialog modal-upldimg",children:(0,ue.jsx)("div",{className:"modal-content",children:(0,ue.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,ue.jsxs)("div",{className:"modal-header",children:[(0,ue.jsx)("h4",{className:"modal-title",children:"Upload images and videos"}),(0,ue.jsx)("span",{className:"close",onClick:this.CloseUploadImageBox.bind(),children:"×"})]}),(0,ue.jsxs)("div",{className:"modal-bodys",children:[(0,ue.jsx)("div",{className:"col uploadedimg-box",children:(0,ue.jsx)("ul",{className:"row list-mediasimgs list-inline",children:this.state.imagesPreviewUrls.map((function(e,t){return(0,ue.jsx)("li",{className:"col-md-4 col-6",children:(0,ue.jsxs)("div",{className:"media-preview-wrapper",children:[n.state.fileTypes[t]&&!n.state.fileTypes[t].includes("image")?(0,ue.jsxs)("div",{className:"vid-blocksearch d-flex h-100",children:[(0,ue.jsx)("span",{className:"vid-playbtn",children:(0,ue.jsx)("i",{className:"fa fa-play"})}),(0,ue.jsx)("video",{muted:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},src:e,style:{width:"100%"},alt:"previewImg"},t)]}):(0,ue.jsx)("img",{alt:"previewImg",src:e},t),(0,ue.jsx)("span",{className:"remove-img",onClick:n.removeImageFromSave.bind(n,t),children:"×"})]})})}))})}),(0,ue.jsx)("div",{className:"col-12 text-right bottom-box-btn",children:(0,ue.jsx)("button",{className:"btn btn-submit btn-span",onClick:this.SaveUploadedImage.bind(),children:"Save"})})]})]})})})}),this.state.openShareVisualDialog&&(0,ue.jsx)(Rt.I,{open:this.state.openShareVisualDialog,onClose:function(){return n.setState({openShareVisualDialog:!1,selectedVisualForShare:void 0,selectedVisualsCheckbox:[]})},assetMapping:this.state.visualMapping,teamUsers:this.props.teamUsers,shareAsset:this.shareVisual,cognito_id:this.state.user.username,assetType:"visual",title:"Share ".concat((null===(e=this.state.selectedVisualsCheckbox)||void 0===e?void 0:e.length)||1," visual").concat((null===(t=this.state.selectedVisualsCheckbox)||void 0===t?void 0:t.length)>1?"s":"")}),this.state.openVisualMapping&&(0,ue.jsx)(Ot.y,{open:this.state.openVisualMapping,onClose:function(){return n.setState({openVisualMapping:!1,selectedVisualForShare:void 0})},assetMapping:this.state.visualMapping,teamUsers:this.props.teamUsers,shareAsset:this.shareVisual,anchorEl:this.state.anchorElVisualMapping,disableRemoveShare:this.state.disableRemoveShare}),(0,ue.jsx)(Pt.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,severity:this.state.alertSeverity,onClose:function(){return n.setState({showAlertNotification:void 0})}})]})}}]),f}(L.Component),Jn=(0,W.$j)((function(e){return{imageList:e.uploadImage.imageListResult.Items,nextImageListPageKey:e.uploadImage.imageListResult.pageKey,deleteImageStatus:e.uploadImage.deleteImageStatus,saveImageStatus:e.uploadImage.saveImageStatus,uploadImageStatus:e.brandSettings.uploadImageStatus,visualsUsersMapping:e.uploadImage.imageUsersResult}}),{getImageList:Un,deleteImage:Ln,uploadImage:Fn,saveImage:Vn,saveVisualsFavAndRecents:Bn,deleteVisualsFavAndRecents:Mn,getImageUsersRequest:Gn,shareImage:Wn})(zn),Hn=n(37536),Kn=n(82937),qn=n(79136),Yn=n(37656),Qn=n(35593),Xn=n(51690),$n=n(69473),er=(n(82436),ae.Z.generatImageBegin),tr=ae.Z.saveVisualsFavAndRecents,nr=ae.Z.deleteVisualsFavAndRecents,rr=ae.Z.historyRequestBegin,sr=ae.Z.validateTextToImageQuotaRequest,ar=function(e){(0,p.Z)(S,e);var t,n,r,s,d=(0,h.Z)(S);function S(e){var t;return(0,l.Z)(this,S),(t=d.call(this,e)).showImages=function(e,n){var r=e.length>0?t.state.generatedCount+1:t.state.generatedCount;if(t.setState({images:e,status:"generated",generatedCount:r,error:n}),e.length>0){var s=t.state.amplitudeEvent,a=t.props.validateTextToImageQuotaResult.totalTextToImagesPerMonth-t.props.validateTextToImageQuotaResult.textToImagesPerMonth+r;s["reel-art-quota"]=a,w().getInstance().logEvent("create-a-reel-art",s)}},t.showHistory=function(e){var n=t.state.history;n?(n.items=[].concat((0,o.Z)(n.items),(0,o.Z)(e.items)),n.LastEvaluatedKey=e.LastEvaluatedKey):n=e,t.setState({history:n})},t.generateClick=function(){t.props.generatImageBegin(t.props.project_id,{text:t.state.text.trim(),style:t.state.selectedStyle,stylePrompt:t.state.stylePrompt});var e={"prompt-entered":t.state.text.trim(),"style-selected":t.state.selectedStyle,"project-id":t.props.project_id,regenerated:"No"};t.setState({status:"generating",amplitudeEvent:e})},t.onClickRegenerateFromSearchHistory=function(e,n,r){if(!n&&!t.state.error){e.preventDefault&&e.preventDefault();var s=JSON.stringify(r);console.log("searchItem: "+s),t.props.generatImageBegin(t.props.project_id,{text:r.text.trim(),style:r.style,stylePrompt:r.stylePrompt});var a={"prompt-entered":r.text.trim(),"style-selected":r.style,"project-id":t.props.project_id,regenerated:"Yes"};t.setState({status:"generating",amplitudeEvent:a,text:r.text.trim(),selectedStyle:r.style,stylePrompt:r.stylePrompt})}},t.generateNewClick=function(e,n){if(!n&&!t.state.error){e.preventDefault&&e.preventDefault(),t.props.generatImageBegin(t.props.project_id,{text:t.state.text.trim(),style:t.state.selectedStyle,stylePrompt:t.state.stylePrompt});var r={"prompt-entered":t.state.text.trim(),"style-selected":t.state.selectedStyle,"project-id":t.props.project_id,regenerated:"Yes"};t.setState({status:"generating",amplitudeEvent:r})}},t.recentClick=function(e){e.preventDefault&&e.preventDefault(),t.setState({status:"showhistory",history:null}),t.props.historyRequestBegin(t.props.project_id)},t.backClick=function(){t.setState({status:"new",text:"",error:null})},t.handleTextChange=function(e){e!==t.state.text&&t.setState({text:e})},t.getImage=function(e){return e.originalUrl},t.Skeletons=function(){return(0,ue.jsxs)(Kn.ZP,{container:!0,spacing:2,xs:12,children:[(0,ue.jsx)(Kn.ZP,{item:!0,xs:6,children:(0,ue.jsx)(Nt.Z,{variant:"rectangular",sx:{width:"85%",height:"auto",borderRadius:"5px",aspectRatio:"1/1"}})}),(0,ue.jsx)(Kn.ZP,{item:!0,xs:6,children:(0,ue.jsx)(Nt.Z,{variant:"rectangular",sx:{width:"85%",height:"auto",borderRadius:"5px",aspectRatio:"1/1"}})}),(0,ue.jsx)(Kn.ZP,{item:!0,xs:6,children:(0,ue.jsx)(Nt.Z,{variant:"rectangular",sx:{width:"85%",height:"auto",borderRadius:"5px",aspectRatio:"1/1"}})}),(0,ue.jsx)(Kn.ZP,{item:!0,xs:6,children:(0,ue.jsx)(Nt.Z,{variant:"rectangular",sx:{width:"85%",height:"auto",borderRadius:"5px",aspectRatio:"1/1"}})})]})},t.loadMoreVisuals=function(e){t.state.history.LastEvaluatedKey&&t.props.historyRequestBegin(t.props.project_id,t.state.history.LastEvaluatedKey)},t.state={status:"new",text:"",images:[],stylePrompt:je.l[0].prompt,selectedStyle:je.l[0].text,generatedCount:0,hasMoreHistory:!0},t}return(0,u.Z)(S,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.validateTextToImageQuotaRequest(this.props.project_id)}},{key:"componentWillReceiveProps",value:function(e){e.isGenerating!==this.props.isGenerating&&0==e.isGenerating&&this.showImages(e.images,e.error),e.deleteVisualStatus!=this.props.deleteVisualStatus&&"success"==e.deleteVisualStatus.status&&this.updateDeleteFav(e.deleteVisualStatus),e.isFetching!==this.props.isFetching&&0==e.isFetching&&this.showHistory(e.history)}},{key:"updateDeleteFav",value:function(e){var t=(0,o.Z)(this.state.images),n=t&&t.findIndex((function(t){return t.favVisualId===e.visualId}));if(n>-1){var r=(0,a.Z)({},t[n]);r.fav=!1,r.favVisualId=null,t[n]=r,this.setState({images:t})}}},{key:"componentDidUpdate",value:function(e,t){}},{key:"GetPermanent",value:(s=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,o.Z)(this.state.images),!(r=n[t]).permanent){e.next=6;break}return e.abrupt("return",r);case 6:return e.prev=6,e.next=9,$n.Z.get(r.url);case 9:s=e.sent,r=(0,a.Z)((0,a.Z)({},r),{},{apiUrl:r.url,url:s.data.url,permanent:s.data.permanent}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),s=e.t0;case 16:return n[t]=r,this.setState({images:n}),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e){return s.apply(this,arguments)})},{key:"updateStyle",value:(r=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&r.stopPropagation(),this.setState({stylePrompt:n.prompt,selectedStyle:n.text});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"updateImage",value:(n=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,o,c,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.stopPropagation(),!n.url||""==n.url||null==n.url){e.next=26;break}if(!n.s3_url){e.next=6;break}n.url=n.s3_url,e.next=10;break;case 6:if(n.permanent){e.next=10;break}return e.next=9,this.GetPermanent(t);case 9:n=e.sent;case 10:if(this.props.imageURL,a="Scene_-4_-1",document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(a=e.id)})),o=(null===(s=document.querySelector(".drag-and-resize-box.sentences>#editor-box>p>span"))||void 0===s?void 0:s.innerText)||"",c=a.split("_"),l=c[1],u=c[2],!this.props.isOutroScene(l)){e.next=19;break}return e.abrupt("return",!1);case 19:if(!this.props.isCustomIntroScene(l)){e.next=21;break}return e.abrupt("return",!1);case 21:for(a=l-1,w().getInstance().logEvent("apply-reel-art",{"prompt-entered":this.state.text.trim(),"style-selected":this.state.selectedStyle,"scene-text":o,"project-id":this.props.project_id}),d=1;null!=document.getElementById("Image_"+l+"_"+d);d++)document.getElementById("Image_"+l+"_"+d).src=n.url;document.getElementById("figure_"+l+"_"+u).style["background-image"]='url("'+n.url+'")',this.props.hideShowOverlay(l,n.url,!0,{fav:!1,favVisualId:null,large:n.url,preview:n.url,thumb:n.url,url:n.url},"isUploadImage");case 26:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"AddRemoveFav",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,c,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.stopPropagation(),!(s=(0,o.Z)(this.state.images))[n]){e.next=10;break}return e.next=5,this.GetPermanent(n);case 5:c=e.sent,(l=(0,a.Z)({},c)).favVisualId?(this.props.deleteVisualsFavAndRecents({username:this.props.username,id:l.favVisualId}),l.fav=!1,l.favVisualId=null):(u={id:(0,ye.DO)(),url:c.url,category:"favorite",active:!1,cognito_id:this.props.username,date:new Date},d={body:u},this.props.saveVisualsFavAndRecents(d),l.fav=!0,l.favVisualId=u.id),s[n]=l,this.setState({images:s});case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=!1;return this.props.validateTextToImageQuotaResult&&(t=this.props.validateTextToImageQuotaResult.textToImagesPerMonth-this.state.generatedCount<1),(0,ue.jsxs)(x.Z,{sx:{backgroundColor:"common.white",flexDirection:"column",alignItems:"flex-start",padding:"1rem",gap:"1rem",display:"flex"},children:[t&&(0,ue.jsx)(Kn.ZP,{container:!0,children:(0,ue.jsxs)(qn.Z,{severity:"error",icon:!1,sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,ue.jsx)("img",{src:"/images/error-filled.svg"}),(0,ue.jsx)(m.Z,{variant:"text_sm",sx:{marginLeft:"12px",color:"error.darker"},children:"You have reached the limit of ".concat(this.props.validateTextToImageQuotaResult.totalTextToImagesPerMonth," images per month")})]})}),"new"==this.state.status&&(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)(g.Z,{sx:(0,a.Z)((0,a.Z)((0,a.Z)({backgroundColor:"#F0F0F0",borderRadius:"8px",flexDirection:"column",alignItems:"flex-start"},{"@media (min-width:600px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:900px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:1200px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:1366px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:1440px)":{paddingTop:"1rem",paddingBottom:"1rem"},"@media (min-width:1920px)":{paddingTop:"1rem",paddingBottom:"1rem"}}),{},{paddingLeft:"1rem",paddingRight:"1rem"},{"@media (min-width:600px)":{gap:"0.5rem"},"@media (min-width:900px)":{gap:"0.5rem"},"@media (min-width:1200px)":{gap:"0.5rem"},"@media (min-width:1440px)":{gap:"1rem"}}),{},{width:"100%"}),children:[(0,ue.jsxs)(x.Z,{direction:"row",sx:(0,a.Z)((0,a.Z)({alignItems:"center",justifyContent:"space-between"},{"@media (min-width:600px)":{gap:"0.5rem"},"@media (min-width:900px)":{gap:"0.5rem"},"@media (min-width:1200px)":{gap:"0.5rem"},"@media (min-width:1440px)":{gap:"1rem"}}),{},{width:"100%"}),children:[(0,ue.jsxs)(x.Z,{direction:"column",children:[(0,ue.jsx)(m.Z,{variant:"text_lg",sx:(0,a.Z)({color:"grey.500",width:"100%",fontWeight:600},{"@media (min-width:600px)":{paddingTop:"0rem"},"@media (min-width:900px)":{paddingTop:"0rem"},"@media (min-width:1200px)":{paddingTop:"0.rem"},"@media (min-width:1366px)":{paddingTop:"0rem"},"@media (min-width:1400px)":{paddingTop:"0rem"}}),component:"div",children:"Describe the image you want to see"}),(0,ue.jsx)(m.Z,{variant:"text_sm",sx:{color:"#grey.500",width:"100%"},component:"div",children:this.props.validateTextToImageQuotaResult&&"Images generated this month ".concat(this.props.validateTextToImageQuotaResult.totalTextToImagesPerMonth-this.props.validateTextToImageQuotaResult.textToImagesPerMonth+this.state.generatedCount,"/").concat(this.props.validateTextToImageQuotaResult.totalTextToImagesPerMonth)})]}),(0,ue.jsx)(f.Z,{href:"javascript:;",underline:"always",sx:{color:"primary.main"},onClick:function(t){return e.recentClick(t)},children:"Search history"})]}),(0,ue.jsx)(Xn.PTextField,{onKeyDown:function(e){return e.stopPropagation()},onKeyPress:function(n){n.stopPropagation(),"Enter"!==n.key||t||0==e.state.text.trim().length||e.generateClick()},sx:{width:"100%",pb:"0.5rem",pt:"1rem",color:"white","& .MuiOutlinedInput-root":{background:"white",padding:"0px"}},value:this.state.text,placeholder:"Red fox jumping over wooden fence..",onChange:this.handleTextChange})]}),(0,ue.jsxs)(g.Z,{sx:(0,a.Z)((0,a.Z)((0,a.Z)({backgroundColor:"grey.100",borderRadius:"8px",flexDirection:"column",alignItems:"flex-start"},{"@media (min-width:600px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:900px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:1200px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:1366px)":{paddingTop:"0.4rem",paddingBottom:"0.5rem"},"@media (min-width:1440px)":{paddingTop:"1rem",paddingBottom:"1rem"},"@media (min-width:1920px)":{paddingTop:"1rem",paddingBottom:"1rem"}}),{},{paddingLeft:"1rem",paddingRight:"1rem"},{"@media (min-width:600px)":{gap:"0.5rem"},"@media (min-width:900px)":{gap:"0.5rem"},"@media (min-width:1200px)":{gap:"0.5rem"},"@media (min-width:1440px)":{gap:"1rem"}}),{},{width:"100%"}),children:[(0,ue.jsx)(x.Z,{direction:"column",sx:{alignItems:"center",justifyContent:"space-between",gap:"1rem",width:"100%"},children:(0,ue.jsx)(m.Z,{variant:"text_lg",sx:(0,a.Z)({color:"grey.500",width:"100%",fontWeight:600},{"@media (min-width:600px)":{paddingTop:"0rem"},"@media (min-width:900px)":{paddingTop:"0rem"},"@media (min-width:1200px)":{paddingTop:"0.rem"},"@media (min-width:1366px)":{paddingTop:"0rem"},"@media (min-width:1400px)":{paddingTop:"0rem"}}),component:"div",children:"Choose your style"})}),(0,ue.jsx)(x.Z,{direction:"row",sx:{alignItems:"center",padding:"0.8rem 0 0.8rem 0",justifyContent:"space-between",gap:"1rem",width:"100%",maxWidth:"100%",overflow:"auto","&::-webkit-scrollbar":{width:10,height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"grey.300",borderRadius:2}},children:je.l.map((function(t,n){return(0,ue.jsxs)(x.Z,{sx:{alignItems:"center",gap:"1rem",width:"100%"},children:[(0,ue.jsx)(g.Z,{onClick:e.updateStyle.bind(e,n,t),sx:{borderColor:"primary.main",borderRadius:"8px",borderStyle:"".concat(e.state.selectedStyle==t.text?"solid":"none"),backgroundColor:"grey.100",flexDirection:"column",alignItems:"flex-start",height:"114x",width:"114px",cursor:"pointer"},children:(0,ue.jsx)("img",{src:t.image,style:{borderStyle:"none",borderRadius:"6px",width:"100%",height:"100%"}},"Box_img_".concat(n))},"Box__Stack_".concat(n)),(0,ue.jsx)(m.Z,{variant:"text_xs",sx:{color:"grey.500",width:"100%",textAlign:"center",userSelect:"text",cursor:"text"},component:"div",children:t.text},"Box_text_".concat(n))]},"Box_".concat(n))}))})]}),(0,ue.jsx)(v.Z,{variant:"contained",sx:{width:"100%"},startIcon:(0,ue.jsx)("img",{src:"/images/generate_small.svg",alt:"generate",style:{height:"22px",width:"22px"}}),disabled:t||0==this.state.text.trim().length,onClick:function(){return e.generateClick()},children:"Generate"})]}),"generating"==this.state.status&&(0,ue.jsxs)(g.Z,{sx:{width:"100%",pt:"0.6rem",pb:"0.5rem",pr:"0.8rem"},children:[(0,ue.jsx)(m.Z,{variant:"text_base",color:"grey.500",sx:{borderRadius:"8px",flexDirection:"row",alignItems:"flex-start",paddingLeft:"1.8rem",paddingRight:"3rem",gap:"1rem",display:"flex",userSelect:"text",cursor:"text"},component:"div",children:this.state.text}),(0,ue.jsx)(g.Z,{sx:{borderRadius:"8px",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1rem",gap:"1rem",width:"100%"},children:this.Skeletons()})]}),"generated"==this.state.status&&(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)(x.Z,{direction:"row",sx:{width:"100%",display:"flex",alignItems:"top",pt:"0.6rem",pb:"0.5rem",pr:"0.8rem"},children:[(0,ue.jsxs)(x.Z,{direction:"row",spacing:"4px",sx:{width:"100%",alignItems:"top",marginLeft:"-8px"},children:[(0,ue.jsx)(wt.Z,{"aria-label":"delete",onClick:function(t){return e.backClick(t)},sx:{height:"32px",width:"32px"},children:(0,ue.jsx)("img",{src:"/images/pc_back.svg",alt:"back"})}),(0,ue.jsx)(m.Z,{variant:"text_base",color:"grey.500",component:"div",sx:{userSelect:"text",cursor:"text"},children:this.state.text})]}),(0,ue.jsx)(x.Z,{direction:"row",sx:{display:"flex",width:"auto",justifyContent:"flex-end",ml:"8px"},children:(0,ue.jsx)(f.Z,{href:"javascript:;",underline:"always",sx:{color:t||this.state.error?"Gray":"primary.main"},onClick:function(n){return e.generateNewClick(n,t)},children:"Regenerate"})})]}),this.state.images.length>0?(0,ue.jsx)(Yn.Z,{sx:{width:"98%",height:"90%",marginLeft:"8px",overflow:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6,height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"grey.300",borderRadius:2}},cols:2,gap:"15px",children:this.state.images.map((function(t,n){return t.url&&""!=t.url&&null!=t.url&&(0,ue.jsxs)(Qn.Z,{sx:{cursor:"pointer"},onClick:e.updateImage.bind(e,n,t),children:[(0,ue.jsx)("img",{src:e.getImage(t),srcSet:e.getImage(t),style:{margin:"4px",height:"95%",width:"auto",paddingRight:"8px"}}),(0,ue.jsx)("div",{className:"img-controls",style:{marginTop:"-30px",marginRight:"15px",border:"0",height:"24px !important"},children:(0,ue.jsxs)("div",{className:"fav-ico1 img-fav1",style:{border:"0",height:"24px !important"},children:[(0,ue.jsx)("input",{type:"checkbox",name:"fav1",title:t.fav?"Remove from favourite":"Add to favourite",id:"chk_"+n,onClick:e.AddRemoveFav.bind(e,t.url,n),checked:t.fav,style:{border:"0",height:"24px !important"}}),(0,ue.jsx)("label",{})]})})]},"img"+n)}))}):(0,ue.jsx)("span",{className:"music-result-text",children:this.state.error?this.state.error:"No images found. Try generating with different description."})]}),"showhistory"==this.state.status&&(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)(x.Z,{direction:"row",sx:{width:"100%",alignItems:"center"},children:[(0,ue.jsx)(wt.Z,{"aria-label":"delete",onClick:function(t){return e.backClick(t)},size:"medium",children:(0,ue.jsx)("img",{src:"/images/pc_back.svg",alt:"back"})}),(0,ue.jsx)(m.Z,{variant:"text_lg",sx:{color:"grey.500"},component:"div",children:"History"})]}),(0,ue.jsx)("div",{style:{overflowX:"hidden",overflowY:"auto",height:"68vh",maxHeight:"68vh"},children:(0,ue.jsx)(Nn(),{pageStart:this.state.page,initialLoad:!1,loadMore:this.loadMoreVisuals,hasMore:this.state.history&&this.state.history.LastEvaluatedKey,useWindow:!1,getScrollParent:function(){return e.scrollParentRef},style:{width:"100%"},children:this.state.history&&this.state.history.items&&this.state.history.items.length>0?this.state.history.items.map((function(n,r){return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)(x.Z,{direction:"row",sx:{width:"100%",display:"flex",alignItems:"top",pt:"0.6rem",pb:"0.5rem",pr:"1rem"},children:[(0,ue.jsx)(m.Z,{variant:"text_base",color:"grey.500",component:"div",sx:{width:"100%",alignItems:"top",userSelect:"text",cursor:"text"},children:n.text}),(0,ue.jsx)(x.Z,{direction:"row",sx:{display:"flex",width:"auto",justifyContent:"flex-end",ml:"8px"},children:(0,ue.jsx)(f.Z,{href:"javascript:;",underline:"always",sx:{color:t||e.state.error?"Gray":"primary.main"},onClick:function(r){return e.onClickRegenerateFromSearchHistory(r,t,n)},children:"Regenerate"})})]}),(0,ue.jsx)(Yn.Z,{sx:{width:"98%",height:"90%",overflow:"hidden",overflowY:"hidden","&::-webkit-scrollbar":{width:6,height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"grey.300",borderRadius:2}},cols:4,gap:2,children:n.urls.map((function(t,n){return t.s3_url&&""!=t.s3_url&&null!=t.s3_url&&(0,ue.jsx)(Qn.Z,{sx:{cursor:"pointer"},onClick:e.updateImage.bind(e,n,t),children:(0,ue.jsx)("img",{src:t.s3_url,style:{margin:"4px",height:"95%",width:"auto",paddingRight:"8px"}})},"img"+n)}))})]})})):(0,ue.jsx)(m.Z,{className:"music-result-text",variant:"text_sm",children:this.props.isFetching?"Finding search history...":"No search history found."})})})]})]})}}]),S}(L.Component),ir=(0,W.$j)((function(e){return{images:e.reelArt.images,isGenerating:e.reelArt.isGenerating,error:e.reelArt.error,isFetching:e.reelArt.isFetching,history:e.reelArt.history,deleteVisualStatus:e.favouriteAndRecents.deleteVisualStatus,validateTextToImageQuotaResult:e.reelArt.validateTextToImageQuotaResult}}),{saveVisualsFavAndRecents:tr,deleteVisualsFavAndRecents:nr,generatImageBegin:er,historyRequestBegin:rr,validateTextToImageQuotaRequest:sr})(ar),or=n(57308),cr=n(47196),lr=n(62970);n.p;var ur=n(65669);n(65107),n.p,n.p,n.p,n.p,n.p;var dr=n(14839),pr=n(6593),hr=n(91145),mr=n(30025),gr=n(30072),fr=n(83203),vr=n(44533),xr=["addDisplayText","defaultTextStyles","fontFamilyOverride"];function Sr(e){for(var t,n,r,a,o,l=e.addDisplayText,u=e.defaultTextStyles,d=e.fontFamilyOverride,p=((0,ie.Z)(e,xr),L.useState(!1)),h=(0,Ee.Z)(p,2),m=h[0],f=(h[1],function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=8;break}return(s=t.currentTarget).disabled=!0,setTimeout((function(){s.disabled=!1}),500),(a=O().cloneDeep(n)).styleData.format.fontName=r||a.styleData.format.fontName,e.next=8,l(a);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),x=0;x<(null==u?void 0:u.length);x++){var S=u[x];"heading"===S.metaData.displayTextStyleType?t=S:"subheading"===S.metaData.displayTextStyleType?n=S:"bodytext"===S.metaData.displayTextStyleType&&(r=S)}if(d){var y=je.ZO.find((function(e){return e.value==d}));y&&(a=y.fontName?y.fontName:y.value,o=y.fontWeight?y.fontWeight:void 0)}return(0,ue.jsx)(vr.x,{children:(0,ue.jsxs)(g.Z,{className:m?"disabled":"",children:[t&&(0,ue.jsx)(v.Z,{variant:"outlined",onClick:function(e){return f(e,t,d)},color:"grey",fullWidth:!0,sx:(0,s.Z)({justifyContent:"left",fontSize:"2rem",fontWeight:"500",backgroundColor:"grey.50",borderColor:"grey.100",borderRadius:"4px",mt:2,"&.MuiButton-root:hover":{color:"primary.main",backgroundColor:"primary.lighter",borderColor:"primary.light"},fontFamily:a||""},"fontWeight",o||""),children:"Add a Heading"}),n&&(0,ue.jsx)(v.Z,{variant:"outlined",onClick:function(e){return f(e,n,d)},color:"grey",fullWidth:!0,sx:(0,s.Z)({justifyContent:"left",fontSize:"1.5rem",fontWeight:"500",backgroundColor:"grey.50",borderColor:"grey.100",borderRadius:"4px",mt:1,"&.MuiButton-root:hover":{color:"primary.main",backgroundColor:"primary.lighter",borderColor:"primary.light"},fontFamily:a||""},"fontWeight",o||""),children:"Add a Subheading"}),r&&(0,ue.jsx)(v.Z,{variant:"outlined",onClick:function(e){return f(e,r,d)},color:"grey",fullWidth:!0,sx:{justifyContent:"left",fontSize:"1.1rem",backgroundColor:"grey.50",borderColor:"grey.100",borderRadius:"4px",mt:1,"&.MuiButton-root:hover":{color:"primary.main",backgroundColor:"primary.lighter",borderColor:"primary.light"},fontFamily:a||"",fontWeight:o||""},children:"Add a Body text"})]})})}var yr=n(79859),br=n(78531),jr=n(52014),wr=n.p+"static/media/powered_by_giphy.89206ca8fb01d0d3206b.gif",Zr=["addDisplayElement","containerWidth","type"],kr=["addDisplayElement","username","type"];function Cr(e){var t=e.addDisplayElement,n=e.containerWidth,r=e.type,s=((0,ie.Z)(e,Zr),(0,L.useContext)(jr.SearchContext)),a=s.fetchGifs,i=s.searchKey;return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(jr.SearchBar,{placeholder:"stickers"===r?"Search Stickers":"Search GIFs"}),(0,ue.jsx)(jr.Grid,{columns:3,width:n-10,fetchGifs:a,noLink:!0,onGifClick:function(e){var n,r;return t({url:(null==e||null===(n=e.images)||void 0===n||null===(r=n.original)||void 0===r?void 0:r.url)||""})},hideAttribution:!0},i)]})}function Ir(e){var t=e.addDisplayElement,n=(e.username,e.type),r=((0,ie.Z)(e,kr),(0,L.useState)(0)),s=(0,Ee.Z)(r,2),a=s[0],i=s[1],o=(0,L.useRef)();return(0,L.useEffect)((function(){var e,t=null===(e=document.getElementById("giphy-container"))||void 0===e?void 0:e.offsetWidth;t&&t!==a&&i(t)})),(0,ue.jsxs)("div",{id:"giphy-container",ref:o,children:[(0,ue.jsx)(jr.SearchContextManager,{apiKey:"ZI4WXS6QOuu1WyNLJOcdVAwHhmWefBwx",options:{type:n},children:void 0!==a&&0!==a&&(0,ue.jsx)(Cr,{addDisplayElement:t,containerWidth:a,type:n})}),(0,ue.jsx)("img",{src:wr})]})}var Tr=["addDisplayElement","username"];function Er(e){var t=e.addDisplayElement,n=e.username,r=((0,ie.Z)(e,Tr),L.useState(0)),s=(0,Ee.Z)(r,2),a=s[0],i=s[1];return(0,ue.jsx)(vr.x,{children:(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsxs)(yr.default,{children:[(0,ue.jsx)(g.Z,{children:(0,ue.jsxs)(b.Z,{id:"display-elements-tabs",value:a,onChange:function(e,t){return i(t)},children:[(0,ue.jsx)(y.Z,{id:"Emojis",label:"Emojis"}),(0,ue.jsx)(y.Z,{id:"Giphy",label:"GIFs"})]})}),(0,ue.jsx)(g.Z,{className:"fill-height",children:(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("div",{hidden:0!==a,id:"Emojis-tab",className:"fill-height",children:(0,ue.jsx)(br.vD,{addDisplayElement:t,username:n})}),(0,ue.jsx)("div",{hidden:1!==a,id:"Giphy-tab",className:"fill-height",children:(0,ue.jsx)(Ir,{addDisplayElement:t,username:n,type:"gifs"})})]})})]})})})}var Ar=n(19585),_r=n(39146),Rr=n(38127),Pr=n(20298),Nr=n(83522),Or=n(9553),Dr=n(13480),Ur=n(25489),Lr=n(372),Fr=["logoList","onApplyLogo"],Vr=function(e){var t=e.logoList,n=e.onApplyLogo,r=((0,ie.Z)(e,Fr),(0,L.useState)(t)),s=(0,Ee.Z)(r,2),a=s[0],i=s[1];return(0,L.useEffect)((function(){i(t)}),[t]),(0,ue.jsx)(Ur.Z,{children:null==a?void 0:a.map((function(e,t){return(0,ue.jsx)(Lr.Z,{logoData:e,onApply:function(){return n(e)}})}))})},Br=n(5540),Mr=["colorList","onApplyBrandColor"],Gr=function(e){var t=e.colorList,n=e.onApplyBrandColor,r=((0,ie.Z)(e,Mr),(0,L.useState)(t)),s=(0,Ee.Z)(r,2),a=(s[0],s[1]);return(0,L.useEffect)((function(){a(t)}),[t]),(0,ue.jsx)(Ur.Z,{children:null==t?void 0:t.map((function(e,t){return(0,ue.jsx)(Br.Z,{colorData:e,onApply:function(){return n(e)}})}))})},Wr=n(72943),zr=["visualList","onApplyVisual"],Jr=function(e){var t=e.visualList,n=e.onApplyVisual,r=((0,ie.Z)(e,zr),(0,L.useState)(t)),s=(0,Ee.Z)(r,2),a=s[0],i=s[1];return(0,L.useEffect)((function(){i(t)}),[t]),(0,ue.jsx)(Ur.Z,{children:null==a?void 0:a.map((function(e,t){return(0,ue.jsx)(Wr.Z,{visualObj:e,onApply:function(){return n(e)}},e.url)}))})},Hr=n(22370),Kr=["bgMusicList","onApplyBgMusic","onPlay"],qr=function(e){var t=e.bgMusicList,n=e.onApplyBgMusic,r=e.onPlay,s=((0,ie.Z)(e,Kr),(0,L.useState)(t)),a=(0,Ee.Z)(s,2),i=a[0],o=a[1];return(0,L.useEffect)((function(){o(t)}),[t]),(0,ue.jsx)(Ur.Z,{children:null==i?void 0:i.map((function(e,t){return(0,ue.jsx)(Hr.Z,{musicTrack:e,onApply:function(){n(e)},onPlay:r},e.url)}))})},Yr=n(11313),Qr=["AIVoiceoverList","onApplyAIVoiceover","onPlay","isPremiumVOQuotaValid"],Xr=function(e){var t=e.AIVoiceoverList,n=e.onApplyAIVoiceover,r=e.onPlay,s=e.isPremiumVOQuotaValid,a=((0,ie.Z)(e,Qr),(0,L.useState)(t)),i=(0,Ee.Z)(a,2),o=i[0],c=i[1];return(0,L.useEffect)((function(){c(t)}),[t]),(0,ue.jsx)(Ur.Z,{children:null==o?void 0:o.map((function(e,t){return(0,ue.jsx)(Yr.Z,{AIVoiceover:e,onApply:function(){return n(e)},onPlay:r,isPremiumVOQuotaValid:s},e.url)}))})},$r=n(98967),es=n(15422),ts=n(51991),ns=["selectedBrandId","brands","defaultTextStyles","onApplyLogo","onApplyBrandColor","onApplyBrandVisual","onApplyBgMusic","addDisplayText","onApplyBrand","onApplyAIVoiceover","onEditBrand","onOpenCreateBrand","isPremiumVOQuotaValid"],rs=function(e){var t,n,r,s,i,o,c=e.selectedBrandId,l=e.brands,u=(e.defaultTextStyles,e.onApplyLogo),d=e.onApplyBrandColor,p=e.onApplyBrandVisual,h=e.onApplyBgMusic,f=(e.addDisplayText,e.onApplyBrand),v=e.onApplyAIVoiceover,x=e.onEditBrand,y=e.onOpenCreateBrand,b=e.isPremiumVOQuotaValid,j=((0,ie.Z)(e,ns),(0,L.useState)(null)),w=(0,Ee.Z)(j,2),Z=w[0],k=w[1],C=(0,L.useState)(""),I=(0,Ee.Z)(C,2),T=I[0],E=I[1],A=function(e,t){k(t?e.currentTarget:null),E(t)},_=null==l?void 0:l.find((function(e){return e.id==c})),R=_&&(0,a.Z)((0,a.Z)({},_),{},{AIVoiceoverList:(null==_||null===(t=_.AIVoiceoverList)||void 0===t?void 0:t.filter((function(e){return!(null!==ye.Tf&&void 0!==ye.Tf&&ye.Tf.includes(null==e?void 0:e.trackId))})))||[]});return(0,ue.jsxs)(ue.Fragment,{children:[0==(null==l?void 0:l.length)&&(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsxs)(g.Z,{sx:{display:"flex",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"-16px -15px 0",borderRight:"1px solid #e0e0e0",backgroundColor:"#fff"},children:[(0,ue.jsx)("img",{src:"/images/no_brand.svg",width:"160px"}),(0,ue.jsx)(m.Z,{variant:"text_base",sx:{color:"grey.900",mt:"1em",mb:"0.5em",fontWeight:"600"},children:"Welcome to Brand Hub"}),(0,ue.jsx)(m.Z,{variant:"text_xs",sx:{color:"grey.500",maxWidth:"60%",textAlign:"center"},children:"Stay on-brand with one click. Set logos, fonts, and more to jumpstart your next project."}),(0,ue.jsxs)(es.w,{variant:"contained",onClick:y,sx:{height:"40px",mt:"1.5em"},children:[(0,ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",style:{marginRight:"10px"},children:(0,ue.jsx)("path",{d:"M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM8 14H10V10H14V8H10V4H8V8H4V10H8V14Z",fill:"white"})}),(0,ue.jsx)(m.Z,{variant:"text_sm",children:"Create a Brand"})]})]})}),(null==l?void 0:l.length)>0&&(0,ue.jsxs)(g.Z,{className:"brandview",children:[(0,ue.jsxs)(g.Z,{className:"d-flex",sx:{padding:"0 20px 0 0",mb:1},children:[(0,ue.jsx)(Dr.Z,{brands:l,onBrandSelection:f,selectedBrandId:c||"none"}),(null==R?void 0:R.id)&&c&&"none"!=c&&!(null!=R&&R.isShared)&&(0,ue.jsx)(S.Z,{title:"Edit brand",arrow:!0,placement:"top",children:(0,ue.jsx)(g.Z,{children:(0,ue.jsx)(wt.Z,{onClick:function(){return x(c)},sx:{height:"56px",padding:"0",width:"40px",borderRadius:"8px",marginLeft:"4px",marginTop:"-8px",border:"1px solid #f0f0f0"},children:(0,ue.jsx)($r.Z,{})})})})]}),(0,ue.jsxs)(g.Z,{sx:{overflowY:"auto",height:"calc(100% - 64px)",overflowX:"hidden",padding:"0 20px 0 0"},children:[R&&(0,ue.jsxs)(ue.Fragment,{children:[(null==R||null===(n=R.logoList)||void 0===n?void 0:n.length)>0&&(0,ue.jsxs)(g.Z,{children:[(0,ue.jsx)(m.Z,{variant:"text_sm",className:"mt-3 d-block",sx:{marginBottom:"3px"},children:"Logos"}),(0,ue.jsx)(m.Z,{variant:"text_sm",className:"brand-type-subtitle",children:"Upload the logo you would like to include in your videos"}),(0,ue.jsx)(g.Z,{className:"mt-2 brand-logos",children:(0,ue.jsx)(Vr,{logoList:null==R?void 0:R.logoList,onApplyLogo:u})})]}),(null==R||null===(r=R.colorList)||void 0===r?void 0:r.length)>0&&(0,ue.jsxs)(g.Z,{children:[(0,ue.jsx)(m.Z,{variant:"text_sm",className:"mt-3 d-block",sx:{marginBottom:"3px"},children:"Brand colors"}),(0,ue.jsx)(g.Z,{className:"mt-2 brand-colors",children:(0,ue.jsx)(Gr,{colorList:null==R?void 0:R.colorList,onApplyBrandColor:d})})]}),(null==R||null===(s=R.visualList)||void 0===s?void 0:s.length)>0&&(0,ue.jsxs)(g.Z,{children:[(0,ue.jsx)(m.Z,{variant:"text_sm",className:"mt-3 d-block",children:"Visuals"}),(0,ue.jsx)(g.Z,{className:"mt-2 brand-visuals",children:(0,ue.jsx)(Jr,{visualList:null==R?void 0:R.visualList,onApplyVisual:p})})]}),(null==R||null===(i=R.bgMusicList)||void 0===i?void 0:i.length)>0&&(0,ue.jsxs)(g.Z,{children:[(0,ue.jsx)(m.Z,{variant:"text_sm",className:"mt-3 d-block",sx:{marginBottom:"3px"},children:"Background music"}),(0,ue.jsx)(g.Z,{className:"mt-2 brand-music",children:(0,ue.jsx)(qr,{bgMusicList:null==R?void 0:R.bgMusicList,onApplyBgMusic:h,onPlay:A})})]}),(null==R||null===(o=R.AIVoiceoverList)||void 0===o?void 0:o.length)>0&&(0,ue.jsxs)(g.Z,{children:[(0,ue.jsx)(m.Z,{variant:"text_sm",className:"mt-3 d-block",sx:{marginBottom:"3px"},children:"AI voices"}),(0,ue.jsx)(g.Z,{className:"mt-2 brand-voices",children:(0,ue.jsx)(Xr,{AIVoiceoverList:null==R?void 0:R.AIVoiceoverList,onApplyAIVoiceover:v,onPlay:A,isPremiumVOQuotaValid:b})})]})]}),!(null!=R&&R.id)&&(0,ue.jsxs)(g.Z,{sx:{display:"flex",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"-16px -15px 0",borderRight:"1px solid #e0e0e0",backgroundColor:"#fff"},children:[(0,ue.jsx)("img",{src:"/images/no_brand.svg",width:"160px"}),(0,ue.jsx)(m.Z,{variant:"text_base",sx:{color:"grey.900",mt:"1em",mb:"0.5em",fontWeight:"600"},children:"Select a brand or create a new"}),(0,ue.jsxs)(es.w,{variant:"outlined",onClick:y,sx:{height:"40px",mt:"1em"},children:[(0,ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",style:{marginRight:"10px"},children:(0,ue.jsx)("path",{d:"M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM8 14H10V10H14V8H10V4H8V8H4V10H8V14Z",fill:"#852CFF"})}),(0,ue.jsx)(m.Z,{variant:"text_sm",children:"Create a Brand"})]})]})]})]}),Z&&(0,ue.jsx)(ts.Z,{open:!!Z,onClose:function(){return k(null)},anchorEl:Z,url:T})]})},ss=n(25236),as=n(33834),is=n(31172),os=ae.Z.getMyVideos,cs=ae.Z.getBrandSettings,ls=ae.Z.fetchAllVideosAndImages,us=ae.Z.searchAllAssets,ds=ae.Z.saveBrandSettings,ps=ae.Z.saveProject,hs=ae.Z.getVideoProgress,ms=ae.Z.generateVideo,gs=ae.Z.getVoiceOverTrackForPreview,fs=ae.Z.deleteAudioFavAndRecents,vs=ae.Z.saveAudioFavAndRecents,xs=ae.Z.getAudioFavAndRecents,Ss=ae.Z.deleteGeneratedVideo,ys=ae.Z.getArticleAudios,bs=ae.Z.findProjectMusicRequest,js=ae.Z.getProjectMusicRequest,ws=ae.Z.getMusicByIdRequest,Zs=ae.Z.getCurrentSubscription,ks=ae.Z.quotaUtilization,Cs=ae.Z.storeUndoableData,Is=ae.Z.getFavoriteVisualsRequest,Ts=ae.Z.getRecentVisualsRequest,Es=ae.Z.getImageList,As=ae.Z.getMoreImagesRequest,_s=ae.Z.searchCategoriesBegin,Rs=K.zF.undo,Ps=K.zF.redo,Ns=K.zF.clearHistory,Os=ae.Z.resetAssetsSearchStatus,Ds=ae.Z.getSavedAssets,Us=ae.Z.generateCSV,Ls=ae.Z.getTranscriptionScenes,Fs=ae.Z.generateAsyncVideo,Vs=ae.Z.showErrorNotification,Bs=ae.Z.openProject,Ms=ae.Z.openPreviewProject,Gs=ae.Z.projectOpened,Ws=ae.Z.stopVideoGeneration,zs=ae.Z.saveRecentImages,Js=ae.Z.generateVideoStatus,Hs=ae.Z.initiateVideoPostsLogin,Ks=ae.Z.createElementsProgress,qs=ae.Z.getSceneLevelAudioRequest,Ys=ae.Z.getSentenceKeywordSuggestionsRequest,Qs=ae.Z.getStylesByAttributesRequest,Xs=ae.Z.sharePreviewRequest,$s=ae.Z.getTeamUsersRequest,ea=ae.Z.importAudio,ta=ae.Z.importImage,na=ae.Z.getUserBrandsRequest,ra=ae.Z.getUserPreferenceRequest,sa=ae.Z.getStylesRequest,aa=.08,ia=.5625,oa=10,ca="AiVoiceover",la="VoiceoverUploads",ua="Visuals",da="Templates",pa="TemplateStyles",ha="track",ma="voiceOver",ga="upload",fa="recent",va="favourite",xa="settings",Sa="Library",ya="Textures",ba="Uploads",ja="Recent",wa="Favourite",Za="ReelArt",ka=function(e){(0,p.Z)(K,e);var t,j,A,R,N,D,B,W,J=(0,h.Z)(K);function K(e){var t,u,p,h,x,S,y,b,j,C,I,E,A,R,N,D;return(0,l.Z)(this,K),(D=J.call(this,e)).storeUndoableData=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D.state,r=n.past,s=n.present,n.future,a=O().cloneDeep(t),(c=(0,o.Z)(r)).length>20&&c.shift(),s&&c.push(s),e.next=7,D.setState({past:c,present:a,future:[],actionTaken:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.setPreviewReady=function(e){return D.setState({previewReady:e})},D.onUndo=function(){w().getInstance().logEvent("undo-click-step-3",{"media-url":D.state.url,"project-id":D.state.project_id});var e=D.state,t=e.past,n=e.present,r=e.future,s=(e.loadProjectDetails,(0,o.Z)(t)),i=s.pop(),c=(0,a.Z)({},n);D.setState({loadProjectDetails:i,future:[c].concat((0,o.Z)(r)),past:s,present:i,actionTaken:!0},(function(){D.loadProjectFromJson(!0)}))},D.onRedo=function(){w().getInstance().logEvent("redo-click-step-3",{"media-url":D.state.url,"project-id":D.state.project_id});var e=D.state,t=e.past,n=e.present,r=e.future;if(e.loadProjectDetails,0!=r.length){var s=(0,o.Z)(r),i=s.splice(0,1)[0],c=(0,a.Z)({},n);D.setState({loadProjectDetails:i,past:[].concat((0,o.Z)(t),[c]),present:i,future:s,actionTaken:!0},(function(){D.loadProjectFromJson(!0)}))}},D.clearUndoHistory=function(){D.props.clearUndoHistory()},D.addUpdatedScenes=function(e){var t=0;(null==e?void 0:e.length)>0?e.forEach((function(e){t+=D.state.timePerFrame[e]})):t=0,D.setState({updatedDuration:t})},D.applyingAudioStatus=function(e){D.setState({applyingAudio:e})},D.cancelingAudioStatus=function(e){D.setState({cancelingVO:e?D.state.applyingAudio:null})},D.onStoppedProjectChange=function(e){D.props.stoppedProject&&D.props.stoppedProject!==e.stoppedProject&&D.state.project_id===D.props.stoppedProject.projectId&&D.setState({generatingAsyncVideo:!1})},D.updateVOInProject=function(e,t){var n;if(t){var r=(0,a.Z)({trackid:t},e),s=(null===(n=D.state.generatedVoiceOvers)||void 0===n?void 0:n.length)>0?D.state.generatedVoiceOvers:[],i=s.findIndex((function(e){return(null==e?void 0:e.trackid)==t}));i>=0?s[i]=r:s.push((0,a.Z)((0,a.Z)({},r),{},{volume:D.state.videoVolume})),D.setState({generatedVoiceOvers:s})}},D.getGeneratedVOFromProject=function(e){var t,n,r,s,a,i,o,c=(null===(t=D.state.generatedVoiceOvers)||void 0===t?void 0:t.length)>0?D.state.generatedVoiceOvers:[],l=c.findIndex((function(t){return(null==t?void 0:t.trackid)===e}));return l>=0?((null===(n=D.state)||void 0===n||null===(r=n.durationUpdatedScenes)||void 0===r||null===(s=r.sceneIds)||void 0===s?void 0:s.length)>0||null!==(a=D.state)&&void 0!==a&&null!==(i=a.durationUpdatedScenes)&&void 0!==i&&i.isSceneDeleted||D.state.timeChangedPostAIVO||c[l].volume!==D.state.videoVolume?(D.setState({generatedVoiceOvers:[]}),o=null):o=c[l],o):null},D.voiceOverOnEntireVideo=function(){return D.state.subSentencesArray.some((function(e){return e.recordingApplyToAll}))},D.loadAudioTrimmer=function(e,t){if(D.voiceOverOnEntireVideo()){if(!t){if(!D.state.subSentencesArray||0==D.state.subSentencesArray.length)return;var n=D.state.subSentencesArray.find((function(e){return e.recordingApplyToAll&&e.recordedAudio}));if(n&&(t=n.recordedAudio),!t)return}D.removeAudioTrimmer(),D.setState({showAudioTrimmerLoading:!0}),X().regions=ee(),D.wavesurfer=X().create({container:"#audioTrimmer",height:200,backgroundColor:"rgba(0, 0, 0, 0.8)",waveColor:"rgba(255, 255, 255, 0.5)",progressColor:"transparent",cursorColor:"white",scrollParent:!0,autoCenter:!1,minPxPerSec:100,normalize:!0,interact:!1,partialRender:!0,responsive:!0,plugins:[X().regions.create()]}),D.wavesurfer.on("loading",(function(e){D.setState({audioTrimmerLoadingPercent:e})})),D.wavesurfer.on("ready",(function(){D.renderAudioTimelines(),D.setState({showAudioTrimmerLoading:!1})})),D.wavesurfer.on("region-removed",(function(e){})),D.wavesurfer.on("region-update-end",(function(e){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.timePerFrame),s=D.wavesurfer.regions.list,i=s[D.state.currentActiveDiv-1],c=s[D.state.currentActiveDiv+1],l=(0,a.Z)({},n[D.state.currentActiveDiv-1]),u=(0,a.Z)({},D.state.subSentencesArray[D.state.currentActiveDiv-2]),d=(0,a.Z)({},D.state.subSentencesArray[D.state.currentActiveDiv]);e.start<0&&(e.start=0),e.end<0&&(e.end=0);var p=Math.round(1e3*e.start)/1e3,h=Math.round(1e3*e.end)/1e3;if(d&&d.audioSegments&&c&&d.audioSegments[0].end<h){var m=Math.round(1e3*(d.audioSegments[0].end-h))/1e3;e.onResize(m),h=d.audioSegments[0].end}if(u&&u.audioSegments&&i&&u.audioSegments[0].start>p){var g=Math.round(1e3*(u.audioSegments[0].start-p))/1e3;e.onResize(g,"start"),p=u.audioSegments[0].start}if(l.audioSegments=[{start:p,end:h}],l.recordedAudioDuration=l.audioSegments[0].end-l.audioSegments[0].start,l.recordedAudioDurationMiniSec=1e3*l.recordedAudioDuration,l.recordedAudio=t,n[D.state.currentActiveDiv-1]=l,r[D.state.currentActiveDiv-1]=l.recordedAudioDuration,d&&d.audioSegments&&c){var f=l.audioSegments[0].end,v=d.audioSegments[0].end;f>v&&(v=f);var x=Math.round(1e3*(f-d.audioSegments[0].start))/1e3,S=Math.round(1e3*(v-d.audioSegments[0].end))/1e3;c.onResize(x,"start"),c.onResize(S),d.audioSegments=[{start:f,end:v}],d.recordedAudioDuration=v-f,d.recordedAudioDurationMiniSec=1e3*d.recordedAudioDuration,n[D.state.currentActiveDiv]=d,r[D.state.currentActiveDiv]=d.recordedAudioDuration}if(u&&u.audioSegments&&i){var y=u.audioSegments[0].start,b=l.audioSegments[0].start;y>b&&(y=b);var j=Math.round(1e3*(y-u.audioSegments[0].start))/1e3,w=Math.round(1e3*(b-u.audioSegments[0].end))/1e3;i.onResize(j,"start"),i.onResize(w),u.audioSegments=[{start:y,end:b}],u.recordedAudioDuration=b-y,u.recordedAudioDurationMiniSec=1e3*u.recordedAudioDuration,n[D.state.currentActiveDiv-2]=u,(D.state.currentActiveDiv-2>0||u.recordedAudioDuration>.5)&&(r[D.state.currentActiveDiv-2]=u.recordedAudioDuration)}D.wavesurfer.pause(),D.hideUnhidePlayButton(e),D.setState({subSentencesArray:n,timePerFrame:r},O().debounce((function(){return D.saveTrimmedAudio()}),500))})),D.wavesurfer.load(t)}},D.removeAudioTrimmer=function(){D.wavesurfer&&D.wavesurfer.destroy(),D.wavesurfer=null},D.toggleAudioTrimmer=function(e){D.setState({showAudioTrimmer:e},(function(){e?(w().getInstance().logEvent("adjust-voiceover",{"project-id":D.state.project_id}),D.loadAudioTrimmer()):D.removeAudioTrimmer()}))},D.addPlayButton=function(e){var t=document.createElement("i");t.setAttribute("class","fa fa-play-circle"),t.addEventListener("click",(function(){"fa fa-play-circle"==t.getAttribute("class")?(e.play(),t.setAttribute("class","fa fa-stop-circle")):(D.wavesurfer.pause(),t.setAttribute("class","fa fa-play-circle"))})),D.wavesurfer.on("pause",(function(){t.setAttribute("class","fa fa-play-circle")})),e.element.appendChild(t),D.hideUnhidePlayButton(e)},D.hideUnhidePlayButton=function(e){var t=e.element.querySelector(".fa.fa-play-circle");t&&(e.end-e.start<.4?t.style.color="transparent":t.style.color="")},D.renderAudioTimelines=function(){if(D.wavesurfer&&!(D.state.autoSyncProgress&&D.state.autoSyncProgress<100)){D.audioTrimmerScrollPosition&&(D.wavesurfer.container.children[0].scrollLeft=D.audioTrimmerScrollPosition);var e=D.wavesurfer.regions.list;D.wavesurfer.clearRegions();for(var t=0;t<D.state.subSentencesArray.length;t++){var n,r=D.state.subSentencesArray[t].audioSegments,s=0,i=0,c=D.state.currentActiveDiv-1==t;if(!r||0==r.length||null!==(n=r[0])&&void 0!==n&&n.recordedAudio){t==D.state.subSentencesArray.length-1?i=s=e[t.toString()].end:0==t?(s=0,i=0):i=s=e[t.toString()].end;var l=(0,o.Z)(D.state.subSentencesArray);l[t]=(0,a.Z)({},l[t]),l[t].audioSegments=[{start:s,end:i}],D.setState({subSentencesArray:l})}else r[0]?(s=r[0].start,i=r[0].end):i=s=e[t.toString()].end;var u=(t+1).toString(),d=e[u],p=void 0;if(d?d.start===s&&d.end===i&&d.resize===c||(p=d.element,d=D.wavesurfer.addRegion({id:u,start:s,end:i,loop:!1,drag:!1,resize:!!c,color:c?"rgba(0, 0, 255, 0.3)":"rgba(255, 255, 255, 0.2)"})):d=D.wavesurfer.addRegion({id:u,start:s,end:i,loop:!1,drag:!1,resize:!!c,color:c?"rgba(0, 0, 255, 0.3)":"rgba(255, 255, 255, 0.2)"}),c){d.element.setAttribute("id","region-active"),d.element.querySelector(".fa")||D.addPlayButton(d);var h=d.element.getBoundingClientRect(),m=D.wavesurfer.container.children[0].getBoundingClientRect();h.left>=m.left&&h.right<=m.right||d.element.scrollIntoView()}else{d.element.removeAttribute("id");var g=d.element.querySelector(".fa");g&&g.remove()}var f=D.getSummaryFromGivenSubSentenceSceneId(D.state.subSentencesArray[t].sceneId).index;if(f>-1&&(D.state.imageAssests[f]||D.state.imageURL[f])){var v=void 0,x=void 0;if(D.state.imageAssests[f]&&D.state.imageAssests[f].thumb_jpg)v=D.state.imageAssests[f].thumb_jpg;else if(D.state.imageAssests[f]&&D.state.imageAssests[f].thumb){var S=(0,ye.Q5)(D.state.imageAssests[f].thumb);"image"===S?v=D.state.imageAssests[f].thumb:"video"===S&&(x=D.state.imageAssests[f].thumb)}else{var y=(0,ye.Q5)(D.state.imageURL[f]);"image"===y?v=D.state.imageURL[f]:"video"===y&&(x=D.state.imageURL[f])}var b=!1,j=d.element.querySelector(".audio-trimmer-thumbnail");p&&((j=p.querySelector(".audio-trimmer-thumbnail"))&&d.element.appendChild(j),p.remove());var w=void 0,Z=void 0;if(j?(w=j.querySelector(".audio-trimmer-thumbnail div"),(Z=j.querySelector(".audio-trimmer-thumbnail img"))?v?b=!0:Z.remove():(Z=j.querySelector(".audio-trimmer-thumbnail video"))&&(x?b=!0:Z.remove())):((j=document.createElement("div")).setAttribute("class","audio-trimmer-thumbnail"),w=document.createElement("div"),j.appendChild(w),d.element.appendChild(j)),w.innerHTML=D.state.subSentencesArray[t].showSceneNumber,j.setAttribute("data-id",u),v&&!b)(Z=document.createElement("img")).setAttribute("src",v);else if(x&&!b){Z=document.createElement("video");var k=document.createElement("source");k.setAttribute("src",x),Z.appendChild(k)}Z&&j.appendChild(Z)}}}},D.onAudioTrimmerClick=function(e){if(e&&e.preventDefault(),D.audioTrimmerScrollPosition=e.target.closest("wave").scrollLeft,e.target.closest("region")&&e.target.closest("region").dataset.id&&"region-active"!==e.target.closest("region").id){var t=parseInt(e.target.closest("region").dataset.id);D.changeActiveDiv(t)}},D.saveTrimmedAudio=function(){for(var e=D.state.subSentencesArray,t=(0,o.Z)(D.state.summaryJsonText),n=D.state.subSentencesArray.find((function(e){return e.recordingApplyToAll&&e.recordedAudio})),r=n?n.recordedAudio:void 0,s=0,i=0,c=0,l=0;l<e.length;l++){var u=e[l].audioSegments&&e[l].audioSegments.length>0&&(0,a.Z)({},e[l].audioSegments[0]);if(0==s&&0==l)t[s].audioSegments=[];else{var d=e[l-1];e[l].sceneId===d.sceneId||(c=0,t[++s].audioSegments=[])}u&&(i=1e3*(c+=u.end-u.start),c<.01&&("Custom Intro Scene"===e[l].showSceneNumber||"Outro Scene"===e[l].showSceneNumber)?t[s]=(0,a.Z)((0,a.Z)({},t[s]),{},{recordedAudioDuration:void 0,recordedAudioDurationMiniSec:void 0,recordingApplyToAll:!0,recordedAudio:void 0,audioSegments:void 0}):(t[s]=(0,a.Z)((0,a.Z)({},t[s]),{},{recordedAudioDuration:c,recordedAudioDurationMiniSec:i,recordingApplyToAll:!0,recordedAudio:r}),t[s].audioSegments.push(u)))}D.setState({summaryJsonText:t,isAnyChange:!0})},D.audioTrimmerModal=function(e){return(0,ue.jsx)("div",{id:"audio-trimmer-modal",children:(0,ue.jsxs)("div",{className:"audio-trimmer-screen",children:[(0,ue.jsxs)("div",{className:"modal-body",style:{height:"100%",overflowY:"auto"},children:[(0,ue.jsx)("div",{className:"blue font-size-2 bold",children:"Adjust voice-over"}),(0,ue.jsx)("div",{className:"blue bold mt-2 vo-scene-num",children:D.state.subSentencesArray[D.state.currentActiveDiv-1].showSceneNumber}),e,(0,ue.jsx)(z.t0,{node:D.audioTrimmerPortalNode})]}),(0,ue.jsx)("button",{type:"button",className:"btn btn-default blue blue-border secondary-button-elliptical top-before-right",onClick:function(){return D.saveTrimmedAudio()},disabled:"Saving..."==D.state.SaveButtonText,children:D.state.SaveButtonText}),(0,ue.jsx)("button",{type:"button",className:"btn btn-default blue blue-border secondary-button-elliptical top-right",onClick:function(){return D.setState({showAudioTrimmer:!1})},children:"Close"})]})})},D.fetchAspectRatioFromSettings=function(){var e=D.state.aspectRatioValue,t=Ye.R3.find((function(t){return t.value==e}));t&&D.updateAspectRatio(t,!0)},D.getFirstDayOfNextMonth=function(){var e=new Date,t=e.getMonth()+1,n=e.getFullYear()+(12===t?1:0);return new Date(n,t%12,1)},D.getDaysRemainingTillResetDate=function(){var e=D.getFirstDayOfNextMonth(),t=U()(e,"YYYY-MM-DD"),n=U()().startOf("day"),r=(t.date(),n.date(),U().duration(t.diff(n)).asDays());if(r<0){t.date(),n.month,n.year;var s=U()(t).add(1,"months");r=U().duration(s.diff(n)).asDays()}return r},D.logEventVoiceSelected=function(e,t,n,r){try{D.getVoiceOverQuota(!0),w().getInstance().logEvent("voice-selected",{name:e,country:t,"project-id":D.state.project_id,"voice-type":"Eleven Labs"===n?"Elevenlabs":"Standard","voice duration":D.state.videoTotalDurationInSeconds,"quota left":D.state.textToSpeechDurationValue,language:r})}catch(e){w().getInstance().logEvent("log-failed",{"event-name":"voice-selected"})}},D.getVoiceOverQuota=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s,a,o,c,l,u,d,p,h,m=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]&&m[0],n=0,s=null,!t){e.next=11;break}return e.next=7,D.props.getCurrentSubscription(D.state.username);case 7:(s=e.sent)&&null!==(a=s.data)&&void 0!==a&&null!==(o=a.currentQuota)&&void 0!==o&&o.textToSpeechDurationPerMonth&&(n=s.data.currentQuota.textToSpeechDurationPerMonth),e.next=13;break;case 11:(s=(0,ye.we)(D.state.username?D.state.username:""))&&null!==(c=s.currentQuota)&&void 0!==c&&c.textToSpeechDurationPerMonth&&(n=null===(l=s.currentQuota)||void 0===l?void 0:l.textToSpeechDurationPerMonth);case 13:r=D.getDaysRemainingTillResetDate(),u=0,u=(d=n)>=0?d:0,parseInt(u),p=parseInt(u/60),0!=(h=parseInt(u%60))?(D.setState({textToSpeechDuration:p+"m "+h+"s"}),u=60*p+h):(D.setState({textToSpeechDuration:p+" mins"}),u=60*p),D.setState({textToSpeechDurationValue:parseInt(0!=u?u:0),daysRemainingTillResetDate:r});case 22:case"end":return e.stop()}}),e)}))),D.getEstimatedTime=function(){var e,t,n,r;if(D.state.subSentencesArray&&0!==D.state.subSentencesArray.length&&D.state.timePerFrame&&0!==D.state.timePerFrame.length){var s=O().cloneDeep(D.state.timePerFrame);"Custom Intro Scene"===D.state.subSentencesArray[0].showSceneNumber&&D.state.subSentencesArray[0].settings.hideScene&&s.splice(0,1),"Outro Scene"===D.state.subSentencesArray[D.state.subSentencesArray.length-1].showSceneNumber&&D.state.subSentencesArray[D.state.subSentencesArray.length-1].settings.hideScene&&s.splice(s.length-1,1);var a=s.reduce((function(e,t){return e+t}),0),i=(0,ye.we)(D.state.username?D.state.username:""),o=601,c=null!=i&&null!==(e=i.data)&&void 0!==e&&null!==(t=e.plan)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&null!==(r=n.video)&&void 0!==r&&r.textToVideoDuration?i.data.plan.features.video.textToVideoDuration:720;c>120&&(o=c-120);var l=null!=i&&i.plan?i.plan.plan_code:"";(l===je.yj.freeTrial||l===je.yj.teamsFreeTrial)&&(a+=6),a=Math.round(a);var u=re.Z.secondsToMinutesRepresentationHuman(a),d="Video duration has exceeded "+parseInt(o/60)+" minutes";return D.setState({videoDuration:u,videoTotalDurationInSeconds:a,videoDurationLimit:o,videoDurationLimitWithGrace:c,videoDurationToolTip:d}),{videoTime:a,videoDuration:u,timeArray:s}}},D.isKey=function(e,t){return e&&e.key&&e.key.toLowerCase()===t},D.handleKeyPress=function(e){var t=D.isKey(e,"s"),n=D.isKey(e,"z"),r=D.isKey(e,"y");if((t&&e.ctrlKey||t&&e.metaKey)&&window.location&&window.location.pathname&&window.location.pathname.replace("/","")===ke.Z.stepThree)return D.saveProjectDetail_debounce(),e.preventDefault(),!1;if((r&&e.ctrlKey||n&&e.metaKey&&e.shiftKey)&&!D.state.isOpenTextEditor?(e.preventDefault(),D.onRedo()):(n&&e.ctrlKey||n&&e.metaKey)&&!D.state.isOpenTextEditor&&(e.preventDefault(),D.onUndo()),"INPUT"!==document.activeElement.nodeName&&"true"!==document.activeElement.contentEditable){if(!("ArrowLeft"!=e.key&&"ArrowUp"!=e.key||D.state.activeVisualTab||D.state.activeAudioTab||D.state.activeAspectRatioTab||D.state.activeThemeTab||D.state.activeDisplayTextTab)){var s,a,i=D.state.currentActiveDiv;i-1>0&&!D.state.isOpenTextEditor&&(2==i&&null!==(s=D.state.subSentencesArray[0])&&void 0!==s&&null!==(a=s.settings)&&void 0!==a&&a.hideScene||(e.preventDefault(),D.changeActiveDiv(i-1,!0)))}if(!("ArrowRight"!=e.key&&"ArrowDown"!=e.key||D.state.activeVisualTab||D.state.activeAudioTab||D.state.activeAspectRatioTab||D.state.activeThemeTab||D.state.activeDisplayTextTab)){var o,c,l=D.state.currentActiveDiv;D.state.subSentencesArray.length>=l+1&&!D.state.isOpenTextEditor&&(l==D.state.subSentencesArray.length-1&&null!==(o=D.state.subSentencesArray[D.state.subSentencesArray.length-1])&&void 0!==o&&null!==(c=o.settings)&&void 0!==c&&c.hideScene||(e.preventDefault(),D.changeActiveDiv(l+1,!0)))}}},D.ChangeComplete=function(e){var t,n,r,s;be.Z.setItem("voiceSpeechSpeed",e);var a=D.state.timePerFrame,i=(null===(t=D.state.durationUpdatedScenes)||void 0===t?void 0:t.sceneIds)||[],o=(null===(n=D.state.durationUpdatedScenes)||void 0===n?void 0:n.sceneIndices)||[];!D.state.subSentencesArray.some((function(e){return e.recordingApplyToAll}))&&(0,ye.OS)()&&D.state.subSentencesArray.forEach((function(e,t){var n;"Custom Intro Scene"!==e.showSceneNumber&&"Outro Scene"!==e.showSceneNumber&&!e.transcription&&null!==(n=e.settings)&&void 0!==n&&n.voiceOver&&(o.includes(t)||o.push(t),i.includes(e.sceneId)||i.push(e.sceneId),a=(0,ye.c9)(D.getVoiceOverText(e.sentence),D.state.timePerFrame,t,D.state.speedValue))})),D.setState({speedValue:e,timePerFrame:a,durationUpdatedScenes:{loading:!1,sceneIds:i,sceneIndices:o,isSceneDeleted:(null===(r=D.state.durationUpdatedScenes)||void 0===r?void 0:r.isSceneDeleted)||!1,updatedSceneDuration:(null===(s=D.state.durationUpdatedScenes)||void 0===s?void 0:s.updatedSceneDuration)||[]},isAnyChange:!0})},D.downloadFile=function(e,t){var r=n(43523);e=q.Z.Instance.GetVideoUrlFromCDN(e);var s=document.createElement("a");s.style.display="none",document.body.appendChild(s),void 0!==s.download?(s.href=e,s.setAttribute("download",t),s.click(),window.URL.revokeObjectURL(s.href),document.body.removeChild(s)):r.saveAs(e,t)},D.DownloadVideo=function(){var e=D.state.videoURL,t=D.state.summaryJsonText[0].sentence+".mp4";D.downloadFile(e,t),w().getInstance().logEvent("asset-downloaded",{"downloaded-from":"download-modal",asset:"video","asset-type":".mp4","article-link":D.state.url,"video-link":e,"video-name":t,"project-id":D.state.project_id}),D.setState({OverlayMessage:"Please wait...<br /> Your video download is in progress."}),setTimeout((function(){D.setState({OverlayMessage:"Please wait...",displayVideoProgressBar:!1})}),15e3)},D.downloadAudio=function(){var e=D.state.audioURL,t=D.state.summaryJsonText[0].sentence+".mp3";D.downloadFile(e,t),w().getInstance().logEvent("asset-downloaded",{"downloaded-from":"download-modal",asset:"audio","asset-type":".mp3","audio-url":D.state.audioURL,"project-id":D.state.project_id}),D.setState({OverlayMessage:"Please wait...<br /> Your audio download is in progress."}),setTimeout((function(){D.setState({OverlayMessage:"Please wait...",displayVideoProgressBar:!1})}),15e3)},D.showTooltip=function(){_()("#tooltip-file-size").hover((function(){_()("#tooltip-file-size").tooltip({title:"Download to PC".concat(D.state.fileSize?" (".concat(D.state.fileSize," MB)"):""),placement:"top",trigger:"manual"}).tooltip("show")}),(function(){D.hideTooltip()}))},D.hideTooltip=function(){_()("#tooltip-file-size").tooltip("hide")},D.generateCSV=function(e){var t=[];e.map((function(e,n){var r="";D.state.summaryJsonText[n]&&D.state.summaryJsonText[n].subsentences.map((function(e){r="".concat(r," ").concat(e)}));var s={"Date & Time":"".concat(U()().format("MM/DD/YYYY")," ").concat(U()().format("HH:mm")),Sentence:r,URL:e};"url"===D.state.source&&"Outro Scene"!=D.state.summaryJsonText[n].sceneId&&"Custom Intro Scene"!=D.state.summaryJsonText[n].sceneId&&(s.Sentence="".concat(s.Sentence,". Read More ").concat(D.state.url)),t.push(s)}));for(var n="",r=0;r<t.length;r++){var s="";for(var a in t[r])s+='"'+t[r][a]+'",';s.slice(0,s.length-1),n+=s+"\r\n"}if(""!=n){var i=document.createElement("a");i.id="lnkDwnldLnk",document.body.appendChild(i);var o=new Blob([n],{type:"text/csv"}),c=window.webkitURL.createObjectURL(o);_()("#lnkDwnldLnk").attr({download:"social.csv",href:c}),_()("#lnkDwnldLnk")[0].click(),document.body.removeChild(i)}else alert("Invalid data")},D.callRetrieveMpAPI=function(e){var t=D.state.generateCSV,n=(0,ye.we)(D.state.username);if((n&&n.plan?n.plan.plan_code:"")===je.yj.freeTrial||je.yj.teamsFreeTrial,e)if(e.failed)clearInterval(D.state.intervalGenerateVideoMessage),clearInterval(D.state.timeTakenToGenerateVideo),D.setState({OverlayMessage:"Please wait...",displayGenerateVideo:!1,timeTakenInSeconds:0}),e.error&&("VIDEO_MONTHLY_QUOTA_REACHED"===e.error?(w().getInstance().logEvent("generate-clicked-after-exceeding-quota"),D.setState({quotaExceeded:!1},(function(){D.setState({quotaExceeded:!0})}))):D.setState({videoGenerationError:e.error,showVideoGenerationError:!0}));else{var r=e.output;t?(D.generateCSV(e.per_scene_output),D.setState({videoId:null,generateCSV:void 0})):D.setState({videoURL:r,videoId:null,shareVideoURL:e.share_output,srtFile:e.srt,txtFile:e.text,vttFile:e.vtt,previewJson:e.preview,videoThumbnail:e.thumbnail,audioURL:e.audioURL,outputVideoDuration:e.videoDuration}),clearInterval(D.state.intervalGenerateVideoMessage),clearInterval(D.state.timeTakenToGenerateVideo),e.output&&t&&w().getInstance().logEvent(t?"CSV-generated":"video-generated",{"time-taken-in-seconds":D.state.timeTakenInSeconds,"time-taken-in-minutes":(D.state.timeTakenInSeconds/60).toFixed(2),"project-id":D.state.project_id,video_url:e.output,share_video_url:e.share_output,containsTextToImage:D.state.containsTextToImage}),D.props.getCurrentSubscription(),t?D.setState({OverlayMessage:"Please wait...",displayGenerateVideoPopuptext1:!1,displayGenerateVideoPopuptext2:!1,timeTakenInSeconds:0,displayVideoProgressBar:!1,displayGenerateVideo:!1}):D.setState({OverlayMessage:"Please wait...",displayGenerateVideoPopuptext1:!1,displayGenerateVideoPopuptext2:!0,timeTakenInSeconds:0}),D.setState({GenerateVideoHeading:"Video generated",isAnyChange:!0})}else clearInterval(D.state.intervalGenerateVideoMessage),clearInterval(D.state.timeTakenToGenerateVideo),D.setState({OverlayMessage:"Please wait...",displayGenerateVideo:!1,timeTakenInSeconds:0})},D.isOutroScene=function(e){if((0,ye.PW)(D.state.username))return!1;var t=(0,o.Z)(D.state.summaryJsonText)[e-1];return void 0!==t.sceneId&&"Outro Scene"===t.sceneId},D.isCustomIntroScene=function(e){if((0,ye.PW)(D.state.username))return!1;var t=(0,o.Z)(D.state.summaryJsonText)[e-1];return void 0!==t.sceneId&&"Custom Intro Scene"===t.sceneId},D.saveImageRecent=function(){D.state.user&&D.props.saveRecentImages({username:D.state.user.username,scenes:D.state.loadProjectDetails?D.state.loadProjectDetails.scenes:D.state.summaryJsonText,imageURL:D.state.imageURL,allAssets:D.state.allAssets})},D.hideShowOverlay=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_.length>2&&void 0!==_[2]&&_[2],s=_.length>3?_[3]:void 0,l=_.length>4&&void 0!==_[4]&&_[4],u=_.length>5&&void 0!==_[5]&&_[5],D.state.selectTemplateVisual&&D.selectTemplateVisualSelected("visual",n,"isUploadImage"==l&&"video"==(0,ye.Q5)(n)),d=(0,o.Z)(D.state.imageURL),p=[],h={},m=!1,g=parseInt(t),"intro"!=D.state.selectTemplateVisualSceneType&&"outro"!=D.state.selectTemplateVisualSceneType||"isUploadImage"!=l||"video"!=(0,ye.Q5)(n)?D.checkMusic(!0,g,void 0,void 0,!0):D.checkMusic(!1,g,void 0,void 0,!0),!l){e.next=103;break}S=D.state.subSentencesArray,b=0;case 14:if(!(b<S.length)){e.next=90;break}if((j=S[b]).sceneId!==g){e.next=87;break}if(j.isImageChanged=!0,e.t0=j.transcription,!e.t0){e.next=23;break}return e.next=22,D.setTranscriptionScenebRoll(j.sceneId);case 22:e.t0=e.sent;case 23:if(w=e.t0,"isUploadImage"!=l){e.next=59;break}if(j.isCustomImage=!0,!n||"video"!=(0,ye.Q5)(n)||w){e.next=41;break}if(m=!0,j.isUploadedVideo=!0,j.recordedAudio&&""!=j.recordedAudio&&w){e.next=34;break}if(!1!==(0,ye.bg)()){e.next=34;break}return e.next=34,D.muteClipAudio(!1,j.sceneId,!0,!0);case 34:if(!j.showSceneNumber||"Custom Intro Scene"!=j.showSceneNumber&&"Outro Scene"!=j.showSceneNumber){e.next=39;break}if(1!=j.isUploadedVideo){e.next=39;break}return e.next=38,D.muteClipAudio(!1,j.sceneId,!0,!0);case 38:D.checkVoiceOver(!1,j.sceneId,j.settings,!1);case 39:e.next=45;break;case 41:return j.isUploadedVideo=!1,e.next=44,D.muteClipAudio(!0,j.sceneId,!1,!0);case 44:!j.showSceneNumber||"Custom Intro Scene"!=j.showSceneNumber&&"Outro Scene"!=j.showSceneNumber||!0===(0,ye.bg)()&&D.checkVoiceOver(!0,j.sceneId,j.settings,!1);case 45:if(!j.settings){e.next=55;break}if(!D.state.applyToAllScenes){e.next=51;break}return e.next=49,D.checkImageZoom(j.settings.imageZoomPan,j.sceneId,!1,!1,!0);case 49:e.next=53;break;case 51:return e.next=53,D.checkImageZoom(!1,j.sceneId,!1,!1,!0);case 53:e.next=57;break;case 55:return e.next=57,D.checkImageZoom(!1,j.sceneId,!1,!1,!0);case 57:e.next=80;break;case 59:if(!j.isCustomImage&&!j.isArticleImage){e.next=77;break}if(j.isCustomImage=!1,j.isArticleImage=!1,j.isUploadedVideo=!1,!j.settings){e.next=73;break}if(!D.state.applyToAllScenes){e.next=69;break}return e.next=67,D.checkImageZoom(j.settings.imageZoomPan,j.sceneId,!1,!1,!0);case 67:e.next=71;break;case 69:return e.next=71,D.checkImageZoom(!0,j.sceneId,!1,!1,!0);case 71:e.next=75;break;case 73:return e.next=75,D.checkImageZoom(!0,j.sceneId,!1,!1,!0);case 75:e.next=80;break;case 77:return j.isUploadedVideo=!1,e.next=80,D.muteClipAudio(!0,j.sceneId,!1,!0);case 80:return e.next=82,D.trimScene(0,0,!1,j.sceneId,void 0,void 0,!0);case 82:if(D.state.isOpenTextEditor){e.next=85;break}return e.next=85,D.reloadScene(t);case 85:j.settings.frame&&(j.settings.frame=null),y||(y=j);case 87:b++,e.next=14;break;case 90:return Z=(0,o.Z)(D.state.summaryJsonText),k=D.getSummaryFromGivenSubSentenceSceneId(g),C=k.index,Z[C]=(0,a.Z)({},Z[C]),Z[C].image=n,Z[C].settings.frame&&(Z[C].settings.frame=null),Z[C].isImageChanged=null===(f=y)||void 0===f?void 0:f.isImageChanged,Z[C].isCustomImage=null===(v=y)||void 0===v?void 0:v.isCustomImage,Z[C].isUploadedVideo=null===(x=y)||void 0===x?void 0:x.isUploadedVideo,e.next=100,D.setState({summaryJsonText:Z});case 100:h=s,e.next=104;break;case 103:D.state.allAssets[n]&&(h=D.state.allAssets[n]);case 104:if(h&&!O().isEmpty(h)?(p=(0,o.Z)(D.state.imageAssests))[t-1]=h:p=[].concat((0,o.Z)(D.state.imageAssests),[{thumb:n,url:n,large:n}]),!D.isOutroScene(t)){e.next=107;break}return e.abrupt("return",!1);case 107:return I=D.state.defaultImages,d[t-1]=n,u?I.splice(t-1,0,O().isEmpty(h)?l?h:{thumb:n,preview:n,large:n}:s):I[t-1]=O().isEmpty(h)?l?h:{thumb:n,preview:n,large:n}:h,T=D.state.refreshVisualLibrary,E=D.state.isShowOverlay,t===Object.keys(D.state.summaryJsonText).length&&(E=!1),A={},n&&l&&(A={changedVisualUrl:n,changedVisualAsset:s,changedBackgroundColor:"",enableApplyVisualToAll:1}),l&&m&&(r=!1),e.next=118,D.setState((0,a.Z)({imageURL:d,defaultImages:I,refreshVisualLibrary:!T,isShowOverlay:E,isAnyChange:!1,imageAssests:p},A),(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return e.next=3,D.componentWillMount_call(r);case 3:case"end":return e.stop()}}),e)}))));case 118:if(!l){e.next=121;break}return e.next=121,D.setState({editScenePlayVideo:!D.state.editScenePlayVideo},(0,c.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=6;break}if((t=document.createElement("video")).src=n,!t){e.next=6;break}return e.next=6,t.addEventListener("durationchange",(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.duration){e.next=3;break}return e.next=3,D.trimScene(0,t.duration,!0,g,{},!0);case 3:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)}))));case 121:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.isOverlayShown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please wait...";D.setState({isShowOverlay:e,OverlayMessage:t})},D.SetTimePerFrame=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,c=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(c.length>3&&void 0!==c[3])||c[3],n=Math.round(100*n)/100,(a=(0,o.Z)(D.state.timePerFrame))[t]=n,e.next=6,D.setState({timePerFrame:a,isAnyChange:s});case 6:D.state.timeChangedPostAIVO||D.setState({timeChangedPostAIVO:!0}),w().getInstance().logEvent("scene-duration-set",{"scene-number":t+1,"old-duration":r,"new-duration":n});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.SetTimePerFrameForAllScenes=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,c=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=!(c.length>1&&void 0!==c[1])||c[1],r=D.state.subSentencesArray.length,s=(0,o.Z)(D.state.timePerFrame),a=0;a<r;a++)"Custom Intro Scene"!==D.state.subSentencesArray[a].showSceneNumber&&"Outro Scene"!==D.state.subSentencesArray[a].showSceneNumber&&(s[a]=t);return e.next=6,D.setState({timePerFrame:s,isAnyChange:n});case 6:!1===D.state.timeChangedPostAIVO&&D.setState({timeChangedPostAIVO:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.SetTransition=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,o.Z)(D.state.subSentencesArray),a=(0,o.Z)(D.state.summaryJsonText),c=[],r?c=s:c=s.filter((function(e){return e.sceneId==n})),c.forEach((function(e){e.transition=t;var n=D.getSummaryFromGivenSubSentenceSceneId(e.sceneId).index;a[n].transition=t})),D.setState({subSentencesArray:s,summaryJsonText:a,isAnyChange:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.RemoveTransition=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText),n.filter((function(e){return e.sceneId==t})).forEach((function(e){e.transition=null;var t=D.getSummaryFromGivenSubSentenceSceneId(e.sceneId).index;r[t].transition=null})),D.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.RemoveAllTransitions=(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,o.Z)(D.state.subSentencesArray),n=(0,o.Z)(D.state.summaryJsonText),t.forEach((function(e){e.transition=null;var t=D.getSummaryFromGivenSubSentenceSceneId(e.sceneId).index;n[t].transition=null})),D.setState({subSentencesArray:t,summaryJsonText:n,isAnyChange:!0});case 5:case"end":return e.stop()}}),e)}))),D.YetToBeImplement=function(e){alert(ze.Z.YetToImplement)},D.closeQuotaPopup=function(){D.setState({quotaExceeded:!1,trimVideoNotAllowed:!1,transitionsNotAllowed:!1,musicTrackNotAllowed:!1})},D.getFileSize=function(e){var t="",n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),200===n.status&&(t=(t=n.getResponseHeader("content-length"))/1024/1024,t=Math.ceil(t)),t},D.generateElements=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,o,c,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=be.Z.getItem("voiceOverTrackId"),!ye.Tf.includes(+s)){e.next=4;break}return D.setState({showVoPopup:!0}),e.abrupt("return");case 4:if(a=D.validateVideoStockVisuals(),o=a.invalidStockVisuals,c=a.invalidSceneIds,!o){e.next=8;break}return D.setState({videoStockVisualsNotSupport:!0,notSupportedScenes:c}),e.abrupt("return");case 8:(0,ye.we)(D.state.username),D.props.generateVideoStatus({step:1}),D.state.generatingAsyncVideo?(0,Ze.JQ)("Video generation is in progress"):(void 0!==D.state.intervalGenerateVideoMessage&&clearInterval(D.state.intervalGenerateVideoMessage),l=["Video boosts conversion rates by 80%","“77% of companies use YouTube to host marketing videos","Videos are shared 20X more often than other types of content on LinkedIn","Video in email subject increases open rates by 19%, click-through rates by 65%"],u=1,d=setInterval((function(){u===l.length&&(u=0),D.changeText(l[u]),u++}),1e4),D.setState({GenerateVideoHeading:"Video generation in progress",generateVideoStatusMessage:"Preprocessing video...",percent:0,intervalGenerateVideoMessage:d,GenerateVideoMessage:l[0],displayGenerateVideo:!0,hasExportID:!1,dynamicPercentWidth:"0%",displayGenerateVideoPopuptext1:!0,displayGenerateVideoPopuptext2:!1},(function(){setTimeout((function(){D.setState({generateCSV:n},(function(){return setTimeout((function(){return D.GenerateVideo(t,n,r)}),1e3)}))}),100)})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.beginButtonMovingAnimation=function(){},D.GenerateNextGenerationVideo=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.generateNextGenerationVideo=!0,e.next=3,D.generateElements(t,!1,!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.GenerateDraftVideo=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.generateDraftVideo=!0,e.next=3,D.generateElements(t,!1,!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.GenerateVideo=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,r,s){var a,o,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,k;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=n(31881),o=a.CancelToken.source(),c=setInterval((function(){D.setState({timeTakenInSeconds:D.state.timeTakenInSeconds+1})}),1e3),D.setState({abortControllerGenration:o,timeTakenToGenerateVideo:c}),document.getElementById("myMusicTrackPlay").pause(),document.getElementById("myAudioPlay").pause(),document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause(),l=document.getElementsByClassName("voicePlayStop"),u=l.length,d=0;d<u;d++)l[d].className="voicePlayStop fa fa-play";for(l=document.getElementsByClassName("playStop"),u=l.length,d=0;d<u;d++)l[d].className="playStop fa fa-play";for(l=document.getElementsByClassName("recentPlayStop"),u=l.length,d=0;d<u;d++)l[d].className="recentPlayStop fa fa-play";for(l=document.getElementsByClassName("pausePreviewButton"),u=l.length,d=0;d<u;d++)l[d].className="pausePreviewButton icon-play-right";for(l=document.getElementsByClassName("voiceOverMusicTrack"),u=l.length,d=0;d<u;d++)l[d].className="voiceOverMusicTrack fa fa-play";return D.setState({OverlayMessage:"Please wait... <br />Your video creation is in progress."}),p=null,h=!1,e.prev=27,e.next=30,D.generateVideoJSON(r,s,!0,null,null,!0,!0);case 30:(m=e.sent)&&(p=m.VideoCreationJson,h=m.containsTextToImage),e.next=38;break;case 34:return e.prev=34,e.t0=e.catch(27),D.setState({displayGenerateVideo:!1,showVideoGenerationError:!D.state.showVoPopup&&!D.state.noAddonPopup,videoGenerationError:e.t0}),e.abrupt("return");case 38:if(p){e.next=41;break}return D.setState({displayGenerateVideo:!1}),e.abrupt("return");case 41:if(g=0,f=0,v=p.scenes.length,x=0,S=0,y=0,p&&p.scenes&&p.scenes.map((function(e){e&&e.background&&e.background.src&&e.background.src.map((function(e){"image"===e.type?g++:"video"===e.type&&f++})),e&&e.sub_scenes&&e.sub_scenes.map((function(e,t){t>0&&x++})),S+=e.time})),D.state.subSentencesArray.map((function(e){e.isImageChanged&&y++})),b=!1,"transcribe"!==D.state.source&&(j=D.getTextToVideoDurationFeatureValue(),S>j&&(b=!0)),w().getInstance().logEvent(b?"video-time-exceeded":"generate-clicked",{"total-time-to-generate-in-seconds":D.timeTakenInStepThree,"total-time-to-generate-in-minutes":(D.timeTakenInStepThree/60).toFixed(2),"total-images":g,"total-videos":f,"total-scenes":v,"total-sub-scenes":x,"track-name":localStorage.getItem("trackName"),"voice-track-name":localStorage.getItem("voiceOverTrackName"),"total-video-time-in-seconds":S,"total-video-time-in-minutes":(S/60).toFixed(2),"project-id":D.state.project_id,"total-scenes-with-original-image":v-y,"video-usecase":D.state.source}),!b){e.next=55;break}return D.setState({videoTimeLimitExceeded:!0,displayGenerateVideo:!1}),e.abrupt("return");case 55:return clearInterval(D.state.timeTakenInStepThreeInterval),D.timeTakenInStepThree=0,D.setState({VideoCreationJson:p,containsTextToImage:h}),e.next=60,D.props.generateVideo({abortController:o,VideoCreationJson:p,isCSV:r});case 60:e.next=71;break;case 62:return e.prev=62,e.t1=e.catch(0),e.next=66,(0,we.d)();case 66:console.log(e.t1),k=D.state.username+"/project/"+D.state.project_id+"/frontend-generate-failed-error.txt",Z.Ke.put(k,JSON.stringify({error:"".concat(e.t1)}),{level:"public",ACL:"public-read"}).then((function(e){w().getInstance().logEvent("frontend-generate-failed",{error:q.Z.Instance.GetUserUploadUrl(k,"public")})})),clearInterval(D.state.timeTakenToGenerateVideo),D.setState({OverlayMessage:"Please wait...",displayGenerateVideo:!1,timeTakenInSeconds:0,generateError:!0,hasExportID:!1});case 71:case"end":return e.stop()}}),e,null,[[0,62],[27,34]])})));return function(t,n,r){return e.apply(this,arguments)}}(),D.getTextToVideoDurationFeatureValue=function(){return parseInt((0,ye.N$)(D.state.username)[je.R2.textToVideoDuration]||1620)},D.getFontSizeForAspectRatio=function(e){return e*("sixteen-nine"==D.state.aspectRatioClass?1:ia)},D.getFontNameForVideoGen=function(e){return e=e.replace(" ","")+".ttf","transcribe"===D.state.source&&D.state.transcriptionLanguage&&(["ja-JP","ko-KR"].includes(D.state.transcriptionLanguage)?e="arial-unicode-ms.ttf":"hi-IN"===D.state.transcriptionLanguage&&(e="Mangal-Regular.ttf")),e},D.removeBOMChar=function(e){var t=(0,ye.VA)(e,/[\b]/,"");if(t)for(var n=0;n<t.length;n++)65279!==t.charCodeAt(n)&&187!==t.charCodeAt(n)||(t=t.substring(0,n)+t.substring(n+1),n-=1);return t},D.removeBOMChar=function(e){var t=(0,ye.VA)(e,/[\b]/,"");if(t)for(var n=0;n<t.length;n++)65279===t.charCodeAt(n)&&(t=t.substring(0,n)+t.substring(n+1),n-=1);return t},D.executeAsyc=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:100,e.abrupt("return",new Promise((function(e,r){setTimeout((0,c.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t();case 3:e(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])}))),n)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.validateVideoStockVisuals=function(){var e=[],t=U()("2021-11-02");if(U()().isAfter(t))for(var n=new Set,r=0;r<D.state.subSentencesArray.length;r++){var s=D.state.subSentencesArray[r],a=D.state.imageURL[s.sceneId-1];if(a){var i=D.state.allAssets[a];(i?(0,ye.Kp)(i):(0,ye.Kp)({url:a}))&&!1===n.has(s.sceneId)&&(e.push(s.sceneId),n.add(s.sceneId))}}return{invalidStockVisuals:e.length>0,invalidSceneIds:e}},D.gotoCreateVideoStep2=function(e){if(D.state.goToPreviousConfirm||D.state.tryLaterGotoStep1)if(D.closeGoToPreviousConfirm(),!D.state.isSkipStep2||D.props.location&&D.props.location.state&&D.props.location.state.step2Data){var t=(0,a.Z)((0,a.Z)({},D.state.loadProjectDetails),{},{isSubtitleEnabled:!!D.props.location.state.isSubtitleEnabled&&D.props.location.state.isSubtitleEnabled,isRemoveFillers:!!D.props.location.state.isRemoveFillers&&D.props.location.state.isRemoveFillers,isSummarized:!!D.props.location.state.isSummarized&&D.props.location.state.isSummarized,summarizePercent:D.props.location.state.summarizePercent?D.props.location.state.summarizePercent:0,selectedSentences:D.props.location.state.selectedSentences?D.props.location.state.selectedSentences:[],transcribe_sentences:D.props.location.state.transcribe_sentences?D.props.location.state.transcribe_sentences:[],speakers:D.props.location.state.projectDetails.speakers,projectName:D.state.projectName?D.state.projectName:D.state.loadProjectDetails.projectName});delete t.imageAssests,delete t.allSummaryAssets;var n=D.state.editingVideoWidth/D.state.editingVideoHeight;if(n){var r=Ye.R3.find((function(e){return Math.abs(e.fractionValue-n)<=.01}));r?(t.aspectRatioClass=r.class,t.aspectRatioValue=r.value,t.aspectRatioFractionValue=r.fractionValue):(t.aspectRatioClass="custom",t.aspectRatioValue="custom",t.aspectRatioFractionValue=n)}else t.aspectRatioClass=Ye.TJ,t.aspectRatioValue=Ye.Jb,t.aspectRatioFractionValue=Ye.Wi;D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.stepTwo,state:{url:D.state.url,sentences:D.state.sentences,originalText:D.state.originalText,baseText:D.state.baseText,summaryText:D.state.summaryText,isPrevious:!0,summaryJson:D.state.summaryJsonText,lines:D.props.location.state.lines||D.state.lines,totalLines:D.props.location.state.totalLines||D.state.totalLines,value:D.props.location.state.value||D.state.value,sendOriginalText:D.state.sendOriginalText,mainOriginalText:D.state.mainOriginalText,allSummaryText:D.state.allSummaryText,startingSummary:D.state.startingSummary,articleKeywords:D.state.articleKeywords,projectDetails:t,step2Data:D.props.location.state.step2Data&&(0,a.Z)({},D.props.location.state.step2Data),documentFile:D.props.location.state.documentFile,documentFileName:D.props.location.state.documentFileName,selectedSentences:D.props.location.state.selectedSentences?D.props.location.state.selectedSentences:[],transcribe_sentences:D.props.location.state.transcribe_sentences?D.props.location.state.transcribe_sentences:[],saveProjectFirst:!0,autoHighlightKeywords:D.props.location.state.autoHighlightKeywords,autoVisualSelection:D.props.location.state.autoVisualSelection,scriptLanguage:D.props.location.state.scriptLanguage}})}else D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.stepOne,state:{url:D.state.url,sentences:D.state.sentences,text:D.state.originalText,isPreviousButton:!0,originalText:D.state.originalText,sendOriginalText:D.state.sendOriginalText,baseText:D.state.baseText,autoHighlightKeywords:D.props.location.state.autoHighlightKeywords,autoVisualSelection:D.props.location.state.autoVisualSelection,selectedValueSceneBreakChar:D.props.location.state.selectedValueSceneBreakChar,scriptLanguage:D.props.location.state.scriptLanguage,projectDetails:D.props.location.state.projectDetails}});else D.openGoToPreviousConfirm()},D.ApplyNewBrandSetting=function(e,t){"Cancel"!==e&&"No"!==e||(D.setState({askBrandSettingChange:!1,popupAskBrandSettingChange:!1,isShowOverlay:!0,OverlayMessage:"Please wait..."}),D.loadProjectFromJson()),"Yes"===e&&(D.setState({askBrandSettingChange:!0,popupAskBrandSettingChange:!1,isShowOverlay:!0,OverlayMessage:"Applying the new brand settings..."}),D.loadProjectFromJson())},D.CloseUpdateBox=function(e,t){"Cancel"===e?D.setState({isAnyUpdate:!1}):"No"===e&&"brand"===D.state.gotoUrl?(D.props.history.push({pathname:ze.Z.BaseURL+"brandSettings",state:{isAnyChange:!1}}),D.setState({isAnyUpdate:!1})):"No"===e&&"video"===D.state.gotoUrl?(D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.myProjects,state:{isAnyChange:!1}}),D.setState({isAnyUpdate:!1})):"No"===e&&"logout"===D.state.gotoUrl?(k.g.signOut(),be.Z.clear(),D.props.history.push(ze.Z.BaseURL),t.preventDefault()):"Yes"===e&&(D.setState({isAnyUpdate:!1}),""!==D.state.videoURL&&null!==D.state.videoURL?D.OpenSaveProjectPopup("video",!0):D.OpenSaveProjectPopup("project",!0))},D.gotoMyVideo=function(){D.clearUndoHistory(),D.state.isAnyChange||""===D.state.projectName||null===D.state.projectName||void 0===D.state.projectName?D.setState({isAnyUpdate:!0,gotoUrl:"video"}):D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.myProjects,state:{isAnyChange:!1}})},D.gotoLogout=function(e){D.clearUndoHistory(),D.state.isAnyChange||""===D.state.projectName||null===D.state.projectName||void 0===D.state.projectName?D.setState({isAnyUpdate:!0,gotoUrl:"logout"}):(k.g.signOut(),be.Z.clear(),D.props.history.push(ze.Z.BaseURL),e&&e.preventDefault())},D.gotoHome=function(){D.clearUndoHistory(),D.props.history.push(ze.Z.BaseURL+ke.Z.stepOne)},D.handleChange=function(e){var t=e.target.name,n=e.target.value;D.setState((0,s.Z)({},t,n))},D.changeProjectName=function(e){D.setState({projectName:e.target.value})},D.handleBlurProjectName=function(e,t){D.state.projectName!==e&&D.setState({projectName:e,isAnyChange:!t})},D.handleBlurProjectCategory=function(e){var t=e.target.value;D.setState({projectCategory:t}),""!==t.trim()?D.setState({hasErrorProjectName:!1,popupVisibleProjectNameError:!1,hasErrorProjectCategory:!1,popupVisibleProjectCategoryError:!1,hasErrorProjectCategoryDDL:!1,popupVisibleProjectDDLCategoryError:!1}):""===t.trim()&&D.setState({hasErrorProjectCategory:!0,popupVisibleProjectCategoryError:!0})},D.handleSelectChange=function(e){"Add new category"===document.getElementById("ddlCategory").value?(D.setState({projectCategory:"",ddlCategory:"",hasErrorProjectCategoryDDL:!1,popupVisibleProjectDDLCategoryError:!1,displayDdlCategory:!1,displayOuterDdlCategory:!1,displayTextProjectCategory:!0}),document.getElementById("ddlCategory").style.display="none",document.getElementById("outerDDLCategory").style.display="none",document.getElementById("txtProjectCategory").style.display="block"):"Select category"===document.getElementById("ddlCategory").value?D.setState({projectCategory:"",ddlCategory:"",hasErrorProjectCategoryDDL:!0,popupVisibleProjectDDLCategoryError:!0}):D.setState({projectCategory:e.target.value,ddlCategory:e.target.value,hasErrorProjectCategoryDDL:!1,popupVisibleProjectDDLCategoryError:!1})},D.handleImportAssets=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pending"==D.state.audioImportStatus){for(s=[],"music"==(null==t||null===(n=t.audio)||void 0===n?void 0:n.selectedTrackType)&&null!=t&&null!==(r=t.audio)&&void 0!==r&&r.selectedTrackUrl&&0==s.filter((function(e){var n;return e==(null==t||null===(n=t.audio)||void 0===n?void 0:n.selectedTrackUrl)})).length&&s.push(null==t||null===(a=t.audio)||void 0===a?void 0:a.selectedTrackUrl),o=function(e){var n=t.scenes[e];if(null!=n&&n.recordedAudio&&0==s.filter((function(e){return e==(null==n?void 0:n.recordedAudio)})).length&&s.push(null==n?void 0:n.recordedAudio),null!=n&&n.audioSegments)for(var r=function(e){var t=n.audioSegments[e];null!=t&&t.recordedAudio&&0==s.filter((function(e){return e==(null==t?void 0:t.recordedAudio)})).length&&s.push(null==t?void 0:t.recordedAudio)},a=0;a<n.audioSegments.length;a++)r(a)},c=0;c<t.scenes.length;c++)o(c);D.props.importAudio(D.state.username,s)}if("pending"==D.state.visualImportStatus){for(l=[],u=function(e){t.scenes[e].isCustomImage&&t.scenes[e].image&&0==l.filter((function(n){return n==t.scenes[e].image})).length&&l.push(t.scenes[e].image)},d=0;d<t.scenes.length;d++)u(d);D.props.importImage(D.state.username,l)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.getDefaultTextStyles=(0,c.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.props.getStylesByAttributes([{displayTextStyleType:"heading",scope:"global"},{displayTextStyleType:"subheading",scope:"global"},{displayTextStyleType:"bodytext",scope:"global"}]);case 2:t=e.sent,D.setState({defaultTextStyles:null==t?void 0:t.stylesResult});case 4:case"end":return e.stop()}}),e)}))),D.showSubscriptionVoiceOverTracks=function(e){var t=(0,ye.we)(e);if(t&&t.plan&&t.plan.plan_code){var n=Ce.W.filter((function(e){return e.subscriptions.indexOf(t.plan.plan_code)>-1}));D.setState({voiceOverTracks:n})}},D.loadProject=function(){if(D.props.location&&(D.props.location.search||D.props.location.pathname.startsWith("/".concat(ke.Z.stepThree_scriptToVideo,"?preview=")))){if(D.props.location.search&&D.props.location.search.indexOf("preview=")>-1&&is.parse(D.props.location.search).preview)return!0}else if(D.props.location.pathname.startsWith("/".concat(ke.Z.stepThree_scriptToVideo,"?preview=")))return!0;return!0===D.props.location.state.loadProject},D.openProject=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!D.props.location||!D.props.location.search&&!D.props.location.pathname.startsWith("/".concat(ke.Z.stepThree_scriptToVideo,"?preview="))){e.next=18;break}if(!(D.props.location.search&&D.props.location.search.indexOf("preview=")>-1)){e.next=10;break}if(!(n=is.parse(D.props.location.search)).preview){e.next=8;break}return e.next=7,D.props.openPreviewProject(n.preview);case 7:D.props.activeProject&&(t=!0);case 8:e.next=17;break;case 10:if(!(r=D.props.location.pathname.split("".concat(ke.Z.stepThree_scriptToVideo,"?"))[1])){e.next=17;break}if(!(s=is.parse(r)).preview){e.next=17;break}return e.next=16,D.props.openPreviewProject(s.preview);case 16:D.props.activeProject&&(t=!0);case 17:t&&D.props.activeProject&&D.setState({project_id:D.props.activeProject.project_id});case 18:if(D.props.activeProject&&!O().isEmpty(D.props.activeProject)){e.next=21;break}return e.next=21,D.props.openProject(D.state.project_id,je.vY.OpenProject,D.state.cognito_id);case 21:D.props.activeProject&&!O().isEmpty(D.props.activeProject)&&D.setState({loadProjectDetails:D.props.activeProject},(function(){D.state.popupAskBrandSettingChange||(D.setState({isShowOverlay:!0}),D.loadProjectFromJson()),t&&setTimeout((function(){D.setState({isAnyChange:!0})}),2e3)}));case 22:case"end":return e.stop()}}),e)}))),D.getOutroVideoDuration=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getVideoDuration(t,D.state.defaultOutroTimeInSec);case 2:return n=e.sent,D.setState({defaultOutroTimeInSec:n,defaultOutroTimeInMiniSec:1e3*n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.getVideoDuration=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("video")).preload="metadata",e.abrupt("return",new Promise((function(e,s){var a=setTimeout(e,2e4,n);r.onloadedmetadata=function(){clearTimeout(a),e(parseFloat(r.duration.toFixed(2)))},r.src=t})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.closeOpenTextEditor=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.Z)(D.state.subSentencesArray),(s=(0,a.Z)({},r[t-1])).isOpenTextEditor=n,r[t-1]=s,e.next=6,D.setState({subSentencesArray:r,isOpenTextEditor:n,isSaveTextError:!1,saveTextNextSceneCounter:void 0});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.changeActiveDiv=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,a,c,l,u,d,p,h=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=h.length>2&&void 0!==h[2]&&h[2],!D.state.isOpenTextEditor){e.next=4;break}return e.next=4,D.closeOpenTextEditor(D.state.currentActiveDiv,!1);case 4:if(a=(0,o.Z)(D.state.subSentencesArray),c={},t<1&&(t=1),t>a.length&&(t=a.length),u=a[t-1],!s){e.next=16;break}if(d=a.filter((function(e){return e.isActive})).length,!(d<=1&&u.isActive)){e.next=13;break}return e.abrupt("return");case 13:a=u.isActive?(0,o.Z)(D.setActiveScenes(a,u,!1)):(0,o.Z)(D.setActiveScenes(a,u,!0)),e.next=18;break;case 16:a.forEach((function(e){return e.isActive=!1})),u.isActive=!0;case 18:if(p=a.filter((function(e){return e.isActive})),0!==p.length){e.next=21;break}return e.abrupt("return");case 21:if(null!==(r=a[D.state.currentActiveDiv-1])&&void 0!==r&&r.isActive||(l=p[0].sceneId),a[t-1].recordedAudio&&""!=a[t-1].recordedAudio?be.Z.setItem("recordedAudio",a[t-1].recordedAudio):a[t-1].audioSegments&&a[t-1].audioSegments[0]?be.Z.setItem("recordedAudio",a[t-1].audioSegments[0].recordedAudio):be.Z.setItem("recordedAudio",""),!(c=a[t-1]).sceneId){e.next=27;break}return e.next=27,D.setState({currentSceneId:c.sceneId});case 27:if("Outro Scene"!==c.showSceneNumber&&"Custom Intro Scene"!==c.showSceneNumber||(c.settings.hideScene=!1),!s||!isNaN(l)){e.next=32;break}return e.next=31,D.setState({subSentencesArray:a});case 31:return e.abrupt("return");case 32:return e.next=34,D.setState({subSentencesArray:a,currentActiveDiv:t,rerenderAudio:!D.state.rerenderAudio,closePreviewFlag:Date.now()},(function(){D.state.showAudioTrimmer&&D.renderAudioTimelines()}));case 34:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.reloadScene=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=D.state.currentActiveDiv,n=(0,o.Z)(D.state.subSentencesArray),r=0;r<n.length;r++)n[r].isActive&&(n[r].isActive=!1);return t-1!==n.length?n[t-1]&&(n[t-1].isActive=!1):n[0].isActive=!1,e.next=6,D.setState({subSentencesArray:n,currentActiveDiv:t},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.changeActiveDiv(t);case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)}))),D.saveTextEditorValue=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,c,l,u){var d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,U,L,F,V,B,M,G,W,z,J,H,q,Q=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p=Q.length>7&&void 0!==Q[7]&&Q[7],h=Q.length>8?Q[8]:void 0,m=Q.length>9?Q[9]:void 0,g=Q.length>10?Q[10]:void 0,f=Q.length>11?Q[11]:void 0,v=Q.length>12&&void 0!==Q[12]&&Q[12],x=(0,o.Z)(D.state.subSentencesArray),S=(0,o.Z)(D.state.summaryJsonText),y=(0,o.Z)(D.state.scenePosition),l||(l=1),s&&s.fontName&&(s.FontNameForFront=K.getFrontFontName(s.fontName)),Z=0,k=x.length-1,p||(Z=x.findIndex((function(e){return e.sceneId===c})),k=x.map((function(e){return e.sceneId===c})).lastIndexOf(!0)),h=x[t-1].isOpenTextEditor&&h,(C=(0,o.Z)(x[t-1].AllSubSentences)).splice(l-1,1,n),I=Z;case 19:if(!(I<=k)){e.next=30;break}if(!("Outro Scene"==x[I].showSceneNumber&&p&&!g||"Custom Intro Scene"==x[I].showSceneNumber&&p&&!g)){e.next=22;break}return e.abrupt("continue",27);case 22:T=(0,a.Z)((0,a.Z)({},x[I]),{},{isOpenTextEditor:!1}),p&&(T=(0,a.Z)((0,a.Z)({},T),O().cloneDeep(s)),f&&t!==I+1&&(T.displayItems||(T.displayItems=[]),(E=O().cloneDeep(f)).id=(0,Y.Z)(),T.displayItems.push(E)),v&&T.displayItems&&T.displayItems.length&&(T.displayItems=T.displayItems.filter((function(e){return!e.isLogo})))),void 0!==r&&(T.keywords=r),void 0!==n&&(T.AllSubSentences=(0,o.Z)(C)),x[I]=T;case 27:I++,e.next=19;break;case 30:p||(x[t-1]=(0,a.Z)((0,a.Z)({},x[t-1]),s),void 0!==n&&(x[t-1].sentence=n,x[t-1].subSentences=n),x[t-1].isOpenTextEditor=h,(null===(A=x[t-1])||void 0===A?void 0:A.isNew)&&(null!==(_=x[t-1])&&void 0!==_&&_.isNewSubScene),null!==(R=x[t-1])&&void 0!==R&&R.isNew&&(x[t-1].isNew=!1,null!==(P=x[t-1])&&void 0!==P&&P.searchVisual&&1===(null===(N=x[t-1])||void 0===N?void 0:N.AllSubSentences.length)&&n&&r&&D.getNewSceneImages(n,x[t-1].sceneId,1,r)),void 0!==s.leftCoordinate&&(y[t-1]={SceneId:c,SubSceneId:l,leftCoordinate:s.leftCoordinate,topCoordinate:s.topCoordinate})),Z=0,k=S.length-1,p||(U=D.getSummaryFromGivenSubSentenceSceneId(c),L=U.index,Z=L,k=L,void 0!==n&&(S[L]=(0,a.Z)({},S[L]),S[L].subsentences=(0,o.Z)(S[L].subsentences),S[L].subsentences.splice(l-1,1,n),S[L].sentence=S[L].subsentences.join(" "),S[L].settings.hideScene||(B=D.getVoiceOverText(S[L].sentence&&S[L].sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,"")||""),D.props.getSentenceKeywordSuggestions(B,D.state.scriptLanguage),b=(null===(F=D.state.durationUpdatedScenes)||void 0===F?void 0:F.sceneIds)||[],j=(null===(V=D.state.durationUpdatedScenes)||void 0===V?void 0:V.sceneIndices)||[],b.includes(D.state.subSentencesArray[L].sceneId)||(b.push(D.state.subSentencesArray[L].sceneId),j.push(L)),!D.state.subSentencesArray.some((function(e){return e.recordingApplyToAll}))&&D.state.subSentencesArray[L].settings.voiceOver&&(0,ye.OS)()&&(w=(null===(M=D.state.durationUpdatedScenes)||void 0===M?void 0:M.updatedSceneDuration)||[],G=(0,ye.c9)(B,D.state.timePerFrame,L,D.state.speedValue,c,D.state.durationUpdatedScenes.updatedSceneDuration),ye.SS&&(W=w.indexOf(D.state.subSentencesArray[L].sceneId))>=0&&w.splice(W,1),D.setState({timePerFrame:G})))),void 0!==r&&(S[L].keywords=r)),z=Z;case 35:if(!(z<=k)){e.next=45;break}if(!("Outro Scene"==S[z].sceneId&&p&&!g||"Custom Intro Scene"==S[z].sceneId&&p&&!g)){e.next=38;break}return e.abrupt("continue",42);case 38:if((J=(0,a.Z)({},S[z])).format=J.format?(0,o.Z)(J.format):new Array(J.subsentences.length).fill(null),p)for(H=0;H<=J.format.length-1;H++)J.format[H]=(0,a.Z)((0,a.Z)({},J.format[H]),s),f&&J.sceneId!=c&&(J.format[H].displayItems||(J.format[H].displayItems=[]),(q=O().cloneDeep(f)).id=(0,Y.Z)(),J.format[H].displayItems.push(q)),v&&J.format[H].displayItems&&J.format[H].displayItems.length&&(J.format[H].displayItems=J.format[H].displayItems.filter((function(e){return!e.isLogo})));else J.format[l-1]=(0,a.Z)((0,a.Z)({},J.format[l-1]),s);S[z]=J;case 42:z++,e.next=35;break;case 45:return e.next=47,D.setState({durationUpdatedScenes:{loading:!1,sceneIds:b,sceneIndices:j,isSceneDeleted:null===(d=D.state.durationUpdatedScenes)||void 0===d?void 0:d.isSceneDeleted,updatedSceneDuration:w},subSentencesArray:x,summaryJsonText:S,scenePosition:y,isOpenTextEditor:!1,isAnyChange:m,isSaveTextError:!1,saveTextNextSceneCounter:void 0},(function(){}));case 47:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o){return e.apply(this,arguments)}}(),D.totalSegments=function(e){if(!e)return 0;var t=0;return Array.isArray(e)&&(t=function e(t){return t.reduce((function(t,n){if(!n)return t;Array.isArray(n)&&(t=e(n));var r=n.start,s=n.end;return s>0&&(t+=parseFloat(s)-parseFloat(r)),t}),0)}(e)),parseFloat(t.toFixed(2))},D.insertSceneBefore=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,c,l,u,d){var p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,O,U,L,F,V,B,M,G,W,z,J,H,K,q,Q=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(v=Q.length>8&&void 0!==Q[8]&&Q[8],x=Q.length>9&&void 0!==Q[9]&&Q[9],S=u-1,y=D.state.logoImage,b=D.state.logoLocation,j=D.state.animationTheme.getStyles(),w=(null===(p=D.state)||void 0===p||null===(h=p.durationUpdatedScenes)||void 0===h?void 0:h.updatedSceneDuration)||[],j.fontSize=D.getFontSizeForAspectRatio(j.fontSize),D.state.brandSetting.hasOwnProperty("sceneStyle")&&void 0!==D.state.brandSetting.sceneStyle.fontName&&""!==D.state.brandSetting.sceneStyle.fontName?D.state.brandSetting.sceneStyle.fontName:D.getFontNameWithWeight(j),Z=(0,o.Z)(D.state.subSentencesArray),k=(0,o.Z)(D.state.imageURL),C=(0,o.Z)(D.state.imageAssests),I=(0,o.Z)(D.state.summaryJsonText),T=(0,o.Z)(D.state.scenePosition),E=D.state.refreshEditScene,A=D.state.refreshAllStatement,_=D.state.refreshAllScenePanel,R=Z[0].settings,P=0;P<Z.length;P++)Z[P].isActive=!1;if(N=(0,Y.Z)(),O={sentence:"",subSentences:"",sceneId:n,subSceneId:1,AllSubSentences:[""],keywords:[],isDeleted:!1,isNew:!0,settings:D.state.applyToAllScenes?R:D.state.defaultSceneSettings,isOpenTextEditor:s,isActive:!0,backgroundColor:je.qh,showLogo:void 0!==Z[S]?Z[S].showLogo:!(!D.state.brandSetting.hasOwnProperty("sceneStyle")||""===D.state.brandSetting.sceneStyle.showLogo||void 0===D.state.brandSetting.sceneStyle.showLogo)&&D.state.brandSetting.sceneStyle.showLogo,logoImage:y,logoLocation:b,searchVisual:l,sceneType:c,uuid:N},U={},F=(null===(m=D.state.durationUpdatedScenes)||void 0===m?void 0:m.sceneIds)||[],V=(null===(g=D.state.durationUpdatedScenes)||void 0===g?void 0:g.sceneIndices)||[],D.copyTextFormatting(Z[S],U,{},!1,["displayItems"]),L=D.ExtractTextFormatFromBrand(U,L),d&&(L=D.createBrandLogoDisplayElement(d)),O=(0,a.Z)((0,a.Z)({},O),U),L&&(O.displayItems=[],O.displayItems.push(L)),v&&(O.isBrandIntro=!0,O.settings.voiceOver=!1,O.settings.muteClipAudio=!1),x&&(O.isBrandOutro=!0,O.settings.voiceOver=!1,O.settings.muteClipAudio=!1),Z.splice(S,0,O),(B=(0,o.Z)(D.state.timePerFrame)).splice(S,0,5),V.includes(t)||V.push(t),F.includes(O.sceneId)||F.push(O.sceneId),M={},G=n,Z=Z.map((function(e,t){if(t<S)return e;if(t===S)return M[e.sceneId]=e.sceneId+1,e;var n=e.sceneId;return e.subSceneId>1?e.sceneId=G:(e.sceneId=G+1,M[n]=e.sceneId,G=e.sceneId),e})),D.setShowSceneNumbersInSceneArray(I,Z,t-1),k.splice(t-1,0,""),C.splice(t-1,0,{url:"",thumb:"",large:""}),T=T.map((function(e){return e&&M[e.SceneId]&&(e.SceneId=M[e.SceneId]),e})),(W={sentence:"",keywords:[],type:"summary",image:"",subsentences:[""],settings:D.state.applyToAllScenes?R:D.state.defaultSceneSettings,showLogo:Z[t-1].showLogo,logoImage:y,logoLocation:b,backgroundColor:je.qh,uuid:"scene_"+N,uuidArray:[N]}).format=[U],L){for(z=W.format,J=0;J<z.length;J++)(H=z[J]).displayItems=[],H.displayItems.push(L),z[J]=H;W.format=z}return v&&(W.isBrandIntro=!0,W.settings.voiceOver=!1,W.settings.muteClipAudio=!1),x&&(W.isBrandOutro=!0,W.settings.voiceOver=!1,W.settings.muteClipAudio=!1),I.splice(t-1,0,W),I=I.map((function(e,t){if("Outro Scene"==e.sceneId||"Custom Intro Scene"==e.sceneId)return e;e.sceneId=t+1;var n=w.indexOf(e.sceneId);return e.sceneId=t+1,n>=0&&(w[n]=e.sceneId),e})),K=Z.length,q={timePerFrame:B,scenePosition:T,totalSentencesWithSubScenes:K,subSentencesArray:Z,imageURL:k,imageAssests:C,summaryJsonText:I,refreshEditScene:!E,refreshAllStatement:!A,refreshAllScenePanel:!_,refreshAfterAddSceneBefore:!D.state.refreshAfterAddSceneBefore,isOpenTextEditor:s,isAnyChange:!s,durationUpdatedScenes:{loading:!1,sceneIds:F,sceneIndices:V,isSceneDeleted:null===(f=D.state.durationUpdatedScenes)||void 0===f?void 0:f.isSceneDeleted,updatedSceneDuration:w}},e.next=54,D.setState(q);case 54:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o,c){return e.apply(this,arguments)}}(),D.InsertNewScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,c,l,u,d){var p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,O,U,L,F,V,B,M,G,W,z,J,H,K,q,Q,X=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(x=X.length>7&&void 0!==X[7]&&X[7],S=X.length>8&&void 0!==X[8]&&X[8],y=t-1,b=D.state.logoImage,j=D.state.logoLocation,w=D.state.refreshEditScene,Z=D.state.refreshAllStatement,k=D.state.refreshAllScenePanel,C=D.state.animationTheme.getStyles(),I=(null===(p=D.state)||void 0===p||null===(h=p.durationUpdatedScenes)||void 0===h?void 0:h.updatedSceneDuration)||[],C.fontSize=D.getFontSizeForAspectRatio(C.fontSize),D.state.brandSetting.hasOwnProperty("sceneStyle")&&void 0!==D.state.brandSetting.sceneStyle.fontName&&""!==D.state.brandSetting.sceneStyle.fontName?D.state.brandSetting.sceneStyle.fontName:D.getFontNameWithWeight(C),T=(0,o.Z)(D.state.subSentencesArray),E=(0,o.Z)(D.state.imageURL),A=(0,o.Z)(D.state.imageAssests),_=(0,o.Z)(D.state.summaryJsonText),R=(0,o.Z)(D.state.scenePosition),P=T[0].settings,N=0;N<T.length;N++)T[N].isActive=!1;if(O=(0,Y.Z)(),U={sentence:"",subSentences:"",sceneId:n+1,subSceneId:1,AllSubSentences:[""],keywords:[],isDeleted:!1,isNew:!0,settings:D.state.applyToAllScenes?P:D.state.defaultSceneSettings,isOpenTextEditor:c,isActive:!0,backgroundColor:je.qh,showLogo:void 0!==T[y]?T[y].showLogo:!(!D.state.brandSetting.hasOwnProperty("sceneStyle")||""===D.state.brandSetting.sceneStyle.showLogo||void 0===D.state.brandSetting.sceneStyle.showLogo)&&D.state.brandSetting.sceneStyle.showLogo,logoImage:b,logoLocation:j,searchVisual:u,sceneType:l,uuid:O},L={},V=(null===(m=D.state.durationUpdatedScenes)||void 0===m?void 0:m.sceneIds)||[],B=(null===(g=D.state.durationUpdatedScenes)||void 0===g?void 0:g.sceneIndices)||[],D.copyTextFormatting(T[y],L,{},!1,["displayItems"]),F=D.ExtractTextFormatFromBrand(L,F),d&&(F=D.createBrandLogoDisplayElement(d)),U=(0,a.Z)((0,a.Z)({},U),L),F&&(U.displayItems=[],U.displayItems.push(F)),x&&(U.isBrandIntro=!0,U.settings.voiceOver=!1,U.settings.muteClipAudio=!1),S&&(U.isBrandOutro=!0,U.settings.voiceOver=!1,U.settings.muteClipAudio=!1),D.setState({currentSceneId:n+1}),T.splice(t,0,U),(M=(0,o.Z)(D.state.timePerFrame)).splice(t,0,5),B.includes(t)||B.push(t),V.includes(U.sceneId)||V.push(U.sceneId),G={},W=n,T=T.map((function(e,n){if(n<t)return e;var r=e.sceneId;return e.subSceneId>1?e.sceneId=W:(e.sceneId=W+1,G[r]=e.sceneId,W=e.sceneId),e})),D.setShowSceneNumbersInSceneArray(_,T,t),E.splice(n,0,""),A.splice(n,0,{url:"",thumb:"",large:""}),R=R.map((function(e){return e&&G[e.SceneId]&&(e.SceneId=G[e.SceneId]),e})),f={sentence:"",keywords:[],type:"summary",image:"",subsentences:[""],settings:D.state.applyToAllScenes?P:D.state.defaultSceneSettings,showLogo:T[t-1].showLogo,logoImage:b,logoLocation:j,backgroundColor:je.qh},(0,s.Z)(f,"settings",D.state.applyToAllScenes?P:D.state.defaultSceneSettings),(0,s.Z)(f,"uuid","scene_"+O),(0,s.Z)(f,"uuidArray",[O]),(z=f).format=[L],F){for(J=z.format,H=0;H<J.length;H++)(K=J[H]).displayItems=[],K.displayItems.push(F),J[H]=K;z.format=J}return x&&(z.isBrandIntro=!0,z.settings.voiceOver=!1,z.settings.muteClipAudio=!1),S&&(z.isBrandOutro=!0,z.settings.voiceOver=!1,z.settings.muteClipAudio=!1),_.splice(n,0,z),_=_.map((function(e,t){if("Outro Scene"==e.sceneId||"Custom Intro Scene"==e.sceneId)return e;var n=I.indexOf(e.sceneId);return e.sceneId=t+1,n>=0&&(I[n]=e.sceneId),e})),q=T.length,Q={timePerFrame:M,scenePosition:R,totalSentencesWithSubScenes:q,subSentencesArray:T,imageURL:E,imageAssests:A,summaryJsonText:_,refreshEditScene:!w,refreshAllStatement:!Z,refreshAllScenePanel:!k,currentActiveDiv:D.state.currentActiveDiv+1,isOpenTextEditor:c,isAnyChange:!c,durationUpdatedScenes:{loading:!1,sceneIds:V,sceneIndices:B,isSceneDeleted:null===(v=D.state.durationUpdatedScenes)||void 0===v?void 0:v.isSceneDeleted,updatedSceneDuration:I}},e.next=55,D.setState(Q);case 55:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o){return e.apply(this,arguments)}}(),D.insertSubsceneBefore=function(e,t,n){var r=(0,o.Z)(D.state.subSentencesArray),s=(0,o.Z)(D.state.summaryJsonText),i=D.state.logoImage,c=D.state.logoLocation,l=D.state.refreshEditScene,u=D.state.refreshAllStatement,d=D.state.refreshAllScenePanel,p=r[e-1].AllSubSentences;p.splice(n-1,0,"");for(var h={},m=0;m<r.length;m++)r[m].isActive&&(r[m]=(0,a.Z)((0,a.Z)({},r[m]),{},{isActive:!1})),r[m].sceneId==t&&(h=r[m].settings,r[m].AllSubSentences=(0,o.Z)(p));var g,f=(0,Y.Z)(),v={sentence:"",subSentences:"",sceneId:t,subSceneId:n,AllSubSentences:(0,o.Z)(p),keywords:(0,o.Z)(r[e-1].keywords),isDeleted:!1,isNew:!0,isOpenTextEditor:!0,settings:O().isEmpty(h)?(0,a.Z)({},D.state.defaultSceneSettings):(0,a.Z)({},h),isNewSubScene:!0,isActive:!0,showLogo:r[e-1].showLogo,logoImage:i,logoLocation:c,uuid:f},x=D.getSummaryFromGivenSubSentenceSceneId(t),S=x.summary,y=x.index,b={};D.copyTextFormatting(r[e-1],b,{},!1,["displayItems"]),g=D.ExtractTextFormatFromBrand(b,g),v=(0,a.Z)((0,a.Z)({},v),b),g&&(v.displayItems=[],v.displayItems.push(g)),s[y]=(0,a.Z)((0,a.Z)({},S),{},{format:(0,o.Z)(S.format)}),g&&(b.displayItems=[],b.displayItems.push(g)),s[y].format.splice(n-1,0,b),s[y].uuidArray.splice(n-1,0,f),v=(0,a.Z)((0,a.Z)({},v),b),s[y].subsentences=(0,o.Z)(p),r.splice(e-1,0,v);var j=(0,o.Z)(D.state.timePerFrame);j.splice(e-1,0,5);var w=1;for(m=0;m<r.length;m++)r[m].sceneId===t&&(r[m].subSceneId=w,w++);D.setShowSceneNumbersInSceneArray(D.state.summaryJsonText,r,e-1),D.setState({timePerFrame:j,subSentencesArray:r,summaryJsonText:s,refreshEditScene:!l,refreshAllStatement:!u,refreshAllScenePanel:!d})},D.InsertNewSubScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=(0,o.Z)(D.state.subSentencesArray),c=(0,o.Z)(D.state.summaryJsonText),l=D.state.logoImage,u=D.state.logoLocation,d=D.state.refreshEditScene,p=D.state.refreshAllStatement,h=D.state.refreshAllScenePanel,(m=s[t-1].AllSubSentences).splice(r,0,""),g={},f=0;f<s.length;f++)s[f].isActive&&(s[f]=(0,a.Z)((0,a.Z)({},s[f]),{},{isActive:!1})),s[f].sceneId==n&&(g=s[f].settings,s[f].AllSubSentences=(0,o.Z)(m));for(v=(0,Y.Z)(),x={sentence:"",subSentences:"",sceneId:n,subSceneId:r+1,AllSubSentences:(0,o.Z)(m),keywords:(0,o.Z)(s[t-1].keywords),isDeleted:!1,isNew:!0,isOpenTextEditor:!0,settings:O().isEmpty(g)?(0,a.Z)({},D.state.defaultSceneSettings):(0,a.Z)({},g),isNewSubScene:!0,isActive:!0,showLogo:s[t-1].showLogo,logoImage:l,logoLocation:u,uuid:v},S=D.getSummaryFromGivenSubSentenceSceneId(n),y=S.summary,b=S.index,j={},D.copyTextFormatting(s[t-1],j,{},!1,["displayItems"]),w=D.ExtractTextFormatFromBrand(j,w),x=(0,a.Z)((0,a.Z)({},x),j),w&&(x.displayItems=[],x.displayItems.push(w)),c[b]=(0,a.Z)((0,a.Z)({},y),{},{format:(0,o.Z)(y.format)}),w&&(j.displayItems=[],j.displayItems.push(w)),c[b].format.splice(r,0,j),c[b].uuidArray.splice(r,0,v),x=(0,a.Z)((0,a.Z)({},x),j),c[b].subsentences=(0,o.Z)(m),s.splice(t,0,x),(Z=(0,o.Z)(D.state.timePerFrame)).splice(t,0,5),k=1,f=0;f<s.length;f++)s[f].sceneId===n&&(s[f].subSceneId=k,k++);return D.setShowSceneNumbersInSceneArray(D.state.summaryJsonText,s,t-1),e.next=33,D.setState({timePerFrame:Z,subSentencesArray:s,summaryJsonText:c,refreshEditScene:!d,refreshAllStatement:!p,refreshAllScenePanel:!h,currentActiveDiv:D.state.currentActiveDiv+1});case 33:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.reorderScene=function(e,t){var n,r,s,a,i,c,l,u=t>e,d=(0,o.Z)(D.state.subSentencesArray),p=(0,o.Z)(D.state.imageURL),h=(0,o.Z)(D.state.imageAssests),m=(0,o.Z)(D.state.summaryJsonText),g=(0,o.Z)(D.state.timePerFrame),f=(0,o.Z)(D.state.scenePosition),v=null===(n=d[D.state.currentActiveDiv-1])||void 0===n?void 0:n.uuid,x=D.getSummaryFromGivenSubSentenceSceneId(e),S=x.index,y=D.getSummaryFromGivenSubSentenceSceneId(t),b=y.index,j=u?S:b,w=u?b:S,Z=m[j].sceneId;m.splice(S,1),m.splice(b,0,x.summary);for(var k=j;k<=w;k++)m[k].sceneId=Z,Z++;var C=p[S];p.splice(S,1),p.splice(b,0,C);var I=h[S];h.splice(S,1),h.splice(b,0,I);var T=d.findIndex((function(t){return t.sceneId===e})),E=d.findIndex((function(e){return e.sceneId===t}));E>T&&(E+=y.summary.subsentences.length);var A=d.slice(T,T+x.summary.subsentences.length);j=u?T:E,w=u?E:T+A.length;var _,R=d[j].sceneId;E>T&&(E-=A.length),d.splice(T,A.length),d.splice.apply(d,[E,0].concat((0,o.Z)(A))),f&&f.length>0&&(_=f.slice(T,T+A.length),f.splice(T,A.length),f.splice.apply(f,[E,0].concat((0,o.Z)(_))));for(var P=j;P<w;P++)P!==j&&1===d[P].subSceneId&&R++,d[P].sceneId=R,f[P]&&(f[P].SceneId=d[P].sceneId,f[P].SubSceneId=d[P].subSceneId);var N=g.slice(T,T+A.length),O=(null===(r=D.state.durationUpdatedScenes)||void 0===r?void 0:r.sceneIds)||[],U=(null===(s=D.state.durationUpdatedScenes)||void 0===s?void 0:s.sceneIndices)||[],L=(null===(a=D.state.durationUpdatedScenes)||void 0===a?void 0:a.updatedSceneDuration)||[];g.splice(T,A.length),g.splice.apply(g,[E,0].concat((0,o.Z)(N)));var F=U.indexOf(T),V=U.indexOf(E);O.includes(e)?U[F]=E:O.push(e);var B=L.indexOf(e),M=L.indexOf(t);B>=0&&(L[B]=t),M>=0&&(L[M]=e),O.includes(t)?U[V]=T:O.push(t),U.includes(T)||U.push(T),U.includes(E)||U.push(E),D.setShowSceneNumbersInSceneArray(m,d);var G=d.findIndex((function(e){return e.uuid==v}))+1;D.setState({subSentencesArray:d,imageURL:p,imageAssests:h,summaryJsonText:m,timePerFrame:g,scenePosition:f,isAnyChange:!0,setActiveDivReorder:G,durationUpdatedScenes:{loading:!1,sceneIds:O,sceneIndices:U,isSceneDeleted:null===(i=D.state.durationUpdatedScenes)||void 0===i?void 0:i.isSceneDeleted,updatedSceneDuration:(null===(c=D.state)||void 0===c||null===(l=c.durationUpdatedScenes)||void 0===l?void 0:l.updatedSceneDuration)||[]}},(function(){D.state.setActiveDivReorder&&D.state.currentActiveDiv!=D.state.setActiveDivReorder&&(D.changeActiveDiv(D.state.setActiveDivReorder),D.setState({setActiveDivReorder:void 0}))}))},D.DeleteMultipleScenes=function(){var e,t=(0,o.Z)(D.state.subSentencesArray),n=(0,o.Z)(D.state.imageURL),r=(0,o.Z)(D.state.imageAssests),s=(0,o.Z)(D.state.summaryJsonText),i=(0,o.Z)(D.state.timePerFrame),c={},l=0,u=t.filter((function(e){return e.isActive}));if(t.length!==u.length&&1!==t.length){u.forEach((function(u){var d=u.sceneId,p=u.subSceneId,h=u.AllSubSentences,m=u.uuid;if(u.AllSubSentences.length>1){var g=h.length-p;g>0&&(g+=d);var f=D.DeleteSubScene(g,t,s,i,m),v=f.sceneArray,x=f.summaryArray,S=f.activeSceneIndex,y=f.durationUpdatedScenes,b=f.timePerFrame;t=(0,o.Z)(v),s=(0,o.Z)(x),l=S,c=(0,a.Z)((0,a.Z)({},c),y),i=(0,o.Z)(b)}else{var j=D.DeleteCompleteScene(t,n,r,s,i,c,m),w=j.sceneArray,Z=j.scenePositions,k=j.imageArray,C=j.summaryArray,I=j.imageAssests,T=j.activeSceneIndex,E=j.durationUpdatedScenes,A=j.timePerFrame;t=(0,o.Z)(w),s=(0,o.Z)(C),n=(0,o.Z)(k),r=(0,o.Z)(I),l=T,c=(0,a.Z)((0,a.Z)({},c),E),i=(0,o.Z)(A),e=(0,o.Z)(Z)}})),t.length>=1&&0===l&&(l=1);var d={totalSentencesWithSubScenes:t.length,subSentencesArray:t,imageURL:n,summaryJsonText:s,refreshEditScene:!D.state.refreshEditScene,refreshAllStatement:!D.state.refreshAllStatement,refreshAllScenePanel:!D.state.refreshAllScenePanel,imageAssests:r,isAnyChange:!0,currentActiveDiv:isNaN(l)?1:l,durationUpdatedScenes:c,timePerFrame:i};e&&(d.scenePosition=e),D.setState(d)}},D.refreshEditScene=function(){D.setState({refreshEditScene:!D.state.refreshEditScene})},D.refreshAllScene=function(){D.setState({refreshAllScene:!D.state.refreshAllScene})},D.UpdateAllScene=function(){D.refreshAllScene()},D.refreshAllScenePanel=function(){D.setState({refreshAllScenePanel:!D.state.refreshAllScenePanel})},D.UpdateAllScenePanel=function(){D.refreshAllScenePanel()},D.refreshVisualLibrary=function(){D.setState({refreshVisualLibrary:!D.state.refreshVisualLibrary})},D.UpdateVisualLibrary=function(){D.refreshVisualLibrary()},D.refreshImageFavourite=function(){D.setState({refreshImageFavourite:!D.state.refreshImageFavourite})},D.UpdateImageFavourite=function(){D.refreshImageFavourite()},D.refreshImageRecent=function(){D.setState({refreshImageRecent:!D.state.refreshImageRecent})},D.UpdateImageRecent=function(){D.refreshImageRecent()},D.setFavouritesOnTracks=function(){D.getAudioFavouritesAndRecent("",function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=[],s=0;s<t.length;s++)"favorite"==(a=t[s]).category&&"track"==a.type&&n.push(a),"recent"==a.category&&"track"==a.type&&r.push(a);D.setState({favouriteTracks:n,recent:r}),(r=r.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))).length>0&&!D.state.loadProject&&"transcribe"!=D.state.source&&"visuals"!=D.state.source?(document.getElementById("myMusicTrackPlay").src=r[0].url,document.getElementById("myAudioPlay").src=r[0].url,document.getElementById("myPreviewAudioPlayForEdit").src=r[0].url,be.Z.setItem("activeTrack",r[0].url),be.Z.setItem("trackType",r[0].type),be.Z.setItem("trackId",r[0].trackId),be.Z.setItem("trackName",r[0].name),D.setState({trackName:r[0].name,trackId:r[0].trackId,trackType:r[0].type,activeTrack:r[0].url})):be.Z.getItem("activeTrack")&&""!==be.Z.getItem("activeTrack")&&null!==be.Z.getItem("activeTrack")&&!D.state.loadProject&&(document.getElementById("myMusicTrackPlay").src=be.Z.getItem("activeTrack"),document.getElementById("myAudioPlay").src=be.Z.getItem("activeTrack"),document.getElementById("myPreviewAudioPlayForEdit").src=be.Z.getItem("activeTrack"),D.setState({trackName:be.Z.getItem("trackName"),trackId:be.Z.getItem("trackId"),trackType:be.Z.getItem("trackType"),activeTrack:be.Z.getItem("activeTrack")})),D.refreshFavourite(),D.refreshRecent(),D.refreshVoiceOver();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},D.findProjectAudios=function(){D.setState({fetchingTracks:!0});var e=D.state.originalText&&D.state.originalText.replace(/<[^>]*>?/gm," ").replace(/\s+/g," ");D.props.findProjectMusic(D.state.project_id,e)},D.getProjectAudios=function(){D.setState({fetchingTracks:!0}),D.props.getProjectMusic(D.state.project_id)},D.getSavedAssets=function(e){for(var t=[],n=[],s=0;s<D.state.summaryJsonText.length;s++)e&&e.result&&e.result[s]&&n.push(e.result[s].data);for(var a=[],i=0,o=n;i<o.length;i++){var c,l=o[i],u=(0,r.Z)(l);try{var d=function(){var e=c.value;"image"===e.media_type?!1===t.some((function(t){return(0,ye.QD)(t.thumb)===(0,ye.QD)(e.thumb)}))&&t.push(e):"video"===e.media_type&&!1===t.some((function(t){return(0,ye.QD)(t.preview)===(0,ye.QD)(e.preview)}))&&t.push(e)};for(u.s();!(c=u.n()).done;)d()}catch(e){u.e(e)}finally{u.f()}a.push([])}D.setState({allSummaryAssets:t})},D.fetchAllVisuals=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.props.searchAllAssets(t||D.state.requestBody,D.state.aspectRatioClass,D.state.project_id);case 3:if(!1!==t.options.auto_visual_selection){e.next=5;break}return e.abrupt("return",!0);case 5:if(n=D.props.allVideosAndImages,c=null===(r=n)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.result,"success"==(null===(a=n)||void 0===a?void 0:a.status)&&c){e.next=11;break}o=!0,e.next=23;break;case 11:l=0;case 12:if(!(l<(null==c?void 0:c.length))){e.next=23;break}if((p=null===(u=c[l])||void 0===u||null===(d=u.data)||void 0===d?void 0:d[0])&&("image"!==p.media_type||p.large)&&("video"!==p.media_type||p.preview)){e.next=18;break}o=!0,e.next=20;break;case 18:return o=!1,e.abrupt("break",23);case 20:l++,e.next=12;break;case 23:if(!o){e.next=27;break}return setTimeout((function(){D.setState({openVisualsFetchErrorDialog:!0,requestBody:t})}),2e3),w().getInstance().logEvent("fetch-visuals-error",{"project-id":D.state.project_id,"asset-data":c,"response-status":null===(h=n)||void 0===h?void 0:h.status}),e.abrupt("return",!1);case 27:e.next=34;break;case 29:return e.prev=29,e.t0=e.catch(0),setTimeout((function(){D.setState({openVisualsFetchErrorDialog:!0,requestBody:t})}),2e3),w().getInstance().logEvent("fetch-visuals-error",{"project-id":D.state.project_id,error:e.t0}),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),D.getSummaryImages=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,s,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,Z,k,C,I,T,E,A,_,R,P,N,O,U,L,F,V,B,M,G,W,z;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="transcribe"===D.state.source,s=D.state.summaryJsonText.map((function(e,r){var s;s=t?e.keywords:D.state.url?e.keywords&&e.keywords.length>0&&"$#ArticleURLTitleAddedDynamic$#"===e.keywords[0]?e.keywords:[]:e.keywords;var a={text:0===e.subsentences.length?e.sentence?e.sentence.replace(/<[^>]*>?/gm," ").replace(/\s+/g," "):"":e.subsentences.reduce((function(e,t){return t||(t=""),e+" "+(t?t.replace(/<[^>]*>?/gm," ").replace(/\s+/g," "):"")}),""),keywords:s,image:t?"":e.image};return n&&e.transcription&&(a.transcription=e.transcription,a.segments=e.settings.videoOptions.segments),a})),c=D.getEstimatedTime(),l=s.filter((function(e){return!e.image||n&&e.transcription})).map((function(e,t){var r=(0,a.Z)({},e);return delete r.image,r.keywords&&r.keywords.length>0&&"$#ArticleURLTitleAddedDynamic$#"===r.keywords[0]&&(r.keywords=[]),r.duration=c&&c.timeArray&&c.timeArray[t]?c.timeArray[t]:5,n&&e.transcription&&(r.duration=e.segments.reduce((function(e,t){return e+(t.end-t.start)}),0)),r})),u="",s=n?s.map((function(e){return u+=""===u?e.text:" "+e.text,e})):s.map((function(e){return e.keywords&&e.keywords.length>0&&"$#ArticleURLTitleAddedDynamic$#"===e.keywords[0]&&(e.text=e.keywords[0]),t&&(u+=""===u?e.text:" "+e.text),e})),d=l.some((function(e){return e.keywords&&e.keywords.length&&e.keywords.length>0})),D.setState({isShowOverlay:!0}),p={},h=!1,!n){e.next=25;break}if(D.state.isPodcast){e.next=17;break}return p={media_url:D.state.url,scenes:l},e.next=15,D.props.getTranscriptionScenes(p);case 15:e.next=23;break;case 17:return p={fullText:u,summary:l,options:{auto_visual_selection:!0,auto_highlight:!0}},D.state.transcriptionLanguage&&(m=je.Kb.find((function(e){return e.value===D.state.transcriptionLanguage})),p.language=m&&m.code||"en"),h=!0,e.next=22,D.fetchAllVisuals(p);case 22:e.sent;case 23:e.next=33;break;case 25:if(p={fullText:t?u:D.state.originalText.replace(/<[^>]*>?/gm," ").replace(/\s+/g," "),summary:l,options:{auto_visual_selection:!0,auto_highlight:!0}},D.props.location&&D.props.location.state&&(!1===D.props.location.state.autoVisualSelection||!1===D.props.location.state.autoHighlightKeywords)&&(p.options.auto_visual_selection=D.props.location.state.autoVisualSelection,p.options.auto_highlight=D.props.location.state.autoHighlightKeywords),D.state.scriptLanguage&&(p.language=D.state.scriptLanguage),!p.options.auto_visual_selection&&!p.options.auto_highlight){e.next=32;break}return e.next=31,D.fetchAllVisuals(p);case 31:e.sent;case 32:p.options.auto_visual_selection&&p.options.auto_highlight&&(h=!0);case 33:if("success"!==(g=D.props.allVideosAndImages).status&&!n){e.next=96;break}return D.setState({findingVisualsMessage:"Creating scenes..."}),e.next=39,(0,ye._v)(100);case 39:for(f=g.data||[],e.prev=40,D.setState({article_category:f.category}),v=[],x=t?{}:D.state.allAssets,S=t?[]:(0,o.Z)(D.state.allSummaryAssets),y=(0,o.Z)(D.state.summaryJsonText),b=0;b<l.length;b++)j=f.result[b].data,v.push(j);if(Z=(0,o.Z)(D.state.subSentencesArray),!p.options){e.next=61;break}k=f.result,C=0,I=0;case 52:if(!(I<k.length)){e.next=61;break}if(y[C]){e.next=55;break}return e.abrupt("break",61);case 55:if((T=k[I].keywords)&&T.length>0){for(y[C].keywords=y[C].keywords.concat(T),y[C].sentence=re.Z.highlightKeywords(y[C].sentence,y[C].keywords),E=0;E<y[C].subsentences.length;E++)y[C].subsentences[E]=re.Z.highlightKeywords(y[C].subsentences[E],y[C].keywords);for(Z[C].keywords=Z[C].keywords.concat(T),Z[C].sentence=re.Z.highlightKeywords(Z[C].sentence,Z[C].keywords),Z[C].subSentences=Z[C].sentence,A=0;A<Z[C].AllSubSentences.length;A++)Z[C].AllSubSentences[A]=re.Z.highlightKeywords(Z[C].AllSubSentences[A],Z[C].keywords)}C++;case 58:I++,e.next=52;break;case 61:for(_=[],R=0,P=v;R<P.length;R++){N=P[R],O=[],U=(0,r.Z)(N);try{for(F=function(){var e=L.value;"image"===e.media_type?(O.push((0,a.Z)({url:e.large},e)),x[e.large]=e,!1===S.some((function(t){return(0,ye.QD)(t.thumb)===(0,ye.QD)(e.thumb)}))&&S.push(e)):"video"===e.media_type&&(O.push((0,a.Z)({url:e.preview},e)),x[e.preview]=e,!1===S.some((function(t){return(0,ye.QD)(t.preview)===(0,ye.QD)(e.preview)}))&&S.push(e))},U.s();!(L=U.n()).done;)F()}catch(e){U.e(e)}finally{U.f()}_.push(O)}return e.next=65,D.setState({isShowOverlay:!1,allAssets:x,allSummaryAssets:S,summaryJsonText:y,subSentencesArray:Z,projectMetaData:(0,a.Z)((0,a.Z)({},D.state.projectMetaData),{},{sentencesIncludeKeywords:!0})});case 65:V=0,B=!1,M=0;case 68:if(!(M<s.length)){e.next=85;break}return M===s.length-1&&(B=!0),G=M+1,D.setState({findingVisualsMessage:"Creating scene ".concat(G," out of ").concat(s.length," scenes")}),e.next=74,(0,ye._v)(100);case 74:if(!s[M].image||t){e.next=79;break}return e.next=77,D.showSummaryImages(s[M],G,y[M].subsentences.length,V,[],B,!1,d,h);case 77:e.next=82;break;case 79:return e.next=81,D.showSummaryImages(s[M],G,y[M].subsentences.length,V,_,B,!1,d,h);case 81:V++;case 82:M++,e.next=68;break;case 85:W=D.setIntroVideoDurationInState(!0),z=D.setOutroVideoDurationInState(!0),W||z?D.setState({reFetchForAspectRatio:!1}):(D.getEstimatedTime(),D.setState({isAnyChange:!0,reFetchForAspectRatio:!1})),e.next=94;break;case 90:e.prev=90,e.t0=e.catch(40),D.setState({isShowOverlay:!1}),w().getInstance().logEvent("apply-visuals-error",{"project-id":D.state.project_id,error:e.t0});case 94:e.next=97;break;case 96:D.setState({isShowOverlay:!1});case 97:if(!D.state.showInitialLoadingBar){e.next=103;break}return D.setState({findingVisualsMessage:"Its almost done. Please wait..."}),e.next=101,(0,ye._v)(100);case 101:D.setState({loadTemplatesMainClass:!0}),setTimeout((function(){D.props.location.state.projectDetails.template||D.props.location.state.projectDetails.templateMetaData||(D.setState({showInitialLoadingBar:!1}),D.props.resetAssetsSearchStatus())}),1e3);case 103:D.triggerAppcuesEvent("storyboard-opened-new-project");case 104:case"end":return e.stop()}}),e,null,[[40,90]])})));return function(t){return e.apply(this,arguments)}}(),D.setIntroVideoDurationInState=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".intro-scene-video",r=0,s=setInterval((function(){(t=document.querySelector(n))&&!t.ondurationchange&&(t.ondurationchange=function(){var r=t.duration;if("Custom Intro Scene"!==D.state.summaryJsonText[0].sceneId||D.state.summaryJsonText[0].isUploadedVideo||(r=5),r&&r!=1/0&&"Custom Intro Scene"===D.state.summaryJsonText[0].sceneId){if(document.querySelector(n)){if(e){var s=(0,o.Z)(D.state.timePerFrame);s.splice(0,1,r),D.setState({timePerFrame:s})}}else r=0;D.setState({defaultCustomIntroTimeInSec:r,defaultCustomIntroTimeInMiniSec:1e3*r},(function(){D.getEstimatedTime(),e&&D.setState({isAnyChange:!0})}))}}),(t||r>5)&&clearInterval(s),r++}),1e3);return t},D.setOutroTime=function(e,t){if(e){var n=(0,o.Z)(D.state.timePerFrame);if(!t||"Outro Scene"!==D.state.subSentencesArray[D.state.subSentencesArray.length-1].showSceneNumber)return;n.length===D.state.subSentencesArray.length?n.splice(n.length-1,1,e):n.length===D.state.subSentencesArray.length-1&&n.push(e);var r=t?{timePerFrame:n}:{};D.setState((0,a.Z)((0,a.Z)({},r),{},{defaultOutroTimeInSec:e,defaultOutroTimeInMiniSec:1e3*e}),(function(){D.getEstimatedTime(),t&&D.setState({isAnyChange:!0})}))}},D.setOutroVideoDurationInState=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:".outro-scene-video",s=0,a=setInterval((0,c.Z)((0,i.Z)().mark((function e(){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=document.querySelector(n))||!D.getOutroVideoDurationPromise){e.next=6;break}return e.next=4,D.getOutroVideoDurationPromise;case 4:o=e.sent,r.duration&&r.duration!=1/0&&D.setOutroTime(o,t);case 6:r&&!r.ondurationchange&&(r.ondurationchange=function(){"Outro Scene"===D.state.summaryJsonText[D.state.summaryJsonText.length-1].sceneId&&D.state.summaryJsonText[D.state.summaryJsonText.length-1].isUploadedVideo?r.duration&&r.duration!=1/0&&D.setOutroTime(r.duration,t):D.setOutroTime(5,t)}),(r||s>5)&&clearInterval(a),s++;case 9:case"end":return e.stop()}}),e)}))),1e3),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.setTimePerFrameArray=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.length>1&&void 0!==l[1]&&l[1],t&&t.length>0)for(n=0;n<t.length;n++)t[n]||(t[n]=5);else if(D.state.summaryJsonText)for(t=[],r=0;r<D.state.summaryJsonText.length;r++)for(s=D.state.summaryJsonText[r],a=0;a<s.subsentences.length;a++)o=s.subsentences[a],(c=Math.ceil(o.length*aa*2)/2)<5&&(c=5),t.push(c);return e.next=4,D.setState({timePerFrame:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.getTranscriptionScenesVisuals=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s,c,l,u,d,p,h,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],r=D.state.summaryJsonText.reduce((function(e,r){return r.transcription&&(e.push({segments:[{start:r.settings.videoOptions.segments[0].start,end:r.settings.videoOptions.segments[0].end}]}),t.push(r),n.push(r)),e}),[]),s={media_url:D.state.url,scenes:r},e.next=6,D.props.getTranscriptionScenes(s);case 6:if("success"===(c=D.props.allVideosAndImages).status){l=c.data||{result:[]};try{for(D.setState({article_category:l.category}),u=D.state.allAssets,d=(0,o.Z)(D.state.allSummaryAssets),p=[],h=0;h<l.result.length;h++)m=l.result[h].data[0],u[m.large]=m,d.push(m),p.push((0,a.Z)({url:m.large},m));D.setState({allAssets:u,allSummaryAssets:d}),D.showTranscriptonSceneVisuals(D.state.summaryJsonText,p),D.setState({isAnyChange:!0,reFetchForAspectRatio:!1,isShowOverlay:!1})}catch(e){D.setState({isShowOverlay:!1})}D.setIntroVideoDurationInState(!0),D.setOutroVideoDurationInState(!0)}else D.setState({isShowOverlay:!1});D.state.showInitialLoadingBar&&((D.props.location.state.projectDetails.template||D.props.location.state.projectDetails.templateMetaData)&&D.setState({loadTemplatesMainClass:!0}),setTimeout((function(){D.props.location.state.projectDetails.template||D.props.location.state.projectDetails.templateMetaData||D.setState({showInitialLoadingBar:!1}),D.props.resetAssetsSearchStatus()}),1e3)),D.triggerAppcuesEvent("storyboard-opened-from-step2");case 11:case"end":return e.stop()}}),e)}))),D.getNewSceneImages=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,s,o){var c,l,u,d,p,h,m,g,f,v,x,S,y,b,j;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=D.state.originalText.replace(/<[^>]*>?/gm," ").replace(/\s+/g," "),l=t.replace(/<[^>]*>?/gm," ").replace(/\s+/g," "),""===c&&(c=l),u={fullText:c,summary:[{text:l,keywords:o}]},D.state.scriptLanguage&&(u.language=D.state.scriptLanguage),D.setState({showLoader:!0}),e.next=8,D.props.searchAllAssets(u,D.state.aspectRatioClass,D.state.project_id);case 8:if("success"===(d=D.props.allVideosAndImages).status){p=d.data;try{for(h=[],m=D.state.allAssets,h.push(p.result[0].data),g=[],f=0,v=h;f<v.length;f++){x=v[f],S=[],y=(0,r.Z)(x);try{for(y.s();!(b=y.n()).done;)"image"===(j=b.value).media_type?(S.push((0,a.Z)({url:j.large},j)),m[j.large]=j):"video"===j.media_type&&(S.push((0,a.Z)({url:j.preview},j)),m[j.preview]=j)}catch(e){y.e(e)}finally{y.f()}g.push(S)}w().getInstance().logEvent("search-all-assets-response",{}),D.setState({isShowOverlay:!1,showLoader:!1,allAssets:m}),D.showSummaryImages({text:t,image:""},n,s,0,g,!0,!0)}catch(e){}}else D.setState({isShowOverlay:!1,showLoader:!1});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),D.updateAllAssets=function(e){var t=Object.assign(D.state.allAssets,e);D.setState({allAssets:t})},D.getAudioFavouritesAndRecent=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,a,o,c,l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D.state.username){e.next=5;break}return e.next=3,D.props.getAudioFavAndRecents(D.state.username);case 3:if("success"===D.props.audioFavsAndRecentStatus)if(r=D.props.audioFavsAndRecent,n)n(r);else{for(s=[],a=[],o=[],c=0;c<r.length;c++)"favorite"==(l=r[c]).category&&s.push(l),"recent"==l.category&&a.push(l),"upload"==l.category&&o.push(l);for(u=[],d=[],p=0;p<s.length;p++)s[p].type===t&&u.push(s[p]);for(h=0;h<a.length;h++)a[h].type===t&&d.push(a[h]);D.setState({audioFavourites:u,audioRecent:d,recentTracks:d,uploadAudio:o,lists:D.props.audioFavsAndRecent,favourites:s,recents:a})}case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.updateRecentListForMarkActive=function(e){D.setState({recentTracks:e})},D.showSummaryImages=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a){var c,l,u,d,p,h,m=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=m.length>5&&void 0!==m[5]&&m[5],l=m.length>6&&void 0!==m[6]&&m[6],u=m.length>7&&void 0!==m[7]&&m[7],d=m.length>8?m[8]:void 0,p=D.state.subSentencesArray[n-1],!(t.image||p&&p.isCustomImage||"Custom Intro Scene"==p.showSceneNumber)){e.next=15;break}if(""!==D.state.imageURL[n-1]){e.next=11;break}return e.next=9,D.hideShowOverlay(n,je.pS,c);case 9:e.next=13;break;case 11:return e.next=13,D.hideShowOverlay(n,D.state.imageURL[n-1],c,a[s],!0,l);case 13:e.next=27;break;case 15:if(""===D.state.imageURL[n-1]||D.state.imageURL[n-1]===je.pS||D.state.imageURL[n-1]===je.Ty||D.state.reFetchForAspectRatio){e.next=20;break}return e.next=18,D.hideShowOverlay(n,D.state.imageURL[n-1],c,a[s],!1,l);case 18:e.next=27;break;case 20:return e.prev=20,e.delegateYield((0,i.Z)().mark((function e(){var p,m,g,f,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p=a[s],m=s,g=!1,f=0;case 4:if(!(!1===g&&m>-1&&m<a.length)){e.next=25;break}h=0;case 6:if(!(h<p.length)){e.next=22;break}if(!D.state.imageURL.some((function(e){return(0,ye.QD)(e)===(0,ye.QD)(p[h].url)}))||D.state.imageURL.findIndex((function(e){return(0,ye.QD)(e)===(0,ye.QD)(p[h].url)}))===parseInt(n-1)){e.next=11;break}return e.abrupt("continue",19);case 11:return(v=(0,o.Z)(D.state.selectedKeywordForUnderline))[n-1]=t.text,D.setState({selectedKeywordForUnderline:v}),e.next=16,D.hideShowOverlay(n,p[h].url,c,p[h],!0,l);case 16:return d&&D.addKeywords(n,p[h],u),g=!0,e.abrupt("break",22);case 19:h++,e.next=6;break;case 22:!1===g&&(0==f?(m-=1)>-1?p=a[m]:s<a.length&&(f=1,(m=s+1)<a.length&&(p=a[m])):(m+=1)<a.length&&(p=a[m])),e.next=4;break;case 25:!1===g&&D.NoImageFind(n,r,c);case 26:case"end":return e.stop()}}),e)}))(),"t0",22);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(20),D.NoImageFind(n,r,c);case 27:case"end":return e.stop()}}),e,null,[[20,24]])})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),D.addKeywords=function(e,t,n){if(D.state.url||!1===n){var s,i=!1,o=(0,r.Z)(D.state.summaryJsonText);try{for(o.s();!(s=o.n()).done;){var c=s.value;if(c.keywords&&c.keywords.some((function(e){return e.toLowerCase()===t.keyword.toLowerCase()}))){i=!0;break}}}catch(e){o.e(e)}finally{o.f()}if(D.state.summaryJsonText[e-1].keywords&&D.state.summaryJsonText[e-1].keywords.some((function(e){return"$#ArticleURLTitleAddedDynamic$#"===e}))&&(i=!0),!1===i){var l=D.state.summaryJsonText,u=(0,a.Z)({},l[e-1]);u.keywords||(u.keywords=[]),t.keyword&&u.keywords.push(t.keyword),l[e-1]=u,D.setState({summaryJsonText:l})}}},D.playScenePreviewNew=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,a,o,c,l=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(l.length>2&&void 0!==l[2])||l[2],s=l.length>3&&void 0!==l[3]&&l[3],a=l.length>4&&void 0!==l[4]&&l[4],t?(c=D.state.subSentencesArray.filter((function(e){return 1==e.isActive})),a=c[0].recordedAudio&&""!=c[0].recordedAudio||c[0].audioSegments&&c[0].audioSegments.length>0&&c[0].audioSegments[0]&&c[0].audioSegments[0].recordedAudio&&""!=c[0].audioSegments[0].recordedAudio||a):(o=D.state.subSentencesArray.filter((function(e){return 1==e.isActive})),t=o[0].sceneId,n=o[0].showSceneNumber,a=o[0].recordedAudio&&""!=o[0].recordedAudio||o[0].audioSegments&&o[0].audioSegments.length>0&&o[0].audioSegments[0]&&o[0].audioSegments[0].recordedAudio&&""!=o[0].audioSegments[0].recordedAudio||a),e.next=6,D.OpenCloseVideoPreviewNew(null,t,n,r,!0,s,!1,a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.OpenCloseVideoPreviewNew=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,o,l,u,d,p,h,v,x,S,y,b,j,Z,k,C=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=!(C.length>3&&void 0!==C[3])||C[3],a=C.length>4&&void 0!==C[4]&&C[4],o=C.length>5&&void 0!==C[5]&&C[5],l=C.length>6&&void 0!==C[6]&&C[6],u=C.length>7&&void 0!==C[7]&&C[7],D.cancelIntervalTimers(),d=.9*window.innerHeight-200,p=parseInt(D.state.VideoRes),"nine-sixteen"!==D.state.aspectRatioClass&&p&&d>p&&(d=p),h=Math.floor(d*D.state.aspectRatioFractionValue),v=(v=(window.innerWidth-h-40)/2)<0?0:v,x=(x=(window.innerHeight-d-170)/2)<0?0:x,(0,ye.we)(D.state.user?D.state.user.username:""),y=(0,ue.jsx)("div",{className:"preview upgrade-to-remove",children:(0,ue.jsxs)(F.Z,{sx:{backgroundColor:"rgba(0,0,0,0.8)",display:"flex"},children:[(0,ue.jsx)(m.Z,{children:"Stock visual watermarks and audio issues in this preview will not be present in the final video."}),(0,ue.jsxs)(g.Z,{children:[(0,ue.jsx)(f.Z,{href:"https://kb.pictory.ai/en/articles/8468941-why-are-there-stock-library-watermarks-or-audio-issues-in-the-preview",target:"_blank",sx:{padding:"0 10px !important",margin:"0 !important",fontSize:"text_sm",fontWeight:"text_sm !important",textDecoration:"underline",color:"grey.0"},children:"What does this mean?"}),(0,ue.jsx)(f.Z,{href:"javascript:void(0)",sx:{padding:"0 10px !important",margin:"0 !important",fontSize:"text_sm",fontWeight:"text_sm !important",textDecoration:"underline",color:"grey.0"},onClick:function(){D.setState({previewAlert:null})},children:"Dismiss"})]})]})}),b=n?2:D.state.subSentencesArray.length>1?D.state.subSentencesArray.length:2,j=1e3,Z=100/b,D.timerId=setInterval((function(){Math.ceil(D.state.previewProgress+Z)<99?D.setState({previewProgress:D.state.previewProgress+Z}):Math.ceil(D.state.previewProgress+.5)<99?D.setState({previewProgress:D.state.previewProgress+.5}):(D.cancelIntervalTimers(),D.setState({previewReady:!0}))}),j),w().getInstance().logEvent("preview-clicked",{"article-link":D.state.url,"project-id":D.state.project_id}),k=!0,u||!l&&!a||(k=!1),n?D.setState({previewAlert:y,showPreviewProgress:k,previewProgress:0,generateCSV:!1},(0,c.Z)((0,i.Z)().mark((function e(){var t,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,D.generateVideoJSON(null,null,s,n,r,!0);case 4:p=e.sent,t=p.VideoCreationJson,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),D.setState({showPreviewProgress:!1});case 11:if(!D.state.showVoPopup&&!D.state.noAddonPopup){e.next=13;break}return e.abrupt("return");case 13:null==t||""===t?((0,Ze.x2)("Something went wrong. Try again"),D.setState({showPreviewProgress:!1})):k==D.state.showPreviewProgress&&D.setState({previewPlayerKey:D.state.aspectRatioValue+Date.now(),previewPlayerWidth:h,previewPlayerHeight:d,previewDefaultX:v,previewDefaultY:x,brandingWatermarkUrl:S,isTemplatePreview:o},(0,c.Z)((0,i.Z)().mark((function e(){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,!a||u){e.next=6;break}D.videoPreviewSingleSceneRef.current.LoadJsonResources(t,n),r=!0,e.next=10;break;case 6:return D.videoPreviewSingleSceneRef.current.LoadJsonResources(t,n),e.next=9,D.videoPreviewSingleSceneRef.current.WaitforResourceLoading(n);case 9:r=e.sent;case 10:D.videoPreviewSingleSceneRef.current.clearCanvas(),r?D.setState({showPreviewProgress:!1,showAutoSyncVoiceover:!1,showAutoSyncVoiceoverButtons:l,previewProgress:100,isNewPreviewPlaying:!0},(function(){w().getInstance().logEvent("preview-play-started",{}),D.videoPreviewSingleSceneRef.current.Play(n)})):(D.videoPreviewSingleSceneRef.current.props.hasVideoEndedNew&&D.videoPreviewSingleSceneRef.current.props.hasVideoEndedNew(!0),D.setState({showPreviewProgress:!1}));case 12:case"end":return e.stop()}}),e)}))));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))):D.setState({previewAlert:y,showPreviewProgress:k,previewProgress:0,generateCSV:!1},(function(){setTimeout((0,c.Z)((0,i.Z)().mark((function e(){var t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,D.generateVideoJSON(null,null,!0,n,r,!0);case 4:s=e.sent,t=s.VideoCreationJson,D.sharePreview(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),D.setState({showPreviewProgress:!1});case 12:if(!D.state.showVoPopup&&!D.state.noAddonPopup){e.next=14;break}return e.abrupt("return");case 14:null==t||""===t?((0,Ze.x2)("Something went wrong. Try again"),D.setState({showPreviewProgress:!1})):(D.state.showPreviewProgress||D.state.showAutoSyncVoiceover)&&D.setState({showPreviewProgress:!1,showAutoSyncVoiceover:!1,showAutoSyncVoiceoverButtons:l,previewProgress:100,previewPlayerKey:D.state.aspectRatioValue+Date.now(),previewPlayerWidth:h,previewPlayerHeight:d,previewDefaultX:v,previewDefaultY:x,brandingWatermarkUrl:S},(function(){D.videoPreviewRef.current.clearCanvas(),D.videoPreviewRef.current.LoadJsonResources(t),w().getInstance().logEvent("preview-play-started",{}),D.videoPreviewRef.current.Play(n)}));case 15:case"end":return e.stop()}}),e,null,[[1,9]])}))),500)}));case 25:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.closePreviewNew=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=D.videoPreviewSingleSceneRef)||void 0===t||null===(n=t.current)||void 0===n||n.pauseVideo(),null===(r=D.videoPreviewSingleSceneRef)||void 0===r||null===(s=r.current)||void 0===s||s.handleClose();case 2:case"end":return e.stop()}}),e)}))),D.pausePreview=(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=D.videoPreviewSingleSceneRef)||void 0===t||null===(n=t.current)||void 0===n||n.pauseVideo();case 1:case"end":return e.stop()}}),e)}))),D.ErrorFromPreview=function(e){w().getInstance().logEvent("preview-render-failed",e)},D.previewEnded=function(){D.setState({isNewPreviewPlaying:!1})},D.createTextAnimationContainer=function(e,t,n,r,s,a,i,o,c){var l=arguments.length>9&&void 0!==arguments[9]&&arguments[9],u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0,p=arguments.length>12?arguments[12]:void 0,h=D.state.animationTheme;i.fontSize=re.Z.convertPttoPx(i.fontSize)+"px",a&&(i={},h=te.Z);var m=document.createElement("div");if(m.classList.add("animation-container"),m.classList.add(h.className),m.classList.add(D.state.aspectRatioClass),m.style.width="".concat(s,"px"),m.style.height="".concat(r,"px"),m.style.fontSize="".concat(re.Z.convertPttoPx(n),"px"),m.style.paddingTop="0",m.style.position="absolute",m.style.zIndex=200,m=document.getElementsByTagName("body")[0].insertBefore(m,document.getElementsByTagName("body")[0].firstChild),l||D.createSentenceContainer(i,e,t,h,a,u,c,o,l,m,n),d&&d.length>0)for(var g=0;g<d.length;g++){var f=d[g];if("text"==f.type){var v=O().cloneDeep(f.itemStyleData);n=v.fontSize,p&&(n*=p),v.fontSize=re.Z.convertPttoPx(n)+"px",D.createSentenceContainer(v,f.textHtml,[],h,a,v.fullWidth,"",null,!1,m,n,f.id)}}return m},D.GetLines=function(e,t,n,r,s,a){D.createTextAnimationContainer(e,t,n,r,s,a)},D.onPreviewProgress=function(e){D.setState({previewProgress:e})},D.hidePreviewProgress=function(){D.setState({showAutoSyncVoiceover:!1,showPreviewProgress:!1,voiceOverErrorMsgStep2:"",previewProgress:0})},D.onClosePreviewProgress=function(){D.setState({showAutoSyncVoiceover:!1,showPreviewProgress:!1,voiceOverErrorMsgStep2:"",previewProgress:0,showPreview:!1,closePreviewFlag:Date.now()})},D.playMusic=function(e,t,n,r,s){s?D.setState({activeAudioTrack:t}):D.setState({activeAudioTrack:null});var a=(0,d.Z)(D);if(r.stopPropagation(),null==D.state.activeAudioTrack)document.getElementById("myMusicTrackPlay").src=e,document.getElementById("myMusicTrackPlay").currentTime=0,document.getElementById("myMusicTrackPlay").play(),document.getElementById("myMusicTrackPlay").addEventListener("ended",(function(e){a.setState({activeAudioTrack:null})}),!1);else{document.getElementById("myMusicTrackPlay").pause(),document.getElementById("myAudioPlay").pause(),document.getElementById("myVoiceOverAudioPlay").pause(),document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause();var i=document.getElementsByClassName("playStop"),o=i.length;o=(i=document.getElementsByClassName("favPlayStop")).length;for(var c=0;c<o;c++)i[c].className="favPlayStop fa fa-play";for(o=(i=document.getElementsByClassName("recentPlayStop")).length,c=0;c<o;c++)i[c].className="recentPlayStop fa fa-play";for(o=(i=document.getElementsByClassName("pausePreviewButton")).length,c=0;c<o;c++)i[c].className="pausePreviewButton icon-play-right";o=(i=document.getElementsByClassName("voiceOverMusicTrack")).length,t&&D.state.activeAudioTrack!==t&&(document.getElementById("myMusicTrackPlay").src=e,document.getElementById("myMusicTrackPlay").currentTime=0,document.getElementById("myMusicTrackPlay").play()),document.getElementById("myMusicTrackPlay").addEventListener("ended",(function(){a.setState({activeAudioTrack:null})}),!1),w().getInstance().logEvent("track-sample-played",{"track-name":n,"project-id":D.state.project_id})}},D.makeTrackActive=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s){var a,o,l,u=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=u.length>4&&void 0!==u[4]?u[4]:null,o=u.length>5&&void 0!==u[5]&&u[5],l=!(u.length>6&&void 0!==u[6])||u[6],(t!=be.Z.getItem("trackId")||o)&&(a&&a.stopPropagation(),D.setState({activeTrack:n,trackType:r,trackId:t,trackName:s,activeAudioTrack:null}),be.Z.setItem("trackType",r),be.Z.setItem("activeTrack",n),be.Z.setItem("trackId",t),be.Z.setItem("trackName",s),document.getElementById("myAudioPlay").src=n,document.getElementById("myMusicTrackPlay").src=n,document.getElementById("myPreviewAudioPlayForEdit").src=n,D.getAudioFavouritesAndRecent("",function(){var e=(0,c.Z)((0,i.Z)().mark((function e(r){var a,o,c,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=r.filter((function(e){return"track"===e.type&&"recent"===e.category})),o=0;o<a.length;o++)"track"===a[o].type&&(a[o].active=!1);if(c=a.findIndex((function(e){return e.trackId===t&&"track"===e.type&&"recent"===e.category})),u={},!(c<0)){e.next=9;break}u={id:(0,ye.DO)(),trackId:t,name:s,type:"track",url:n,category:"recent",cognito_id:D.state.username,date:new Date},a.splice(0,0,u),e.next=16;break;case 9:return d=a[c].id,a.splice(c,1),e.next=13,D.props.deleteAudioFavAndRecents({username:D.state.username,id:d});case 13:w().getInstance().logEvent("track-deselected",{"track-name":s,"project-id":D.state.project_id}),u={id:(0,ye.DO)(),trackId:t,name:s,type:"track",url:n,category:"recent",cognito_id:D.state.username,date:new Date},a.splice(0,0,u);case 16:return D.setState({recentTracks:a}),p={body:u},e.next=20,D.props.saveAudioFavAndRecents(p);case 20:"success"===D.props.saveAudioStatus&&(D.refreshFavourite(),D.refreshRecent(),D.setState({isAnyChange:!0}),1==l&&w().getInstance().logEvent("track-selected",{"track-name":s,"project-id":D.state.project_id}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),D.setFavouritesFromFavoritesTab=function(e){var t=(0,o.Z)(D.state.favouriteTracks);t.splice(t.findIndex((function(t){return t.trackId===e})),1),D.setState({favouriteTracks:t,updatedFromfavorite:!0})},D.resetUpdatedFrom=function(){D.setState({updatedFromfavorite:!1})},D.AddTrackToFavourite=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.stopPropagation(),D.getAudioFavouritesAndRecent("",function(){var e=(0,c.Z)((0,i.Z)().mark((function e(s){var o,c,l,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=s.filter((function(e){return"favorite"===e.category&&"track"===e.type})),c=0;c<o.length;c++)o[c].active=!1;if(!(o.findIndex((function(e){return e.trackId===t}))<0&&a)){e.next=12;break}return l={id:(0,ye.DO)(),name:n,trackId:t,type:"track",url:r,category:"favorite",cognito_id:D.state.username,date:new Date},u={body:l},o.splice(0,0,l),e.next=8,D.props.saveAudioFavAndRecents(u);case 8:"success"===D.props.saveAudioStatus&&(D.refreshFavourite(),D.refreshRecent(),D.setState({favouriteTracks:o}),w().getInstance().logEvent("track-favorited",{"track-name":n,"project-id":D.state.project_id})),e.next=20;break;case 12:if(d=o.findIndex((function(e){return e.trackId===t})),-1===d){e.next=20;break}return p=o[d].id,o.splice(o.findIndex((function(e){return e.trackId===t})),1),e.next=18,D.props.deleteAudioFavAndRecents({username:D.state.username,id:p});case 18:"success"===D.props.deleteAudioStatus&&(D.setState({favouriteTracks:o}),D.refreshFavourite(),D.refreshRecent());case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),D.refreshFavourite=function(){D.setState({refreshFavourite:!D.state.refreshFavourite})},D.UpdateFavourite=function(){},D.UpdateRecent=function(){D.props.getAudioFavAndRecents(D.state.username)},D.refreshRecent=function(){D.setState({refreshRecent:!D.state.refreshRecent})},D.UpdateVoiceOver=function(){},D.isVoiceOverPreExisting=function(){for(var e=D.state.voiceOverTracks,t=!1,n=0;n<e.length;n++)if(e[n].active){t=!0;break}return t},D.removeVoiceOverTrackFromStorage=function(){var e=be.Z.getItem("voiceOverTrackId"),t=be.Z.getItem("voiceOverTrackName");w().getInstance().logEvent("voice-deselected",{name:t,"project-id":D.state.project_id}),be.Z.removeItem("voiceOverTrackType"),be.Z.removeItem("voiceOverTrackActive"),be.Z.removeItem("voiceOverTrackId"),be.Z.removeItem("voiceOverTrackName"),be.Z.removeItem("voiceOverTrackCategory"),D.UpdateIsActiveVoiceOver(e,!1),D.UpdateRecent(),D.UpdateFavourite(),D.UpdateVoiceOver(),D.setState({showAlertNotification:"Voiceover removed",alertSeverity:"success"})},D.UpdateIsActiveVoiceOver=function(e,t){for(var n=(0,o.Z)(D.state.voiceOverTracks),r=!1,s=0;s<n.length;s++)n[s]=(0,a.Z)((0,a.Z)({},n[s]),{},{active:!1}),n[s].trackId===e&&(t&&n[s].active&&(r=!0),n[s].active=t);D.reduceMusicVolume(r),D.setState({isAnyChange:!0,voiceOverTracks:n,timeChangedPostAIVO:void 0})},D.refreshVoiceOver=function(){D.setState({refreshVoiceOver:!D.state.refreshVoiceOver})},D.removeTrackFromStorage=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,o,c,l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r.stopPropagation(),s=document.getElementsByClassName("addRemoveActiveClassForTrack"),a=s.length,o=0;o<a;o++)s[o].className="addRemoveActiveClassForTrack on-hover-event";for(c=D.state.brandSetting.hasOwnProperty("recent")?D.state.brandSetting.recent:[],l=0;l<c.length;l++)c[l].trackId===parseInt(be.Z.getItem("trackId"))&&(c[l].active=!1);for(u=D.state.brandSetting.hasOwnProperty("favourites")?D.state.brandSetting.favourites:[],d=0;d<u.length;d++)u[d].trackId===parseInt(be.Z.getItem("trackId"))&&(u[d].active=!1);return(p=D.state.brandSetting).recent=c,p.favourites=u,h={body:p},w().getInstance().logEvent("track-deselected",{"track-name":n,"project-id":D.state.project_id}),be.Z.removeItem("trackType"),be.Z.removeItem("activeTrack"),be.Z.removeItem("trackId"),be.Z.removeItem("trackName"),D.UpdateRecent(),D.UpdateFavourite(),D.setState({isAnyChange:!0}),e.next=24,D.props.saveBrandSettings(h);case 24:D.props.saveSettingsStatus;case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.shareVideoPopup=function(e){D.setState({OverlayMessage:"Please wait...",displayGenerateVideo:!1}),document.getElementById("txtShareTitle").value=D.state.summaryJsonText[0].sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,""),D.setState({txtShareTitle:D.state.summaryJsonText[0].sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,"")}),document.getElementById("txtShareDescription").value=D.state.metaDescription,D.setState({txtShareDescription:D.state.metaDescription}),document.getElementById("txtShareTags").value=D.state.articleKeywords,D.setState({txtShareTags:D.state.articleKeywords,displayShareVideo:!0})},D.CloseVideoShare=function(e){D.setState({displayGenerateVideo:!0,displayShareVideo:!1})},D.cancelIntervalTimerVoiceover=function(){D.timerId&&(clearInterval(D.timerId),D.timerId=null)},D.cancelIntervalTimerVideoGen=function(){D.timerIdVideoGen&&(clearInterval(D.timerIdVideoGen),D.timerIdVideoGen=null)},D.cancelIntervalTimerElements=function(){D.timerIdElements&&(clearInterval(D.timerIdElements),D.timerIdElements=null)},D.cancelIntervalTimers=function(){D.cancelIntervalTimerVoiceover(),D.cancelIntervalTimerVideoGen(),D.cancelIntervalTimerElements()},D.CloseGenerateVideo=function(e){D.cancelIntervalTimers(),D.state.videoGenerationResponseId&&(w().getInstance().logEvent("video-generation-canceled"),D.props.deleteGeneratedVideo({exportId:D.state.videoGenerationResponseId,isCSV:D.state.generateCSV})),D.props.stopVideoGeneration(),D.props.generateVideoStatus({step:1}),D.setState({displayGenerateVideo:!1,showSave:!0,copy:!1,hasExportID:!1},(function(){setTimeout((function(){D.state.videoId&&D.setState({videoId:null});var e=setInterval((function(){D.timeTakenInStepThree=D.timeTakenInStepThree+1}),1e3);D.setState({timeTakenInStepThreeInterval:e}),void 0!==D.state.timeTakenToGenerateVideo&&(clearInterval(D.state.timeTakenToGenerateVideo),D.setState({timeTakenInSeconds:0})),void 0!==D.state.intervalGenerateVideoMessage&&clearInterval(D.state.intervalGenerateVideoMessage),void 0!==D.state.abortController&&D.state.abortController.cancel(),void 0!==D.state.abortControllerGenration&&D.state.abortControllerGenration.cancel(),setTimeout((function(){"Video generated"===D.state.GenerateVideoHeading&&D.setState({showUserQuestionnaire:!0})}),3e3)}),100)}))},D.showQuotaExceededDialog=function(){return!D.state.restrictUsers&&D.state.showQuotaExceeded?(0,ue.jsx)(T.default,{icon:(0,ue.jsx)(xe.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:D.state.showQuotaExceeded,title:"Unable to Generate",message:"This request exceeds your available AI Voice Quota. To continue, select a standard voice or edit to fit within your remaining minutes.",primaryButtonLabel:"OK",primaryButtonOnClick:function(){return D.setState({showQuotaExceeded:!1})},primaryButtonColor:"primary.main"}):(0,ue.jsx)(ue.Fragment,{})},D.showNoAddonDialog=function(){return D.state.noAddonPopup?(0,ue.jsx)(T.default,{icon:(0,ue.jsx)(xe.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:D.state.noAddonPopup,title:"Hold on!",showCloseIcon:!0,message:"This voice is not applicable on your plan. Please upgrade to Professional or Teams plan to make changes to this voiceover. Alternatively, you can use a Standard voiceover on your plan.",primaryButtonLabel:"Upgrade",primaryButtonOnClick:function(){D.gotoPlansList(),D.setState({noAddonPopup:!1})},onClose:function(){D.setState({noAddonPopup:!1})},primaryButtonColor:"primary.main",secondaryButtonLabel:"Use a standard voice",secondaryButtonOnClick:function(){return D.setState({noAddonPopup:!1})}}):(0,ue.jsx)(ue.Fragment,{})},D.showBrandSwitchConfirmationDialog=function(){return D.state.showBrandSwitchConfirmationDialog?(0,ue.jsx)(T.default,{icon:(0,ue.jsx)(ur.Z,{color:"info"}),iconBgPaletteColor:"info.lighter",open:D.state.showBrandSwitchConfirmationDialog,title:"Hold on!",message:"Brand changes will be applied to all scenes. Do you want to go ahead?",primaryButtonLabel:"Continue",primaryButtonOnClick:(0,c.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="transcribe"==D.state.source,e.next=3,D.applyBrand(D.state.showBrandSwitchConfirmationDialog,t);case 3:D.setState({showBrandSwitchConfirmationDialog:!1,showAlertNotification:"brand applied successfully"});case 4:case"end":return e.stop()}}),e)}))),primaryButtonColor:"primary.main",secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){return D.setState({showBrandSwitchConfirmationDialog:!1})}}):(0,ue.jsx)(ue.Fragment,{})},D.startApplyVoiceOver=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,ye.Ll)(0,!0),D.setState({durationUpdatedScenes:{loading:!0,sceneIds:(null===(n=D.state.durationUpdatedScenes)||void 0===n?void 0:n.sceneIds)||[],sceneIndices:(null===(r=D.state)||void 0===r||null===(s=r.durationUpdatedScenes)||void 0===s?void 0:s.sceneIndices)||[],isSceneDeleted:null===(a=D.state.durationUpdatedScenes)||void 0===a?void 0:a.isSceneDeleted,updatedSceneDuration:(null===(o=D.state)||void 0===o||null===(c=o.durationUpdatedScenes)||void 0===c?void 0:c.updatedSceneDuration)||[]},applyingAudio:t.trackId,isAnyChange:!0,timeChangedPostAIVO:void 0}),e.next=4,D.getVoiceOverTrackURL("".concat(t.trackId),D.state.speedValue,(0,ye.bg)(),null,null,{},!1,!1,"tracklist","Eleven Labs"===t.Category||"elevenlabs"===t.service,t.trackName);case 4:return l=e.sent,D.setState({applyingAudio:null,voiceoverprogressStatus:0}),(0,ye.Ll)(0,!0),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.updateVideoduration=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l,u,d,p,h,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.setState({durationUpdatedScenes:{loading:!0,sceneIds:(null===(n=D.state.durationUpdatedScenes)||void 0===n?void 0:n.sceneIds)||[],sceneIndices:(null===(r=D.state)||void 0===r||null===(s=r.durationUpdatedScenes)||void 0===s?void 0:s.sceneIndices)||[],isSceneDeleted:null===(a=D.state.durationUpdatedScenes)||void 0===a?void 0:a.isSceneDeleted,updatedSceneDuration:(null===(o=D.state)||void 0===o||null===(c=o.durationUpdatedScenes)||void 0===c?void 0:c.updatedSceneDuration)||[]},applyingAudio:t}),e.next=3,D.getVoiceOverTrackURL(t||(0,ye.OS)(),D.state.speedValue,(0,ye.bg)(),null,null,{},!1,!1,"duration");case 3:e.sent.success&&D.setState({durationUpdatedScenes:{loading:!1,sceneIds:(null===(l=D.state.durationUpdatedScenes)||void 0===l?void 0:l.sceneIds)||[],sceneIndices:(null===(u=D.state)||void 0===u||null===(d=u.durationUpdatedScenes)||void 0===d?void 0:d.sceneIndices)||[],isSceneDeleted:null===(p=D.state.durationUpdatedScenes)||void 0===p?void 0:p.isSceneDeleted,updatedSceneDuration:(null===(h=D.state)||void 0===h||null===(m=h.durationUpdatedScenes)||void 0===m?void 0:m.updatedSceneDuration)||[]},applyingAudio:null,isAnyChange:!0,voiceoverprogressStatus:0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.prepareVoiceOverTrackData=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a){var o,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,O,U,L,F,V,B,M,G=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(G.length>5&&void 0!==G[5]&&G[5],c=G.length>6&&void 0!==G[6]?G[6]:{},l=G.length>7&&void 0!==G[7]?G[7]:null,u=(null===(o=je.Kb.filter((function(e){return e.code===D.state.filterLanguage}))[0])||void 0===o?void 0:o.value)||D.state.filterLanguage,d=s?D.getScenePreviewArrays(s,a):D.state,p=d.summaryJsonText,h=d.subSentencesArray,d.voiceOverURL,m={sentences:[],voice:t,speed:n,project_id:D.state.project_id,user_id:D.state.username,language:u},g=!1,f=!1,v=0,x=0,S=D.voiceOverOnEntireVideo(),y=c&&c.videoGeneration&&D.state.isTransitions&&D.state.transitionId&&""!=D.state.transitionId&&"none"!=D.state.transitionId&&"number"!=typeof D.state.transitionId,void 0!==s&&(j=D.state.subSentencesArray.findIndex((function(e){return e.sceneId===s})),j>-1&&(x=j)),w=0;w<p.length;w++)for(Z=p[w],k=h.slice(v,v+Z.subsentences.length),C=D.state.timePerFrame.slice(x+v,x+v+Z.subsentences.length),v+=Z.subsentences.length,I=0;I<k.length;I++)T=k[I],E=k[I+1],A=C[I],T.settings&&T.settings.muteClipAudio,_=T.recordedAudio||!T.recordingApplyToAll&&T.audioSegments&&T.audioSegments[0],R=(r||"tracklist"===l)&&T.settings.voiceOver,P={},N=!1,T.transcription&&(P.transcription=!0),c&&c.voiceOverAutoSync?"Custom Intro Scene"!==Z.sceneId&&"Outro Scene"!=Z.sceneId||c.hasIntroOutroInVO?(O=D.removeBOMChar(D.getVoiceOverText(T.sentence)),P.sentence=O,P["sub-sentences"]=[O]):N=!0:_?(T.recordedAudio?P.audio=T.recordedAudio:T.audioSegments&&T.audioSegments[0]&&(P.audio=T.audioSegments[0].recordedAudio),T.audioSegments&&T.audioSegments[0]&&(P.segments=[{start:T.audioSegments[0].start,end:T.audioSegments[0].end}]),P.duration=A,"Outro Scene"===Z.sceneId&&(g=!0)):R?(P.voice_over=!0,P.sentence=D.removeBOMChar(D.getVoiceOverText(T.sentence)),E&&E.subSceneId>1&&(P.linkToNextScene=!0),P.duration=Math.round(100*A)/100,!T.transcription&&(!D.state.timeChangedPostAIVO||"tracklist"===l||(null===(U=D.state.durationUpdatedScenes)||void 0===U||null===(L=U.sceneIds)||void 0===L?void 0:L.length)>0||null!==(F=D.state)&&void 0!==F&&null!==(V=F.durationUpdatedScenes)&&void 0!==V&&V.isSceneDeleted)&&!Z.isUploadedVideo&&P.sentence.trim().length>0&&(P.duration=k[I].sceneId&&null!==(B=D.state.durationUpdatedScenes)&&void 0!==B&&null!==(M=B.updatedSceneDuration)&&void 0!==M&&M.includes(k[I].sceneId)?P.duration:0,b=!1)):T.bRoll?(P.audio=T.bRollUrl,P.duration=A,P.segments=T.bRollSubSceneSegment):(P.duration=A,P.mute=!0),S&&1===Z.subsentences.length&&P.duration<.5&&(0===w||w===p.length-1)&&(P.duration=5),"Custom Intro Scene"===T.showSceneNumber&&T.settings&&T.settings.hideScene&&(P.duration=0,P.segments=[],P.sentence="",P.audio=""),"Outro Scene"===T.showSceneNumber&&T.settings&&T.settings.hideScene&&(P.duration=0,P.segments=[],P.sentence="",P.audio=""),y&&I===k.length-1&&(P.outroEffectDuration=.033),N||m.sentences.push(P),(_||R||T.bRoll||"tracklist"===l)&&(f=!0);return e.abrupt("return",{fetchVoiceOver:f,VoiceOverTrackCreationJson:m,isOutroPlayed:g,timeChangedPostAIVO:b});case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),D.getVoiceOverText=function(e){if(e){var t=document.createElement("span");return t.innerHTML=e,(t.textContent||t.innerText).replace(/(<([^>]+)>)/gi,"")}return e},D.OpenSaveProjectPopup=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l,u,d=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=d.length>1&&void 0!==d[1]&&d[1],d.length>2&&d[2],D.setState({type:t,isRedirect:n}),document.getElementById("myMusicTrackPlay").pause(),document.getElementById("myAudioPlay").pause(),document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause(),D.setState({hasErrorProjectCategory:!1,hasErrorProjectCategoryDDL:!1,hasErrorProjectName:!1,popupVisibleProjectCategoryError:!1,popupVisibleProjectDDLCategoryError:!1,popupVisibleProjectNameError:!1}),r=document.getElementsByClassName("voicePlayStop"),s=r.length,a=0;a<s;a++)r[a].className="voicePlayStop fa fa-play";for(r=document.getElementsByClassName("playStop"),s=r.length,a=0;a<s;a++)r[a].className="playStop fa fa-play";for(r=document.getElementsByClassName("recentPlayStop"),s=r.length,a=0;a<s;a++)r[a].className="recentPlayStop fa fa-play";for(r=document.getElementsByClassName("pausePreviewButton"),s=r.length,a=0;a<s;a++)r[a].className="pausePreviewButton icon-play-right";for(r=document.getElementsByClassName("voiceOverMusicTrack"),s=r.length,a=0;a<s;a++)r[a].className="voiceOverMusicTrack fa fa-play";if(D.state.loadProject||""!==D.state.project_id||D.setState({projectName:"",projectCategory:"",ddlCategory:"Select category"}),""!==D.state.projectName&&null!==D.state.projectName&&void 0!==D.state.projectName&&""!==D.state.projectCategory&&null!==D.state.projectCategory&&void 0!==D.state.projectCategory){e.next=45;break}if(D.setState({openSavePopup:!0,displayDdlCategory:!0,displayOuterDdlCategory:!0,displayTextProjectCategory:!1}),document.getElementById("saveProject").style.display="block",document.getElementById("ddlCategory").style.display="block",document.getElementById("outerDDLCategory").style.display="block",document.getElementById("txtProjectCategory").style.display="none",o=[],(c=[]).push("Select category"),l=function(e){return function(t,n){return t[e]===n[e]?0:t[e]>n[e]?1:-1}},!D.state.user||D.state.user.attributes.email!==ze.Z.superAdminEmail){e.next=39;break}return e.next=37,D.props.getMyVideos("all");case 37:e.next=41;break;case 39:return e.next=41,D.props.getMyVideos(D.state.user.username);case 41:"success"===D.props.allVideosStatus&&(u=D.props.allVideos,o=u,u.filter((function(e,t,n){return t===n.findIndex((function(t){return t.projectCategory===e.projectCategory}))})).map((function(e,t){c.push(e.projectCategory)})),c.push("Add new category"),c.sort(l("projectCategory")),D.setState({distinctprojectCategory:c,saveProjectList:o})),e.next=46;break;case 45:D.saveProjectDetail_debounce(t);case 46:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.saveProjectDetail_debounce=O().debounce((0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.saveProjectDetail("video");case 2:case"end":return e.stop()}}),e)}))),2e3),D.saveProjectDetail=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,r){var s,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,C,I,T,E,A,_,R,P,N,U,L,F,V;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.setState({type:t,SaveButtonText:"Saving...",disableSaveButton:!0});case 2:if(n(99040)(1,999999999),c=!1,l={audio:{},scenes:[],projectName:D.state.projectName,projectCategory:D.state.projectCategory,saveDate:new Date,generatedVoiceOvers:[],animationTheme:D.state.animationTheme.themeName},D.state.scriptTxtData&&(l.scriptTxtData=D.state.scriptTxtData),D.state.step2TxtData&&(l.step2TxtData=D.state.step2TxtData),D.state.currentState&&(l.currentState=D.state.currentState),D.state.elevenLabTrackID&&(l.elevenLabTrackID=D.state.elevenLabTrackID),D.state.generatedVoiceOvers&&(l.generatedVoiceOvers=D.state.generatedVoiceOvers),D.state.projectStates&&D.state.projectStates.length>0?D.state.generatingAsyncVideo?((u=D.state.projectStates.reduce((function(e,t){return t.name!==je.yc.VIDEO_GENERATED&&t.name!==je.yc.VIDEO_GENERATING&&e.push(t),e}),[])).splice(0,0,{responseId:D.state.videoGenerationResponseId,name:je.yc.VIDEO_GENERATING}),l.states=u,l.currentState=je.yc.VIDEO_GENERATING,l.inProgress=!0,D.setState({projectStates:u})):(0,ye.YI)(D.state.videoURL)&&-1!=(d=D.state.projectStates.findIndex((function(e){return e.name==je.yc.VIDEO_GENERATING&&D.state.isGeneratedAsyncVideo})))?((p=(0,o.Z)(D.state.projectStates))[d]=(0,a.Z)((0,a.Z)({},p[d]),{},{name:je.yc.VIDEO_GENERATED}),l.states=p,l.currentState=je.yc.VIDEO_GENERATED,D.setState({projectStates:p,isGeneratedAsyncVideo:!1})):l.states=D.state.projectStates:D.state.generatingAsyncVideo&&((h=[]).push({responseId:D.state.videoGenerationResponseId,name:je.yc.VIDEO_GENERATING}),l.states=h,l.currentState=je.yc.VIDEO_GENERATING,l.inProgress=!0,D.setState({projectStates:h})),""===D.state.project_id||null===D.state.project_id||void 0===D.state.project_id?(l.cognito_id=D.state.user.username,D.setState({cognito_id:D.state.user.username})):""!==D.state.cognito_id&&null!==D.state.cognito_id&&void 0!==D.state.cognito_id&&(l.cognito_id=D.state.cognito_id),""!==D.state.project_id&&null!==D.state.project_id&&void 0!==D.state.project_id||!D.state.user||null===D.state.user.attributes.email||""===D.state.user.attributes.email?""!==D.state.email&&null!==D.state.email&&void 0!==D.state.email&&(l.email=D.state.email):(l.email=D.state.user.attributes.email,D.setState({email:D.state.user.attributes.email})),""!==D.state.project_id&&null!==D.state.project_id&&void 0!==D.state.project_id||""==(0,ye.VO)(D.state.username)?""!==D.state.name&&null!==D.state.name&&void 0!==D.state.name&&(l.name=D.state.name):(l.name=(0,ye.VO)(D.state.username),D.setState({name:(0,ye.VO)(D.state.username)})),null!==D.state.url&&""!==D.state.url&&(l.articleUrl=D.state.url),null!==D.state.metaDescription&&""!==D.state.metaDescription&&(l.metaDescription=D.state.metaDescription),null!==D.state.articleKeywords&&""!==D.state.articleKeywords&&(l.articleKeywords=D.state.articleKeywords),""!==D.state.project_id?(l.project_id=parseInt(D.state.project_id),D.state.askBrandSettingChange||D.state.isNewProject?D.state.brandSetting.hasOwnProperty("logoFilePath")&&(l.logoImage=D.state.brandSetting.logoFilePath):""!==D.state.logoImage&&(l.logoImage=D.state.logoImage),D.state.askBrandSettingChange||D.state.isNewProject?D.state.brandSetting.hasOwnProperty("logoLocation")&&(l.logoLocation=D.state.brandSetting.logoLocation):""!==D.state.logoLocation&&(l.logoLocation=D.state.logoLocation)):(l.project_id=Date.now(),D.state.project_id=l.project_id,D.state.brandSetting.hasOwnProperty("logoFilePath")&&(l.logoImage=D.state.brandSetting.logoFilePath),D.state.brandSetting.hasOwnProperty("logoLocation")&&(l.logoLocation=D.state.brandSetting.logoLocation)),""===D.state.videoURL||null===D.state.videoURL||"video"!==t||D.state.generatingAsyncVideo||(l.videoURL=D.state.videoURL),""==D.state.shareVideoURL||null===D.state.shareVideoURL||D.state.generatingAsyncVideo||(l.shareVideoURL=D.state.shareVideoURL),""==D.state.srtFile||null===D.state.srtFile||D.state.generatingAsyncVideo||(l.srtFile=D.state.srtFile),""==D.state.txtFile||null===D.state.txtFile||D.state.generatingAsyncVideo||(l.txtFile=D.state.txtFile),""==D.state.vttFile||null===D.state.vttFile||D.state.generatingAsyncVideo||(l.vttFile=D.state.vttFile),D.state.previewJson&&""!=D.state.previewJson&&null!==D.state.previewJson&&!D.state.generatingAsyncVideo&&(l.preview=D.state.previewJson),D.state.videoThumbnail&&""!=D.state.videoThumbnail&&null!==D.state.videoThumbnail&&!D.state.generatingAsyncVideo&&(l.thumbnail=D.state.videoThumbnail),D.state.audioURL&&""!=D.state.audioURL&&null!==D.state.audioURL&&!D.state.generatingAsyncVideo&&(l.audioURL=D.state.audioURL),void 0===D.state.outputVideoDuration||""==D.state.outputVideoDuration||null===D.state.outputVideoDuration||D.state.generatingAsyncVideo||(l.videoDuration=D.state.outputVideoDuration),D.state.scriptLanguage&&(l.scriptLanguage=D.state.scriptLanguage),m=D.state.voiceOverTracks.findIndex((function(e){return!0===e.active})),g="",f="",v="",x="",m>=0&&(g=D.state.voiceOverTracks[m].name+", "+D.state.voiceOverTracks[m].gender,f=D.state.voiceOverTracks[m].category,v=D.state.voiceOverTracks[m].trackUrl,x=D.state.voiceOverTracks[m].trackId,c=!0),S={},""!==be.Z.getItem("trackId")&&null!==be.Z.getItem("trackId")&&(S.selectedTrackId=be.Z.getItem("trackId")),""!==be.Z.getItem("trackName")&&null!==be.Z.getItem("trackName")&&(S.selectedTrackName=be.Z.getItem("trackName")),""!==be.Z.getItem("activeTrack")&&null!==be.Z.getItem("activeTrack")&&(S.selectedTrackUrl=be.Z.getItem("activeTrack")),""!==be.Z.getItem("trackType")&&null!==be.Z.getItem("trackType")&&(S.selectedTrackType=be.Z.getItem("trackType")),""!==f&&null!==f&&(S.selectedVoiceOverCategory=f),""!==g&&null!==g&&(S.selectedVoiceOverTrack=g),""!==v&&null!==v&&(S.selectedVoiceOverTrackUrl=v),""!==x&&null!==x&&(S.selectedVoiceOverTrackId=x),""!==D.state.speedValue&&null!==D.state.speedValue&&(S.voiceOverTextSpeed=D.state.speedValue),l.audio=S,(y=D.state.animationTheme.getStyles()).fontSize=D.getFontSizeForAspectRatio(y.fontSize),b=0,j=y.fontSize,w=y.fontColor,Z=y.textBackgroundColor,y.backcolorFullwidth,C=y.keywordColor,I=je.qh,T=D.getFontNameWithWeight(y),E={},(0,o.Z)(D.state.summaryJsonText).map((function(e,t){if(0===t&&D.state.brandSetting.hasOwnProperty("introStyle")&&D.state.brandSetting.introStyle.showStyle){D.state.brandSetting.introStyle.hasOwnProperty("fontName")&&(T=D.state.brandSetting.introStyle.fontName);var n=D.state.brandSetting.introStyle.hasOwnProperty("fontColor")?D.state.brandSetting.introStyle.fontColor.split(","):w.split(",");w=(n[0].replace("rgba(","rgb(")+","+n[1]+","+n[2]).trim(),Z=D.state.brandSetting.introStyle.hasOwnProperty("textBackgroundColor")?D.state.brandSetting.introStyle.textBackgroundColor:Z,n=D.state.brandSetting.introStyle.hasOwnProperty("keywordColor")?D.state.brandSetting.introStyle.keywordColor.split(","):C.split(","),C=(n[0].replace("rgba(","rgb(")+","+n[1]+","+n[2]).trim()}else if(t>0&&D.state.brandSetting.hasOwnProperty("sceneStyle")&&D.state.brandSetting.sceneStyle.showStyle){D.state.brandSetting.sceneStyle.hasOwnProperty("fontName")&&(T=D.state.brandSetting.sceneStyle.fontName);var r=D.state.brandSetting.sceneStyle.hasOwnProperty("fontColor")?D.state.brandSetting.sceneStyle.fontColor.split(","):w.split(",");w=(r[0].replace("rgba(","rgb(")+","+r[1]+","+r[2]).trim(),Z=D.state.brandSetting.sceneStyle.hasOwnProperty("textBackgroundColor")?D.state.brandSetting.sceneStyle.textBackgroundColor:Z,r=D.state.brandSetting.sceneStyle.hasOwnProperty("keywordColor")?D.state.brandSetting.sceneStyle.keywordColor.split(","):C.split(","),C=(r[0].replace("rgba(","rgb(")+","+r[1]+","+r[2]).trim()}var s,a={sceneId:e.sceneId?e.sceneId:parseInt(t)+1,sentence:e.sentence||"",backColor:e.backgroundColor||I,image:D.state.imageURL[t],lines:[],showLogo:e.showLogo||!1};D.state.allAssets[D.state.imageURL[t]]&&(a.imageMetadata=JSON.stringify(D.state.allAssets[D.state.imageURL[t]])),e.isBrandIntro&&(a.isBrandIntro=!0),e.isBrandOutro&&(a.isBrandOutro=!0),a.transcription=e.transcription||!1,e.transition&&(a.transition=e.transition),e.recordedAudio?(a.recordedAudio=e.recordedAudio,a.recordedAudioDuration=e.recordedAudioDuration,a.recordedAudioDurationMiniSec=e.recordedAudioDurationMiniSec,a.recordingApplyToAll=e.recordingApplyToAll,a.playbackRate=e.playbackRate,a.audioSegments=e.audioSegments,c=!0):e.audioSegments&&(a.audioSegments=e.audioSegments,e.audioSegments.filter((function(e){return e})).length>0&&(c=!0)),e.bRoll&&(a.bRoll=e.bRoll,a.bRollUrl=e.bRollUrl,a.bRollSubSceneSegments=e.bRollSubSceneSegments);for(var i=0;i<e.subsentences.length;i++){var o=D.state.subSentencesArray[b],u=document.createElement("span");if(!1===o.isDeleted){u.innerHTML=o.sentence;var d={subSceneId:o.subSceneId,time:Math.ceil(.3*(u.innerText.replace(/\n/g," ").split(" ").length+1)),text:u.innerText.replace(/\n/g," ")||"",html:u.innerHTML,format:{hideText:o.settings.hideText}};if(D.copyTextFormatting(o,d.format,y),"transcribe"===D.state.source){var p=o.settings&&o.settings.videoOptions;d.settings={transcribeVideoLength:parseFloat(o.transcribeVideoLength),subSentenceSegments:p&&p.subSentenceSegments}}o.topCoordinate&&(d.topCoordinate=o.topCoordinate),o.leftCoordinate&&(d.leftCoordinate=o.leftCoordinate),o.paragraphWidth&&(d.paragraphWidth=o.paragraphWidth),a.lines.push(d),o&&o.keywords&&o.keywords.length>0&&(a.keywords=(0,ye.AV)(o.keywords))}if(o.isCustomImage&&(a.isCustomImage=o.isCustomImage),o.isUploadedVideo&&(a.isUploadedVideo=o.isUploadedVideo),o.isArticleImage&&(a.isArticleImage=o.isArticleImage),o.settings){var h=o.settings;a.settings=h}else a.settings=D.state.defaultSceneSettings;b++}if(s=e.subsentences.join(" "),a.settings=e.settings,"Outro Scene"!=e.sceneId&&"Custom Intro Scene"!=e.sceneId)if(e.transcribeVideoLength&&parseFloat(e.transcribeVideoLength)>0)a.transcribeVideoLength=e.transcribeVideoLength;else{var m=((e.settings||{}).videoOptions||{}).segments||[],g=0;m.map((function(e){e.start!=e.end&&(g+=parseFloat(e.end)-parseFloat(e.start))})),a.transcribeVideoLength=g}"Outro Scene"!==a.sceneId?a.sentence=s:(a.backColor=e.backgroundColor,void 0!==e.layout&&e.layout&&(a.layout=e.layout)),a.lines.length>0&&(a.keywords&&a.keywords.length&&(a.keywords=(0,ye.AV)(a.keywords)),a.subsentences&&a.subsentences.length>0?(a.subsentences=(0,ye.AV)(a.subsentences),a.subsentences.length<1&&(a.subsentences=[""])):a.subsentences=[""],l.scenes.push(a))})),D.state.saveFromGenerate&&D.setState({oldOverlayMessage:D.state.OverlayMessage,OverlayMessage:"Saving Video...",isShowOverlay:!0}),D.state.brandSetting.hasOwnProperty("outroStyle")&&D.state.brandSetting.outroStyle.showStyle&&!D.state.loadProject&&b+1===D.state.subSentencesArray.length&&"Outro Scene"===D.state.subSentencesArray[b].showSceneNumber&&(A=D.state.subSentencesArray[b],_={sceneId:"Outro Scene",sentence:"",image:D.state.brandSetting.outroStyle.hasOwnProperty("backgroundFilePath")?D.state.brandSetting.outroStyle.backgroundFilePath:je.FS,backColor:D.state.brandSetting.outroStyle.hasOwnProperty("backgroundColor")?D.state.brandSetting.outroStyle.backgroundColor.replace("rgba(","rgb(").replace(", 1)",")"):I,lines:[],layout:D.state.brandSetting.outroStyle.hasOwnProperty("layout")?D.state.brandSetting.outroStyle.layout:""},(R=document.createElement("span")).innerHTML=A.sentence,(P={subSceneId:A.subSceneId,time:D.state.timePerFrame[b],text:R.innerText.replace(/\n/g," ")||""}).format={fontsize:""===j?32:j,fontName:D.state.brandSetting.outroStyle.hasOwnProperty("fontName")?D.state.brandSetting.outroStyle.fontName:T,fontColor:D.state.brandSetting.outroStyle.hasOwnProperty("fontColor")?D.state.brandSetting.outroStyle.fontColor.replace("rgba(","rgb(").replace(", 1)",")"):w,keywordColor:D.state.brandSetting.outroStyle.hasOwnProperty("keywordColor")?D.state.brandSetting.outroStyle.keywordColor.replace("rgba(","rgb(").replace(", 1)",")"):C,hideText:A.settings.hideText},D.copyTextFormatting(A,P.format,y),void 0!==A.topCoordinate&&(P.topCoordinate=A.topCoordinate),void 0!==A.leftCoordinate&&(P.leftCoordinate=A.leftCoordinate),void 0!==A.paragraphWidth&&(P.paragraphWidth=A.paragraphWidth),_.sentence=R.innerText||"",_.lines.push(P),_.lines.length>0&&(_.keywords&&_.keywords.length&&(_.keywords=(0,ye.AV)(_.keywords)),l.scenes.push(_)),A.keywords>0&&(_.keywords=A.keywords)),O().isEmpty(E),l.timePerFrame=D.state.timePerFrame,l.hasOneSubPerSentence=D.state.hasOneSubPerSentence,l.durationUpdatedScenes=D.state.durationUpdatedScenes,N=(0,a.Z)((0,a.Z)({},D.state.projectMetaData),{},{aspectRatioFontSizeFixed:!0}),D.setState({projectMetaData:N}),l.projectMetaData=N,!D.state.templateMetaData&&(0,ye.PW)(D.state.username)&&(0,ye.mL)()&&console.log("\nTemplate is NULL\n"),l.templateMetaData=D.state.templateMetaData,l.aspectRatioClass=D.state.aspectRatioClass,l.aspectRatioValue=D.state.aspectRatioValue,l.aspectRatioFractionValue=D.state.aspectRatioFractionValue,l.frameAspectRatio=D.state.frameAspectRatio,l.videoResolution=D.state.VideoRes,"transcribe"===D.state.source&&(D.state.transcriptionDuration&&(l.transcriptionDuration=D.state.transcriptionDuration),D.state.transcriptionLanguage&&(l.transcriptionLanguage=D.state.transcriptionLanguage),void 0!==D.state.isPodcast&&(l.isPodcast=D.state.isPodcast),D.state.editingVideoHeight&&(l.editingVideoHeight=D.state.editingVideoHeight),D.state.editingVideoWidth&&(l.editingVideoWidth=D.state.editingVideoWidth),D.state.subtitlesLineCount&&(l.subtitlesLineCount=D.state.subtitlesLineCount)),be.Z.removeItem("step3Json"),be.Z.setItem("step3Json",JSON.stringify(l)),be.Z.removeItem("backup-save-json"),be.Z.setItem("backup-save-json",JSON.stringify(l)),D.state.assetResponseId&&(l.assetResponseId=D.state.assetResponseId),D.state.article_category?l.textCategory=D.state.article_category:l.textCategory="",l.applyToAllScenes=D.state.applyToAllScenes,l.currentActiveDiv=D.state.currentActiveDiv,l.timeChangedPostAIVO=D.state.timeChangedPostAIVO,l.isImportedFromPersonalWorkspace=D.state.isImportedFromPersonalWorkspace,l.audioImportStatus=D.state.audioImportStatus,l.visualImportStatus=D.state.visualImportStatus,D.state.transitionId&&D.state.isTransitions&&(l.transitionId=D.state.transitionId),D.state.title&&(l.title=D.state.title),D.state.source&&(l.source=D.state.source),D.state.isSavingForEmailNotification&&(l.videoGenerationResponseId=D.state.videoGenerationResponseId),D.state.bgMusicVolPercent&&(l.bgMusicVolPercent=D.state.bgMusicVolPercent),void 0!==D.state.videoVolume&&null!==D.state.videoVolume&&(l.videoVolume=D.state.videoVolume),D.state.brandId&&(l.brandId=D.state.brandId),null!==(s=D.state.loadProjectDetails)&&void 0!==s&&s.withSummaryAnalysis&&(l.withSummaryAnalysis=D.state.loadProjectDetails.withSummaryAnalysis),D.state.actionTaken||D.state.isGeneratedAsyncVideo){e.next=99;break}return e.next=99,D.storeUndoableData(l);case 99:return D.setState({loadProjectDetails:l,saveDate:l.saveDate,voiceOverApplied:c}),D.getListOfRecordedAudio(l.scenes),U={body:l},D.state.generatingAsyncVideo&&(U.generatingAsyncVideo=!0),D.props.projectOpened({projectOpenError:!1,project:l,projectAction:je.vY.OpenProject}),e.next=106,D.props.saveProject(U);case 106:return"success"===(L=D.props.saveProjectStatus)?(D.state.saveFromGenerate&&D.setState({OverlayMessage:"Video Saved..."},(function(){setTimeout((function(){D.setState({isShowOverlay:!1,showSave:!1})}),500)})),D.setState({saveFromGenerate:!1}),be.Z.removeItem("backup-save-json"),document.getElementById("btnSave")&&(document.getElementById("btnSave").className="btn btn-outline-default btn--prevs2 mr-2 success-btn"),document.getElementById("spanForErrorSave")&&(document.getElementById("spanForErrorSave").className="spanForSavingAndSaved alert alert-success"),D.setState({SaveButtonText:"Saved",isAnyChange:!1,disableSaveButton:!1,isFirstTimeSaved:!1}),D.state.isRedirect?(F=D.props.location&&D.props.location.state?D.props.location.state:{},"brand"===D.state.gotoUrl?(D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.brandSettings,state:(0,a.Z)((0,a.Z)({},F),{},{project_id:D.state.project_id,loadProject:!0,isAnyChange:!0,projectDetails:l,projectList:D.state.saveProjectList})}),D.setState({isAnyUpdate:!1})):"video"===D.state.gotoUrl?(D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.myProjects,state:{project_id:D.state.project_id,loadProject:!0,isAnyChange:!0}}),D.setState({isAnyUpdate:!1})):"logout"===D.state.gotoUrl&&(k.g.signOut(),be.Z.clear(),D.props.history.push(ze.Z.BaseURL),r.preventDefault())):setTimeout((function(){D.setState({SaveButtonText:"Save"}),document.getElementById("btnSave")&&(document.getElementById("btnSave").className="btn btn-outline-default btn--prevs2 mr-2")}),100)):"version_conflict"!=L&&(D.props.showErrorNotification("Save project failed"),(0,ye.Hw)(),D.setState({SaveButtonText:"Save",disableSaveButton:!1,displaySaveInprogress:!1}),document.getElementById("btnSave")&&(document.getElementById("btnSave").className="btn btn-outline-default btn--prevs2 mr-2"),D.state.isRedirect?(V=D.props.location&&D.props.location.state?D.props.location.state:{},"brand"===D.state.gotoUrl?(D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.brandSettings,state:(0,a.Z)((0,a.Z)({},V),{},{project_id:D.state.project_id,loadProject:!0,isAnyChange:!0,projectDetails:l,projectList:D.state.saveProjectList})}),D.setState({isAnyUpdate:!1})):"video"===D.state.gotoUrl?(D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.myProjects,state:{project_id:D.state.project_id,loadProject:!0,isAnyChange:!0}}),D.setState({isAnyUpdate:!1})):"logout"===D.state.gotoUrl&&(k.g.signOut(),be.Z.clear(),D.props.history.push(ze.Z.BaseURL),r.preventDefault())):setTimeout((function(){D.setState({OverlayMessage:"Please wait...",displaySaveInprogress:!1})}),1e3)),D.state.actionTaken&&D.setState({actionTaken:!1}),(0,ye.Lv)(D.state.username),e.abrupt("return",l);case 111:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.safelySetClassname=function(e,t){var n=document.getElementById(e);n&&(n.className=t)},D.onSelectingVideoResolutionValue=function(e){D.setState({VideoRes:e,isAnyChange:!0}),w().getInstance().logEvent("format-updated",{resolution:e})},D.onSelectingVideoResolution=function(e){D.setState({VideoRes:e.target.value,isAnyChange:!0})},D.gotoPlansList=function(){D.props.history.push("/"+ke.Z.plansList)},D.extractImageFromSummarySentence=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sentence,r=e.image;if(n&&0===n.replace(/<[^>]*>?/gm,"").length){if(n.startsWith("<img")){var s,a,i=(0,V.ZP)(n);r=i&&(null===(s=i[0])||void 0===s||null===(a=s.props)||void 0===a?void 0:a.src)||"",e.image=r,t.image=r}e.sentence="",t.sentence=""}},D.loadProjectFromJson=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,U,L,F,V,B,M,G,W,z,J,H,q,Q,X,$,ee,ne,ae,ie,oe,ce,le,ue,de,pe,he,me,ge,fe,ve,xe,Se,we,Ze,ke,Ce,Ie,Te,Ee,Ae,_e,Re,Pe,Ne,Oe,De,Ue,Le,Fe,Ve,Be,Me,Ge;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=!1,f=(0,ye.PW)(D.state.username),v=D.state.animationTheme||("transcribe"===D.state.source?se.Z:te.Z),D.state.isNewProject&&!t&&D.setState({showInitialLoadingBar:!0}),!f){e.next=7;break}return e.next=7,D.setState({brandSetting:{}});case 7:if(!D.state.loadProject&&!t){e.next=117;break}if(D.props.location&&D.props.location.state&&D.props.location.state.step2Data||t||(document.getElementById("previous_button").className="btn-disabled",document.getElementById("previous_button").disabled=!0),D.setState({isFirstTimeSaved:!1}),"Custom Intro Scene"==(h=D.state.loadProjectDetails).scenes[0].sceneId)if(h.scenes[0].settings.hideScene)h.scenes.splice(0,1),h.timePerFrame.splice(0,1),h.generatedVoiceOvers=[];else for(h.scenes[0].isBrandIntro=!0,x=0;x<h.scenes.length;x++)"Outro Scene"!=h.scenes[x].sceneId&&(h.scenes[x].sceneId=x+1);if("Outro Scene"==h.scenes[h.scenes.length-1].sceneId&&(h.scenes[h.scenes.length-1].settings.hideScene?(h.scenes.splice(h.scenes.length-1,1),h.timePerFrame.splice(h.timePerFrame.length-1,1),h.generatedVoiceOvers=[]):(h.scenes[h.scenes.length-1].sceneId=h.scenes.length,h.scenes[h.scenes.length-1].isBrandOutro=!0)),D.state.isImportedFromPersonalWorkspace&&!D.state.isAssetImportRunning&&D.setState({isAssetImportRunning:!0,audioImportStatus:h.audioImportStatus,visualImportStatus:h.visualImportStatus},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.handleImportAssets(h);case 2:case"end":return e.stop()}}),e)})))),S=D.state.brandSetting,h.brandId&&D.setState({brandId:h.brandId}),D.getListOfRecordedAudio(h.scenes),t||(h.scenes&&h.scenes.length?h.scenes[0].recordedAudio?(g=!0,be.Z.setItem("recordedAudio",h.scenes[0].recordedAudio)):h.scenes[0].audioSegments&&h.scenes[0].audioSegments[0]?(g=!0,be.Z.setItem("recordedAudio",h.scenes[0].audioSegments[0].recordedAudio)):be.Z.setItem("recordedAudio",""):be.Z.setItem("recordedAudio",""),h.elevenLabTrackID&&D.setState({elevenLabTrackID:h.elevenLabTrackID})),D.setState({templateMetaData:h.templateMetaData}),h.source&&D.setState({source:h.source}),h.step2TxtData&&D.setState({step2TxtData:h.step2TxtData}),D.setState({timeChangedPostAIVO:h.timeChangedPostAIVO}),"transcribe"===h.source&&(h.transcriptionDuration&&D.setState({transcriptionDuration:h.transcriptionDuration}),h.transcriptionLanguage&&D.setState({transcriptionLanguage:h.transcriptionLanguage}),void 0!==h.isPodcast&&D.setState({isPodcast:h.isPodcast}),h.editingVideoHeight&&D.setState({editingVideoHeight:h.editingVideoHeight}),h.editingVideoWidth&&D.setState({editingVideoWidth:h.editingVideoWidth}),h.subtitlesLineCount&&D.setState({subtitlesLineCount:h.subtitlesLineCount})),h.aspectRatioClass&&h.aspectRatioValue?(y=h.aspectRatioFractionValue)?(b=Ye.R3.find((function(e){return Math.abs(e.fractionValue-y)<=.01})))?D.updateAspectRatio({value:b.value,class:b.class,fractionValue:b.fractionValue},!0,null,h.frameAspectRatio):(j=(0,ye.VA)(h.aspectRatioValue," ","-"),D.updateAspectRatio({value:j,class:j,fractionValue:y},!0,null,h.frameAspectRatio)):(w=Ye.R3.find((function(e){return e.class===h.aspectRatioClass})),y=w?w.fractionValue:Ye.Wi,D.updateAspectRatio({value:h.aspectRatioValue,class:h.aspectRatioClass,fractionValue:y},!0,null,h.frameAspectRatio)):D.updateAspectRatio({value:Ye.Jb,class:Ye.TJ,fractionValue:Ye.Wi},!0,null,h.frameAspectRatio),h.videoResolution&&(!1===(Z=(0,o.Z)(D.state.videoResolutions)).includes(h.videoResolution)&&Z.push(h.videoResolution),D.setState({VideoRes:h.videoResolution,videoResolutions:Z})),h.brandId&&D.setState({brandId:h.brandId}),h.textCategory&&D.setState({article_category:h.textCategory}),h.transitionId&&D.state.isTransitions&&D.setState({transitionId:h.transitionId}),h.shareVideoURL&&D.setState({shareVideoURL:h.shareVideoURL}),h.srtFile&&D.setState({srtFile:h.srtFile}),h.txtFile&&D.setState({txtFile:h.txtFile}),h.vttFile&&D.setState({vttFile:h.vttFile}),h.preview&&D.setState({previewJson:h.preview}),h.thumbnail&&D.setState({videoThumbnail:h.thumbnail}),h.audioURL&&D.setState({audioURL:h.audioURL}),h.videoDuration&&D.setState({outputVideoDuration:h.videoDuration}),h.scriptLanguage&&D.setState({scriptLanguage:h.scriptLanguage,filterLanguage:h.scriptLanguage}),h.bgMusicVolPercent?D.setState({bgMusicVolPercent:h.bgMusicVolPercent}):("transcribe"==D.state.source||D.isVoiceOverPreExisting()||D.isRecordedAudioPreExisting())&&D.setState({bgMusicVolPercent:oa}),void 0!==h.videoVolume&&null!==h.videoVolume&&D.setState({videoVolume:h.videoVolume}),h.hasOwnProperty("animationTheme")&&(v=re.Z.getThemeByName(h.animationTheme)),k="",h.hasOwnProperty("email")&&(k=h.email),C="",h.hasOwnProperty("name")&&(C=h.name),h.applyToAllScenes&&D.setState({applyToAllScenes:h.applyToAllScenes}),h.assetResponseId&&(D.setState({assetResponseId:h.assetResponseId}),D.props.getSavedAssets(h.assetResponseId)),D.setState({projectName:h.projectName,projectCategory:h.projectCategory,cognito_id:h.cognito_id,email:k,name:C}),D.state.imageURL=[],m=h,I=D.state.allAssets,T=[],E="",S.outroStyle&&S.outroStyle.hasOwnProperty("message"))for(E=S.outroStyle.message,(A=document.createElement("span")).innerHTML=E,_=A.querySelectorAll("strong"),R=0;R<_.length;R++)T.push(_[R].innerHTML.trim());if(P=S.outroStyle&&S.outroStyle.hasOwnProperty("backgroundFilePath")?S.outroStyle.backgroundFilePath:je.FS,(N=v.getStyles()).fontSize=D.getFontSizeForAspectRatio(N.fontSize),D.state.askBrandSettingChange)if(m.scenes.length>0&&"Outro Scene"===m.scenes[m.scenes.length-1].sceneId&&m.scenes.pop(),S.outroStyle&&S.outroStyle.showStyle&&(U={sceneId:"Outro Scene",sentence:E,keywords:T,type:"summary",lines:[{subSceneId:1,text:E,time:2}],logoImage:D.state.logoImage,logoLocation:D.state.logoLocation,image:P,backgroundColor:""!==S.outroStyle.backgroundColor&&void 0!==S.outroStyle.backgroundColor?S.outroStyle.backgroundColor:"rgb(255, 255 , 255)",keywordColor:""!==S.outroStyle.keywordColor&&void 0!==S.outroStyle.keywordColor?S.outroStyle.keywordColor:"rgb(32, 148, 243)",subsentences:[E],showLogo:S.outroStyle.showLogo,addArticleLink:!!S.outroStyle.addArticleLink,uuidArray:[(0,Y.Z)()]},"video"===(0,ye.Q5)(P)&&(U.settings={},U.settings.muteClipAudio=!1,U.settings.voiceOver=!1,U.settings.music=!1),m.scenes.push(U)),L=(0,ye.N$)(D.state.user?D.state.user.username:"")[je.R2.customIntroClip],m.scenes.length>0&&"Custom Intro Scene"===m.scenes[0].sceneId&&m.scenes.shift(),F=m.scenes.length,"Outro Scene"===m.scenes[m.scenes.length-1].sceneId&&(F-=1),S.customIntro&&S.customIntro.showStyle&&L){for(V=S.customIntro.image,B={sceneId:"Custom Intro Scene",showSceneNumber:"Custom Intro Scene",keywords:[],type:"summary",logoImage:"",logoLocation:"",image:V,fontSize:D.getFontSizeForAspectRatio(24).toString(),fontName:"Calibri",fontColor:"rgba(244, 78, 59, 1)",backgroundColor:"",keywordColor:"rgba(204, 204, 204, 1)",subsentences:[""],FontNameForFront:"",showLogo:!1,addArticleLink:"",sentence:"",lines:[{subSceneId:1,text:"",time:2}],settings:O().cloneDeep(D.state.defaultSceneSettings),uuidArray:[(0,Y.Z)()]},"video"===(0,ye.Q5)(V)&&(B.settings.muteClipAudio=!1,B.settings.voiceOver=!1,B.settings.music=!1),M=0;M<F;M++)m.scenes[M].sceneId=M+1;m.scenes.unshift(B)}else for(G=0;G<F;G++)m.scenes[G].sceneId=G+1;if(!m.hasOwnProperty("logoImage")){e.next=60;break}return e.next=60,D.setState({logoImage:D.state.askBrandSettingChange?S.logoFilePath:m.logoImage});case 60:if(!m.hasOwnProperty("logoLocation")){e.next=63;break}return e.next=63,D.setState({logoLocation:D.state.askBrandSettingChange?S.logoLocation:m.logoLocation});case 63:if(!m.hasOwnProperty("metaDescription")){e.next=66;break}return e.next=66,D.setState({metaDescription:m.metaDescription});case 66:if(!m.hasOwnProperty("articleKeywords")){e.next=69;break}return e.next=69,D.setState({articleKeywords:m.articleKeywords});case 69:if(!m.audio||!m.audio.hasOwnProperty("selectedTrackName")){e.next=73;break}return e.next=72,D.setState({trackName:m.audio.selectedTrackName});case 72:be.Z.setItem("trackName",m.audio.selectedTrackName);case 73:if(!m.audio||!m.audio.hasOwnProperty("selectedTrackUrl")){e.next=78;break}return e.next=76,D.setState({activeTrack:m.audio.selectedTrackUrl});case 76:be.Z.setItem("activeTrack",m.audio.selectedTrackUrl),document.getElementById("myAudioPlay").src=m.audio.selectedTrackUrl;case 78:if(!m.audio||!m.audio.hasOwnProperty("selectedTrackType")){e.next=82;break}return e.next=81,D.setState({trackType:m.audio.selectedTrackType});case 81:be.Z.setItem("trackType",m.audio.selectedTrackType);case 82:if(!m.audio||!m.audio.hasOwnProperty("selectedTrackId")){e.next=86;break}return e.next=85,D.setState({trackId:m.audio.selectedTrackId});case 85:be.Z.setItem("trackId",m.audio.selectedTrackId);case 86:if(m.audio&&m.audio.hasOwnProperty("selectedVoiceOverTrack")&&(D.setState({selectedVoiceOverTrack:m.audio.selectedVoiceOverTrack}),be.Z.setItem("voiceOverTrackName",m.audio.selectedVoiceOverTrack)),m.audio&&m.audio.hasOwnProperty("selectedVoiceOverCategory")&&(D.setState({selectedVoiceOverCategory:m.audio.selectedVoiceOverCategory}),be.Z.setItem("voiceOverTrackCategory",m.audio.selectedVoiceOverCategory)),m.audio&&m.audio.hasOwnProperty("selectedVoiceOverTrackUrl")&&(D.setState({selectedVoiceOverTrackUrl:m.audio.selectedVoiceOverTrackUrl}),be.Z.setItem("voiceOverTrackActive",m.audio.selectedVoiceOverTrackUrl)),m.audio&&m.audio.hasOwnProperty("selectedVoiceOverTrackId")){for(D.setState({selectedVoiceOverTrackId:m.audio.selectedVoiceOverTrackId}),be.Z.setItem("voiceOverTrackId",m.audio.selectedVoiceOverTrackId),W=(0,o.Z)(D.state.voiceOverTracks),z=0;z<W.length;z++)W[z]=(0,a.Z)((0,a.Z)({},W[z]),{},{active:!1}),W[z].trackId===m.audio.selectedVoiceOverTrackId&&(g=!0,W[z].active=!0);D.setState({voiceOverTracks:W})}for(m.audio&&m.audio.hasOwnProperty("voiceOverTextSpeed")&&D.setState({speedValue:m.audio.voiceOverTextSpeed}),J=[],H=[],q=[],Q=0;Q<m.scenes.length;Q++){for(m.scenes[Q].image="dummy.png"===m.scenes[Q].image?je.FS:m.scenes[Q].image,X={sceneId:m.scenes[Q].sceneId,sentence:m.scenes[Q].sentence||"",keywords:void 0===m.scenes[Q].keywords?[]:m.scenes[Q].keywords,type:"summary",showLogo:D.state.askBrandSettingChange?S.sceneStyle&&S.showLogo:m.scenes[Q].showLogo,logoImage:D.state.logoImage,logoLocation:D.state.logoLocation,image:m.scenes[Q].image,subsentences:[],backgroundColor:m.scenes[Q].backColor},m.projectMetaData&&m.projectMetaData.sentencesIncludeKeywords||(X.sentence=re.Z.highlightKeywords(X.sentence,X.keywords)),D.extractImageFromSummarySentence(X,m.scenes[Q]),$=m.scenes[Q].fontName?{fontName:m.scenes[Q].fontName,fontSize:m.scenes[Q].fontsize,fontColor:m.scenes[Q].fontColor,keywordColor:m.scenes[Q].keywordColor,textAlign:m.scenes[Q].textAlign,backcolorFullwidth:m.scenes[Q].backcolorFullwidth,textBackgroundColor:m.scenes[Q].textBackColor}:{},"transcribe"===D.state.source&&(X.subSentenceSegments=[]),m.scenes[Q].fontName&&(X.FontNameForFront=K.getFrontFontName(m.scenes[Q].fontName)),("Outro Scene"!==m.scenes[Q].sceneId||f)&&(m.scenes[Q].imageMetadata?q.push(JSON.parse(m.scenes[Q].imageMetadata)):q.push({thumb:X.image,preview:X.image,large:X.image,url:X.image})),m.scenes[Q].layout&&(X.layout=m.scenes[Q].layout),m.scenes[Q].isCustomImage&&(X.isCustomImage=m.scenes[Q].isCustomImage),m.scenes[Q].isUploadedVideo&&(X.isUploadedVideo=m.scenes[Q].isUploadedVideo),m.scenes[Q].isArticleImage&&(X.isArticleImage=m.scenes[Q].isArticleImage),m.scenes[Q].transcribeVideoLength&&(X.transcribeVideoLength=m.scenes[Q].transcribeVideoLength),X.transcription=m.scenes[Q].transcription||!1,X.transition=m.scenes[Q].transition,m.scenes[Q].recordedAudio?(g=!0,X.recordedAudio=m.scenes[Q].recordedAudio,X.audioSegments=m.scenes[Q].audioSegments,X.recordedAudioDuration=m.scenes[Q].recordedAudioDuration||0,X.recordedAudioDurationMiniSec=m.scenes[Q].recordedAudioDurationMiniSec||0,X.recordingApplyToAll=m.scenes[Q].recordingApplyToAll,X.playbackRate=m.scenes[Q].playbackRate):m.scenes[Q].audioSegments&&(X.audioSegments=m.scenes[Q].audioSegments,X.audioSegments&&X.audioSegments.length&&X.audioSegments.length>0&&X.audioSegments.filter((function(e){return e})).length>0&&(g=!0)),m.scenes[Q].bRoll&&(X.bRoll=m.scenes[Q].bRoll,X.bRollUrl=m.scenes[Q].bRollUrl,X.bRollSubSceneSegments=m.scenes[Q].bRollSubSceneSegments),m.scenes[Q].settings?X.settings=m.scenes[Q].settings:X.settings=D.state.defaultSceneSettings,ee=!1,"Outro Scene"===m.scenes[Q].sceneId&&D.state.askBrandSettingChange?S.hasOwnProperty("outroStyle")&&S.outroStyle.showStyle&&(S.outroStyle.fontColor=S.outroStyle.fontColor||"rgb(0,0,0)",D.copyTextFormatting(S.outroStyle,$,N,!0),ee=!0,X.backgroundColor=""!==S.outroStyle.backgroundColor&&void 0!==S.outroStyle.backgroundColor?S.outroStyle.backgroundColor:"rgb(255, 255, 255)",X.showLogo=""!==S.outroStyle.showLogo&&void 0!==S.outroStyle.showLogo&&S.outroStyle.showLogo,X.logoImage=D.state.askBrandSettingChange?S.hasOwnProperty("logoFilePath")?S.logoFilePath:"":X.logoImage,X.logoLocation=D.state.askBrandSettingChange?S.hasOwnProperty("logoLocation")?S.logoLocation:"":X.logoLocation,X.layout=S.outroStyle.hasOwnProperty("layout")?S.outroStyle.layout:"text",X.sentence=D.state.askBrandSettingChange?S.outroStyle.message:X.sentence,X.keywords=D.state.askBrandSettingChange?T:X.keywords):0===Q&&D.state.askBrandSettingChange?S.hasOwnProperty("introStyle")&&S.introStyle.showStyle?(D.copyTextFormatting(S.introStyle,$,N,!0),ee=!0,X.showLogo=""!==S.introStyle.showLogo&&void 0!==S.introStyle.showLogo&&S.introStyle.showLogo,X.logoImage=S.hasOwnProperty("logoFilePath")?S.logoFilePath:X.logoImage,X.logoLocation=S.hasOwnProperty("logoLocation")?S.logoLocation:X.logoLocation):(D.copyTextFormatting({},$,N),X.backgroundColor||(X.backgroundColor=N.backgroundColor),X.showLogo||(X.showLogo=S.hasOwnProperty("introStyle")&&S.introStyle.showLogo?S.introStyle.showLogo:N.showLogo)):Q>0&&D.state.askBrandSettingChange&&(S.hasOwnProperty("sceneStyle")&&S.sceneStyle.showStyle?(D.copyTextFormatting(S.sceneStyle,$,N,!0),ee=!0,X.showLogo=""!==S.sceneStyle.showLogo&&void 0!==S.sceneStyle.showLogo&&S.sceneStyle.showLogo,X.logoImage=S.hasOwnProperty("logoFilePath")?S.logoFilePath:X.logoImage,X.logoLocation=S.hasOwnProperty("logoLocation")?S.logoLocation:X.logoLocation):(D.copyTextFormatting({},$,N),X.backgroundColor||(X.backgroundColor=N.backgroundColor),X.showLogo||(X.showLogo=S.hasOwnProperty("sceneStyle")&&S.sceneStyle.showLogo?S.sceneStyle.showLogo:N.showLogo))),m.scenes[Q].imageMetadata&&m.scenes[Q].image&&(I[m.scenes[Q].image]=JSON.parse(m.scenes[Q].imageMetadata)),"Outro Scene"===m.scenes[Q].sceneId&&m.scenes[Q].hasOwnProperty("addArticleLink")?X.addArticleLink=m.scenes[Q].addArticleLink:"Outro Scene"===m.scenes[Q].sceneId&&(X.addArticleLink=!1),X.format=[],ne=function(){var e,t,n=m.scenes[Q].lines[ae].html||m.scenes[Q].lines[ae].text||"";m.projectMetaData&&m.projectMetaData.sentencesIncludeKeywords||(n=re.Z.highlightKeywords(n,X.keywords)),X.subsentences.push(n),"transcribe"===D.state.source&&m.scenes[Q].lines[ae].settings&&m.scenes[Q].lines[ae].settings.subSentenceSegments&&m.scenes[Q].lines[ae].settings.subSentenceSegments.length>0&&X.subSentenceSegments.push(m.scenes[Q].lines[ae].settings.subSentenceSegments);var r=m.scenes[Q].lines[ae].format;if(r&&!ee){if(!(m.projectMetaData&&m.projectMetaData.aspectRatioFontSizeFixed||"sixteen-nine"===m.aspectRatioClass)){var s=je.z6.find((function(e){return e.value>=r.fontSize/ia}));s||(s=je.z6[je.z6.length-1]),r.fontSize=s.value}D.copyTextFormatting(r,$,{},!0)}var a=O().cloneDeep($);if(a.displayItems=null===(e=a.displayItems)||void 0===e?void 0:e.map((function(e){var t,n=null===(t=e.visualData)||void 0===t?void 0:t.url;if("visual"===e.type&&"emoji"===(0,ye.Nc)(n)&&0===n.indexOf("https://twemoji.maxcdn.com/2/svg/")){var r=e.visualData.unified;e.visualData.url="https://cdn.jsdelivr.net/npm/@svgmoji/twemoji@2.0.0/svg/"+(r||"2753").toUpperCase()+".svg"}return e})),null!=a&&null!==(t=a.visual)&&void 0!==t&&t.isLogo){var i,o,c,l,u={type:"visual",id:(0,Y.Z)(),visualData:{url:null==a?void 0:a.visual.visualUrl},itemStyleData:{paragraphWidth:null==a||null===(i=a.visual)||void 0===i||null===(o=i.position)||void 0===o?void 0:o.width,preset:null==a||null===(c=a.visual)||void 0===c||null===(l=c.position)||void 0===l?void 0:l.preset},isLogo:!0};a.displayItems||(a.displayItems=[]),a.displayItems.push(u),a.visual={}}X.format.push(a);var d={SceneId:"Custom Intro Scene"==m.scenes[Q].sceneId?1:Q+1,SubSceneId:m.scenes[Q].lines[ae].subSceneId,topCoordinate:m.scenes[Q].lines[ae].topCoordinate,leftCoordinate:m.scenes[Q].lines[ae].leftCoordinate,paragraphWidth:m.scenes[Q].lines[ae].paragraphWidth};H.push(d)},ae=0;ae<m.scenes[Q].lines.length;ae++)ne();m.scenes[Q].isBrandIntro&&(X.isBrandIntro=!0),m.scenes[Q].isBrandOutro&&(X.isBrandOutro=!0),J.push(X),""!==m.scenes[Q].image?"Outro Scene"===m.scenes[Q].sceneId&&D.state.askBrandSettingChange?(ie=S.outroStyle.hasOwnProperty("backgroundFilePath")?S.outroStyle.backgroundFilePath:je.FS,D.state.imageURL.push(ie)):D.state.imageURL.push(m.scenes[Q].image):D.state.imageURL.push("")}if(D.state.askBrandSettingChange)if("Custom Intro Scene"==m.scenes[0].sceneId)J[0].showLogo=!1,J[0].image=S.hasOwnProperty("customIntro")&&S.customIntro.showStyle?S.customIntro.image:J[0].image,S.hasOwnProperty("introStyle")&&S.introStyle.showStyle&&(J[1].format[0]=J[1].format[0]||{},D.copyTextFormatting(S.introStyle,J[1].format[0],N,!0),J[1].showLogo=""!==S.introStyle.showLogo&&void 0!==S.introStyle.showLogo&&S.introStyle.showLogo,J[1].logoImage=S.hasOwnProperty("logoFilePath")?S.logoFilePath:J[0].logoImage,J[1].logoLocation=S.hasOwnProperty("logoLocation")?S.logoLocation:J[0].logoLocation);else if(S.hasOwnProperty("sceneStyle")&&S.sceneStyle.showStyle)for(oe=1;oe<J[0].format.length;oe++)J[0].format[oe]=J[0].format[oe]||{},D.copyTextFormatting(S.sceneStyle,J[0].format[oe],N,!0);return e.next=99,D.setState({url:m.articleUrl,allAssets:I,scenePosition:H});case 99:if(D.state.summaryJsonText=J,ce=0,le=0,be.Z.setItem("voiceSpeechSpeed",D.state.speedValue),h.imageAssests=q,h.imageAssests&&"string"==typeof h.imageAssests&&(h.imageAssests=JSON.parse(h.imageAssests)),ue=[],h.allSummaryAssets&&"string"==typeof h.allSummaryAssets&&(ue=(0,o.Z)(JSON.parse(h.allSummaryAssets))),de=(0,o.Z)(D.state.defaultImages),q=(0,o.Z)(D.state.imageAssests),!(D.state.summaryJsonText&&D.state.summaryJsonText.length>0)){e.next=114;break}return D.state.summaryJsonText.map((function(e,t){""!==e.image?D.state.imageURL.push(e.image):D.state.imageURL.push(""),D.state.selectedKeywordForUnderline.push(""),ce=parseInt(ce)+1,le=parseInt(le)+parseInt(e.subsentences.length),h.imageAssests||(de=[de,{thumb:e.image?e.image:"",large:e.image?e.image:"",preview:e.image?e.image:"",url:e.image?e.image:""}]),h.imageAssests||(q=[q,{thumb:e.image?e.image:"",large:e.image?e.image:"",preview:e.image?e.image:"",url:e.image?e.image:""}])})),e.next=113,D.setTimePerFrameArray(h.timePerFrame);case 113:D.setState({allSummaryAssets:ue,hasOneSubPerSentence:h.hasOneSubPerSentence,projectMetaData:h.projectMetaData,defaultImages:h.imageAssests?(0,o.Z)(h.imageAssests):de,sentences:ce,totalSentencesWithSubScenes:le,imageAssests:h.imageAssests?(0,o.Z)(h.imageAssests):q,durationUpdatedScenes:null!==(pe=h)&&void 0!==pe&&pe.durationUpdatedScenes?{loading:!1,sceneIds:(null===(he=h.durationUpdatedScenes)||void 0===he?void 0:he.sceneIds)||[],sceneIndices:(null===(me=h.durationUpdatedScenes)||void 0===me?void 0:me.sceneIndices)||[],isSceneDeleted:null===(ge=h.durationUpdatedScenes)||void 0===ge?void 0:ge.isSceneDeleted,updatedSceneDuration:(null===(fe=h)||void 0===fe||null===(ve=fe.durationUpdatedScenes)||void 0===ve?void 0:ve.updatedSceneDuration)||[]}:{loading:!1,sceneIds:[],sceneIndices:[],isSceneDeleted:!1,updatedSceneDuration:[]},generatedVoiceOvers:(null===(xe=h)||void 0===xe?void 0:xe.generatedVoiceOvers)||[]});case 114:h.videoURL&&D.setState({videoURL:h.videoURL}),e.next=131;break;case 117:for(D.state.loadProjectDetails&&(D.setState({templateMetaData:D.state.loadProjectDetails.templateMetaData,projectMetaData:{aspectRatioFontSizeFixed:!0}}),"transcribe"===D.state.loadProjectDetails.source&&(D.state.loadProjectDetails.transcriptionDuration&&D.setState({transcriptionDuration:D.state.loadProjectDetails.transcriptionDuration}),D.state.loadProjectDetails.transcriptionLanguage&&D.setState({transcriptionLanguage:D.state.loadProjectDetails.transcriptionLanguage}),void 0!==D.state.loadProjectDetails.isPodcast&&D.setState({isPodcast:D.state.loadProjectDetails.isPodcast}),D.state.loadProjectDetails.editingVideoHeight&&D.setState({editingVideoHeight:D.state.loadProjectDetails.editingVideoHeight}),D.state.loadProjectDetails.editingVideoWidth&&D.setState({editingVideoWidth:D.state.loadProjectDetails.editingVideoWidth}),D.state.loadProjectDetails.subtitlesLineCount&&D.setState({subtitlesLineCount:D.state.loadProjectDetails.subtitlesLineCount})),void 0!==D.state.loadProjectDetails.bgMusicVolPercent&&D.setState({bgMusicVolPercent:D.state.loadProjectDetails.bgMusicVolPercent}),void 0!==D.state.loadProjectDetails.videoVolume&&null!==D.state.loadProjectDetails.videoVolume&&D.setState({videoVolume:D.state.loadProjectDetails.videoVolume}),D.state.loadProjectDetails.aspectRatioClass&&D.state.loadProjectDetails.aspectRatioValue&&((Se=D.state.loadProjectDetails.aspectRatioFractionValue)?(we=Ye.R3.find((function(e){return Math.abs(e.fractionValue-Se)<=.01})))?D.updateAspectRatio({value:we.value,class:we.class,fractionValue:we.fractionValue},!0,null,D.state.loadProjectDetails.frameAspectRatio):(Ze=D.state.loadProjectDetails.aspectRatioValue.replace(/\s/g,"-"),D.updateAspectRatio({value:Ze,class:Ze,fractionValue:Se},!0,null,D.state.loadProjectDetails.frameAspectRatio)):(ke=Ye.R3.find((function(e){return e.class===D.state.loadProjectDetails.aspectRatioClass})),Se=ke?ke.fractionValue:Ye.Wi,D.updateAspectRatio({value:D.state.loadProjectDetails.aspectRatioValue,class:D.state.loadProjectDetails.aspectRatioClass,fractionValue:Se},!0,null,D.state.loadProjectDetails.frameAspectRatio))),D.state.loadProjectDetails.videoResolution&&(!1===(Ce=(0,o.Z)(D.state.videoResolutions)).includes(D.state.loadProjectDetails.videoResolution)&&Ce.push(D.state.loadProjectDetails.videoResolution),D.setState({VideoRes:D.state.loadProjectDetails.videoResolution,videoResolutions:Ce}))),Ie=[],Te=[],Ee=0;Ee<D.state.summaryJsonText.length;Ee++)Ae=D.state.summaryJsonText[Ee],D.extractImageFromSummarySentence(Ae),Ae.image&&""!=Ae.image?(Ae.settings=(0,a.Z)((0,a.Z)({},D.state.defaultSceneSettings),{},{imageZoomPan:!1}),Ae.isArticleImage=!0,"visuals"==D.state.source&&("video"==(0,ye.Q5)(Ae.image)&&(Ae.isUploadedVideo=!0,Ae.settings=(0,a.Z)((0,a.Z)({},Ae.settings),{},{muteClipAudio:!1,videoOptions:{segments:[{start:Ae.startTime,end:Ae.endTime}],isCropped:!0}})),Te.push({large:Ae.image,url:Ae.image,preview:Ae.image,thumb:Ae.image}))):Ae.settings=D.state.defaultSceneSettings,"transcribe"==D.state.source&&(Ae.isUploadedVideo=!0,Ae.settings=(0,a.Z)((0,a.Z)({},Ae.settings),{},{muteClipAudio:!1,videoOptions:{segments:(0,o.Z)(Ae.timeSegments),isCropped:!0}}),D.props.location.state.isSubtitleEnabled||(Ae.settings.hideText=!0),Ae.transcribeVideoLength=D.state.timePerFrame[Ee]),Ae.sceneId=Ee+1,Ie.push(Ae);return Te.length&&"visuals"==D.state.source&&D.setState({imageAssests:Te}),e.next=124,D.setState({summaryJsonText:Ie});case 124:return be.Z.setItem("recordedAudio",""),e.next=127,D.updatesummaryJSONTextArray(!0);case 127:_e=e.sent,D.state.imageURL=(0,o.Z)(_e),D.state.defaultImages=(0,o.Z)(D.state.imageURL),"transcribe"!==D.state.loadProjectDetails.source&&D.setTimePerFrameArray();case 131:return D.setState({animationTheme:v,currentThemeName:v.themeName,voiceOverApplied:g}),D.addUuidToSummaryJsonText(),e.next=135,D.componentWillMount_call();case 135:return e.next=137,D.componentDidMount_call(t);case 137:if(D.getEstimatedTime(),(D.state.askBrandSettingChange||t)&&(t&&!D.state.isOpenTextEditor&&D.reloadScene(D.state.currentActiveDiv),D.setState({isAnyChange:!0,askBrandSettingChange:!1})),(D.state.loadProject||t)&&(Re=!1,h&&h.timePerFrame||(Re=!0),D.setIntroVideoDurationInState(Re),D.setOutroVideoDurationInState(Re),D.triggerAppcuesEvent("storyboard-opened-existing-project")),setTimeout((function(){D.setState({showSceneStrip:!0})}),100),D.state.isGeneratedAsyncVideo&&D.setState({isAnyChange:!0}),D.state.actionTaken&&!t&&D.setState({actionTaken:!1}),!(D.state.isNewProject&&(null===(n=D.props)||void 0===n||null===(r=n.userBrands)||void 0===r?void 0:r.length)>0&&!D.state.brandId&&"none"!=D.state.brandId&&null!==(s=D.state)&&void 0!==s&&null!==(l=s.subSentencesArray)&&void 0!==l&&l.length)){e.next=149;break}if(Oe=null===(Pe=D.props)||void 0===Pe||null===(Ne=Pe.userBrands)||void 0===Ne?void 0:Ne.find((function(e){return e.isDefault})),De="transcribe"==D.state.source,!Oe){e.next=149;break}return e.next=149,D.applyBrand(Oe.id,De,!0);case 149:if(!(D.state.isNewProject&&null!==(u=D.props)&&void 0!==u&&u.userBrands&&"transcribe"==D.state.loadProjectDetails.source&&null!==(d=D.state)&&void 0!==d&&null!==(p=d.subSentencesArray)&&void 0!==p&&p.length)){e.next=164;break}if(Be=D.state.loadProjectDetails.brandId,Me=null===(Ue=D.props)||void 0===Ue||null===(Le=Ue.userBrands)||void 0===Le?void 0:Le.find((function(e){return e.id==Be})),Ge="transcribe"==D.state.source,!Me){e.next=158;break}return e.next=156,D.applyBrand(Me.id,Ge,!0);case 156:e.next=161;break;case 158:if(!D.state.loadProjectDetails.step2BrandDetails){e.next=161;break}return e.next=161,D.applyBrand(null,Ge,!0,D.state.loadProjectDetails.step2BrandDetails);case 161:if(null===(Fe=D.state)||void 0===Fe||null===(Ve=Fe.loadProjectDetails)||void 0===Ve||!Ve.appliedStyle){e.next=164;break}return e.next=164,D.applyStyleToScene(D.state.loadProjectDetails.appliedStyle,"scenes",null,!0);case 164:(0,ye.Lv)(D.state.username);case 165:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.addUuidToSummaryJsonText=function(){for(var e=(0,o.Z)(D.state.summaryJsonText),t=0;t<e.length;t++)if(!e[t].uuidArray){e[t].uuid="scene_"+(0,Y.Z)(),e[t].uuidArray=[];for(var n=0;n<e[t].subsentences.length;n++)e[t].uuidArray.push((0,Y.Z)())}D.setState({summaryJsonText:e})},D.getFontNameWithWeight=function(e){return e.fontName.replace(/\'/g,"").replace(" ","")+(e.fontWeight?"-"+e.fontWeight:"")},D.copyTextFormatting=function(e,t,n,r,s){e||(e={}),n||(n={});for(var a=function(s){var a;e[s]&&"object"==typeof e[s]&&(e[s]=O().cloneDeep(e[s])),t[s]=r?e[s]||t[s]:t[s]||e[s],t[s]||(a="fontName"===s&&n.fontName?D.getFontNameWithWeight(n):"textAlign"===s?n.textRightAlign?"right":n.textHCenterAlign?"center":"left":n[s],t[s]=a)},i=0;i<je.ye.length;i++){var o=je.ye[i];if("preset"===o&&!e.preset&&e.leftCoordinate)t.preset=null;else{if(null!=s&&s.includes(o))continue;a(o)}}t.FontNameForFront=K.getFrontFontName(t.fontName)},D.updatesummaryJSONTextArray=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s,a,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=I.length>0&&void 0!==I[0]&&I[0],(0,ye.PW)(D.state.username),n=0,r=0,(s=D.state.animationTheme.getStyles()).fontSize=D.getFontSizeForAspectRatio(s.fontSize),a=[],be.Z.setItem("voiceSpeechSpeed",D.state.speedValue),""!==D.state.brandSetting&&null!==D.state.brandSetting&&D.state.brandSetting.length>0&&D.state.brandSetting.hasOwnProperty("outroStyle")&&D.state.brandSetting.outroStyle.showStyle&&(r=1),c=(0,o.Z)(D.state.summaryJsonText),l=0;l<c.length;l++)u=void 0,d={},0===l&&D.state.brandSetting.hasOwnProperty("introStyle")&&D.state.brandSetting.introStyle.showStyle&&(u={},D.copyTextFormatting(D.state.brandSetting.introStyle,u,s)),"Outro Scene"!==c[l].sceneId&&D.state.brandSetting.hasOwnProperty("sceneStyle")&&D.state.brandSetting.sceneStyle.showStyle?D.copyTextFormatting(D.state.brandSetting.sceneStyle,d,s):"Outro Scene"===c[l].sceneId&&D.state.brandSetting.hasOwnProperty("outroStyle")?D.copyTextFormatting(D.state.brandSetting.outroStyle,d,s):D.copyTextFormatting({},d,s),p=c[l].subsentences.length,c[l].format=new Array(p).fill(O().cloneDeep(d)),0===l&&u&&(c[0].format[0]=u),0===l&&D.state.brandSetting.hasOwnProperty("introStyle")&&(c[l].showLogo=D.state.isNewProject||D.state.askBrandSettingChange?""!==D.state.brandSetting.introStyle.showLogo&&void 0!==D.state.brandSetting.introStyle.showLogo&&D.state.brandSetting.introStyle.showLogo:c[l].showLogo),0!==l&&"Outro Scene"!==c[l].sceneId&&D.state.brandSetting.hasOwnProperty("sceneStyle")&&(c[l].showLogo=D.state.isNewProject||D.state.askBrandSettingChange?""!==D.state.brandSetting.sceneStyle.showLogo&&void 0!==D.state.brandSetting.sceneStyle.showLogo&&D.state.brandSetting.sceneStyle.showLogo:c[l].showLogo),c[l].logoImage=D.state.logoImage,c[l].logoLocation=D.state.logoLocation,""!==c[l].image?a.push(c[l].image):a.push(""),D.state.selectedKeywordForUnderline.push(""),n=parseInt(n)+1,r=parseInt(r)+parseInt(c[l].subsentences.length),D.state.sentences=n,D.state.totalSentencesWithSubScenes=r;if(h=(0,o.Z)(D.state.timePerFrame),(m=D.state.brandSetting).hasOwnProperty("outroStyle")&&m.outroStyle.showStyle&&t){if(g="",f=[],m.outroStyle.hasOwnProperty("message"))for(g=m.outroStyle.message,(v=document.createElement("span")).innerHTML=g,x=v.querySelectorAll("strong"),S=0;S<x.length;S++)f.push(x[S].innerHTML.trim());y=m.outroStyle.hasOwnProperty("backgroundFilePath")?m.outroStyle.backgroundFilePath:je.FS,(b=D.state.animationTheme.getStyles()).fontSize=D.getFontSizeForAspectRatio(b.fontSize),j=""!==m.outroStyle.fontName&&void 0!==m.outroStyle.fontName?m.outroStyle.fontName:D.getFontNameWithWeight(b),w={sceneId:"Outro Scene",sentence:g,keywords:f,type:"summary",logoImage:D.state.logoImage,logoLocation:D.state.logoLocation,image:y,fontSize:""!==m.outroStyle.fontSize&&void 0!==m.outroStyle.fontSize?m.outroStyle.fontSize:b.fontSize,fontName:j,fontColor:""!==m.outroStyle.fontColor&&void 0!==m.outroStyle.fontColor?m.outroStyle.fontColor:"rgb(0,0,0)",backgroundColor:""!==m.outroStyle.backgroundColor&&void 0!==m.outroStyle.backgroundColor?m.outroStyle.backgroundColor:"rgb(255, 255 , 255)",keywordColor:""!==m.outroStyle.keywordColor&&void 0!==m.outroStyle.keywordColor?m.outroStyle.keywordColor:b.keywordColor,subsentences:[g],FontNameForFront:K.getFrontFontName(j),showLogo:m.outroStyle.showLogo,addArticleLink:!!m.outroStyle.addArticleLink,layout:m.outroStyle.layout?m.outroStyle.layout:"text",settings:O().cloneDeep(D.state.defaultSceneSettings),uuidArray:[(0,Y.Z)()]},"video"===(0,ye.Q5)(y)&&(w.settings.muteClipAudio=!1,w.settings.voiceOver=!1,w.settings.music=!1),c.push(w),h.push(5),a.push(y)}return Z=(0,ye.N$)(D.state.user?D.state.user.username:"")[je.R2.customIntroClip],m&&m.customIntro&&t&&Z&&m.customIntro.showStyle&&(k=m.customIntro.image,C={sceneId:"Custom Intro Scene",showSceneNumber:"Custom Intro Scene",keywords:[],type:"summary",logoImage:"",logoLocation:"",image:m.customIntro.image,fontSize:D.getFontSizeForAspectRatio(24).toString(),fontName:"Calibri",fontColor:"rgba(244, 78, 59, 1)",backgroundColor:"",keywordColor:"rgba(204, 204, 204, 1)",subsentences:[""],FontNameForFront:"",showLogo:!1,addArticleLink:"",sentence:"",settings:O().cloneDeep(D.state.defaultSceneSettings),uuidArray:[(0,Y.Z)()]},"video"===(0,ye.Q5)(k)&&(C.settings.muteClipAudio=!1,C.settings.voiceOver=!1,C.settings.music=!1),c.unshift(C),h.unshift(5),a.unshift(k)),e.next=18,D.setState({summaryJsonText:c,timePerFrame:h});case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)}))),D.setTheme=function(e){var t=re.Z.getThemeByName(e),n=D.state.subSentencesArray.map((function(e){return delete e.fontName,delete e.fontSize,delete e.fontColor,delete e.backcolorFullwidth,delete e.textBackgroundColor,delete e.keywordColor,delete e.textAlign,delete e.topCoordinate,delete e.leftCoordinate,delete e.paragraphWidth,e})),r=D.state.summaryJsonText.map((function(e){return delete e.fontName,delete e.fontSize,delete e.fontColor,delete e.backcolorFullwidth,delete e.textBackgroundColor,delete e.keywordColor,delete e.textAlign,delete e.topCoordinate,delete e.leftCoordinate,delete e.paragraphWidth,e}));D.setState({animationTheme:t,subSentencesArray:n,summaryJsonText:r,scenePosition:[],previousThemeName:D.state.currentThemeName,currentThemeName:t.themeName},(function(){D.updatesummaryJSONTextArray(!1),D.componentWillMount_call(),D.setState({isAnyChange:!0}),w().getInstance().logEvent("theme-changed",{"current-theme":D.state.currentThemeName,"previous-theme":D.state.previousThemeName,"article-link":D.state.url,"project-id":D.state.project_id})})),D.setDefaultPosition()},D.setDefaultPosition=function(){D.setState({themeChange:!D.state.themeChange})},D.getDefaultAssets=function(e,t){var n=(0,o.Z)(e);if(D.props.location&&D.props.location.state&&D.props.location.state.articleImages&&D.props.location.state.articleImages.length>0){var s,a=(0,r.Z)(D.props.location.state.articleImages);try{var i=function(){var e=s.value;!1===n.some((function(t){return Object.keys(t).length>0&&((0,ye.QD)(t.thumb)===(0,ye.QD)(e)||(0,ye.QD)(t.preview)===(0,ye.QD)(e)||(0,ye.QD)(t.large)===(0,ye.QD)(e))}))&&n.push({large:e,preview:e,thumb:e})};for(a.s();!(s=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}}var c,l=(0,r.Z)(t);try{var u=function(){var e=c.value;!1===n.some((function(t){return(0,ye.QD)(t&&t.thumb?t.thumb:"")===(0,ye.QD)(e&&e.thumb?e.thumb:"")}))&&e&&!O().isEmpty(e)&&n.push(e)};for(l.s();!(c=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}D.setState({defaultAssets:n})},D.getActionForAnalytics=function(e,t,n){n&&D.setState({activeAudioTab:n,audioTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.audioTabsActivationStatus),{},(0,s.Z)({},n,!0))}),w().getInstance().logEvent(e,{source:t,"project-id":D.state.project_id})},D.stopRecentLoader=function(){D.setState({recentLoading:!1})},D.stopImageFavouriteLoader=function(e){D.setState({favLoading:e})},D.onVolumeChangeComplete=function(e){D.setState({isAnyChange:!0});var t="video-editing";if(D.state.source){var n=D.state.source.toLowerCase();"url"===n?t="article-to-video":"script"===n?t="script-to-video":"visuals"===n&&(t="visuals-to-video")}var r=D.getAIVoiceOverTrackUrl(),s=D.getBgMusicTrackUrl();w().getInstance().logEvent("volume-updated",{asset:e,"project-id":D.state.project_id,"use-case":t,"AI-voice-over-id":r||"NA","music-id":s||"NA"})},D.getAIVoiceOverTrackUrl=function(){var e="NA",t=D.state.voiceOverTracks.findIndex((function(e){return!0===e.active}));return t>=0&&(e=D.state.voiceOverTracks[t].trackUrl),e},D.getBgMusicTrackUrl=function(){var e="NA";return""!==be.Z.getItem("activeTrack")&&null!==be.Z.getItem("activeTrack")&&(e=be.Z.getItem("activeTrack")),e},D.updateAspectRatio=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s){var a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be.Z.setItem("aspectRatio",re.Z.calculateDefaultWidth(t.fractionValue)),be.Z.setItem("aspectRatioValue",t.value),a=Ye.R3.find((function(e){return e.value==r})),!a&&!s||D.state.frameAspectRatio){e.next=7;break}return o=a||s,e.next=7,D.setState({frameAspectRatio:o});case 7:return e.next=9,D.setState({aspectRatioClass:t.class,aspectRatioValue:t.value,aspectRatioFractionValue:t.fractionValue},(function(){n||D.setState({reFetchForAspectRatio:!0},(function(){var e=D.state.subSentencesArray.map((function(e){return delete e.settings.frame,e}));D.setState({subSentencesArray:e,scenePosition:[]}),D.setDefaultPosition(),D.setState({isAnyChange:!0})}))}));case 9:t&&t.value&&w().getInstance().logEvent("aspect-ratio-updated",{"aspect-ratio":t.value});case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),D.showUpgradeModal=function(e,t,n){if(e&&e.stopPropagation(),t)(0,ye.TX)("step-3-modal"),_()("#step-3-modal").modal("show"),document.body.appendChild(document.getElementById("step-3-modal"));else{var r;r=(0,ye.N$)(D.state.username)[je.R2.videoResolution];for(var s=!1,a=0;a<r.length;a++)"1080p"===r[a]&&(s=!0);s?D.onSelectingVideoResolutionValue(n):(D.closeQuotaPopup(),(0,ye.TX)("step-3-modal"),_()("#step-3-modal").modal("show"),_()(".select-video-quality input[type=checkbox]").prop("checked",!1),_()(".select-video-quality input[value=720p]").prop("checked",!0))}},D.hideUpgradeModal=function(e,t){e.stopPropagation(),_()(".modal").modal("hide"),D.closeQuotaPopup(),t&&D.props.history.push("/"+ke.Z.plansList)},D.trimVideoNotAllowed=function(){D.setState({trimVideoNotAllowed:!0},(function(){(0,ye.TX)("step-3-modal"),_()("#step-3-modal").modal("show"),document.body.appendChild(document.getElementById("step-3-modal"))}))},D.transitionsNotAllowed=function(){D.setState({transitionsNotAllowed:!0},(function(){(0,ye.TX)("step-3-modal"),_()("#step-3-modal").modal("show"),document.body.appendChild(document.getElementById("step-3-modal"))}))},D.musicTrackNotAllowed=function(){D.setState({musicTrackNotAllowed:!0},(function(){(0,ye.TX)("step-3-modal"),_()("#step-3-modal").modal("show")}))},D.getVideoPreviewData=function(e,t){for(var n=e?D.getScenePreviewArrays(e,t):D.state,r=n.summaryJsonText,s=n.subSentencesArray,i=n.voiceOverURL,c=n.imageURL,l=n.timePerFrame,u=(0,ye.we)(D.state.username),d=u&&u.plan?u.plan.plan_code:"",p=d===je.yj.freeTrial||d===je.yj.teamsFreeTrial,h=!1,m=!1,g=!1,f=0;f<r.length;f++){var v=r[f];v&&v.settings&&0==m&&(m=!v.settings.muteClipAudio),!h&&(v.recordedAudio||v.audioSegments&&v.audioSegments.some((function(e){return e&&e.recordedAudio})))&&(h=!0),v.bRoll&&(g=!0)}var x=(0,o.Z)(s),S=null;if(i&&(S=(0,a.Z)({},i)),!("transcribe"!==D.state.source||S&&S.timePerSceneForVoiceOver)){S={Url:"",timePerSceneForVoiceOver:Array(x.length).fill(5e3),originalTimePerFrameForEachScene:[]};for(var y=0;y<x.length;y++){var b=(0,a.Z)({},x[y]);x[y]=b,b.transcription&&(S.timePerSceneForVoiceOver[y]=1e3*b.transcribeVideoLength)}}if(0===x.length||!p||e)return{subSentencesArray:x,imagesArray:c,voiceOverURL:S,hasRecordedVoice:h,playBgClipAudio:m,bRollSceneAudio:g,timePerFrame:l};var j=(0,o.Z)(c);if(S&&S.timePerSceneForVoiceOver){var w=(0,o.Z)(S.timePerSceneForVoiceOver);w.push(5e3),S.timePerSceneForVoiceOver=w}var Z=re.Z.PICTORY_BRANDING_VIDEO_16_9;"sixteen-nine"==D.state.aspectRatioClass?Z=re.Z.PICTORY_BRANDING_VIDEO_16_9:"one-one"==D.state.aspectRatioClass?Z=re.Z.PICTORY_BRANDING_VIDEO_1_1:"nine-sixteen"==D.state.aspectRatioClass&&(Z=re.Z.PICTORY_BRANDING_VIDEO_9_16);var k=x[x.length-1],C=x.length+1;return x.push({sentence:"",keywords:[],type:"summary",image:Z,AllSubSentences:[""],subsentences:[""],showLogo:k.showLogo,logoImage:D.state.logoImage,logoLocation:D.state.logoLocation,fontSize:k.fontSize,fontColor:k.fontColor,backgroundColor:k.backgroundColor,textBackgroundColor:k.textBackgroundColor,keywordColor:k.keywordColor,fontName:k.fontName,FontNameForFront:K.getFrontFontName(k.fontName),sceneId:C,showSceneNumber:"Scene ".concat(C),isBranding:!0,subSceneId:1,subSentences:""}),l.push(6),j[C-1]=Z,{subSentencesArray:x,imagesArray:j,voiceOverURL:S,hasRecordedVoice:h,playBgClipAudio:m,bRollSceneAudio:g,timePerFrame:l}},D.getScenePreviewArrays=function(e,t){if(!e)return{};var n=null;n=D.state.voiceOverURLForScene?(0,a.Z)({},D.state.voiceOverURLForScene):{Url:"",timePerSceneForVoiceOver:[],originalTimePerFrameForEachScene:[]};for(var r=[],s=[],i=[],o=0,c=!1,l=0;l<D.state.subSentencesArray.length;l++){var u=D.state.subSentencesArray[l],d=l>0?D.state.subSentencesArray[l-1]:null;if(d&&!c&&u.sceneId!==d.sceneId&&(o+=1),e===u.sceneId){if(c=!0,s.push(u),u.transcription){var p=u.transcribeVideoLength;p&&0!==p||(p=5),r.push(1e3*p)}i.push(D.state.timePerFrame[l])}}for(var h=[],m=[],g=0;g<D.state.summaryJsonText.length;g++){var f=D.state.summaryJsonText[g];g===o?(h.push(f),m.push(D.state.imageURL[g])):m.push(null)}return r.length>0&&(n.timePerSceneForVoiceOver=r),{summaryJsonText:h,subSentencesArray:s,voiceOverURL:n,imageURL:m,timePerFrame:i}},D.getSummaryFromGivenSubSentenceSceneId=function(e){for(var t=0,n=0;n<D.state.subSentencesArray.length;n++){var r=D.state.subSentencesArray[n],s=D.state.subSentencesArray[n-1];if(r.sceneId!==(null==s?void 0:s.sceneId)&&r.sceneId!=e&&(t+=1),e===r.sceneId)return{summary:D.state.summaryJsonText[t],index:t}}return{summary:void 0,index:-1}},D.setOpenConfirmDeleteDialog=function(e){return D.setState((0,a.Z)((0,a.Z)({},D.state),{},{showDeletePopup:e}))},D.getAssetsLoader=function(){return(0,ue.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"absolute",left:"46%",zIndex:"2",top:"100px"},children:(0,ue.jsx)(H(),{size:35,loading:!0,color:"#ADB4B3"})})},D.resizeTimer=null,D.handleMouseClick=function(e){var t,n,r;if(!e.ctrlKey&&!e.metaKey&&!D.sceneContainerRef.current.contains(e.target))if("edit-video-delete-button-icon"===(null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n?void 0:n.id)||"edit-video-delete-button-icon"===(null===(r=e.target)||void 0===r?void 0:r.id))D.setState((0,a.Z)((0,a.Z)({},D.state),{},{showDeletePopup:!0}));else{var s=(0,o.Z)(D.state.subSentencesArray);s.forEach((function(e){return e.isActive=!1})),s.length>0&&(s[D.state.currentActiveDiv-1].isActive=!0),D.setState((0,a.Z)((0,a.Z)({},D.state),{},{subSentencesArray:s}))}},D.handleMenutabChange=function(e){switch(e){case 0:D.setState({activeThemeTab:!1,activeAudioTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,activeDisplayTextTab:!1,selectedMenuTabValue:e});break;case 1:D.setState({activeThemeTab:!1,activeVisualTab:D.state.activeVisualTab||"Library",selectedVisualTabValue:D.state.selectedVisualTabValue,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Library:!0,activeThemeTab:!1,activeAudioTab:!1,activeAspectRatioTab:!1}),activeDisplayTextTab:!1,selectedMenuTabValue:e}),D.handleVisualtabChange(null,D.state.selectedVisualTabValue);break;case 2:D.setFavouritesOnTracks(),D.setState({activeAudioTab:D.state.activeAudioTab||"track",selectedAudioTabValue:D.state.selectedAudioTabValue,activeThemeTab:!1,activeVisualTab:!1,audioTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.audioTabsActivationStatus),{},{track:!0,activeAspectRatioTab:!1}),activeDisplayTextTab:!1,selectedMenuTabValue:e}),D.handleAudiotabChange(null,D.state.selectedAudioTabValue);break;case 3:D.setState({activeThemeTab:!0,activeSubThemeTab:!1,activeAudioTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,activeDisplayTextTab:!1,selectedMenuTabValue:e});break;case 4:D.setState({activeThemeTab:!1,activeSubThemeTab:!1,activeAudioTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,activeDisplayTextTab:!0,selectedMenuTabValue:e});break;case 6:D.setState({activeThemeTab:!1,activeSubThemeTab:!1,activeAudioTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,activeDisplayTextTab:!1,activeDisplayElementsTab:!0,selectedMenuTabValue:e});break;case 5:D.setState({activeThemeTab:!1,activeSubThemeTab:!1,activeAudioTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,activeDisplayTextTab:!1,activeBrandingTab:!0,selectedMenuTabValue:5});break;case 7:D.setState({activeAspectRatioTab:!0,activeThemeTab:!1,activeAudioTab:!1,activeVisualTab:!1,activeDisplayTextTab:!1,selectedMenuTabValue:e})}},D.handleAudiotabChange=function(e,t){switch(t){case 0:D.getActionForAnalytics("background-music-clicked","background music track tab","track");break;case 1:D.getActionForAnalytics("voice-over-clicked","voice over tab","voiceOver");break;case 2:D.getActionForAnalytics("upload-clicked","upload","upload");break;case 3:D.getActionForAnalytics("recent-clicked","recent tab","recent");break;case 4:D.getActionForAnalytics("favorite-clicked","favorite tab","favourite");break;case 5:D.getActionForAnalytics("settings-clicked","Audio settings tab","settings")}D.setState({selectedAudioTabValue:t})},D.handleVisualtabChange=function(e,t){switch(t){case 0:D.setState({activeVisualTab:Sa,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Library:!0,ReelArt:!0,Recent:!0,Uploads:!0,Favourite:!0})});break;case 1:D.setState({activeVisualTab:Za,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{ReelArt:!0})});break;case 2:D.setState({activeVisualTab:ya,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Textures:!0})}),D.getActionForAnalytics("Textures-clicked");break;case 3:D.setState({activeVisualTab:ba,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Uploads:!0})}),D.getActionForAnalytics("upload-clicked");break;case 4:D.setState({activeVisualTab:ja,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Recent:!0})}),D.getActionForAnalytics("recent-clicked","Visuals");break;case 5:D.setState({activeVisualTab:wa,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Favourite:!0})}),D.getActionForAnalytics("favorite-clicked","Visuals")}D.setState({selectedVisualTabValue:t})},D.windowDidResized=function(){clearTimeout(D.resizeTimer),D.resizeTimer=setTimeout((function(){D.forceUpdate()}),250)},D.applyImageZoomPanToAllSceneFn=function(e,t){var n=D.state.summaryJsonText.map((function(n,r){var s=(0,a.Z)({},n);s.settings||(s.settings=D.state.defaultSceneSettings),s.settings=(0,a.Z)((0,a.Z)({},s.settings),{},{imageZoomPan:t?e:n.settings.imageZoomPan,videoOptions:s.settings.videoOptions,applyImageZoomPanToAllScene:t});var i=D.state.imageURL[r];return i&&""!=i&&i!=je.FS&&(s.settings.imageZoomPan=i.includes("/textures")?D.state.defaultSceneSettings.imageZoomPan:t?e:n.settings.imageZoomPan),s})),r=D.state.subSentencesArray.map((function(n){var r=(0,a.Z)({},n);if(r.settings||(r.settings=D.state.defaultSceneSettings),r.settings=(0,a.Z)((0,a.Z)({},r.settings),{},{imageZoomPan:t?e:n.settings.imageZoomPan,videoOptions:r.settings.videoOptions,applyImageZoomPanToAllScene:t}),n.sceneId){var s=D.getSummaryFromGivenSubSentenceSceneId(n.sceneId).index;if(-1!=s){var i=D.state.imageURL[s];i&&""!=i&&i!=je.FS&&(r.settings.imageZoomPan=i.includes("/textures")?D.state.defaultSceneSettings.imageZoomPan:t?e:n.settings.imageZoomPan)}}return r}));D.setState({subSentencesArray:r,summaryJsonText:n,isAnyChange:!0})},D.checkImageZoom=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,c){var l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,o.Z)(D.state.subSentencesArray),u=(0,o.Z)(D.state.summaryJsonText),s?(u.map((function(e,n){var r=e;if(e.settings){r.settings=(0,a.Z)((0,a.Z)({},e.settings),{},{imageZoomPan:t,videoOptions:r.settings.videoOptions});var s=D.state.imageURL[n];s&&""!=s&&s!=je.FS&&(r.settings.imageZoomPan=s.includes("/textures")?D.state.defaultSceneSettings.imageZoomPan:t)}return r})),l.map((function(e){var r=e;if(e.settings&&(r.settings=(0,a.Z)((0,a.Z)({},e.settings),{},{imageZoomPan:t,videoOptions:r.settings.videoOptions}),e.sceneId)){var s=D.getSummaryFromGivenSubSentenceSceneId(n).index;if(-1!=s){var i=D.state.imageURL[s];i&&""!=i&&i!=je.FS&&(r.settings.imageZoomPan=i.includes("/textures")?D.state.defaultSceneSettings.imageZoomPan:t)}}return r}))):(d=D.getSummaryFromGivenSubSentenceSceneId(n),-1!=(p=d.index)&&((h=u[p]).settings=(0,a.Z)((0,a.Z)({},h.settings),{},{imageZoomPan:t})),l.map((function(e){if(e.sceneId==n){var r=e;return r.settings=(0,a.Z)((0,a.Z)({},e.settings),{},{imageZoomPan:t}),r}return e}))),e.next=5,D.setState({subSentencesArray:l,summaryJsonText:u,isAnyChange:!c});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),D.applyVoiceOverToAllScene=function(e,t){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText);r.map((function(n,r){var s=n;if(n.settings){s.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{voiceOver:t?e:n.settings.voiceOver,videoOptions:s.settings.videoOptions,applyVoiceOverToAllScene:t});var i=D.state.imageURL[r];i&&""!=i&&i!=je.FS&&(s.settings.imageZoomPan="video"==(0,ye.Q5)(i)?D.state.defaultSceneSettings.imageZoomPan:s.settings.imageZoomPan)}return s})),n.map((function(n){var r=n;if(n.settings&&(r.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{voiceOver:t?e:n.settings.voiceOver,videoOptions:r.settings.videoOptions,applyVoiceOverToAllScene:t}),n.sceneId)){var s=D.getSummaryFromGivenSubSentenceSceneId(n.sceneId).index;if(-1!=s){var i=D.state.imageURL[s];i&&""!=i&&i!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(i)?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}}return r})),D.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0})},D.checkVoiceOver=function(e,t,n,r){var s=(0,o.Z)(D.state.subSentencesArray),i=(0,o.Z)(D.state.summaryJsonText);if(r){var c,l,u,d,p;i.map((function(t,n){var r=t;if(t.settings){r.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{voiceOver:e,videoOptions:r.settings.videoOptions});var s=D.state.imageURL[n];s&&""!=s&&s!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(s)?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}return r}));var h=(null===(c=D.state.durationUpdatedScenes)||void 0===c?void 0:c.sceneIds)||[],m=(null===(l=D.state.durationUpdatedScenes)||void 0===l?void 0:l.sceneIndices)||[];s.map((function(t,n){var r=t;if(t.settings&&(r.settings.voiceOver!==e&&e&&(h.includes(t.sceneId)||h.push(t.sceneId),m.includes(n)||m.push(n)),r.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{voiceOver:e,videoOptions:r.settings.videoOptions}),t.sceneId)){var s=D.getSummaryFromGivenSubSentenceSceneId(t.sceneId).index;if(-1!=s){var i=D.state.imageURL[s];i&&""!=i&&i!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(i)?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}}return r})),D.setState({durationUpdatedScenes:{loading:!1,sceneIds:h,sceneIndices:m,isSceneDeleted:null===(u=D.state.durationUpdatedScenes)||void 0===u?void 0:u.isSceneDeleted,updatedSceneDuration:(null===(d=D.state)||void 0===d||null===(p=d.durationUpdatedScenes)||void 0===p?void 0:p.updatedSceneDuration)||[]}})}else{var g=D.getSummaryFromGivenSubSentenceSceneId(t).index;if(-1!=g){var f=i[g];f.settings=(0,a.Z)((0,a.Z)({},f.settings),{},{voiceOver:e}),i.splice(g,1,f)}s.map((function(n,r){var s,i,o,c=n;return n.sceneId==t?(c.settings.voiceOver!==e&&e&&D.setState({durationUpdatedScenes:{loading:!1,sceneIds:[n.sceneId],sceneIndices:[r],isSceneDeleted:null===(s=D.state.durationUpdatedScenes)||void 0===s?void 0:s.isSceneDeleted,updatedSceneDuration:(null===(i=D.state)||void 0===i||null===(o=i.durationUpdatedScenes)||void 0===o?void 0:o.updatedSceneDuration)||[]}}),c.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{voiceOver:e}),c):n}))}D.setState({generatedVoiceOvers:[],subSentencesArray:s,summaryJsonText:i,isAnyChange:!0})},D.applyMusicToAllScene=function(e,t){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText);r.map((function(n,r){var s=n;if(n.settings){s.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{music:t?e:n.settings.music,videoOptions:s.settings.videoOptions,applyMusicToAllScene:t});var i=D.state.imageURL[r];i&&""!=i&&i!=je.FS&&(s.settings.imageZoomPan="video"==(0,ye.Q5)(i)?D.state.defaultSceneSettings.imageZoomPan:s.settings.imageZoomPan)}return s})),n.map((function(n){var r=n;if(n.settings&&(r.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{music:t?e:n.settings.music,videoOptions:r.settings.videoOptions,applyMusicToAllScene:t}),n.sceneId)){var s=D.getSummaryFromGivenSubSentenceSceneId(n.sceneId).index;if(-1!=s){var i=D.state.imageURL[s];i&&""!=i&&i!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(i)?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}}return r})),D.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0})},D.checkMusic=function(e,t,n,r,s){var i=(0,o.Z)(D.state.subSentencesArray),c=(0,o.Z)(D.state.summaryJsonText);if(r)c.map((function(t,n){var r=t;if(t.settings){r.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{music:e,videoOptions:r.settings.videoOptions});var s=D.state.imageURL[n];s&&""!=s&&s!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(s)?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}return r})),i.map((function(t){var n=t;if(t.settings&&(n.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{music:e,videoOptions:n.settings.videoOptions}),t.sceneId)){var r=D.getSummaryFromGivenSubSentenceSceneId(t.sceneId).index;if(-1!=r){var s=D.state.imageURL[r];s&&""!=s&&s!=je.FS&&(n.settings.imageZoomPan="video"==(0,ye.Q5)(s)?D.state.defaultSceneSettings.imageZoomPan:n.settings.imageZoomPan)}}return n}));else{var l=D.getSummaryFromGivenSubSentenceSceneId(t).index;if(-1!=l){var u=c[l];u.settings=(0,a.Z)((0,a.Z)({},u.settings),{},{music:e}),c.splice(l,1,u)}i.map((function(n){if(n.sceneId==t){var r=n;return r.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{music:e}),r}return n}))}D.setState({subSentencesArray:i,summaryJsonText:c,isAnyChange:!s})},D.checkLoopVideo=function(e,t,n){var r=(0,o.Z)(D.state.subSentencesArray),s=(0,o.Z)(D.state.summaryJsonText);if(n)s.map((function(t,n){t.settings&&(t.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{loopVideo:e}))})),r.map((function(t){t.settings&&(t.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{loopVideo:e}))}));else{var i=D.getSummaryFromGivenSubSentenceSceneId(t).index;if(-1!=i){var c=(0,a.Z)({},s[i]);c.settings=(0,a.Z)((0,a.Z)({},c.settings),{},{loopVideo:e}),s[i]=c}r.map((function(n){n.sceneId==t&&(n.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{loopVideo:e}))}))}D.setState({subSentencesArray:r,summaryJsonText:s,isAnyChange:!0})},D.applyLoopVideoToAllScene=function(e,t){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText);r.map((function(n,r){n.settings&&(n.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{loopVideo:t?e:n.settings.loopVideo,loopVideoAllScene:t}))})),n.map((function(n){n.settings&&(n.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{loopVideo:t?e:n.settings.loopVideo,loopVideoAllScene:t}))})),D.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0})},D.checkMuteClipAudio=function(e,t,n){var r=(0,o.Z)(D.state.subSentencesArray),s=(0,o.Z)(D.state.summaryJsonText);if(n)s.map((function(t,n){t.settings&&(t.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{muteClipAudio:e}))})),r.map((function(t){t.settings&&(t.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{muteClipAudio:e}))}));else{var i=D.getSummaryFromGivenSubSentenceSceneId(t).index;if(-1!=i){var c=(0,a.Z)({},s[i]);c.settings=(0,a.Z)((0,a.Z)({},c.settings),{},{muteClipAudio:e}),s[i]=c}r.map((function(n){n.sceneId==t&&(n.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{muteClipAudio:e}))}))}D.setState({subSentencesArray:r,summaryJsonText:s,isAnyChange:!0})},D.applyMuteClipAudioToAllScene=function(e,t){var n,r,s,i,c=(0,o.Z)(D.state.subSentencesArray),l=(0,o.Z)(D.state.summaryJsonText);l.map((function(n,r){n.settings&&(n.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{muteClipAudio:t?e:n.settings.muteClipAudio,muteClipAudioAllScene:t}))})),c.map((function(n){n.settings&&(n.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{muteClipAudio:t?e:n.settings.muteClipAudio,muteClipAudioAllScene:t}))})),D.setState({generatedVoiceOvers:[],durationUpdatedScenes:{loading:!1,sceneIds:(null===(n=D.state.durationUpdatedScenes)||void 0===n?void 0:n.sceneIds)||[],sceneIndices:(null===(r=D.state.durationUpdatedScenes)||void 0===r?void 0:r.sceneIndices)||[],isSceneDeleted:!0,updatedSceneDuration:(null===(s=D.state)||void 0===s||null===(i=s.durationUpdatedScenes)||void 0===i?void 0:i.updatedSceneDuration)||[]},subSentencesArray:c,summaryJsonText:l,isAnyChange:!0})},D.applyHideTextToAllScene=function(e,t){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText);r.map((function(n,r){var s=n;return n.settings&&(s.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{hideText:t?e:n.settings.hideText,videoOptions:s.settings.videoOptions,applyHideTextToAllScene:t})),s})),n.map((function(n){var r=n;return n.settings&&(r.settings=(0,a.Z)((0,a.Z)({},n.settings),{},{hideText:t?e:n.settings.hideText,videoOptions:r.settings.videoOptions,applyHideTextToAllScene:t})),r})),D.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0})},D.checkHideText=function(e,t,n,r,s){var i=(0,o.Z)(D.state.subSentencesArray),c=(0,o.Z)(D.state.summaryJsonText);if(s)c.map((function(t,n){var r=t;if(t.settings){r.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{hideText:e,videoOptions:r.settings.videoOptions});var s=D.state.imageURL[n];s&&""!=s&&s!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(s)?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}return r})),i.map((function(t){var n=t;if(t.settings&&(n.settings=(0,a.Z)((0,a.Z)({},t.settings),{},{hideText:e,videoOptions:n.settings.videoOptions}),t.sceneId)){var r=D.getSummaryFromGivenSubSentenceSceneId(t.sceneId).index;if(-1!=r){var s=D.state.imageURL[r];s&&""!=s&&s!=je.FS&&(n.settings.imageZoomPan="video"==(0,ye.Q5)(s)?D.state.defaultSceneSettings.imageZoomPan:n.settings.imageZoomPan)}}return n}));else{var l=D.getSummaryFromGivenSubSentenceSceneId(t).index;if(-1!=l){var u=c[l];u.settings=(0,a.Z)((0,a.Z)({},u.settings),{},{hideText:e}),c.splice(l,1,u)}i.map((function(r){if(r.sceneId==t&&r.subSceneId==n){var s=r;return s.settings=(0,a.Z)((0,a.Z)({},r.settings),{},{hideText:e}),s}return r}))}D.setState({subSentencesArray:i,summaryJsonText:c,isAnyChange:!0})},D.checkAllScene=function(e,t){if(e){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText);r.map((function(e,n){var r=e;if(e.settings){r.settings=(0,a.Z)((0,a.Z)({},t),{},{videoOptions:r.settings.videoOptions});var s=D.state.imageURL[n];s&&""!=s&&s!=je.FS&&(r.settings.imageZoomPan="video"==(0,ye.Q5)(s)||s.includes("/textures")?D.state.defaultSceneSettings.imageZoomPan:r.settings.imageZoomPan)}return r})),n.map((function(e){var n=e;if(e.settings&&(n.settings=(0,a.Z)((0,a.Z)({},t),{},{videoOptions:n.settings.videoOptions}),e.sceneId)){var r=D.getSummaryFromGivenSubSentenceSceneId(e.sceneId).index;if(-1!=r){var s=D.state.imageURL[r];s&&""!=s&&s!=je.FS&&(n.settings.imageZoomPan="video"==(0,ye.Q5)(s)||s.includes("/textures")?D.state.defaultSceneSettings.imageZoomPan:n.settings.imageZoomPan)}}return n})),D.setState({sentenceArray:n,summaryJsonText:r})}D.setState({applyToAllScenes:e,isAnyChange:!0})},D.updateSettings=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!(w.length>3&&void 0!==w[3])||w[3],c=(0,o.Z)(D.state.subSentencesArray),l=(0,o.Z)(D.state.summaryJsonText),!((u=c.findIndex((function(e){return e.sceneId==t&&e.subSceneId==n})))>-1)){e.next=24;break}return h=r.hideScene!==c[u].settings.hideScene,c[u]=(0,a.Z)({},c[u]),c[u].settings=(0,a.Z)((0,a.Z)({},c[u].settings),r),m=D.getSummaryFromGivenSubSentenceSceneId(t),(g=m.index)>-1&&(l[g]=(0,a.Z)({},l[g]),l[g].settings=(0,a.Z)((0,a.Z)({},l[g].settings),r)),e.next=12,D.setState({subSentencesArray:c,summaryJsonText:l,isAnyChange:s});case 12:if(g>-1&&h&&("Custom Intro Scene"===(null===(d=l[g])||void 0===d?void 0:d.sceneId)||"Outro Scene"===(null===(p=l[g])||void 0===p?void 0:p.sceneId))&&(D.setState({timeChangedPostAIVO:!0}),null!==(f=l[g])&&void 0!==f&&null!==(v=f.settings)&&void 0!==v&&v.voiceOver&&D.setState({durationUpdatedScenes:{loading:!1,sceneIds:[l[g].sceneId],sceneIndices:[g],isSceneDeleted:null===(x=D.state.durationUpdatedScenes)||void 0===x?void 0:x.isSceneDeleted,updatedSceneDuration:(null===(S=D.state)||void 0===S||null===(y=S.durationUpdatedScenes)||void 0===y?void 0:y.updatedSceneDuration)||[]}})),!1!==r.hideScene){e.next=24;break}if("Custom Intro Scene"!==l[g].sceneId&&"Outro Scene"!==l[g].sceneId){e.next=24;break}if(0!==(b=(0,o.Z)(D.state.timePerFrame))[u]){e.next=24;break}if(j=5,!l[g].isUploadedVideo){e.next=22;break}return e.next=21,D.getVideoDuration(l[g].image,5);case 21:j=e.sent;case 22:b[u]=j,D.setState({timePerFrame:b});case 24:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.updateUpload=function(){D.props.getImageList(D.state.username,D.state.getImageFilter)},D.getMoreUploadedImages=function(e){D.props.getMoreImages(D.state.username,e,D.state.getImageFilter)},D.setImageFilter=function(e){D.setState({getImageFilter:e},(function(){D.props.getImageList(D.state.username,D.state.getImageFilter)}))},D.trimScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,c,l,u){var d,p,h,m,g,f,v,x,S;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=(0,o.Z)(D.state.subSentencesArray),p=(0,o.Z)(D.state.summaryJsonText),h=(0,o.Z)(D.state.timePerFrame),"Custom Intro Scene"==p[0].sceneId&&p[1].sceneId,m=D.getSummaryFromGivenSubSentenceSceneId(s),-1!=(g=m.index)&&((f=p[g]).settings=(0,a.Z)((0,a.Z)({},f.settings),{},{videoOptions:{segments:[{start:t,end:n}],isCropped:r}}),l&&(f.isUploadedVideo=l),p.splice(g,1,f)),(g=d.findIndex((function(e){return e.sceneId==s})))>-1){for(v=0,x=g;x<g+f.subsentences.length;x++)d[x].settings=(0,a.Z)((0,a.Z)({},d[x].settings),{},{videoOptions:{segments:[{start:t,end:n}],isCropped:r}}),v+=h[x];l&&h&&void 0!==h[g]&&n!==1/0&&n>t&&(S=n-t)>v&&(h[g+f.subsentences.length-1]+=S-v)}return e.next=11,D.setState({subSentencesArray:d,timePerFrame:h,summaryJsonText:p,isAnyChange:!u});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o){return e.apply(this,arguments)}}(),D.openTextures=function(e){D.handleMenutabChange(1),e?D.handleVisualtabChange(null,0):D.handleVisualtabChange(null,2),D.setState({showFocusOverlay:!0})},D.changeBgColor=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,c,l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.state.selectTemplateVisual&&D.selectTemplateVisualSelected("backgroundColor",t),"transcribe"!==D.state.source){e.next=4;break}return e.next=4,D.setTranscriptionScenebRoll(n,!1,!1);case 4:r=(0,o.Z)(D.state.subSentencesArray),s=(0,o.Z)(D.state.summaryJsonText),c=(0,o.Z)(D.state.imageAssests),l=(0,o.Z)(D.state.imageURL),u=D.getSummaryFromGivenSubSentenceSceneId(n),-1!=(d=u.index)&&((p=s[d]).backgroundColor=t,p.image="",s.splice(d,1,p),l.splice(d,1,""),c.splice(d,1,{url:"",thumb:"",large:""}),r.map((function(e){if(e.sceneId==n){var r=e;return r.backgroundColor=t,r}return e}))),h={},t&&(h={changedVisualUrl:"",changedVisualAsset:null,changedBackgroundColor:t,enableApplyVisualToAll:1}),D.setState((0,a.Z)((0,a.Z)({subSentencesArray:r,summaryJsonText:s,imageURL:l,imageAssests:c},h),{},{isAnyChange:!0}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.muteClipAudio=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s){var c,l,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,o.Z)(D.state.subSentencesArray),l=(0,o.Z)(D.state.summaryJsonText),u=D.getSummaryFromGivenSubSentenceSceneId(n),-1!=(d=u.index)&&((p=l[d]).settings=(0,a.Z)((0,a.Z)({},p.settings),{},{muteClipAudio:t}),l.splice(d,1,p)),c.map((function(e){if(e.sceneId==n){var r=e;return r.settings=(0,a.Z)((0,a.Z)({},e.settings),{},{muteClipAudio:t}),r}return e})),e.next=7,D.setState({subSentencesArray:c,summaryJsonText:l,isAnyChange:!s});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),D.setFrameCoordinates=function(e,t){var n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText);n.forEach((function(r,s){r.sceneId==t&&(n[s]=(0,a.Z)({},n[s]),n[s].settings=(0,a.Z)((0,a.Z)({},n[s].settings),{},{frame:e}))}));var s=D.getSummaryFromGivenSubSentenceSceneId(t).index;r[s]=(0,a.Z)({},r[s]),r[s].settings=(0,a.Z)((0,a.Z)({},r[s].settings),{},{frame:e}),D.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0})},D.setTranscriptionScenebRoll=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,c,l,u,d,p,h,m,g=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(g.length>2&&void 0!==g[2])||g[2],s=(0,o.Z)(D.state.subSentencesArray),c=(0,o.Z)(D.state.summaryJsonText),l=D.getSummaryFromGivenSubSentenceSceneId(t),!((u=l.index)>-1||n)){e.next=23;break}for(d=0,p=c.length,u>-1&&(d=u,p=u+1),h=d;h<p;h++)c[h]=(0,a.Z)({},c[h]),c[h].transcription&&(c[h].bRoll||(c[h].bRollSubSceneSegments=O().cloneDeep(c[h].subSentenceSegments)),c[h].bRoll=!0,c[h].bRollUrl=D.state.url,c[h].settings=(0,a.Z)((0,a.Z)({},c[h].settings),{},{muteClipAudio:!0}));m=0;case 10:if(!(m<s.length)){e.next=18;break}if(s[m]=(0,a.Z)({},s[m]),"Custom Intro Scene"!==s[m].showSceneNumber&&"Outro Scene"!==s[m].showSceneNumber){e.next=14;break}return e.abrupt("continue",15);case 14:(n||s[m].sceneId===t)&&s[m].transcription&&(s[m].bRoll||(s[m].bRollSubSceneSegment=O().cloneDeep(s[m].settings.videoOptions.subSentenceSegments)),s[m].bRoll=!0,s[m].bRollUrl=D.state.url,s[m].settings=(0,a.Z)((0,a.Z)({},s[m].settings),{},{muteClipAudio:!0}));case 15:m++,e.next=10;break;case 18:return e.next=20,D.setState({subSentencesArray:s,summaryJsonText:c,isAnyChange:r});case 20:return e.abrupt("return",!0);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.removeTranscriptionScenebRoll=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,c,l,u,d,p,h,m,g,f,v,x,S,y,b;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.summaryJsonText),(s=D.getSummaryFromGivenSubSentenceSceneId(t)).summary,!((c=s.index)>-1)){e.next=36;break}if((l=(0,a.Z)({},r[c])).transcription&&l.bRoll){for(delete l.bRoll,delete l.bRollUrl,l.subSentenceSegments=O().cloneDeep(l.bRollSubSceneSegments),u=[],d=0;d<l.bRollSubSceneSegments.length;d++)p=O().cloneDeep(l.bRollSubSceneSegments[d]),u=u.concat(p);for(h=0;h<u.length;h++)u[h+1]&&u[h].end===u[h+1].start&&(u[h].end=u[h+1].end,u.splice(h+1,1));l.settings.videoOptions.segments=u,l.settings.videoOptions.isCropped=!0,delete l.bRollSubSceneSegments,l.settings=(0,a.Z)((0,a.Z)({},l.settings),{},{muteClipAudio:!1,frame:null}),r[c]=l}m=!1,g=0;case 9:if(!(g<n.length)){e.next=21;break}if((f=n[g]).sceneId!==t){e.next=16;break}f.transcription&&f.bRoll&&(delete f.bRoll,delete f.bRollUrl,f.settings.videoOptions.segments=O().cloneDeep(l.settings.videoOptions.segments),f.settings.videoOptions.subSentenceSegments=O().cloneDeep(f.bRollSubSceneSegment),f.settings.videoOptions.isCropped=!0,delete f.bRollSubSceneSegment,f.settings=(0,a.Z)((0,a.Z)({},f.settings),{},{muteClipAudio:!1,frame:null}),n[g]=f,m=!0),e.next=18;break;case 16:if(!0!==m){e.next=18;break}return e.abrupt("break",21);case 18:g++,e.next=9;break;case 21:return v=(0,o.Z)(D.state.imageAssests),x=(0,o.Z)(D.state.imageURL),S=(S=r[c].subSentenceSegments&&r[c].subSentenceSegments[0])&&S[0],y=(y=r[c].subSentenceSegments&&r[c].subSentenceSegments[r[c].subSentenceSegments.length-1])&&y[y.length-1],b=D.state.url,S&&y&&(b+="#t="+S.start+","+y.end),v.splice(parseInt(t-1),1,{thumb:b,url:b,large:b}),x.splice(parseInt(t-1),1,b),e.next=33,D.setState({subSentencesArray:n,summaryJsonText:r,imageAssests:v,imageURL:x,isAnyChange:!0});case 33:return e.abrupt("return",!0);case 36:return e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.selectTemplateVisual=function(e){D.openTab(ua),D.setState({selectTemplateVisual:!0,selectTemplateVisualSceneType:e})},D.selectTemplateVisualSelected=function(e,t,n){var r;"visual"===e?r={visualUrl:t,visualType:(0,ye.Q5)(t),isUploadedVideo:n}:"backgroundColor"===e&&(r={backgroundColor:t,visualType:"backgroundColor"}),D.openTab(da),D.setState({selectTemplateVisual:!1,templatesAction:In.Pf.setVisual,templatesActionData:{updatedVisual:r,sceneType:D.state.selectTemplateVisualSceneType,skipApplyToScene:!0}})},D.openTab=function(e,t){var n;switch(e){case la:D.setState({audioUploadScreenType:"voiceover",activeAudioTab:"upload",activeThemeTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,audioTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.audioTabsActivationStatus),{},{upload:!0}),activeDisplayTextTab:!1},(function(){D.handleMenutabChange(2),D.handleAudiotabChange(null,2),D.refreshVoiceOver()}));break;case ua:D.setState({activeAudioTab:!1,activeThemeTab:!1,activeVisualTab:!0,activeAspectRatioTab:!1,visualTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.visualTabsActivationStatus),{},{Library:!0,activeThemeTab:!1,activeAudioTab:!1,activeAspectRatioTab:!1}),activeDisplayTextTab:!1},(function(){D.handleMenutabChange(1)}));break;case pa:D.setState({audioUploadScreenType:!1,activeAudioTab:!1,activeThemeTab:!0,activeSubThemeTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,audioTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.audioTabsActivationStatus),{},{upload:!1}),activeDisplayTextTab:!1},(function(){D.handleMenutabChange(3),t&&setTimeout((function(){_()("button#"+t).trigger("click")}),100)}));break;case da:D.setState({audioUploadScreenType:!1,activeAudioTab:!1,activeThemeTab:!0,activeSubThemeTab:!0,activeVisualTab:!1,activeAspectRatioTab:!1,audioTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.audioTabsActivationStatus),{},{upload:null===(n=D.state.audioTabsActivationStatus)||void 0===n?void 0:n.upload}),activeDisplayTextTab:!1},(function(){D.handleMenutabChange(5)}));break;case ca:D.getActionForAnalytics("voice-over-clicked","scene bar","voiceOver"),D.setState({audioUploadScreenType:"voiceover",activeAudioTab:!0,activeThemeTab:!1,activeVisualTab:!1,activeAspectRatioTab:!1,audioTabsActivationStatus:(0,a.Z)((0,a.Z)({},D.state.audioTabsActivationStatus),{},{upload:!1,voiceOver:!0}),activeDisplayTextTab:!1},(function(){D.handleMenutabChange(2),D.handleAudiotabChange(null,1)}))}},D.recordingApplyToAll=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Custom Intro Scene"==D.state.summaryJsonText[0].sceneId&&!D.state.summaryJsonText[0].settings.hideScene||"Outro Scene"==D.state.summaryJsonText[D.state.summaryJsonText.length-1].sceneId&&!D.state.summaryJsonText[D.state.summaryJsonText.length-1].settings.hideScene?D.setState({showIntroOutroVOConfirm:!0,recordedAudioUrl:t,durationOfUploadedAudio:n}):D.recordingVOApplyToAll(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.introOutroVOConfirm=function(e){D.setState({showIntroOutroVOConfirm:!1}),D.recordingVOApplyToAll(D.state.recordedAudioUrl,D.state.durationOfUploadedAudio,e)},D.recordingVOApplyToAll=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,c,l,u,d,p,h,m,g,f,v,x,S;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w().getInstance().logEvent("voiceover-autosync-init",{"voiceover-url":t,"project-id":D.state.project_id}),e.next=3,D.setState({durationUpdatedScenes:{loading:(null===(s=D.state.durationUpdatedScenes)||void 0===s?void 0:s.loading)||!1,sceneIds:D.state.subSentencesArray.map((function(e){return e.sceneId}))||[],sceneIndices:(null===(a=D.state.durationUpdatedScenes)||void 0===a?void 0:a.sceneIndices)||[],isSceneDeleted:(null===(c=D.state.durationUpdatedScenes)||void 0===c?void 0:c.isSceneDeleted)||!1,updatedSceneDuration:(null===(l=D.state.durationUpdatedScenes)||void 0===l?void 0:l.updatedSceneDuration)||[]},autoSyncProgress:0,previewProgress:0,showAutoSyncVoiceover:!0,voiceOverErrorMsgStep1:"",voiceOverErrorMsgStep2:""});case 3:return u=setInterval((function(){D.state.autoSyncProgress<99?D.setState({autoSyncProgress:D.state.autoSyncProgress+1}):clearInterval(u)}),800),e.next=6,D.getVoiceOverTrackURL(null,100,!0,void 0,void 0,{voiceOverAutoSync:!0,recordedAudioUrl:t,hasIntroOutroInVO:r,language:D.state.scriptLanguage});case 6:if(!(d=e.sent).error){e.next=11;break}return clearInterval(u),D.setState({autoSyncProgress:0,previewProgress:0,voiceOverErrorMsgStep1:"Auto sync failure! Please try again later",voiceoverButtonText:"Ok"}),e.abrupt("return");case 11:if(!(d.success&&D.state.voiceOverURL&&D.state.showAutoSyncVoiceover)){e.next=33;break}p=D.state.voiceOverURL.timePerSceneForVoiceOver.map((function(e){return e/1e3})),h=(0,o.Z)(D.state.timePerFrame),m=0,g=0;case 16:if(!(g<h.length)){e.next=27;break}if(f=D.state.subSentencesArray[g],r||!f||"Custom Intro Scene"!==f.showSceneNumber&&"Outro Scene"!==f.showSceneNumber){e.next=20;break}return e.abrupt("continue",24);case 20:if(!(r&&f&&("Custom Intro Scene"===f.showSceneNumber&&f.settings.hideScene||"Outro Scene"===f.showSceneNumber&&f.settings.hideScene))){e.next=22;break}return e.abrupt("continue",24);case 22:void 0!==p[m]&&(h[g]=p[m]),m++;case 24:g++,e.next=16;break;case 27:D.setState({timePerFrame:h}),v=[],x=0,S=0,p.forEach((function(e){S+=e;var t={start:parseFloat(x.toFixed(3)),end:parseFloat(S.toFixed(3))};v.push(t),x=S})),D.recordAudio(t,0,0,0,1,!0,p,v,r);case 33:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.reduceMusicVolume=function(e){!e&&D.state.bgMusicVolPercent>oa&&D.setState({bgMusicVolPercent:oa})},D.isRecordedAudioPreExisting=function(){for(var e=D.state.subSentencesArray,t=!1,n=0;n<e.length;n++)e[n].recordedAudio&&(t=!0);return t},D.recordAudio=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,c,l,u,d,p){var h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=6;break}return e.next=3,D.removeRecordedAudio();case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(be.Z.setItem("recordedAudio",t),n/=c,l){e.next=11;break}return D.recordAudioSubscene(t,n,r,s,c),e.abrupt("return");case 11:if(h=(0,o.Z)(D.state.subSentencesArray),m=(0,o.Z)(D.state.summaryJsonText),g=D.getSummaryFromGivenSubSentenceSceneId(r),-1!=(f=g.index)){for((v=(0,a.Z)({},m[f])).recordedAudio=t,v.recordedAudioDuration=n,v.recordedAudioDurationMiniSec=1e3*n,v.playbackRate=c,v.audioSegments=[],x=0,S=0,y=parseFloat((v.recordedAudioDuration/v.subsentences.length).toFixed(2)),b=0;b<v.subsentences.length;b++)S+=y,v.audioSegments.push({start:x,end:S}),x=S;m[f]=v}j=!1,f=0,w=0,Z=0;case 19:if(!(Z<h.length)){e.next=41;break}if(k={},!(l||h[Z].sceneId==r||"Outro Scene"==r&&h[Z].showSceneNumber==r||"Custom Intro Scene"==r&&h[Z].showSceneNumber==r)){e.next=37;break}if(h[Z].recordedAudio&&(j=!0),k.recordedAudio=t,!l){e.next=32;break}if(!("Custom Intro Scene"==h[Z].showSceneNumber&&h[Z].settings.hideScene||"Outro Scene"==h[Z].showSceneNumber&&h[Z].settings.hideScene)){e.next=27;break}return e.abrupt("continue",38);case 27:if(p||"Custom Intro Scene"!=h[Z].showSceneNumber&&"Outro Scene"!=h[Z].showSceneNumber){e.next=29;break}return e.abrupt("continue",38);case 29:n=u[w]||0,k.recordingApplyToAll=!0,d[w]?k.audioSegments=[(0,a.Z)({},d[w])]:k.audioSegments=[];case 32:k.recordedAudioDuration=n,k.recordedAudioDurationMiniSec=1e3*n,k.playbackRate=c,h[Z]=(0,a.Z)((0,a.Z)({},h[Z]),k),l&&(k.audioSegments=(0,o.Z)(k.audioSegments),k=(0,a.Z)({},k),0==f&&0==Z?m[f]=(0,a.Z)((0,a.Z)({},m[f]),k):(C=h[Z-1],h[Z].sceneId===C.sceneId?(I=m[f].audioSegments,d[w]&&I.push((0,a.Z)({},d[w])),m[f]=(0,a.Z)((0,a.Z)({},m[f]),{},{audioSegments:I})):(f++,m[f]=(0,a.Z)((0,a.Z)({},m[f]),k))));case 37:w++;case 38:Z++,e.next=19;break;case 41:D.reduceMusicVolume(j),D.setState({subSentencesArray:h,summaryJsonText:m,autoSyncProgress:l?100:0,previewProgress:0,showAutoSyncVoiceoverButtons:!(!l||!D.state.showAutoSyncVoiceover),isAnyChange:!0},(function(){l&&D.state.showAutoSyncVoiceover&&(D.saveTrimmedAudio(),D.OpenCloseVideoPreviewNew(null,null,null,null,null,null,!0))}));case 43:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o,c,l){return e.apply(this,arguments)}}(),D.recordAudioSubscene=function(e,t,n,r,s){var i,c,l,u,d,p=(0,o.Z)(D.state.summaryJsonText),h=(null===(i=D.state.durationUpdatedScenes)||void 0===i?void 0:i.sceneIds)||[];h.includes(n)||h.push(n);var m=D.getSummaryFromGivenSubSentenceSceneId(n),g=m.summary,f=m.index,v=(0,a.Z)({},g);e&&(delete v.recordedAudio,delete v.recordedAudioDuration,delete v.recordedAudioDurationMiniSec,delete v.playbackRate);var x=v.subsentences.length;v.audioSegments&&v.audioSegments.length===x||(v.audioSegments=new Array(x).fill(null));var S={};S.recordedAudio=e,S.recordedAudioDuration=t,S.recordedAudioDurationMiniSec=1e3*t,S.start=0,S.end=t,v.audioSegments[r-1]=S,p[f]=v;var y=(0,o.Z)(D.state.subSentencesArray),b=(0,o.Z)(D.state.timePerFrame),j=y.findIndex((function(e){return e.sceneId===n&&e.subSceneId===r})),w=(0,a.Z)({},y[j]);e&&(delete w.recordedAudio,delete w.recordedAudioDuration,delete w.recordedAudioDurationMiniSec,delete w.playbackRate),w.audioSegments=[(0,a.Z)({},S)],y[j]=w,b[j]=t;for(var Z=!1,k=0;k<y.length;k++){var C=y[k];(C.recordedAudio||C.audioSegments&&C.audioSegments[0]&&C.audioSegments[0].recordedAudio)&&(Z=!0)}D.reduceMusicVolume(Z),D.setState({durationUpdatedScenes:{loading:(null===(c=D.state.durationUpdatedScenes)||void 0===c?void 0:c.loading)||!1,sceneIds:h,sceneIndices:(null===(l=D.state.durationUpdatedScenes)||void 0===l?void 0:l.sceneIndices)||[],isSceneDeleted:(null===(u=D.state.durationUpdatedScenes)||void 0===u?void 0:u.isSceneDeleted)||!1,updatedSceneDuration:(null===(d=D.state.durationUpdatedScenes)||void 0===d?void 0:d.updatedSceneDuration)||[]},subSentencesArray:y,timePerFrame:b,summaryJsonText:p,isAnyChange:!0})},D.removeRecordedAudio=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,c,l,u,d,p,h,m,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(t),n=parseInt(n),u=D.state.subSentencesArray.some((function(e){return e.recordingApplyToAll})),!u||t||r){e.next=7;break}return e.next=6,D.setState({showEntireVideoRemoveConfirmation:!0});case 6:return e.abrupt("return",!0);case 7:return d=(0,o.Z)(D.state.subSentencesArray),p=(0,o.Z)(D.state.summaryJsonText),u?p.map((function(e){return delete e.recordedAudio,delete e.recordedAudioDuration,delete e.recordedAudioDurationMiniSec,delete e.playbackRate,delete e.audioSegments,delete e.recordingApplyToAll,e})):((h=D.getSummaryFromGivenSubSentenceSceneId(t)).summary,-1!=(m=h.index)&&(delete(g=p[m]).recordedAudio,delete g.recordedAudioDuration,delete g.recordedAudioDurationMiniSec,delete g.playbackRate,delete g.audioSegments,be.Z.removeItem(""),n>0&&g.audioSegments&&g.audioSegments[n-1]&&(g.audioSegments[n-1]=null),p.splice(m,1,g))),be.Z.setItem("recordedAudio",""),d.map((function(e){return(u||e.sceneId===t&&void 0===n||n>0&&e.sceneId===t&&e.subSceneId===n)&&(delete e.recordedAudio,delete e.recordedAudioDuration,delete e.recordedAudioDurationMiniSec,delete e.playbackRate,delete e.audioSegments,delete e.recordingApplyToAll),e})),D.removeAudioTrimmer(),e.next=15,D.setState({durationUpdatedScenes:{loading:(null===(s=D.state.durationUpdatedScenes)||void 0===s?void 0:s.loading)||!1,sceneIds:(null===(a=D.state.durationUpdatedScenes)||void 0===a?void 0:a.sceneIds)||[],sceneIndices:(null===(c=D.state.durationUpdatedScenes)||void 0===c?void 0:c.sceneIndices)||[],isSceneDeleted:!0,updatedSceneDuration:(null===(l=D.state.durationUpdatedScenes)||void 0===l?void 0:l.updatedSceneDuration)||[]},generatedVoiceOvers:[],subSentencesArray:d,summaryJsonText:p,showAudioTrimmer:!1,isAnyChange:r});case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.changeTransitions=function(e){(0,ye.N$)(D.state.username)[je.R2.sceneTransitions]?D.setState({transitionId:e,isAnyChange:!0}):D.transitionsNotAllowed()},D.loadMoreScenes=function(){D.setState({loadMoreScenes:!D.state.loadMoreScenes})},D.loadMoreSentences=function(){D.setState({loadMoreSentences:!D.state.loadMoreSentences})},D.minimizeVideoGeneration=function(e){D.cancelIntervalTimers(),setTimeout((function(){(0,Ze.JQ)("Video generation is in-progress.")}),100),D.props.stopVideoGeneration(),D.props.generateAsyncVideo({projectId:D.state.project_id,projectName:D.state.projectName,responseId:D.state.videoGenerationResponseId,username:D.state.username}),D.setState({displayVideoProgressBar:!1,displayGenerateVideo:!1,isMinimized:!0,generatingAsyncVideo:!0,isAnyChange:!0,openNotificationPanel:!D.state.openNotificationPanel,isSavingForEmailNotification:!1}),D.props.generateVideoStatus({step:1}),_()("body").on("click",(function(e){if(D.state.openNotificationPanel){D.setState({openNotificationPanel:!D.state.openNotificationPanel});var t=document.querySelector("#notification-bell-dropdown.show");t&&t.classList.remove("show");var n=document.querySelector("#notification-bell-dropdown .dropdown-menu.show");n&&n.classList.remove("show")}}))},D.markEditorOpen=function(){D.setState({isOpenTextEditor:!0})},D.onSceneDurationUpdate=function(e){if(e){var t,n,r,s,a,i=(null===(t=D.state.durationUpdatedScenes)||void 0===t?void 0:t.updatedSceneDuration)||[];i.includes(e)||i.push(e),D.setState({generatedVoiceOvers:[],durationUpdatedScenes:{loading:(null===(n=D.state.durationUpdatedScenes)||void 0===n?void 0:n.loading)||!1,sceneIds:(null===(r=D.state.durationUpdatedScenes)||void 0===r?void 0:r.sceneIds)||[],sceneIndices:(null===(s=D.state.durationUpdatedScenes)||void 0===s?void 0:s.sceneIndices)||[],isSceneDeleted:(null===(a=D.state.durationUpdatedScenes)||void 0===a?void 0:a.isSceneDeleted)||!1,updatedSceneDuration:i}})}},D.splitScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,c,l,u,d,p,h,m,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=D.state.subSentencesArray[t-1].sceneId,a=D.state.subSentencesArray[t-1].subSceneId,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.ceil(e.length*t*aa*2)/2;return n<5&&(n=5),n},l=D.state.timePerFrame[t-1],D.state.subSentencesArray[t-1].subSentences,u=c(D.state.subSentencesArray[t-1].subSentences),d=l/u,e.next=9,D.InsertNewSubScene(t,s,a);case 9:return(p=(0,o.Z)(D.state.timePerFrame))[t-1]=c(n,d),p[t]=c(r,d),e.next=14,D.setState({timePerFrame:p});case 14:return h=D.getSummaryFromGivenSubSentenceSceneId(s),m=h.summary,g=m.format[a-1],e.next=18,D.saveTextEditorValue(t,n,D.state.subSentencesArray[t-1].keywords,{},s,a,void 0,!1,!1,!1);case 18:return e.next=20,D.saveTextEditorValue(t+1,r,D.state.subSentencesArray[t].keywords,g,s,a+1,void 0,!1,!1,!0);case 20:D.setState({setActiveDivReorder:t+1});case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D.linkScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var r,s,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(p=(0,o.Z)(D.state.subSentencesArray),h=(0,o.Z)(D.state.imageURL),m=(0,o.Z)(D.state.imageAssests),g=p[t-1],f=[],v=(null===(r=D.state)||void 0===r||null===(s=r.durationUpdatedScenes)||void 0===s?void 0:s.sceneIds)||[],x=0;x<p.length;x++)S=p[x].settings.hideText,f.push(S);if(y=D.getSummaryFromGivenSubSentenceSceneId(g.sceneId),b=y.summary,j=y.index,Z=p[j].sceneId,!n){e.next=18;break}if(w=D.copySubsceneData(j,j-1)){e.next=13;break}return e.abrupt("return");case 13:w.splice(j,1),h.splice(j,1),m.splice(j,1),e.next=30;break;case 18:k=O().cloneDeep(b),C=O().cloneDeep(h[j]),I=O().cloneDeep(m[j]),w=(0,o.Z)(D.state.summaryJsonText),T=function(e){if(e.subSentenceSegments){for(var t=[],n=0;n<e.subSentenceSegments.length;n++){var r=e.subSentenceSegments[n];r||(r=[{start:0,end:0}]),t=t.concat(r)}e.settings.videoOptions.segments=t,e.transcribeVideoLength=D.totalSegments(t)}else e.settings.videoOptions.segments=[{start:0,end:0}]},D.deleteSubsceneData(b,g.subSceneId-1,b.subsentences.length-(g.subSceneId-1)),T(b),D.deleteSubsceneData(k,0,g.subSceneId-1),T(k),w.splice(j+1,0,k),h.splice(j,0,C),m.splice(j,0,I);case 30:v.includes(Z)||v.push(Z),x=0;case 32:if(!(x<w.length)){e.next=39;break}if("Outro Scene"!=w[x].sceneId&&"Custom Intro Scene"!=w[x].sceneId){e.next=35;break}return e.abrupt("continue",36);case 35:"Custom Intro Scene"==w[0].sceneId?w[x].sceneId=x:w[x].sceneId=x+1;case 36:x++,e.next=32;break;case 39:return e.next=41,D.setState({summaryJsonText:w,imageURL:h,imageAssests:m},(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.componentWillMount_call(!1,!1);case 2:for(t=(0,o.Z)(D.state.subSentencesArray),n=0;n<t.length;n++)t[n].settings=(0,a.Z)((0,a.Z)({},t[n].settings),{},{hideText:f[n]});return e.next=6,D.setState({subSentencesArray:t,isAnyChange:!0});case 6:case"end":return e.stop()}}),e)}))));case 41:D.setState({durationUpdatedScenes:{loading:!1,sceneIds:v,sceneIndices:(null===(l=D.state.durationUpdatedScenes)||void 0===l?void 0:l.sceneIndices)||[],isSceneDeleted:(null===(u=D.state.durationUpdatedScenes)||void 0===u?void 0:u.isSceneDeleted)||[],updatedSceneDuration:(null===(d=D.state.durationUpdatedScenes)||void 0===d?void 0:d.updatedSceneDuration)||[]}});case 42:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D.deleteSubsceneData=function(e,t,n){var r=function(r){e[r]&&e[r].length>0&&(e[r]=(0,o.Z)(e[r]),e[r].splice(t,n),e[r].length>s&&e[r].splice(s-1,e[r].length-s))};e.subsentences=(0,o.Z)(e.subsentences),e.subsentences.splice(t,n),e.sentence=e.subsentences.join(" ");var s=e.subsentences.length;r("subSentenceSegments"),r("audioSegments"),r("bRollSubSceneSegments"),r("format"),r("uuidArray")},D.copySubsceneData=function(e,t){var n=(0,o.Z)(D.state.summaryJsonText),r=(0,a.Z)({},n[e]),s=(0,a.Z)({},n[t]),i=s.subsentences.length;(s=(0,a.Z)((0,a.Z)({},s),{},{subsentences:[].concat((0,o.Z)(s.subsentences),(0,o.Z)(r.subsentences))})).sentence=s.subsentences.join(" "),s.keywords=s.keywords.concat(r.keywords),s.keywords&&s.keywords.length>1&&(s.keywords=(0,o.Z)(new Set((0,o.Z)(s.keywords)))),n[t]=s;var c=r.subsentences.length,l=function(e,t,n,r){var s=n[e]?n[e].length:0;if(s<i){n[e]||(n[e]=[]);for(var a=0;a<i-s;a++)n[e].push(r)}if(t[e]&&t[e].length>0)n[e]=[].concat((0,o.Z)(n[e]),(0,o.Z)(t[e]));else for(var l=0;l<c;l++)n[e].push(r)};l("audioSegments",r,s,null),l("format",r,s,null),l("uuidArray",r,s,null);var u={};if(r.bRoll?(u.subSentenceSegments=O().cloneDeep(r.bRollSubSceneSegments),u.bRollSubSceneSegments=u.subSentenceSegments):(u.bRollSubSceneSegments=O().cloneDeep(r.subSentenceSegments),u.subSentenceSegments=u.bRollSubSceneSegments),s.bRoll)l("bRollSubSceneSegments",u,s,null);else if(l("subSentenceSegments",u,s,null),r.bRoll){for(var d=[],p=u.bRollSubSceneSegments,h=0;h<p.length;h++){var m=p[h];d=d.concat(m)}l("segments",{segments:d},s.settings.videoOptions,{start:0,end:0})}else l("segments",r.settings.videoOptions,s.settings.videoOptions,{start:0,end:0});return s.bRoll&&s.bRollSubSceneSegments.some((function(e){return!e}))?((0,Ze.x2)("Unable to link scene. Please contact support."),void w().getInstance().logEvent("link-scene-error",{bRollSubSceneSegments:s.bRollSubSceneSegments.toString(),sceneId:s.sceneId,"project-id":D.state.project_id})):n},D.getListOfRecordedAudio=function(e){for(var t=(0,ye.PW)(D.state.username),n=[],r=0;r<e.length;r++){var s=e[r];if(s.recordingApplyToAll){n.push({url:s.recordedAudio,recordingApplyToAll:!0});break}if(s.recordedAudio&&""!=s.recordedAudio)n.push({url:s.recordedAudio,sceneNumber:r+1});else if(!s.recordedAudio&&s.audioSegments)for(var a=0;a<s.audioSegments.length;a++){var i=s.audioSegments[a];if(i){var o={url:i.recordedAudio,sceneNumber:D.getShowSceneNumber(e,s.sceneId,a+1,!0)};t&&(o.showSceneNumber=D.getShowSceneNumber(e,s.sceneId,a+1,!1,!0)),n.push(o)}}}D.setState({listOfRecordedAudio:n})},D.getShowSceneNumber=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,a=0,i=0;i<e.length;i++){var o=e[i];a++;for(var c=o.lines||o.subsentences,l=0;l<c.length;l++)if(l>0&&a++,t===o.sceneId&&n===l+1)return s?"Custom Intro Scene"===o.sceneId?"Intro scene":"Outro Scene"===o.sceneId?"Outro scene":"Custom Intro Scene"===e[0].sceneId?"Scene "+(a-1):"Scene "+a:r?a:"Scene "+a}},D.setShowSceneNumbersInSceneArray=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,ye.PW)(D.state.username);t=t.map((function(s,a){return a<n||(0===a&&"Custom Intro Scene"===e[0].sceneId?s.showSceneNumber="Custom Intro Scene":a===t.length-1&&"Outro Scene"===e[e.length-1].sceneId?s.showSceneNumber="Outro Scene":r&&"Custom Intro Scene"===e[0].sceneId?s.showSceneNumber="Scene "+a:s.showSceneNumber="Scene "+(a+1)),s}))},D.searchValueChangedTimer=null,D.searchValueChanged=function(e){clearTimeout(D.searchValueChangedTimer),D.searchValueChangedTimer=setTimeout((function(){if(e){var t={query:e.toLowerCase(),activeElIndex:-1,matches:[]},n=[];D.state.subSentencesArray.forEach((function(e,r){for(var s=e.sentence,a=s=s.toLowerCase(),i=0,o=[];s.indexOf(t.query)>-1;){var c=s.search(t.query),l=s.search("<strong>"),u=s.search("</strong>");if(l>-1&&c>=l&&c<l+8){var d=t.query.charAt(0);i=i+c+8-"<strong>".search(d),s=a.substring(i)}else if(u>-1&&c>=u&&c<u+9){var p=t.query.charAt(0);i=i+c+9-"</strong>".search(p),s=a.substring(i)}else{c=i+c;var h=e.sceneId+"-"+e.subSceneId+"-"+c+"-"+t.query.length;if(-1===n.map((function(e){return e.uniqueId})).indexOf(h)){var m={startIndex:c,endIndex:c+t.query.length,word:t.query,sceneId:e.sceneId,subSceneId:e.subSceneId,uniqueId:h,rowindex:r};n.push(m),o.push(m)}i=c+t.query.length,s=a.substring(i)}}})),n.length&&(t.matches=n,t.activeElIndex=0),D.setState({searchSceneText:t,activeSearchElIndex:t.activeElIndex}),D.bringSearchedElementToFocus()}else D.clearSearchValue()}),200)},D.search=O().debounce((function(e){D.searchValueChanged(e)}),500),D.clearSearchValue=function(){var e={query:"",activeEl:null,activeElIndex:-1,matches:[],consecutiveMatchedWords:1};return D.searchBarRef.value="",D.setState({searchSceneText:e,activeSearchElIndex:e.activeElIndex})},D.bringSearchedElementToFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=D.state.searchSceneText;t.activeElIndex+=e;var n=t.matches[t.activeElIndex];n&&D.setState({searchSceneText:t,activeSearchElIndex:t.activeElIndex})},D.selectSubtitle=function(e){D.downloadFile(e,"subtitle");try{var t=e.substr(e.lastIndexOf("."));w().getInstance().logEvent("asset-downloaded",{"downloaded-from":"download-modal",asset:"text","asset-type":t,link:e})}catch(e){}},D.sendToComposer=function(){D.state.videoURL,D.state.summaryJsonText[0].sentence;var e=Math.floor(Date.now()/1e3),t="aHR0cHM6Ly9ob290c3VpdGUtdmlkZW8uczMuYW1hem9uYXdzLmNvbS9wcm9kdWN0aW9uLzIyOTE1ODIyX2EyNDk3MzI1LTIwODMtNGQzMi04YTNlLTJjZjRmNjg4NDM5MC5tcDQ=";window.hsp.attachMedia({mediaId:t,timestamp:e,token:P()(D.props.hostApp.user_id+e+t+"pictoryHootsuite2021")})},D.openGoToPreviousConfirm=function(){var e;e={icon:(0,ue.jsx)(cr.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",title:"Please Confirm!",message:(0,ue.jsxs)(ue.Fragment,{children:["All storyboard changes will be lost. ",(0,ue.jsx)("br",{}),"Are you sure you want to continue?"]}),primaryButtonLabel:"Yes",secondaryButtonLabel:"No",primaryButtonOnClick:function(){return D.gotoCreateVideoStep2()},secondaryButtonOnClick:function(){return D.closeGoToPreviousConfirm()}},D.setState({goToPreviousConfirm:!0,dialogWithButtonAndIcon:e})},D.closeGoToPreviousConfirm=function(){D.setState({goToPreviousConfirm:!1})},D.generateVideoPosts=function(){var e=be.Z.getItem("voiceOverTrackId");if(ye.Tf.includes(+e))D.setState({showVoPopup:!0});else try{var t=D.validateVideoStockVisuals(),n=t.invalidStockVisuals,r=t.invalidSceneIds;if(n)return void D.setState({videoStockVisualsNotSupport:!0,notSupportedScenes:r});D.isOverlayShown(!0,"Validating Hootsuite credentials..."),D.props.initiateVideoPostsLogin(D.state.username)}catch(e){D.isOverlayShown(!1)}finally{w().getInstance().logEvent("generate-video-posts-hootsuite",{"project-id":D.state.project_id})}},D.generateVideoPostsCSV=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=be.Z.getItem("voiceOverTrackId"),!ye.Tf.includes(+t)){e.next=4;break}return D.setState({showVoPopup:!0}),e.abrupt("return");case 4:if(e.prev=4,n=D.validateVideoStockVisuals(),r=n.invalidStockVisuals,s=n.invalidSceneIds,!r){e.next=9;break}return D.setState({videoStockVisualsNotSupport:!0,notSupportedScenes:s}),e.abrupt("return");case 9:return D.isOverlayShown(!0,"Preparing video posts...."),e.next=12,D.goToVideoPosts(!1);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),D.isOverlayShown(!1);case 17:return e.prev=17,w().getInstance().logEvent("generate-video-posts-csv",{"project-id":D.state.project_id}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),D.goToVideoPosts=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.saveProjectDetail("video");case 3:n=e.sent,D.setState({generateCSV:!1}),setTimeout((0,c.Z)((0,i.Z)().mark((function e(){var r,s,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,s=D.props.location&&D.props.location.state?D.props.location.state:{},e.next=5,D.generateVideoJSON(!0);case 5:o=e.sent,(r=o.VideoCreationJson).video_post=t,D.props.history.push({pathname:ze.Z.BaseURL+ke.Z.videoPosts,state:(0,a.Z)((0,a.Z)({},s),{},{loadProject:!0,isAnyChange:!1,projectDetails:n,videoCreationJson:r,prevPath:ke.Z.stepThree})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(0,Ze.x2)("Error while creating video posts");case 14:return e.prev=14,D.isOverlayShown(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),1e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),D.isOverlayShown(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),D.videoPreviewComponentNew=function(e,t,n){var r,s;ye.iB.previewRenderMode;var a=(0,ye.we)(D.state.username?D.state.username:""),i=null==a||null===(r=a.data)||void 0===r||null===(s=r.featureUsage)||void 0===s?void 0:s.numberOfVideos;if(!1===e)return(0,ue.jsx)(Ie.Z,{ref:D.videoPreviewRef,setPreviewReady:D.setPreviewReady,forceCanvas:!1,width:D.state.previewPlayerWidth,height:D.state.previewPlayerHeight,defaultX:D.state.previewDefaultX,defaultY:D.state.previewDefaultY,videoJson:D.Payload2,recordVideo:!1,GetLines:D.GetLines.bind((0,d.Z)(D)),previewAlert:D.state.previewAlert,user:D.state.user,history:D.props.history,ApiRequest:ft.Z,playbackStartSceneNumber:0,brandingWatermarkUrl:D.state.brandingWatermarkUrl,ErrorFromPreview:D.ErrorFromPreview.bind((0,d.Z)(D)),showAutoSyncVoiceoverButtons:D.state.showAutoSyncVoiceoverButtons,toggleAudioTrimmer:D.toggleAudioTrimmer,noOfVideosGenerated:i,sharePreviewContent:(0,ue.jsx)(v.Z,{variant:"text",sx:{width:"40px !important",pointerEvents:"none"},children:(0,ue.jsx)(fe.Z,{color:"primary",sx:{color:"grey.9999"}})}),sharedPreviewUrl:D.props.sharedPreviewUrl},D.state.previewPlayerKey);var o=Math.floor(t*D.state.aspectRatioFractionValue);return(0,ue.jsx)(Ie.Z,{ref:D.videoPreviewSingleSceneRef,setPreviewReady:D.setPreviewReady,forceCanvas:!1,width:o,height:t,defaultX:D.state.previewDefaultX,defaultY:D.state.previewDefaultY,videoJson:D.Payload2,recordVideo:!1,GetLines:D.GetLines.bind((0,d.Z)(D)),previewAlert:D.state.previewAlert,user:D.state.user,history:D.props.history,ApiRequest:ft.Z,playbackStartSceneNumber:0,singleScenePreview:!0,hasVideoEndedNew:n,brandingWatermarkUrl:D.state.brandingWatermarkUrl,ErrorFromPreview:D.ErrorFromPreview.bind((0,d.Z)(D)),isTemplatePreview:D.state.isTemplatePreview,previewEnded:D.previewEnded.bind((0,d.Z)(D)),noOfVideosGenerated:i},D.state.previewPlayerKey)},D.sharePreview=function(e){D.props.sharePreview("".concat(D.state.username.replace(/\D/g,"")).concat(D.state.project_id),e)},D.applyVisualToAll=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s,c,l,u,d,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("transcribe"!==D.state.source){e.next=3;break}return e.next=3,D.setTranscriptionScenebRoll(null,!0,!1);case 3:t=(0,o.Z)(D.state.summaryJsonText),n=(0,o.Z)(D.state.subSentencesArray),r=(0,o.Z)(D.state.imageURL),s=(0,o.Z)(D.state.imageAssests),c=D.state.changedVisualUrl,l=D.state.changedVisualAsset,u=D.state.changedBackgroundColor,d=n[D.state.currentActiveDiv-1]&&n[D.state.currentActiveDiv-1].settings.imageZoomPan,p=0;case 12:if(!(p<t.length)){e.next=19;break}if("Custom Intro Scene"!==t[p].sceneId&&"Outro Scene"!==t[p].sceneId){e.next=15;break}return e.abrupt("continue",16);case 15:c?(t[p].image=c,r.splice(p,1,c),l?s.splice(p,1,l):s.splice(p,1,{url:"",thumb:"",large:""}),t[p].settings=(0,a.Z)((0,a.Z)({},t[p].settings),{},{imageZoomPan:d,frame:null})):(t[p].backgroundColor=u,r.splice(p,1,""),s.splice(p,1,{url:"",thumb:"",large:""}));case 16:p++,e.next=12;break;case 19:h=0;case 20:if(!(h<n.length)){e.next=27;break}if("Custom Intro Scene"!==n[h].showSceneNumber&&"Outro Scene"!==n[h].showSceneNumber){e.next=23;break}return e.abrupt("continue",24);case 23:c?(n[h].image=c,n[h].settings=(0,a.Z)((0,a.Z)({},n[h].settings),{},{imageZoomPan:d,frame:null})):n[h].backgroundColor=u;case 24:h++,e.next=20;break;case 27:D.setState({enableApplyVisualToAll:!1,summaryJsonText:t,subSentencesArray:n,imageURL:r,imageAssests:s,isAnyChange:!0}),w().getInstance().logEvent("apply-visual-to-all",{visual:c||u,"project-id":D.state.project_id});case 29:case"end":return e.stop()}}),e)}))),D.changeActiveScene=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"scene",n=D.state.subSentencesArray[D.state.currentActiveDiv-1],"intro"!==t){e.next=8;break}if("Custom Intro Scene"===n.showSceneNumber){e.next=6;break}return e.next=6,D.changeActiveDiv(1);case 6:case 12:case 17:e.next=22;break;case 8:if("outro"!==t){e.next=14;break}if("Outro Scene"===n.showSceneNumber){e.next=12;break}return e.next=12,D.changeActiveDiv(D.state.subSentencesArray.length);case 14:if("Custom Intro Scene"!==n.showSceneNumber){e.next=19;break}return e.next=17,D.changeActiveDiv(D.state.currentActiveDiv+1);case 19:if("Outro Scene"!==n.showSceneNumber){e.next=22;break}return e.next=22,D.changeActiveDiv(D.state.currentActiveDiv-1);case 22:case"end":return e.stop()}}),e)}))),D.applyStyleToScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,o){var c,l,u,d,p,h,m,g=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!(g.length>5&&void 0!==g[5])||g[5],t&&((t=O().cloneDeep(t)).styleData.format.textBackgroundRadius=null!==(c=t.styleData.format)&&void 0!==c&&c.textBackgroundRadius?t.styleData.format.textBackgroundRadius:0,delete t.styleData.position.leftCoordinate,delete t.styleData.position.topCoordinate,delete t.styleData.position.paragraphWidth,delete t.styleData.position.preset,t.styleData.position.fullWidth&&(t.styleData.position.leftCoordinate="0%"),l=(0,a.Z)((0,a.Z)((0,a.Z)({},t.styleData.format),t.styleData.position),{},{fullWidth:!0===t.styleData.position.fullWidth,animation:t.styleData.animation,styleIdObj:{id:t.metaData.styleId,scope:t.metaData.scope}}),u=D.state.subSentencesArray[D.state.currentActiveDiv-1],s?D.saveTextEditorValue(D.state.currentActiveDiv,void 0,void 0,l,void 0,void 0,void 0,!0,!1,!r,o):(p=D.state.currentActiveDiv,"intro"===n?(u=D.state.subSentencesArray[0],p=1):"outro"===n&&(u=D.state.subSentencesArray[D.state.subSentencesArray.length-1],p=D.state.subSentencesArray.length),D.state.editorFocusItem&&D.state.editorFocusItem!==Xe.xA.sceneText&&(d=null===(h=u.displayItems)||void 0===h?void 0:h.findIndex((function(e){return D.state.editorFocusItem===e.id})),(m=O().cloneDeep(u.displayItems))[d].itemStyleData=(0,a.Z)((0,a.Z)({},m[d].itemStyleData),l),l={displayItems:m}),D.saveTextEditorValue(p,void 0,void 0,l,u.sceneId,u.subSceneId,void 0,null,!1,!r,o)));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),D.applyVisualToScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,c,l){var u,d,p,h,m,g,f,v,x,S;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O().cloneDeep(t),!("intro"===n&&"Custom Intro Scene"!==D.state.subSentencesArray[0].showSceneNumber||"outro"===n&&"Outro Scene"!==D.state.subSentencesArray[D.state.subSentencesArray.length-1].showSceneNumber)){e.next=4;break}return e.next=4,D.addIntroOutroScene(t);case 4:return e.next=6,D.closePreviewNew();case 6:if(!c){e.next=9;break}return e.next=9,D.changeActiveScene(n);case 9:if(t.visualUrl=t.visualUrl||"",u=(0,o.Z)(D.state.subSentencesArray),"visual"!==l){e.next=23;break}if("intro"!==n&&"outro"!==n){e.next=21;break}return d=(0,o.Z)(D.state.imageURL),p=(0,o.Z)(D.state.imageAssests),h=(0,o.Z)(D.state.summaryJsonText),m={thumb:t.visualUrl,preview:t.visualUrl,large:t.visualUrl,url:t.visualUrl},"intro"===n?(D.state.introSceneAdded?(d.unshift(t.visualUrl),p.unshift(m),D.setState({introSceneAdded:!1})):(d[0]=t.visualUrl,p[0]=m),h[0].image=t.visualUrl,u[0].image=t.visualUrl,h[0].backgroundColor=t.backgroundColor,u[0].backgroundColor=t.backgroundColor,t.isUploadedVideo?(u[0].settings.music=!1,h[0].settings.music=!1):(u[0].settings.music=!0,h[0].settings.music=!0),h[0].isUploadedVideo=t.isUploadedVideo,u[0].isUploadedVideo=t.isUploadedVideo,t.isUploadedVideo?(u[0].settings.voiceOver=!1,u[0].settings.muteClipAudio=!1,h[0].settings.voiceOver=!1,h[0].settings.muteClipAudio=!1):1==(0,ye.bg)()&&(u[0].settings.voiceOver=!0,h[0].settings.voiceOver=!0)):"outro"===n&&(D.state.outroSceneAdded?(d.push(t.visualUrl),p.push(m),D.setState({outroSceneAdded:!1})):(d[h.length-1]=t.visualUrl,p[h.length-1]=m),h[h.length-1].image=t.visualUrl,u[u.length-1].image=t.visualUrl,h[h.length-1].backgroundColor=t.backgroundColor,u[u.length-1].backgroundColor=t.backgroundColor,t.isUploadedVideo?(u[u.length-1].settings.music=!1,h[h.length-1].settings.music=!1):(u[u.length-1].settings.music=!0,h[h.length-1].settings.music=!0),h[h.length-1].isUploadedVideo=t.isUploadedVideo,u[u.length-1].isUploadedVideo=t.isUploadedVideo,t.isUploadedVideo?(u[u.length-1].settings.voiceOver=!1,u[u.length-1].settings.muteClipAudio=!1,h[h.length-1].settings.voiceOver=!1,h[h.length-1].settings.muteClipAudio=!1):1==(0,ye.bg)()&&(u[u.length-1].settings.voiceOver=!0,h[h.length-1].settings.voiceOver=!0)),e.next=20,D.setState({imageURL:d,imageAssests:p,summaryJsonText:h,subSentencesArray:u,isAnyChange:!r});case 20:"video"===(0,ye.Q5)(t.visualUrl)&&t.isUploadedVideo?"intro"===n?D.setIntroVideoDurationInState(!0):D.setOutroVideoDurationInState(!0):"intro"===n?D.SetTimePerFrame(0,5,0,!0):D.SetTimePerFrame(u.length-1,5,0,!0);case 21:e.next=37;break;case 23:if(g="logo"===l?{visual:(0,a.Z)({},t)}:{},!s){e.next=29;break}return e.next=27,D.saveTextEditorValue(D.state.currentActiveDiv,void 0,void 0,g,void 0,void 0,void 0,!0,!1,!r);case 27:e.next=37;break;case 29:return f=D.state.subSentencesArray[D.state.currentActiveDiv-1],v=D.state.currentActiveDiv,"intro"===n?(f=D.state.subSentencesArray[0],v=1):"outro"===n&&(f=D.state.subSentencesArray[D.state.subSentencesArray.length-1],v=D.state.subSentencesArray.length),null===t.html&&(t.html=void 0),x=t.html,S=t.keywords,e.next=37,D.saveTextEditorValue(v,x,S,g,f.sceneId,f.subSceneId,void 0,null,!1,!r);case 37:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i){return e.apply(this,arguments)}}(),D.setTemplate=function(e,t){},D.addIntroOutroScene=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,l,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(0,o.Z)(D.state.summaryJsonText),a=(0,o.Z)(D.state.timePerFrame),l=!1,u=!1,s&&"Outro Scene"!==(null===(n=s[s.length-1])||void 0===n?void 0:n.sceneId)&&((d={sceneId:"Outro Scene",sentence:"",keywords:[],type:"summary",subsentences:[""],showLogo:!0,backgroundColor:je.qh,settings:O().cloneDeep(D.state.defaultSceneSettings),uuidArray:[(0,Y.Z)()]}).settings.hideScene=!0,"video"===(null==t?void 0:t.visualType)&&(d.settings.muteClipAudio=!1,d.settings.voiceOver=!0,d.settings.music=!0),s.push(d),a.push(5),u=!0),s&&"Custom Intro Scene"!==(null===(r=s[0])||void 0===r?void 0:r.sceneId)&&(p={sceneId:"Custom Intro Scene",sentence:"",keywords:[],type:"summary",subsentences:[""],showLogo:!0,backgroundColor:je.qh,settings:O().cloneDeep(D.state.defaultSceneSettings),uuidArray:[(0,Y.Z)()]},"video"===(null==t?void 0:t.visualType)&&(p.settings.muteClipAudio=!1,p.settings.voiceOver=!0,p.settings.music=!0),p.settings.hideScene=!0,s.unshift(p),a.unshift(5),l=!0),!l&&!u){e.next=9;break}return e.next=9,D.setState({summaryJsonText:s,timePerFrame:a,introSceneAdded:l,outroSceneAdded:u},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.componentWillMount_call(!0);case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.pickVisualFromScene=function(e){var t,n=D.state.subSentencesArray[D.state.currentActiveDiv-1].sceneId,r=D.getSummaryFromGivenSubSentenceSceneId(n),s=(r.index,r.summary);s&&(s.image?t={visualUrl:s.image,visualType:(0,ye.Q5)(s.image),isUploadedVideo:s.isUploadedVideo}:s.backgroundColor&&(t={backgroundColor:s.backgroundColor,visualType:"backgroundColor"}),D.setState({templatesAction:In.Pf.setVisual,templatesActionData:{updatedVisual:t,sceneType:e,skipApplyToScene:!0}}))},D.openScene=function(e){switch(e){case 0:"Custom Intro Scene"!==D.state.subSentencesArray[0].showSceneNumber||D.state.subSentencesArray[0].settings.hideScene||"Custom Intro Scene"===D.state.subSentencesArray[D.state.currentActiveDiv-1].showSceneNumber||D.changeActiveDiv(1);break;case 1:"Custom Intro Scene"===D.state.subSentencesArray[0].showSceneNumber&&"Custom Intro Scene"===D.state.subSentencesArray[D.state.currentActiveDiv-1].showSceneNumber?D.changeActiveDiv(2):"Outro Scene"===D.state.subSentencesArray[D.state.subSentencesArray.length-1].showSceneNumber&&"Outro Scene"===D.state.subSentencesArray[D.state.currentActiveDiv-1].showSceneNumber&&D.changeActiveDiv(D.state.subSentencesArray.length-1);break;case 2:"Outro Scene"!==D.state.subSentencesArray[D.state.subSentencesArray.length-1].showSceneNumber||D.state.subSentencesArray[D.state.subSentencesArray.length-1].settings.hideScene||"Outro Scene"===D.state.subSentencesArray[D.state.currentActiveDiv-1].showSceneNumber||D.changeActiveDiv(D.state.subSentencesArray.length)}},D.addStyleToTemplate=function(e){D.openTab(pa),D.setState({templatesAction:In.Pf.addStyleToTemplate,templatesActionData:{style:e}})},D.addDisplayText=function(e){var t;if(e){e=O().cloneDeep(e);var n=(0,a.Z)((0,a.Z)((0,a.Z)({},e.styleData.format),e.styleData.position),{},{fullWidth:!0===(null===(t=e.styleData.position)||void 0===t?void 0:t.fullWidth),animation:e.styleData.animation,styleIdObj:{id:e.metaData.styleId,scope:e.metaData.scope}}),r=D.state.subSentencesArray[D.state.currentActiveDiv-1],s=D.state.currentActiveDiv,i={type:"text",textHtml:je.Ss,id:(0,Y.Z)(),itemStyleData:n},o=O().cloneDeep(r.displayItems||[]);o.push(i);var c={displayItems:o};D.copyTextFormatting(r,c),D.saveTextEditorValue(s,void 0,void 0,c,r.sceneId,r.subSceneId,void 0,null,!1,!0,!1),w().getInstance().logEvent("text-box-added",{type:e.metaData.name,"scene-number":r.showSceneNumber,"use-case":D.state.source,project_id:D.state.project_id})}},D.addDisplayElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visual",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center-center",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var s=D.state.subSentencesArray[D.state.currentActiveDiv-1],a=D.state.currentActiveDiv,i={type:t,id:(0,Y.Z)(),visualData:e,itemStyleData:{paragraphWidth:r?"10%":"20%",preset:n}},o=O().cloneDeep(s.displayItems||[]);if(r){i.isLogo=!0,e.preset&&(i.itemStyleData.preset=e.preset),e.paragraphWidth&&(i.itemStyleData.paragraphWidth=e.paragraphWidth),e.opacity&&(i.itemStyleData.opacity=e.opacity),e.topCoordinate&&(i.itemStyleData.topCoordinate=e.topCoordinate,i.itemStyleData.preset=null),e.leftCoordinate&&(i.itemStyleData.leftCoordinate=e.leftCoordinate,i.itemStyleData.preset=null);var c={fileName:e.fileName,url:e.url};if(i.visualData=c,!e.paragraphWidth&&e.heightPx>e.widthPx){var l=.1*re.Z.defaultHeight,u=(e.widthPx,e.heightPx,100*l/re.Z.defaultWidth);i.itemStyleData.paragraphWidth=u+"%"}o.push(i)}else{var d=o.findIndex((function(e){return e.isLogo}));o.splice(d,0,i)}var p={displayItems:o};D.copyTextFormatting(s,p),D.saveTextEditorValue(a,void 0,void 0,p,s.sceneId,s.subSceneId,void 0,null,!1,!0,!1),w().getInstance().logEvent("element-added",{type:(0,ye.Nc)(null==e?void 0:e.url),visual:e,"scene-number":s.showSceneNumber,"use-case":D.state.source,project_id:D.state.project_id})}},D.getActiveTextStyleIdObj=function(){var e,t=D.state.subSentencesArray[D.state.currentActiveDiv-1];if(!D.state.editorFocusItem||D.state.editorFocusItem===Xe.xA.sceneText)return null==t?void 0:t.styleIdObj;if(null!=t&&t.displayItems&&null!=t&&t.displayItems[0]){var n,r=null==t||null===(e=t.displayItems)||void 0===e?void 0:e.find((function(e){return e.id===D.state.editorFocusItem}));return r?null==r||null===(n=r.itemStyleData)||void 0===n?void 0:n.styleIdObj:void 0}},D.triggerAppcuesEvent=function(e){setTimeout((function(){window.Appcues.track(e)}),2e3)},D.elevateStoryboardScriptTab=function(e){D.setState({elevateStoryboardScriptTab:e})},D.displaySceneStripDummy=function(){return(0,ue.jsx)(g.Z,{sx:{px:3,py:5},children:(0,ue.jsxs)(g.Z,{sx:{display:"flex",height:"100px",overflowY:"auto",position:"relative"},children:[O().times(5,(function(){return(0,ue.jsx)(g.Z,{component:"span",sx:{aspectRatio:"1.67",m:2},children:(0,ue.jsx)(g.Z,{sx:{width:"100%",height:"100%",borderRadius:"5px",backgroundColor:"grey.100"}})})})),(0,ue.jsx)(g.Z,{className:"absolute-fill flex-centered",sx:{backgroundColor:"rgba(255,255,255,0.5)"},children:(0,ue.jsx)(m.Z,{variant:"text_base",children:"Unable to load scenes as it exceeds 500 scenes. Go to Story tab on the left to navigate the scenes"})})]})})},D.state={loadProject:D.loadProject(),loadProjectDetails:D.props.location.state.projectDetails,saveProjectList:D.props.location.state.projectList,summaryJsonText:D.loadProject()?[]:D.props.location.state.summaryJson,timeInSec:0,url:D.loadProject()?"":D.props.location.state.url,sentences:D.loadProject()?0:D.props.location.state.sentences,originalText:D.loadProject()?"":D.props.location.state.originalText,baseText:D.loadProject()?"":D.props.location.state.baseText,summaryText:D.loadProject()?"":D.props.location.state.summaryText,allSummaryText:D.loadProject()?"":D.props.location.state.allSummaryText,isPrevious:!1,isShowOverlay:!1,project_id:D.loadProject()?D.props.location.state.project_id:D.props.location.state.projectDetails.project_id,OverlayMessage:"Building scenes with relevant<br /> images and video clips...",imageURL:D.loadProject()?[]:D.props.location.state.imageURL,timePerFrame:D.loadProject()?[]:D.props.location.state.timePerFrame,keywords:D.loadProject()?[]:D.props.location.state.keywords,metaDescription:D.loadProject()?"":D.props.location.state.metaDescription,articleKeywords:D.loadProject()?"":D.props.location.state.articleKeywords,isSummaryOff:!D.loadProject()&&D.props.location.state.isSummaryOff,lines:D.loadProject()?0:D.props.location.state.lines,totalLines:D.loadProject()?0:D.props.location.state.totalLines,value:D.loadProject()?0:D.props.location.state.value,sendOriginalText:D.props.location.state.sendOriginalText,isSkipStep2:!!D.loadProject()||D.props.location.state.isSkipStep2,scriptLanguage:D.props.location.state.scriptLanguage||"en",filterLanguage:D.props.location.state.scriptLanguage,intervalData:"",totalSentence:0,videoURL:"",imageCategoryText:"",categoryImages:[],defaultImages:[],txtShareTitle:"",txtShareDescription:"",txtShareTags:"",txtSharePrivacy:"public",logoImage:"",logoLocation:"",mainOriginalText:D.loadProject()?"":D.props.location.state.mainOriginalText,startingSummary:D.loadProject()?"":D.props.location.state.startingSummary,totalSentencesWithSubScenes:D.loadProject()?0:D.props.location.state.sentences,pIdForPreview:"#",subSentencesArray:[],animationTheme:D.props.location.state.animationThemeName?re.Z.getThemeByName(D.props.location.state.animationThemeName):ne.Z,currentThemeName:D.props.location.state.animationThemeName||ne.Z.themeName,showPreview:!1,className:"figure-block",activeTrack:"",trackType:"",trackId:"",trackName:"",voiceOverTracks:Ce.W,defaultTime:5e3,speedValue:100,voiceOverURL:{},selectedKeywordForUnderline:[],percent:0,SaveButtonText:"Save",distinctprojectCategory:["Select category","Add new category"],allAssets:{},isAnyChange:(D.loadProject(),!1),gotoUrl:"",isSave:"",isAnyUpdate:!1,allSummaryAssets:[],activeVisualTab:"",visualTabsActivationStatus:{Textures:!0},audioTabsActivationStatus:{},scenePosition:[],dynamicPercentWidth:"0%",displayTextProjectCategory:!1,GenerateVideoPopuptext2:!1,audioFavourites:[],audioRecent:[],visualData:[],recentTracks:[],timeTakenInSeconds:0,isFirstTimeSaved:!0,askBrandSettingChange:!1,popupAskBrandSettingChange:!!D.props.location.state.askBrandSettingChange&&D.props.location.state.askBrandSettingChange,projectName:null===(t=D.props.location.state.projectDetails)||void 0===t?void 0:t.projectName,source:null===(u=D.props.location.state.projectDetails)||void 0===u?void 0:u.source,projectCategory:null===(p=D.props.location.state.projectDetails)||void 0===p?void 0:p.projectName,title:D.props.location.state.title?D.props.location.state.title:null,cognito_id:null===(h=D.props.location.state.projectDetails)||void 0===h?void 0:h.cognito_id,saveDate:null===(x=D.props.location.state.projectDetails)||void 0===x?void 0:x.saveDate,step2TxtData:null===(S=D.props.location.state.projectDetails)||void 0===S?void 0:S.step2TxtData,projectStates:null===(y=D.props.location.state.projectDetails)||void 0===y?void 0:y.states,currentState:null===(b=D.props.location.state.projectDetails)||void 0===b?void 0:b.currentState,scriptTxtData:null===(j=D.props.location.state.projectDetails)||void 0===j?void 0:j.scriptTxtData,isNewProject:null===(C=D.props.location.state.projectDetails)||void 0===C?void 0:C.isNewProject,showInitialLoadingBar:null===(I=D.props.location.state.projectDetails)||void 0===I?void 0:I.isNewProject,isImportedFromPersonalWorkspace:null===(E=D.props.location.state.projectDetails)||void 0===E?void 0:E.isImportedFromPersonalWorkspace,imageAssests:[],recentLoading:!0,favLoading:!0,uploadLoading:!0,saveFromGenerate:!1,showSave:!0,brandSetting:{},aspectRatioClass:D.props.location.state.aspectRatioClass?D.props.location.state.aspectRatioClass:Ye.TJ,aspectRatioValue:D.props.location.state.aspectRatioValue?D.props.location.state.aspectRatioValue:Ye.Jb,aspectRatioFractionValue:D.props.location.state.aspectRatioFractionValue?D.props.location.state.aspectRatioFractionValue:Ye.Wi,VideoRes:"720p",videoResolutions:["720p","1080p"],currentActiveDiv:1,defaultSceneSettings:{imageZoomPan:!0,voiceOver:!0,music:!0,muteClipAudio:!0,loopVideo:!0,hideText:!1,videoOptions:{isCropped:!0,segments:[{start:0,end:0}]},loopVideoAllScene:!1,muteClipAudioAllScene:!1,applyHideTextToAllScene:!1,applyImageZoomPanToAllScene:!1,applyMusicToAllScene:!1,applyVoiceOverToAllScene:!1},applyToAllScenes:!1,defaultOutroTimeInSec:5,defaultOutroTimeInMiniSec:5e3,defaultCustomIntroTimeInSec:5,defaultCustomIntroTimeInMiniSec:5e3,favourites:[],recents:[],lists:[],currentSceneId:1,showFocusOverlay:!1,transitionId:"none",shareVideoURL:"",isTransitions:!1,listOfRecordedAudio:[],searchSceneText:{query:"",activeEl:null,activeElIndex:-1,matches:[],consecutiveMatchedWords:1},activeSearchElIndex:-1,past:[],present:null!==(A=D.props.location.state.projectDetails)&&void 0!==A&&A.scenes?O().cloneDeep(D.props.location.state.projectDetails):null,future:[],bgMusicVolPercent:null==D.props.location.state.bgMusicVolPercent?100:D.props.location.state.bgMusicVolPercent,videoVolume:50,voiceOverApplied:!1,optimizeVideoOutput:!1,audioTrimmerLoadingPercent:0,hasOneSubPerSentence:D.props.location.state.hasOneSubPerSentence,previewPlayerKey:"",previewPlayerWidth:0,previewPlayerHeight:0,previewDefaultX:0,previewDefaultY:0,isInvalidSceneDuration:!1,durationUpdatedScenes:D.loadProject()?{loading:!1,sceneIds:[],sceneIndices:[],isSceneDeleted:!1,updatedSceneDuration:[]}:null===(R=D.props.location.state.projectDetails)||void 0===R?void 0:R.durationUpdatedScenes,activeAudioTrack:null,elevenLabTrackID:null,applyingAudio:null,previewProgressMessage:null,showQuotaExceeded:!1,brandId:null===(N=D.props.location.state.projectDetails)||void 0===N?void 0:N.brandId,showBrandSwitchConfirmationDialog:D.props.location.state.applyBrandId,cancelingVO:null,generatedVoiceOvers:D.loadProject()?[]:D.props.location.state.projectDetails.generatedVoiceOvers,voiceoverprogressStatus:0,selectedAudioTabValue:0,selectedVisualTabValue:0,updatedDuraion:0,selectedMenuTabValue:0,showVoPopup:!1},D.props.location.state.applyBrandId&&D.props.history.replace({state:(0,a.Z)((0,a.Z)({},D.props.location.state),{},{applyBrandId:null})}),D.previewMusicAudio=L.createRef(),D.previewVoiceOverAudio=L.createRef(),D.sceneContainerRef=L.createRef(),D.timeTakenInStepThree=0,D.audioTrimmerPortalNode=(0,z.oD)(),D.videoPreviewRef=L.createRef(),D.videoPreviewSingleSceneRef=L.createRef(),D.timerId=null,D}return(0,u.Z)(K,[{key:"componentWillUnmount",value:function(){this.clearUndoHistory(),clearInterval(this.state.timeTakenInStepThreeInterval),this.cancelIntervalTimers(),document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleMouseClick),this.saveImageRecent(),this.props.generateVideoStatus({step:1}),be.Z.setItem("recordedAudio",""),window.removeEventListener("resize",this.windowDidResized),this.previewMusicAudio=null,this.previewVoiceOverAudio=null,this.sceneContainerRef=null,this.removeAudioTrimmer()}},{key:"componentWillReceiveProps",value:(W=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.findProjectMusicResult!==this.props.findProjectMusicResult&&(t.findProjectMusicResult.success&&(this.state.loadProject||"transcribe"===this.state.source||t.musicResult&&t.musicResult.Items&&t.musicResult.Items.length>0&&t.userBrands&&!t.userBrands.find((function(e){return e.isDefault}))&&this.makeTrackActive(t.musicResult.Items[0].id,t.musicResult.Items[0].audio_url,t.musicResult.library,t.musicResult.Items[0].title,null,!0,!1)),this.setState({fetchingTracks:!1})),(null===(n=t.recentVisualsResult)||void 0===n?void 0:n.Items)!==(null===(r=this.props.recentVisualsResult)||void 0===r?void 0:r.Items)&&this.setState({recentVisuals:t.recentVisualsResult.Items}),t.videoGenerationProgress!==this.props.videoGenerationProgress&&this.props.videoGenerationProgress.response_id==this.state.videoGenerationResponseId?!1!==t.videoGenerationProgress.progress?t.videoGenerationProgress.project_id&&(t.videoGenerationProgress.project_id==this.state.project_id?this.setState({percent:Math.trunc(t.videoGenerationProgress.progress),dynamicPercentWidth:Math.trunc(t.videoGenerationProgress.progress)+"%",generateVideoStatusMessage:t.videoGenerationProgress.generateVideoStatusMessage}):console.log("ignoring video gen status data for previously opened project")):this.setState({OverlayMessage:"Please wait...",displayGenerateVideo:!1,timeTakenInSeconds:0,generateError:!0,preprocessError:!0,hasExportID:!1}):O().isEqual(t.generateVideoData,this.props.generateVideoData)&&t.generateVideoData===this.props.generateVideoData||this.callRetrieveMpAPI(t.generateVideoData),this.props.pastState.length!==t.pastState.length&&this.props.futureState.length!==t.futureState.length&&this.setState({loadProjectDetails:t.presentState},(function(){Z.loadProjectFromJson(!0)})),this.props.pastState.length!==t.pastState.length&&((h=t.canUndo)&&h&&this.state.isNewProject&&t.pastState.length<3?this.setState({canUndo:!1}):this.setState({canUndo:h})),(null===(s=t.audioFavsAndRecent)||void 0===s?void 0:s.length)!=(null===(a=this.props.audioFavsAndRecent)||void 0===a?void 0:a.length)||(null===(l=t.audioFavsAndRecent)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.id)!==(null===(d=this.props.audioFavsAndRecent)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.id)){for(m=[],g=[],f=[],v=0;v<t.audioFavsAndRecent.length;v++)"favorite"==(x=t.audioFavsAndRecent[v]).category&&m.push(x),"recent"==x.category&&g.push(x),"upload"==x.category&&f.push(x);this.setState({favourites:m,recents:g,uploadAudio:f,lists:t.audioFavsAndRecent})}if(this.props.assetResponseId!=t.assetResponseId&&(this.state.assetResponseId||this.setState({assetResponseId:t.assetResponseId})),this.props.allSummaryAssets.isChanged!=t.allSummaryAssets.isChanged&&this.getSavedAssets(t.allSummaryAssets.data),""==t.asyncVideoGenData.responseId||t.asyncVideoGenData.isError||this.props.asyncVideoGenData.responseId==t.asyncVideoGenData.responseId?""==t.asyncVideoGenData.responseId&&t.asyncVideoGenData.isError&&this.setState({hasExportID:!1,videoGenerationResponseId:"",isSavingForEmailNotification:!1}):this.setState({hasExportID:!0,videoGenerationResponseId:t.asyncVideoGenData.responseId,isSavingForEmailNotification:!0,isAnyChange:!0}),this.props.asyncCompleteData.isChanged!=t.asyncCompleteData.isChanged&&t.asyncCompleteData.URL&&t.asyncCompleteData.projectId==this.state.project_id&&this.setState({generatingAsyncVideo:!1,hasExportID:!1,videoGenerationResponseId:"",videoURL:t.asyncCompleteData.URL,srtFile:t.asyncCompleteData.srt,txtFile:t.asyncCompleteData.text,vttFile:t.asyncCompleteData.vtt,previewJson:t.asyncCompleteData.preview,videoThumbnail:t.asyncCompleteData.thumbnail,audioURL:t.asyncCompleteData.audioURL,outputVideoDuration:t.asyncCompleteData.videoDuration,GenerateVideoHeading:"Video Generated",isSavingForEmailNotification:!1},(function(){Z.setState({})})),!(t.videoPostSuccesfulLoginFlag>this.props.videoPostSuccesfulLoginFlag)){e.next=15;break}return e.next=13,this.goToVideoPosts(!0);case 13:e.next=16;break;case 15:t.videoPostFailedLoginFlag>this.props.videoPostSuccesfulLoginFlag&&this.isOverlayShown(!1);case 16:if(S=(0,o.Z)(this.state.summaryJsonText),"success"==t.importAudioStatus&&"pending"==this.state.audioImportStatus&&null!=S&&S.length){for(""!==be.Z.getItem("activeTrack")&&null!==be.Z.getItem("activeTrack")&&t.importAudioMappings&&(y=be.Z.getItem("activeTrack"),(b=t.importAudioMappings.filter((function(e){return e.sourceUrl==y})))&&b.length>0&&(y=b[0].url,be.Z.setItem("activeTrack",y),be.Z.setItem("trackId",b[0].trackId))),j=function(e){var n=S[e];if(t.importAudioMappings&&n.recordedAudio){var r=t.importAudioMappings.filter((function(e){return e.sourceUrl==n.recordedAudio}));r&&r.length>0&&r[0].url&&(S[e].recordedAudio=r[0].url)}if(t.importAudioMappings&&n.audioSegments&&n.audioSegments.length>0)for(var s=function(r){var s=t.importAudioMappings.filter((function(e){return e.sourceUrl==n.audioSegments[r].recordedAudio}));s&&s.length>0&&s[0].url&&(S[e].audioSegments[r].recordedAudio=s[0].url)},a=0;a<n.audioSegments.length;a++)s(a)},w=0;w<S.length;w++)j(w);this.setState({audioImportStatus:"completed",summaryJsonText:S},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.saveProjectDetail_debounce();case 2:case"end":return e.stop()}}),e)}))))}"success"==t.importImageStatus&&"pending"==this.state.visualImportStatus&&null!=S&&S.length&&function(){for(var e=function(e){var n=S[e];if(t.importImageMappings){var r=t.importImageMappings.filter((function(e){return e.sourceUrl==n.image}));r&&r.length>0&&r[0].url&&(S[e].image=r[0].url)}},n=0;n<S.length;n++)e(n);for(var r=Z.state.imageURL,s=function(e){if(t.importImageMappings){var n=t.importImageMappings.filter((function(t){return t.sourceUrl==r[e]}));n&&n.length>0&&n[0].url&&(r[e]=n[0].url)}},a=0;a<r.length;a++)s(a);Z.setState({visualImportStatus:"completed",summaryJsonText:S},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.saveProjectDetail_debounce();case 2:case"end":return e.stop()}}),e)}))))}();case 19:case"end":return e.stop()}}),e,this)}))),function(e){return W.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){var n,r,s=this;if(this.onStoppedProjectChange(e),this.state.isAnyChange&&(1===this.state.enableApplyVisualToAll?this.setState({enableApplyVisualToAll:2}):2===this.state.enableApplyVisualToAll&&this.setState({enableApplyVisualToAll:!1}),this.setState({isAnyChange:!1},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.saveProjectDetail_debounce();case 2:s.getEstimatedTime();case 3:case"end":return e.stop()}}),e)}))))),this.state.generateError){var a=this.state.preprocessError?"Video pre-processing failed":"Video generation failed";this.state.voiceOverError&&(a="Voice over failed to generate"),this.setState({OverlayMessage:"Please wait...",displaySaveInprogress:!1,voiceOverError:!1,generateError:!1,preprocessError:!1}),this.props.showErrorNotification(a),this.state.VideoCreationJson&&!O().isEmpty(this.state.VideoCreationJson)&&(0,ye.Hw)(this.state.VideoCreationJson,"generate",this.state.user,this.state.project_id)}(this.state.defaultImages&&(t.defaultImages!==this.state.defaultImages||t.defaultImages.length!==this.state.defaultImages.length)||this.state.allSummaryAssets&&(t.allSummaryAssets!==this.state.allSummaryAssets||t.allSummaryAssets.length!==this.state.allSummaryAssets.length))&&this.getDefaultAssets(this.state.defaultImages,this.state.allSummaryAssets),this.state.trackId&&t.trackId!==this.state.trackId&&this.state.activeTrack&&this.state.activeTrack.startsWith("https://tracks.melod.ie")&&this.props.getMusicById(this.state.trackId),this.state.subSentencesArray&&t.subSentencesArray!==this.state.subSentencesArray&&this.state.searchSceneText&&this.state.searchSceneText.query&&this.clearSearchValue(),t.activeVisualTab&&!this.state.activeVisualTab&&(this.state.selectTemplateVisual&&this.setState({selectTemplateVisual:!1}),this.state.enableApplyVisualToAll&&this.setState({enableApplyVisualToAll:!1})),(0,ye.mL)()&&!this.state.templateMetaData&&t.templateMetaData!==this.state.templateMetaData&&(console.log("\nERROR::: Template is NULL\n"),this.props.showErrorNotification("Template data is empty. Please report this issue to Sharad")),this.props.voiceOverDeleteResult!==e.voiceOverDeleteResult&&this.setState({cancelRequestSent:null===(n=this.props.voiceOverDeleteResult)||void 0===n||null===(r=n.success)||void 0===r?void 0:r.status}),this.props.voiceOverDataResponseID&&this.props.voiceOverDataResponseID!==e.voiceOverDataResponseID&&((0,ye.Ll)(0,!0),(0,ye.Kz)(0,(function(e){s.setState({voiceoverprogressStatus:e})}))),this.props.voiceoverprogressStatus!==e.voiceoverprogressStatus&&this.state.voiceoverprogressStatus<this.props.voiceoverprogressStatus&&(0,ye.Ll)(this.props.voiceoverprogressStatus),this.state.durationUpdatedScenes!==t.durationUpdatedScenes&&this.addUpdatedScenes(this.state.durationUpdatedScenes.sceneIndices)}},{key:"update",value:function(){this.props.update(this.state)}},{key:"NoImageFind",value:function(e,t,n){this.hideShowOverlay(e,je.Ty,n)}},{key:"changeText",value:function(e){var t=this;_()("#divGenerateVideoMessage").hide(1e3),setTimeout((function(){t.setState({GenerateVideoMessage:e}),_()("#divGenerateVideoMessage").show(1e3)}),1e3)}},{key:"sanatizeString",value:function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":" ","</strong>.</strong>":".</strong>"};for(var n in t)e=e.split(n).join(t[n]);return e}},{key:"generateVideoJSON",value:(B=(0,c.Z)((0,i.Z)().mark((function e(t,n){var s,l,u,d,p,h,m,g,f,v,x,S,y,b,j,Z,k,C,I,T,A,_,R,P,N,D,U,L,F,V,B,M,G,W,z,J,H,K,Q,X,$,ee,te,ne,se,ae,ie,oe,ce=this,le=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=!(le.length>2&&void 0!==le[2])||le[2],l=le.length>3?le[3]:void 0,u=le.length>4?le[4]:void 0,d=le.length>5?le[5]:void 0,p=le.length>6&&void 0!==le[6]&&le[6],this.videoGenProgress=0,this.voiceOverProgress=0,this.setState({previewProgressMessage:null}),this.timerIdVideoGen=setInterval((function(){ce.videoGenProgress<80?(ce.props.createElementsProgress(ce.videoGenProgress||1,"Preprocessing scenes..."),ce.videoGenProgress++):ce.cancelIntervalTimers()}),1e3),h=(0,ye.we)(this.state.username),m=h&&h.plan?h.plan.plan_code:"",g=m===je.yj.freeTrial||m===je.yj.teamsFreeTrial,f=!1,v=(0,ye.PW)(this.state.username),x=(0,ye.U$)(this.state.aspectRatioClass),S=this.state.animationTheme,(y=S.getStyles()).fontSize=this.getFontSizeForAspectRatio(y.fontSize),b=this.state.VideoRes&&"1080p"===this.state.VideoRes?1080:720,j=this.state.VideoRes&&"1080p"===this.state.VideoRes?1.5*re.Z.defaultWidth:re.Z.defaultWidth,Z=this.state.VideoRes&&"1080p"===this.state.VideoRes?1.5*re.Z.defaultHeight:re.Z.defaultHeight,j<b&&(j*=k=b/j,Z*=k),this.state.aspectRatioFractionValue&&(C=parseInt(this.state.VideoRes.replace(/[^0-9]/g,"")),!1===isNaN(C)&&(this.state.aspectRatioFractionValue>=1?(Z=C,j=2*parseInt(Math.floor(Z*this.state.aspectRatioFractionValue)/2)):(j=C,Z=2*parseInt(Math.floor(j/this.state.aspectRatioFractionValue)/2)))),I="Untitled Project",".mp4"==(I=""!==this.state.projectName&&null!==this.state.projectName&&void 0!==this.state.projectName?this.state.projectName.replace(/[^A-Za-z0-9]/g,"").replace(/\s/g,"").trim().substring(0,20)+".mp4":this.state.subSentencesArray[0].subSentences.replace(/[^A-Za-z0-9]/g,"").substring(0,20)+".mp4")&&(I="Untitled.mp4"),T={audio:{},output:{width:j,height:Z,format:"mp4",name:I,title:this.state.projectName,description:""},scenes:[],optimize_video_output:this.state.optimizeVideoOutput,projectId:this.state.project_id,authorId:this.state.loadProjectDetails.cognito_id},A=!1,_="",R={},P=!1,N=!1,D=!1,U=!1,L=!1,F=(0,ye.WD)(this.state.summaryJsonText),V=0;V<this.state.summaryJsonText.length;V++)(B=this.state.summaryJsonText[V])&&B.settings&&0==P&&(P=!!B.settings.voiceOver),B&&B.settings&&0==U&&!B.transcription&&(U=!B.settings.muteClipAudio),B&&B.settings&&!N&&(N=B.settings.music),(B.recordedAudio&&""!=B.recordedAudio||B.audioSegments&&B.audioSegments.some((function(e){return e&&e.recordedAudio})))&&0==D&&(D=!0),B.bRoll&&(L=!0);if(null!==be.Z.getItem("activeTrack")&&""!==be.Z.getItem("activeTrack")&&1==N&&(R.src=be.Z.getItem("activeTrack"),R.audio_library=be.Z.getItem("trackType"),R.audio_id=be.Z.getItem("trackId"),void 0!==this.state.bgMusicVolPercent&&(R.track_volume=this.state.bgMusicVolPercent/100)),R.video_volume=1,this.voiceOverProgress=0,!s){e.next=61;break}if(!((0,ye.bg)()&&1==P||D||U||L)){e.next=61;break}if(w().getInstance().logEvent("generate-video-json-get-voiceover",{"project-id":this.state.project_id}),this.setState({previewProgressMessage:f?(null===(M=this.state.durationUpdatedScenes)||void 0===M||null===(G=M.sceneIds)||void 0===G?void 0:G.length)>0||null!==(W=this.state.durationUpdatedScenes)&&void 0!==W&&W.isSceneDeleted?"Generating voice over...":"Fetching voice over...":"Generating preview"}),!l){e.next=51;break}return e.next=48,this.getVoiceOverTrackURL((0,ye.OS)(),this.state.speedValue,(0,ye.bg)(),l,u,{},this.state.showPreviewProgress,p,"preview");case 48:z=e.sent,e.next=54;break;case 51:return e.next=53,this.getVoiceOverTrackURL((0,ye.OS)(),this.state.speedValue,(0,ye.bg)(),null,null,{videoGeneration:!0},this.state.showPreviewProgress,p,"preview");case 53:z=e.sent;case 54:if(w().getInstance().logEvent("generate-video-json-get-voiceover-result-received",{"project-id":this.state.project_id}),!0!==z.error){e.next=58;break}return this.setState({previewProgressMessage:f?(null===(J=this.state.durationUpdatedScenes)||void 0===J||null===(H=J.sceneIds)||void 0===H?void 0:H.length)>0||null!==(K=this.state)&&void 0!==K&&null!==(Q=K.durationUpdatedScenes)&&void 0!==Q&&Q.isSceneDeleted?"Generating voice over failed":"Fetching voice over failed":"Generating preview failed"}),e.abrupt("return");case 58:!0===z.success&&this.state.voiceOverURLForScene&&l?(f=!0,R.tts=this.state.voiceOverURLForScene.Url):!0===z.success&&this.state.voiceOverURL&&(f=!0,R.tts=this.state.voiceOverURL.Url),this.setState({previewProgressMessage:f?"Applying voice over":"Generating preview"}),w().getInstance().logEvent("generate-video-json-get-voiceover-result",{"project-id":this.state.project_id,audio:R.tts});case 61:T.audio=R,X=-1,$=-1,parseFloat(y.fontSize),ee=T.output.height/re.Z.defaultHeight,te=T.output.width/re.Z.defaultWidth,p&&(ne=this.voiceOverProgress,this.cancelIntervalTimerVideoGen(),this.cancelIntervalTimerVoiceover(),this.timerIdElements=setInterval((function(){var e;ne<100&&(null===(e=ce.props.videoGenerationProgress)||void 0===e||!e.generateVideoStatusMessage)?(ne++,ce.props.createElementsProgress(ne,"Preprocessing scenes...")):ce.cancelIntervalTimers()}),1e3)),se=(0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ce.state.subSentencesArray[n]&&l&&ce.state.subSentencesArray[n].sceneId!=l||ce.state.subSentencesArray[n]&&ce.state.subSentencesArray[n].settings&&ce.state.subSentencesArray[n].settings.hideScene)){e.next=3;break}return ae=n,e.abrupt("return","continue");case 3:return e.next=5,ce.executeAsyc((0,c.Z)((0,i.Z)().mark((function e(){var s,c,u,h,m,g,f,S,b,j,Z,k,C,I,P,N,V,B,M,G,W,z,J,H,K,Q,ne,se,ie,oe,le,ue,de,pe,he,me,ge,fe,ve,xe,Se,be,we,Ze,ke,Ce,Ie,Te,Ee,Ae,_e,Re,Pe,Ne,Oe,De,Ue,Le,Fe,Ve,Be,Me,Ge,We,ze,Je,He,Ke,qe,Ye,Qe,Xe,$e,et,tt,nt,rt,st,at,it,ot,ct,lt,ut,dt,pt,ht,mt;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=ce.state.subSentencesArray[n],c=s.fontName?s.fontName.replace(/\'/g,""):"",u=""===s.fontSize||void 0===s.fontSize?parseFloat(y.fontSize):parseFloat(s.fontSize),h=(0,ye.Ln)(s.fontColor?s.fontColor:""),m=(0,ye.Ln)(s.textBackgroundColor?s.textBackgroundColor:""),g=(0,ye.Ln)(s.backcolorFullwidth?s.backcolorFullwidth:""),f=(0,ye.Ln)(s.backgroundColor?s.backgroundColor:""),S=(0,ye.Ln)(s.keywordColor?s.keywordColor:""),s.textAlign&&s.textAlign,c&&""!==c&&"string"==typeof c||(c=y.fontName.replace(/\'/g,"")+"-"+y.fontWeight),h&&""!==h&&void 0!==h&&"string"==typeof h||(h=(0,ye.Ln)(y.fontColor)),m&&""!==m&&void 0!==m&&"string"==typeof m||(m=(0,ye.Ln)(y.textBackgroundColor)),g&&""!==g&&void 0!==g&&"string"==typeof g||(g=y.backcolorFullwidth),S&&""!==S&&void 0!==S&&"string"==typeof S||(S=(0,ye.Ln)(y.keywordColor)),c=ce.getFontNameForVideoGen(c),b=h.split(","),h=")"===(h=(b[0].replace("rgba(","rgb(")+","+b[1]+","+b[2]).trim())[h.length-1]?ce.parseColorForVideoAPI(h):ce.parseColorForVideoAPI(h+")"),m=ce.parseColorForVideoAPI(m),g=ce.parseColorForVideoAPI(g),b=S.split(","),S=")"===(S=(b[0].replace("rgba(","rgb(")+","+b[1]+","+b[2]).trim())[S.length-1]?ce.parseColorForVideoAPI(S):ce.parseColorForVideoAPI(S+")"),j=[],Z=null,s.settings.frame&&(Z=s.settings.frame),s.settings&&s.settings.imageZoomPan||(Z=null),k=ce.state.imageURL[s.sceneId-1],C={url:(0,ye.eu)(k),asset_id:"",type:(0,ye.Q5)(k),library:"",mode:s.settings&&s.settings.imageZoomPan&&ce.state.defaultSceneSettings.imageZoomPan?"crop":"fit",frame:Z,loop_video:!(!s.settings||!s.settings.loopVideo&&void 0!==s.settings.loopVideo),resource_id:(0,ye.DO)(),sessionId:ye.I4},A=A||q.Z.Instance.CheckUrlFromtextToImagebucket(C.url?C.url:""),s.settings&&s.settings.videoOptions&&s.settings.videoOptions.isCropped&&s.settings.videoOptions.segments&&s.settings.videoOptions.segments.length>0&&(!s.transcription||!s.bRoll)){I=(0,r.Z)(s.settings.videoOptions.segments);try{for(I.s();!(P=I.n()).done;)N=P.value,(V=(0,a.Z)({},C)).start=parseFloat(N.start),V.end=parseFloat(N.end),0!==V.end&&j.push(V)}catch(e){I.e(e)}finally{I.f()}}if(0==j.length&&j.push(C),j.map((function(e){!s.settings||0!=s.settings.muteClipAudio||s.recordedAudio&&""!==s.recordedAudio||s.bRoll||s.settings&&s.settings.voiceOver&&(0,ye.bg)()?s.settings&&1==s.settings.muteClipAudio&&(e.mute=!0):e.mute=!1,ce.state.allAssets[k]?(e.asset_id=ce.state.allAssets[k].id,e.type=ce.state.allAssets[k].media_type,e.library=ce.state.allAssets[k].library):ce.props.imageList&&ce.props.imageList.length>0&&ce.props.imageList.find((function(t){return t.url===e.url}))&&(e.library="user_uploaded")})),!(B={background:{src:j},time:0,keywords:[],sub_scenes:[],sentences:[],music:s.settings?s.settings.music:ce.state.defaultSceneSettings.music,tts:s.settings?s.settings.voiceOver:ce.state.defaultSceneSettings.voiceOver,subtitle:s.transcription||!1,subtitles:[],sceneDisplayNo:s.showSceneNumber||n+1}).tts&&R.tts&&s.bRoll&&(B.tts=!0),R.tts&&(s.recordedAudio||s.audioSegments&&s.audioSegments.length>0&&s.audioSegments[0]&&s.audioSegments[0].recordedAudio)&&(B.tts=!0),""!==f&&null!=f&&(B.background.color=(0,ye.Ln)(ce.parseColorForVideoAPI(f))),k===je.FS&&(B={background:{src:[{url:"",asset_id:"",type:"image",library:""}]},time:0,keywords:[],sub_scenes:[],tts:s.settings?s.settings.voiceOver:ce.state.defaultSceneSettings.voiceOver,subtitles:[],sceneDisplayNo:s.showSceneNumber||n+1},""!==f&&null!=f&&(b=f.split(","),f=")"===(f=(b[0].replace("rgba(","rgb(")+","+b[1]+","+b[2]).trim())[f.length-1]?ce.parseColorForVideoAPI(f):ce.parseColorForVideoAPI(f+")"),B.background.color=(0,ye.Ln)(f))),"Outro Scene"!==s.showSceneNumber&&(y.bgMask&&(B.background.bg_mask={side:y.bgMaskSide,area:y.bgMaskArea,color:(0,ye.Ln)(ce.parseColorForVideoAPI(y.bgMaskColor))}),("Custom Intro Scene"===s.showSceneNumber||!F&&s.settings.imageZoomPan)&&(B.background.bg_animation={animation:y.bgAnimation})),s.settings.imageZoomPan&&(B.background.bg_animation={animation:y.bgAnimation}),s.visual?s.visual.isLogo&&s.visual.position&&s.visual.visualUrl&&""!==s.visual.visualUrl&&(B.background.logo={src:s.visual.visualUrl,location:s.visual.position.preset,opacity:s.visual.opacity,width:s.visual.position.width}):s.showLogo&&(B.background.logo={src:s.logoImage,location:"1"==s.logoLocation?"top-left":"top-right"}),void 0===s.layout||""===s.layout||k!==je.FS){e.next=60;break}if("logo"!==s.layout&&"logotext"!==s.layout){e.next=60;break}M=20,M="sixteen-nine"===ce.state.aspectRatioClass?20:"one-one"===ce.state.aspectRatioClass?16:(ce.state.aspectRatioClass,10),G=0;try{s.logoImage&&((new Image).src=s.logoImage)}catch(e){}return W={},ce.copyTextFormatting(s,W),W.fontSize=W.fontSize*x,e.next=52,ce.createTextAnimationContainer(s.sentence,[],W.fontSize,re.Z.defaultHeight,re.Z.defaultWidth,!0,W,s.logoImage,s.layout);case 52:z=e.sent,J=z.getBoundingClientRect(),H=z.querySelector(".sentences"),K=H.querySelector("img").getBoundingClientRect(),G=parseInt(K.top-J.top)/parseInt(J.height),z.remove(),B.background.logo={src:s.logoImage,location:"center",size:.25,location_y:parseInt(re.Z.defaultHeight*G+M)},B.background.logo_animation={animation:"expand-out",speed:1};case 60:Q=[],ne=n;case 62:if(!(ne<=n+s.AllSubSentences.length-1)){e.next=149;break}if(!(se=ce.state.subSentencesArray[ne]).isDeleted){e.next=66;break}return e.abrupt("continue",146);case 66:if(ie={time:0,location:{},text_lines:[],subtitle:"",showSceneNumber:se.showSceneNumber},z=null,oe=0,le=null,ue=!1,l&&l!==se.sceneId){e.next=86;break}return he=ce.state.animationTheme,me=he.getStyles(),ce.copyTextFormatting(se,me,null,!0),me.fontSize=me.fontSize*x,e.next=80,ce.createTextAnimationContainer(se.sentence,se.keywords,me.fontSize,re.Z.defaultHeight,re.Z.defaultWidth,!1,me,se.logoImage,se.layout,se.settings.hideText,se.fullWidth,se.displayItems,x);case 80:z=e.sent,le=z.querySelector("#sentenceElement"),ue=!0,oe=null===(de=le)||void 0===de||null===(pe=de.querySelectorAll("p > span"))||void 0===pe?void 0:pe.length,e.next=87;break;case 86:oe=se.AllSubSentences.length;case 87:if(ge=0,fe=0,ve=0,xe=0,oe>0&&(Se=0,be=re.Z.convertPttoPx(se.fontSize),y.strokeLine&&(Se=2.1*be),ge=be*(je.BA-2*je.wr),fe=1+2*je.wr,we=be*je.BA*oe+Se,void 0!==y.textBottomAlignPercent?(xe=re.Z.defaultHeight*(1-y.textBottomAlignPercent/100),ve=xe-we):ve=(re.Z.defaultHeight-we)/2),"Outro Scene"!==se.showSceneNumber||v?(Ze=se.backcolorFullwidth?{backcolor_fullwidth:(0,ye.Ln)(ce.parseColorForVideoAPI(se.backcolorFullwidth))}:{backcolor:(0,ye.Ln)(ce.parseColorForVideoAPI(se.textBackgroundColor)||"none")},ie.font=(0,a.Z)((0,a.Z)({name:ce.getFontNameForVideoGen(se.fontName),size:se.fontSize,line_spacing:fe,color:(0,ye.Ln)(ce.parseColorForVideoAPI(se.fontColor))},Ze),{},{keycolor:(0,ye.Ln)(ce.parseColorForVideoAPI(se.keywordColor)),line_height:ge,case:se.case,decoration:se.decoration,textShadowColor:se.textShadowColor,textShadowWidthFr:se.textShadowWidthFr,fullWidth:se.fullWidth,textBackgroundRadius:se.textBackgroundRadius})):ie.font={name:c,size:u,line_spacing:1,color:(0,ye.Ln)(h),backcolor:"none",keycolor:(0,ye.Ln)(S),line_height:null},"Outro Scene"!==se.showSceneNumber||v?le&&(se.preset&&(ie.location.preset=se.preset),Pe=re.Z.getOffset(le,z),"right"===se.textAlign||!se.textAlign&&y.textRightAlign?se.fullWidth?ie.location.end_x=Pe.end_x-26:ie.location.end_x=Pe.end_x:"center"===se.textAlign||!se.textAlign&&y.textHCenterAlign?ie.location.center_x=(Pe.x+Pe.end_x)/2:("left"===se.textAlign||!se.textAlign&&void 0!==y.textLeftAlignPercent)&&(ie.location.start_x=Pe.x),!se.topCoordinate||se.preset||se.fullWidth?se.preset&&se.preset.startsWith("top")&&!se.fullWidth?ie.location.start_y=re.Z.defaultTopPadding*re.Z.defaultHeight:se.preset&&se.preset.startsWith("center")&&!se.fullWidth?ie.location.start_y=.5*re.Z.defaultHeight-Pe.height/2:se.preset&&se.preset.startsWith("bottom")&&!se.fullWidth?ie.location.start_y=re.Z.defaultHeight-re.Z.defaultTopPadding*re.Z.defaultHeight-Pe.height:se.fullWidth?"full-width-top"==se.preset?ie.location.start_y=20:"full-width-bottom"==se.preset?ie.location.start_y=re.Z.defaultHeight-Pe.height:"full-width-center"==se.preset?ie.location.start_y=.5*re.Z.defaultHeight-Pe.height/2:se.topCoordinate?ie.location.start_y=parseFloat(se.topCoordinate)/100*re.Z.defaultHeight:(ie.location.preset="full-width-bottom",ie.location.start_y=re.Z.defaultHeight-Pe.height):y.textBottomAlign?ie.location.end_y=xe:ie.location.start_y=ve:ie.location.start_y=parseFloat(se.topCoordinate)/100*re.Z.defaultHeight):null==se.layout||"logotext"!==se.layout&&"text"!==se.layout||k!==je.FS||(document.querySelector("#image_a_"+se.sceneId+"_"+se.subSceneId)?(ke=document.querySelector("#image_a_"+se.sceneId+"_"+se.subSceneId).getBoundingClientRect(),Ce=document.querySelector("#text"+se.sceneId+"_"+se.subSceneId),Ie=Ce.querySelector("p").getBoundingClientRect(),Te=parseFloat(Ie.top-ke.top)/parseFloat(ke.height),ie.location.start_y=parseInt(re.Z.defaultHeight*Te)):z&&d&&(Ee=z.getBoundingClientRect(),Ae=z.querySelector(".sentences"),_e=Ae.querySelector("p").getBoundingClientRect(),Re=parseFloat(_e.top-Ee.top)/parseFloat(Ee.height),ie.location.start_y=parseInt(re.Z.defaultHeight*Re))),se.settings&&se.settings.hideText?B.keywords=[]:B.keywords=se.keywords,!s.transcription){e.next=102;break}R.tts&&ce.state.voiceOverURL&&ce.state.voiceOverURL.timePerSceneForVoiceOver&&ce.state.voiceOverURL.timePerSceneForVoiceOver.length>0?(ie.time=parseFloat((ce.state.voiceOverURL.timePerSceneForVoiceOver[ne]/1e3).toFixed(2)),B.time+=parseFloat(ie.time),B.time=parseFloat(B.time.toFixed(2))):s.bRoll?(Ne=parseFloat(ce.state.timePerFrame[ne].toFixed(2)),ie.time=parseFloat(Ne.toFixed(2)),B.time+=parseFloat(ie.time),B.time=parseFloat(B.time.toFixed(2))):ce.state.subSentencesArray[ne].settings&&ce.state.subSentencesArray[ne].settings.videoOptions&&ce.state.subSentencesArray[ne].settings.videoOptions.subSentenceSegments&&ce.state.subSentencesArray[ne].settings.videoOptions.subSentenceSegments.length&&!ce.state.subSentencesArray[ne].recordedAudio?function(){var e=ce.state.subSentencesArray[ne].settings.videoOptions.subSentenceSegments,t=0;e.map((function(e,n){var r=e.start,s=e.end;r=parseFloat(r),s=parseFloat(s),t+=s-r})),ie.time=parseFloat(t.toFixed(2)),B.time+=parseFloat(ie.time),B.time=parseFloat(B.time.toFixed(2))}():(ie.time=ce.state.timePerFrame[ne],B.time+=parseFloat(ie.time),B.time=parseFloat(B.time.toFixed(2))),e.next=127;break;case 102:if(!((0,ye.bg)()&&R.tts||D||U||L)){e.next=116;break}if("transcribe"===ce.state.source?"Custom Intro Scene"==ce.state.subSentencesArray[n].showSceneNumber?(ie.time=parseFloat(ce.state.timePerFrame[ne].toFixed(2)),B.time=ie.time):ce.state.subSentencesArray[ne].settings&&ce.state.subSentencesArray[ne].settings.videoOptions&&ce.state.subSentencesArray[ne].settings.videoOptions.subSentenceSegments&&ce.state.subSentencesArray[ne].settings.videoOptions.segments.length&&!ce.state.subSentencesArray[ne].recordedAudio&&!ce.state.subSentencesArray[ne].settings.voiceOver?function(){var e=ce.state.subSentencesArray[ne].settings.videoOptions.subSentenceSegments,t=0;e.map((function(e,n){var r=e.start,s=e.end;r=parseFloat(r),s=parseFloat(s),t+=s-r})),t>0?(B.segments=(0,o.Z)(e),ie.time=parseFloat(t),B.time+=parseFloat(ie.time),B.time=parseFloat(B.time.toFixed(2))):(ie.time=void 0===ce.state.timePerFrame[ne]?5:ce.state.timePerFrame[ne],B.time+=parseFloat(ie.time),B.time=parseFloat(B.time.toFixed(2)))}():(ie.time=void 0===ce.state.timePerFrame[ne]?5:ce.state.timePerFrame[ne],B.time+=parseFloat(ie.time)):(ie.time=void 0===ce.state.timePerFrame[ne]?5:ce.state.timePerFrame[ne],B.time+=parseFloat(ie.time)),!isNaN(B.time)||"Outro Scene"!==se.showSceneNumber){e.next=114;break}if(!ce.getOutroVideoDurationPromise){e.next=111;break}return e.next=108,ce.getOutroVideoDurationPromise;case 108:e.t0=e.sent,e.next=112;break;case 111:e.t0=ce.state.defaultOutroTimeInSec;case 112:ie.time=e.t0,B.time=ie.time;case 114:e.next=127;break;case 116:if(ie.time=void 0===ce.state.timePerFrame[ne]?5:ce.state.timePerFrame[ne]>=1?ce.state.timePerFrame[ne]:5,!isNaN(ie.time)||"Outro Scene"!==se.showSceneNumber){e.next=126;break}if(!ce.getOutroVideoDurationPromise){e.next=124;break}return e.next=121,ce.getOutroVideoDurationPromise;case 121:e.t1=e.sent,e.next=125;break;case 124:e.t1=ce.state.defaultOutroTimeInSec;case 125:ie.time=e.t1;case 126:B.time+=parseFloat(ie.time);case 127:for("transcribe"===ce.state.source&&"Outro Scene"!==se.showSceneNumber&&B.sentences.push({time:ie.time,text:ce.state.subSentencesArray[ne].sentence?ce.getVoiceOverText(ce.state.subSentencesArray[ne].sentence):""}),Oe=[],le?Oe=Array.from(le.querySelectorAll("p > span")).map((function(e){return ae=n,e.innerHTML})):(Oe.push(ce.state.subSentencesArray[ne].sentence),ie.generateLines=!0),"transcribe"===ce.state.source&&0===Oe.length&&Oe.push(""),De=[],y.strokeLine&&"Outro Scene"!==se.showSceneNumber&&Oe.length>0&&(Ue={stroke_color:(0,ye.Ln)(y.strokeColor),stroke_width:y.strokeWidth,text_animation:[{animation:y.strokeAnimation,speed:y.strokeAnimationSpeed}]},De.push(Ue)),Le=0;Le<Oe.length;Le++){if(Fe=Oe[Le],Fe=(0,ye.VA)(Fe,"<br/>",""),Fe=(0,ye.VA)(Fe,"<br>",""),Fe=re.Z.sanatizeString(Fe),Fe=(0,ye.VA)(Fe,"⏎",""),Fe=(0,ye.VA)(Fe,"↵",""),se.animation){for(Ve=0;Ve<se.animation.text_animation.length;Ve++)se.animation.text_animation[Ve].source="templates";De.push({text_animation:se.animation.text_animation,text_bg_animation:se.animation.text_animation,text:Fe})}else Be={},Me={},"Outro Scene"!==se.showSceneNumber?(Be={animation:y.textAnimation,speed:y.textAnimationSpeed+y.textStagger*Le},Me={animation:y.textBgAnimation,speed:y.textBgAnimationSpeed+y.textBgStagger*Le}):v||(Be={animation:"expand-out",speed:1},Me={animation:"expand-out",speed:1}),De.push({text_animation:[Be],text_bg_animation:[Me],text:Fe});_||(_+=" ".concat(Fe))}if(ce.state.subSentencesArray[ne].settings&&ce.state.subSentencesArray[ne].settings.hideText?ie.text_lines=[]:ie.text_lines=De,B.subtitles||(B.subtitles=[]),B.subtitles.push({text:re.Z.HtmlToText(se.sentence&&(0,E.decode)(ce.removeBOMChar(re.Z.removeBrTag(se.sentence.replace("↵","").replace("⏎","").replace(/\r?\n|\r/g," "))))||""),time:ie.time}),ie.displayItems=[],se.displayItems&&se.displayItems.length>0)for(Ge=0;Ge<se.displayItems.length;Ge++)if(We=[],"visual"===(ze=se.displayItems[Ge]).type)ze.visualData.url&&""!=ze.visualData.url&&ie.displayItems.push({type:"visual",src:ze.visualData.url,id:(0,Y.Z)(),visualType:(0,ye.Q5)(ze.visualData.url),location:{topCoordinate:ze.itemStyleData.topCoordinate,leftCoordinate:ze.itemStyleData.leftCoordinate,width:ze.itemStyleData.paragraphWidth,preset:ze.itemStyleData.preset,rotation:ze.itemStyleData.rotation,flipVertical:ze.itemStyleData.flipVertical,flipHorizontal:ze.itemStyleData.flipHorizontal,opacity:ze.itemStyleData.opacity}});else{for(Je=O().cloneDeep(ze.itemStyleData),He="disp"+ze.id.replaceAll("-",""),Ke=z.querySelector("#"+He),qe=Array.from(Ke.querySelectorAll("p > span")).map((function(e){return ae=n,e.innerHTML})),Ye={},Qe=0;Qe<qe.length;Qe++)nt=qe[Qe],nt=(0,ye.VA)(nt,"<br/>",""),nt=(0,ye.VA)(nt,"<br>",""),nt=re.Z.sanatizeString(nt),nt=(0,ye.VA)(nt,"⏎",""),nt=(0,ye.VA)(nt,"↵",""),null!=Je&&null!==(Xe=Je.animation)&&void 0!==Xe&&Xe.text_animation&&null!=Je&&null!==($e=Je.animation)&&void 0!==$e&&$e.text_bg_animation&&(Je.animation.text_animation.filter((function(e){return e.source="templates"})),Je.animation.text_animation.filter((function(e){return e.source="templates"}))),We.push({text_animation:null==Je||null===(et=Je.animation)||void 0===et?void 0:et.text_animation,text_bg_animation:null==Je||null===(tt=Je.animation)||void 0===tt?void 0:tt.text_animation,text:nt});Ke&&(Je.preset&&(Ye.preset=Je.preset),rt=re.Z.getOffset(Ke,z),"right"===Je.textAlign||!Je.textAlign&&y.textRightAlign?Je.fullWidth?Ye.end_x=rt.end_x-26:Ye.end_x=rt.end_x:"center"===Je.textAlign||!Je.textAlign&&y.textHCenterAlign?Ye.center_x=(rt.x+rt.end_x)/2:("left"===Je.textAlign||!Je.textAlign&&void 0!==y.textLeftAlignPercent)&&(Ye.start_x=rt.x),!Je.topCoordinate||Je.preset||Je.fullWidth?Je.preset&&Je.preset.startsWith("top")&&!Je.fullWidth?Ye.start_y=re.Z.defaultTopPadding*re.Z.defaultHeight:Je.preset&&Je.preset.startsWith("center")&&!Je.fullWidth?Ye.start_y=.5*re.Z.defaultHeight-rt.height/2:Je.preset&&Je.preset.startsWith("bottom")&&!Je.fullWidth?Ye.start_y=re.Z.defaultHeight-re.Z.defaultTopPadding*re.Z.defaultHeight-rt.height:Je.fullWidth?"full-width-top"==Je.preset?Ye.start_y=20:"full-width-bottom"==Je.preset?Ye.start_y=re.Z.defaultHeight-rt.height:"full-width-center"==Je.preset?Ye.start_y=.5*re.Z.defaultHeight-rt.height/2:Je.topCoordinate?Ye.start_y=parseFloat(Je.topCoordinate)/100*re.Z.defaultHeight:Ye.start_y=re.Z.defaultHeight-rt.height:y.textBottomAlign?Ye.end_y=xe:Ye.start_y=ve:Ye.start_y=parseFloat(Je.topCoordinate)/100*re.Z.defaultHeight),Je.fontSize&&(Je.size=Je.fontSize*ee*x,Je.line_height=1.33*Je.size*1.3,Je.line_spacing=1.2),Je.fontName&&(Je.name=ce.getFontNameForVideoGen(Je.fontName)),Je.fontColor&&(Je.color=Je.fontColor),Je.keywordColor&&(Je.keycolor=Je.keywordColor),Je.textBackgroundColor&&(Je.backcolor=Je.textBackgroundColor),Je.textBackgroundRadius&&(Je.backgroundRadius=Je.textBackgroundRadius),Ye.start_x&&(Ye.start_x=Ye.start_x*te),Ye.center_x&&(Ye.center_x=Ye.center_x*te),Ye.end_x&&(Ye.end_x=Ye.end_x*te),Ye.start_y&&(Ye.start_y=Ye.start_y*ee),Ye.end_y&&(Ye.end_y=Ye.end_y*ee),ie.displayItems.push({font:Je,location:Ye,text_lines:We,type:"text",isCounter:ze.isCounter})}if(B.sub_scenes.push(ie),se.bRollSubSceneSegment&&se.bRollSubSceneSegment.length>0){st=(0,r.Z)(se.bRollSubSceneSegment);try{for(st.s();!(at=st.n()).done;)it=at.value,Q.push({url:se.bRollUrl,asset_id:Date.now(),type:"video",library:"transcriptionVideoThumbnails",mode:"crop",frame:null,loop_video:!1,resource_id:(0,Y.Z)(),sessionId:(0,Y.Z)(),start:it.start,end:it.end,mute:!1})}catch(e){st.e(e)}finally{st.f()}}if(ue&&(null===(ot=z)||void 0===ot||ot.remove(),null===(ct=le)||void 0===ct||ct.remove()),!(ie.time<=0&&p)){e.next=146;break}throw ce.setState({isInvalidSceneDuration:!0}),w().getInstance().logEvent("invalid-sub-scene-duration",{"project-id":ce.state.project_id,"sub_scene-duration":ie.time,showSceneNumber:ie.showSceneNumber}),"invalid scene duration";case 146:ne++,e.next=62;break;case 149:if("Outro Scene"!==s.showSceneNumber||v||s.recordedAudio||(B.tts=!1),s.transition&&(B.transition=s.transition),n=n+s.AllSubSentences.length-1,t){if("Custom Intro Scene"===s.showSceneNumber){X=T.scenes.length,lt=(0,r.Z)(T.scenes);try{for(lt.s();!(ut=lt.n()).done;)ut.value.intro_index=X}catch(e){lt.e(e)}finally{lt.f()}}if("Outro Scene"===s.showSceneNumber){$=T.scenes.length,dt=(0,r.Z)(T.scenes);try{for(dt.s();!(pt=dt.n()).done;)pt.value.outro_index=$}catch(e){dt.e(e)}finally{dt.f()}}X>-1&&(B.intro_index=X),$>-1&&(B.outro_index=$)}if(!(B.time<=0&&p)){e.next=157;break}throw ce.setState({isInvalidSceneDuration:!0}),w().getInstance().logEvent("invalid-scene-duration",{"project-id":ce.state.project_id,"scene-duration":B.time,sceneDisplayNo:B.sceneDisplayNo}),"invalid scene duration";case 157:p&&(!(!0===s.transcription&&!0===B.tts&&B.background&&B.background.src&&B.background.src.length>0)||(0,ye.bg)()||null!==(ht=s.audioSegments)&&void 0!==ht&&null!==(mt=ht[0])&&void 0!==mt&&mt.recordedAudio||(s.bRollUrl&&Q.length>0?(B.tts=!1,B.background.bRollSrc=Q):!0===s.transcription&&!1===B.background.src[0].mute&&(B.tts=!1))),T.scenes.push(B);case 159:case"end":return e.stop()}}),e)}))),50);case 5:ae=n;case 6:case"end":return e.stop()}}),e)})),ae=0;case 70:if(!(ae<this.state.subSentencesArray.length)){e.next=78;break}return e.delegateYield(se(ae),"t0",72);case 72:if("continue"!==e.t0){e.next=75;break}return e.abrupt("continue",75);case 75:ae++,e.next=70;break;case 78:T.scenes=T.scenes.map((function(e){return e.sub_scenes=e.sub_scenes.map((function(e){return e.font.size=e.font.size*ee*x,null!==e.font.line_height&&(e.font.line_height=e.font.line_height*ee*x),e.location.start_x&&(e.location.start_x=e.location.start_x*te),e.location.center_x&&(e.location.center_x=e.location.center_x*te),e.location.end_x&&(e.location.end_x=e.location.end_x*te),e.location.start_y&&(e.location.start_y=e.location.start_y*ee),e.location.end_y&&(e.location.end_y=e.location.end_y*ee),e})),e.background&&e.background.logo&&e.background.logo.location_y&&(e.background.logo.location_y=e.background.logo.location_y*ee),e.background&&e.background.src&&(e.background.src=(0,o.Z)(e.background.src),e.background.src.forEach((function(e,t){e.frame&&(e.frame=(0,a.Z)({},e.frame),e.frame.center_x=e.frame.center_x*ee,e.frame.center_y=e.frame.center_y*ee)}))),e}));try{g||(T.scenes[T.scenes.length-1].music?T.scenes[T.scenes.length-1]["music-fade-out"]=!0:null!==(ie=T.scenes[T.scenes.length-2])&&void 0!==ie&&ie.music&&(T.scenes[T.scenes.length-2]["music-fade-out"]=!0))}catch(e){}return""!=_&&(T.output.description=_),this.state.isTransitions&&this.state.transitionId&&""!=this.state.transitionId&&"none"!=this.state.transitionId&&"number"!=typeof this.state.transitionId&&(oe=T.scenes.map((function(e){return(0,a.Z)({},e)})),T.scenes=oe),t&&(T.video_editing=!0,T.use_moviepy=!0,T.video_per_scene=!0),"transcribe"===this.state.source&&(T.video_editing=!0,T.use_moviepy=!0),n&&(T.use_scegen=!0),this.generateDraftVideo&&(T.draftVideo=!0,this.generateDraftVideo=!1),this.generateNextGenerationVideo&&(T.next_generation_video=!0,this.generateNextGenerationVideo=!1),this.setState({previewProgressMessage:"Generating preview"}),T.containsTextToImage=A,w().getInstance().logEvent("generate-video-json-completed",{"project-id":this.state.project_id}),e.abrupt("return",{VideoCreationJson:T,containsTextToImage:A});case 91:case"end":return e.stop()}}),e,this)}))),function(e,t){return B.apply(this,arguments)})},{key:"parseColorForVideoAPI",value:function(e){if(e){var t=(e=e.trim()).match(/rgba?/g),n=e.match(/[\d\.]+/g);return null==t?"none":"rgb"==t[0]?e:"rgba"==t[0]?(n[3]=Math.round(255*parseFloat(n[3])),"rgba("+n.join(",")+")"):"none"}}},{key:"componentWillMount",value:(D=(0,c.Z)((0,i.Z)().mark((function e(){var t,n=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.Z.Instance.Configure(),k.g.currentAuthenticatedUser().then(function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var r,s,a,o,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.state.user=t,n.setState({VideoRes:(0,ye.DY)(t.username)?"1080p":"720p"}),n.fetchAspectRatioFromSettings(),n.showSubscriptionVoiceOverTracks(t.username),n.props.searchCategoriesBegin(),n.props.getImageList(t.username,n.state.getImageFilter),n.props.getFavoriteVisuals(t.username),n.props.getRecentVisuals(t.username),n.props.getAudioFavAndRecents(t.username),n.props.getCurrentSubscription(t.username),e.next=12,n.props.getStyles();case 12:return e.next=14,n.props.getUserBrandsRequest(t.username);case 14:if(n.getVoiceOverQuota(!0),n.setState({user:t,username:t.username}),(0,ye.N$)(n.state.username)[je.R2.sceneTransitions]&&n.setState({isTransitions:!0}),!n.state.loadProject){e.next=23;break}return n.setState({OverlayMessage:"Please wait..."}),e.next=21,n.openProject();case 21:e.next=27;break;case 23:if(n.state.popupAskBrandSettingChange){e.next=27;break}return n.setState({isShowOverlay:!0}),e.next=27,n.loadProjectFromJson();case 27:if(!n.state.loadProjectDetails||!n.state.loadProjectDetails.states||n.state.loadProjectDetails.currentState!=je.yc.VIDEO_GENERATING){e.next=36;break}if(r=n.state.loadProjectDetails.states,-1==(s=r.findIndex((function(e){return e.name===je.yc.VIDEO_GENERATING&&e.responseId})))){e.next=36;break}return a=r[s].responseId,e.next=34,n.props.getVideoProgress({responseId:a});case 34:(o=n.props.videoProgress)&&!O().isEmpty(o)&&o.message?"completed"===o.message.status||"complete"===o.message.status?n.setState({videoURL:o.message.output,isGeneratedAsyncVideo:!0,shareVideoURL:o.message.share_output,generatingAsyncVideo:!1}):"error"===o.message.status||n.setState({generatingAsyncVideo:!0}):n.setState({generatingAsyncVideo:!0});case 36:(c=(0,ye.E3)())&&n.props.getTeamUsersRequest(c);case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(e){this.props.history.push(ze.Z.BaseURL)}.bind(this)),!this.props.location.state||this.props.location.state.loadProject&&!this.props.location.state.askBrandSettingChange||(t={template:this.props.location.state.projectDetails.template},this.setState({templatesAction:In.Pf.applyTemplateId,templatesActionData:t}),this.props.history.replace({state:(0,a.Z)((0,a.Z)({},this.props.location.state),{},{loadProject:!0,askBrandSettingChange:!1,project_id:this.state.project_id,projectDetails:(0,a.Z)((0,a.Z)({},this.props.location.state.projectDetails),{},{isNewProject:!1})})})),this.props.location.state&&this.props.location.state.loadProject&&this.props.location.state.isFromStep2&&this.props.history.replace({state:(0,a.Z)((0,a.Z)({},this.props.location.state),{},{isFromStep2:!1})});case 4:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e,t=this;this.props.history&&this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.reloadPage&&this.props.history.replace({state:(0,a.Z)((0,a.Z)({},this.props.location.state),{},{reloadPage:!1,reloadKey:null})});var n=setInterval((function(){t.timeTakenInStepThree=t.timeTakenInStepThree+1}),1e3);this.setState({timeTakenInStepThreeInterval:n}),be.Z.removeItem("lastUrl"),be.Z.setItem("lastUrl",ke.Z.stepThree),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleMouseClick),_()('[data-toggle="tooltip"]').tooltip({trigger:"hover"}),_()(".copy-url-link").click((function(e){var t=this;e.stopPropagation(),_()(".copy-url-link").show(),this.setState({copy:!0}),setTimeout((function(){t.setState({showCopyLink:!1,copy:!1})}),1e3)})),_()(".link-copy").click((function(e){e.stopPropagation(),t.setState({showCopyLink:!0}),_()(".copy-url-link").show()})),_()((function(){_()(document).click((function(){_()(".copy-url-link").hide()}))})),window.addEventListener("resize",this.windowDidResized),be.Z.removeItem("voiceOverTrackName"),be.Z.removeItem("voiceOverTrackId"),be.Z.removeItem("trackType"),be.Z.removeItem("activeTrack"),be.Z.removeItem("trackId"),be.Z.removeItem("trackName"),this.getDefaultTextStyles(),null===(e=window.Appcues)||void 0===e||e.on("step_interacted",(function(e){"11Labs Announcement"!==e.flowName&&"11Labs Announcement Step 2"!==e.flowName&&"11Labs Announcement Existing Project"!==e.flowName||e.interaction&&t.openTab(ca)}))}},{key:"componentWillMount_call",value:(N=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T=this,E=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=E.length>0&&void 0!==E[0]&&E[0],r=!(E.length>1&&void 0!==E[1])||E[1],s=[],l=(0,o.Z)(this.state.timePerFrame),(null===(t=this.state.summaryJsonText)||void 0===t?void 0:t.length)>0&&"Outro Scene"===this.state.summaryJsonText[this.state.summaryJsonText.length-1].sceneId&&"video"===(0,ye.Q5)(this.state.summaryJsonText[this.state.summaryJsonText.length-1].image)&&!this.getOutroVideoDurationPromise&&(this.getOutroVideoDurationPromise=this.getOutroVideoDuration(this.state.summaryJsonText[this.state.summaryJsonText.length-1].image)),u=this.state.subSentencesArray[this.state.currentActiveDiv-1],d=0;d<this.state.summaryJsonText.length;d++){for(p=this.state.summaryJsonText[d],h="Custom Intro Scene"==p.sceneId?1:parseInt(d)+1,0===p.subsentences.length&&(delete(m=(0,a.Z)({},p)).sentence,delete m.subsentences,delete m.image,delete m.type,delete m.format,delete m.bRollSubSceneSegments,delete m.subSentenceSegments,delete m.uuidArray,g=O().cloneDeep(this.state.defaultSceneSettings),f=(0,a.Z)((0,a.Z)({},m),{},{sentence:p.sentence||"",subSentences:p.sentence,subSceneId:1,AllSubSentences:p.sentence?[p.sentence]:[],settings:p.settings||g,isDeleted:!1,isNew:!1,isActive:!1,isOpenTextEditor:!1,transcription:p.transcription||!1}),p.format&&(f=(0,a.Z)((0,a.Z)({},f),p.format[0])),p.recordedAudio&&(f.recordedAudio=p.recordedAudio,f.recordingApplyToAll=p.recordingApplyToAll,f.playbackRate=p.playbackRate,f.audioSegments=p.audioSegments),p.bRoll&&(f.bRoll=p.bRoll,f.bRollUrl=p.bRollUrl,f.bRollSubSceneSegment=p.bRollSubSceneSegments[0]),p.isBrandIntro&&(f.isBrandIntro=!0),p.isBrandOutro&&(f.isBrandOutro=!0),s.push(f)),v=function(e){var t=p.subsentences[e];S=t,y=parseInt(e)+1,1===p.subsentences.length&&p.sentence&&(S=p.sentence);var n=!1,i=O().cloneDeep(T.state.defaultSceneSettings),o=!(!T.props.location||!T.props.location.state||!0===T.props.location.state.isSubtitleEnabled),c=p.settings&&Object.keys(p.settings).length>0?p.settings:!0===p.transcription?(0,a.Z)((0,a.Z)({},i),{},{muteClipAudio:!1,hideText:o}):i;if(r){var d=T.state.subSentencesArray.findIndex((function(e){return e.sceneId==h}));d>-1&&T.state.subSentencesArray[d]&&T.state.subSentencesArray[d].settings&&(c=(0,a.Z)({},T.state.subSentencesArray[d].settings))}var m=0;if(!p.bRoll&&p.subSentenceSegments&&p.subSentenceSegments[e]){n=!0,p.subSentenceSegments[e]&&p.subSentenceSegments[e].map((function(e){var t=0;e&&e.start!=e.end&&(t=parseFloat(e.end)-parseFloat(e.start)),m+=t}));var g=p.settings&&p.settings.videoOptions?p.settings.videoOptions.segments:c.videoOptions.segments;c=(0,a.Z)((0,a.Z)((0,a.Z)({},p.settings),c),{},{videoOptions:{isCropped:!0,segments:g,subSentenceSegments:p.subSentenceSegments[e]}})}var f=(0,a.Z)({},p);delete f.sentence,delete f.subsentences,delete f.image,delete f.type,delete f.format,delete f.bRollSubSceneSegments,delete f.subSentenceSegments,delete f.uuidArray;var v=(0,a.Z)((0,a.Z)({},f),{},{sentence:S,subSentences:S,sceneId:h,subSceneId:y,AllSubSentences:p.subsentences,transcribeVideoLength:n?parseFloat(parseFloat(m).toFixed(2)):p.transcribeVideoLength,settings:O().cloneDeep(n?c:p.settings||c),isDeleted:!1,isNew:!1,isActive:!1,isOpenTextEditor:u&&u.isOpenTextEditor||!1,transcription:p.transcription||!1});if(p.format&&p.format[e]){var x=p.format[e].hideText;delete p.format[e].hideText,v=(0,a.Z)((0,a.Z)((0,a.Z)({},v),p.format[e]),{},{settings:(0,a.Z)({},v.settings)}),void 0!==x&&(v.settings.hideText=x)}p.recordedAudio?(v.recordedAudio=p.recordedAudio,v.recordingApplyToAll=p.recordingApplyToAll,v.playbackRate=p.playbackRate,p.audioSegments&&p.audioSegments.length>0&&p.audioSegments[e]?(v.audioSegments=[p.audioSegments[e]],v.recordedAudioDuration=p.audioSegments[e].end-p.audioSegments[e].start,v.recordedAudioDurationMiniSec=1e3*v.recordedAudioDuration):v.audioSegments=[null]):p.audioSegments&&void 0!==p.audioSegments[e]&&(v.audioSegments=[p.audioSegments[e]]),p.bRoll&&(v.bRoll=p.bRoll,v.bRollUrl=p.bRollUrl,v.bRollSubSceneSegment=p.bRollSubSceneSegments[e],v.bRollSubSceneSegment&&Array.isArray(v.bRollSubSceneSegment)?v.transcribeVideoLength=v.bRollSubSceneSegment.reduce((function(e,t){return e+(t?t.end-t.start:0)}),0):console.log(v.sceneId,".",v.subSceneId," sceneData.bRollSubSceneSegment is ",v.bRollSubSceneSegment)),v.uuid=p.uuidArray[e],s.push(v),p.transcription&&v.transcribeVideoLength>0&&"Custom Intro Scene"!==p.sceneId&&"Outro Scene"!==p.sceneId&&(l[s.length-1]=v.transcribeVideoLength)},x=0;x<p.subsentences.length;x++)v(x);p.recordedAudio}if(this.setShowSceneNumbersInSceneArray(this.state.summaryJsonText,s,0),!(s.length>0)){e.next=20;break}b=this.state.refreshEditScene,j=this.state.refreshAllStatement,w=this.state.refreshAllScenePanel,Z=this.state.refreshVisualLibrary,k=this.state.refreshImageFavourite,C=this.state.refreshImageRecent,I=0,"object"==typeof this.state.subSentencesArray&&this.state.subSentencesArray.length>0&&this.state.subSentencesArray.forEach((function(e,t){1==e.isActive&&(I=t)}));try{0===I&&s[I].settings.hideScene&&I++,s[I].isActive=!0,this.props.getSentenceKeywordSuggestions(this.getVoiceOverText(s[I].sentence&&s[I].sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,"")||""),this.state.scriptLanguage)}catch(e){s[I-1].isActive=!0,this.props.getSentenceKeywordSuggestions(this.getVoiceOverText(s[I-1].sentence&&s[I-1].sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,"")||""),this.state.scriptLanguage)}return e.next=20,this.setState({subSentencesArray:s,isAnyChange:n,isShowOverlay:!1,timePerFrame:l,currentActiveDiv:I+1,currentSceneId:s[I].sceneId,refreshImageUpload:!this.state.refreshImageUpload,refreshEditScene:!b,refreshAllStatement:!j,refreshAllScenePanel:!w,refreshImageRecent:!C,refreshImageFavourite:!k,refreshVisualLibrary:!Z},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.getEstimatedTime();case 1:case"end":return e.stop()}}),e)}))));case 20:case"end":return e.stop()}}),e,this)}))),function(){return N.apply(this,arguments)})},{key:"setActiveScenes",value:function(e,t,n){return e.map((function(e){return e.sceneId===t.sceneId&&(e.isActive=n),e}))}},{key:"ExtractTextFormatFromBrand",value:function(e,t){var n,r,s=this,a=null===(n=this.props)||void 0===n||null===(r=n.userBrands)||void 0===r?void 0:r.find((function(e){return e.id==s.state.brandId}));if(a){var i,o,c,l,u,d,p=null==a||null===(i=a.colorList)||void 0===i?void 0:i.find((function(e){return e.isDefault})),h=null==p?void 0:p.textBackgroundColor,m=null==p?void 0:p.fontColor,g=null==p?void 0:p.keywordColor,f=null==a||null===(o=a.fontList)||void 0===o||null===(c=o[0])||void 0===c?void 0:c.fontName,v=null==a||null===(l=a.fontSizeList)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.fontSize,x=null==a||null===(d=a.logoList)||void 0===d?void 0:d.find((function(e){return 1==e.isDefault}));if(p&&h){var S=(0,ye.nt)(h);m||(m="dark"==S?"rgba(255,255,255,1)":"rgba(0,0,0,1)"),g||(g=(0,ye.rN)(h))}h&&(e.fontColor=m,e.textBackgroundColor=h,e.keywordColor=g),f&&(e.fontName=f,e.FontNameForFront=K.getFrontFontName(f)),v&&(e.fontSize=parseInt(v)),delete e.styleIdObj,x&&(t=this.createBrandLogoDisplayElement(x))}return t}},{key:"DeleteCompleteScene",value:function(e,t,n,r,s,a,i){var c,l,u,d=(0,o.Z)(e),p=(0,o.Z)(t),h=(0,o.Z)(n),m=(0,o.Z)(r);if(1!==d.length){var g=d.findIndex((function(e){return e.uuid===i})),f=d[g],v=d[g].sceneId,x=(null===(c=this.state.durationUpdatedScenes)||void 0===c?void 0:c.updatedSceneDuration)||[];p.splice(f.sceneId-1,1),h.splice(f.sceneId-1,1),m.splice(f.sceneId-1,1),x=x.filter((function(e){return e!==v})).map((function(e){return e>v?e-1:e})),m=m.map((function(e,t){return"Outro Scene"==e.sceneId||"Custom Intro Scene"==e.sceneId||(e.sceneId=t+1),e}));var S={},y=f.sceneId,b=(0,o.Z)(this.state.scenePosition).filter((function(e){return!(e&&e.SceneId==f.sceneId&&e.SubSceneId==f.subSceneId)}));d.splice(g,1);var j=(0,o.Z)(s);j.splice(g,1),d=d.map((function(e,t){if(t<g)return e;var n=e.sceneId;return e.subSceneId>1?e.sceneId=y-1:(e.sceneId=y,S[n]=e.sceneId,y=e.sceneId+1),e})),this.setShowSceneNumbersInSceneArray(m,d,g),b=b.map((function(e){return e&&S[e.SceneId]&&(e.SceneId=S[e.SceneId]),e}));var w;d[w=g>=d.length-1?d[d.length-1].settings.hideScene?d.length-2:d.length-1:g].isActive=!0,this.state.refreshEditScene,this.state.refreshAllStatement,this.state.refreshAllScenePanel,d.length;var Z=(null===(l=this.state.durationUpdatedScenes)||void 0===l?void 0:l.sceneIndices)||[];if(Z.length>0){var k=(Z=Z.map((function(e){return e>g&&(e-=1),e}))).indexOf(g);-1!==k&&Z.splice(k,1)}return{timePerFrame:j,scenePositions:b,sceneArray:d,imageArray:p,summaryArray:m,imageAssests:h,activeSceneIndex:w,durationUpdatedScenes:{loading:!1,sceneIds:(null===(u=this.state.durationUpdatedScenes)||void 0===u?void 0:u.sceneIds)||[],sceneIndices:Z,isSceneDeleted:!0,updatedSceneDuration:x||[]}}}}},{key:"DeleteSubScene",value:function(e,t,n,r,s){var i,c,l,u=t.findIndex((function(e){return e.uuid===s})),d=t[u].sceneId,p=(0,o.Z)(t),h=(0,o.Z)(n);if(1!==p.length){var m=p[u].sceneId,g=p[u].subSceneId,f=p[u].AllSubSentences;f.splice(g-1,1);for(var v=0;v<p.length;v++)p[v].isActive&&(p[v].isActive=!1),p[v].sceneId==m&&(p[v].AllSubSentences=(0,o.Z)(f));var x=this.getSummaryFromGivenSubSentenceSceneId(m),S=x.summary,y=x.index;h[y]=(0,a.Z)((0,a.Z)({},S),{},{format:(0,o.Z)(S.format)}),h[y].format.splice(g-1,1),h[y].uuidArray.splice(g-1,1),h[y].subsentences=(0,o.Z)(f);for(var b=0;b<p.length;b++)p[b].sceneId===m&&(p[b].AllSubSentences=f);var j=this.state.currentActiveDiv;if(0===e)p.splice(u,1),j=0,p[j=u>=p.length-1?p[p.length-1].settings.hideScene?p.length-2:p.length-1:u].isActive=!0;else for(var w=d;w<e;w++){w===d&&(p[w].isActive=!0);var Z=p[w].subSceneId-1;p[w].subSceneId=Z,w===e-1&&p.splice(u,1)}this.setShowSceneNumbersInSceneArray(h,p,d-1);var k=(0,o.Z)(r);return k.splice(d-1,1),{timePerFrame:k,sceneArray:p,summaryArray:h,activeSceneIndex:j,durationUpdatedScenes:{loading:!1,sceneIds:h.map((function(e){return null==e?void 0:e.sceneId})),sceneIndices:Array.from(Array(h.length-1).keys()),isSceneDeleted:null===(i=this.state.durationUpdatedScenes)||void 0===i?void 0:i.isSceneDeleted,updatedSceneDuration:(null===(c=this.state)||void 0===c||null===(l=c.durationUpdatedScenes)||void 0===l?void 0:l.updatedSceneDuration)||[]}}}}},{key:"componentDidMount_call",value:(R=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=15;break}if("transcribe"==this.state.source||this.state.loadProject){e.next=6;break}return e.next=4,this.getSummaryImages();case 4:e.next=14;break;case 6:if("transcribe"!=this.state.source||this.state.loadProject){e.next=14;break}if(!this.state.isPodcast){e.next=12;break}return e.next=10,this.getSummaryImages();case 10:e.next=14;break;case 12:return e.next=14,this.getTranscriptionScenesVisuals();case 14:this.state.loadProject?this.getProjectAudios():this.findProjectAudios();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"showTranscriptonSceneVisuals",value:function(e,t){for(var n=(0,o.Z)(this.state.imageURL),r=this.state.defaultImages,s=(0,o.Z)(this.state.imageAssests),a={},i=0,c=0;c<e.length;c++){var l=e[c];if(l.image){if(this.state.allAssets[l.image]&&(a=this.state.allAssets[l.image]),a&&!O().isEmpty(a)?s[c]=a:s.push({thumb:l.image,url:l.image,large:l.image}),this.isOutroScene(c+1))break;n[c]=l.image,r[c]=a&&!O().isEmpty(a)?a:{thumb:l.image,preview:l.image,large:l.image},l.transcription&&i++}else if(l.transcription){var u=t[i];if(this.state.allAssets[u.url]&&(a=this.state.allAssets[u.url]),a&&!O().isEmpty(a)?s[c]=a:s.push({thumb:u.thumb,url:u.url,large:u.url}),this.isOutroScene(c+1))break;n[c]=u.url,r[c]=a&&!O().isEmpty(a)?a:{thumb:u.thumb,preview:u.url,large:u.url},i++}}this.setState({imageURL:n,defaultImages:r,imageAssests:s})}},{key:"createSentenceContainer",value:function(e,t,n,s,a,i,o,c,l,u,d,p){var h;e.paragraphWidth&&(e.width=e.paragraphWidth),e.FontNameForFront||(e.FontNameForFront=K.getFrontFontName(e.fontName)),e.fontName=e.FontNameForFront;var m=[];l||(m=re.Z.calculateHighlightedLines(t,void 0,s,e,!1));for(var g=!1,f=0;f<m.length;f++){var v=m[f],x=(v.match(/<strong>/g)||[]).length,S=(v.match(/<\/strong>/g)||[]).length,y="";x===S&&x>0&&v.indexOf("</strong>")<v.indexOf("<strong>")||x===S&&0===x&&g?y+="<strong>"+v+"</strong>":x===S?y+=v:x>S?(y+=v+"</strong>",g=!0):x<S&&(y+="<strong>"+v,g=!1),v=y,m[f]=v}var b=document.createElement("div");b.classList.add("sentences"),b.classList.add("sentences-preview"),b.id=p?"disp"+p.replaceAll("-",""):"sentenceElement",(e.topCoordinate||e.leftCoordinate)&&b.classList.add("have-custom-coordinates"),e.preset&&(b.classList.add("position-preset"),b.classList.add(e.preset)),b.style.top=e.topCoordinate;var j="";if("left"===e.textAlign?j="text-align-left":"center"===e.textAlign?j="text-align-center":"right"===e.textAlign&&(j="text-align-right"),""===j||a||b.classList.add(j),e.decoration&&e.decoration.length>0&&null!=(null==e||null===(h=e.decoration)||void 0===h?void 0:h[0])&&b.classList.add(e.decoration),e.case&&b.classList.add(e.case),b.style.left=e.leftCoordinate,b.style.width=e.paragraphWidth,a){if(b.classList.add("outro-scene"),b.style.top="0",b.style.width="100%",b.style["align-items"]="center",b.style.height="100%",b.style.display="flex",b.style["flex-direction"]="column",b.style["justify-content"]="center","logo"===o||"logotext"===o){var w=document.createElement("img");w.classList.add("mr-auto"),w.src=c,w.style.marginBottom="20px";var Z=document.createElement("div");Z.classList.add("logo_box1"),Z.appendChild(w),b.appendChild(Z)}"logotext"!==o&&"text"!==o||(l=!1)}else b.style.display="block",i&&(b.style.padding=16+.1*d+"px",b.style.width="100%",e.preset&&("bottom-center"!=e.preset&&"bottom-left"!=e.preset&&"bottom-right"!=e.preset||(b.classList.remove(e.preset),b.classList.add("full-width-bottom")),b.classList.add("full-width-style")));if(b=u.appendChild(b),(!a||a&&"text"===o||"logotext"===o)&&!l){var k,C=(0,r.Z)(m);try{for(C.s();!(k=C.n()).done;){var I=k.value,T=document.createElement("p");T.style.fontSize="".concat(re.Z.convertPttoPx(d),"px"),T.style.marginBottom="0px";var E=e.FontNameForFront&&e.FontNameForFront.split(";");if(E&&E.length>=1)if(T.style.fontFamily=E[0].trim(),E[1]&&E[1].trim().startsWith("font-weight")){var A=E[1].trim().split(":")[1].trim();T.style.fontWeight=A}else T.style.fontWeight="normal";T=b.appendChild(T);var _=document.createElement("span");_.classList.add("content-line"),_.innerHTML=I,T.appendChild(_)}}catch(e){C.e(e)}finally{C.f()}}return l}},{key:"getVoiceOverTrackURL",value:(A=(0,c.Z)((0,i.Z)().mark((function e(t,r,s,a,c){var l,u,d,p,h,m,g,f,v,x,S,y,b,j,k,C,I,T,E,A,_,R,P,N,D,U,L,F,V,B,M,G,W,z,J,H,K,Y,Q,X,$,ee,te,ne,re,se,ae,ie,oe,ce,le,ue,de,pe,he,me,ge,fe,ve,xe,Se,je,Ze,ke,Ce,Ie,Te,Ee,Ae,_e,Re,Pe,Ne,Oe,De,Ue,Le,Fe,Ve,Be,Me,Ge,We,ze,Je,He,Ke,qe,Ye=this,Qe=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=Qe.length>5&&void 0!==Qe[5]?Qe[5]:{},m=Qe.length>6?Qe[6]:void 0,g=Qe.length>7?Qe[7]:void 0,f=Qe.length>8&&void 0!==Qe[8]?Qe[8]:null,v=Qe.length>9&&void 0!==Qe[9]&&Qe[9],x=Qe.length>10?Qe[10]:void 0,S=be.Z.getItem("voiceOverTrackId"),y=(0,ye.we)(this.state.username),b=(null==y||null===(l=y.data)||void 0===l||null===(u=l.plan)||void 0===u||null===(d=u.features)||void 0===d||null===(p=d.video)||void 0===p?void 0:p.totalTextToSpeechDurationPerMonth)||0,x||!ye.Tf.includes(+S)){e.next=12;break}return this.setState({showVoPopup:!0,durationUpdatedScenes:{loading:!1,sceneIds:(null===(j=this.state.durationUpdatedScenes)||void 0===j?void 0:j.sceneIds)||[],sceneIndices:(null===(k=this.state)||void 0===k||null===(C=k.durationUpdatedScenes)||void 0===C?void 0:C.sceneIndices)||[],isSceneDeleted:null===(I=this.state.durationUpdatedScenes)||void 0===I?void 0:I.isSceneDeleted,updatedSceneDuration:(null===(T=this.state)||void 0===T||null===(E=T.durationUpdatedScenes)||void 0===E?void 0:E.updatedSceneDuration)||[]},applyingAudio:null,isAnyChange:!0,voiceoverprogressStatus:0}),e.abrupt("return");case 12:if(A={success:!1,error:!1},_=n(31881),R=_.CancelToken.source(),P=a||h.voiceOverAutoSync?null:this.getGeneratedVOFromProject(t),this.setState({abortController:R,cancelingVO:null,cancelRequestSent:!1,voiceoverprogressStatus:0}),!f){e.next=30;break}if(!(N="tracklist"===f?v:"Eleven Labs"===be.Z.getItem("voiceOverTrackCategory"))||P){e.next=30;break}if(b){e.next=25;break}return this.setState({noAddonPopup:!0,applyingAudio:!1,durationUpdatedScenes:{loading:!1,sceneIds:(null===(D=this.state)||void 0===D||null===(U=D.durationUpdatedScenes)||void 0===U?void 0:U.sceneIds)||[],sceneIndices:(null===(L=this.state)||void 0===L||null===(F=L.durationUpdatedScenes)||void 0===F?void 0:F.sceneIndices)||[],isSceneDeleted:null===(V=this.state.durationUpdatedScenes)||void 0===V?void 0:V.isSceneDeleted,updatedSceneDuration:(null===(B=this.state)||void 0===B||null===(M=B.durationUpdatedScenes)||void 0===M?void 0:M.updatedSceneDuration)||[]}}),e.abrupt("return");case 25:if(!(this.state.updatedDuration>=(this.state.textToSpeechDurationValue||0))){e.next=30;break}return this.setState({showQuotaExceeded:!0,applyingAudio:!1,durationUpdatedScenes:{loading:!1,sceneIds:(null===(G=this.state)||void 0===G||null===(W=G.durationUpdatedScenes)||void 0===W?void 0:W.sceneIds)||[],sceneIndices:(null===(z=this.state)||void 0===z||null===(J=z.durationUpdatedScenes)||void 0===J?void 0:J.sceneIndices)||[],isSceneDeleted:null===(H=this.state.durationUpdatedScenes)||void 0===H?void 0:H.isSceneDeleted,updatedSceneDuration:(null===(K=this.state)||void 0===K||null===(Y=K.durationUpdatedScenes)||void 0===Y?void 0:Y.updatedSceneDuration)||[]}}),e.abrupt("return");case 30:return e.next=32,this.prepareVoiceOverTrackData(t,r,s,a,c,!0,h,f);case 32:if(Q=e.sent,X=Q.fetchVoiceOver,$=Q.VoiceOverTrackCreationJson,ee=Q.isOutroPlayed,te=Q.timeChangedPostAIVO,0==$.sentences.length&&(X=!1),void 0!==this.state.videoVolume&&null!==this.state.videoVolume&&(ne=50,$.amplify_level=(this.state.videoVolume-ne)/100*2),re=null,!0!==X){e.next=101;break}if(g&&(this.voiceOverProgress=this.videoGenProgress||0,this.cancelIntervalTimerVideoGen(),this.timerId=setInterval((function(){Ye.voiceOverProgress<80?(Ye.props.createElementsProgress(0===Ye.voiceOverProgress?1:Ye.voiceOverProgress,"Preprocessing audio..."),Ye.voiceOverProgress++):Ye.cancelIntervalTimers()}),1e3)),P){e.next=49;break}return"tracklist"!==f&&"duration"!==f||this.setState({showAlertNotification:N?"Generating hyper-realism for your project! We'll notify you when your premium voice is applied.":"Generating the voice over. We'll notify you when it is applied.",alertSeverity:"info"}),t||($.voice=1005),e.next=47,this.props.getVoiceOverTrackForPreview({abortController:R,VoiceOverTrackCreationJson:$,options:h});case 47:this.props.voiceOverDataResponseID&&this.getVoiceOverQuota(!0),P=this.props.voiceOverData;case 49:if(!P||!P.error_code){e.next=55;break}if("QUOTA_EXCEEDED"===P.error_code)this.setState({showQuotaExceeded:!0,applyingAudio:null,voiceoverprogressStatus:0,durationUpdatedScenes:{loading:!1,sceneIds:(null===(se=this.state)||void 0===se||null===(ae=se.durationUpdatedScenes)||void 0===ae?void 0:ae.sceneId)||[],sceneIndices:(null===(ie=this.state)||void 0===ie||null===(oe=ie.durationUpdatedScenes)||void 0===oe?void 0:oe.sceneIndices)||[],isSceneDeleted:null===(ce=this.state.durationUpdatedScenes)||void 0===ce?void 0:ce.isSceneDeleted,updatedSceneDuration:(null===(le=this.state)||void 0===le||null===(ue=le.durationUpdatedScenes)||void 0===ue?void 0:ue.updatedSceneDuration)||[]}});else if("VOICE_OVER_GENERATION_CANCELLED"===P.error_code)this.setState({durationUpdatedScenes:{loading:!1,sceneIds:(null===(de=this.state.durationUpdatedScenes)||void 0===de?void 0:de.sceneIds)||[],sceneIndices:(null===(pe=this.state)||void 0===pe||null===(he=pe.durationUpdatedScenes)||void 0===he?void 0:he.sceneIndices)||[],isSceneDeleted:null===(me=this.state.durationUpdatedScenes)||void 0===me?void 0:me.isSceneDeleted,updatedSceneDuration:(null===(ge=this.state)||void 0===ge||null===(fe=ge.durationUpdatedScenes)||void 0===fe?void 0:fe.updatedSceneDuration)||[]},applyingAudio:null,voiceoverprogressStatus:0}),this.getVoiceOverQuota(!0),this.cancelingAudioStatus(!1),this.setState({showAlertNotification:"Voice over application cancelled",alertSeverity:"error"});else{this.setState({videoGenerationError:P,showVideoGenerationError:!0,videoGenerationErrorTitle:"Voice over failed to generate"});try{w().getInstance().logEvent("voice-generation-failure",{name:x,"voice-type":N?"Elevenlabs":"Standard"})}catch(e){w().getInstance().logEvent("voice-generation-failure",{"event-name":"voice-selected"})}}A.success=!1,A.error=!0,e.next=99;break;case 55:if(null!=m&&null!=this.state.showPreviewProgress&&m!==this.state.showPreviewProgress){e.next=99;break}if(void 0===P||!P||O().isEmpty(P)||P.isCanceled||"object"!=typeof P){e.next=91;break}if(xe=(ve=P).URL,Se=ve.total_length,je=ve.time_markers,re={Url:xe,totalLength:Se,isAnyChange:!0,timePerSceneForVoiceOver:[],originalTimePerFrameForEachScene:[]},!h||!h.voiceOverAutoSync){e.next=67;break}if(w().getInstance().logEvent("voiceover-autosync-response",{"audio-length-ms":Se,"time-markers-ms":je}),(null==je?void 0:je.length)>0)if(je.map((function(e,t){var n=e;0===t?re.timePerSceneForVoiceOver.push(parseInt(n)):re.timePerSceneForVoiceOver.push(parseInt(n-je[t-1])),re.originalTimePerFrameForEachScene.push(n)})),A.error=!1,A.success=!0,this.state.cancelRequestSent)this.props.showErrorNotification("Voiceover cancellation failed");else{if(Ze="tracklist"===f||"duration"===f?"Voiceover applied":"",(null===(ke=this.state.durationUpdatedScenes)||void 0===ke||null===(Ce=ke.sceneIds)||void 0===Ce?void 0:Ce.length)>0||null!==(Ie=this.state)&&void 0!==Ie&&null!==(Te=Ie.durationUpdatedScenes)&&void 0!==Te&&Te.isSceneDeleted){Ze="tracklist"===f||"duration"===f?"Voiceover changes applied":"";try{"tracklist"===f?Ee="Voice over tab":"preview"===f?Ee="Preview":"duration"===f&&(Ee="Duration"),w().getInstance().logEvent("voice-changes-applied",{"changes applied from":Ee,"quota left":this.state.textToSpeechDurationValue})}catch(e){w().getInstance().logEvent("log-failed",{"event-name":"voice-changes-applied"})}}this.setState({showAlertNotification:Ze,alertSeverity:"success",cancelRequestSent:!1})}else A.error=!0,A.success=!1;e.next=89;break;case 67:je.map((function(e,t){var n=e;0===t?re.timePerSceneForVoiceOver.push(parseInt(n)):re.timePerSceneForVoiceOver.push(parseInt(n-je[t-1])),re.originalTimePerFrameForEachScene.push(n)})),Ae=(0,o.Z)(this.state.timePerFrame),_e=0,a&&(_e=this.state.subSentencesArray.findIndex((function(e){return e.sceneId===a}))),Re=0;case 72:if(!(Re<re.timePerSceneForVoiceOver.length)){e.next=81;break}if((Pe=this.state.subSentencesArray[Re])||console.log(Re),null==Pe||!Pe.transcription){e.next=77;break}return e.abrupt("continue",78);case 77:void 0!==Ae[Re+_e]?Ae[Re+_e]=Math.round(re.timePerSceneForVoiceOver[Re]/10)/100:Ae.push(re.timePerSceneForVoiceOver[Re]/1e3);case 78:Re++,e.next=72;break;case 81:if(!1!==te||a||this.setState({timeChangedPostAIVO:!1}),Ae.length>this.state.subSentencesArray.length&&(Ae=Ae.slice(0,this.state.subSentencesArray.length)),this.setState({timePerFrame:Ae}),this.state.brandSetting.outroStyle&&this.state.brandSetting.outroStyle.showStyle&&!ee&&"Outro Scene"===this.state.subSentencesArray[this.state.subSentencesArray.length-1].showSceneNumber&&(Ne=this.state.timePerFrame[this.state.subSentencesArray.length-1],Oe=Ne>0&&Math.abs(Ne-this.state.defaultOutroTimeInSec)>.1?1e3*Ne:this.state.defaultOutroTimeInMiniSec,re.timePerSceneForVoiceOver.push(Oe)),a||this.updateVOInProject(P,t),A.success=!0,this.state.cancelRequestSent)this.props.showErrorNotification("Voiceover cancellation failed");else if(De="tracklist"===f||"duration"===f?"Voiceover applied":"",(null===(Ue=this.state.durationUpdatedScenes)||void 0===Ue||null===(Le=Ue.sceneIds)||void 0===Le?void 0:Le.length)>0||null!==(Fe=this.state)&&void 0!==Fe&&null!==(Ve=Fe.durationUpdatedScenes)&&void 0!==Ve&&Ve.isSceneDeleted){De="tracklist"===f||"duration"===f?"Voiceover changes applied":"";try{"tracklist"===f?Be="Voice over tab":"preview"===f?Be="Preview":"duration"===f&&(Be="Duration"),w().getInstance().logEvent("voice-changes-applied",{"changes applied from":Be,"quota left":this.state.textToSpeechDurationValue})}catch(e){w().getInstance().logEvent("log-failed",{"event-name":"voice-changes-applied"})}}this.setState({showAlertNotification:De,alertSeverity:"success",cancelRequestSent:!1});case 89:e.next=99;break;case 91:if(P&&P.isCanceled){e.next=96;break}return e.next=94,(0,we.d)();case 94:Ke=this.state.username+"/project/"+this.state.project_id+"/tts-failed-backup.json",Z.Ke.put(Ke,JSON.stringify($),{level:"public",ACL:"public-read"}).then((function(e){w().getInstance().setUserId(Ye.state.user.attributes.email),w().getInstance().setUserProperties({Username:Ye.state.user.attributes.email}),w().getInstance().logEvent("tts-failed-backup",{"backup-json":q.Z.Instance.GetUserUploadUrl(Ke,"public")})}));case 96:this.setState({displayVideoProgressBar:!1,generateError:!P||!P.isCanceled,voiceOverError:!0,displayGenerateVideo:!1,showSave:!0,copy:!1,durationUpdatedScenes:{loading:!1,sceneIds:null===(Me=this.state.durationUpdatedScenes)||void 0===Me?void 0:Me.sceneIds,sceneIndices:(null===(Ge=his.state)||void 0===Ge||null===(We=Ge.durationUpdatedScenes)||void 0===We?void 0:We.sceneIndices)||[],isSceneDeleted:null===(ze=this.state.durationUpdatedScenes)||void 0===ze?void 0:ze.isSceneDeleted,updatedSceneDuration:(null===(Je=this.state)||void 0===Je||null===(He=Je.durationUpdatedScenes)||void 0===He?void 0:He.updatedSceneDuration)||[]}}),A.success=!1,A.error=!0;case 99:e.next=104;break;case 101:re=null,A.success=!1,A.error=!1;case 104:return a?this.state.voiceOverURLForScene=re:this.state.voiceOverURL=re,A.success&&this.setState({durationUpdatedScenes:{loading:!1,sceneIds:[],sceneIndices:[],isSceneDeleted:!1,updatedSceneDuration:(null===(qe=this.state.durationUpdatedScenes)||void 0===qe?void 0:qe.updatedSceneDuration)||[]},isAnyChange:!0,updatedDuration:0}),e.abrupt("return",A);case 107:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,s){return A.apply(this,arguments)})},{key:"getAspectRatioCss",value:function(){var e=.88*window.innerHeight-300;e<200&&(e=200);var t=.275625*window.innerWidth;e>t&&(e=t);var n=window.innerHeight-200,r=parseInt(this.state.VideoRes);r>0&&n>r&&(n=r);var s,a,i=n*this.state.aspectRatioFractionValue;i>window.innerWidth&&(n=(i=window.innerWidth-40)/this.state.aspectRatioFractionValue),(s=e*this.state.aspectRatioFractionValue)>.49*window.innerWidth&&(e=(s=.49*window.innerWidth)/this.state.aspectRatioFractionValue),a=this.state.aspectRatioClass;var o=s>e*Ye.Wi?s:e*Ye.Wi;return{frameSize:{height:e,width:s},dynamicCss:".step-3 .btm-headbox, .step-3 figure.animation-container.".concat(a,", .step-3 figure.animation-container.").concat(this.state.aspectRatioClass,", .step-3 .showcase #AllSceneSection .").concat(this.state.aspectRatioClass,", #main-div-step-3 div#previewDiv .modal-content .").concat(this.state.aspectRatioClass," { padding-top: 0; margin-left: auto; margin-right: auto;}\n\t\t.step-3 .btm-headbox.fit-visual, .step-3 figure.animation-container.").concat(this.state.aspectRatioClass," { height: ").concat(e,"px; width: ").concat(e*this.state.aspectRatioFractionValue,"px;}\n\t\t.step-3 .block-footer {width: ").concat(o,"px;}\n\t\t.step-3 .showcase #AllSceneSection .animation-container.").concat(this.state.aspectRatioClass," { height: 100%; aspect-ratio: ").concat(this.state.aspectRatioFractionValue,";}\n\t\t#main-div-step-3 div#previewDiv .modal-content .animation-container.").concat(this.state.aspectRatioClass," { height: ").concat(n,"px; width: ").concat(i,"px;}\n\t\t.wrap-ovcontent-noframe { height: 100%; }\n\t\t.wrap-ovcontent-noframe .animation-container.").concat(this.state.aspectRatioClass," { height: 100%; width: 100%;}")}}},{key:"applyBrandingColor",value:function(e){var t=this,n=(0,o.Z)(this.state.subSentencesArray),r=(0,o.Z)(this.state.summaryJsonText),s=n.length-1,a=(0,ye.nt)(e.textBackgroundColor),l=e.textBackgroundColor,u="dark"==a?"rgba(255,255,255,1)":"rgba(0,0,0,1)",d=(0,ye.rN)(l,1);e.fontColor&&(u=e.fontColor),e.keywordColor&&(d=e.keywordColor);for(var p=0;p<=s;p++){var h=n[p];h.fontColor=u,h.textBackgroundColor=l,h.keywordColor=d,n[p]=h}for(var m=0;m<=s;m++){for(var g=r[m],f=g.format,v=0;v<f.length;v++){var x=f[v];x.fontColor=u,x.textBackgroundColor=l,x.keywordColor=d,f[v]=x}g.format=f,r[m]=g}this.setState({subSentencesArray:n,summaryJsonText:r,isAnyChange:!0},(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.saveProjectDetail_debounce();case 2:case"end":return e.stop()}}),e)}))))}},{key:"applyBrand",value:(j=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,O,D,U,L,F,V,B,M,G,W,z,J,H,q,Y,Q,X,$,ee,te,ne,re,se,ae,ie,oe,ce,le,ue,de,pe,he,me,ge,fe,ve,xe,Se,be,we,Ze,ke,Ce,Ie,Te,Ee,Ae,_e,Re,Pe,Ne,Oe,De,Ue,Le,Fe,Ve=this,Be=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(Be.length>1&&void 0!==Be[1]&&Be[1],G=Be.length>2&&void 0!==Be[2]&&Be[2],W=Be.length>3?Be[3]:void 0,!(z=null===(n=this.props)||void 0===n?void 0:n.userBrands.find((function(e){return e.id==t})))&&W&&(z=W),J=(null===(r=z)||void 0===r||null===(s=r.colorList)||void 0===s?void 0:s.length)>0?(0,ye.l)(null===(a=z)||void 0===a?void 0:a.colorList[0].textBackgroundColor):(0,ye.l)("rgba(0,0,0,0)"),H=(0,ye.fP)({rgb:{r:null==J?void 0:J.r,g:null==J?void 0:J.g,b:null==J?void 0:J.b,a:0}}),J.textBackgroundColor=H,q=null===(l=z)||void 0===l||null===(u=l.logoList)||void 0===u?void 0:u.find((function(e){return 1==e.isDefault})),Y=(null===(d=z)||void 0===d||null===(p=d.colorList)||void 0===p?void 0:p.find((function(e){return e.isDefault})))||J,Q=(null==Y?void 0:Y.textBackgroundColor)||H,X=null==Y?void 0:Y.fontColor,$=null==Y?void 0:Y.keywordColor,ee=null===(h=z)||void 0===h||null===(m=h.fontList)||void 0===m||null===(g=m[0])||void 0===g?void 0:g.fontName,te=null===(f=z)||void 0===f||null===(v=f.fontSizeList)||void 0===v||null===(x=v[0])||void 0===x?void 0:x.fontSize,ne=null===(S=z)||void 0===S||null===(y=S.textFormatData)||void 0===y?void 0:y.decoration,re=null===(b=z)||void 0===b||null===(j=b.textFormatData)||void 0===j?void 0:j.case,se=(null===(w=z)||void 0===w||null===(Z=w.textFormatData)||void 0===Z?void 0:Z.textAlign)||"center",ae=(null===(k=z)||void 0===k||null===(C=k.textFormatData)||void 0===C?void 0:C.preset)||"bottom-center",ie=null===(I=z)||void 0===I||null===(T=I.textFormatData)||void 0===T?void 0:T.paragraphWidth,oe=null===(E=z)||void 0===E||null===(A=E.textFormatData)||void 0===A?void 0:A.fullWidth,ce=null===(_=z)||void 0===_||null===(R=_.textFormatData)||void 0===R?void 0:R.leftCoordinate,le=null===(P=z)||void 0===P||null===(N=P.visualList)||void 0===N?void 0:N.find((function(e){return e.isDefaultForIntro})),ue=null===(O=z)||void 0===O||null===(D=O.visualList)||void 0===D?void 0:D.find((function(e){return e.isDefaultForOutro})),de=null===(U=z)||void 0===U||null===(L=U.bgMusicList)||void 0===L?void 0:L.find((function(e){return 1==e.isDefault})),null===(F=z)||void 0===F||null===(V=F.AIVoiceoverList)||void 0===V||null===(B=V.filter((function(e){return!(null!==ye.Tf&&void 0!==ye.Tf&&ye.Tf.includes(null==e?void 0:e.trackId))})))||void 0===B||B.find((function(e){return 1==e.isDefault})),pe=(0,o.Z)(this.state.subSentencesArray),he=(0,o.Z)(this.state.summaryJsonText),me=0,ge=pe.length-1,Y&&Q&&(fe=(0,ye.nt)(Q),X||(X="dark"==fe?"rgba(255,255,255,1)":"rgba(0,0,0,1)"),$||($=(0,ye.rN)(Q))),z||(Q="rgba(0,0,0,0.77)",X="rgb(255,255,255)",$="rgb(245,240,162)",ee="Lato",te=je.n5),ve={},q&&(ve=this.createBrandLogoDisplayElement(q)),xe=me;xe<=ge;xe++){if(Se=pe[xe],!Y&&z||(Se.fontColor=X,Se.textBackgroundColor=Q,Se.keywordColor=$,Se.decoration=ne,Se.case=re,Se.textAlign=se,Se.paragraphWidth=ie,Se.fullWidth=oe,Se.preset=ae,Se.leftCoordinate=ce),ee&&(Se.fontName=ee,Se.FontNameForFront=K.getFrontFontName(ee)),te&&(Se.fontSize=parseInt(te)),q)for(Se.displayItems&&0!==Se.displayItems.length?Se.displayItems.find((function(e){return e.isLogo}))||(we=ve,Se.displayItems.push(we)):(Se.displayItems=[],be=ve,Se.displayItems.push(be)),Ze=0;Ze<(null===(ke=Se.displayItems)||void 0===ke?void 0:ke.length);Ze++)(Ce=Se.displayItems[Ze]).isLogo&&(Ce.visualData=q);else Se.displayItems=null===(Ie=Se.displayItems)||void 0===Ie?void 0:Ie.filter((function(e){return!e.isLogo}));delete Se.styleIdObj,pe[xe]=Se}for(Te=0;Te<he.length;Te++){for(Ee=he[Te],Ae=Ee.format,_e=0;_e<Ae.length;_e++){if(Re=Ae[_e],!Y&&z||(Re.fontColor=X,Re.textBackgroundColor=Q,Re.keywordColor=$,Re.decoration=ne,Re.case=re,Re.textAlign=se,Re.paragraphWidth=ie,Re.fullWidth=oe,Re.preset=ae,Re.leftCoordinate=ce),ee&&(Re.fontName=ee,Re.FontNameForFront=K.getFrontFontName(ee)),te&&(Re.fontSize=parseInt(te)),q)for(Re.displayItems&&0!==Re.displayItems.length?Re.displayItems.find((function(e){return e.isLogo}))||(Ne=ve,Re.displayItems.push(Ne)):(Re.displayItems=[],Pe=ve,Re.displayItems.push(Pe)),Oe=0;Oe<(null===(De=Re.displayItems)||void 0===De?void 0:De.length);Oe++)(Ue=Re.displayItems[Oe]).isLogo&&(Ue.visualData=q);else Re.displayItems=null===(Le=Re.displayItems)||void 0===Le?void 0:Le.filter((function(e){return!e.isLogo}));delete Re.styleIdObj,Ae[_e]=Re}Ee.format=Ae,he[Te]=Ee}if(Fe=(0,ye.N$)(null===(M=this.state)||void 0===M?void 0:M.username)[je.R2.customMusicTrack],!de||!(Fe&&"music"==de.source||"music"!=de.source)){e.next=40;break}return e.next=40,this.makeTrackActive(de.audio_id,de.url,de.source,de.fileName||de.title,null,!0);case 40:this.setState({subSentencesArray:pe,summaryJsonText:he,isAnyChange:!0,brandId:t,brand:z},(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,s,a,o,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,_,R,P,N,O;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=20;break}if(!le){e.next=8;break}return e.next=4,Ve.insertSceneBefore(1,1,1,!1,"visual",!1,1,q,!0,!1);case 4:return le.large=le.large||le.url,le.thumb=le.thumb||le.url,e.next=8,Ve.hideShowOverlay(1,le.url,!0,le,"isUploadImage",!0);case 8:if(!ue){e.next=18;break}return g=null===(t=Ve.state)||void 0===t||null===(n=t.subSentencesArray)||void 0===n?void 0:n.length,f=null===(r=Ve.state)||void 0===r||null===(s=r.subSentencesArray)||void 0===s||null===(a=s[(null===(o=Ve.state)||void 0===o||null===(c=o.subSentencesArray)||void 0===c?void 0:c.length)-1])||void 0===a?void 0:a.sceneId,v=null===(l=Ve.state)||void 0===l||null===(u=l.subSentencesArray)||void 0===u||null===(d=u[(null===(h=Ve.state)||void 0===h||null===(m=h.subSentencesArray)||void 0===m?void 0:m.length)-1])||void 0===d||null===(p=d.AllSubSentences)||void 0===p?void 0:p.length,e.next=14,Ve.InsertNewScene(g,f,v,!1,"visual",!1,q,!1,!0);case 14:return ue.large=ue.large||ue.url,ue.thumb=ue.thumb||ue.url,e.next=18,Ve.hideShowOverlay(f+1,ue.url,!0,ue,"isUploadImage",!0);case 18:case 51:e.next=63;break;case 20:if(!(x=pe.find((function(e){return e.isBrandIntro})))){e.next=33;break}if(!le){e.next=29;break}return le.large=le.large||le.url,le.thumb=le.thumb||le.url,e.next=27,Ve.hideShowOverlay(x.sceneId,le.url,!0,le,"isUploadImage",!0);case 27:e.next=31;break;case 29:return e.next=31,Ve.changeBgColor("rgba(255,255,255,1)",x.sceneId);case 31:e.next=40;break;case 33:if(!le){e.next=40;break}return e.next=36,Ve.insertSceneBefore(1,1,1,!1,"visual",!1,1,q,!0,!1);case 36:return le.large=le.large||le.url,le.thumb=le.thumb||le.url,e.next=40,Ve.hideShowOverlay(1,le.url,!0,le,"isUploadImage",!0);case 40:if(!(S=pe.find((function(e){return e.isBrandOutro})))){e.next=53;break}if(!ue){e.next=49;break}return ue.large=ue.large||ue.url,ue.thumb=ue.thumb||ue.url,e.next=47,Ve.hideShowOverlay(S.sceneId,ue.url,!0,ue,"isUploadImage",!0);case 47:e.next=51;break;case 49:return e.next=51,Ve.changeBgColor("rgba(255,255,255,1)",S.sceneId);case 53:if(!ue){e.next=63;break}return P=null===(y=Ve.state)||void 0===y||null===(b=y.subSentencesArray)||void 0===b?void 0:b.length,N=null===(j=Ve.state)||void 0===j||null===(w=j.subSentencesArray)||void 0===w||null===(Z=w[(null===(k=Ve.state)||void 0===k||null===(C=k.subSentencesArray)||void 0===C?void 0:C.length)-1])||void 0===Z?void 0:Z.sceneId,O=null===(I=Ve.state)||void 0===I||null===(T=I.subSentencesArray)||void 0===T||null===(E=T[(null===(_=Ve.state)||void 0===_||null===(R=_.subSentencesArray)||void 0===R?void 0:R.length)-1])||void 0===E||null===(A=E.AllSubSentences)||void 0===A?void 0:A.length,e.next=59,Ve.InsertNewScene(P,N,O,!1,"visual",!1,q,!1,!0);case 59:return ue.large=ue.large||ue.url,ue.thumb=ue.thumb||ue.url,e.next=63,Ve.hideShowOverlay(N+1,ue.url,!0,ue,"isUploadImage",!0);case 63:return e.next=65,Ve.saveProjectDetail_debounce();case 65:case"end":return e.stop()}}),e)}))));case 41:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"createBrandLogoDisplayElement",value:function(e){var t,n={paragraphWidth:"10%",preset:"top-right"};e.paragraphWidth&&(n.paragraphWidth=e.paragraphWidth),e.opacity&&(n.opacity=e.opacity),e.preset?n.preset=e.preset:(e.topCoordinate&&(n.topCoordinate=e.topCoordinate,n.preset=null),e.leftCoordinate&&(n.leftCoordinate=e.leftCoordinate,n.preset=null));var r={fileName:e.fileName,url:e.url};if((t={type:"visual",id:(0,Y.Z)(),visualData:r,itemStyleData:n}).isLogo=!0,!e.paragraphWidth&&e.heightPx>e.widthPx){var s=.1*re.Z.defaultHeight,a=(e.widthPx,e.heightPx,100*s/re.Z.defaultWidth);t.itemStyleData.paragraphWidth=a+"%"}return t}},{key:"makeActiveVoiceTrack",value:(t=(0,c.Z)((0,i.Z)().mark((function e(t,n,r,s,a,c){var l,u,d,p,h,m,g,f=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=f.length>6&&void 0!==f[6]?f[6]:"en",t==be.Z.getItem("voiceOverTrackId")){e.next=19;break}for(be.Z.setItem("voiceOverTrackType",r),be.Z.setItem("voiceOverTrackActive",n),be.Z.setItem("voiceOverTrackId",t),be.Z.setItem("voiceOverTrackName",s+", "+a),be.Z.setItem("voiceOverTrackCategory",c),this.reloadScene(),u=(0,o.Z)(this.state.recentTracks),d=0;d<u.length;d++)u[d].type===r&&(u[d].active=!1,u[d].type);return p={},h=u.findIndex((function(e){return e.trackId===t&&e.type===r})),h<0?(p={id:(0,ye.DO)(),trackId:t,name:s+", "+a,type:"voiceover",url:n,category:"recent",library:c,cognito_id:this.state.username,date:new Date},u.splice(0,0,p)):(m=u[h].id,u.splice(h,1),this.deleteAudioFavAndRecents({username:this.state.username,id:m}),w().getInstance().logEvent("voice-deselected",{name:s,country:c,"project-id":this.state.project_id}),p={id:(0,ye.DO)(),date:new Date,trackId:t,name:s+", "+a,type:"voiceover",url:n,library:c,category:"recent",cognito_id:this.state.username},u.splice(0,0,p)),this.setState({recentTracks:u}),g={body:p},e.next=17,this.props.saveAudioFavAndRecents(g);case 17:"success"===this.props.saveAudioStatus&&(this.UpdateIsActiveVoiceOver(t,!0),this.UpdateRecent(),this.UpdateFavourite(),this.UpdateVoiceOver(),this.getVoiceOverQuota(!0),w().getInstance().logEvent("voice-selected",{name:s,country:c,"project-id":this.state.project_id,language:l}));case 19:case"end":return e.stop()}}),e,this)}))),function(e,n,r,s,a,i){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n,r,o,l,u,d,p,h,f,j,Z,k,E,A,_,R,P,N,O,D,U,L,F,B,W,J,H,K,Y=this;""!==this.state.logoImage&&""!==this.state.logoLocation&&("1"===this.state.logoLocation||"2"===this.state.logoLocation)&&this.state.logoImage;var Q=this.state.subSentencesArray[this.state.currentActiveDiv-1],X=(0,ye.we)(null===(e=this.state)||void 0===e?void 0:e.username),$=this.getAspectRatioCss(),ee=$.dynamicCss,te=$.frameSize,ne=(0,ye.we)(this.state.username?this.state.username:""),re=(null==ne||null===(t=ne.plan)||void 0===t?void 0:t.plan_code)||"",se=(null==ne||null===(n=ne.plan)||void 0===n||n.name,!!this.state.username&&(0,ye.Sc)(this.state.username)),ae=!this.state.username||(0,ye.c2)(this.state.username),ie=(0,ye.hk)(re)===ye.nX.starter||(0,ye.hk)(re)===ye.nX.appSumo;return(0,ue.jsxs)("div",{children:[(0,ye.Lv)(this.state.username)&&this.videoPreviewComponentNew(!1),(0,ue.jsx)(Qt.Z,{title:this.state.videoGenerationErrorTitle,history:this.props.history,show:this.state.showVideoGenerationError,error:this.state.videoGenerationError,onClose:function(){Y.setState({videoGenerationErrorTitle:null,showVideoGenerationError:!1,videoGenerationError:null})}}),(0,ue.jsx)(I.a,{open:this.state.videoStockVisualsNotSupport,title:"Oops! Something went wrong.",onClose:function(){return Y.setState({videoStockVisualsNotSupport:!1,notSupportedScenes:[]})},children:(0,ue.jsxs)(x.Z,{direction:"row",spacing:2,children:[(0,ue.jsx)("div",{children:(0,ue.jsxs)("span",{title:"Scene number ".concat(this.state.notSupportedScenes&&this.state.notSupportedScenes.join(", ")),className:"fa-stack fa-4x",children:[(0,ue.jsx)("i",{className:"fa fa-comment fa-flip-horizontal red fa-stack-4x font-size-4x"}),(0,ue.jsx)("i",{className:"fa fa-exclamation fa-stack-1x font-size-2x"})]})}),(0,ue.jsxs)("div",{children:["Shutterstock visuals are no longer available.",(0,ue.jsx)("br",{})," Please replace them and try again."]})]})}),(0,ue.jsx)(I.a,{open:this.state.videoTimeLimitExceeded,title:"Video duration limit",onClose:function(){return Y.setState({videoTimeLimitExceeded:!1})},children:"Video duration limit exceeded. Maximum allowed limit is ".concat(parseInt((this.getTextToVideoDurationFeatureValue()-120)/60)," minutes.")}),this.state.showVoPopup&&(0,ue.jsx)(T.default,{icon:(0,ue.jsx)(Rr.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",open:this.state.showVoPopup,title:"Voice no longer available",showCloseIcon:!0,message:"As of ElevenLabs' most recent update, we no longer support the voice previously applied to this project. Please select another voice.",primaryButtonLabel:"Change",primaryButtonOnClick:function(){Y.openTab(ca),Y.setState({showVoPopup:!1})},secondaryButtonLabel:"Remove voiceover",secondaryButtonOnClick:function(){Y.removeVoiceOverTrackFromStorage(),Y.setState({showVoPopup:!1})},onClose:function(){Y.setState({showVoPopup:!1})}}),this.showQuotaExceededDialog(),this.showNoAddonDialog(),this.showBrandSwitchConfirmationDialog(),(0,ue.jsx)(I.a,{open:this.state.showEntireVideoRemoveConfirmation,title:"Audio applied to entire video",closeIcon:!1,onClose:function(){return Y.setState({showEntireVideoRemoveConfirmation:!1})},children:"The project has audio applied to entire video. Remove the audio from the entire video if you wish to apply audio to only one scene"}),(0,ue.jsx)("div",{style:{display:this.state.showInitialLoadingBar?"block":"none"},children:(0,ue.jsx)(Sn.Z,(0,a.Z)((0,a.Z)({},this.props.assetsSearchProgress),{},{isVisualsToVideo:"visuals"==this.state.source,history:this.props.history,subTitle:this.state.findingVisualsMessage,showInitialLoadingBar:this.state.showInitialLoadingBar}))}),(0,ue.jsxs)("div",{id:"main-div-step-3",className:"full-height working-div",style:{display:this.state.showInitialLoadingBar?"none":"flex"},children:[(0,ue.jsx)(cn.Z,{openNotificationPanel:this.state.openNotificationPanel,history:this.props.history,gotoHome:this.gotoHome,gotoMyVideo:this.gotoMyVideo,gotoLogout:this.gotoLogout,isStoryBoard:!0,projectId:this.state.project_id}),(0,ue.jsx)("style",{children:ee}),(0,ue.jsx)("div",{className:"VideoProgressBar",id:"VideoProgressBar",style:{display:this.state.displayVideoProgressBar?"block":"none"},children:(0,ue.jsxs)("div",{className:"VideoProgressBar-overlay-content",children:[(0,ue.jsx)("img",{src:dr,alt:"Video Creation",title:"Video Creation"}),(0,ue.jsx)("div",{children:(0,V.ZP)(this.state.OverlayMessage)})]})}),(0,ue.jsx)("div",{id:"savingInProgress",className:"svp-box",style:{display:this.state.displaySaveInprogress?"block":"none"},children:(0,ue.jsx)("div",{className:"col d-flex h-100 p-0",children:(0,ue.jsx)("div",{className:"row justify-content-center align-self-center m-auto",children:(0,ue.jsx)("span",{className:"spanForSavingAndSaved",id:"spanForErrorSave",children:(0,V.ZP)(this.state.OverlayMessage)})})})}),(0,ue.jsx)("audio",{ref:this.previewMusicAudio,id:"myAudioPlay",loop:!0}),(0,ue.jsx)("audio",{ref:this.previewVoiceOverAudio,id:"myVoiceOverAudioPlay"}),this.state.showPreviewProgress?(0,ue.jsx)(Yt.Z,{heading:"Preparing video preview",step1ProgressMessage:this.state.previewProgressMessage||"Video preview",step1Progress:Math.ceil(this.state.previewProgress),transparentBackground:!0,onStopProgress:this.onClosePreviewProgress}):(0,ue.jsx)(ue.Fragment,{}),(0,ue.jsx)(G.Z,{active:this.state.isShowOverlay,spinner:!0,text:(0,V.ZP)(this.state.OverlayMessage)}),this.state.showFocusOverlay&&(0,ue.jsx)("div",{className:"focus-overlay-wrapper",onClick:function(){Y.setState({showFocusOverlay:!1})},children:" "}),(0,ue.jsx)(G.Z,{active:this.state.showLoader,spinner:!0,text:(0,V.ZP)("Fetching a relevant background visual <br/> for this new scene...")}),(0,ue.jsxs)("div",{className:"page-content d-flex align-items-stretch",children:[(0,ue.jsx)(g.Z,{component:"nav",className:"side-navbar",id:"side-navbar",sx:{backgroundColor:"grey.800"},children:(0,ue.jsxs)("ul",{className:"list-unstyled nav nav-tabs",children:[(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer ".concat(0===this.state.selectedMenuTabValue?"active":""),onClick:function(){Y.handleMenutabChange(0)},children:[(0,ue.jsx)(_r.Z,{sx:{color:"grey.200"}}),(0,ue.jsx)("h4",{className:"d-block",children:"Story"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer ".concat(1===this.state.selectedMenuTabValue?"active":""),id:"visuals",onClick:function(){Y.handleMenutabChange(1)},children:[(0,ue.jsx)(Ar.Z,{sx:{color:"grey.200"}})," ",(0,ue.jsx)("h4",{className:"d-block",children:"Visuals"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer  ".concat(2===this.state.selectedMenuTabValue?"active":""),onClick:function(){Y.handleMenutabChange(2)},children:[this.state.applyingAudio?(0,ue.jsx)(g.Z,{sx:{display:"flex"},children:(0,ue.jsx)(Se.Z,{size:20,thickness:6,sx:{color:"grey.0"}})}):(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(lr.Z,{sx:{color:"grey.200"}}),!(null!=X&&null!==(r=X.plan)&&void 0!==r&&null!==(o=r.plan_code)&&void 0!==o&&o.includes("app_sumo_pictory_tier"))]}),(0,ue.jsx)("h4",{className:"d-block",children:"Audio"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer ".concat(3===this.state.selectedMenuTabValue?"active":""),id:"template-styles-tab",onClick:function(){Y.handleMenutabChange(3)},children:[(0,ue.jsx)(Pr.Z,{sx:{color:"grey.200"}}),(0,ue.jsx)("h4",{className:"d-block",children:"Styles"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer ".concat(4===this.state.selectedMenuTabValue?"active":""),id:"display-text-tab",onClick:function(){Y.handleMenutabChange(4)},children:[(0,ue.jsx)(pr.Z,{sx:{color:"grey.200"}}),(0,ue.jsx)("h4",{className:"d-block",children:"Text"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer ".concat(5===this.state.selectedMenuTabValue?"active":""),id:"templates-tab",onClick:function(){Y.handleMenutabChange(5)},children:[(0,ue.jsx)(Nr.Z,{sx:{color:"grey.200"}}),(0,ue.jsx)("h4",{className:"d-block",children:"Branding"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer  ".concat(6===this.state.selectedMenuTabValue?"active":""),id:"display-elements-tab",onClick:function(){Y.handleMenutabChange(6)},children:[(0,ue.jsx)(hr.Z,{sx:{color:"grey.200"}}),(0,ue.jsx)("h4",{className:"d-block",children:"Elements"})]})}),(0,ue.jsx)("li",{className:"nav-item ",children:(0,ue.jsxs)("a",{className:"nav-link pointer ".concat(7===this.state.selectedMenuTabValue?"active":""),onClick:function(){Y.handleMenutabChange(7)},children:[(0,ue.jsx)(ve.Z,{sx:{color:"grey.200"}}),(0,ue.jsx)("h4",{className:"d-block",children:"Format"})]})}),(0,ue.jsx)("li",{className:"nav-item ",style:{height:"120px"}})]})}),(0,ue.jsxs)("main",{className:"content-inner step-final step-3 white-background",children:[(0,ue.jsx)("header",{className:"page-header white-background subtle-border-bottom",children:(0,ue.jsx)(yn.Z,{displayMsg:"",article_category:this.state.article_category,ProjectName:this.state.projectName,disablePreviewButton:this.state.disablePreviewButton,disableSaveButton:this.state.disableSaveButton,SaveButtonText:this.state.SaveButtonText,handleBlurProjectName:this.handleBlurProjectName,gotoCreateVideoStep2:this.gotoCreateVideoStep2,OpenCloseVideoPreviewNew:this.OpenCloseVideoPreviewNew,OpenSaveProjectPopup:this.saveProjectDetail_debounce,GenerateDraftVideo:this.GenerateDraftVideo,GenerateNextGenerationVideo:this.GenerateNextGenerationVideo,GenerateVideo:this.generateElements,GenerateCsv:this.generateVideoPostsCSV,generateVideoPosts:this.generateVideoPosts,changeProjectName:this.changeProjectName,saveDate:this.state.saveDate,projectId:this.state.project_id,isNewProject:this.state.isNewProject,username:this.state.user&&this.state.user.username,fetchNewProjectName:!(this.state.url||null!==(l=this.props.location.state)&&void 0!==l&&l.loadProject),changeVideoResolution:this.onSelectingVideoResolution,gotoPlansList:this.gotoPlansList,quotaExceeded:this.state.quotaExceeded,closeQuotaPopup:this.closeQuotaPopup,allowReelFastVideo:(0,ye.Lv)(this.state.username),allowFLVVideo:(0,ye.mo)(this.state.username),templateMetaData:this.state.templateMetaData,openTemplatesPopup:function(){return Y.setState({templatesAction:In.Pf.openTemplatesPopup})},videoDuration:this.state.videoDuration,videoTotalDurationInSeconds:this.state.videoTotalDurationInSeconds,videoDurationLimit:this.state.videoDurationLimit,videoDurationLimitWithGrace:this.state.videoDurationLimitWithGrace,videoDurationToolTip:this.state.videoDurationToolTip,teamUsers:this.props.teamUsers,showAlertNotification:function(e){return Y.setState({showAlertNotification:e,alertSeverity:"success"})},screen:"Step3",isVoiceOverApplying:null===(u=this.state.durationUpdatedScenes)||void 0===u?void 0:u.loading})}),(0,ue.jsx)("section",{className:"container-fluid p-tb-0",children:(0,ue.jsxs)("div",{className:"col outer-block horizontal-flex pl-0 pr-0 pt-0 pb-0 ",id:"step-3-fixed-height",children:[(0,ue.jsx)("div",{className:["col-md-40 col-tb-full light-gray-background",this.state.showFocusOverlay?"focus-overlay-element":"",this.state.showAudioTrimmer?"hidden":"display-block"].join(" "),style:{paddingTop:"15px",paddingLeft:"15px",paddingBottom:"15px",paddingRight:"15px"},children:(0,ue.jsxs)("div",{className:"tab-content",children:[(0,ue.jsxs)("div",{className:"card block-1 no-border light-gray-background fill-height",hidden:0!==this.state.selectedMenuTabValue,style:{zIndex:this.state.elevateStoryboardScriptTab?"205":""},onClick:function(){return Y.state.elevateStoryboardScriptTab&&Y.elevateStoryboardScriptTab(!1)},ref:this.sceneContainerRef,children:[(0,ue.jsxs)("div",{className:"transcribe-search-container horizontal-flex space-between-center pr-1 mr-2 mb-3",children:[(0,ue.jsx)("div",{className:"icon search-icon"}),(0,ue.jsx)("input",{className:"search-box naked ml-1 mr-1 flex-filler",placeholder:"Search...",name:"new-search-value",autoComplete:"off",ref:function(e){return Y.searchBarRef=e},onChange:function(e){return Y.search(e.target.value)},style:{width:"156px"}}),(0,ue.jsx)("span",{className:"grey easy result-line",children:this.state.searchSceneText&&this.state.searchSceneText.matches&&this.state.searchSceneText.matches.length?"".concat(this.state.searchSceneText.activeElIndex+1," of ").concat(this.state.searchSceneText.matches.length," results"):""}),(0,ue.jsx)("div",{className:["icon caret-down-icon",!this.state.searchSceneText.matches.length||this.state.searchSceneText.activeElIndex+1>=this.state.searchSceneText.matches.length?"disabled":""].join(" "),onClick:function(){Y.bringSearchedElementToFocus(1)}}),(0,ue.jsx)("div",{className:["icon caret-up-icon",!this.state.searchSceneText.matches.length||this.state.searchSceneText.activeElIndex<1?"disabled":""].join(" "),onClick:function(){Y.bringSearchedElementToFocus(-1)}}),(0,ue.jsx)("div",{className:"min-width-30",children:this.state.searchSceneText.query&&(0,ue.jsx)("div",{className:"icon close-icon",onClick:this.clearSearchValue})})]}),(0,ue.jsx)("div",{className:"card-body pr-0 pl-0 pt-0 pb-0",children:(0,ue.jsx)("div",{ref:function(e){return!Y.state.allStatementScrollContainer&&Y.setState({allStatementScrollContainer:e})},className:"content mCustomScrollbar fill-height no-border-radius hover-only-scrollbar",id:"divLeftSceneSentences",children:(0,ue.jsx)(gt,(0,s.Z)({ref:this.sceneContainerRef,loadMoreSentences:this.state.loadMoreSentences,loadMoreScenes:this.loadMoreScenes,changeActiveDiv:this.changeActiveDiv,refresh:this.state.refreshAllScene,UpdateAllScene:this.UpdateAllScene,updateAllAssets:this.updateAllAssets,isPrevious:this.state.isPrevious,imageURL:this.state.imageURL,isOverlayShown:this.isOverlayShown,totalNumberOfSentences:this.state.sentences,subSentencesArrayDetail:this.state.subSentencesArray,Url:this.state.url,brandSetting:this.state.brandSetting,project_id:this.state.project_id,scrollContainer:this.state.allStatementScrollContainer,linkScene:this.linkScene,isEditVideoScenario:"transcribe"===this.state.source,searchSceneText:this.state.searchSceneText,activeSearchElIndex:this.state.activeSearchElIndex,splitScene:this.splitScene,removeRecordedAudio:this.removeRecordedAudio,saveTextEditorValue:this.saveTextEditorValue,reorderScene:this.reorderScene,currentActiveDiv:this.state.currentActiveDiv,isAllowTemplates:(0,ye.PW)(this.state.username)},"project_id",this.state.project_id))})})]}),(0,ue.jsxs)("div",{className:"tabs-innerblock fill-height",hidden:1!==this.state.selectedMenuTabValue,children:[(0,ue.jsxs)("div",{className:"flex-row flex-space-between-start white-background",children:[(0,ue.jsx)(g.Z,{sx:{backgroundColor:"grey.0",maxWidth:"calc(100% - 153px)"},children:(0,ue.jsxs)(b.Z,{className:"visual-tabs",value:this.state.selectedVisualTabValue,onChange:this.handleVisualtabChange,variant:(0,ye.rI)(this.state.username)?"scrollable":"standard",scrollButtons:(0,ye.rI)(this.state.username),children:[(0,ue.jsx)(y.Z,{label:"Library",value:0}),(0,ye.rI)(this.state.username)&&(0,ue.jsx)(y.Z,{label:"ReelArt",value:1}),(0,ue.jsx)(y.Z,{label:"Textures",value:2}),(0,ue.jsx)(y.Z,{label:"My uploads",value:3}),(0,ue.jsx)(y.Z,{label:"Recent",value:4}),(0,ue.jsx)(y.Z,{icon:(0,ue.jsx)(ss.Z,{}),value:5})]})}),(0,ue.jsx)("div",{className:"split-scene-button apply pointer right-aligned-button"+(this.state.enableApplyVisualToAll?"":" btn-disabled disabled"),onClick:this.applyVisualToAll,children:"Apply visual to all"})]}),(0,ue.jsxs)("div",{className:"tab-content tab-height inrtab-content",children:[(0,ue.jsx)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeVisualTab!==Sa,"aria-labelledby":"visual-tab-".concat(Sa),id:"tbinner-1",children:this.state.visualTabsActivationStatus.Library?(0,ue.jsx)(Hn.Z,{refresh:this.state.refreshVisualLibrary,defaultImages:this.state.defaultAssets,imageURL:this.state.imageURL,hideShowOverlay:this.hideShowOverlay,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,updateAllAssets:this.updateAllAssets,allAssets:this.state.allAssets,brandSetting:this.state.brandSetting,username:this.state.username,visualData:this.state.visualData,imageAssests:this.state.imageAssests,project_id:this.state.project_id,aspectRatio:this.state.aspectRatioClass,article_category:this.state.article_category,originalText:this.state.originalText,favoriteVisuals:this.props.favoriteVisualsResult.Items,searchCategories:this.props.searchCategories,sentenceKeywordSuggestions:this.props.sentenceKeywordSuggestions||[],language:this.state.scriptLanguage||"en",history:this.props.history,buyAddonEnabled:ie}):null}),(0,ue.jsx)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeVisualTab!==Za,children:this.state.visualTabsActivationStatus.ReelArt?(0,ue.jsx)(ir,{refresh:this.state.refreshVisualLibrary,defaultImages:this.state.defaultAssets,imageURL:this.state.imageURL,hideShowOverlay:this.hideShowOverlay,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,updateAllAssets:this.updateAllAssets,allAssets:this.state.allAssets,brandSetting:this.state.brandSetting,username:this.state.username,visualData:this.state.visualData,imageAssests:this.state.imageAssests,project_id:this.state.project_id,aspectRatio:this.state.aspectRatioClass,article_category:this.state.article_category,originalText:this.state.originalText,favoriteVisuals:this.props.favoriteVisualsResult.Items,searchCategories:this.props.searchCategories,sentenceKeywordSuggestions:this.props.sentenceKeywordSuggestions||[]}):null}),(0,ue.jsxs)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeVisualTab!==ja,"aria-labelledby":"voice-tab-".concat(ja),id:"tbinner-2",children:[this.state.recentLoading?this.getAssetsLoader():null,this.state.visualTabsActivationStatus.Recent?(0,ue.jsx)(vn,{refresh:this.state.refreshImageRecent,brandSetting:this.state.brandSetting,imageURL:this.state.imageURL,updateAllAssets:this.updateAllAssets,allAssets:this.state.allAssets,defaultImages:this.state.defaultImages,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,hideShowOverlay:this.hideShowOverlay,username:this.state.username,stopRecentLoader:this.stopRecentLoader,project_id:this.state.project_id,recentVisuals:this.state.recentVisuals}):null]}),(0,ue.jsx)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeVisualTab!==ba,"aria-labelledby":"voice-tab-".concat(ba),id:"tbinner-3",children:this.state.visualTabsActivationStatus.Uploads?(0,ue.jsx)(Jn,(f={imageURL:this.state.imageURL,refresh:this.state.refreshImageUpload,hideShowOverlay:this.hideShowOverlay,brandSetting:this.state.brandSetting,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,username:this.state.username,project_id:this.state.project_id,favoriteVisuals:this.props.favoriteVisualsResult.Items,imageList:this.props.imageList,updateUpload:this.updateUpload,getMoreUploadedImages:this.getMoreUploadedImages,history:this.props.history,setImageFilter:this.setImageFilter,teamUsers:this.props.teamUsers,visualImportStatus:this.state.visualImportStatus,source:this.state.source},(0,s.Z)(f,"username",this.state.username),(0,s.Z)(f,"history",this.props.history),(0,s.Z)(f,"brandingVisualList",null===(d=this.props)||void 0===d||null===(p=d.userBrands)||void 0===p||null===(h=p.find((function(e){var t;return e.id==(null==Y||null===(t=Y.state)||void 0===t?void 0:t.brandId)})))||void 0===h?void 0:h.visualList),f)):null}),(0,ue.jsx)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeVisualTab!==ya,"aria-labelledby":"voice-tab-".concat(ya),id:"tbinner-4",children:this.state.visualTabsActivationStatus.Textures?(0,ue.jsx)(Rn,{imageURL:this.state.imageURL,refresh:this.state.refreshImageUpload,hideShowOverlay:this.hideShowOverlay,brandSetting:this.state.brandSetting,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,username:this.state.username,project_id:this.state.project_id,updateUpload:this.updateUpload,changeBgColor:this.changeBgColor,currentActiveDiv:this.state.currentActiveDiv,subSentencesArray:this.state.subSentencesArray,currentSceneId:this.state.currentSceneId}):null}),(0,ue.jsxs)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeVisualTab!==wa,"aria-labelledby":"voice-tab-".concat(wa),id:"tbinner-5",children:[this.state.favLoading?this.getAssetsLoader():null,this.state.visualTabsActivationStatus.Favourite?(0,ue.jsx)(hn,(j={refresh:this.state.refreshImageFavourite,brandSetting:this.state.brandSetting,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,updateAllAssets:this.updateAllAssets,allAssets:this.state.allAssets,imageURL:this.state.imageURL,hideShowOverlay:this.hideShowOverlay,username:this.state.username,visualData:this.state.visualData,stopImageFavouriteLoader:this.stopImageFavouriteLoader,project_id:this.state.project_id,favoriteVisuals:this.props.favoriteVisualsResult.Items},(0,s.Z)(j,"username",this.state.username),(0,s.Z)(j,"history",this.props.history),j)):null]})]})]}),this.state.activeDisplayElementsTab&&(0,ue.jsx)("div",{hidden:6!==this.state.selectedMenuTabValue,className:"fill-height",children:(0,ue.jsx)(Er,{addDisplayElement:this.addDisplayElement,username:this.state.username})}),(0,ue.jsx)("div",{hidden:2!==this.state.selectedMenuTabValue,className:"fill-height",children:(0,ue.jsxs)("div",{className:"tabs-innerblock fill-height",children:[(0,ue.jsx)(g.Z,{sx:{backgroundColor:"grey.0"},children:(0,ue.jsxs)(b.Z,{value:this.state.selectedAudioTabValue,className:"audio-tabs",onChange:this.handleAudiotabChange,sx:{position:"relative"},children:[(0,ue.jsx)(y.Z,{label:"Background music"}),(0,ue.jsx)(y.Z,{label:"Voiceover"}),(0,ue.jsx)(y.Z,{label:"My uploads"}),(0,ue.jsx)(y.Z,{label:"Recent"}),(0,ue.jsx)(y.Z,{icon:(0,ue.jsx)(ss.Z,{})}),(0,ue.jsx)(y.Z,{sx:{position:"absolute",right:"0"},label:"Volume",iconPosition:"start",icon:(0,ue.jsx)(as.OB,{fillColor:5===this.state.selectedAudioTabValue?"#852CFF":"#595C72"})})]})}),(0,ue.jsxs)(g.Z,{sx:{width:"100%"},className:"tab-content tab-height inrtab-content",children:[(0,ue.jsx)("div",{role:"tabpanel",className:"fill-height",hidden:this.state.activeAudioTab!==ha,id:"voice-tabpanel-".concat(ha),"aria-labelledby":"voice-tab-".concat(ha),children:(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("audio",{id:"myMusicTrackPlay"}),this.state.audioTabsActivationStatus.track?(0,ue.jsx)(xn.Z,{fetchingTracks:this.state.fetchingTracks,activeTrackId:be.Z.getItem("trackId"),activeTrack:this.props.musicTrack,tracks:this.props.musicResult.Items,removeTrackFromStorage:this.removeTrackFromStorage,makeTrackActive:this.makeTrackActive,playMusic:this.playMusic,AddTrackToFavourite:this.AddTrackToFavourite,refresh:this.state.refreshFavourite,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,audioFavsAndRecent:this.props.audioFavsAndRecent,project_id:this.state.project_id,activeMusicTrack:this.state.activeAudioTrack,brandingBgMusicList:null===(Z=this.props)||void 0===Z||null===(k=Z.userBrands)||void 0===k||null===(E=k.find((function(e){var t;return e.id==(null==Y||null===(t=Y.state)||void 0===t?void 0:t.brandId)})))||void 0===E?void 0:E.bgMusicList,updatedFromfavorite:this.state.updatedFromfavorite,resetUpdatedFrom:this.resetUpdatedFrom}):null]})}),(0,ue.jsx)("div",{role:"tabpanel",className:"tab-pane active fill-height",hidden:this.state.activeAudioTab!==ma,"aria-labelledby":"voice-tab-".concat(0),id:"tbinnertwo-1",children:this.state.audioTabsActivationStatus.voiceOver?(0,ue.jsx)(or.Z,{speedValue:this.state.speedValue,onChange:function(e){return Y.setState({speedValue:e})},onChangeComplete:this.ChangeComplete,reloadScene:this.reloadScene,project_id:this.state.project_id,username:this.state.username,refresh:this.state.refreshVoiceOver,voiceOverTracks:this.state.voiceOverTracks,UpdateFavourite:this.UpdateFavourite,UpdateRecent:this.UpdateRecent,UpdateVoiceOver:this.UpdateVoiceOver,UpdateIsActiveVoiceOver:this.UpdateIsActiveVoiceOver,brandSetting:this.state.brandSetting,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,favouriteTracks:this.state.favourites,recentTracks:this.state.recents,scriptLanguage:this.state.scriptLanguage,filterLanguage:this.state.filterLanguage,transcriptionLanguage:this.state.transcriptionLanguage,removeVoiceOverTrackFromStorage:this.removeVoiceOverTrackFromStorage,startApplyVoiceOver:this.startApplyVoiceOver,getVoiceOverQuota:this.getVoiceOverQuota,textToSpeechDuration:this.state.textToSpeechDuration,textToSpeechDurationValue:this.state.textToSpeechDurationValue,daysRemainingTillResetDate:this.state.daysRemainingTillResetDate,restrictUsers:se,applyingAudioStatus:this.applyingAudioStatus,history:this.props.history,durationUpdated:this.state.durationUpdatedScenes,applyingVO:this.state.applyingAudio,videoTotalDurationInSeconds:this.state.videoTotalDurationInSeconds,hideElevenLabs:ae,brandingAIVoiceoverList:null===(A=this.props)||void 0===A||null===(_=A.userBrands)||void 0===_||null===(R=_.find((function(e){var t;return e.id==(null==Y||null===(t=Y.state)||void 0===t?void 0:t.brandId)})))||void 0===R?void 0:R.AIVoiceoverList,cancelingAudioStatus:this.cancelingAudioStatus,cancelingVO:this.state.cancelingVO,videoDuration:this.state.videoDuration,logEventVoiceSelected:this.logEventVoiceSelected,voiceoverprogressStatus:this.state.voiceoverprogressStatus,openVoiceoverChangePopup:function(){Y.setState({noAddonPopup:!0})},isAppSumouser:(0,ye.hk)(re)===ye.nX.appSumo}):null}),(0,ue.jsx)("div",{role:"tabpanel",className:"tab-pane active fill-height",hidden:this.state.activeAudioTab!==ga,"aria-labelledby":"voice-tab-".concat(0),id:"tbinnertwo-5",children:(0,ue.jsx)(ue.Fragment,{children:this.state.audioTabsActivationStatus.upload?(0,ue.jsx)(qt,{project_id:this.state.project_id,username:this.state.username,refresh:this.state.refreshVoiceOver,voiceOverTracks:this.state.voiceOverTracks,UpdateFavourite:this.UpdateFavourite,UpdateRecent:this.UpdateRecent,UpdateVoiceOver:this.UpdateVoiceOver,UpdateIsActiveVoiceOver:this.UpdateIsActiveVoiceOver,brandSetting:this.state.brandSetting,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,favouriteTracks:this.state.favourites,musicTrackNotAllowed:this.musicTrackNotAllowed,recentTracks:this.state.recents,uploadedAudio:this.state.uploadAudio,makeTrackActive:this.makeTrackActive,recordAudio:this.recordAudio,isOutroScene:this.isOutroScene,isCustomIntroScene:this.isCustomIntroScene,playMusic:this.playMusic,activeTrack:be.Z.getItem("trackId"),removeTrackFromStorage:this.removeTrackFromStorage,rerenderAudio:this.state.rerenderAudio,removeRecordedAudio:this.removeRecordedAudio,listOfRecordedAudio:this.state.listOfRecordedAudio,recordingApplyToAll:this.recordingApplyToAll,toggleAudioTrimmer:this.toggleAudioTrimmer,type:this.state.audioUploadScreenType,teamUsers:this.props.teamUsers,audioImportStatus:this.state.audioImportStatus,source:this.state.source,activeAudioTrack:this.state.activeAudioTrack}):null})}),(0,ue.jsx)("div",{role:"tabpanel",className:"tab-pane active fill-height",hidden:this.state.activeAudioTab!==fa,id:"voice-tabpanel-".concat(fa),"aria-labelledby":"voice-tab-".concat(fa),children:this.state.audioTabsActivationStatus.recent?(0,ue.jsx)("div",{className:"card block-1 hover-only-scrollbar ov-right content mCustomScrollbar",children:(0,ue.jsx)("div",{className:"card-body p-0",children:(0,ue.jsx)("div",{className:"col-12 p-0 tbinnertwo-box",children:(0,ue.jsxs)("div",{id:"accordion",className:"track-links",role:"tablist","aria-multiselectable":"true",children:[(0,ue.jsxs)("div",{className:"card",children:[(0,ue.jsx)("div",{className:"card-header",role:"tab",id:"headingOne1",children:(0,ue.jsxs)("div",{className:"mb-0",children:[(0,ue.jsx)("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#recentCollapseOne","aria-expanded":"false","aria-controls":"recentCollapseOne",className:"",children:(0,ue.jsx)(m.Z,{sx:{paddingLeft:"15px","&:before":{left:"15px !important"}},children:"Background music"})}),(0,ue.jsx)("i",{className:"fa fa-angle-right","aria-hidden":"true"})]})}),(0,ue.jsx)("div",{id:"recentCollapseOne",className:"collapse show",role:"tabpanel","aria-labelledby":"headingOne","aria-expanded":"false",children:(0,ue.jsx)("div",{className:"card-block",children:(0,ue.jsx)(Cn,{favouriteTracks:this.state.favourites,recentTracks:this.state.recents,project_id:this.state.project_id,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,setFavouritesFromFavoritesTab:this.setFavouritesFromFavoritesTab,type:"track",removeTrackFromStorage:this.removeTrackFromStorage,refresh:this.state.refreshRecent,UpdateFavourite:this.UpdateFavourite,UpdateRecent:this.UpdateRecent,UpdateVoiceOver:this.UpdateVoiceOver,brandSetting:this.state.brandSetting,username:this.state.username,updateRecentListForMarkActive:this.updateRecentListForMarkActive,makeTrackActive:this.makeTrackActive,activeRecentTrack:this.state.activeAudioTrack,playMusic:this.playMusic,logEventVoiceSelected:this.logEventVoiceSelected})})})]}),(0,ue.jsxs)("div",{className:"card",children:[(0,ue.jsx)("div",{className:"card-header",role:"tab",id:"headingTwo1",children:(0,ue.jsxs)("div",{className:"mb-0",children:[(0,ue.jsx)("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#recentCollapseTwo","aria-expanded":"false","aria-controls":"recentCollapseTwo",className:"",style:{padding:"5px 0"},children:(0,ue.jsx)(m.Z,{sx:{paddingLeft:"15px !important",paddingTop:"3px","&:before":{left:"15px !important"}},children:"Voiceover"})}),(0,ue.jsx)("i",{className:"fa fa-angle-right","aria-hidden":"true"})]})}),(0,ue.jsx)("div",{id:"recentCollapseTwo",className:"collapse show",role:"tabpanel","aria-labelledby":"headingOne","aria-expanded":"false",children:(0,ue.jsx)("div",{className:"card-block",children:(0,ue.jsx)(Cn,{favouriteTracks:this.state.favourites,recentTracks:this.state.recents,project_id:this.state.project_id,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,type:"voiceover",refresh:this.state.refreshRecent,UpdateFavourite:this.UpdateFavourite,UpdateRecent:this.UpdateRecent,UpdateVoiceOver:this.UpdateVoiceOver,brandSetting:this.state.brandSetting,username:this.state.username,UpdateIsActiveVoiceOver:this.UpdateIsActiveVoiceOver,startApplyVoiceOver:this.startApplyVoiceOver,restrictUsers:se,applyingAudioStatus:this.applyingAudioStatus,history:this.props.history,durationUpdated:this.state.durationUpdatedScenes,applyingVO:this.state.applyingAudio,activeRecentTrack:this.state.activeAudioTrack,playMusic:this.playMusic,textToSpeechDurationValue:this.state.textToSpeechDurationValue,cancelingAudioStatus:this.cancelingAudioStatus,cancelingVO:this.state.cancelingVO,videoDuration:this.state.videoDuration,videoTotalDurationInSeconds:this.state.videoTotalDurationInSeconds,logEventVoiceSelected:this.logEventVoiceSelected,voiceoverprogressStatus:this.state.voiceoverprogressStatus})})})]})]})})})}):null}),(0,ue.jsx)("div",{role:"tabpanel",className:"tab-pane active fill-height",hidden:this.state.activeAudioTab!==va,"aria-labelledby":"voice-tab-".concat(va),id:"tbinnertwo-1",children:(0,ue.jsx)(ue.Fragment,{children:this.state.audioTabsActivationStatus.favourite?(0,ue.jsx)("div",{className:"card hover-only-scrollbar block-1 ov-right content mCustomScrollbar",children:(0,ue.jsx)("div",{className:"card-body p-0",children:(0,ue.jsx)("div",{className:"col-12 p-0 tbinnertwo-box",children:(0,ue.jsxs)("div",{id:"accordion",className:"track-links",role:"tablist","aria-multiselectable":"true",children:[(0,ue.jsxs)("div",{className:"card",children:[(0,ue.jsx)("div",{className:"card-header",role:"tab",id:"headingOne1",children:(0,ue.jsxs)("div",{className:"mb-0",children:[(0,ue.jsx)("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#favouriteCollapseOne","aria-expanded":"false","aria-controls":"favouriteCollapseOne",className:"",style:{padding:"5px 0px"},children:(0,ue.jsx)("p",{style:{m:"0 !important",fontSize:"16px"},children:"Background music"})}),(0,ue.jsx)("i",{className:"fa fa-angle-right","aria-hidden":"true"})]})}),(0,ue.jsx)("div",{id:"favouriteCollapseOne",className:"collapse show",role:"tabpanel","aria-labelledby":"headingOne","aria-expanded":"false",children:(0,ue.jsx)("div",{className:"card-block",children:(0,ue.jsx)(an,{tracks:this.state.lists,project_id:this.state.project_id,removeTrackFromStorage:this.removeTrackFromStorage,makeTrackActive:this.makeTrackActive,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,favouriteTracks:this.state.audioFavourites,recentTracks:this.state.audioRecent,username:this.state.username,setFavouritesFromFavoritesTab:this.setFavouritesFromFavoritesTab,type:"track",refresh:this.state.refreshFavourite,UpdateFavourite:this.UpdateFavourite,UpdateRecent:this.UpdateRecent,UpdateVoiceOver:this.UpdateVoiceOver,brandSetting:this.state.brandSetting,activeFavTrack:this.state.activeAudioTrack,playMusic:this.playMusic,logEventVoiceSelected:this.logEventVoiceSelected})})})]}),(0,ue.jsxs)("div",{className:"card",children:[(0,ue.jsx)("div",{className:"card-header",role:"tab",id:"headingTwo1",children:(0,ue.jsxs)("div",{className:"mb-0",children:[(0,ue.jsx)("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#favouriteCollapseTwo","aria-expanded":"false","aria-controls":"favouriteCollapseTwo",className:"",children:(0,ue.jsx)("p",{children:"Voiceover"})}),(0,ue.jsx)("i",{className:"fa fa-angle-right","aria-hidden":"true"})]})}),(0,ue.jsx)("div",{id:"favouriteCollapseTwo",className:"collapse show",role:"tabpanel","aria-labelledby":"headingOne","aria-expanded":"false",children:(0,ue.jsx)("div",{className:"card-block",children:(0,ue.jsx)(an,{tracks:this.state.lists,project_id:this.state.project_id,UpdateFavourite:this.UpdateFavourite,UpdateRecent:this.UpdateRecent,UpdateIsActiveVoiceOver:this.UpdateIsActiveVoiceOver,UpdateVoiceOver:this.UpdateVoiceOver,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,favouriteTracks:this.state.audioFavourites,recentTracks:this.state.audioRecent,username:this.state.username,type:"voiceover",refresh:this.state.refreshFavourite,brandSetting:this.state.brandSetting,startApplyVoiceOver:this.startApplyVoiceOver,restrictUsers:se,history:this.props.history,durationUpdated:this.state.durationUpdatedScenes,applyingVO:this.state.applyingAudio,applyingAudioStatus:this.applyingAudioStatus,activeFavTrack:this.state.activeAudioTrack,playMusic:this.playMusic,textToSpeechDurationValue:this.state.textToSpeechDurationValue,cancelingAudioStatus:this.cancelingAudioStatus,cancelingVO:this.state.cancelingVO,videoDuration:this.state.videoDuration,videoTotalDurationInSeconds:this.state.videoTotalDurationInSeconds,logEventVoiceSelected:this.logEventVoiceSelected,voiceoverprogressStatus:this.state.voiceoverprogressStatus})})})]})]})})})}):null})}),(0,ue.jsx)("div",{role:"tabpanel",className:"tab-pane active fill-height",hidden:this.state.activeAudioTab!==xa,id:"voice-tabpanel-".concat(xa),"aria-labelledby":"voice-tab-".concat(xa),children:(0,ue.jsx)(ue.Fragment,{children:this.state.audioTabsActivationStatus.settings&&(0,ue.jsxs)("div",{className:"card block-1 ov-right content fill-height card-body",children:[(0,ue.jsx)("div",{className:"form-group",children:(0,ue.jsxs)("div",{className:"top-slider d-flex",style:{background:"unset",border:"unset",marginTop:"20px",width:"100%",alignItems:"center"},children:[(0,ue.jsx)("div",{className:"col-md-5 pt-3 lft-label-slider",style:{paddingRight:"0"},children:"Background music volume"}),0===this.state.bgMusicVolPercent?(0,ue.jsx)(mr.Z,{sx:{color:"grey",alignSelf:"center",marginTop:"12px",fontSize:"16px"}}):(0,ue.jsx)(ue.Fragment,{children:this.state.bgMusicVolPercent<=70?(0,ue.jsx)(gr.Z,{style:{color:"grey",alignSelf:"center",marginTop:"12px",fontSize:"16px"}}):(0,ue.jsx)(fr.Z,{style:{color:"grey",alignSelf:"center",marginTop:"12px",fontSize:"16px"}})}),(0,ue.jsx)("div",{className:"col-md-7",style:{paddingRight:"20px"},children:(0,ue.jsx)("div",{className:"col-12 p-0 tabs-slider input-bar-container bgMusicVolPercent"+(0===this.state.bgMusicVolPercent?" zero-volume":""),children:(0,ue.jsx)(g.Z,{children:(0,ue.jsx)(M(),{id:"bgMusicVolPercent",maxValue:100,minValue:0,formatLabel:function(e){return"".concat(e,"%")},value:this.state.bgMusicVolPercent,onChange:function(e){return Y.setState({bgMusicVolPercent:e})},onChangeComplete:function(){return Y.onVolumeChangeComplete("background music")}})})})})]})}),(0,ue.jsx)("div",{className:"form-group",children:(0,ue.jsxs)("div",{className:"top-slider d-flex",style:{background:"unset",border:"unset",marginTop:"0",width:"100%",alignItems:"center"},children:[(0,ue.jsx)("div",{className:"col-md-5 col-sm-6 pt-3 lft-label-slider",style:{paddingRight:"0"},children:"Voiceover volume"}),0===this.state.videoVolume?(0,ue.jsx)(mr.Z,{sx:{color:"grey",alignSelf:"center",marginTop:"12px",fontSize:"16px"}}):(0,ue.jsx)(ue.Fragment,{children:this.state.videoVolume<=70?(0,ue.jsx)(gr.Z,{style:{color:"grey",alignSelf:"center",marginTop:"12px",fontSize:"16px"}}):(0,ue.jsx)(fr.Z,{style:{color:"grey",alignSelf:"center",marginTop:"12px",fontSize:"16px"}})}),(0,ue.jsx)("div",{className:"col-md-7 col-sm-6",style:{paddingRight:"20px"},children:(0,ue.jsx)("div",{className:"col-12 p-0 tabs-slider input-bar-container videoVolumeInputRange"+(0!==this.state.videoVolume&&this.state.voiceOverApplied?"":" zero-volume"),children:(0,ue.jsx)(S.Z,{title:this.state.voiceOverApplied?"":"No voiceover applied",placement:"bottom-start",children:(0,ue.jsx)(g.Z,{children:(0,ue.jsx)(M(),{id:"videoVolumeInputRange",disabled:!this.state.voiceOverApplied,maxValue:100,minValue:0,formatLabel:function(e){return"".concat(e,"%")},value:this.state.voiceOverApplied?this.state.videoVolume:0,onChange:function(e){return Y.setState({videoVolume:e})},onChangeComplete:function(){return Y.onVolumeChangeComplete("voice over")}})})})})})]})})]})})})]})]})}),(null===(P=this.state)||void 0===P||null===(N=P.subSentencesArray)||void 0===N?void 0:N.length)>0&&(0,ue.jsx)("div",{hidden:3!==this.state.selectedMenuTabValue,className:"fill-height",children:(0,ue.jsx)(In.ZP,{layout:In.SD.leftSideBar,currentTemplateMetaData:this.state.templateMetaData,applyStyleToScene:this.applyStyleToScene,applyVisualToScene:this.applyVisualToScene,changeTransitions:this.changeTransitions,transitionId:this.state.transitionId,user:this.state.user,project_id:this.state.project_id,playScenePreviewNew:this.playScenePreviewNew,setTemplate:this.setTemplate,templatesAction:this.state.templatesAction,templatesActionData:this.state.templatesActionData,actionPerformed:function(){return Y.setState({templatesAction:void 0})},showTabs:this.state.activeThemeTab&&(this.state.activeSubThemeTab?In.O7.templatesTabs:In.O7.stylesListTabs),openTab:this.openTab,activeTextStyleIdObj:this.getActiveTextStyleIdObj(),activeShowSceneNumber:Q.showSceneNumber,isIntroHidden:this.state.subSentencesArray[0].settings.hideScene,isOutroHidden:this.state.subSentencesArray[this.state.subSentencesArray.length-1].settings.hideScene,outroSceneId:this.state.subSentencesArray[this.state.subSentencesArray.length-1].sceneId,subSceneCount:this.state.subSentencesArray.length,brandName:this.state.brandName,isFromStep2:null===(O=this.props.location.state)||void 0===O?void 0:O.isFromStep2,createTextAnimationContainer:this.createTextAnimationContainer.bind(this),pickVisualFromScene:this.pickVisualFromScene,updateSettings:this.updateSettings,openScene:this.openScene,setSaveButtonText:function(e){return Y.setState({SaveButtonText:e})},hideInitialLoadingBar:(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.setState({showInitialLoadingBar:!1});case 2:Y.props.resetAssetsSearchStatus();case 3:case"end":return e.stop()}}),e)}))),history:this.props.history,source:this.state.source,selectTemplateVisual:this.selectTemplateVisual,disableApplyToAll:this.state.editorFocusItem&&this.state.editorFocusItem!==Xe.xA.sceneText,teamUsers:this.props.teamUsers,showBusy:this.isOverlayShown})}),(0,ue.jsx)("div",{hidden:4!==this.state.selectedMenuTabValue,className:"fill-height",children:(0,ue.jsx)(g.Z,{className:"d-flex flex-column h-100",sx:{background:"#fff",borderRight:"1px solid #e0e0e0"},children:(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsxs)(g.Z,{sx:{padding:"10px 0 0 30px"},children:[(0,ue.jsx)(m.Z,{sx:{color:"grey.900",fontWeight:"600"},children:"Default Text Boxes"}),(0,ue.jsx)(m.Z,{sx:{fontSize:"0.9rem",color:"grey.500"},children:"Click on text format type to add to scene"})]}),(0,ue.jsx)(Sr,{addDisplayText:this.addDisplayText,defaultTextStyles:this.state.defaultTextStyles},"general")]})})}),(0,ue.jsx)("div",{hidden:5!==this.state.selectedMenuTabValue,className:"fill-height",children:(0,ue.jsx)(rs,{selectedBrandId:null!=this&&null!==(D=this.state)&&void 0!==D&&D.brandId?null==this||null===(U=this.state)||void 0===U?void 0:U.brandId:"",brands:null===(L=this.props)||void 0===L?void 0:L.userBrands,onApplyLogo:function(e){Y.addDisplayElement(e,"visual","top-right",!0),w().getInstance().logEvent("brand-logo-clicked",{}),Y.setState({showAlertNotification:"Logo applied successfully"})},onApplyBrandColor:function(e){w().getInstance().logEvent("brand-color-clicked",{"clicked-from":"Branding tab"}),Y.applyBrandingColor(e)},onApplyBrandVisual:function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=Y.props)||void 0===n||n.userBrands.find((function(e){var t;return e.id==(null==Y||null===(t=Y.state)||void 0===t?void 0:t.brandId)})),t.large=t.large||t.url,t.thumb=t.thumb||t.url,e.next=5,Y.hideShowOverlay(Y.state.currentSceneId,t.url,!0,t,"isUploadImage");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onApplyBgMusic:function(e){var t;(0,ye.N$)(null===(t=Y.state)||void 0===t?void 0:t.username)[je.R2.customMusicTrack]&&"music"==e.source||"music"!=e.source?(Y.makeTrackActive(e.audio_id,e.url,e.source,e.fileName||e.title,null,!0),Y.setState({showAlertNotification:"Music applied successfully"})):Y.musicTrackNotAllowed()},addDisplayText:function(e){w().getInstance().logEvent("brand-text-clicked",{"clicked-from":"Branding tab"}),Y.addDisplayText(e)},defaultTextStyles:this.state.defaultTextStyles,onApplyBrand:function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null==t||null===(n=t.target)||void 0===n?void 0:n.value,Y.setState({showBrandSwitchConfirmationDialog:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onApplyAIVoiceover:function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.startApplyVoiceOver(t);case 2:null!=(n=e.sent)&&n.success&&Y.makeActiveVoiceTrack(t.trackId,t.url,t.type,t.name,t.gender,t.category);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onEditBrand:function(e){w().getInstance().logEvent("edit-brand-from-storyboard",{}),Y.props.history.push({pathname:ze.Z.BaseURL+ke.Z.branding,state:{editBrandId:e}})},onOpenCreateBrand:function(){w().getInstance().logEvent("create-brand-from-storyboard",{}),Y.props.history.push({pathname:ze.Z.BaseURL+ke.Z.branding,state:{CreateBrandSource:"storyboard"}})},isPremiumVOQuotaValid:this.state.textToSpeechDurationValue>0})}),(0,ue.jsx)("div",{className:"fill-height",hidden:7!==this.state.selectedMenuTabValue,children:this.state.activeAspectRatioTab&&(0,ue.jsxs)("div",{className:"card  no-border",style:{height:"100%"},children:[(0,ue.jsxs)("div",{className:"card-header no-btm-border text-left pt-3 pb-0",children:[(0,ue.jsxs)("div",{className:"select-video-quality",children:[(0,ue.jsx)("h5",{className:"mb-0 track-heading blue",children:"Select video resolution   "}),(0,ue.jsx)("div",{className:"radio-containers",children:this.state.videoResolutions.map((function(e){return"1080p"===e?(0,ue.jsxs)("div",{className:"radio",onClick:function(e){return Y.showUpgradeModal(e,null,"1080p")},children:["1080p"===Y.state.VideoRes?(0,ue.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}):(0,ue.jsx)("i",{className:"fa fa-circle-thin","aria-hidden":"true"}),"  1080p"]}):(0,ue.jsxs)("div",{className:"radio",onClick:function(){return Y.onSelectingVideoResolutionValue(e)},children:[Y.state.VideoRes===e?(0,ue.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}):(0,ue.jsx)("i",{className:"fa fa-circle-thin","aria-hidden":"true"}),"  ","720p"!==e?"Original resolution":"720p"]})}))})]}),(0,ue.jsx)("div",{style:{height:"100%"},className:"theme-var content",children:(0,ue.jsx)("div",{className:"col-12 p-0 pr-3",children:(0,ue.jsxs)("div",{className:"select-video-quality",style:{alignItems:"flex-start",marginTop:"20px"},children:[(0,ue.jsxs)("div",{className:"optimize-video",children:[(0,ue.jsx)("h5",{className:"mb-0 track-heading blue",children:"Optimize generated video for size   "}),(0,ue.jsx)("span",{children:"Turning this on would reduce the file size but increase the video generation time"})]}),(0,ue.jsx)("div",{className:"radio-containers",style:{width:"190px",minWidth:"140px"},children:(0,ue.jsxs)("label",{className:"switch mb-0 ml-1",children:[(0,ue.jsx)("input",{type:"checkbox",checked:this.state.optimizeVideoOutput,onChange:function(e){return Y.setState({optimizeVideoOutput:e.target.checked})}}),(0,ue.jsx)("span",{className:"slider round"})]})})]})})})]}),(0,ue.jsx)("div",{className:"card-body ov-right pt-0 pr-0",children:(0,ue.jsx)("div",{style:{height:"100%"},className:"theme-var content",children:(0,ue.jsx)("div",{className:"col-12 p-0 pr-3",children:(0,ue.jsx)("div",{className:"row vertical",children:(0,ue.jsx)(Ye.ZP,{username:this.state.username,aspectRatioValue:this.state.aspectRatioValue,aspectRatioClass:this.state.aspectRatioClass,aspectRatioFractionValue:this.state.aspectRatioFractionValue,onChangeAspectRatio:this.updateAspectRatio,gotoPlansList:this.gotoPlansList,isVisualsToVideo:"visuals"==this.state.source||"transcribe"==this.state.source})})})})})]})})]})}),(0,ue.jsxs)("div",{className:"col-md-60 col-big-xl col-tb-7 flex-space-between white-background",style:{height:"fit-content"},children:[(0,ue.jsxs)("div",{className:((!this.state.showAudioTrimmerLoading||!this.state.showAudioTrimmer)&&"hide-trimmer-progress")+" col p-0 top-scene-section",style:{flexGrow:"unset"},children:[(0,ue.jsx)("audio",{id:"myPreviewAudioPlayForEdit",loop:!0}),(0,ue.jsx)("audio",{id:"myPreviewVoiceOverPlayForEdit"}),(0,ue.jsx)(z.Nq,{node:this.audioTrimmerPortalNode,children:(0,ue.jsxs)("div",{id:"audioTrimmerContainer",className:"light-gray-background position-relative",style:this.state.showAudioTrimmer?{display:"block"}:{display:"none"},children:[(0,ue.jsx)("div",{id:"audioTrimmer",onClick:this.onAudioTrimmerClick}),(0,ue.jsx)("div",{className:"translucent-background",children:(0,ue.jsx)("div",{className:"dot-flashing position-absolute absolute-centered",children:(0,ue.jsxs)("div",{id:"audio-trimmer-progress",children:[this.state.audioTrimmerLoadingPercent," %"]})})})]})}),(0,ue.jsx)(ye.M2,{condition:this.state.showAudioTrimmer,wrapper:this.audioTrimmerModal,children:this.state.subSentencesArray.length>0?(0,ue.jsx)($t,{isVoiceOverApplying:null===(F=this.state.durationUpdatedScenes)||void 0===F?void 0:F.loading,currentActiveDiv:this.state.currentActiveDiv,previewReady:this.state.previewReady,showPreviewProgress:this.state.showPreviewProgress,showDeletePopup:this.state.showDeletePopup,setOpenConfirmDeleteDialog:this.setOpenConfirmDeleteDialog,videoPreviewComponentNew:this.videoPreviewComponentNew,closePreviewFlag:this.state.closePreviewFlag,playScenePreviewNew:this.playScenePreviewNew,closePreviewNew:this.closePreviewNew,applyVoiceOverToAllScene:this.applyVoiceOverToAllScene,applyImageZoomPanToAllSceneFn:this.applyImageZoomPanToAllSceneFn,applyHideTextToAllScene:this.applyHideTextToAllScene,applyMusicToAllScene:this.applyMusicToAllScene,refreshAfterAddSceneBefore:this.state.refreshAfterAddSceneBefore,checkMuteClipAudio:this.checkMuteClipAudio,applyMuteClipAudioToAllScene:this.applyMuteClipAudioToAllScene,changeActiveDiv:this.changeActiveDiv,refresh:this.state.refreshEditScene,closeOpenTextEditor:this.closeOpenTextEditor,saveTextEditorValue:this.saveTextEditorValue,SetTimePerFrame:this.SetTimePerFrame.bind(this),SetTimePerFrameForAllScenes:this.SetTimePerFrameForAllScenes,imageURL:this.state.imageURL,imageAssets:this.state.imageAssests,subSentencesArrayDetail:this.state.subSentencesArray,isOverlayShown:this.isOverlayShown,Url:this.state.url,brandSetting:this.state.brandSetting,InsertNewScene:this.InsertNewScene,InsertNewSubScene:this.InsertNewSubScene,insertSceneBefore:this.insertSceneBefore,insertSubsceneBefore:this.insertSubsceneBefore,DeleteMultipleScenes:this.DeleteMultipleScenes,animationTheme:this.state.animationTheme,themeChange:this.state.themeChange,editScenePlayVideo:this.state.editScenePlayVideo,project_id:this.state.project_id,videoDuration:this.state.videoDuration,videoTotalDurationInSeconds:this.state.videoTotalDurationInSeconds,videoDurationLimit:this.state.videoDurationLimit,videoDurationLimitWithGrace:this.state.videoDurationLimitWithGrace,videoDurationToolTip:this.state.videoDurationToolTip,aspectRatioClass:this.state.aspectRatioClass,aspectRatioFractionValue:this.state.aspectRatioFractionValue,checkImageZoom:this.checkImageZoom,checkVoiceOver:this.checkVoiceOver,checkMusic:this.checkMusic,checkLoopVideo:this.checkLoopVideo,applyLoopVideoToAllScene:this.applyLoopVideoToAllScene,checkHideText:this.checkHideText,checkAllScene:this.checkAllScene,undo:this.state.past.length>0?this.onUndo:null,redo:this.state.future.length>0?this.onRedo:null,applyToAllScenes:this.state.applyToAllScenes,trimScene:this.trimScene,openTextures:this.openTextures,showFocusOverlay:this.state.showFocusOverlay,user:this.state.user,trimVideoNotAllowed:this.trimVideoNotAllowed,recordAudio:this.recordAudio,getAudioFavouritesAndRecent:this.getAudioFavouritesAndRecent,source:this.state.source,frameAspectRatio:this.state.frameAspectRatio,frameSize:te,setFrameCoordinates:this.setFrameCoordinates,projectName:this.state.projectName,showAudioTrimmer:this.state.showAudioTrimmer,toggleAudioTrimmer:this.toggleAudioTrimmer,saveTrimmedAudio:this.saveTrimmedAudio,SaveButtonText:this.state.SaveButtonText,openTab:this.openTab,timePerFrame:this.state.timePerFrame,saveTextNextSceneCounter:this.state.saveTextNextSceneCounter,removeTranscriptionScenebRoll:this.removeTranscriptionScenebRoll,allowReelFastVideo:(0,ye.Lv)(this.state.username),templateName:this.state.templateMetaData&&this.state.templateMetaData.name,isNewPreviewPlaying:this.state.isNewPreviewPlaying,addStyleToTemplate:this.addStyleToTemplate,setEditorFocusItem:function(e){return Y.setState({editorFocusItem:e})},removeRecordedAudio:this.removeRecordedAudio,pausePreview:this.pausePreview,elevateStoryboardScriptTab:this.elevateStoryboardScriptTab,onChangeAspectRatio:this.updateAspectRatio,removeVoiceOver:this.removeVoiceOverTrackFromStorage,durationUpdatedScenes:this.state.durationUpdatedScenes,updateDuration:this.updateVideoduration,selectedBrand:null===(B=this.props.userBrands)||void 0===B?void 0:B.find((function(e){return e.id==Y.state.brandId})),onSceneDurationUpdate:this.onSceneDurationUpdate}):(0,ue.jsxs)("div",{className:"top-probox",children:[(0,ue.jsx)("div",{className:"blockbxhide-top mb-0 ml-4 mt-4 mr-4"}),(0,ue.jsx)("div",{className:"block-footer mt-0 mb-0 ml-4 mr-4"})]})})]}),(0,ue.jsxs)("div",{className:"col p-0 bottom-scene-section",style:{flexGrow:"unset"},children:[(0,ue.jsxs)("div",{className:"card block-3 no-border no-background",children:[!1===this.state.showSceneStrip&&this.displaySceneStripDummy(),this.state.showSceneStrip&&!this.state.showInitialLoadingBar&&this.state.subSentencesArray.length>0&&!this.state.displayGenerateVideo&&!this.state.showPreviewProgress?(0,ue.jsx)(ct,{reorderScene:this.reorderScene,loadMoreSentences:this.loadMoreSentences,loadMoreScenes:this.state.loadMoreScenes,createElementsProgress:this.props.createElementsProgress,isVideoProgressDialogOpen:this.props.isVideoProgressDialogOpen,animationTheme:this.state.animationTheme,changeActiveDiv:this.changeActiveDiv,refresh:this.state.refreshAllScenePanel,UpdateAllScenePanel:this.UpdateAllScenePanel,subSentencesArrayDetail:this.state.subSentencesArray,hideShowOverlay:this.hideShowOverlay,updateAllAssets:this.updateAllAssets,isPrevious:this.state.isPrevious,imageURL:this.state.imageURL,isOverlayShown:this.isOverlayShown,sentences:this.state.sentences,totalNumberOfSentences:this.state.subSentencesArray.length,Url:this.state.url,allImagesUrl:this.state.imageURL,brandSetting:this.state.brandSetting,imageAssests:this.state.imageAssests,project_id:this.state.project_id,aspectRatioClass:this.state.aspectRatioClass,getSentenceKeywordSuggestions:this.props.getSentenceKeywordSuggestions,scriptLanguage:this.state.scriptLanguage,currentActiveDiv:this.state.currentActiveDiv,user:this.state.user,updateSettings:this.updateSettings,openTab:this.openTab,SetTransition:this.SetTransition,RemoveTransition:this.RemoveTransition,RemoveAllTransitions:this.RemoveAllTransitions,transitionsEnabled:!0}):(0,ue.jsx)("div",{className:"bottom-probox"})]}),!this.state.showAudioTrimmer&&(0,ue.jsx)(z.t0,{node:this.audioTrimmerPortalNode})]})]})]})})]})]}),this.state.goToPreviousConfirm?(0,ue.jsx)(T.default,{icon:this.state.dialogWithButtonAndIcon.icon,iconBgPaletteColor:this.state.dialogWithButtonAndIcon.iconBgPaletteColor,open:!!this.state.dialogWithButtonAndIcon,title:this.state.dialogWithButtonAndIcon.title,message:this.state.dialogWithButtonAndIcon.message,primaryButtonLabel:this.state.dialogWithButtonAndIcon.primaryButtonLabel,primaryButtonOnClick:this.state.dialogWithButtonAndIcon.primaryButtonOnClick,secondaryButtonLabel:this.state.dialogWithButtonAndIcon.secondaryButtonLabel,secondaryButtonOnClick:this.state.dialogWithButtonAndIcon.secondaryButtonOnClick}):(0,ue.jsx)(ue.Fragment,{}),(0,ue.jsx)("div",{className:"VideoProgressBar confirmation-box",id:"isAnyUpdate",style:{left:"0px",display:this.state.isAnyUpdate?"block":"none"},children:(0,ue.jsx)("div",{className:"modal-dialog",children:(0,ue.jsx)("div",{className:"modal-content",children:(0,ue.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,ue.jsxs)("div",{className:"modal-header",children:[(0,ue.jsx)("h4",{className:"modal-title",children:"Confirm"}),(0,ue.jsx)("span",{className:"close",onClick:this.CloseUpdateBox.bind(this,"Cancel"),children:"×"})]}),(0,ue.jsxs)("div",{className:"modal-bodys",children:[(0,ue.jsx)("span",{className:"d-block mb-3",children:"Do you want to save the changes before leaving?"}),(0,ue.jsxs)("div",{className:"col-12 p-0 text-center bottom-box-btn",children:[(0,ue.jsx)("button",{className:"btn btn-submit btn-span",onClick:this.CloseUpdateBox.bind(this,"Yes"),children:"Yes"}),(0,ue.jsx)("button",{className:"btn btn-default del-btn ml-2 btn-span",onClick:this.CloseUpdateBox.bind(this,"No"),children:"No"})]})]})]})})})}),(0,ue.jsx)("div",{id:"step-3-modal",className:"upgrade-modal modal fade",role:"dialog",children:(0,ue.jsx)("div",{className:"modal-dialog",children:(0,ue.jsxs)("div",{className:"modal-content",children:[(0,ue.jsx)("div",{className:"modal-header ".concat(this.state.quotaExceeded?"white-header":""),children:(0,ue.jsxs)("h4",{className:"modal-title",children:[this.state.quotaExceeded?"Video limit reached!":"Upgrade to Professional!",(0,ue.jsx)("span",{className:"close",onClick:this.hideUpgradeModal.bind(this),children:"×"})]})}),(0,ue.jsxs)("div",{className:"modal-body",children:[this.state.quotaExceeded?(0,ue.jsxs)("p",{children:["Your have reached the video limit of your current",(0,ue.jsx)("h3",{className:"header blue",children:this.state.planName}),(0,ue.jsx)("br",{}),"Please upgrade to generate more videos"]}):this.state.trimVideoNotAllowed?(0,ue.jsxs)("p",{children:["Trim video clips ",(0,ue.jsx)("br",{}),"with a Professional plan"]}):this.state.transitionsNotAllowed?(0,ue.jsxs)("p",{children:["Add scene transitions ",(0,ue.jsx)("br",{}),"with a Professional plan"]}):this.state.musicTrackNotAllowed?(0,ue.jsxs)("p",{children:["Apply custom music tracks ",(0,ue.jsx)("br",{}),"with a Professional plan"]}):(0,ue.jsxs)("p",{children:["Create HD 1080p videos ",(0,ue.jsx)("br",{}),"with a Professional plan"]}),(0,ue.jsx)("div",{className:"button-container horizontal buttonsStep2head",children:(0,ue.jsx)("a",{className:"btn btn--nexts2 btn-submit",onClick:function(e){return Y.hideUpgradeModal(e,(Y.state.quotaExceeded,!0))},children:(this.state.quotaExceeded,"See plans")})})]})]})})}),(0,ue.jsx)("div",{className:"VideoProgressBar confirmation-box",id:"isAskBrandSetting",style:{left:"0px",display:this.state.popupAskBrandSettingChange?"block":"none"},children:(0,ue.jsx)("div",{className:"modal-dialog",children:(0,ue.jsx)("div",{className:"modal-content",children:(0,ue.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,ue.jsxs)("div",{className:"modal-header",children:[(0,ue.jsx)("h4",{className:"modal-title",children:"Confirm"}),(0,ue.jsx)("span",{className:"close",onClick:this.ApplyNewBrandSetting.bind(this,"Cancel"),children:"×"})]}),(0,ue.jsxs)("div",{className:"modal-bodys",children:[(0,ue.jsx)("span",{className:"d-block mb-3",children:"Do you want to apply the new brand settings to this project?"}),(0,ue.jsxs)("div",{className:"col-12 p-0 text-center bottom-box-btn",children:[(0,ue.jsx)("button",{className:"btn btn-submit btn-span",onClick:this.ApplyNewBrandSetting.bind(this,"Yes"),children:"Yes"}),(0,ue.jsx)("button",{className:"btn btn-default del-btn ml-2 btn-span",onClick:this.ApplyNewBrandSetting.bind(this,"No"),children:"No"})]})]})]})})})}),(0,ue.jsx)(C._c,{open:this.state.showIntroOutroVOConfirm,title:"Does your voice-over include intro and outro?",msg:"Your video has an intro and outro. This information will help us better synchronize the audio to your video",onClose:function(){return Y.setState({showIntroOutroVOConfirm:!1})},actions:(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(v.Z,{variant:"contained",onClick:function(){return Y.introOutroVOConfirm(!1)},children:"No, it does not"}),(0,ue.jsx)(v.Z,{variant:"contained",onClick:function(){return Y.introOutroVOConfirm(!0)},children:"Yes, it does"})]}),children:(0,ue.jsxs)(x.Z,{direction:"row",spacing:2,children:[(0,ue.jsx)("img",{src:vt,width:"120px"}),(0,ue.jsx)("div",{children:"Your video has an intro and outro. This information will help us better synchronize the audio to your video."})]})}),this.state.isInvalidSceneDuration?(0,ue.jsx)(T.default,{icon:(0,ue.jsx)(xe.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:this.state.isInvalidSceneDuration,title:"Invalid scene duration",message:"Kindly check the scene duration for all scenes and try again. If you still face any issue, kindly contact support@pictory.ai.",primaryButtonLabel:"Close",primaryButtonOnClick:function(){return Y.setState({isInvalidSceneDuration:!1})},primaryButtonColor:"error.main"}):(0,ue.jsx)(ue.Fragment,{}),this.state.showAutoSyncVoiceover&&(0,ue.jsx)(Yt.Z,{steps:2,heading:"Auto syncing voice-over",step1ProgressMessage:"Auto syncing voiceover",step2ProgressMessage:"Generating preview",step1Progress:this.state.autoSyncProgress,step2Progress:this.state.previewProgress,transparentBackground:!0,onStopProgress:this.onClosePreviewProgress,image:vt,errorMsgStep1:this.state.voiceOverErrorMsgStep1,errorMsgStep2:this.state.voiceOverErrorMsgStep2,onButtonClick:function(){return Y.setState({showAutoSyncVoiceover:!1})}}),this.state.openVisualsFetchErrorDialog&&(0,ue.jsx)(T.default,{icon:(0,ue.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA9iSURBVHgB7VppcF11Ff+d+15edpI2EbogSQu1YHVIZVzRMa1OGUSGKS7jbh31gzIKOo4faTsO4xdHW8cZx1GhuKGIVPygoyO2QKnI1hQKSFvaVwqFhrZJ2pfkLff+j+e/3vtYkpeQ8sWcmZd73313+Z/f+Z31BpiXeZmXeZmXefm/FcIbLLznPf2I435Eqh/IAUkiB2kUkXxkS+96aAhvoJx1AEThQUANgvmDILpUHrkAbH6B3SoWxe06ZFdWJEDwkHx2Is7dRZefXUDOCgC8Z7AbauIG5OiL8q1PFCU4HWXPKawV1yC4H5j1d7KgwIJhjqMITjYBLffQex8oYo5lTgEwikMUB10vX7uF1tbK+ikeAK20+SMHDADuBHNY1bNCKXuN2ajDsr0VVWylNUOjmCOZMwAs1fkW0avf3lk0iSJrWfKP0igwp/Qna3EDgiitWJ8kW1hwgJQJGgz9MythBDbR+4duxRzI6wbA0n18k9D9m9Am13eMYC2s1SOySnmLw321V7NxD6O/su7hldeKs2eAO0/VgbJFQPgWXqe8LgBMRGe1Xe4yYIyrKR983Vi8nv7mOKcxQFvcKO1igVHMKw8EF1GcssRsHIox70WB1tN7h4qYpcwaAKf8DrlDv1U+ssrpfYrsvS0TMk9xlPckMAo6bRXVW97pmyrt3YOpHiAcRkJrJS4UMQuZFQBGeSXKR+izCkMDQI4FVkW9JWd+E/mZ6h6X9XGvsFcqUZY1euuZYrIEEFyEM0zB7EGIMBtJku3G8lZ7UdArHzmFNRucP7hTJEYwcpEFyH7cChxolMEncsg4L5LfOPhXcCcKjxcwlklhdSfvGOjGDGXGAPDDl22Rqy410Efg1MedhWwQ9He3ihp2RClTjC4RG1A8ChYADgprAI0LZQMLp27m6UKeShKHIrURM5QZuQA/+M4NyPHNdnGRXUTkfN6A4ZQTi46crNChA6Noay9g8QUd6O5tYZfvKeR5ThiJW4Omu6e2xIXyeEzHnhs3z1iyqBUtLXlbNgO2gFKojwXBHaI14go7G9WpYQBMukvO7JEH9IvlnLUIQWl9p1zEz+w/TXf/9QgOHzjt1mbXe/Wn34IPrLvAF0KZRatM6lPm2L69J3DHbw+hXI5NFtW3fsdlPfjwhxdxd1ezLZAsCFZ7E0B9ncBFWePqRoulPBqVaukGsXp/iODknJZcVSf7t//uEO345zEXnAmtbTm0tjdxa3ueRs7ECJWh/qstb+6lDyqriKU2PfToKKpRDhX5OjkRm8P/2nUCO+4/QVeuW4yPXrHYrcExgbJZgWSNSleimxtRqyEG8L8HxOrRv8TayyzVhQKRPC2KAgN+8tMDuPe+YaF8HmvXLsI73/0mvmTVAucSkQ2CpuhRVnlWaX63lvfRPnOcMTFew1NPn+aHHh6hHbtPGDCu/cgifPKqJS57OIqpUFXq54zKupY3woIGGRANiqb9LhaRK2VDTt9227PY/o9hfOKapfj8p/vQ3tkkl+TIssOF+5DmdMBL2DGBwnF357Dvyr22thxddmk3Xfb2Lqy/ejF+/adj+MUfjyOXz+Fj63o5U1twoB5DOs7GWNAYAISN9hEqze2O/i8Ml+kPd72IH3zv7Vh9abdLS05jHehI+3jkE1poBUIcMFE9Aygy1/pzHFTn9RToO1/tR9/5bfj9347jfau7aHFvIb0my2jGhkYAmNYF+MGBAVFgTyh1fVayKQ0vvlRFaULhogvbM79H6Xk2O3jr2gtZ2cJIZejuCyAT1OA6QdlPlC2CsoFSNgeKE+hszWFRb1OaFRjZYolR47V05b6dU+k3PQOS6Jo00Pk6nq2Ssll0bsGVvs6s2hdzdu1nxhNzVUdHkwWanCKUSWG21E2t7+MElGOBz7U+UNpIuuKCVnu+cjMEmwFSl9LXRvRB2ds5lXoNFEI86MoThK3dB7Idi8ocEyvt2v0SPvOFB3D1tffRHXc+663uF22v8y0ugDAncKfsenCUPvqFR/Cp6x6jg8VS6go+SBJxusa64JE5LGufRqYHQPFAeIC3mPtuAm5CpBImJcqoWJGubfR5t9xyCOe2xOhfCNxxexHjZ2JL68Tl/sSaLDQ3oTVmlEoJ3fybI+htjpGrVnDTloMuyGU6qzA9IhdLQoJN90ED06k3JQDG/0HdAX1z0LayxqB6npnEzHECjtl8BAQ8tvcU2pIyulsZUgiinWLs2zeCkP6SkO5cAaOQAgEcPVpCh6pioYSV7lbxl0oVh49MUJga1VVT7BV32cABaSyEbr57dd9UOk4dAyp6rOWp58DX9xc/t4xWtjo3J4h2pi4gadEVCrLbJLFA8EBe9hOp6uzF/n5OGXZpLDP5GT1VQSFne6dEnq+vr5QTACEWIVUycz/DBj94cXPIRCbQwJHXUnFqF+CkG2FeFw6ytbwypTzHms6JsEC7QGI+LU2RYXqcpLfq6SlYyyvOtLRkA57yAdQ+pF0qSA2cTgC+1iBrBAq53l7hGyVn/5BjUVcZTiHTZIFc2l664MMShVkpC4BlsuvHHBdkOUvObUHnOc0YG6sYZvf0NmPlWzrY0ldPfpJQFaRRXP8WmfiwYkUn8oU8VSuJAaFnQQErL+pIK0WrmAus+n7IFlvOBRxbclNrOE0QTGzeTRsAOIu5GGAYAMcAGVHJD4ky+xs+t9yA0NScw8ev7dPxgqyfZ8ZaKlPK6lRnS1u0Nufpc5/p586uAgotOXz9y8uA+rkaQrHkg17KUkrHblaFqaSxSpDTJC1rJHYFjAHABHXb4rKUufvf9Fn0jD+MpecexI3fXQXKSzoWJ5ZAyZSL0jLRDkiprirMpMmBt3XTwKouryjsw7Sq5M/N1CZucXWltfs94in7gakZkOSKtgpTqU9JztMfVtZg4teSA5knc0tp1/KfY3fPd5CvSitciy07RHETG2qKdIZwqY6Cu7JjhP+uUF8CM2VHX5xe50fs8BEgU6OkoyLTGE0h0zGgaDcUArisnQxTY9fNyYJPt16Chy/8EUZyS1CqwKRHTT3OGMdmDLaTIGt52yf4AYnKVoPsyo1M1lCZqO+Djrc2U/2xUByI1JKxqRSckgFmyMg0lgZXZxzlKhbZnlqwhvde/AuUC0tQld+qmhU12anpWMDa8sIGZQAztYKu95ViX9mGFBhY4Bhhyg1DeWfdTPRPlafAGBNQM0wwc8pojK56cmjWALhHDfmQrZ0/+L88bKL9Euxf+WNKmjrNGYm3oLZ+LAs3TJBtbLKGDpACCBOzC6ghEKK+KTKB1gERyuxMOnb4AxnvzxZrFOqDaV+sTg8AyVta9wBdANnuVXG1eSkOrvqleVbkx3ouLCGxVSHMRzNBAyKXxeyZQH78ZZULdHDjLTsaNZolnGmjVcoaPVdQqG9+0ljtfXbndOo10Auoe1K006h/8K03I8l3hnEgkRv+yO/DhZV65sFWWdf5JcrFjcQwgT0APoqHUjgERYZvb32xFPwd6XXIfK/rmETi+K7p1JsWAFqzTzOg6NHWf1684DpUWxabi+2bAFMaIC8gNOmyNeq0ihvLGysy19gyI7EZLTP2okxLS8Etsv7MlPF9Tt3AxSGX8tJSwbTMKE7n/1oanQhtkwdu1HuVwlKc6r3GHDT0p7RMMq8BZDvcejFWOfBN16qB0E8SIHY/WqL/PHEGj+8fx/GTVXOX5W9uwXky2ZEJD9ZdvjCdORiVOfMCNVPxGTAoVb4uDZoYsxkNSKMzwa1ituuF5gtK57xLIv5S85AI5IKfHfCYFz6CwHD7SluB6XVFJi3Sk0fG8ZM7j9GJkRhtBTaN0nmdVo/TpyYxPDyJRx4bw+/+8gLdeN0yLF/akrF08G7f5dkYofyhV4gwtnoPGtGskZPMdDWirXoZxxdeDc/gWE+dTAVMZl+LRnR/xztQpk4b4MTd7x0aw023HpHUWMOSLulRZZij22T9rkN/2mR/YZtMl86Re07W8O2b9uPu3SPO3yktkNIsYJmB7MeA6YuGbXTlf4uN6DaDV2OaBSiWWi42Fo9NzidU5FPWILhJl0wGUKomeGDhVQalEyM12vb359ErChZy0z+lVcDo7QB+9oejKD43ibp5n293w1YLZZ3f+D4mSlvRoDT8YkSz4Oh9X/lSKerckWM7xtdAaBAmw8tdobNUQmcqMZ5sHcAgbsMv//E8pCcy0nNOEy7qa8ebF7WgrSOnJ+fmHyh0Ajsp8eClkSrtPzyOkyNVdIkH/OrPx3Dj15YjVHehBwjKvookm2h9seF/oWn8zZDIb87/eXGFRHNp140L6MBeTthUfwWyaf8FeZFRqtTwdOFCDQk/f2KC3nNJF969qhsr+tpA+pVBE7EoT7KVGYr7X4JU+OixMv3z/pew65ER1NE+SJ3FzXNc6b+VrnjiVsxACDOULYcUL2ohSXlWcf9uUwNyUPr/p0YqwoAa3lYewuYXvsGTEiBaZawVNYkKAnck3SHJlvIR5SRnRjaNcKbBCcpOlBXapJ2uq/JeqYHPCXvpisdWY4Yy49fjpQQ7j1cYIzXJ966WmZACZ5+MsQ6MVTE6WcVELUF/5YCenVBrc+YRtpHyKc0VgPC9QKZDtJ+2QoQwLa4Ldhmx1+movx6zkBm5gJbJONlcTmiw2RmuJI3OsETuUZn5jZZrmKjGOB/DuKp0O/m4ZQZZTOkgm8maWoMRuRxOmQmPPYlfSfWs+FaYjki3tbbRqP9ymbELaPn6nsrGyVptU0UsX5ZPSXr/ck3vJ+iicfxw9AZeXjtIYe061uV1nazMUISE1Yb++UhiQUSplf0FeJXvyHx14Cj9H6XV9bNV3twOs5RP3T+yYTLBF6uxGqxIbV+Ix3CRegbfPvN9nFd7EeGFh3kKG2eL8makSCRVUCRNgwEg/3IAgNeO8Blh3oLJM5tnEvFfTWYNQFY+cvdI359OXr5GdjdKHd+n3KtqSpXS/+5iW3SxvrBAg2FGZSYIvtzaaWCjelcwUhRAN9C6x+/BHMicAOCFtw90l6vV68WVN8jXfj+nMHHAtIp2qzNBlJMqOadz4aveicNIKwVlVG61BROnt75eq2dlTgHwMnLbxf2S7gelzrlRtF7mu3uxPtt/IJMUKHnUuIP/b7Hw6gup7laK8tk214p7OSsAZKV0+1sHxOWvkSwwKOPAAbF8l0R+kuDnplYu+vt/gWMl1Q9JGytzCKKdc0X115KzDsDLpbpdAGnOCQjy2o3IvnjRPUIkuZzjIn3oqSOYl3mZl3mZl3mZlzdC/gf3tozzZirwSAAAAABJRU5ErkJggg=="}),iconBgPaletteColor:"warning.lighter",open:!!this.state.openVisualsFetchErrorDialog,title:this.state.retryVisualFetch?"Refetch visuals":"We are sorry for the inconvenience!",message:this.state.retryVisualFetch?"No visuals in the project. Please try again by clicking 'Retry'.":(0,ue.jsxs)(ue.Fragment,{children:["Our servers are currently experiencing a high volume of requests, preventing our AI from selecting visuals.",(0,ue.jsx)("br",{}),(0,ue.jsx)("br",{}),"We assure you that the issue will be resolved at the earliest."]}),primaryButtonLabel:this.state.retryVisualFetch?"Retry":"Manually select visuals",primaryButtonOnClick:function(){Y.setState({openVisualsFetchErrorDialog:!1}),Y.getSummaryImages()},secondaryButtonLabel:"I'll try later",secondaryButtonOnClick:(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.getSummaryImages(),e.next=3,Y.setState({tryLaterGotoStep1:!0,openVisualsFetchErrorDialog:!1,goToPreviousConfirm:!1});case 3:setTimeout((function(){Y.gotoCreateVideoStep2()}),100);case 4:case"end":return e.stop()}}),e)}))),onClose:function(){return Y.setState({openVisualsFetchErrorDialog:!1})}}),this.state.displayGenerateVideo&&4!==(null===(W=this.props.videoGenerationProgress)||void 0===W?void 0:W.step)&&(0,ue.jsx)(ge,{open:!(!this.state.displayGenerateVideo||4===(null===(J=this.props.videoGenerationProgress)||void 0===J?void 0:J.step)),enableRunInBackgroundButton:this.state.hasExportID&&this.props.videoGenerationProgress.step<=3&&!this.state.generateCSV,videoGenerationProgress:this.props.videoGenerationProgress,cancelGenerateVideo:this.CloseGenerateVideo.bind(),runInBackgroundMode:this.minimizeVideoGeneration}),this.state.displayGenerateVideo&&4==(null===(H=this.props.videoGenerationProgress)||void 0===H?void 0:H.step)&&(0,ue.jsx)(Or.Z,{open:!(!this.state.displayGenerateVideo||4!=(null===(K=this.props.videoGenerationProgress)||void 0===K?void 0:K.step)),downloadVideo:this.DownloadVideo,downloadAudio:this.downloadAudio,audioURL:q.Z.Instance.GetVideoUrlFromCDN(this.state.audioURL),videoURL:q.Z.Instance.GetVideoUrlFromCDN(this.state.videoURL),downloadTextFile:this.selectSubtitle,project_id:this.state.project_id,projectName:this.state.projectName,srtFile:this.state.srtFile,vttFile:this.state.vttFile,txtFile:this.state.txtFile,previewJson:this.state.previewJson,videoThumbnail:this.state.videoThumbnail,gotoMyProjects:this.gotoMyVideo,onClose:function(){return Y.setState({displayGenerateVideo:!1})}}),(0,ue.jsx)(Pt.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,severity:this.state.alertSeverity?this.state.alertSeverity:"success",onClose:function(){return Y.setState({showAlertNotification:void 0})}}),(0,ue.jsx)(on.Z,{})]})]})}}],[{key:"getFrontFontName",value:function(e){return"Arial-Bold"===e?e="Arial; font-weight: bold":"Calibri-Bold"===e?e="Calibri; font-weight: bold":"Helvetica"===e||"Helvetica-Regular"===e?e="'Helvetica'; font-weight: normal":"HelveticaNeue-Medium"===e?e="Helvetica Neue; font-weight: bold":"Lato-Bold"===e?e="Lato; font-weight: bold":"Lato-Black"===e?e="Lato; font-weight: 900":"Lato"===e?e="Lato":"Merriweather-Bold"===e?e="Merriweather; font-weight: bold":"Montserrat-Bold"===e?e="Montserrat; font-weight: bold":"NotoSans"===e?e="Noto Sans":"NotoSans-Bold"===e?e="Noto Sans; font-weight: bold":"OpenSans"===e?e="Open Sans":"OpenSans-Bold"===e?e="Open Sans; font-weight: bold":"Poppins"===e?e="Poppins":"Poppins-Bold"===e?e="Poppins; font-weight: bold":"Poppins-ExtraBold"===e?e="Poppins; font-weight: 900":"Quicksand"===e?e="Quicksand":"Quicksand-Bold"===e?e="Quicksand; font-weight: bold":"Roboto"===e?e="Roboto":"Roboto-Bold"===e?e="Roboto; font-weight: bold":"Rokkitt"===e?e="Rokkitt":"Rokkitt-Bold"===e?e="Rokkitt; font-weight: bold":"SourceSansPro"===e?e="Source Sans Pro":"SourceSansPro-Bold"===e?e="Source Sans Pro; font-weight: bold":"Ubuntu"===e?e="Ubuntu":"Ubuntu-Bold"===e?e="Ubuntu; font-weight: bold":"ProximaNova"===e?e="ProximaNova; font-weight: normal":"Anton"===e?e="Anton":"Barlow"===e?e="Barlow":"BarlowBlack"===e||"Barlow Black"===e?e="Barlow; font-weight: 900":"BebasNeue"===e?e="Bebas Neue":"Caprasimo"===e?e="Caprasimo":"Capriola"===e?e="Capriola":"CarterOne"===e?e="Carter One":"ChakraPetch"===e?e="Chakra Petch":"Chewy"===e?e="Chewy":"Comfortaa"===e?e="Comfortaa":"Dangrek"===e?e="Dangrek":"DeliusUnicase"===e?e="Delius Unicase":"Gruppo"===e?e="Gruppo":"JuliusSansOne"===e||"Julius Sans One"===e||"JuliusSans One"===e?e="Julius Sans One":"PatuaOne"===e?e="Patua One":"Raleway"===e?e="Raleway":"RalewayBlack"===e||"Raleway Black"===e?e="Raleway; font-weight: 900":"RalewayThin"===e||"Raleway Thin"===e?e="Raleway; font-weight: 100":"RussoOne"===e?e="Russo One":"Satisfy"===e?e="Satisfy":"SpecialElite"===e?e="Special Elite":"TitilliumWeb"===e?e="Titillium Web":"TitilliumWebBlack"===e||"Titillium Web Black"===e?e="Titillium Web; font-weight: 900":"Unbounded"===e&&(e="Unbounded"),e}}]),K}(L.Component),Ca=(0,W.$j)((function(e){return{allVideos:e.myVideos.allVideos.videos,allVideosStatus:e.myVideos.allVideos.status,brandSettings:e.brandSettings.brandSettings,saveSettingsStatus:e.brandSettings.saveSettingsStatus,saveProjectStatus:e.myVideos.duplicateProjectStatus,currentProjectVersionId:e.myVideos.currentProjectVersionId,allVideosAndImages:e.createVideoStepThree.allVideosAndImages,videoProgress:e.createVideoStepThree.videoProgress,generateVideoData:e.createVideoStepThree.generateVideoData,voiceOverData:e.createVideoStepThree.voiceOverDataForPreview,saveAudioStatus:e.favouriteAndRecents.saveAudioStatus,deleteAudioStatus:e.favouriteAndRecents.deleteAudioStatus,audioFavsAndRecent:e.favouriteAndRecents.audioFavsAndRecent.audio,audioFavsAndRecentStatus:e.favouriteAndRecents.audioFavsAndRecent.status,articleAudios:e.createVideoStepThree.articleAudios,findProjectMusicResult:e.music.findProjectMusicResult,musicResult:e.music.musicResult,musicTrack:e.music.music,gettingArticleAudios:e.createVideoStepThree.gettingArticleAudios,presentState:e.undoRedo.present,canRedo:e.undoRedo.future.length>0,canUndo:e.undoRedo.past.length>1,pastState:e.undoRedo.past,futureState:e.undoRedo.future,videoGenerationProgress:e.createVideoStepThree.videoGenerationProgress,favoriteVisualsResult:e.favouriteAndRecents.favoriteVisualsResult,recentVisualsResult:e.favouriteAndRecents.recentVisualsResult,imageList:e.uploadImage.imageListResult.Items,assetsSearchProgress:e.createVideoStepThree.assetsSearchProgress,assetResponseId:e.createVideoStepThree.assetsSearchProgress.response_id,searchCategories:e.visualsSearch.searchCategories,allSummaryAssets:e.visualsSearch.savedAssets,asyncVideoGenData:e.createVideoStepThree.asyncVideoGenData,asyncCompleteData:e.createVideoStepThree.asyncCompleteData,activeProject:e.myVideos.activeProject,hostApp:e.login.hostApp,videoPostSuccesfulLoginFlag:e.videoPosts.videoPostSuccesfulLoginFlag,videoPostFailedLoginFlag:e.videoPosts.videoPostFailedLoginFlag,projectSceneLevelAudio:e.createVideoStepThree.projectSceneLevelAudio,sentenceKeywordSuggestions:e.createVideoStepThree.sentenceKeywordSuggestions,stoppedProject:e.header.stoppedProject,sharePreviewResult:e.createVideoStepThree.sharePreviewResult,sharedPreviewUrl:e.createVideoStepThree.sharedPreviewUrl,teamUsers:e.teams.teamUsersResult,importAudioStatus:e.favouriteAndRecents.importAudioStatus,importAudioMappings:e.favouriteAndRecents.importAudioMappings,importImageStatus:e.uploadImage.importImageStatus,importImageMappings:e.uploadImage.importImageMappings,userBrands:e.branding.userBrandsResult,voiceOverDeleteResult:e.createVideoStepThree.voiceOverDeleteResult,voiceOverDataResponseID:e.createVideoStepThree.voiceOverDataResponseID,voiceoverprogressStatus:e.createVideoStepThree.voiceoverprogressStatus}}),{getMyVideos:os,getBrandSettings:cs,fetchAllVideosAndImages:ls,searchAllAssets:us,saveBrandSettings:ds,saveProject:ps,getVideoProgress:hs,generateVideo:ms,getVoiceOverTrackForPreview:gs,deleteAudioFavAndRecents:fs,saveAudioFavAndRecents:vs,getAudioFavAndRecents:xs,deleteGeneratedVideo:Ss,getArticleAudios:ys,findProjectMusic:bs,getProjectMusic:js,getMusicById:ws,getCurrentSubscription:Zs,quotaUtilization:ks,storeUndoableData:Cs,undo:Rs,redo:Ps,clearUndoHistory:Ns,getFavoriteVisuals:Is,getRecentVisuals:Ts,getImageList:Es,getMoreImages:As,searchCategoriesBegin:_s,resetAssetsSearchStatus:Os,getSavedAssets:Ds,generateCSV:Us,getTranscriptionScenes:Ls,generateAsyncVideo:Fs,showErrorNotification:Vs,openProject:Bs,openPreviewProject:Ms,projectOpened:Gs,stopVideoGeneration:Ws,saveRecentImages:zs,generateVideoStatus:Js,initiateVideoPostsLogin:Hs,createElementsProgress:Ks,getSceneLevelAudio:qs,getSentenceKeywordSuggestions:Ys,getStylesByAttributes:Qs,sharePreview:Xs,getTeamUsersRequest:$s,importAudio:ea,importImage:ta,getUserBrandsRequest:na,getUserPreferenceRequest:ra,getStyles:sa})(ka)},75772:function(e,t,n){"use strict";n.d(t,{xA:function(){return Kt},ZP:function(){return Yt},v2:function(){return Qt}});var r=n(93433),s=n(1413),a=n(74165),i=n(4942),o=n(15861),c=n(15671),l=n(43144),u=n(60136),d=n(29388),p=n(8586),h=n(91325),m=n(90119),g=n(23812),f=n(68728),v=n(73190),x=n(48608),S=n(31666),y=n(74615),b=n(92769),j=n(3745),w=n(86618),Z=n(5054),k=n(11264),C=n(26124),I=n(63451),T=n(3079),E=n(45987),A=n(47313),_=n(44282),R=n(1851),P=n(56790),N=n(91104),O=n(46417),D=["sceneContextMenu","disablePaste","handleClose","onPaste"];function U(e){var t=e.sceneContextMenu,n=e.disablePaste,r=e.handleClose,a=e.onPaste,i=(0,E.Z)(e,D),o=[{handle:(0,O.jsx)(P.default,{icon:(0,O.jsx)(R.Z,{fontSize:"small"}),text:"Paste",keyboardShortcut:"MacOS"===(0,N.L9)()?"⌘V":"Ctrl+V"}),condition:function(){return!0},onClick:a,disabled:n}];return(0,O.jsx)(_.Z,(0,s.Z)({open:null!==t,onClose:r,anchorReference:"anchorPosition",anchorPosition:null!==t?{top:t.mouseY,left:t.mouseX}:void 0,menu:o},i))}var L=n(6598),F=n(68537),V=["contextMenu","handleClose","onCopy","deleteDisplayItem","duplicateDisplayItem","copyDisplayItemToAll"];function B(e){var t=e.contextMenu,n=e.handleClose,r=e.onCopy,a=e.deleteDisplayItem,i=e.duplicateDisplayItem,o=e.copyDisplayItemToAll,c=(0,E.Z)(e,V),l=[{handle:(0,O.jsx)(P.default,{icon:(0,O.jsx)(S.Z,{fontSize:"small"}),text:"Copy",keyboardShortcut:"MacOS"===(0,N.L9)()?"⌘C":"Ctrl+C"}),condition:function(){return!0},onClick:r},{handle:(0,O.jsx)(P.default,{icon:(0,O.jsx)(L.Z,{fontSize:"small"}),text:"Duplicate"}),condition:function(){return!0},onClick:i},{handle:(0,O.jsx)(P.default,{icon:(0,O.jsx)(h.Z,{fontSize:"small"}),text:"Copy to all scenes"}),condition:function(){return!0},onClick:o},{handle:"",divider:!0},{handle:(0,O.jsx)(P.default,{icon:(0,O.jsx)(F.Z,{fontSize:"small",sx:{color:"error.main"}}),text:"Delete",textColor:"error.main",keyboardShortcut:"Del"}),condition:function(){return!0},onClick:a}];return(0,O.jsx)(_.Z,(0,s.Z)({open:null!==t,onClose:n,anchorReference:"anchorPosition",anchorPosition:null!==t?{top:t.mouseY,left:t.mouseX}:void 0,menu:l},c))}var M=n(9513),G=n(82315),W=n(79136),z=n(42669),J=n(18104),H=n(24873),K=n(62463),q=n(80699),Y=n(605),Q=n(82937),X=n(36368),$=n(95352),ee=n(86366),te=n(14668),ne=n(10298),re=n(61255),se=n(84455),ae=n(51443),ie=n.n(ae),oe=n(78503),ce=(n(17999),n(14108)),le=n(41293),ue=n(76666),de=n.n(ue),pe=n(16031),he=n.n(pe),me=n(30253),ge=n(70816),fe=n.n(ge),ve=n(58890),xe=n(49461),Se=n.n(xe),ye=n(11018),be=n.n(ye),je=n(92145),we=n(1084),Ze=n(32793),ke=(n(89303),n(11043)),Ce=n(18248),Ie=n(10770),Te=n(29439),Ee=n(76384),Ae=n(31170),_e=n(93012),Re=n(94728),Pe=n(30715),Ne=n(61358),Oe=n(85541);function De(e){return(0,O.jsx)(Oe.Z,(0,s.Z)((0,s.Z)({},e),{},{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,O.jsx)("path",{d:"M13 0C10.29 0 7.95 1.54 6.78 3.78C5.5 4.45 4.44 5.5 3.78 6.78C1.54 7.95 0 10.29 0 13C0 16.87 3.13 20 7 20C9.71 20 12.05 18.46 13.22 16.22C14.5 15.55 15.56 14.5 16.22 13.22C18.46 12.05 20 9.71 20 7C20 3.13 16.87 0 13 0ZM7 18C4.24 18 2 15.76 2 13C2 11.88 2.37 10.84 3 10C3 13.87 6.13 17 10 17C9.16 17.63 8.12 18 7 18ZM10 15C7.24 15 5 12.76 5 10C5 8.88 5.37 7.84 6 7C6 10.86 9.13 13.99 13 14C12.16 14.63 11.12 15 10 15ZM14.7 11.7C14.17 11.89 13.6 12 13 12C10.24 12 8 9.76 8 7C8 6.4 8.11 5.83 8.3 5.3C8.83 5.11 9.4 5 10 5C12.76 5 15 7.24 15 10C15 10.6 14.89 11.17 14.7 11.7ZM17 10C17 6.14 13.87 3.01 10 3C10.84 2.37 11.87 2 13 2C15.76 2 18 4.24 18 7C18 8.12 17.63 9.16 17 10Z"})}))}var Ue=n(47439),Le=n(26018),Fe=n(27811),Ve=n(46123),Be=n.n(Ve),Me=n(44906),Ge=["schema","className","children","sx"],We=["children","condition"],ze=["isMouseOutPanel","icon","onIconClick","tooltip","content","condition","boxSx"],Je=A.forwardRef((function(e,t){var n=e.schema,r=e.className,a=e.children,i=e.sx,o=(0,E.Z)(e,Ge),c=A.useState(!1),l=(0,Te.Z)(c,2),u=l[0],d=l[1],p=A.useRef([]);function h(e){var t;null===(t=p.current)||void 0===t||t.forEach((function(t){t.entry!==e&&t.ref.close()}))}return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(K.Z,(0,s.Z)((0,s.Z)({},o),{},{ref:t,direction:"row",justifyContent:"flex-start",alignItems:"center",flexWrap:"wrap",spacing:.4,className:Be()(["editor-panel",r]),sx:(0,s.Z)((0,s.Z)({},i),{},{position:"absolute",px:.2}),onMouseLeave:function(){d(!0)},onMouseEnter:function(){return d(!1)},children:[n.map((function(e,t){if(e){if(e.spacer)return(0,O.jsx)(Ke,{onMouseEnter:function(){return h(e)}});var n=e,r=n.raw,s=n.boxSx,a=n.condition;if(r)return(0,O.jsx)(He,{sx:s,condition:a,onMouseEnter:function(){return h(e)},children:r},t);var i=e,o=i.icon,c=i.onIconClick,l=i.tooltip,d=i.content;return(0,O.jsx)(qe,{ref:function(t){var n;return t&&(null===(n=p.current)||void 0===n?void 0:n.push({ref:t,entry:e}))},icon:o,onIconClick:c,tooltip:l,content:d,condition:a,onMouseEnter:function(){return h(e)},boxSx:s,isMouseOutPanel:u})}})).filter((function(e){return!!e})),a]}))})}));function He(e){var t=e.children,n=e.condition,r=void 0===n?function(){return!0}:n,a=(0,E.Z)(e,We);return(0,O.jsx)(O.Fragment,{children:r()&&(0,O.jsx)(H.Z,(0,s.Z)((0,s.Z)({},a),{},{className:"nav-item",children:t}))})}function Ke(e){return(0,O.jsx)(H.Z,(0,s.Z)((0,s.Z)({},e),{},{sx:{flex:1}}))}var qe=A.forwardRef((function(e,t){var n=e.isMouseOutPanel,r=e.icon,a=e.onIconClick,i=e.tooltip,o=e.content,c=e.condition,l=e.boxSx,u=(0,E.Z)(e,ze),d=A.useState(null),p=(0,Te.Z)(d,2),h=p[0],m=p[1],g=A.useState(!1),f=(0,Te.Z)(g,2),v=f[0],x=f[1],S=function(){m(null)};A.useImperativeHandle(t,(function(){return{close:S}}));var y=Boolean(h)&&!(n&&v)&&(!c||c()),b=y?"text-editor-panel-popover":void 0;return(0,O.jsx)(q.Z,{title:i,placement:"top",arrow:!0,children:(0,O.jsx)(H.Z,{children:(0,O.jsxs)(He,(0,s.Z)((0,s.Z)({},u),{},{onMouseLeave:S,children:[(0,O.jsx)(J.Z,{disabled:!!c&&!c(),onMouseEnter:function(e){m(e.currentTarget)},size:"small",sx:{width:"30px",height:"30px",borderRadius:"4px"},onClick:function(){return null==a?void 0:a()},children:r}),o&&(0,O.jsx)(Me.ZP,{hideBackdrop:!0,disableAutoFocus:!0,id:b,open:y,anchorEl:h,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"left"},componentsProps:{root:{style:{pointerEvents:"none"}}},children:(0,O.jsx)(H.Z,{sx:(0,s.Z)((0,s.Z)({},l),{},{pointerEvents:"all"}),onMouseLeave:function(){return x(!0)},onMouseEnter:function(){return x(!1)},children:o})})]}))})})})),Ye=n(51987),Qe=n(86315),Xe=["children","value","index"];function $e(e){var t=e.children,n=e.value,r=e.index,a=(0,E.Z)(e,Xe);return(0,O.jsx)("div",(0,s.Z)((0,s.Z)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},a),{},{children:n===r&&(0,O.jsx)(H.Z,{sx:{p:3},children:(0,O.jsx)(z.Z,{component:"div",children:t})})}))}function et(e){var t=e.className,n=e.scheme,r=A.useState(0),a=(0,Te.Z)(r,2),i=a[0],o=a[1];return(0,O.jsxs)(H.Z,{className:t,sx:{width:"100%"},children:[(0,O.jsx)(H.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,O.jsx)(Qe.Z,{value:i,onChange:function(e,t){o(t)},"aria-label":"basic tabs example",children:n.map((function(e,t){return(0,O.jsx)(Ye.Z,(0,s.Z)({label:e.label},{id:"simple-tab-".concat(n=t),"aria-controls":"simple-tabpanel-".concat(n)}),t);var n}))})}),n.map((function(e,t){return(0,O.jsx)($e,{value:i,index:t,children:e.children},t)}))]})}var tt=n(43111),nt=n(3249),rt=n(74231),st=n(8690);function at(e){return(0,O.jsx)(Oe.Z,(0,s.Z)((0,s.Z)({},e),{},{width:"544",height:"512",viewBox:"0 0 544 512",fill:"transparent",style:{fill:"transparent"},children:(0,O.jsx)("path",{d:"M513.919 140.44L359.074 321.807L222.201 184.926L403.561 30.0705L403.691 29.9593L403.82 29.846C417.049 18.181 437.056 18.8113 449.517 31.2728L512.717 94.4728C525.191 106.946 525.816 126.951 514.148 140.176L514.032 140.307L513.919 140.44ZM207.827 402.007L172.17 437.664L106.344 371.838L142.074 336.101L151.197 326.976L147.437 314.633L134.387 271.804C134.387 271.804 134.387 271.804 134.387 271.803C133.543 269.033 133.513 266.079 134.302 263.293C135.079 260.551 136.616 258.086 138.733 256.182L164.976 233.782L310.217 379.022L287.706 405.389C283.789 409.751 277.687 411.452 272.059 409.73L229.322 396.651L216.965 392.87L207.827 402.007ZM104.964 476.55L93.9913 487.523L39.5497 470.077L68.5662 440.152L104.964 476.55Z",stroke:"#5F6178",strokeWidth:"43"})}))}var it=n(32599),ot=n(15422),ct=n(52927),lt=n(78896),ut=n(62986),dt=n(22650),pt=n(96161),ht=n(81922),mt=n(33834),gt=n(76543),ft=(n(50384),n(85879)),vt=n(21569),xt=n(75368),St=(n(47536),n(69355)),yt=function(e,t){t=t&&t.animation?t.animation:"";var n=e.find((function(e){return e.value===t}));return n?{minSpeed:n.minSpeed||0,maxSpeed:n.maxSpeed||1,avgSpeed:(n.minSpeed+n.maxSpeed)/2||.5}:{minSpeed:0,maxSpeed:1,avgSpeed:.5}};function bt(e,t,n,r,a){var i=new Date,o="user";return a&&(o="global"),(0,s.Z)((0,s.Z)({},t),{},{metaData:(0,s.Z)((0,s.Z)({},null==t?void 0:t.metaData),{},{name:e,origStyleId:null==t?void 0:t.styleId,styleId:(0,N.DO)(),scope:o,createdBy:r.attributes.email,userId:r.attributes.email,createDate:i,usedDate:i,updatedBy:void 0,updateDate:void 0,isDeleted:void 0}),styleData:{animation:n.animation,format:{case:n.case,decoration:n.decoration||[],fontColor:n.fontColor,fontName:n.fontName,fontSize:n.fontSize,keywordColor:n.keywordColor,textAlign:n.textAlign,textBackgroundColor:n.textBackgroundColor,textShadowColor:n.textShadowColor,textShadowWidthFr:n.textShadowWidthFr},position:{fullWidth:n.fullWidth}}})}var jt=lt.Z.saveTemplate,wt=lt.Z.saveStyle,Zt=lt.Z.getStylesRequest,kt=lt.Z.getTemplateStylesRequest,Ct=(lt.Z.saveUserPreference,(0,we.$j)((function(e){var t,n;return{templatesAndStylesObj:e.templateStyles,savedTemplate:e.templateStyles.savedTemplate,savedStyle:e.templateStyles.savedStyle,userPreferenceColorList:null===(t=e.favouriteAndRecents.getUserPreferenceResult)||void 0===t||null===(n=t.userPreference)||void 0===n?void 0:n.value}}),{saveTemplate:jt,saveStyle:wt,getStyles:Zt,getTemplateStyles:kt,subscriptionHelp:lt.Z.subscriptionHelpRequest,saveUserPreference:lt.Z.saveUserPreference})((function(e){var t,n,s,i,c,l=e.fontColor,u=e.textBackgroundColor,d=e.keywordColor,p=e.textShadowColor,h=e.textShadowWidthFr,m=e.textAlign,g=e.showUnhighlight,f=e.styleDataObject,v=e.isOpenTextEditor,x=e.changeFontColor,S=e.changeTextBackgroundColor,y=e.changeKeywordColor,b=e.changeTextShadow,j=e.getRGBAString,w=e.changePositionPreset,Z=e.applyHighlight,k=e.saveEditorValues,C=e.onDecorationOptionsChange,I=e.onCaseOptionsChange,T=e.onTextAlignChange,E=e.onTextWidthChange,_=e.onPositionChange,R=e.onAnimationStartChanged,P=e.onAnimationEndChanged,D=e.onSaveStyle,U=(e.addStyleToTemplate,e.onFontSelection),L=e.onFontSizeSelection,F=e.onFlip,V=e.templatesAndStylesObj,B=(e.savedTemplate,e.savedStyle,e.saveTemplate,e.saveStyle),M=e.getStyles,G=(e.getTemplateStyles,e.subscriptionHelp,e.project_id),W=e.className,Y=e.editorFocusItem,Q=e.dialogBoxOpen,X=e.isVisualType,$=e.isSuperUser,ee=e.selectedBrand,te=(e.userPreferenceColorList,e.saveUserPreference,e.onChangeOpacity),ne=(0,ut.K)(),re=(0,dt.Z)().loadingOverlay,se=(0,A.useState)(),ae=(0,Te.Z)(se,2),oe=ae[0],ce=ae[1],le=((0,ht.Z)(oe),(0,A.useState)()),ue=(0,Te.Z)(le,2),de=ue[0],pe=ue[1];(0,ht.Z)(de),(0,A.useEffect)((function(){var e,t,n,s,a=[].concat((0,r.Z)((null==V||null===(e=V.stylesResult)||void 0===e?void 0:e.globalStyles)||[]),(0,r.Z)((null==V||null===(t=V.stylesResult)||void 0===t?void 0:t.userStyles)||[])).find((function(e){var t,n=e.metaData;return n.styleId==(null==f||null===(t=f.styleIdObj)||void 0===t?void 0:t.id)&&!n.isDeleted})),i=null==V||null===(n=V.templateStylesResult)||void 0===n?void 0:n.template,o=null==i||null===(s=i.styleIds)||void 0===s?void 0:s.some((function(e){var t;return e.id===(null==a||null===(t=a.metaData)||void 0===t?void 0:t.styleId)}));ce(a),pe(o)}),[f,V]);var he=A.useMemo((function(){var e;return((null==f||null===(e=f.animation)||void 0===e?void 0:e.text_animation)||[]).find((function(e){return"start"===e.type}))||{}}),[f]),me=he.speed||.5,ge=A.useMemo((function(){var e;return((null==f||null===(e=f.animation)||void 0===e?void 0:e.text_animation)||[]).find((function(e){return"end"===e.type}))||{}}),[f]),fe=ge.speed||.5,ve=A.useMemo((function(){return yt(Ue.Od,he).minSpeed}),[he]),xe=A.useMemo((function(){return yt(Ue.Od,he).avgSpeed}),[he]),Se=A.useMemo((function(){return yt(Ue.Od,he).maxSpeed}),[he]),ye=A.useMemo((function(){return yt(Ue.Il,ge).minSpeed}),[ge]),be=A.useMemo((function(){return yt(Ue.Il,ge).avgSpeed}),[ge]),je=A.useMemo((function(){return yt(Ue.Il,ge).maxSpeed}),[ge]),we=function(e,t){return(0,O.jsx)(O.Fragment,{children:(null==Ie?void 0:Ie.length)>0&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(z.Z,{variant:"text_xs",sx:{color:"grey.300"},children:[(0,O.jsx)(gt.Z,{fontSize:"small"}),"  Brand colors"]}),(0,O.jsx)(Re.if,{onChangeComplete:function(e,n){ie().getInstance().logEvent("brand-color-clicked",{"clicked-from":"Toolbar"}),t(e,n)},colors:Ie,triangle:"hide"})]})})},Ze=(!!u&&parseFloat(u.split(",")[3]),(0,N.FT)(u),(0,N.FT)(l),"fa fa-align-"+(m||"left")),ke=(0,ct.Rh)(),Ce=!(null!=f&&null!==(t=f.styleIdObj)&&void 0!==t&&t.modified||!oe||de),Ie=(null==ee||null===(n=ee.colorList)||void 0===n?void 0:n.map((function(e){return(0,St._0)(e.textBackgroundColor)})))||[],Oe=p||f.textShadowColor||"rgba(0,0,0,1)";return(0,O.jsxs)(O.Fragment,{children:[ke.component,(0,O.jsx)(Je,{sx:{background:"#f0f0f4"},className:W,schema:[X&&{icon:(0,O.jsx)(ft.Z,{}),onIconClick:function(){return F({flipHorizontal:!f.flipHorizontal})},tooltip:"Flip horizontal",content:void 0},X&&{icon:(0,O.jsx)(ft.Z,{sx:{transform:"rotate(90deg)"}}),onIconClick:function(){return F({flipVertical:!f.flipVertical})},tooltip:"Flip vertical",content:void 0},!X&&{raw:(0,O.jsx)(He,{children:(0,O.jsx)(xt.Z,{value:f.fontName,onFontSelection:U,selectedBrandFontName:null==ee||null===(s=ee.fontList)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.fontName})})},!X&&{raw:(0,O.jsx)(He,{children:(0,O.jsx)(vt.default,{classnames:"font-size-dropdown",sx:{backgroundColor:"white",width:"60px",height:"40px",borderRadius:"8px",p:"0 !important",".MuiOutlinedInput-root":{padding:" 9px 9px 9px 5px!important",".MuiAutocomplete-endAdornment":{right:"2px"}}},value:f.fontSize||"20",onChange:function(e){e>0&&L(e.toString())},options:Ue.z6.filter((function(e){return!!e.value})).map((function(e){return e.value})),minValue:8,maxValue:150})})},!X&&{icon:(0,O.jsx)(Ee.Z,{}),content:(0,O.jsx)(K.Z,{direction:"column",justifyContent:"flex-start",alignItems:"start",sx:{padding:1},children:(0,O.jsx)(Pe.r,{selectedValue:f.decoration,onChangeFn:C,size:"small"})})},!X&&{icon:(0,O.jsx)(Ne.R,{}),content:(0,O.jsx)(K.Z,{direction:"column",justifyContent:"flex-start",alignItems:"start",sx:{padding:1},children:(0,O.jsx)(Pe.A2,{selectedValue:f.case,onChangeFn:I,size:"small"})})},!X&&{icon:null!=Ze&&Ze.includes("left")?(0,O.jsx)(tt.Z,{}):null!=Ze&&Ze.includes("right")?(0,O.jsx)(rt.Z,{}):(0,O.jsx)(nt.Z,{}),content:(0,O.jsxs)(K.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1.5,sx:{padding:1},children:[(0,O.jsx)(J.Z,{sx:{width:"30px",height:"30px",color:null!=Ze&&Ze.includes("left")?"primary.main":""},size:"small",onClick:function(){T("left")},children:(0,O.jsx)(tt.Z,{})}),(0,O.jsx)(J.Z,{sx:{width:"30px",height:"30px",color:null!=Ze&&Ze.includes("center")?"primary.main":""},size:"small",onClick:function(){T("center")},children:(0,O.jsx)(nt.Z,{})}),(0,O.jsx)(J.Z,{sx:{width:"30px",height:"30px",color:null!=Ze&&Ze.includes("right")?"primary.main":""},size:"small",onClick:function(){T("right")},children:(0,O.jsx)(rt.Z,{})})]})},!X&&{icon:(0,O.jsx)(mt.QM,{fillColor:l}),content:(0,O.jsx)(K.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",sx:{padding:0},children:(0,O.jsxs)("div",{style:{padding:"0 10px",width:"240px"},className:"color-picker-container hide-preset-colors hide-alpha",children:[(0,O.jsx)("div",{className:"show-on-hover-text",children:"Text color"}),we(0,x),(0,O.jsx)(Re.xS,{color:l,onChangeComplete:x,disableAlpha:!0})]})})},!X&&{icon:(0,O.jsx)(mt.Lm,{fillColor:u}),content:(0,O.jsx)(K.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",sx:{padding:0},children:(0,O.jsxs)("div",{style:{padding:"0 10px",width:"240px"},className:"color-picker-container hide-preset-colors",children:[(0,O.jsx)("div",{className:"show-on-hover-text",children:"Background color"}),we(0,S),(0,O.jsx)(Re.xS,{color:u,onChangeComplete:S})]})})},!X&&{icon:(0,O.jsx)(mt.dJ,{fillColor:Oe}),content:(0,O.jsxs)(K.Z,{direction:"column",justifyContent:"flex-start",alignItems:"start",sx:{px:1,py:1},children:[(0,O.jsx)("p",{className:"ml-2 mb-2 show-on-hover-text",children:"Text shadow color"}),(0,O.jsxs)("div",{style:{padding:"0 10px",width:"240px"},className:"color-picker-container hide-preset-colors",children:[we(0,(function(e){var t;return b(j(e),null!==(t=null!=h?h:f.textShadowWidthFr)&&void 0!==t?t:.1)})),(0,O.jsx)(Re.xS,{color:Oe,onChangeComplete:function(e){var t;return b(j(e),null!==(t=null!=h?h:f.textShadowWidthFr)&&void 0!==t?t:.1)}}),(0,O.jsx)("p",{className:"ml-2 mb-2 show-on-hover-text",children:"Shadow width"}),(0,O.jsxs)("div",{className:"pl-1 pr-1",children:[(0,O.jsx)(_e.default,{defaultValue:100*f.textShadowWidthFr||0,sx:{width:"calc(100% - 10px)","& .MuiSlider-thumb":{height:"15px",width:"15px"}},min:0,max:20,onChangeCommitted:function(e,t){return b(Oe,t/100)},value:void 0,onChange:void 0}),(0,O.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,O.jsx)(z.Z,{variant:"caption",sx:{color:"grey.500"},children:"Off"}),(0,O.jsx)(z.Z,{variant:"caption",sx:{color:"grey.500"},children:"Max"})]})]})]})]})},!X&&{icon:(0,O.jsx)(Ae.Z,{}),boxSx:{width:200},content:(0,O.jsxs)(H.Z,{sx:{px:2,py:2},children:[(0,O.jsx)(z.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Text width"}),(0,O.jsx)(K.Z,{sx:{width:"100%"},children:(0,O.jsx)(_e.default,{defaultValue:parseFloat((null==f?void 0:f.paragraphWidth)||90),valueLabelDisplay:"auto",valueLabelFormat:function(e){return"".concat(e,"%")},min:30,max:90,onChangeCommitted:E,sx:{width:"100%","& .MuiSlider-thumb":{height:"15px",width:"15px"}},disabled:f.fullWidth})}),(0,O.jsx)(Le.S,{}),(0,O.jsx)(H.Z,{sx:{mt:2.5},children:(0,O.jsx)(Fe.h,{label:"Full width",fullWidth:!0,checked:null==f?void 0:f.fullWidth,onChange:function(e){var t,n,r=null,s=null,a=null;e?null!=f&&f.leftCoordinate&&null!=f&&f.topCoordinate?(s="0%",a=f.topCoordinate):r="full-width-"+((null==f||null===(t=f.preset)||void 0===t?void 0:t.split("-")[0])||"bottom"):null!=f&&f.leftCoordinate&&null!=f&&f.topCoordinate?(s="0%",a=f.topCoordinate):r=((null==f||null===(n=f.preset)||void 0===n?void 0:n.split("-")[2])||"bottom")+"-"+(m||"center"),_(e,r,s,a)},border:!1})})]})},{icon:f.fullWidth?(0,O.jsx)(mt.Am,{}):(0,O.jsx)(st.O,{}),content:(0,O.jsxs)(K.Z,{direction:"column",justifyContent:"flex-start",alignItems:"start",sx:{padding:1,width:"90px"},children:[!f.fullWidth&&(0,O.jsx)(Pe.lf,{selectedValue:f.preset,classNames:"icon-popup aspect-ratio-1",onChangeFn:function(e){return w(e.target.id)},isIcon:void 0}),f.fullWidth&&(0,O.jsx)(Pe.DV,{selectedValue:["full-width-top","full-width-center"].find((function(e){return e===f.preset}))||(f.topCoordinate?"":"full-width-bottom"),classNames:"aspect-ratio-1",onChangeFn:function(e){return w(e.target.id)},isIcon:void 0})]})},X&&{icon:(0,O.jsx)(mt.yG,{sx:{transform:"rotate(90deg)"}}),tooltip:"Opacity ",content:(0,O.jsxs)(H.Z,{sx:{px:2,py:2,width:"247px"},children:[(0,O.jsx)(z.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Opacity"}),(0,O.jsx)(K.Z,{sx:{width:"100%"},children:(0,O.jsx)(_e.default,{defaultValue:parseFloat(100*((null==f?void 0:f.opacity)||1)),valueLabelDisplay:"auto",valueLabelFormat:function(e){return"".concat(e,"%")},min:5,max:100,onChangeCommitted:function(e,t){return te(t/100)},sx:{width:"100%","& .MuiSlider-thumb":{height:"15px",width:"15px"}}})})]})},!X&&{icon:(0,O.jsx)(De,{sx:{}}),boxSx:{width:350},content:(0,O.jsx)(et,{scheme:[{label:"Entry",children:(0,O.jsxs)("div",{children:[(0,O.jsx)(z.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Animation"}),(0,O.jsx)(Pe.uO,{selectedValue:he.animation,onSelectFn:function(e){return R(e,he.speed)},border:"rounded",fullWidth:!0}),(0,O.jsx)(z.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Speed"}),(0,O.jsxs)("div",{className:"pl-1 pr-1",children:[(0,O.jsx)(_e.default,{value:10*(Se-(me||he.speed||xe)),sx:{width:"100%","& .MuiSlider-thumb":{height:"15px",width:"15px"}},min:10*ve,max:10*(Se-.1),onChangeCommitted:function(e,t){return R(he.animation,Se-t/10)}}),(0,O.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,O.jsx)(z.Z,{variant:"caption",sx:{color:"grey.500"},children:"Slow"}),(0,O.jsx)(z.Z,{variant:"caption",sx:{color:"grey.500"},children:"Fast"})]})]})]})},{label:"Exit",children:(0,O.jsxs)("div",{children:[(0,O.jsx)(z.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Animation"}),(0,O.jsx)(Pe.yR,{selectedValue:ge.animation,onSelectFn:function(e){return P(e,ge.speed)},border:"rounded",fullWidth:!0}),(0,O.jsx)(z.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Speed"}),(0,O.jsxs)("div",{className:"pl-1 pr-1",children:[(0,O.jsx)(_e.default,{value:10*(je-(fe||ge.speed||be)),sx:{width:"100%","& .MuiSlider-thumb":{height:"15px",width:"15px"}},min:10*ye,max:10*(je-.1),onChangeCommitted:function(e,t){return P(ge.animation,je-t/10)}}),(0,O.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,O.jsx)(z.Z,{variant:"caption",sx:{color:"grey.500"},children:"Slow"}),(0,O.jsx)(z.Z,{variant:"caption",sx:{color:"grey.500"},children:"Fast"})]})]})]})}]})},!X&&{raw:(0,O.jsx)(q.Z,{title:!0===g?"Unhighlight":!1===g?"Highlight":"Select text to highlight",children:(0,O.jsx)(J.Z,{onClick:function(e){return Z(e)},onMouseDown:function(e){return e.preventDefault()},className:v?"":"disabled",sx:{width:"30px",height:"30px",padding:"4px",borderRadius:"4px"},children:g?(0,O.jsx)(it.a,{}):(0,O.jsx)(at,{})})})},!X&&{icon:(0,O.jsx)(it.a,{sx:{color:d}}),content:(0,O.jsx)(K.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",sx:{padding:0,width:"240px"},children:(0,O.jsxs)("div",{style:{padding:"0 10px"},className:"color-picker-container hide-preset-colors hide-alpha",children:[(0,O.jsx)("div",{className:"show-on-hover-text",children:"Highlight color"}),we(0,y),(0,O.jsx)(Re.xS,{color:d,onChangeComplete:y,disableAlpha:!0})]})})},{spacer:!0},!X&&{boxSx:{height:42},condition:function(){return!Ce},raw:(0,O.jsxs)(ot.w,{disabled:!(null!=f&&null!==(c=f.styleIdObj)&&void 0!==c&&c.modified||!oe),onClick:(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Q(!0),e.next=4,ke.createDialog({title:"Save as a new Style",subtitle:"After saving the new style, it will be automatically added to ‘My Styles’",headerComponent:(0,O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAYAAABRRIOnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABqKSURBVHgB7Z1ZjBv3fce/c/DcXXJXK2l3dVKyZFuWLMtWnMQHnHUSNGjR1EovJGiByE2BpgiCOs1D0YfGch77EhctkPalUQoUAZqHyC3aPhSplaZuYsOCV5bkSLIOyta1N5dc3nP09xvO7nLJGXJIzpDDXX2ABXfJ4fKY7/zO/yFgA7O4uJigm2OiKO6l24Su6/z3MP9uHpKweWqy6jYlCALfJjVNu8W3IyMjU9igCNgg8MmnE/8S/XqMTvwxvoW3TJFQ+OesqqrnN4pI+lYQJAC+0k+QCD5DAjiBypXfS5L0M0Xv5wwJ5GckkCT6kL4SBIuAvvCvmgKYhL85S+/1dL+Joy8EQUKYJNP8KvwvAjvOkIh/SMI4A5/jW0GYLuEVEsKfoffuwC2SZDVO+dlq+E4QG1QItXDmcoayltf8JgzfCGKTCKEO+ryn/SQMXwiCxHBqswmhhqQZY5xCj+mpIMxg8QewLxBtNowYIxaL/RA9oieCYPdgCuEEHlBHL91I1wVBYjhhimGzugen9MRadE0QZtC4Eis8wCH0fb1uWosUukBXBMF9Bvpgb+JBrNAuHHS+2A0XIsJjSAwnSQzv4YEYOoEvqPfS6fRX4TGeCsJMJx/EC+4wTK7jNH+n8BDPXAa98dMkBs8VvRnhuCIej38LHuC6IMyU8ifo30ZUv8ANs5fdDjZdFYQpBg4evR6cYo2uQyxngXKebvOAWoSgKRBKWQhKAVCKgFam+1U6ViOHKUELRAEpAF0KA+FBaOE49MAQ9NAA+oApM9h0TRSuCaIXYlg52WJ+HmJhCYJaqpxoJ5B4oCokEHpOmYWirH9YCpIohqDGd0GPjhq/+xRXReGKILopBkFTIZAApNw8iWHZEIUr8P9RSoZ1Ab1GzatCj8QNcWgxEogcgs9wTRSuCCKVSnHM4GkZmi2AlJ0xrIFxdXuJSm6lmK3coua1yM2og+NQtz4MPRyDjzg7PDz8IjqkY0GQdXjdq+ojX/1ifgFS5i4EvnK7DVuK4nLFcqBehNrQOJTRA4ZL8QPcA6Hs42V0QEeCMOsMr8JlBIoDhNwc5NRHJIoyeo5C74HcU8Vi1CJAjU1AHTtMwWgUvYZcx2udtNHbFoRZgfwBXEYktyCn71SyAr/BVoothoXL0ilTUUcPkis5iF5DTbGT7TbF2hKE2ZvgcrRrFUiB0sXA4k0IxQy8Ym5+C+7cncBSOgZJ1DC6ZQF7dt9GNNqCO9IoiymmTTdi8XB0C5Qdx6EHe2otUmQpnmyn99GyIMyMwr3eBF1tUvoe5MzHzlPGNrh89SBu3EzQy63/yMFgCYcPXcaOiftoCbYUpZzlQ3ogYrgQNbYTPSRpiqKlzKOdXsYpuCQGoZxDcOYCuYhbnorh3v0xXL+xr04MTKkUxIVLjyGXa/GKDg1SIWuII7m6hzgAlu+cgzR3DT2EZ7K1HN+1JAgzbnAlo5AoaAzMXDIKS15z9cMDDR9XFBnXb+5Fy5AlQIS8pmDxNZLlk+nzSfcvwipD6QZkIV7hAUmtPEd2eqAZN7iSUcjpu+QmnLsIYYmec53Uew+Gk9PidBIfo6ePNH9uqRzAcrZ5GXphYQvagoJJQxT5lOXnkReuG35ZGT+CXsCBP527s05dh2NBsPkxZ093AF01C0kqMDn31xLpJvA/WHeRSQv0Q15Gebzy0whNdWYEVVVC20iyKYpFywxEIlHwB1DGH0cPWBm/+iUnBzv6tthVkBhOokPk1K2WxCCk6sWwCl2M8nn6AHcb/w8OGiVJRTMGBpfhFI1cREaKYlEaQlkwrylDFHHb50gLNyBNf4AecYJHuDs50JGFcMNVGGLI3GvpOQE64c3cr3yB3MIO+8dFUcfePR8bGUYj9uy6g2boZPyvhnZiKvIQlsWw8XdYL2F3aRafyl1BmI0Ml7MLacvny/MfGoGoGt+NbmNaiX3NjmtqIcwROgl0gLR83yg/t4ow3/wYcZaOa9LfOvjQDUQjOdvHd+28g4nxaTTjnejD+PnAEWTEiCEGpiAE8SGJ5F/jn0aJrUUgXAk2bZDuvU+1ljR6QGJpaanphd1QEGYg2dGoJ4FydTmVRDsIJYcHNolNZVnB88/9ErvJCsjSmnpCoSKOHP4Vjh5pbso/CmzDhbD9BZYWo/hF9JD5jyklFa2NL/dnArffJREX0W3MrKNhMbGhy3AjkAywmWyzO6ltpffQJOTQKYHQg2j+PkgUR49cwmOPXkGWag4cV4RJECwWJ1wNNy8yJYPjeCF7sVKaiJDryC5YHsfVWHHuKtQOgszzxSA+KMoYkzW8EKHPITj6jnl9DS4bvGZ3gK2FYOvQaSDJ7WpByaFdVAeuVt2PlmABxGNpDA5kHYuBSYvNU9eyICElmcexhQjaP0devEV9mzm0w7uFIP4lE8HFUgA/zYXwo4zzolozK2EriHaqXLVw7NAJ6iNkJRL2j2tjlXpEN3Ba45eq/RcPwxNs0lldpaLVBbTKnCLh37LrY5QrJcfVA2bFSlhiKQjTOnQ04IV9JJemO6X0LJ30o9wfWLuPf1cepivyM/RHAF1horzQ9JgBrYAhtaZRFh60PV6k4FJaTMIpnDz/E1kDpcY7hIXWXHIjK2EnrUl02Mk0giY3RjaJFUFwAUo0a21cqfR+itF6jhSSuBzaBUWwL2A9lbvGg+3W3ykFK+7DZqifNHPZGJpnF4RW83YxinmLQtvuQPM6Sw22sYTl1+pKiVp3aazjClyyHqn8dFsMzKCWx+eWpxDV67MDgYR/NH8Tj5Ru1z+RI8wGI7gFtQgx3Twlv60EMFWwNoc75da/a7YSVvfXfbVmMySBjunBWfOY3eVZ/ObS23TykxhRM4iRSBKl+/jC8jl8Mn/F/ok8KFe0tyzS/LWG1jRHXdq3SxHkbQ7ZI7d18Q1bVS/r7JRbs60qI5M5FOtNp88rYlqOTv5l+kFrcMGqaN3ZFTkNzc5CG9xu+fi5YsQQRcGi3iLRVzwRaG/ogOkJzq57L9V/mEsBuzJ6WqcvQG9Qsdt0GN+Ffa4iUmnfiutKEEk1AJWuq4LFtTVB1mFIaPuim6wNLmvt+iRcQ4AS34MHmPCYCdk+JZKWp+va51lNxPlSZQ5Ikc65ZnHed8otB5Tr4IVg1/1d/Yfbk3O1yAjUWPcbOb5FajDBR1MhLq1vsL1fDiOrV05Rzua87+lQELXlhVVBmO5iEi6jUEqljOzz42yn7iMHLYfcrcAjzle4p8q4pqxZlJxFmMD/6tFgx9ncOrdRbSEm4RE806m8/QiJY+/mFgZnGoJ99iUuVwShkLv9ZXGtHM2uIm8hiAnuxwidB+2SJL208vtqlkHu4iV4CE+eVWM7jEktIkXbxvxMqtRVxlRurEzkinwD/x3+P9yTZhCksupBZR8+X3geo9pwxW1o1hVcnqzM38f7GMVy1YBgFoPVN7Q/4E6th9zGJN0Y8ziq084uzdoWoHF7mH4M78e+s7AIKZ+CUEj5Y6ZWB/wo+gb+PfLmuvsuB67jp+H/xV+mv4F90jaquds/P5PP4MPAxPr7bMKER4KuCYLjCGMKoGG/yIewGBLoBbxGQ3QryqMHUB4/CiW2q6Gf9TP/QUKoFcMKOaGAv479PZakxv2d98QxlGqmC1i5ixC5ik4DyiqG8/m8Mex8xaH1ZoGPGgy3Et9txBu60FIHr+eUBQX/Ff55w2MyQhb/GbU/5nZkB5Li+hZSWauknLUcJOsgC+652lKpZGQbhiB4Vxr4CC04CGX7IfQT98RpzIrNO6KXgzcs79fJKr615VN192dsipBuuYsqDKNgCMLco8pXsCjUoQlsNEo24wLfHzqMjFy/Sk3WwiuwZdgruyuIFQ34ymXUwulqvxDXY9QJDTc9bp+6ty71zEkRXIzVj/RRNOv6wx5qd49Krk99rAjCDCh9iS6HjbiiH4hrQzhaaj5867nC8bqg+WLsEPJSvZiyNunmwwHX3YUBB5Ys1QT8jNDBjKou8+XcFzGmbrN9/ETuC3hM4fUj1gSRkQdxIXbY8nirdJOf+XjI6XD01iiXy7zHqdjGLNcuonlzNXjBVm0Ef5X+Jp4rfgIBfS1LYuvx5exv4Xfzv165o8pCnBs+tjrHoxrubmYtvAIPhhkWvSnk8Qh7ftcJ+BSjctdnhaphLYY/Xf5D/JHwe5gR56lSGcQ2bQsFa/Ul61QgjutR67keHExanfanwp5+Hwm58wm83iHmmqdxfiWkh7BbtZtjWDnV78WPGummFSkbd3Eo6J0gWAssW38uTK5rkJZbn/7XF5Ae5oNbcGMgYfkwuwur7OIA1R5iHrkLk2HfBpWSsfBY96e7dQUS+/uxI5axA5OyqUgf8yiYrCLhy5GwvLqMnL6NjcqSPIDrNtaByVjE0YOiZpSrvcZ3FoIXKjWmzW9UdJ1ihydsH+aRUVZjJ9ldDAieugsm4asOEk/9a3emeL+QFcO4GbXP9O1a3c+EPXcXBr4QBK9cy1PapGzzNRr8jkBXsREb2FzM56P7odoU2ziYtIoftlGbe5d7re6G9FwQvIRfYOGasbJ930IikOIqxCEVQlA3xKDlJagLMvTiWuBYEEO4EbRv2GVsag/PhLpjHZjeCYIXLM3NQlr6iApQ/TtKii2CvLMMIVSVJ5IGxKhq/CgzAWiZikW4GdxurDhjx6JFzMidzcfD3ft+eiIIrkBKqY8MQfQ74lZlvRhqkOnxckGkCrzYcAWavM1AGK5MRr0PJlfhLCOJLsJT4HnB0o0gBkhk5Yaa+HYqJIlxBXfkUWPZITsWLKwDO5tPhrtai0l2zUIYgSNbheXWVqLzM2JAd7SSiBDScT5iv9RNiazDsoWuHqEy9YT74x4a0hULwRXHwMzFDSUGA4eWPCNEcV+2X3Y3pVj/q0+Eux5bGRbC0z2leYh9YO6qp4ub9wpdEehjCRCa9BcuqPtsy9Scai5aWIdxSjO9bGTZkBIFQUjCI3gCa0dioE6g7uMh+boqQEs3rv4rmoSbJftUc8nGOrwQ7X4fh7XAFiIJD5Az9yhm4CnuLa5/FIxCDY8a+2cay/Hw+EPejlEpUDt8zuhz+Al1UYYQ1iCGLXbZ0QUk0+PI6NbBJD9jwcI6xKlvcTjQk4FBSVnTtFuCy1ehWEiRGJKtPIWEMIjycMJ6f0zeaDUQqcwmj+9GYPYyCaQHm7JZQS5DuRuiwpRSVZgiy5EXqDAVwNXAHsCm9MCxg2JxvXxuoOjqnAunrFiIKbgIB5DyvPONQ9glqPE9UId2ODteDqM0dhjB6Qv+aY/znrAp2fipXjSH+xa3BqxXheEVhKwKUVsoq3gs2JtCnaqqt8R29mVqhJS66XjYG4+oLm895FgMq4gBqGRNfEnVhf1RcJttMJkmV1GyMAKfpiZWpAfWgSEtTK1ERK5YCR7yJvGeEQ5gy6CMHoQejqMd1FDc2AnPz1wOWi+WwtZh1sI6DJN1+HS4Z1bP0IBRmCLfMeXG7K1WBrXwyjJaqIOdcXmtBXIf8KgPwkGssHQD4tJ1clMD0OL7occTjp/PSxzPy9afb0m1jh2ej5SMRcR6AWuAb1cqlR1bCA7yeKtFJ/CGpy27Cav/I8jw4vsTlm4iMPV3ELNVhTSOdcaehnLkaxQAN98Y/rpNV5MT8DkL6zBC1uF4F7uatZAgzvKt4TIo03gDHSLmnde3FN5AxIXMRtDdHyMgZD5G6JffXS8Ghruz999B4L2/pQ/QZJNZOva2bL3986JNZvFrAwUEexQ7MBRQ8nY1FUGYgWVHFUtONZ2gyZQ+hh3sntYMdsQe7P4buPiP9O3Y+3Fxnkrw0++gEfMIYS5QP5hdscksdgVUHAn2dAhAkgNK/mW1zEYm4ww6gFvaTtCDEVesA3dNnb6m4/9JHVgxdbXpcdLdt+0fLOVxW4pbZhcLNtZhMlLs9bq/qyHD6vsgt/EzdIDTvbr1QPN9J5zgSaOsnHG2YHvOZtsHDnCLy7gVqR8zWbKxDvuoInmot9aB1wdZNQbVwuzIQriy8r1DREptRYfpbSsYYhWaX6t6dGv9nTwHNb+ErBTBbKg+fpgt1Rfx2Yb89mDvK64UP6wag9VPb270eRZtokvOhlYI5c78vlEJNfbBdB89QoWkWPO5z9pYzUovGgW3uUWjiXdpZhtKc+uveB5ab7USzPPkKrZIPe8Cn60uTtauZNu2lXDqCsRiqu3sgGOGwPxV7yYAk3UoP/qVhjEOC0bd8dzaHWwZcmsbuL45NYEbP5rBxz+eRuGjnHH3tMXbHaYG1nPR3pfeyV2cXvd39R8UR/wQbaIFnQmCB9SKmdb9vyGG2Q88H52tjR5B+dg3qYJav/WzNnIQpePfrmx3YNzBYljb4nnqzhhms1HDNWTvl5F8YwE3//keSleyZBnXW4JJEsNQD9PMFardBVN3KaRSqTfRxqq2fKK44eQIqjKWRx+m9NPBPGNjdPacMW9DcHtTlgYIhQWIs+chLt+mEyxC2/4ECeJheu9m65IDSGO/77WT+v23nsT1eZuUOipBPBiBfmQIE1TX+sawL6YdnBkeHl63BXSd46cS9mvkOibRIty+5mWLHXUgyedyC1sZmoBGFUurngTvUiNkpyEvz9LV1f0vjy2EuvtFWDo3joMKGVSHidfmhu3FwFAgoZ1fhvhBFl/+uv0+XN2k1l0wdYKgAOMsWQkOMFteJkClWr88f8Xh0Tpk3u2X0kcuBWtUzjZ8N4mFN28TuQyu996kroPfDy/FXKpffPStm7uc/AccOSBj1J3Mu1OSsVisrkJtt+fW62gDNTJCDasWu5dsCXh3OmM76HvGXp8ixwm+E4NW2dPbQgzzM7O4dt/Zou5PP+mPDi1Zh1NW91uG07xcPoniJtqwEpxWBqen/HdCO4Gzmny6kl5WMT89jUvvnsPSwiI0MYzF0HHcCnwBGcF6F+D9e2V87Su+2GUoRaHBk1ZjYSwtBNck2rUSvLWSMrIfGwZ2EdnFOjHcu/IrXPvFWygtZ4y/Ra2A0fxbeCr9HTypfB9juFSXvT5z3B/WgcsLdgOjbBPuTqwEw9P6pUwfz8NgARTpZCv1/RIWw/S1tZ5HoaxgMVuEUrMHUjF6EB9Ln8Vd6ZMYiYv49tf9ETyQddhnJwjbOm0nVoJRWhgn6Ts4i+AFzyzEkJ6ZXicGJhyQsT0WgVhjEkK5D3Eg8w/4VOYv8MKed+EH6JyebjRssmHhngpVf4N22+JU9VOGqaoX24m+gQNH6kcYwaNFDKRRDeL2pfctnyqJIkYHrQPLkDqHwsUfwwck6Zy+1uiAhoLo1EowbCmULQ+RQHy83QELwYgV5ukN19dRdKrClncdx4KwlZIM+/0u2FKEZevFQPKLMyhlPJ0k15Rm1oFp2tqLx+OsqCQ6QB3YjtL445SSNh961lU0zWhXG0Io1tc9eB5IeccTKB34PLTYLqQu/aLpvxwI2wu/nO9pdTJpnsuGOLpsKQh5mdT1JjqA51Pwxig8vU+igpTgwWgnZ29Er5Sdy9R25gE2NSLQRZmqp+NQeSfB6Pp+RnH246b/nq0EHWn/2j3Cru5QiyNBmNVL7oSeQIeog2NkMbYaQ/blzB1jSaGuwLUEpVwpLNXONaVgUKOTr8X20M+EZSldp6yjnGm+si4HljwTTrc4+XI4il7AroKqko4al44du2klJuHGyreCBG1gG0osDN73mqyGWFhyt61tWIJSRQRqoeIeqh82LYFO74NFCo+3j5RkGcGYC2NJW6dpIFmNY0FwgEm1CRbFT+AagjE3ozI/wyxhUwdRNPL/PAnEYXeTTz6PseDaAQuAhcXPNa9SY6/QQJCswIjRYWVXoAdjLY3tFKhDG9oyjuJ849qKSrUIK+sQ3/sIvVz3R06yqyDrkHR6fEuhP4nizNLS0uv0gV+B65CZpT6IstIL0VWjDG5MmGFxkN83BtWSizE6qiwAVVmrILKZlqm9zC11uvqNzVdIaDwHhK9+N2Z5RXc/0lQQXKSyYvzxZ9BtOEN06ipWaDkXZPNDL8SxRAJeQm6F0z096I/qHhPdcwiLU2cbHpMu1BezApEoCeJZdJmWXMUKLdswdh1kIV6ExyvP+JGhA09ROcV+WcFMoQxFrXcXBz7/+5CjXR0DYZwjc5xsS7Tl1Li4QS/4LWwyBElCZId1405RNaTz9dZhdP9h7H72N9BNKG54pd1Z/W1HOfSCp8l1nMImI7x9T919KgWRs8sFaDXBZHR0DE/8wZ+jm/A5aTVuqKajsJcrX2Qp2n7xfkQMrt89j0Uwu5QzLEQ1A6Pj+MQff4dcRfeqsxxEOqlGNqLjPIgsxUl0MJ+j31CWl1Z/LysaptN5lGva3lsSj+LpP/kuwsPb0EXOkBg6duOudJzISnzJLG37dg9QN9CpxpH58JxRZ0hTAFkbM0hU63jos7+DxOSX0GV4fY+X4QKuCMIsWr240UUxd+6nWFhYQLZYNgpQK4RiW7DvhS9i/OizCA51vRo51W5GYYVrPenNIIp0dtlILYMUFwyP7UJs1wFsf+xpDI7vhRQKowe4KgbG9QVYzKF3P4ALjbAHNOQsu2o3xcB4tqIRlbi/502J+wHcvaQA0pWYoRbPui0c8W7GOoXX8HfqlRiM/w+PIRdykj7E9+DXDWP7hxRXIDspOjmhK4vgkSgSZrCZwAPaIWkGj0l4TFca9Gbv48lOB+xuRvg7s5tl5cnrocuYLuRVPLAWzeCO5cs8BgVdpOtDeLgpxuaPI2U8wI4z5uyqroqB6enuJA+sRR1JSZJODg0NdbQiYCf0VBArUM3iVboiTmLzCiPlRqfSDXwhCIYzEUqrVoSxWTCEwFMm3a44totvBLFClTC49L1Raxe+E8IKvhPECiwMupncYDGGb4Wwgm8FUU06nX6JvsST6N+G2VkKFk/1Mlh0Sl8IYoUqq/FVtLF0Ypc5yyu18NqffrUGVvSVIKqpEsdLqIy/SKC3sDs4wxuRqKr6Rj+JoJq+FUQtJBAWxTEKSD9jbhfl9SCdKXNboqlgMHgmEoncwgZgwwjCChYJ+e69JJAE/ZkwbzlzSZiHJGyemqy6TZm7Hyf5NhAITG2Uk2/F/wMotOt2pcJs7QAAAABJRU5ErkJggg=="}),isVerticalLayout:!0,placeholder:"Type style name...",okButtonLabel:"Save"}).then((function(e){t=e,Q(!1)}),(function(){Q(!1)}));case 4:if(!t){e.next=16;break}return n=re("Please wait..."),r=bt(t,oe,f,ne,$),e.prev=7,e.next=10,B(r);case 10:(s=e.sent)&&"success"===s.status?(r=s.style,null==D||D(r),M()):(0,pt.x2)("Error saving style"),ie().getInstance().logEvent("style-customised",{status:s&&s.status?s.status:"unknown error","style-name":r.metaData.name,project_id:G,StyleId:r.metaData.styleId,"style-updated":r});case 13:return e.prev=13,n(),e.finish(13);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18],[7,,13,16]])}))),sx:{background:"white"},children:[(0,O.jsx)(z.Z,{variant:"caption_resp",children:"Save as Style"})," "]})},!X&&{boxSx:{height:42},raw:(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(ot.w,{disabled:Y!==Kt.sceneText,onClick:function(){k(void 0,void 0,!0),ie().getInstance().logEvent("text-box-style-apply-to-all",{project_id:G,"style-updated":oe})},sx:{background:"white"},children:[(0,O.jsx)(z.Z,{variant:"caption_resp",children:"Apply to all"})," "]})})}]})]})}))),It=n(69750),Tt=n(13594),Et=n(66823),At=n(78531),_t=n(98165),Rt=n(90794),Pt=n(89956),Nt=n(66423),Ot=(n(79155),n(92297),n(76417),n(97326)),Dt=n(37762),Ut=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).canvas=A.createRef(),r}return(0,l.Z)(n,[{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.props.audioData,t=this.canvas.current,n=t.height,r=t.width,s=t.getContext("2d"),a=0,i=1*r/e.length;s.lineWidth=2,s.strokeStyle="#000000",s.clearRect(0,0,r,n),s.beginPath(),s.moveTo(0,n/2);var o,c=(0,Dt.Z)(e);try{for(c.s();!(o=c.n()).done;){var l=o.value/255*n;s.lineTo(a,l),a+=i}}catch(e){c.e(e)}finally{c.f()}s.lineTo(a,n/2),s.stroke()}},{key:"render",value:function(){return(0,O.jsx)("canvas",{height:"40%",style:{width:"100%",maxWidth:"100%",height:"100%"},ref:this.canvas})}}]),n}(A.Component),Lt=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).state={audioData:new Uint8Array(0)},r.tick=r.tick.bind((0,Ot.Z)(r)),r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.source=this.audioContext.createMediaStreamSource(this.props.audio),this.source.connect(this.analyser),this.rafId=requestAnimationFrame(this.tick)}},{key:"tick",value:function(){this.analyser.getByteTimeDomainData(this.dataArray),this.setState({audioData:this.dataArray}),this.rafId=requestAnimationFrame(this.tick)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rafId),this.analyser.disconnect(),this.source.disconnect()}},{key:"render",value:function(){return(0,O.jsx)(Ut,{audioData:this.state.audioData})}}]),n}(A.Component),Ft=n(92873),Vt=n(51175),Bt={position:"absolute",cursor:"default",borderColor:"error.main",zIndex:6},Mt=lt.Z.getVoiceOverTrack,Gt=lt.Z.saveAudioFavAndRecents,Wt=lt.Z.showErrorNotification,zt=lt.Z.checkIfUrlValid,Jt="1.5px",Ht="Are you sure you want to delete this scene?",Kt={sceneText:"SceneText",displayText:"displayText"},qt=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(e){var l;return(0,c.Z)(this,n),(l=t.call(this,e)).initialX=void 0,l.initialY=void 0,l.initializeStateForScene=function(e){var t={isShowLoader:!1,currentSubScene:l.props.currentSubScene,checkedImageZoom:l.props.settings.imageZoomPan,applyImageZoomPanToAllScene:l.props.settings.applyImageZoomPanToAllScene,checkedVoiceOver:l.props.settings.voiceOver,applyVoiceOverToAllScene:l.props.settings.applyVoiceOverToAllScene,checkedMusic:l.props.settings.music,applyMusicToAllScene:l.props.settings.applyMusicToAllScene,loopVideo:void 0===l.props.settings.loopVideo||l.props.settings.loopVideo,loopVideoAllScene:l.props.settings.loopVideoAllScene,checkHideText:l.props.settings.hideText,applyHideTextToAllScene:l.props.settings.applyHideTextToAllScene,checkedAllScene:l.props.applyToAllScenes,videoOptions:l.props.settings.videoOptions,muteClipAudio:l.props.settings.muteClipAudio,muteClipAudioAllScene:l.props.settings.muteClipAudioAllScene,videoTrimmerValueChanged:!1,settings:l.props.settings,showTrimBar:!1,showFocusOverlay:!1,showAddTextOverlay:!0,showUploadAudioOverlay:!1,showRecordAudioOverlay:!1,showApplyDurationPopup:!1,isDragSupported:Ie.Z.isDragToUploadSupported(),audioFile:null,audioFileName:"",audioFileError:"",isRecording:!1,haveRecorded:!1,temp:{},playbackRate:1,showDuration:0,musicIcon:"",textOutputLines:[],playPreview:!1,previewPauseButtonState:"play",aspectRatioFactor:(0,N.U$)(l.props.aspectRatioClass),showDeletePopup:!1,contextMenu:null,sceneContextMenu:null,xPos:0,yPos:0,isPastingDisplayItem:!1,applyToAllVisible:!1,applyToAllViaButton:!1,inPreview:!1,alertSeverity:"error"},n=function(){var e;null!==(e=l.props.currentSubScene)&&void 0!==e&&e.isNew?l.setEditorFocusItem(Kt.sceneText):l.setEditorFocusItem(void 0),l.setupVideoListeners(),setTimeout((function(){l.props.currentSubScene.leftCoordinate||l.props.currentSubScene.topCoordinate||l.calculateCoordinates("drag-and-resize-box");for(var e=0;e<(null===(t=l.props.currentSubScene.displayItems)||void 0===t?void 0:t.length);e++){var t,n=l.props.currentSubScene.displayItems[e],r="drag-and-resize-box_"+n.id;n.itemStyleData.leftCoordinate||n.itemStyleData.topCoordinate||l.calculateCoordinates(r)}}),500),!0===l.props.isNewPreviewPlaying?l.setState({previewPauseButtonState:"pause"}):!1===l.props.isNewPreviewPlaying&&l.setState({previewPauseButtonState:"play"})};if(e?(l.state=t,n()):l.setState(t,n()),l.props.isTranscription&&l.props.imageUrl){var r=l.create480pUrl(l.props.imageUrl);l.props.urlStatus&&200===l.props.urlStatus[r]||l.props.checkIfUrlValid(l.props.imageUrl)}},l.documentClickListener=function(e){e.target.closest("figure .drag-and-resize-box")||e.target.closest("div.add-text-container")||e.target.closest(".editor-panel")||e.target.closest("#text-editor-panel-popover")||e.target.closest(".insert-scene-dropdown")||e.target.closest(".MuiButtonBase-root")||e.target.closest(".MuiBackdrop-root")||e.target.closest(".MuiSlider-root")||e.target.closest(".MuiDialog-root")||e.target.closest(".style-element")||e.target.closest(".MuiAutocomplete-popper")||e.target===document.body||l.state.editorFocusItem&&l.setEditorFocusItem(void 0)},l.documentRClickListener=function(e){if(l.setState({xPos:e.offsetX,yPos:e.offsetY}),!l.state.isOpenTextEditor&&!l.props.isOpenTextEditor&&e.target.closest(".btm-headbox")){var t,n,r,s=!1;l.state.editorFocusItem&&null!==(t=e.target)&&void 0!==t&&null!==(n=t.parentElement)&&void 0!==n&&null!==(r=n.id)&&void 0!==r&&r.endsWith(l.state.editorFocusItem)&&(s=!0),s?l.setState({contextMenu:null===l.state.contextMenu?{mouseX:e.clientX+2,mouseY:e.clientY}:null,selectionStart:0,selectionEnd:0}):l.setState({sceneContextMenu:null===l.state.sceneContextMenu?{mouseX:e.clientX+2,mouseY:e.clientY}:null,selectionStart:0,selectionEnd:0})}},l.handleClose=function(){l.setState({contextMenu:null})},l.handleCloseSceneMenu=function(){l.setState({sceneContextMenu:null})},l.onCopy=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,s,o,c,u,d,p,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.setState({contextMenu:null}),n=l.state.editorFocusItem&&!l.state.isOpenTextEditor&&l.state.editorFocusItem!==Kt.sceneText,r=" ",!(s=n&&l.getFocusedDisplayItem())){e.next=9;break}l.props.copyDisplayItemToState(s),l.clipboardText=r,e.next=13;break;case 9:return e.next=11,null===(o=navigator)||void 0===o||null===(c=o.clipboard)||void 0===c?void 0:c.readText();case 11:(u=e.sent)===l.clipboardText?(l.clipboardText="",r=""):(l.clipboardText=u,r=void 0);case 13:void 0!==r&&(d="text/plain",p=new Blob([r],{type:d}),h=[new ClipboardItem((0,i.Z)({},d,p))],navigator.clipboard.write(h)),l.props.updateItemCopied(!0),l.setState({showAlertNotification:"Item copied to clipboard.",alertSeverity:"success"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.onPaste=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=" ",e.prev=1,e.next=4,null===(r=navigator)||void 0===r||null===(s=r.clipboard)||void 0===s?void 0:s.readText();case 4:e.sent===n&&(l.setState({isPastingDisplayItem:!1,sceneContextMenu:null}),l.duplicateDisplayItem(l.props.displayItem)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l.onKeyboardEvent=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,s,o,c,u,d,p,h,m,g,f,v,x,S,y,b,j,w;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.state.dialogBoxOpen){e.next=2;break}return e.abrupt("return");case 2:if(c=l.state.isOpenTextEditor||l.props.isOpenTextEditor,l.props.showPreviewProgress||l.props.previewReady,u=l.state.editorFocusItem&&!l.state.isOpenTextEditor,d=u&&l.state.editorFocusItem!==Kt.sceneText,!t.ctrlKey&&!t.metaKey){e.next=36;break}if(p=" ","c"!==t.key&&"C"!==t.key){e.next=24;break}if(!(h=d&&l.getFocusedDisplayItem())){e.next=17;break}l.props.copyDisplayItemToState(h),l.clipboardText=p,l.props.updateItemCopied(!0),l.setState({showAlertNotification:"Item copied to clipboard.",alertSeverity:"success"}),e.next=21;break;case 17:return e.next=19,null===(m=navigator)||void 0===m||null===(g=m.clipboard)||void 0===g?void 0:g.readText();case 19:(f=e.sent)===l.clipboardText?(l.clipboardText="",p=""):(l.clipboardText=f,p=void 0);case 21:void 0!==p&&(v="text/plain",x=new Blob([p],{type:v}),S=[new ClipboardItem((0,i.Z)({},v,x))],navigator.clipboard.write(S)),e.next=35;break;case 24:if(!l.props.displayItem||"v"!==t.key&&"V"!==t.key){e.next=35;break}return e.prev=25,e.next=28,null===(y=navigator)||void 0===y||null===(b=y.clipboard)||void 0===b?void 0:b.readText();case 28:e.sent===p&&l.duplicateDisplayItem(l.props.displayItem),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(25),console.log(e.t0);case 35:return e.abrupt("return");case 36:e.t1=t.code,e.next="Delete"===e.t1||"Backspace"===e.t1?39:"Escape"===e.t1?43:45;break;case 39:if(!c){e.next=41;break}return e.abrupt("return");case 41:return d?(j=!0,null==(w=document.querySelectorAll(".MuiAutocomplete-inputFocused"))||w.forEach((function(e){var t;e.id===(null===(t=document.activeElement)||void 0===t?void 0:t.id)&&(j=!1)})),j&&(t.preventDefault(),l.deleteDisplayItem())):"BODY"!=(null===(n=document.activeElement)||void 0===n?void 0:n.tagName)&&"ReactVirtualized__Grid__innerScrollContainer"!==(null===(r=document.activeElement)||void 0===r||null===(s=r.offsetParent)||void 0===s?void 0:s.className)&&"ReactVirtualized__Grid"!=(null===(o=document.activeElement)||void 0===o?void 0:o.className)||u||l.CheckDeletable(),e.abrupt("break",46);case 43:return d?(t.preventDefault(),l.setState({isOpenTextEditor:!1})):l.state.editorFocusItem===Kt.sceneText&&l.props.isOpenTextEditor&&(t.preventDefault(),l.props.closeOpenTextEditor(l.props.CounterSubSence,!1)),e.abrupt("break",46);case 45:return e.abrupt("break",46);case 46:case"end":return e.stop()}}),e,null,[[25,32]])})));return function(t){return e.apply(this,arguments)}}(),l.onClickDisplayItem=function(e,t){l.state.editorFocusItem!==e&&l.setEditorFocusItem(e),l.dragEnd?l.dragEnd=!1:l.state.editorFocusItem===e&&"visual"!==t&&(l.props.isOpenTextEditor||l.state.editorFocusItem!==Kt.sceneText?l.state.isOpenTextEditor||l.setState({isOpenTextEditor:!0}):l.OpenTextEditorForSceneText(Kt.sceneText))},l.showAlertNotification=function(e,t){l.setState({showAlertNotification:e,alertSeverity:t})},l.showdeleteLogoAlertNotification=function(){return(0,O.jsx)(G.Z,{open:!!l.state.showdeleteLogoAlertNotification,autoHideDuration:5e3,onClose:function(){return l.setState({showdeleteLogoAlertNotification:void 0})},anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{backgroundColor:"rgba(37, 38, 48, 0.75)",borderRadius:"5px"}},children:(0,O.jsx)(W.Z,{severity:"success",sx:{alignItems:"center"},action:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Y.Z,{variant:"outlined",color:"success",sx:{padding:"2px 15px",minWidth:"max-content",borderRadius:"6px"},onClick:function(){l.deleteAllLogos(),ie().getInstance().logEvent("brand-logo-deleted",{"delete-from-all-scenes":"Yes"}),l.setState({showdeleteLogoAlertNotification:void 0})},children:(0,O.jsx)(z.Z,{variant:"text_xs",children:"Yes"})}),(0,O.jsx)(J.Z,{size:"small",color:"inherit",onClick:function(){ie().getInstance().logEvent("brand-logo-deleted",{"delete-from-all-scenes":"No"}),l.setState({showdeleteLogoAlertNotification:void 0})},children:(0,O.jsx)(p.Z,{fontSize:"small"})})]}),children:l.state.showdeleteLogoAlertNotification})})},l.setEditorFocusItem=function(e){l.setState({editorFocusItem:e}),l.props.setEditorFocusItem(e)},l.onVideoTrimmerValueChange=function(e){var t=l.videoPlayer;t&&(t.currentTime!==e.min&&(t.currentTime=e.min),(null==e?void 0:e.max)-(null==e?void 0:e.min)<=.5||(l.videoStartTime=e.min,l.videoEndTime=e.max,l.setState({videoTrimmerValueChanged:!0})))},l.pausePlayVideo=function(e){var t=l.videoPlayer;if(t)if(t.paused){var n=l.state.currentSubScene;n&&n.settings&&!n.settings.muteClipAudio&&e&&(t.muted=!1),t.currentTime=l.videoStartTime,t.play().then((function(){t.currentTime=l.videoStartTime})).catch((function(e){}))}else t.pause(),t.muted=!0},l.validateVideoStockVisual=function(){var e=fe()("2021-11-02");if(fe()().isAfter(e)){var t=l.props.imageAsset;return t?(0,N.Kp)(t):(0,N.Kp)({url:l.props.imageUrl})}},l.NextScene=function(e){l.setState({isShowLoader:!0}),document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause(),l.closeSceneLevelPreview();var t,n=l.props.totalSubScenes;if(!(l.props.CounterSubSence+1>n)){t=l.props.CounterSubSence+1,l.props.changeActiveDiv(t);var r=document.getElementById("SceneLeftText_"+l.props.SceneId+"_"+l.props.SubSceneId),s=r?r.offsetTop:100;document.getElementById("divLeftSceneSentences").scrollTop=s-100;var a=de()("div.showcase"),i=de()(a).find("ul").children("li").length,o=de()("div.contents.slide-crousal").width()-100;de()(a).css({overflow:"hidden"}),de()(a).scrollLeft()+o<200*i&&de()(a).animate({scrollLeft:"+=100"},200),l.setState({isShowLoader:!1})}},l.BackScene=function(e){l.setState({isShowLoader:!0}),document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause(),l.closeSceneLevelPreview(),l.props.changeActiveDiv(l.props.CounterSubSence-1);var t=document.getElementById("SceneLeftText_"+l.props.SceneId+"_"+l.props.SubSceneId),n=t?t.offsetTop:100;document.getElementById("divLeftSceneSentences").scrollTop=n-100,l.setState({isShowLoader:!1})},l.DeleteScene=function(e){l.setState({showDeletePopup:!0})},l.CheckDeletable=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.props.allScenesArray.filter((function(e){return e.showSceneNumber.startsWith("Scene")})),n=t.filter((function(e){return e.isActive})),t.length===n.length?l.setState({showAlertNotification:"Cannot delete all scenes!",alertSeverity:"error"}):l.props.isVoiceOverApplying?l.setState({showAlertNotification:"Cannot delete scenes while voiceover is being applied!",alertSeverity:"error"}):l.state.inPreview?l.setState({showAlertNotification:"Cannot delete scenes at this time",alertSeverity:"error"}):l.props.setOpenConfirmDeleteDialog(!0);case 3:case"end":return e.stop()}}),e)}))),l.DeleteThisSceneConfirmOk=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.props.DeleteMultipleScenes();case 2:l.CloseConfirmationBox(),document.getElementById("btnGenerate").removeAttribute("disabled"),document.getElementById("btnPreview").removeAttribute("disabled"),ie().getInstance().logEvent("delete-scene",{"scene-text":l.state.currentSubScene.sentence,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.CloseConfirmationBox=function(e){l.setState({showDeletePopup:!1}),l.props.setOpenConfirmDeleteDialog(!1)},l.closeSceneLevelPreview=function(){var e,t,n=document.getElementById(l.props.PreviewPauseButton);n&&("pausePreviewButton fa fa-stop"===n.className&&(l.stopScenePreview(),l.animator&&l.animator.stop()),n.className="pausePreviewButton icon-play-right"),"stop"===l.state.previewPauseButtonState&&(null===(e=(t=l.props).closePreviewNew)||void 0===e||e.call(t)),l.setState({previewPauseButtonState:"play"})},l.stopScenePreview=function(){try{(document.getElementById(l.props.PreviewPauseButton)||document.getElementById(l.props.PreviewPauseButton+"New")).className="pausePreviewButton icon-play-right",l.setState({previewPauseButtonState:"play"}),l.setState({playPreview:!1});var e=document.getElementById("myAudioPlay"),t=document.getElementById("myVoiceOverAudioPlay");e.currentTime=0,e.pause(),t.pause()}catch(e){}},l.PreviewButtonClickNew=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"stop"===l.state.previewPauseButtonState||"pause"===l.state.previewPauseButtonState?(l.setState({previewPauseButtonState:"play"}),null===(n=(r=l.props).closePreviewNew)||void 0===n||n.call(r)):(l.setState({previewPauseButtonState:"stop"}),s=!(!l.props.settings.voiceOver||!(0,N.bg)()),l.props.playScenePreviewNew(l.props.SceneId,l.props.showSceneNumber,!0,!1,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.playVideoSegments=function(e,t,n,r){l.videoPlayer&&e.index<t.length-1&&(l.videoPlayer.currentTime>=t[e.index].end?(n.pause(),r.pause(),l.videoPlayer.pause(),l.animator.pause(),e.index=e.index+1,l.videoPlayer.currentTime=t[e.index].start):window.requestAnimationFrame((function(){return l.playVideoSegments(e,t,n,r)})))},l.resizeTimer=null,l.windowDidResize=function(){clearTimeout(l.resizeTimer),l.resizeTimer=setTimeout((function(){l.forceUpdate()}),250)},l.getDistinctArray=function(e,t,n){return n.indexOf(e)===t},l.getConvertedFontSize=function(e){try{if(!l.animationContainerRef||!l.animationContainerRef.current)return e;var t=window.getComputedStyle(l.animationContainerRef.current);return l.state.aspectRatioFactor*Ie.Z.unscaleLengthByContainerHeight(Ie.Z.convertPttoPx(e),parseFloat(t.height))}catch(t){return e}},l.updateRndPosition=function(e,t,n){var r,s=l.props.frameSize.width*parseFloat(t)/100;isNaN(s)&&(s=0);var a=l.props.frameSize.height*parseFloat(n)/100;isNaN(a)&&(a=0),null===(r=l.rnd[e])||void 0===r||r.updatePosition({x:s,y:a})},l.calculateCoordinates=function(e,t){if(e){var n=l.rnd[e];if(n){var r=document.querySelector(".btm-headbox .figure-block").getBoundingClientRect(),s=document.getElementById(e).getBoundingClientRect(),a=t?0:s.x-r.x,i=s.y-r.y;n.originalPosition.x===a&&n.originalPosition.y===i||n.updatePosition({x:a||0,y:i||0})}}},l.changePositionPreset=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.lastIndexOf("left")>1?n="left":t.lastIndexOf("right")>1?n="right":t.lastIndexOf("center")>1&&-1===t.indexOf("full-width-")&&(n="center"),r=l.state.editorFocusItem!==Kt.sceneText?"drag-and-resize-box_"+l.state.editorFocusItem:"drag-and-resize-box",l.rnd[r].isDragged=!1,e.next=5,l.onValueChange((0,s.Z)({preset:t,leftCoordinate:null,topCoordinate:null},n?{textAlign:n}:{}));case 5:l.calculateCoordinates(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.savePosition=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,s,i,o,c){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return e.next=3,l.setState({activeTextBoxId:c});case 3:l.onValueChange({preset:t,leftCoordinate:n,topCoordinate:r,textAlign:s,fullWidth:i},o);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o){return e.apply(this,arguments)}}(),l.getFormattingValues=function(e,t,n,a,i){var o={};if(l.state.activeTextBoxId===Kt.sceneText||!l.state.activeTextBoxId&&l.state.editorFocusItem===Kt.sceneText)if(a)o=a;else{for(var c=0;c<Ue.ye.length;c++){var u=Ue.ye[c];"displayItems"!==u&&"visual"!==u&&(void 0!==l.state[u]?o[u]=l.state[u]:o[u]=l.state.currentSubScene[u])}var d,p;e||t||n||(void 0===(null===(d=o.styleIdObj)||void 0===d?void 0:d.modified)?o=(0,s.Z)((0,s.Z)({},o),{},{styleIdObj:(0,s.Z)((0,s.Z)({},o.styleIdObj),{},{modified:!0})}):!1===(null===(p=o.styleIdObj)||void 0===p?void 0:p.modified)&&(o=(0,s.Z)((0,s.Z)({},o),{},{styleIdObj:(0,s.Z)((0,s.Z)({},o.styleIdObj),{},{modified:void 0})})))}else{o.displayItems=(0,r.Z)(l.state.currentSubScene.displayItems);var h,m,g,f,v,x=l.getFocusedDisplayItemIndex();x>-1&&(void 0!==e&&(""==e?o.displayItems.splice(x,1):o.displayItems[x]=(0,s.Z)((0,s.Z)({},o.displayItems[x]),{},{textHtml:e})),!o.displayItems[x]||e||t||i||(void 0===(null===(h=o.displayItems[x].itemStyleData)||void 0===h?void 0:h.styleIdObj)&&(o.displayItems[x].itemStyleData.styleIdObj={}),void 0===(null===(m=o.displayItems[x].itemStyleData)||void 0===m||null===(g=m.styleIdObj)||void 0===g?void 0:g.modified)?o.displayItems[x].itemStyleData.styleIdObj.modified=!0:!1===(null===(f=o.displayItems[x].itemStyleData)||void 0===f||null===(v=f.styleIdObj)||void 0===v?void 0:v.modified)&&(o.displayItems[x].itemStyleData.styleIdObj.modified=void 0)))}return o},l.saveEditorValues=function(e,t,n,r,s,a,i,o){var c=i||o?{}:l.getFormattingValues(e,t,n,s,a);if(l.state.editorFocusItem!==Kt.sceneText&&l.state.editorFocusItem&&(e=void 0,t=void 0),l.state.editorFocusItem||l.state.activeTextBoxId||o){l.props.saveTextEditorValue(l.props.CounterSubSence,e,t,c,l.props.SceneId,l.props.SubSceneId,void 0,n||!!s,r,!0,!1,i,o);var u=Rt.Z.getItem("voiceOverTrackId"),d=Rt.Z.getItem("voiceOverTrackCategory");u&&d&&"Eleven Labs"===d&&ie().getInstance().logEvent("edit-scene-text",{projectId:l.props.project_id,scendId:l.props.SceneId})}l.setState({activeTextBoxId:void 0})},l.onDecorationOptionsChange=function(e){return l.onValueChange({decoration:e})},l.onCaseOptionsChange=function(e){return l.onValueChange({case:e})},l.onTextAlignChange=function(e){return l.onValueChange({textAlign:e})},l.onPositionChange=function(e,t,n,r){l.onValueChange({fullWidth:e,preset:t,leftCoordinate:n,topCoordinate:r});var s=l.state.editorFocusItem===Kt.sceneText?"drag-and-resize-box":"drag-and-resize-box_"+l.state.editorFocusItem;setTimeout((function(){l.calculateCoordinates(s,e)}),100)},l.changeTextShadow=function(e,t){return l.onValueChange({textShadowColor:e,textShadowWidthFr:null!=t?t:.1})},l.changeFontColor=function(e){return l.onValueChange({fontColor:l.getRGBAString(e)})},l.changeKeywordColor=function(e){return l.onValueChange({keywordColor:l.getRGBAString(e)})},l.changeTextBackgroundColor=function(e){return l.onValueChange({textBackgroundColor:l.getRGBAString(e)})},l.changeStyleIdObj=function(e){return l.onValueChange({styleIdObj:e})},l.onFontSelection=function(e){return l.onValueChange({fontName:e})},l.onFontSizeSelection=function(e){return l.onValueChange({fontSize:e})},l.onFlip=function(e){return l.onValueChange(e)},l.onChangeOpacity=function(e){l.onValueChange({opacity:e})},l.onAnimationStartChanged=function(e,t){return l.onChangeAnimation("start",e,t)},l.onAnimationEndChanged=function(e,t){return l.onChangeAnimation("end",e,t)},l.onTextWidthChange=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,i){var o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n+="%",void 0!==r&&(r=r.toFixed(2)+"%"),!l.state.editorFocusItem||!t.target.closest(".MuiSlider-thumb")){e.next=7;break}o=l.state.editorFocusItem===Kt.sceneText?"drag-and-resize-box":"drag-and-resize-box_"+l.state.editorFocusItem,null===(c=l.rnd[o])||void 0===c||c.updateSize({width:n,height:"fit-content"}),e.next=9;break;case 7:return e.next=9,l.setState({activeTextBoxId:i});case 9:l.onValueChange((0,s.Z)({paragraphWidth:n},void 0!==r?{leftCoordinate:r}:{}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),l.onSaveStyle=function(e){l.changeStyleIdObj({id:e.metaData.styleId,scope:e.metaData.scope,modified:!1}),l.props.openTab(_t.PA,"global"===e.metaData.scope?Vt.pk.globalTemplateStylesTab.name:Vt.pk.userTemplateStylesTab.name)},l.onChangeAnimation=function(e,t,n){var r,s,a;if(l.state.editorFocusItem===Kt.sceneText)a=l.state.currentSubScene;else{var i,o=l.getFocusedDisplayItemIndex();a=o>-1&&(null===(i=l.state.currentSubScene.displayItems[o])||void 0===i?void 0:i.itemStyleData)}var c=(null===(r=a)||void 0===r||null===(s=r.animation)||void 0===s?void 0:s.text_animation)||[],u=null==c?void 0:c.find((function(t){return t.type===e}));u?(u.animation=t,u.speed=null!=n?n:.5):(n=null!=n?n:.5,c.push({animation:t,speed:n,type:e,source:"templates"}));var d={text_animation:c,text_bg_animation:c||[]};return l.props.playScenePreviewNew(null,null,!1,!0),l.onValueChange({animation:d})},l.changeDisplayItemUrl=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var i,o,c,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=l.getFocusedDisplayItemIndex(n))>-1)){e.next=13;break}return(o=(0,r.Z)(l.state.currentSubScene.displayItems))[i]=(0,s.Z)({},o[i]),o[i].visualData.url===t&&(c=o[i].visualData.visualDataObj,t=At.ZD,(0,pt.x2)("Unable to load the chosen image. Delete this and choose a different image")),o[i].visualData=(0,s.Z)((0,s.Z)({},o[i].visualData),{},{url:t}),u=(0,s.Z)((0,s.Z)({},l.state.currentSubScene),{},{displayItems:o}),e.next=9,l.setState({currentSubScene:u,editorFocusItem:n});case 9:l.saveEditorValues(void 0,void 0,void 0,!0),ie().getInstance().logEvent("decor-element-url-updated",{url:t,"decor-element-id":n,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id,"visual-not-found":c}),e.next=14;break;case 13:console.log("Error: displayItemId: ".concat(n," not found "));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l.onValueChange=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.state.activeTextBoxId!==Kt.sceneText&&(l.state.activeTextBoxId||l.state.editorFocusItem!==Kt.sceneText)){e.next=4;break}i=(0,s.Z)((0,s.Z)({},l.state.currentSubScene),t),e.next=15;break;case 4:if(o=l.getFocusedDisplayItemIndex(l.state.activeTextBoxId),c=(0,r.Z)(l.state.currentSubScene.displayItems),!(o>-1)){e.next=13;break}c[o]=(0,s.Z)({},c[o]),c[o].itemStyleData=(0,s.Z)((0,s.Z)({},c[o].itemStyleData),t),c[o].isLogo&&null!=t&&t.opacity&&ie().getInstance().logEvent("logo-opacity-updated",{}),i=(0,s.Z)((0,s.Z)({},l.state.currentSubScene),{},{displayItems:c}),e.next=15;break;case 13:return ie().getInstance().logEvent("text-box-style-update-error",{changes:t,"apply-to-all":!!n,"text-box-id":l.state.activeTextBoxId||l.state.editorFocusItem,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id,displayItems:JSON.stringify(c)}),e.abrupt("return");case 15:return e.next=17,l.setState({currentSubScene:i});case 17:n?l.saveEditorValues(void 0,void 0,void 0,!0,t):l.saveEditorValues(void 0,void 0,void 0,!0),ie().getInstance().logEvent("text-box-style-updated",{changes:t,"apply-to-all":!!n,"text-box-id":l.state.activeTextBoxId||l.state.editorFocusItem,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id});case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l.restrictCmdInEditor=function(e){!e.ctrlKey&&!e.metaKey||["c","v","x"].includes(e.key)||e.preventDefault()},l.onEditorTextSelection=function(e){var t=window.getSelection();"Range"===t.type?l.setState({showUnhighlight:!l.hasNonhighlightedText(t)}):l.setState({showUnhighlight:void 0})},l.hasNonhighlightedText=function(e){var t,n,r,s,a,i;return(null===(t=e.getRangeAt(0).cloneContents())||void 0===t?void 0:t.childNodes).forEach((function(e){"#text"!==e.nodeName||"STRONG"===e.parentNode.nodeName||i||(i=!0)})),i=i&&!("STRONG"==(null===(n=e.anchorNode)||void 0===n||null===(r=n.parentElement)||void 0===r?void 0:r.nodeName)&&"STRONG"==(null===(s=e.focusNode)||void 0===s||null===(a=s.parentElement)||void 0===a?void 0:a.nodeName))},l.applyHighlight=function(e){try{var t;e&&e.preventDefault();var n=window.getSelection();if(!n||"Range"!==n.type)return;var r,s=n.getRangeAt(0).toString(),a=l.hasNonhighlightedText(n);r=a?"<strong>"+s+"</strong>":s,document.execCommand("insertHTML",!1,r);var o=l.state.editorFocusItem===Kt.sceneText?"#editor-box":"#editor-box_"+l.state.editorFocusItem,c=document.querySelector(o+" p span"),u=c.innerHTML;(u=(0,N.VA)(u,"&nbsp;"," ")).match(/(  )/g)&&(u=(0,N.VA)(u,"  ","&nbsp; ")),c.innerHTML=u;var d=a?"highlight-text":"unhighlight-text";ie().getInstance().logEvent("highlight-text",(t={},(0,i.Z)(t,d,s),(0,i.Z)(t,"scene-text",u),(0,i.Z)(t,"project-id",l.props.project_id),t))}catch(e){}},l.OpenTextEditorForSceneText=function(e){var t=window.getSelection();t&&t.removeAllRanges(),l.props.isOpenTextEditor||l.props.closeOpenTextEditor(l.props.CounterSubSence,!0)},l.AddNewScene=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,o,c,u,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.editorRef||!l.props.isOpenTextEditor){e.next=3;break}return e.next=3,l.editorRef.saveText();case 3:if(!l.props.isOpenTextEditor){e.next=6;break}return e.next=6,l.props.closeOpenTextEditor(l.props.CounterSubSence,!1);case 6:o=!1,e.t0=t,e.next="combo"===e.t0?10:"text"===e.t0?13:"visual"===e.t0?17:"blank"===e.t0?22:26;break;case 10:return s=!0,r=!0,e.abrupt("break",29);case 13:return s=!1,r=!0,i=!0,e.abrupt("break",29);case 17:return s=!1,r=!1,o=!0,i=!0,e.abrupt("break",29);case 22:return s=!1,r=!1,i=!0,e.abrupt("break",29);case 26:return r=!0,s=!0,e.abrupt("break",29);case 29:1==i&&l.props.openTextures(o),setTimeout((function(){if(n)l.props.insertSceneBefore(l.props.SceneId,l.props.SceneId,l.props.SubSceneId,r,t,s,l.props.CounterSubSence);else{var e=l.props.CounterSubSence,a=l.state.currentSubScene.AllSubSentences.length-l.state.currentSubScene.subSceneId;a>0&&(e+=a),l.props.InsertNewScene(e,l.props.SceneId,l.props.SubSceneId,r,t,s)}}),500),c=l.props.SceneId,u=l.props.SubSceneId,n||(d=document.getElementById("Scene_"+c+"_"+u))&&(d.style.display="none"),document.getElementById("image_a_"+c+"_"+u).classList.remove("active"),document.getElementById("SceneP_"+c+"_"+u)&&document.getElementById("SceneP_"+c+"_"+u).classList.remove("orignalArticleHighlightText");case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l.AddNewSubScene=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.editorRef){e.next=3;break}return e.next=3,l.editorRef.saveText();case 3:if(!l.props.isOpenTextEditor){e.next=6;break}return e.next=6,l.props.closeOpenTextEditor(l.props.CounterSubSence,!1);case 6:r=l.props.CounterSubSence,s=r+1,i=l.state.currentSubScene.AllSubSentences.length+s-l.state.currentSubScene.subSceneId,n?l.props.insertSubsceneBefore(r,l.props.SceneId,l.props.SubSceneId,s,i):l.props.InsertNewSubScene(r,l.props.SceneId,l.props.SubSceneId,s,i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l.checkImageZoom=function(e){l.setState({checkedImageZoom:e.target.checked},(function(){l.props.checkImageZoom(l.state.checkedImageZoom,l.props.SceneId,l.state.settings,l.state.applyImageZoomPanToAllScene)}))},l.applyImageZoomPanToAllScene=function(e){l.setState({applyImageZoomPanToAllScene:e.target.checked},(function(){l.props.applyImageZoomPanToAllSceneFn(l.state.checkedImageZoom,l.state.applyImageZoomPanToAllScene)}))},l.checkVoiceOver=function(e){l.setState({checkedVoiceOver:e.target.checked},(function(){l.props.checkVoiceOver(l.state.checkedVoiceOver,l.props.SceneId,l.state.settings,l.state.applyVoiceOverToAllScene)}))},l.applyVoiceOverToAllScene=function(e){l.setState({applyVoiceOverToAllScene:e.target.checked},(function(){l.props.applyVoiceOverToAllScene(l.state.checkedVoiceOver,l.state.applyVoiceOverToAllScene)}))},l.checkMusic=function(e){l.setState({checkedMusic:e.target.checked},(function(){l.props.checkMusic(l.state.checkedMusic,l.props.SceneId,l.state.settings,l.state.applyMusicToAllScene)}))},l.applyMusicToAllScene=function(e){l.setState({applyMusicToAllScene:e.target.checked},(function(){l.props.applyMusicToAllScene(l.state.checkedMusic,l.state.applyMusicToAllScene)}))},l.checkMuteClipAudio=function(e){l.setState({muteClipAudio:e.target.checked},(function(){l.state.muteClipAudio&&l.props.allowTrimVideo&&l.props.trimScene(l.videoStartTime,l.videoEndTime?l.videoEndTime:l.videoDuration,!0,l.props.SceneId,l.state.settings),l.props.checkMuteClipAudio(l.state.muteClipAudio,l.props.SceneId,l.state.muteClipAudioAllScene)}))},l.applyMuteClipAudioToAllScene=function(e){l.setState({muteClipAudioAllScene:e.target.checked},(function(){l.props.applyMuteClipAudioToAllScene(l.state.muteClipAudio,l.state.muteClipAudioAllScene)}))},l.checkLoopVideo=function(e,t){l.setState({loopVideo:e.target.checked},(function(){l.props.checkLoopVideo(l.state.loopVideo,l.props.SceneId,l.state.loopVideoAllScene)}))},l.applyLoopVideoToAllScene=function(e){l.setState({loopVideoAllScene:e.target.checked},(function(){l.props.applyLoopVideoToAllScene(l.state.loopVideo,l.state.loopVideoAllScene)}))},l.checkHideText=function(e,t){l.setState({applyHideTextToAllScene:!1,checkHideText:e.target.checked,applyToAllVisible:!0},(function(){l.props.checkHideText(l.state.checkHideText,l.props.SceneId,l.props.SubSceneId,l.state.settings,l.state.applyHideTextToAllScene)})),l.setState({showAlertNotification:"Hide text applied to current scene",alertSeverity:"success"})},l.applyHideTextToAllScene=function(e){var t,n=void 0===(null==e||null===(t=e.target)||void 0===t?void 0:t.checked);l.setState({applyHideTextToAllScene:n||e.target.checked},(function(){l.props.applyHideTextToAllScene(l.state.checkHideText,l.state.applyHideTextToAllScene),n&&l.state.applyHideTextToAllScene&&(l.setState({applyHideTextToAllScene:!1,applyToAllViaButton:!0}),setTimeout((function(){l.setState({showAlertNotification:"Hide text applied to all scenes",alertSeverity:"success"})}),100))})),n&&setTimeout((function(){l.setState({applyToAllViaButton:!1,applyToAllVisible:!1})}),2e3)},l.trimScene=function(){l.setState({showTrimBar:!1,showFocusOverlay:!1,playPreview:!1},(function(){l.props.trimScene(l.videoStartTime,l.videoEndTime?l.videoEndTime:l.videoDuration,!0,l.props.SceneId,l.state.settings)}))},l.checkAllScene=function(e){l.setState({checkedAllScene:e.target.checked},(function(){l.props.checkAllScene(l.state.checkedAllScene,l.state.settings)}))},l.properDuration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.floor(e/60),s=n?e.toFixed(1):Math.round(e%60);return"s"===t?(0!==r?r+"m ":"")+s+"s":r+":"+(s<10?"0"+s:s)},l.applyTrimVideo=function(e){l.setState({showTrimBar:!1,showFocusOverlay:!1,showApplyDurationPopup:!e,videoTrimmerValueChanged:!1}),l.trimScene()},l.applyDurationToCurrentScene=function(){var e=(l.videoEndTime||l.videoDuration)-(l.videoStartTime||0);l.onChangeSubSceneDuration(e,!0),l.closeConfirmationBox()},l.closeConfirmationBox=function(){l.setState({showApplyDurationPopup:!1})},l.startTrimmingVideo=function(){var e,t;l.stopScenePreview(),null===(e=(t=l.props).closePreviewNew)||void 0===e||e.call(t),(0,N.N$)(l.props.user?l.props.user.username:"")[Ue.R2.cropClips]?(l.setState({showTrimBar:!!l.videoLoaded,showFocusOverlay:!0,temp:{start:l.videoStartTime,end:l.videoEndTime}}),setTimeout((function(){document.querySelectorAll(".edit-video.input-range-container .input-range__label.input-range__label--value").forEach((function(e){e.classList.add("hidden"),e.parentElement.children[1].addEventListener("mousedown",(function(){var t,n,r;e.classList.remove("hidden"),null===(t=document)||void 0===t||null===(n=t.querySelector(".video-duration.floating-center"))||void 0===n||null===(r=n.classList)||void 0===r||r.add("hidden")})),e.parentElement.children[1].addEventListener("mouseup",(function(){var t,n,r;e.classList.add("hidden"),null===(t=document)||void 0===t||null===(n=t.querySelector(".video-duration.floating-center"))||void 0===n||null===(r=n.classList)||void 0===r||r.remove("hidden")}))}))}),200)):l.props.trimVideoNotAllowed()},l.uploadError=function(e,t,n){(0,pt.x2)(e),setTimeout((function(){l.setState({textForSaveButton:"Save",textForApplyButton:"Apply",recordingSaveInProgress:!1})}),1e3),ie().getInstance().logEvent(n?"save-recording-error":"apply-recording-error",{error:t})},l.saveBlobFile=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,s){var i,o,c,u,d,p,h,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.setState({textForSaveButton:n?"Saving..":"Save",textForApplyButton:n?"Apply":"Applying..",recordingSaveInProgress:!0}),(0,N.xd)(n?"save-recording":"apply-recording",{}),l.props.openTab(_t._F),(i=s)||(i=me.extension(t.type)),o=(new Date).toISOString().replace(/\D/g,""),c="/recorded-audio/".concat(o,".").concat(i),u=l.props.user.username+"/project/"+l.props.project_id+c,e.next=11,(0,Pt.d)();case 11:return e.next=13,oe.Ke.put(u,t,{level:"public",ACL:"public-read",contentType:me.lookup(c)});case 13:if((d=e.sent)&&d.key){e.next=17;break}return l.uploadError("Failed to upload recorded audio. Please try again.","Failed to upload recorded audio file: "+c,n),e.abrupt("return");case 17:return p=ke.Z.Instance.GetUserUploadUrl(u,"public"),e.next=20,(0,le.Z)(t);case 20:return h=e.sent,h=parseFloat(h.toFixed(2)),m={id:o,trackId:o,name:r||c,type:"voiceover",url:p,category:"upload",duration:h||0,cognito_id:l.props.user.username,date:new Date},e.next=25,l.props.saveAudioFavAndRecents({body:m});case 25:"success"===l.props.saveAudioStatus?(l.props.getAudioFavouritesAndRecent(),n||(Rt.Z.setItem("recordedAudio",p),l.props.recordAudio(p,h,l.props.SceneId,l.props.SubSceneId,l.state.playbackRate))):n?((0,pt.x2)("Could not save recording. Please contact support"),(0,N.xd)("apply-recording-failed",{error:"saveAudioFavAndRecents failed"})):((0,pt.x2)("Could not apply recording. Please contact support"),(0,N.xd)("save-recording-failed",{error:"saveAudioFavAndRecents failed"})),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),n?((0,pt.x2)("Could not save recording. Please contact support"),(0,N.xd)("apply-recording-failed",{error:e.t0.message})):((0,pt.x2)("Could not apply recording. Please contact support"),(0,N.xd)("save-recording-failed",{error:e.t0.message}));case 32:return e.prev=32,l.setState({textForSaveButton:"Save",textForApplyButton:"Apply",recordingSaveInProgress:!1},(function(){l.cancelRecordAudio()})),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[0,29,32,35]])})));return function(t,n,r,s){return e.apply(this,arguments)}}(),l.recordAudio=function(){var e,t;l.stopScenePreview(),null===(e=(t=l.props).closePreviewNew)||void 0===e||e.call(t);var n={echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1};ie().getInstance().logEvent("record-audio",{"media-constraints":navigator.mediaDevices.getSupportedConstraints(),"audio-constraints-applied":n,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id}),navigator.mediaDevices.getUserMedia({audio:n}).then((function(e){l.mediaRecorder=new MediaRecorder(e),l.recordedAudioChunks=[],l.mediaRecorder.ondataavailable=l.onAudioStreamReceived,l.mediaRecorder.onstop=l.onMediaRecorderStopped,l.mediaRecorder.start(),l.setState({startRecording:!0,audioAnalyzer:e,showDuration:0}),l.timer=setInterval((function(){var e=l.state.showDuration+1;l.mediaRecorder&&"inactive"!=l.mediaRecorder.state&&l.setState({showDuration:e})}),1e3)})).catch((function(e){l.setState({isRecording:!1,haveRecorded:!1,audioAnalyzer:null}),alert("Permission denied to access the mic, please allow mic permission to use this feature")}))},l.onAudioStreamReceived=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.recordedAudioChunks.push(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.onMediaRecorderStopped=function(e){if("inactive"===l.mediaRecorder.state){var t=l.recordedAudioChunks[0];l.setState({audioBlob:t,startRecording:!1});var n=URL.createObjectURL(t),r=(new Audio(n),document.getElementById("audio-recording"));r.src=n,r.controls=!0,r.autoplay=!0,r.volume=0,r.addEventListener("durationchange",(function(){r.duration&&"Infinity"!=r.duration&&l.setState({showDuration:r.duration})}))}},l.stopAudio=function(){l.timer&&(clearInterval(l.timer),l.timer=null),l.state.audioAnalyzer&&l.setState({audioAnalyzer:null}),l.mediaRecorder&&"inactive"!=l.mediaRecorder.state&&l.state.startRecording&&(l.mediaRecorder.stop(),l.timer&&(clearInterval(l.timer),l.timer=null))},l.handleFocusOverlayElementClick=function(){l.state.showUploadAudioOverlay&&l.setState({showUploadAudioOverlay:!1}),l.state.showRecordAudioOverlay&&(l.setState({showRecordAudioOverlay:!1}),l.props.elevateStoryboardScriptTab(!1),l.stopAudio())},l.setAudioFile=function(e){if(e){if(["audio/mpeg","audio/wav","audio/webm"].every((function(t){return e.type!==t})))return(0,pt.x2)("Please select a valid file"),!1;l.setState({audioFile:e,audioFileName:e.name,audioFileError:""},(0,o.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0,n="audio/x-ms-wma"==e.type?"wma":"audio/wav"==e.type?"wav":me.extension(e.type),t.next=4,l.saveBlobFile(e,void 0,e.name,n);case 4:case"end":return t.stop()}}),t)}))))}},l.handlePlaypauseRecordAudioClick=function(){if(l.state.isRecording||l.state.haveRecorded)if(!l.state.haveRecorded&&l.state.isRecording)l.stopAudio(),l.setState({isRecording:!1,haveRecorded:!0});else if(l.state.haveRecorded&&!l.state.isRecording){if(l.state.audioBlob)if(l.state.isPlaying)l.audio.pause(),l.setState({isPlaying:!1,onlyResume:!0});else{if(!l.state.onlyResume){var e=URL.createObjectURL(l.state.audioBlob);l.audio=new Audio(e)}l.audio.playbackRate=l.state.playbackRate,l.audio.play(),l.setState({isPlaying:!0,onlyResume:!1})}l.audio.addEventListener("ended",(function(){l.setState({isPlaying:!1,onlyResume:!1})}))}else l.state.haveRecorded&&l.state.isRecording&&l.setState({isRecording:!1,haveRecorded:!1});else l.setState({isRecording:!0,haveRecorded:!1},(function(){l.recordAudio()}))},l.cancelRecordAudio=function(e){l.state.recordingSaveInProgress||(l.timer&&(clearInterval(l.timer),l.timer=null),l.state.audioAnalyzer&&l.setState({audioAnalyzer:null}),l.audio&&(l.audio.pause(),l.audio=""),l.props.elevateStoryboardScriptTab(e),l.setState({showRecordAudioOverlay:e,duration:0,recordedAudio:"",showDuration:0,audioBlob:void 0,isRecording:!1,haveRecorded:!1,playbackRate:1,textForApplyButton:void 0,textForSaveButton:void 0,audioFile:"",audioFileName:"",audioFileError:"",showUploadAudioOverlay:!1,isPlaying:!1,onlyResume:!1}))},l.hasVideoEnded=function(e){e&&(l.setState({playPreview:!1}),l.setState({previewPauseButtonState:"play"}),document.getElementById(l.props.PreviewPauseButton).className="pausePreviewButton icon-play-right")},l.hasVideoEndedNew=function(e){e&&"play"!==l.state.previewPauseButtonState&&l.setState({previewPauseButtonState:"play"})},l.dynamicCss=function(){return".insert-scene-dropdown:hover .dropdown-menu { display: none; }"},l.getVisualsDimensions=function(e){var t=0,n=0,r=0,s=0,a="";if(!e&&l.currentVisualsDimensions&&l.currentVisualsDimensions.rendered_width>0&&l.currentVisualsDimensions.SceneId===l.props.SceneDivId)return l.currentVisualsDimensions;var i=l.imageRef;if(i)t=i.naturalWidth,n=i.naturalHeight,r=i.width,s=i.height,a=i.id;else{(i=l.videoPlayer)&&(t=i.videoWidth,n=i.videoHeight,r=i.offsetWidth,s=i.offsetHeight,a=i.id);var o=Math.round(t/n*100)/100,c=Math.round(r/s*100)/100;(0==t||0==n||o>c)&&(r=0,s=0)}return l.currentVisualsDimensions={visual_width:t,visual_height:n,rendered_width:r,rendered_height:s,SceneId:a},e&&l.setState({refreshTimestamp:new Date}),l.currentVisualsDimensions},l.handleVisualDrag=he().debounce((function(e,t){var n=l.props.frameSize?l.props.frameSize.height:Ie.Z.defaultHeight,r=t.x,s=parseInt(r*Ie.Z.defaultHeight/n);if(Math.abs(s)>0||Math.abs(0)>0){var a=l.getVisualsDimensions(),i=a.visual_width,o=a.visual_height;Math.round(1e3*l.props.aspectRatioFractionValue)/1e3>=Math.round(i/o*1e3)/1e3&&(s=0);var c={center_x:s,center_y:0,visual_width:i,visual_height:o};l.props.setFrameCoordinates(c,l.props.SceneId)}}),500),l.DraggableFrame=function(e){var t=!1,n=0,r=0,a=0,i=0,o=0,c="",u={marginLeft:"auto",marginRight:"auto"};if(l.props.frameSize){r=l.props.frameSize.height,n=l.props.frameSize.width;var d=r*Nt.Wi,p=l.props.settings.frame||l.getVisualsDimensions(),h=p.visual_width/p.visual_height;l.props.aspectRatioFractionValue<h?((n=r*h)>d&&(n=d),(o=r*h)>n&&(c="expand-to-width")):o=n;var m=parseInt(parseFloat(r)*l.props.aspectRatioFractionValue);a=parseInt((d-m)/2),i=parseInt((o-m)/2),o>0&&i>0&&(u={},t=!0)}var g={x:0,y:0};if(l.props.settings&&l.props.settings.frame&&r&&i>0){var f=l.props.settings.frame.center_x&&0!=l.props.settings.frame.center_x?parseInt(Ie.Z.unscaleLengthByContainerHeight(l.props.settings.frame.center_x,r)):0,v=l.props.settings.frame.center_y&&0!=l.props.settings.frame.center_y?parseInt(Ie.Z.unscaleLengthByContainerHeight(l.props.settings.frame.center_y,r)):0;i>0&&Math.abs(f)>0&&Math.abs(f)>i&&(f=Math.sign(f)*i,t=!1,l.handleVisualDrag(null,{x:f,y:v})),g={x:parseInt(f),y:parseInt(v)}}return(0,O.jsxs)("div",{style:(0,s.Z)({width:n+"px"},u),children:[!t&&(0,O.jsx)("div",{className:"draggable-video-view no-drag",style:{transform:"translate(".concat(g.x,"px, ").concat(g.y,"px)"),width:n+"px"},children:e}),t&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"video-view",children:[(0,O.jsx)("div",{className:"video-view-translucent",style:{width:a+"px"}}),(0,O.jsx)("div",{className:"video-view-translucent right-aligned-view",style:{width:a+"px"}})]}),(0,O.jsx)(Se(),{axis:"x",bounds:{left:-1*i,right:i},defaultPosition:g,handle:".handle",onDrag:l.handleVisualDrag,children:(0,O.jsx)("div",{id:"draggable-container",className:"handle draggable-component draggable-video-view ".concat(c),children:e})})]})]},l.props.SceneId)},l.getSubSceneDuration=function(){var e=void 0===l.state.subSceneTime?l.props.subSceneTime:l.state.subSceneTime;if(e){var t=(e=e.toString()).split("."),n=t[1];n&&n.length>1&&(e=parseFloat(e).toFixed(1)),isNaN(e)&&(e=t[0])}else e="";return e},l.onChangeSubSceneDuration=function(e,t){var n,r,s=void 0===l.state.subSceneTime||0==(null===(n=l.state.subSceneTime)||void 0===n?void 0:n.length)?l.props.subSceneTime:l.state.subSceneTime;null!=e&&0!=e.length&&null!=e?((r=parseFloat(e))<=0&&s>(r=s>r?s:1)&&0===s&&(r=1),r<.5&&(r=.5),l.setState({subSceneTime:r,sceneDurationFocused:!0,sceneDurationChanged:!0}),l.props.onSceneDurationUpdate(l.props.SceneId),l.props.SetTimePerFrame(l.props.subSentenceIndex,r,l.props.subSceneTime)):0==e.length?l.setState({subSceneTime:"",sceneDurationFocused:!0,sceneDurationChanged:!0}):l.setState({subSceneTime:1,sceneDurationFocused:!0,sceneDurationChanged:!0})},l.onBlurChangeSubSceneDuration=function(e,t){var n,r=l.state.sceneDurationChanged;if(l.setState({sceneDurationChanged:!1}),r){var s=void 0===l.state.subSceneTime||0==(null===(n=l.state.subSceneTime)||void 0===n?void 0:n.length)?l.props.subSceneTime:l.state.subSceneTime;if(null==s||0==s.length||null==s||0==s){if(null!=s&&0!=s.length)return;s=1,l.setState({subSceneTime:s,sceneDurationFocused:!1})}var a=parseFloat(s);isNaN(a)&&(a=5),a>100&&(a=100),l.setState({subSceneTime:a,sceneDurationFocused:!1}),1==l.state.isApplyDurationToAllScenes&&0==t?l.changeAllSubSceneDuration(!0,a,e):l.props.SetTimePerFrame(l.props.subSentenceIndex,a,l.props.subSceneTime)}},l.changeAllSubSceneDuration=function(e,t){if(l.setState({isApplyDurationToAllScenes:e}),1==e){var n=l.state.subSceneTime?l.state.subSceneTime:l.props.subSceneTime;isNaN(n)&&(n=5),l.props.SetTimePerFrameForAllScenes(n)}},l.getFocusedDisplayItemIndex=function(e){var t;return null===(t=l.state.currentSubScene.displayItems)||void 0===t?void 0:t.findIndex((function(t){return(e||l.state.editorFocusItem)===t.id}))},l.getFocusedDisplayItem=function(){var e;return null===(e=l.state.currentSubScene.displayItems)||void 0===e?void 0:e.find((function(e){return l.state.editorFocusItem===e.id}))},l.getRGBAString=function(e){if("string"==typeof e&&0==e.indexOf("#"))return e;var t=e.rgb;return"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")},l.getFontStyle=function(e){if(e){var t=_t.ZP.getFrontFontName(e).split(";");return{style:{fontFamily:t[0]?t[0]:"Arial",fontWeight:t[1]?t[1].split(":")[1]:"normal"}}}return{}},l.SelectDropDown=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t&&(t=isNaN(t)?t.replace(/'/g,""):t.toString());var i=t&&e.find((function(e){return e.value==t||e.text==t||isNaN(t)&&e.value.indexOf(t)>-1}));"font-size-list-dropdown"===r&&t&&!i&&(i={text:t,value:t}),i||(i=e[0]);var o={};return a&&i.value&&(o=l.getFontStyle(i.value)),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(ve.Z,{onSelect:n,className:r,children:[(0,O.jsx)(ve.Z.Toggle,{id:"dropdown-custom-components",className:"fill-height",children:(0,O.jsx)("span",(0,s.Z)((0,s.Z)({},o),{},{children:i.text}))}),(0,O.jsx)(ve.Z.Menu,{children:e.map((function(e){o={},a&&e.value&&(o=l.getFontStyle(e.value));var t=i.value==e.value?{className:"active"}:{};if(e.value)return(0,O.jsx)(ve.Z.Item,(0,s.Z)((0,s.Z)((0,s.Z)({eventKey:e.value,value:e.value},o),t),{},{children:e.text}))}))})]})})},l.renderVerticalLines=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2?arguments[2]:void 0,r=(0,s.Z)((0,s.Z)({width:"1px",height:t+"px",borderLeft:"1.5px dashed",left:0},n?{bottom:0}:{top:0}),Bt),a=(0,s.Z)((0,s.Z)({},r),{},{left:"50%"}),i=(0,s.Z)((0,s.Z)({},r),{},{left:"unset",right:0});return(0,O.jsxs)(O.Fragment,{children:[e[0]&&(0,O.jsx)(H.Z,{sx:r}),e[1]&&(0,O.jsx)(H.Z,{sx:a}),e[2]&&(0,O.jsx)(H.Z,{sx:i})]})},l.renderHorizontalLines=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2?arguments[2]:void 0,r=(0,s.Z)((0,s.Z)({height:"1px",width:t+"px",borderTop:"1.5px dashed"},n?{right:0}:{left:0}),{},{top:0},Bt),a=(0,s.Z)((0,s.Z)({},r),{},{top:"50%"}),i=(0,s.Z)((0,s.Z)({},r),{},{top:"unset",bottom:0});return(0,O.jsxs)(O.Fragment,{children:[e[0]&&(0,O.jsx)(H.Z,{sx:r}),e[1]&&(0,O.jsx)(H.Z,{sx:a}),e[2]&&(0,O.jsx)(H.Z,{sx:i})]})},l.showLine=function(e,t){return Math.abs(t-e)<5},l.getDraggedElementBounds=function(){var e,t,n,r=null===(e=l.rnd.currentlyDraggedElement)||void 0===e||null===(t=e.props)||void 0===t?void 0:t.id;if(r)return null===(n=document.getElementById(r))||void 0===n?void 0:n.getBoundingClientRect()},l.renderFrameRefLines=function(){if(l.rnd.currentlyDraggedElement){var e=document.querySelector(".btm-headbox .figure-block").getBoundingClientRect(),t=e.width/2+e.left,n=e.height/2+e.top,r=l.getDraggedElementBounds(),a=l.showLine(r.left,t)||l.showLine((r.left+r.right)/2,t)||l.showLine(r.right,t),i=l.showLine(r.top,n)||l.showLine((r.top+r.bottom)/2,n)||l.showLine(r.bottom,n);return(0,O.jsxs)(O.Fragment,{children:[a&&(0,O.jsx)(H.Z,{sx:(0,s.Z)({height:e.height+"px",width:Jt,borderLeft:"1.5px solid",left:e.width/2+"px",zIndex:3},Bt)}),i&&(0,O.jsx)(H.Z,{sx:(0,s.Z)({width:e.width+"px",height:Jt,borderTop:"1.5px solid",top:e.height/2+"px",zIndex:3},Bt)})]})}},l.renderSmartGuideLines=function(e){if(l.rnd.currentlyDraggedElement&&l.rnd.currentlyDraggedElement.props.id!==e){var t,n,r,s,a,i,o=l.getDraggedElementBounds(),c=function(e){return l.showLine(o.left,e)||l.showLine((o.left+o.right)/2,e)||l.showLine(o.right,e)},u=function(e){return l.showLine(o.top,e)||l.showLine((o.top+o.bottom)/2,e)||l.showLine(o.bottom,e)},d=document.getElementById(e).getBoundingClientRect(),p=[c(d.left),c((d.left+d.right)/2),c(d.right)],h=[u(d.top),u((d.top+d.bottom)/2),u(d.bottom)];return t=p.some((function(e){return e})),n=h.some((function(e){return e})),t&&((r=o.bottom-d.top)<o.height?(r=d.bottom-o.top,a=!0):r<d.height&&(r=d.height)),n&&((s=o.right-d.left)<o.width?(s=d.right-o.left,i=!0):s<d.width&&(s=d.width)),(0,O.jsxs)(O.Fragment,{children:[t&&l.renderVerticalLines(p,r,a),n&&l.renderHorizontalLines(h,s,i)]})}},l.DragAndResizeBox=function(e,t){var n,r,i,c,u=null==t?void 0:t.itemStyleData,d=null==t?void 0:t.textHtml,p=(null==t?void 0:t.id)||Kt.sceneText,h=t?"drag-and-resize-box_"+t.id:"drag-and-resize-box",m="visual"===(null==t?void 0:t.type),g=t?(null===(n=l.getFocusedDisplayItem())||void 0===n?void 0:n.id)===(null==t?void 0:t.id):l.state.editorFocusItem===Kt.sceneText;u||(u=l.state.currentSubScene);var f=isNaN(parseFloat(u.leftCoordinate))?0:Math.round(parseFloat(u.leftCoordinate)*l.props.frameSize.width)/100,v=isNaN(parseFloat(u.topCoordinate))?0:Math.round(parseFloat(u.topCoordinate)*l.props.frameSize.height)/100,x=!u.fullWidth||null!==(r=l.rnd[h])&&void 0!==r&&r.isDragged?"":"full-width-style",S="";!u.preset||null!==(i=l.rnd[h])&&void 0!==i&&i.isDragged||(S=(u.fullWidth?"":"position-preset ")+u.preset);var y=!(!u.topCoordinate||!u.leftCoordinate),b=null!==(c=l.rnd[h])&&void 0!==c&&c.isDragged||y?"dragged":"",j=l.state.editorFocusItem===p?"sentences-above-logo":"",w=g&&(t?l.state.isOpenTextEditor:l.props.isOpenTextEditor),Z=w,k=u.preset&&u.preset.indexOf("left")>-1||u.leftCoordinate,C=u.preset&&u.preset.indexOf("right")>-1,I=u.preset&&u.preset.indexOf("top")>-1||u.topCoordinate,T=u.preset&&u.preset.indexOf("bottom")>-1,E=m?{lockAspectRatio:!0,resizeHandleClasses:{right:"resize-handle right",left:"resize-handle left",top:"resize-handle top",bottom:"resize-handle bottom"},enableResizing:{top:!u.fullWidth&&!I,right:!u.fullWidth&&!C,bottom:!u.fullWidth&&!T,left:!u.fullWidth&&!k,topRight:!u.fullWidth&&!I&&!C,bottomRight:!u.fullWidth&&!T&&!C,bottomLeft:!u.fullWidth&&!T&&!k,topLeft:!u.fullWidth&&!I&&!k}}:{maxHeight:"fit-content",enableResizing:{top:!1,right:!u.fullWidth&&!C,bottom:!1,left:!u.fullWidth&&!k,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},resizeHandleClasses:{right:"resize-handle right",left:"resize-handle left"}};return(0,O.jsxs)(Ze.s,(0,s.Z)((0,s.Z)((0,s.Z)({id:h,disableDragging:Z,className:["drag-and-resize-box sentences drag-handle",x,S,b,j,Z?"disable-dragging":"",w?"edit-mode":"",g?"editor-box-selected":"",t&&("text"!==t.type||d)||!t&&l.props.Sentence?"":"blank-text",!t&&l.state.checkHideText?"hidden":""].join(" "),ref:function(e){return l.rnd[h]=e},default:{x:f,y:v,width:u.paragraphWidth},minWidth:(m?5:30)+"%"},m?{}:{bounds:"parent"}),{},{size:{width:u.paragraphWidth},dragHandleClassName:"editor-box-inner",onDragStart:function(e,t){l.rnd.currentlyDraggedElement=l.rnd[h],u.leftCoordinate||u.topCoordinate||l.calculateCoordinates(h)},onDrag:function(e,t){l.dragEnd=!1,l.rnd[h].isDragged||(l.rnd[h].isDragged=!0),l.forceUpdate()},onDragStop:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,o,c,d,m,g,f,v;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.rnd.currentlyDraggedElement=void 0,i=n.lastX,o=n.lastY,c=i/l.props.frameSize.width*100,d=o/l.props.frameSize.height*100,l.rnd[h].isDragged){e.next=7;break}return e.abrupt("return");case 7:isNaN(c)&&(c=0),isNaN(d)&&(d=0),m=(null===(r=l.rnd[h])||void 0===r?void 0:r.originalPosition.x)/l.props.frameSize.width*100||0,g=(null===(s=l.rnd[h])||void 0===s?void 0:s.originalPosition.y)/l.props.frameSize.height*100||0,(Math.abs(c-m)>1||Math.abs(d-g)>1)&&(l.dragEnd=!0,f=c.toFixed(2)+"%",v=d.toFixed(2)+"%",l.savePosition(null,f,v,u.textAlign,u.fullWidth,!1,p)),l.calculateCoordinates(h);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onResizeStop:function(e,t,n,r,s){var a=((parseFloat(u.paragraphWidth)||100)*l.props.frameSize.width/100+r.width)/l.props.frameSize.width*100,i=m?5:30;a<i&&(a=i),a>100&&(a=100),a=a.toFixed(2);var o=u.preset?void 0:s.x/l.props.frameSize.width*100;l.onTextWidthChange(e,a,o,p),l.calculateCoordinates(h)}},E),{},{children:[e,l.renderSmartGuideLines(h)]}),h)},l.isWarningDuration=function(e){var t,n,r,s,a,i,o,c,u,d=!1;return l.props.videoTotalDurationInSeconds&&(d=l.props.videoTotalDurationInSeconds>l.props.videoDurationLimit),"transcribe"==l.props.source&&(d=!1),d?(0,O.jsx)(K.Z,{direction:"row",sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:"25px"},children:(0,O.jsx)(q.Z,{title:l.props.videoDurationToolTip,arrow:!0,children:(0,O.jsxs)(K.Z,{direction:"row",sx:{display:"flex",alignItems:"center"},children:[(0,O.jsx)("img",{src:"/images/WarningAmber.png",alt:"Warning Amber"}),(0,O.jsxs)(z.Z,{variant:"caption_resp",color:"error",sx:{pl:"6px"},children:["Estimated video duration:",(0,O.jsxs)(z.Z,{variant:"caption_resp",color:"error",children:[" ",l.props.videoDuration]})]})]})})}):(0,O.jsx)(K.Z,{direction:"row",sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"max-content",paddingRight:"25px"},children:(0,O.jsxs)(z.Z,{variant:"text_sm",sx:{pl:"6px",display:"flex",alignItems:"center"},children:["Video duration:",(0,O.jsxs)(z.Z,{variant:"text_sm",sx:{color:"#A0A0A0"},children:[" ",null!==(t=l.props)&&void 0!==t&&null!==(n=t.durationUpdatedScenes)&&void 0!==n&&n.loading?"Calculating...":l.props.videoDuration]}),e&&((null===(r=l.props.durationUpdatedScenes)||void 0===r||null===(s=r.sceneIds)||void 0===s?void 0:s.length)>0||(null===(a=l.props.durationUpdatedScenes)||void 0===a?void 0:a.isSceneDeleted))&&(0,O.jsx)(z.Z,{sx:{ml:"5px",display:"flex",alignItems:"center",color:"#A0A0A0"},children:!(null!==(i=l.props)&&void 0!==i&&null!==(o=i.durationUpdatedScenes)&&void 0!==o&&o.loading)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(z.Z,{variant:"text_sm",children:"estimated"}),(0,O.jsx)(q.Z,{title:"Voice-over modified - click to update",arrow:!0,children:(0,O.jsx)(J.Z,{onClick:l.updateDuration,disabled:null===(c=l.props)||void 0===c||null===(u=c.durationUpdatedScenes)||void 0===u?void 0:u.loading,sx:{stroke:"#A0A0A0","&:hover svg":{stroke:"#000"}},children:(0,O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,O.jsx)("path",{d:"M5 6.875H2.5V4.375","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,O.jsx)("path",{d:"M17.5001 10C17.5001 5.8575 14.1426 2.5 10.0001 2.5C6.97514 2.5 4.37431 4.295 3.18848 6.875","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,O.jsx)("path",{d:"M15 13.125H17.5V15.625","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,O.jsx)("path",{d:"M2.5 10C2.5 14.1425 5.8575 17.5 10 17.5C13.025 17.5 15.6258 15.705 16.8117 13.125","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})})]})})]})})},l.showWatermarkInfoMsg=function(){return(0,O.jsx)("div",{className:"absolute-fill translucent-background-layer-12 white-text flex-centered",children:(0,O.jsxs)("div",{style:{width:"50%",textAlign:"center"},children:[(0,O.jsx)(z.Z,{variant:"h5_resp",sx:{mb:2},children:"Watermarks?"}),(0,O.jsx)(z.Z,{sx:{mb:2},children:"Don't worry. The Stock visual watermarks you'll see here are only present in preview mode, they won't be included in the downloaded video."}),(0,O.jsx)(Y.Z,{variant:"contained",color:"primary",onClick:function(){l.setState({showWatermarkInfoMsg:!1}),Rt.Z.setItem("showWatermarkInfoMsg",!0)},children:"Got it"})]})})},l.renderEditVideoPanel=function(e,t){if(e){e&&e.fontName&&e.fontName.length>0&&e.fontName.toLowerCase().endsWith("-bold")&&(e.fontName=e.fontName.substring(0,e.fontName.length-5),e.decoration?0==Array.isArray(e.decoration)&&"decor-none"==e.decoration?(e.decoration=[],e.decoration.push("decor-bold")):1==Array.isArray(e.decoration)&&-1==e.decoration.indexOf("decor-bold")&&e.decoration.push("decor-bold"):(e.decoration=[],e.decoration.push("decor-bold")));var n=l.state.editorFocusItem===Kt.sceneText&&l.props.isOpenTextEditor||l.state.editorFocusItem!==Kt.sceneText&&l.state.isOpenTextEditor;return(0,O.jsx)(Ct,{fontColor:e.fontColor,textBackgroundColor:e.textBackgroundColor,keywordColor:e.keywordColor,textShadowColor:e.textShadowColor,textShadowWidthFr:e.textShadowWidthFr,textAlign:e.textAlign,showUnhighlight:l.state.showUnhighlight,styleDataObject:e,isOpenTextEditor:n,changeFontColor:l.changeFontColor,changeTextBackgroundColor:l.changeTextBackgroundColor,changeKeywordColor:l.changeKeywordColor,changeTextShadow:l.changeTextShadow,getRGBAString:l.getRGBAString,changePositionPreset:l.changePositionPreset,applyHighlight:l.applyHighlight,saveEditorValues:l.saveEditorValues,onDecorationOptionsChange:l.onDecorationOptionsChange,onCaseOptionsChange:l.onCaseOptionsChange,onTextAlignChange:l.onTextAlignChange,onTextWidthChange:l.onTextWidthChange,onPositionChange:l.onPositionChange,onAnimationStartChanged:l.onAnimationStartChanged,onAnimationEndChanged:l.onAnimationEndChanged,onSaveStyle:l.onSaveStyle,addStyleToTemplate:l.props.addStyleToTemplate,onFontSelection:l.onFontSelection,onFontSizeSelection:l.onFontSizeSelection,onFlip:l.onFlip,project_id:l.props.project_id,editorFocusItem:l.state.editorFocusItem,dialogBoxOpen:function(e){return l.setState({dialogBoxOpen:e})},isVisualType:"visual"===t,isSuperUser:(0,N.PW)(l.props.user.username,!0),selectedBrand:l.props.selectedBrand,onChangeOpacity:l.onChangeOpacity})}},l.deleteDisplayItem=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.getFocusedDisplayItemIndex(),(o=(0,s.Z)({},l.state.currentSubScene)).displayItems=(0,r.Z)(o.displayItems),c=o.displayItems[i],o.displayItems.splice(i,1),e.next=7,l.setState({currentSubScene:o});case 7:l.saveEditorValues(),l.setEditorFocusItem(void 0),ie().getInstance().logEvent("visual"===c.type?"element-deleted":"text-box-deleted",(0,s.Z)((0,s.Z)({},"visual"===c.type?{url:null===(t=c.visualData)||void 0===t?void 0:t.url,type:(0,N.Nc)(null===(n=c.visualData)||void 0===n?void 0:n.url)}:{text:null==c?void 0:c.textHtml}),{},{"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id})),l.setState({contextMenu:null}),c.isLogo&&(ie().getInstance().logEvent("brand-logo-deleted",{}),l.setState({showdeleteLogoAlertNotification:"Logo deleted. Do you want to delete all logos from all scenes? "}));case 12:case"end":return e.stop()}}),e)}))),l.duplicateDisplayItem=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,i,o,c,u,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=l.getFocusedDisplayItem(),i=!0),t){e.next=3;break}return e.abrupt("return");case 3:return(t=he().cloneDeep(t)).id=(0,Ce.Z)(),l.setState({contextMenu:null}),(o=(0,s.Z)({},l.state.currentSubScene)).displayItems?o.displayItems=(0,r.Z)(o.displayItems):o.displayItems=[],l.state.isPastingDisplayItem?(c=Math.round(l.state.xPos/l.props.frameSize.width*100),u=Math.round(l.state.yPos/l.props.frameSize.height*100),isNaN(c)&&(c=0),isNaN(u)&&(u=0),t.itemStyleData.preset=null,t.itemStyleData.leftCoordinate=c+"%",t.itemStyleData.topCoordinate=u+"%",t.itemStyleData.styleIdObj&&(t.itemStyleData.styleIdObj.modified=!0)):(o.displayItems.forEach((function(e){he().isEqual(e.visualData,t.visualData)&&he().isEqual(e.itemStyleData,t.itemStyleData)&&(i=!0)})),i&&(t.itemStyleData.leftCoordinate&&t.itemStyleData.topCoordinate?(d=Math.floor(10*Math.random()+1),t.itemStyleData.leftCoordinate=parseFloat(t.itemStyleData.leftCoordinate)+d+"%",t.itemStyleData.topCoordinate=parseFloat(t.itemStyleData.topCoordinate)+d+"%",t.itemStyleData.styleIdObj&&(t.itemStyleData.styleIdObj.modified=!0)):"center-center"===t.itemStyleData.preset?(t.itemStyleData.preset="bottom-center",t.itemStyleData.styleIdObj&&(t.itemStyleData.styleIdObj.modified=!0)):"center-center"!==t.itemStyleData.preset&&(t.itemStyleData.preset="center-center",t.itemStyleData.styleIdObj&&(t.itemStyleData.styleIdObj.modified=!0)))),o.displayItems.splice(o.displayItems.length,0,t),e.next=12,l.setState({currentSubScene:o,isPastingDisplayItem:!1});case 12:return e.next=14,l.setEditorFocusItem(t.id);case 14:l.saveEditorValues(void 0,void 0,void 0,void 0,void 0,!0),ie().getInstance().logEvent("visual"===t.type?"element-duplicated":"text-box-duplicated",(0,s.Z)((0,s.Z)({},"visual"===t.type?{url:null===(n=t.visualData)||void 0===n?void 0:n.url}:{text:t.textHtml}),{},{"new-id":t.id,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.copyDisplayItemToAll=function(){var e=l.getFocusedDisplayItem();e&&(e=he().cloneDeep(e),l.saveEditorValues(void 0,void 0,!0,void 0,void 0,void 0,e),"visual"===e.type?l.setState({showAlertNotification:"Element copied to all scenes.",alertSeverity:"success",contextMenu:null}):l.setState({showAlertNotification:"Text box copied to all scenes.",alertSeverity:"success",contextMenu:null}),ie().getInstance().logEvent("text-box-copied-to-all-scenes",{text:e.textHtml,"text-box-id":e.id,"scene-number":l.props.currentSubScene.showSceneNumber,"project-id":l.props.project_id}))},l.deleteAllLogos=function(){l.saveEditorValues(void 0,void 0,!0,void 0,void 0,void 0,void 0,!0),l.setState({showAlertNotification:"Logos deleted from all scenes.",contextMenu:null,alertSeverity:"success"})},l.renderDisplayItemText=function(e){if(e){var t="drag-and-resize-box_"+e.id,n="editor-box_"+e.id,r=e.itemStyleData,a="text-align-"+(r.textAlign||"left"),i=Array.isArray(r.decoration)?r.decoration.join(" "):r.decoration,o={fontSize:l.getConvertedFontSize(r.fontSize),color:r.fontColor},c=_t.ZP.getFrontFontName(null==r?void 0:r.fontName),u="#".concat(t,".sentences p {font-family: ").concat(c,"; ").concat(Ie.Z.getFontSpecificLineHeightCSS(c)," }");r.keywordColor&&(u+="#".concat(t,".sentences strong {color: ").concat(r.keywordColor,";}")),r.fullWidth?u+=Qt(t,r.textBackgroundColor,r.textAlign,!1):u+="#".concat(t,".sentences p span {background-color: ").concat(r.textBackgroundColor," }");var d=[i||"",r.case||"",a].join(" "),p=r.textShadowWidthFr?{textShadow:"0 0 "+r.textShadowWidthFr*r.fontSize+"px "+r.textShadowColor}:{},h=(0,s.Z)((0,s.Z)((0,s.Z)({},p),o),{},{width:"100%",wordWrap:"break-word"});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("style",{children:u}),(0,O.jsx)("div",{id:n,className:d,style:h,children:(0,O.jsx)(Ft.w,{htmlText:e.textHtml,onChangeFn:function(e){return l.saveEditorValues(e.html,e.keywords)},closeEditorFn:function(){return l.setState({isOpenTextEditor:!1})},onSelect:l.onEditorTextSelection,contentEditable:!(!l.state.isOpenTextEditor||l.state.editorFocusItem!==e.id)},n)}),(0,O.jsx)("div",{className:"editor-box-inner",onClick:function(){return l.onClickDisplayItem(e.id)}}),l.state.editorFocusItem===e.id&&(0,O.jsx)("div",{className:"editor-box-popover display-text "+l.getPopoverBoxClassName(r),children:(0,O.jsxs)(H.Z,{sx:{backgroundColor:"common.white",borderRadius:"8px",px:.5,py:.5,display:"flex",justifyContent:"space-evenly",width:"max-content",cursor:"default"},children:[l.duplicateIcon(),l.copyToAllScenesIcon(),l.deleteIcon(),l.moreHorizontalIcon(),(0,O.jsx)(B,{contextMenu:l.state.contextMenu,handleClose:l.handleClose,onCopy:l.onCopy,onPaste:l.onPaste,deleteDisplayItem:l.deleteDisplayItem,duplicateDisplayItem:function(){return l.duplicateDisplayItem()},copyDisplayItemToAll:l.copyDisplayItemToAll})]})})]})}},l.renderDisplayItemVisual=function(e){var t,n,r,s;if(e){var a=e.itemStyleData;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{id:e.id,children:["video"==(0,N.Q5)(null===(t=e.visualData)||void 0===t?void 0:t.url)&&(0,O.jsx)("video",{src:(null===(n=e.visualData)||void 0===n?void 0:n.url)||"",draggable:!1,style:{display:"block",width:"100%",opacity:a.opacity||1,transform:(a.flipVertical?"scaleY(-1) ":"")+(a.flipHorizontal?"scaleX(-1)":"")}}),"video"!=(0,N.Q5)(null===(r=e.visualData)||void 0===r?void 0:r.url)&&(0,O.jsx)("img",{src:(null===(s=e.visualData)||void 0===s?void 0:s.url)||"",draggable:!1,style:{display:"block",width:"100%",opacity:a.opacity||1,transform:(a.flipVertical?"scaleY(-1) ":"")+(a.flipHorizontal?"scaleX(-1)":"")},onError:function(){var t;(null===(t=e.visualData)||void 0===t?void 0:t.unified)&&l.changeDisplayItemUrl((0,At.ci)(e.visualData.unified.split("-")[0]),e.id)}})]}),(0,O.jsx)("div",{className:"editor-box-inner",onClick:function(){return l.onClickDisplayItem(e.id,e.type)}}),l.state.editorFocusItem===e.id&&(0,O.jsx)("div",{className:"editor-box-popover display-text "+l.getPopoverBoxClassName(a),children:(0,O.jsxs)(H.Z,{sx:{backgroundColor:"common.white",borderRadius:"8px",px:.5,py:.5,display:"flex",justifyContent:"space-evenly",width:"max-content",cursor:"default"},children:[l.duplicateIcon(),l.copyToAllScenesIcon(),l.deleteIcon(),l.moreHorizontalIcon(),(0,O.jsx)(B,{contextMenu:l.state.contextMenu,handleClose:l.handleClose,onCopy:l.onCopy,onPaste:l.onPaste,deleteDisplayItem:l.deleteDisplayItem,duplicateDisplayItem:function(){return l.duplicateDisplayItem()},copyDisplayItemToAll:l.copyDisplayItemToAll})]})})]})}},l.duplicateIcon=function(e){return(0,O.jsx)(q.Z,{title:"Duplicate",arrow:!0,placement:"top",children:(0,O.jsx)(J.Z,(0,s.Z)((0,s.Z)({},e?{className:e}:{}),{},{size:"small",color:"grey",onClick:function(){return l.duplicateDisplayItem()},sx:{p:.5,m:.25,"&.MuiIconButton-root:hover":{color:"primary.main"}},children:(0,O.jsx)(S.Z,{fontSize:"small"})}))})},l.copyToAllScenesIcon=function(e){return(0,O.jsx)(q.Z,{title:"Copy to all scenes",arrow:!0,placement:"top",children:(0,O.jsx)(J.Z,(0,s.Z)((0,s.Z)({},e?{className:e}:{}),{},{size:"small",onClick:l.copyDisplayItemToAll,sx:{p:.5,m:.25,"&.MuiIconButton-root:hover":{color:"primary.main"}},children:(0,O.jsx)(h.Z,{fontSize:"small"})}))})},l.deleteIcon=function(e){return(0,O.jsx)(q.Z,{title:"Delete",arrow:!0,placement:"top",children:(0,O.jsx)(J.Z,(0,s.Z)((0,s.Z)({},e?{className:e}:{}),{},{size:"small",onClick:l.deleteDisplayItem,sx:{p:.5,m:.25,color:"error.main","&.MuiIconButton-root:hover":{color:"error.dark"}},children:(0,O.jsx)(m.Z,{fontSize:"small"})}))})},l.applyPositionToAllIcon=function(e){return(0,O.jsx)(q.Z,{title:"Apply position to all scenes",arrow:!0,placement:"top",children:(0,O.jsx)(J.Z,(0,s.Z)((0,s.Z)({},e?{className:e}:{}),{},{size:"small",color:"grey",onClick:function(){return l.savePosition(l.state.currentSubScene.preset,l.state.currentSubScene.leftCoordinate,l.state.currentSubScene.topCoordinate,l.state.currentSubScene.textAlign,l.state.currentSubScene.fullWidth,!0)},sx:{p:.5,m:.25,"&.MuiIconButton-root:hover":{color:"primary.main"}},children:(0,O.jsx)(mt.UO,{fontSize:"small"})}))})},l.moreHorizontalIcon=function(e){return(0,O.jsx)(J.Z,(0,s.Z)((0,s.Z)({},e?{className:e}:{}),{},{size:"small",color:"grey",onClick:function(){event.preventDefault(),l.setState({contextMenu:null===l.state.contextMenu?{mouseX:event.clientX+2,mouseY:event.clientY+30}:null,selectionStart:0,selectionEnd:0})},sx:{p:.5,m:.25,"&.MuiIconButton-root:hover":{color:"primary.main"}},children:(0,O.jsx)(w.Z,{fontSize:"small"})}))},l.renderDisplayItems=function(){var e,t=null===(e=l.state.currentSubScene)||void 0===e?void 0:e.displayItems;if(t&&0!==t.length)return(0,O.jsx)(O.Fragment,{children:t.map((function(e){return"text"===e.type?(0,O.jsx)(O.Fragment,{children:l.DragAndResizeBox(l.renderDisplayItemText(e),e)}):"visual"===e.type?(0,O.jsx)(O.Fragment,{children:l.DragAndResizeBox(l.renderDisplayItemVisual(e),e)}):void 0}))})},l.getPopoverBoxClassName=function(e){var t,n,r,s,a,i="";return null!=e&&e.fullWidth||(s=(null==e||null===(t=e.preset)||void 0===t?void 0:t.indexOf("-left"))>-1?"5%":null==e?void 0:e.leftCoordinate,parseFloat(null==e?void 0:e.paragraphWidth)*(null===(n=l.props.frameSize)||void 0===n?void 0:n.width)/100+parseFloat(s)*(null===(r=l.props.frameSize)||void 0===r?void 0:r.width)/100<136&&(i="left-align ")),null!=e&&e.fullWidth?"full-width-top"===(null==e?void 0:e.preset)||parseFloat(null==e?void 0:e.topCoordinate)<10?"bottom-align":"":null!=e&&e.preset?i+(0===(null==e||null===(a=e.preset)||void 0===a?void 0:a.indexOf("top-"))?"bottom-align":""):i+(parseFloat(null==e?void 0:e.topCoordinate)<10?"bottom-align":"")},l.handleAspectRationChange=function(e,t){var n=t.props.value,r=Nt.R3.filter((function(e){return e.fractionValue==n}));r&&r.length>0&&l.props.onChangeAspectRatio(r[0],!1,r[0].value)},l.onVoiceOverSelect=function(e){var t;if("remove-voice-over"===e||"adjust-voice-over"==e||"change-voice-over"===e){var n=l.state.currentSubScene;t=n.recordedAudio||n.audioSegments&&n.audioSegments[0]&&n.audioSegments[0].recordedAudio}switch(e){case"ai-voice-over":l.props.openTab(_t.C6);break;case"upload-voice-over":l.props.openTab(_t._F);break;case"record-voice-over":l.cancelRecordAudio(!0);break;case"change-voice-over":t?l.props.openTab(_t._F):l.props.openTab(_t.C6);break;case"adjust-voice-over":l.props.toggleAudioTrimmer(!0);break;case"remove-voice-over":t?l.props.removeRecordedAudio(l.state.currentSubScene.sceneId,l.state.currentSubScene.subSceneId,!0):l.props.removeVoiceOver()}},l.updateDuration=function(){var e=Rt.Z.getItem("voiceOverTrackId");e&&l.props.updateDuration(+e)},l.rnd={},l.buttonRef=A.createRef(),l.initializeStateForScene(!0),l.recordedAudioChunks=[],l.mediaRecorder=null,l.animationContainerRef=A.createRef(),l}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame((function(){de()(document).on("click",".upnewbttn-list.scene-settings-toolbar  .dropdown-menu.the-dropup",(function(e){e.stopPropagation()}))})),document.addEventListener("click",this.documentClickListener),document.addEventListener("contextmenu",this.documentRClickListener),window.addEventListener("resize",this.windowDidResize),document.fonts.ready.then((function(){Rt.Z.getItem("showWatermarkInfoMsg")||setTimeout((function(){e.setState({showWatermarkInfoMsg:!0})}),2e3)})),document.addEventListener("keydown",this.onKeyboardEvent,!1)}},{key:"setupVideoListeners",value:function(){var e,t,n,r,s,a,i,o,c=this,l=this.videoPlayer;l&&(this.videoStartTime=(null===(e=this.props.settings)||void 0===e||null===(t=e.videoOptions)||void 0===t||null===(n=t.segments)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.start)||0,this.videoEndTime=(null===(s=this.props.settings)||void 0===s||null===(a=s.videoOptions)||void 0===a||null===(i=a.segments)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.end)||0,this.videoCallback&&(clearInterval(this.videoCallback),this.videoCallback=null),l.addEventListener("durationchange",(function(){l.duration&&(c.videoDuration=c.props.allowTrimVideo?l.duration:c.props.transcribeVideoLength,c.videoStartTime=c.videoStartTime>l.duration?l.duration:c.videoStartTime,c.videoEndTime=!c.videoEndTime||c.videoEndTime>l.duration?l.duration:c.videoEndTime,c.videoLoaded=!0)})),l.addEventListener("loadedmetadata",(function(){c.videoStartTime&&(l.currentTime=c.videoStartTime),c.pausePlayVideo()})),l.addEventListener("play",(function(){c.videoCallback&&(clearInterval(c.videoCallback),c.videoCallback=null),c.videoCallback=setInterval((function(){var e=c.videoEndTime||l.duration;e&&e<l.currentTime&&(l.muted=!0,l.pause())}),50);var e=document.querySelector("#video-playing-icon"),t=document.querySelector("#video-pause-icon");e&&(e.style.display="none",t.style.display="block")})),l.addEventListener("pause",(function(){c.videoCallback&&(clearInterval(c.videoCallback),c.videoCallback=null);var e=document.querySelector("#video-playing-icon"),t=document.querySelector("#video-pause-icon");e&&(e.style.display="block",t.style.display="none")})))}},{key:"componentWillReceiveProps",value:function(e){var t,n,r,s,a,i,o,c,l,u=this;if(1===e.deletedSceneCount&&(Ht="Are you sure you want to delete this scene?"),this.props.deletedSceneCount!==e.deletedSceneCount&&e.deletedSceneCount>1&&(Ht="Are you sure you want to delete ".concat(e.deletedSceneCount," scenes?")),this.props.showPreviewProgress===e.showPreviewProgress&&this.props.previewReady===e.previewReady||this.setState({inPreview:e.showPreviewProgress||e.previewReady}),this.props.aspectRatioClass!==e.aspectRatioClass){var d=(0,N.U$)(e.aspectRatioClass);this.setState({aspectRatioFactor:d})}if(this.props.refreshAfterAddSceneBefore!=e.refreshAfterAddSceneBefore&&this.forceUpdate(),e.currentSubScene!=this.props.currentSubScene&&this.setState({currentSubScene:e.currentSubScene}),this.props.settings.imageZoomPan!=e.settings.imageZoomPan&&this.setState({checkedImageZoom:e.settings.imageZoomPan,settings:e.settings}),this.props.settings.voiceOver!=e.settings.voiceOver&&this.setState({checkedVoiceOver:e.settings.voiceOver,settings:e.settings}),this.props.settings.music==e.settings.music&&e.settings.music==this.state.checkedMusic||this.setState({checkedMusic:e.settings.music,settings:e.settings}),this.props.settings.muteClipAudio!=e.settings.muteClipAudio&&this.setState({muteClipAudio:e.settings.muteClipAudio,settings:e.settings}),this.props.settings.loopVideo!=e.settings.loopVideo&&this.setState({loopVideo:e.settings.loopVideo,settings:e.settings}),this.props.settings.loopVideoAllScene!=e.settings.loopVideoAllScene&&this.setState({loopVideoAllScene:e.settings.loopVideoAllScene,settings:e.settings}),this.props.settings.hideText!=e.settings.hideText&&this.setState({checkHideText:e.settings.hideText,settings:e.settings}),this.props.applyToAllScenes!=e.applyToAllScenes&&this.setState({checkedAllScene:e.applyToAllScenes,settings:e.settings}),this.props.applyHideTextToAllScene!=e.applyHideTextToAllScene&&this.setState({applyHideTextToAllScene:e.applyHideTextToAllScene,settings:e.settings}),this.props.applyMusicToAllScene!=e.applyMusicToAllScene&&this.setState({applyMusicToAllScene:e.applyMusicToAllScene,settings:e.settings}),this.props.applyVoiceOverToAllScene!=e.applyVoiceOverToAllScene&&this.setState({applyVoiceOverToAllScene:e.applyVoiceOverToAllScene,settings:e.settings}),this.props.muteClipAudioAllScene!=e.muteClipAudioAllScene&&this.setState({muteClipAudioAllScene:e.muteClipAudioAllScene,settings:e.settings}),he().isEqual(this.props.settings.videoOptions,e.settings.videoOptions)||(this.setState({videoOptions:e.settings.videoOptions}),null!==(i=e.settings.videoOptions)&&void 0!==i&&null!==(o=i.segments)&&void 0!==o&&o.length&&(this.videoStartTime=e.settings.videoOptions.segments[0].start,this.videoEndTime=e.settings.videoOptions.segments[0].end)),e.currentSubScene.preset&&e.currentSubScene.preset!=this.props.currentSubScene.preset&&null!==(t=this.rnd)&&void 0!==t&&t["drag-and-resize-box"]&&(this.rnd["drag-and-resize-box"].isDragged=!1),this.props.closePreviewFlag!==e.closePreviewFlag&&(this.stopScenePreview(),null===(c=(l=this.props).closePreviewNew)||void 0===c||c.call(l)),this.props.subSceneTime!==e.subSceneTime&&this.setState({subSceneTime:e.subSceneTime}),this.props.currentSubScene.showSceneNumber===e.currentSubScene.showSceneNumber&&((null===(n=this.props.currentSubScene)||void 0===n||null===(r=n.displayItems)||void 0===r?void 0:r.length)||0)<(null===(s=e.currentSubScene)||void 0===s||null===(a=s.displayItems)||void 0===a?void 0:a.length)){var p=e.currentSubScene.displayItems[e.currentSubScene.displayItems.length-1];"text"===(null==p?void 0:p.type)?this.setState({editorFocusItem:p.id,isOpenTextEditor:!0}):this.setState({editorFocusItem:p.id}),setTimeout((function(){u.calculateCoordinates("drag-and-resize-box_"+p.id)}),500)}!0===e.isNewPreviewPlaying?this.setState({previewPauseButtonState:"pause"}):!1===e.isNewPreviewPlaying&&this.setState({previewPauseButtonState:"play"})}},{key:"componentDidUpdate",value:function(e,t,n){if(e.showDeletePopup!=this.props.showDeletePopup&&this.setState((0,s.Z)((0,s.Z)({},this.state),{},{showDeletePopup:this.props.showDeletePopup})),this.state.editorFocusItem&&this.state.editorFocusItem!==Kt.sceneText&&this.props.currentSubScene.displayItems){var r,a,i,o,c,l,u=this.getFocusedDisplayItemIndex();if(u>=0&&null!==(r=this.props.currentSubScene.displayItems[u])&&void 0!==r&&null!==(a=r.itemStyleData)&&void 0!==a&&a.preset&&(null===(i=this.props.currentSubScene.displayItems[u])||void 0===i||null===(o=i.itemStyleData)||void 0===o?void 0:o.preset)!=(e.currentSubScene.displayItems&&(null===(c=e.currentSubScene.displayItems[u])||void 0===c||null===(l=c.itemStyleData)||void 0===l?void 0:l.preset))){var d=this.state.editorFocusItem!==Kt.sceneText?"drag-and-resize-box_"+this.state.editorFocusItem:"drag-and-resize-box";this.rnd[d].isDragged=!1}}if(this.props.aspectRatioClass!==e.aspectRatioClass||!he().isEqual(this.props.frameSize,e.frameSize)){this.props.currentSubScene.leftCoordinate&&this.props.currentSubScene.topCoordinate&&this.updateRndPosition("drag-and-resize-box",this.props.currentSubScene.leftCoordinate,this.props.currentSubScene.topCoordinate);for(var p=0;p<(null===(h=this.props.currentSubScene.displayItems)||void 0===h?void 0:h.length);p++){var h,m=this.props.currentSubScene.displayItems[p],g="drag-and-resize-box_"+m.id;m.itemStyleData.leftCoordinate&&m.itemStyleData.topCoordinate&&this.updateRndPosition(g,m.itemStyleData.leftCoordinate,m.itemStyleData.topCoordinate)}}if(this.props.currentSubScene!==e.currentSubScene){var f,v;(null===(f=this.props.currentSubScene)||void 0===f?void 0:f.uuid)!==(null===(v=e.currentSubScene)||void 0===v?void 0:v.uuid)&&this.initializeStateForScene(),this.props.currentSubScene.leftCoordinate&&this.props.currentSubScene.topCoordinate&&(this.props.currentSubScene.leftCoordinate!==e.currentSubScene.leftCoordinate||this.props.currentSubScene.topCoordinate!==e.currentSubScene.topCoordinate)&&this.updateRndPosition("drag-and-resize-box",this.props.currentSubScene.leftCoordinate,this.props.currentSubScene.topCoordinate);for(var x=0;x<(null===(S=this.props.currentSubScene.displayItems)||void 0===S?void 0:S.length);x++){var S,y,b,j,w,Z,k,C=this.props.currentSubScene.displayItems[x],I=e.currentSubScene.displayItems&&e.currentSubScene.displayItems[x],T="drag-and-resize-box_"+C.id;null!==(y=C.itemStyleData)&&void 0!==y&&y.leftCoordinate&&null!==(b=C.itemStyleData)&&void 0!==b&&b.topCoordinate&&((null===(j=C.itemStyleData)||void 0===j?void 0:j.leftCoordinate)!==(null==I||null===(w=I.itemStyleData)||void 0===w?void 0:w.leftCoordinate)||(null===(Z=C.itemStyleData)||void 0===Z?void 0:Z.topCoordinate)!==(null==I||null===(k=I.itemStyleData)||void 0===k?void 0:k.topCoordinate))&&C.isLogo&&ie().getInstance().logEvent("logo-position-updated",{}),this.updateRndPosition(T,C.itemStyleData.leftCoordinate,C.itemStyleData.topCoordinate)}}}},{key:"componentWillUnmount",value:function(){var e,t;this.animator&&this.animator.stop(),null===(e=(t=this.props).closePreviewNew)||void 0===e||e.call(t),document.removeEventListener("keydown",this.onKeyboardEvent,!1),document.removeEventListener("click",this.documentClickListener),document.removeEventListener("contextmenu",this.documentRClickListener),window.removeEventListener("resize",this.windowDidResize),this.timer&&(clearInterval(this.timer),this.timer=null),this.videoCallback&&(clearInterval(this.videoCallback),this.videoCallback=null)}},{key:"render",value:function(){var e,t,n,r,i,c,l,u,d,p,h,m,S,w,E,_,R,P,D,L,F,V,B,G,W,ae,ie,oe,le,ue,de,pe,he,me,ge=this,fe="",xe=this.props.Sentence,Se=this.props.backgroundColor,ye=this.props.imageUrl,we=this.props.animationTheme.className,Ze=(this.props.animationTheme&&this.props.animationTheme.getStyles().defaultSentenceStyle&&this.props.animationTheme.getStyles().defaultSentenceStyle,!1),ke=!1,Ce=this.props.imageAsset,Te=!0,Ee=!1,Ae=!1,_e=this.props.logoImage,Re=this.props.showLogo,Pe="",Ne={};if(null!==(e=this.state.currentSubScene)&&void 0!==e&&null!==(t=e.visual)&&void 0!==t&&t.isLogo&&null!==(n=this.state.currentSubScene)&&void 0!==n&&null!==(r=n.visual)&&void 0!==r&&r.position){var Oe=this.state.currentSubScene.visual;Pe="position-preset "+Oe.position.preset,Ne.opacity=Oe.opacity,Ne.width=Oe.position.width,_e=Oe.visualUrl,Re=!0}""!==_e&&(""!==this.props.logoLocation||Pe)&&Re&&(1===parseInt(this.props.logoLocation)||Pe?fe=(0,O.jsx)("img",{className:["mr-auto sml-brand",Pe].join(" "),src:_e,style:(0,s.Z)({float:"left",left:"7px",top:"7px"},Ne)}):(2===parseInt(this.props.logoLocation)||Pe)&&(fe=(0,O.jsx)("img",{className:["mr-auto sml-brand",Pe].join(" "),src:_e,style:(0,s.Z)({float:"right",right:"7px",top:"7px"},Ne)}))),null!==(i=this.state.currentSubScene)&&void 0!==i&&i.isNew&&this.state.currentSubScene.openEditor&&(me=!0,ke=!0);var De=1===this.props.CounterSubSence,Ue=this.props.CounterSubSence===this.props.totalSubScenes;if(null!==(c=this.state.currentSubScene)&&void 0!==c&&c.transcription){var Le=parseInt(this.state.currentSubScene.subSceneId);!1===isNaN(Le)&&Le>1&&(Ze=!0)}("Custom Intro Scene"===this.props.showSceneNumber||"Outro Scene"===this.props.showSceneNumber||this.props.allScenesArray.filter((function(e){return e.showSceneNumber.startsWith("Scene")})).length===this.props.deletedSceneCount||this.props.isVoiceOverApplying)&&(Ze=!0),this.props.nextSubScene&&"Outro Scene"===this.props.nextSubScene.showSceneNumber&&this.props.prevSubScene&&"Custom Intro Scene"===this.props.prevSubScene.showSceneNumber&&(Ze=!0);var Fe="none",Ve="none";1===this.props.SubSceneId&&(Fe="block"),this.props.SubSceneId===this.props.SubSentencesLength&&(Ve="block");var Be=_t.ZP.getFrontFontName(this.state.currentSubScene.fontName),Me=Ie.Z.getFontSpecificLineHeightCSS(Be),Ge="#drag-and-resize-box.sentences p {font-family: ".concat(Be,"; ").concat(Me," }");this.state.currentSubScene.fullWidth?Ge+=Qt("drag-and-resize-box",this.state.currentSubScene.textBackgroundColor,this.state.currentSubScene.textAlign,this.state.checkHideText):Ge+="#drag-and-resize-box.sentences p span {background-color: ".concat(this.state.currentSubScene.textBackgroundColor,"; border-radius: ").concat(this.state.currentSubScene.textBackgroundRadius?this.state.currentSubScene.textBackgroundRadius+"px":"0px"," }"),Ge+="#drag-and-resize-box.sentences p strong {color: ".concat(this.state.currentSubScene.keywordColor,"!important;} ");var We=this.props.mediaResources[ye]||ye;if(this.props.isTranscription&&We&&We&&We.includes("/videos/transcription/")){var ze=this.create480pUrl(We);this.props.urlStatus&&200===this.props.urlStatus[ze]&&(We=ze+We.substr(We.lastIndexOf("#t=")))}if(We&&ye){var Je=ye.lastIndexOf("#t=");Je>-1&&-1===We.lastIndexOf("#t=")&&(We+=ye.slice(Je))}var He=!1;We&&(He=We.includes("/textures"),Se=""),ye&&void 0!==ye&&null!=ye&&""!=ye&&(He||(He=ye.includes("/textures")));var Ke=(0,O.jsx)(O.Fragment,{});if(this.state.currentSubScene.bRoll){var qe="Remove visual";this.props.imageUrl?He&&(qe="Remove texture"):qe="Remove background",Ke=(0,O.jsxs)("div",{className:"b-roll-button sortof-black font-size-4",onClick:function(){return ge.props.removeTranscriptionScenebRoll(ge.props.SceneId)},children:[(0,O.jsx)("style",{children:".b-roll-button span i {font-size: 14px !important;}"}),(0,O.jsx)("span",{children:(0,O.jsx)("i",{className:"fa fa-minus"})}),(0,O.jsx)("span",{children:qe})]})}(0,N.bg)()&&(Ee=!0),null!==Rt.Z.getItem("activeTrack")&&""!==Rt.Z.getItem("activeTrack")&&(Ae=!0),null!==(l=this.state.currentSubScene)&&void 0!==l&&l.transcription?this.state.currentSubScene.bRoll||(Te=!1):Ce&&Ce.library||He||"video"===(0,N.Q5)(ye)&&(Te=!1);var Ye="none";this.props.isActive&&(Ye="block");var Qe=this.state.currentSubScene,Xe=Qe&&(Qe.recordedAudio||Qe.audioSegments&&Qe.audioSegments[0]&&Qe.audioSegments[0].recordedAudio),$e="";Xe&&null!==Rt.Z.getItem("activeTrack")&&""!==Rt.Z.getItem("activeTrack")&&this.state.checkedMusic?$e="music-audio":Xe?$e="audio":null!==Rt.Z.getItem("activeTrack")&&""!==Rt.Z.getItem("activeTrack")&&this.state.checkedMusic&&($e="music"),Nt.R3.find((function(e){return e.class==ge.props.aspectRatioClass}));var et=!1,tt=!1,nt="";this.props.isTranscription?(et=!0,tt=!0,nt="Scene duration can't be changed for edit video"):this.props.voiceOverOnEntireVideo()&&"Custom Intro Scene"!==this.props.showSceneNumber&&"Outro Scene"!==this.props.showSceneNumber&&(et=!0,nt="To change scene duration, click on 'Add voice-over' > 'Adjust voice-over'"),(this.props.voiceOverOnEntireVideo()||"transcribe"==this.props.source||"Custom Intro Scene"==this.props.showSceneNumber||"Outro Scene"==this.props.showSceneNumber)&&(tt=!0);var rt="text-align-"+(this.state.currentSubScene.textAlign||"left"),st=null!==(u=this.state.currentSubScene)&&void 0!==u&&u.fullWidth?"full-width-style":"",at=(!this.state.currentSubScene.preset||null!==(d=this.state.currentSubScene)&&void 0!==d&&d.fullWidth?"":"position-preset ")+(this.state.currentSubScene.preset||""),it=this.state.currentSubScene.leftCoordinate?{position:"absolute",left:this.state.currentSubScene.leftCoordinate,top:this.state.currentSubScene.topCoordinate}:{},ot=Array.isArray(this.state.currentSubScene.decoration)?this.state.currentSubScene.decoration.join(" "):this.state.currentSubScene.decoration,ct=this.state.currentSubScene.textShadowWidthFr?{textShadow:"0 0 "+this.state.currentSubScene.textShadowWidthFr*this.state.currentSubScene.fontSize+"px "+this.state.currentSubScene.textShadowColor}:{},lt=[rt,ot||"",this.state.currentSubScene.case||""].join(" "),ut=(0,s.Z)((0,s.Z)({fontSize:this.getConvertedFontSize(this.state.currentSubScene.fontSize)+"px",color:this.state.currentSubScene.fontColor},ct),{},{width:"100%",wordWrap:"break-word"});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(H.Z,{className:"editor-panel editor-panel-placeholder"}),this.state.editorFocusItem&&!this.state.playPreview?this.renderEditVideoPanel(this.state.editorFocusItem===Kt.sceneText?this.state.currentSubScene:null===(p=this.getFocusedDisplayItem())||void 0===p?void 0:p.itemStyleData,null===(h=this.getFocusedDisplayItem())||void 0===h?void 0:h.type):(0,O.jsx)("div",{style:{padding:"8px",position:"absolute",top:0,width:"100%"},children:!this.props.showAudioTrimmer&&(0,O.jsx)("div",{children:(0,O.jsxs)(K.Z,{direction:"row",sx:{width:"100%",mr:"10px",ml:"15px",justifyContent:"space-between"},children:[(0,O.jsxs)("div",{id:"scene-duration-container",className:et||null!==(m=this.props)&&void 0!==m&&null!==(S=m.durationUpdatedScenes)&&void 0!==S&&null!==(w=S.sceneIds)&&void 0!==w&&w.includes(this.state.currentSubScene.sceneId)&&Ee||null!==(E=this.props)&&void 0!==E&&null!==(_=E.durationUpdatedScenes)&&void 0!==_&&_.isSceneDeleted&&Ee||null!==(R=this.props.durationUpdatedScenes)&&void 0!==R&&R.loading?"":"on-hover-event",onMouseOver:function(){var e=document.getElementById("scene-duration-container");e&&(e.style.backgroundColor="transparent")},onMouseOut:function(){var e=document.getElementById("scene-duration-container");e&&(e.style.backgroundColor="#FFFFFF")},style:{borderRadius:"4px",padding:"8px",cursor:"pointer",width:"max-content",alignItems:"center"},children:[et&&(0,O.jsx)(q.Z,{title:nt,arrow:!0,children:(0,O.jsxs)(H.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,O.jsx)(H.Z,{sx:{mr:"5px",display:"inline-block"},children:(0,O.jsx)("img",{src:"/images/scene_disabled.svg",width:"18px",alt:"Scene duration"})}),(0,O.jsxs)(z.Z,{className:"disabled",sx:{color:"#757575"},children:["Scene:"," "]}),(0,O.jsxs)(z.Z,{variant:"caption_resp",color:"grey.400",sx:{color:"#A0A0A0",ml:"5px"},children:[this.getSubSceneDuration(),"s"]}),(0,O.jsx)(z.Z,{sx:{ml:"5px",color:"#A0A0A0"}})]})}),!et&&(0,O.jsxs)(K.Z,{direction:"row",spacing:"2px",sx:{display:"flex",width:"max-content",alignItems:"center"},children:[(0,O.jsx)("img",{src:"/images/watch.svg",width:"24px",alt:"Scene duration"}),(0,O.jsx)(z.Z,{variant:"text_sm",sx:{pl:"2px"},children:"Scene duration:"})," ",(0,O.jsx)(z.Z,{variant:"text_sm",sx:{color:"#A0A0A0"},children:null!==(P=this.props)&&void 0!==P&&null!==(D=P.durationUpdatedScenes)&&void 0!==D&&D.loading?(0,O.jsx)(z.Z,{component:"span",variant:"text_sm",sx:{color:"#A0A0A0"},children:"Calculating..."}):this.getSubSceneDuration()+"s"}),Ee&&((null===(L=this.props.durationUpdatedScenes)||void 0===L||null===(F=L.sceneIds)||void 0===F?void 0:F.length)>0||(null===(V=this.state)||void 0===V||null===(B=V.durationUpdatedScenes)||void 0===B?void 0:B.isSceneDeleted))&&(null===(G=this.props)||void 0===G||null===(W=G.durationUpdatedScenes)||void 0===W||null===(ae=W.sceneIds)||void 0===ae?void 0:ae.includes(this.state.currentSubScene.sceneId))&&!(null!==(ie=this.props)&&void 0!==ie&&null!==(oe=ie.durationUpdatedScenes)&&void 0!==oe&&null!==(le=oe.updatedSceneDuration)&&void 0!==le&&le.includes(this.state.currentSubScene.sceneId))&&(0,O.jsx)(z.Z,{sx:{ml:"5px",display:"flex",alignItems:"center",color:"#A0A0A0"},children:!(null!==(ue=this.props)&&void 0!==ue&&null!==(de=ue.durationUpdatedScenes)&&void 0!==de&&de.loading)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(z.Z,{variant:"text_sm",children:"estimated"}),(0,O.jsx)(q.Z,{title:"Voice-over modified - click to update",arrow:!0,children:(0,O.jsx)(J.Z,{onClick:this.updateDuration,disabled:null===(pe=this.props)||void 0===pe||null===(he=pe.durationUpdatedScenes)||void 0===he?void 0:he.loading,sx:{stroke:"#A0A0A0","&:hover svg":{stroke:"#000"}},children:(0,O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,O.jsx)("path",{d:"M5 6.875H2.5V4.375","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,O.jsx)("path",{d:"M17.4992 10C17.4992 5.8575 14.1417 2.5 9.99917 2.5C6.97417 2.5 4.37333 4.295 3.1875 6.875","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,O.jsx)("path",{d:"M15 13.125H17.5V15.625","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,O.jsx)("path",{d:"M2.5 10C2.5 14.1425 5.8575 17.5 10 17.5C13.025 17.5 15.6258 15.705 16.8117 13.125","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})})]})})]}),(0,O.jsxs)(Q.ZP,{className:"scene-gen-settings-box show-on-hover white-background rounded-border-large gray-box-shadow p-4",style:{zIndex:10,width:"max-content"},children:[(0,O.jsxs)(K.Z,{direction:"column",children:[(0,O.jsx)(z.Z,{variant:"body2_resp",color:"grey.800",children:"Timing"}),(0,O.jsx)(X.Z,{id:"standard-number",type:"number",variant:"outlined",disabled:et,value:this.getSubSceneDuration(),onChange:function(e){return ge.onChangeSubSceneDuration(e.target.value,!0)},onBlur:function(e){return ge.onBlurChangeSubSceneDuration(!0,tt)},InputLabelProps:{shrink:!0},sx:{width:"100%",mt:"8px",backgroundColor:et?"grey.100":"transparent"}})]}),(0,O.jsxs)("div",{className:"flex-row space-between-center pb-1"+(tt?" disabled":""),style:{marginTop:"8px",width:"max-content"},children:[(0,O.jsx)(z.Z,{variant:"body2_resp",color:"grey.800",children:"Apply to all scenes"}),(0,O.jsx)("span",{style:{marginRight:"-10px"},children:(0,O.jsx)($.Z,{onChange:function(e){return ge.changeAllSubSceneDuration(e.target.checked,!0)}})})]})]})]}),(0,O.jsx)(It.default,{dropdownData:Nt.R3,selectedValue:this.props.aspectRatioFractionValue,onChange:this.handleAspectRationChange}),this.props.videoDuration&&-1===this.props.videoDuration.toLowerCase().indexOf("nan")&&this.isWarningDuration(Ee)]})})}),(0,O.jsxs)("div",{className:"horizontal-flex space-between-center edit-box-container",children:[!this.props.showAudioTrimmer&&(0,O.jsxs)("li",{className:["dropup nav-item insert-scene-dropdown from-side-menu","none"!==Fe||!0!==this.props.disableAddSubScene&&"Custom Intro Scene"!==this.props.showSceneNumber&&"Outro Scene"!==this.props.showSceneNumber?"":"invisible","Custom Intro Scene"===this.props.showSceneNumber?"invisible":""].join(" "),onMouseOver:function(){var e=document.getElementById("edit-video-info-msg");e&&(e.style.visibility="visible")},onMouseOut:function(){var e=document.getElementById("edit-video-info-msg");e&&(e.style.visibility="hidden")},children:[(0,O.jsx)(g.Z,{sx:{mr:"0.5rem",height:"27px",width:"27px",color:"grey.500","&:hover":{color:"primary"}}}),(0,O.jsxs)("div",{className:["dropdown-menu pt-1 pb-1",!0===this.props.disableAddSubScene||"Custom Intro Scene"===this.props.showSceneNumber||"Outro Scene"===this.props.showSceneNumber?"no-subscene":""].join(" "),"x-placement":"top-end",style:{minWidth:"156px"},children:[(0,O.jsx)("a",{className:"fill-width center-aligned black font-size-4 mb-1",disabled:!0,children:"Insert scene"}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1  min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("blank",!0)},style:{display:Fe},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/blank.png",alt:"blank.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Blank"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/blank.png",alt:"blank.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Blank"})]})]}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1  min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("text",!0)},style:{display:Fe},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/textonly.png",alt:"textonly.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Text only"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/textonly.png",alt:"textonly.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Text only"})]})]}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1  min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("visual",!0)},style:{display:Fe},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/visualsonly.png",alt:"visualsonly.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Visuals only"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/visualsonly.png",alt:"visualsonly.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Visuals only"})]})]}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1 min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("combo",!0)},style:{display:Fe},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/textvisuals.png",alt:"textvisuals.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Text & Visuals"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/textvisuals.png",alt:"textvisuals.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Text & Visuals"})]})]}),!0===this.props.disableAddSubScene||"Custom Intro Scene"===this.props.showSceneNumber||"Outro Scene"===this.props.showSceneNumber?null:(0,O.jsxs)(A.Fragment,{children:[(0,O.jsx)("hr",{className:"mt-1 mb-1",style:{borderTopColor:"rgba(0,0,0,0.4)"}}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1 min-width-118 on-hover-event",disabled:""==xe,onMouseDown:function(e){ge.AddNewSubScene(e,!0)},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("span",{className:"sortof-black bordered-icon-container",children:(0,O.jsx)("i",{className:"fa fa-link mr-0 gray-colored"})}),(0,O.jsx)("span",{className:"black font-size-7",children:"Linked scene"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("span",{className:"blue bordered-icon-container",children:(0,O.jsx)("i",{className:"fa fa-link mr-0 blue"})}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Linked scene"})]})]})]})]})]}),(0,O.jsxs)("div",{className:"col p-0 showHideEditScene",id:this.props.SceneDivId,style:{display:Ye},onMouseOver:function(){if(!ge.props.isOpenTextEditor){var e=document.querySelector(".add-text-container");e&&e.classList.remove("hidden")}},onMouseOut:function(){var e=document.querySelector(".add-text-container");e&&e.classList.add("hidden")},children:[this.props.voiceOverOnEntireVideo()&&(0,O.jsx)("div",{id:"edit-video-info-msg",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:(0,O.jsx)("i",{className:"fa fa-exclamation-circle mr-3",style:{transition:"unset"}})}),(0,O.jsx)("div",{children:"This project has a single voice-over applied to all the scenes. Inserting a scene may disorder the synchronization."})]})}),(0,O.jsx)(U,{sceneContextMenu:this.state.sceneContextMenu,handleClose:this.handleCloseSceneMenu,onPaste:this.onPaste,disablePaste:!this.props.isItemCopied}),this.showdeleteLogoAlertNotification(),(0,O.jsx)(je.Z,{active:this.state.isShowLoader,spinner:!0,text:"Please wait..."}),(this.state.showFocusOverlay||this.state.showUploadAudioOverlay||this.state.showRecordAudioOverlay)&&(0,O.jsx)("div",{className:"focus-overlay-wrapper",style:this.state.showRecordAudioOverlay?{backgroundColor:"rgba(0, 0, 0, 0.05)"}:{},onClick:function(){!ge.state.isRecording&&!ge.state.haveRecorded&&ge.handleFocusOverlayElementClick()},children:" "}),(this.state.showFocusOverlay||this.props.showFocusOverlay)&&(0,O.jsx)("style",{children:this.dynamicCss()}),this.state.showRecordAudioOverlay&&(0,O.jsxs)("div",{id:"record-audio-overlay",className:"floating-centered round-corners focus-overlay-element flex-vertical-align-top",children:[(0,O.jsx)("span",{className:"close",style:{position:"absolute",top:"10px",right:"20px"},onClick:function(){return ge.cancelRecordAudio()},children:"×"}),(0,O.jsx)("h3",{className:"title black mt-3 mb-3 text-centered",children:this.state.audioFileName?"Processing the audio file":this.state.isPlaying?"Playing recorded audio":"Record audio for the scene"}),(0,O.jsxs)("div",{className:"horizontal-flex flex-centered",children:[(0,O.jsxs)("span",{className:"small-rounded-text-container",children:[parseInt(this.state.showDuration/this.state.playbackRate)," sec"]}),!this.state.isRecording&&!this.state.haveRecorded&&(0,O.jsx)("img",{src:"/icons/record-audio/startrecordingicon.svg",alt:"startrecordingicon.svg",onClick:function(e){e.preventDefault(),ge.handlePlaypauseRecordAudioClick()},className:"clickable small-logo"}),(0,O.jsx)("img",{src:"/icons/record-audio/stoprecordingicon.svg",onClick:function(e){ge.handlePlaypauseRecordAudioClick()},className:["clickable small-logo",this.state.isRecording&&!this.state.haveRecorded?"":"hidden"].join(" ")}),!this.state.isRecording&&this.state.haveRecorded&&(0,O.jsx)("img",{alt:"recordingicon",src:this.state.isPlaying?"/icons/record-audio/stoprecordingicon.svg":"/icons/record-audio/playrecordingicon.svg",onClick:function(e){e.preventDefault(),ge.handlePlaypauseRecordAudioClick()},className:"clickable small-logo"}),(0,O.jsx)(ve.Z,{className:[this.state.haveRecorded?"hidden":"","naked-dropdown"].join(" "),children:(0,O.jsx)(ve.Z.Toggle,{children:(0,O.jsx)("span",{className:"small-rounded-text-container",children:"Default mic  "})})}),(0,O.jsxs)(ve.Z,{onSelect:function(e){ge.setState({playbackRate:e})},className:[this.state.haveRecorded?"":"hidden","naked-dropdown"].join(" "),children:[(0,O.jsx)(ve.Z.Toggle,{id:"dropdown-custom-components",children:(0,O.jsxs)("span",{className:"small-rounded-text-container",children:["Speed: ",this.state.playbackRate,"x  ",(0,O.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]})}),(0,O.jsxs)(ve.Z.Menu,{children:[(0,O.jsx)(ve.Z.Item,{eventKey:1,value:1,children:"1x"}),(0,O.jsx)(ve.Z.Item,{eventKey:1.25,value:1.25,children:"1.25x"}),(0,O.jsx)(ve.Z.Item,{eventKey:1.5,value:1.5,children:"1.5x"}),(0,O.jsx)(ve.Z.Item,{eventKey:2,value:2,children:"2x"})]})]})]}),(0,O.jsxs)("h4",{className:["sub-title gray mt-1 text-centered"].join(" "),children:[this.state.isRecording||this.state.haveRecorded?"":"Press to record"," "]}),(0,O.jsx)("div",{className:["mt-3",this.state.haveRecorded?"hidden":""].join(" "),children:this.state.audioAnalyzer?(0,O.jsx)(Lt,{audio:this.state.audioAnalyzer}):""}),(0,O.jsxs)("div",{className:["horizontal-flex mt-1 spaced-buttons",this.state.haveRecorded?"":"hidden"].join(" "),children:[(0,O.jsx)(Y.Z,{disabled:this.state.recordingSaveInProgress,variant:"light",onClick:function(){return ge.cancelRecordAudio()},children:"Cancel"}),(0,O.jsx)(Y.Z,{disabled:this.state.recordingSaveInProgress,variant:"light",onClick:(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.saveBlobFile(ge.state.audioBlob,!0));case 1:case"end":return e.stop()}}),e)}))),children:this.state.textForSaveButton?this.state.textForSaveButton:"Save"}),(0,O.jsx)(Y.Z,{disabled:this.state.recordingSaveInProgress,variant:"light",onClick:(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.saveBlobFile(ge.state.audioBlob));case 1:case"end":return e.stop()}}),e)}))),children:this.state.textForApplyButton?this.state.textForApplyButton:"Apply"})]})]}),this.state.showUploadAudioOverlay&&(0,O.jsxs)("div",{id:"upload-audio-overlay",className:["floating-centered round-corners focus-overlay-element flex-centered vertical-flex",this.state.audioFileName?"loader-height":""].join(" "),children:[(0,O.jsx)("h3",{className:"title black mt-3 text-centered",children:this.state.audioFileName?"Processing the audio file":"Upload audio for the scene"}),(0,O.jsxs)("div",{className:["dotted-border drag-container flex-centered vertical-flex",this.state.audioFileName?"hidden":""].join(" "),id:"file-drop-container",onClick:function(){ge.audioInputFile.click()},children:[(0,O.jsxs)("h3",{className:["title gray mb-0 text-centered mt-3",this.state.audioFileName?"hidden":""].join(" "),style:{fontSize:"1rem"},children:[(0,O.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"}),"   ",this.state.isDragSupported?"Drag and drop":"Click to select"," the audio file"]}),(0,O.jsx)("h4",{className:["sub-title gray mt-1 text-centered",this.state.audioFileName?"hidden":""].join(" "),children:"( only mp3 and wav )"}),(0,O.jsxs)("h3",{className:["title mb-0 text-centered mt-3",this.state.audioFileName?"":"hidden"].join(" "),style:{fontSize:"1rem"},children:[this.state.audioFileName,"   ",(0,O.jsx)("i",{className:"fa fa-times red clickable","aria-hidden":"true",onMouseDown:function(e){e.preventDefault(),ge.setState({audioFile:null,audioFileName:"",audioFileError:""})}})]})]}),(0,O.jsx)("input",{ref:function(e){return ge.audioInputFile=e},style:{display:"none"},type:"file",id:"audio-file",onChange:function(e){e.preventDefault(),ge.setAudioFile(e.target.files[0])},accept:".mp3,.wav"}),(0,O.jsx)("h4",{className:["sub-title gray mt-2 text-centered clickable",this.state.audioFileName?"hidden":""].join(" "),onClick:function(){ge.audioInputFile.click()},children:"or click to browse the system"}),(0,O.jsxs)("h4",{className:["blue text-centered mt-2",this.state.audioFileName?"hidden":""].join(" "),style:{fontSize:".8rem"},children:["You can also upload multiple audio files from ",(0,O.jsx)("br",{}),"Menu > Audio > My uploads"]}),(0,O.jsx)("img",{src:"icons/loading.gif",className:["loading-gif",this.state.audioFileName?"":"hidden"].join(" ")})]}),(0,O.jsx)("audio",{id:"audio-recording",style:{display:"none"}}),(0,O.jsxs)("div",{className:"col block-center p-0",children:[(0,O.jsx)("style",{children:Ge}),(0,O.jsxs)("div",{className:"btm-headbox animation-container ".concat(this.state.checkedImageZoom?"crop-visual":"fit-visual"," ").concat(this.state.showFocusOverlay||this.props.showFocusOverlay?"focus-overlay-element":""),style:{width:this.state.checkedImageZoom?this.props.frameSize.height*(this.props.aspectRatioFractionValue>Nt.Wi?this.props.aspectRatioFractionValue:Nt.Wi):this.props.frameSize.width},children:[(0,O.jsxs)("figure",{ref:this.animationContainerRef,className:["figure-block","gray-box-shadow animation-container mb-0 no-bottom-border-radius",rt,we,this.props.aspectRatioClass].join(" "),id:this.props.FigureId,children:[Ke,this.validateVideoStockVisual()&&(0,O.jsxs)("div",{id:"deprecated-visual-msg",children:[(0,O.jsx)("span",{children:(0,O.jsx)("i",{className:"fa fa-exclamation-triangle"})}),(0,O.jsx)("span",{children:"Please change the visual"})]}),""==xe&&!this.props.isOpenTextEditor&&!this.state.showFocusOverlay&&!this.props.showFocusOverlay&&(0,O.jsx)("div",{className:["add-text-container hidden",st,at].join(" "),onClick:function(e){ge.setEditorFocusItem(Kt.sceneText),ge.OpenTextEditorForSceneText(Kt.sceneText)},style:(0,s.Z)({width:this.state.currentSubScene.fullWidth?"100%":this.state.currentSubScene.paragraphWidth||""},it),children:"Add text"}),this.renderFrameRefLines(),this.props.videoPreviewComponentNew(!0,this.props.frameSize.height,this.hasVideoEndedNew),(0,O.jsx)("button",{className:"btn btn-default back-button ".concat(De||ke?"disabled":""),id:this.props.BackButtonSceneId,onClick:this.BackScene.bind(),disabled:De||ke,children:(0,O.jsx)("i",{className:"fa fa-angle-left"})}),(0,O.jsx)("button",{className:"btn btn-default next-button ".concat(Ue||ke?"disabled":""),id:this.props.NextButtonSceneId,onClick:this.NextScene.bind(),disabled:Ue||ke,children:(0,O.jsx)("i",{className:"fa fa-angle-right"})}),$e&&$e.length&&(0,O.jsx)("div",{className:"floating-left-bottom-container",children:(0,O.jsx)("img",{src:"/icons/step3/"+$e+".png",alt:"musicIcon"})}),"video"===(0,N.Q5)(ye)&&this.state.showTrimBar&&(0,O.jsx)(H.Z,{className:"edit-video input-range-container",sx:{padding:"12px 0px"},children:(0,O.jsxs)(K.Z,{direction:"column",style:{position:"relative"},children:[(0,O.jsxs)(K.Z,{direction:"row",sx:{marginTop:"-10px",height:"40px",display:"flex",alignItems:"center",justifyContent:"space-between",pl:"14px",px:"12px"},children:[(0,O.jsx)(H.Z,{}),(0,O.jsx)(z.Z,{variant:"text_xs",className:"video-trimmer-Label",sx:{border:"1px solid green"},children:this.properDuration((this.videoEndTime||this.videoDuration)-(this.videoStartTime||0),"s",!0)}),(0,O.jsxs)(K.Z,{direction:"row",sx:{mx:"5px"},children:[(0,O.jsx)(J.Z,{className:"iconButton","aria-label":"apply trim",sx:{height:"32px",width:"32px",padding:"5px",mr:"5px"},disabled:!this.state.videoTrimmerValueChanged,onClick:function(){return ge.applyTrimVideo(et)},children:(0,O.jsx)(te.Z,{fontSize:"medium"})}),(0,O.jsx)(J.Z,{className:"iconButton","aria-label":"discard",sx:{height:"32px",width:"32px",padding:"5px"},onClick:function(){ge.setState({start:ge.state.temp.start,end:ge.state.temp.end,showTrimBar:!1,showFocusOverlay:!1,videoTrimmerValueChanged:!1})},children:(0,O.jsx)(ne.Z,{fontSize:"medium"})})]})]}),(0,O.jsxs)(K.Z,{className:"edit-video-strip",direction:"row",sx:{pl:"0.5rem",pr:"1rem"},children:[(0,O.jsxs)(J.Z,{className:"iconButton",sx:{cursor:"pointer",padding:"0 5px",display:"inline-flex",alignItems:"center",overflow:"hidden",maxWidth:"32px"},children:[(0,O.jsx)(se.Z,{id:"video-playing-icon",className:"iconButton",onClick:function(){ge.pausePlayVideo(!0)},fontSize:"medium"}),(0,O.jsx)(re.Z,{id:"video-pause-icon",className:"iconButton",sx:{display:"none"},onClick:function(){ge.pausePlayVideo(!0)},fontSize:"medium"})]}),(0,O.jsx)(be(),{id:"trim-video-range",maxValue:this.videoDuration,minValue:.5,step:.01,formatLabel:function(e){return(e=Math.round(e))<10?"0:0".concat(e):"0:".concat(e)},value:{min:this.videoStartTime,max:this.videoEndTime||this.videoDuration},onChange:function(e){ge.onVideoTrimmerValueChange(e)}}),(0,O.jsxs)(z.Z,{sx:{pl:"0.5rem",display:"inline-flex",alignItems:"center",color:"#5F6178"},variant:"text_xs",children:[" ",this.properDuration(this.videoDuration)," "]})]})]})}),!this.state.playPreview&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(N.M2,{condition:this.animationContainerRef.current,wrapper:this.DragAndResizeBox,children:[(0,O.jsxs)("div",{id:"editor-box",className:lt,style:ut,children:[(0,O.jsx)("div",{className:"head-strokeline"}),(0,O.jsx)(Ft.w,{htmlText:this.props.Sentence,onChangeFn:function(e){return ge.saveEditorValues(e.html,e.keywords)},closeEditorFn:(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ge.props.isOpenTextEditor,!e.t0){e.next=5;break}return e.next=4,ge.props.closeOpenTextEditor(ge.props.CounterSubSence,!1);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),onSelect:this.onEditorTextSelection,contentEditable:!!this.props.isOpenTextEditor,ref:function(e){return ge.editorRef=e}},this.props.FigureId)]}),(0,O.jsx)("div",{className:"editor-box-inner",onClick:function(){return ge.onClickDisplayItem(Kt.sceneText)}}),this.state.editorFocusItem===Kt.sceneText&&(0,O.jsx)("div",{className:"editor-box-popover "+this.getPopoverBoxClassName(this.props.currentSubScene),children:(0,O.jsx)(H.Z,{sx:{backgroundColor:"common.white",borderRadius:"8px",px:.5,py:.5,display:"flex",justifyContent:"space-evenly",width:"max-content",cursor:"default"},children:this.applyPositionToAllIcon()})})]}),fe]}),this.renderDisplayItems(),(0,O.jsx)("div",{className:"bg-mask no-bottom-border-radius"})]}),!this.state.playPreview&&(0,O.jsxs)(N.M2,{condition:this.state.checkedImageZoom,wrapper:this.DraggableFrame,children:[(0,O.jsx)("div",{className:"no-bottom-border-radius background ".concat(this.state.checkedImageZoom?"from-article":"from-search"),style:{backgroundColor:Se},children:"video"===(0,N.Q5)(ye)?(0,O.jsx)("video",{muted:!0,className:"no-bottom-border-radius",src:We,poster:this.props.imageAsset&&this.props.imageAsset.thumb_jpg}):We?(0,O.jsx)("img",{alt:We,draggable:"false",className:"no-bottom-border-radius",src:We}):""}),(0,O.jsx)("div",{className:"no-bottom-border-radius background ".concat(this.state.checkedImageZoom?"from-search":"from-article"),style:{backgroundColor:Se,backdropFilter:"blur(8px)"},children:"video"===(0,N.Q5)(ye)?(0,O.jsx)("video",{ref:function(e){return ge.videoPlayer=e},id:this.props.SceneDivId,muted:!0,className:"no-bottom-border-radius",onClick:function(){ge.state.showTrimBar&&ge.trimScene()},onLoadedData:function(){return ge.getVisualsDimensions(!0)},src:We,poster:this.props.imageAsset&&this.props.imageAsset.thumb_jpg}):We?(0,O.jsx)("img",{ref:function(e){return ge.imageRef=e},id:this.props.SceneDivId,alt:We,onLoad:function(){return ge.getVisualsDimensions(!0)},draggable:"false",className:"no-bottom-border-radius",src:We}):""})]}),this.state.showWatermarkInfoMsg&&this.showWatermarkInfoMsg()]}),(0,O.jsx)("div",{className:["block-footer col p-0 mb-0 sixteen-nine"].join(" "),style:{width:"auto !important"},children:(0,O.jsxs)("ul",{className:"list-inline upnewbttn-list justify-content-center d-flex scene-settings-toolbar light-gray-background pt-2 pb-2",sx:{height:"56px"},children:[(0,O.jsx)("li",{className:"nav-item",children:(0,O.jsxs)("div",{className:"btn-group btn-group-sm sticking undo-redo-group",role:"group","aria-label":"Large button group",children:[(0,O.jsx)(q.Z,{title:"undo",arrow:!0,children:(0,O.jsx)(Y.Z,{id:"undo-button",type:"button",disabled:!this.props.undo,onClick:this.props.undo,className:"btn btn-default left",sx:{color:"grey.500","&:hover":{color:"primary.main"}},children:(0,O.jsx)(C.Z,{fontSize:"small"})})}),(0,O.jsx)(q.Z,{title:"redo",arrow:!0,children:(0,O.jsx)(Y.Z,{type:"button",id:"redo-button",disabled:!this.props.redo,onClick:this.props.redo,className:"btn btn-default right",sx:{color:"grey.500","&:hover":{color:"primary.main"}},children:(0,O.jsx)(Z.Z,{fontSize:"small"})})})]})}),(0,O.jsx)(q.Z,{title:"Scene Preview",arrow:!0,children:(0,O.jsx)(J.Z,{className:"AI-voice-over iconbutton voice-over min-width-30 position-relative ml-1 preview-button",id:"previewButton",onClick:this.PreviewButtonClickNew.bind(),disabled:ke,children:(0,O.jsx)("span",{children:(0,O.jsx)(z.Z,{sx:{display:"flex",alignSelf:"center",alignItems:"center",height:"30px",color:"grey.500","&:hover":{color:"primary.main"}},children:"play"==this.state.previewPauseButtonState?(0,O.jsx)(I.Z,{}):(this.state.previewPauseButtonState,(0,O.jsx)(k.Z,{}))})})})}),(0,O.jsx)("li",{className:"flex-filler default-cursor"}),!this.props.showAudioTrimmer&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(H.Z,{sx:{position:"relative",display:"flex",alignItems:"center","&:hover":{backgroundColor:"grey.100"}},children:[(0,O.jsx)(q.Z,{title:this.state.checkHideText?"Show text":"Hide text",arrow:!0,children:(0,O.jsx)(J.Z,{className:"iconbutton",children:(0,O.jsxs)("label",{className:"icon_toggle icon ".concat(""==xe?"disabed":""),style:{pointerEvents:this.state.applyToAllViaButton?"none":"auto",marginBottom:"3px"},children:[(0,O.jsx)("input",{type:"checkbox",disabled:""==xe,checked:this.state.checkHideText,onChange:this.checkHideText}),(0,O.jsxs)(H.Z,{variant:"text",component:"span",className:"icon_container",sx:{cursor:"pointer","& .icon_off":{display:"none"},"&:hover .icon":{display:"none"},"&:hover .icon_off":{display:"inline"}},children:[(0,O.jsx)(x.Z,{className:"icon"}),(0,O.jsx)(v.Z,{className:"icon_off"})]})]})})}),this.state.applyToAllVisible&&(0,O.jsx)(ee.Z,{sx:{p:"2px 6px",borderRadius:"8px",backgroundColor:"primary.lighest",ml:"10px",color:"primary.main",display:"flex",cursor:"pointer",pointerEvents:this.state.applyToAllViaButton?"none":"auto",border:"1px solid",borderColor:"primary.lighter"},onClick:this.applyHideTextToAllScene,children:this.state.applyToAllViaButton?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(f.Z,{}),(0,O.jsx)(z.Z,{variant:"text_sm",component:"span",children:"Applied"})]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(z.Z,{variant:"text_sm",component:"span",sx:{borderRight:"1px solid",borderRightColor:"primary.lighter",pr:"5px"},children:"Apply to all"}),(0,O.jsx)(j.Z,{onClick:function(e){e.stopPropagation(),ge.setState({applyToAllVisible:!1})},sx:{pl:"5px"}})]})})]}),(0,O.jsx)(H.Z,{children:(0,O.jsx)(Tt.default,{isVoiceAiOverSelected:Ee,isVoiceOverRecorded:!!Xe,onOptionSelect:this.onVoiceOverSelect,isRecorderEntireVideo:this.props.voiceOverOnEntireVideo()})}),!0===this.props.allowTrimVideo&&(0,O.jsx)(q.Z,{title:"Trim Video",arrow:!0,children:(0,O.jsx)(J.Z,{variant:"text",id:"trim-scene-action",className:[" min-width-30 nav-item","iconbutton","video"!==(0,N.Q5)(ye)?"disabled":""].join(" "),disabled:"video"!==(0,N.Q5)(ye),onClick:function(){"video"===(0,N.Q5)(ye)&&ge.videoLoaded&&ge.startTrimmingVideo()},sx:{border:0},children:(0,O.jsx)(M.Z,{className:"trim-icon"})})}),(0,O.jsxs)("div",{className:"dropup flex-centered",id:"scene-setting-dropdown",children:[(0,O.jsx)(J.Z,{className:"iconbutton dropdown-toggle naked-button settings-menu-after-caret mx-2",disabled:me,type:"button",id:"dropdownMenu2","aria-haspopup":"true","aria-expanded":"false",style:{display:"flex",alignItems:"center"},children:(0,O.jsx)(T.Z,{className:"settings-icon"})}),(0,O.jsxs)("ul",{className:"the-dropup dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenu2","x-placement":"top-end",style:{minWidth:"286px"},children:[(0,O.jsx)("li",{className:"disabled",children:(0,O.jsx)("p",{className:"gray smaller-font right-aligned mb-0 fill-width scene-settings-apply-to-all",children:"Apply to all"})}),(0,O.jsx)("li",{className:"",children:(0,O.jsx)("p",{className:"black bold mb-0 fill-width ml-21",children:"Visuals"})}),(0,O.jsxs)("li",{children:[(0,O.jsx)("a",{className:["","video"!==(0,N.Q5)(ye)?"disabled":""].join(" "),children:"Loop video"}),(0,O.jsxs)("label",{className:"switch super-small ".concat("video"!==(0,N.Q5)(ye)?"disabed":""),children:[(0,O.jsx)("input",{type:"checkbox",disabled:"video"!==(0,N.Q5)(ye),checked:void 0===this.state.loopVideo||this.state.loopVideo,onChange:this.checkLoopVideo}),(0,O.jsx)("span",{className:"slider round"})]}),(0,O.jsx)("input",{type:"checkbox",className:"mr-4",disabled:"video"!==(0,N.Q5)(ye),checked:this.state.loopVideoAllScene,onChange:this.applyLoopVideoToAllScene})]}),(0,O.jsxs)("li",{children:[(0,O.jsx)("a",{className:["",(0,N.Q5)(ye)===He||Se?"disabled":""].join(" "),children:"Visual zoom & pan"}),(0,O.jsxs)("label",{className:"switch super-small ".concat((0,N.Q5)(ye)===He||Se?"disabed":""),children:[(0,O.jsx)("input",{type:"checkbox",disabled:(0,N.Q5)(ye)===He||Se,checked:this.state.checkedImageZoom,onChange:this.checkImageZoom}),(0,O.jsx)("span",{className:"slider round"})]}),(0,O.jsx)("input",{type:"checkbox",className:"mr-4",disabled:He||Se,checked:this.state.applyImageZoomPanToAllScene,onChange:this.applyImageZoomPanToAllScene})]}),(0,O.jsx)("li",{className:"",children:(0,O.jsx)("p",{className:"black bold mb-0 fill-width ml-21 mt-2",children:"Audio"})}),(0,O.jsxs)("li",{children:[(0,O.jsx)("a",{className:["",Ee?"":"disabled"].join(" "),children:"Voice-over"}),(0,O.jsxs)("label",{className:["switch super-small",Ee?"":"disabled"].join(" "),children:[(0,O.jsx)("input",{type:"checkbox",checked:!!Ee&&this.state.checkedVoiceOver,onChange:this.checkVoiceOver,disabled:!Ee}),(0,O.jsx)("span",{className:"slider round"})]}),(0,O.jsx)("input",{type:"checkbox",className:"mr-4",checked:!!Ee&&this.state.applyVoiceOverToAllScene,onChange:this.applyVoiceOverToAllScene,disabled:!Ee})]}),(0,O.jsxs)("li",{children:[(0,O.jsx)("a",{disabled:Te,className:[Te?"disabled":""].join(" "),children:"Mute uploaded video"}),(0,O.jsxs)("label",{className:["switch super-small",Te?"disabled":""].join(" "),children:[(0,O.jsx)("input",{type:"checkbox",disabled:Te,checked:this.state.muteClipAudio,onChange:this.checkMuteClipAudio}),(0,O.jsx)("span",{className:"slider round"})]}),(0,O.jsx)("input",{type:"checkbox",className:"mr-4",disabled:Te,checked:this.state.muteClipAudioAllScene,onChange:this.applyMuteClipAudioToAllScene})]}),(0,O.jsxs)("li",{children:[(0,O.jsx)("a",{className:["",Ae?"":"disabled"].join(" "),disabled:!Ae,children:"Background music"}),(0,O.jsxs)("label",{className:["switch super-small",Ae?"":"disabled"].join(" "),children:[(0,O.jsx)("input",{type:"checkbox",checked:!!Ae&&this.state.checkedMusic,onChange:this.checkMusic,disabled:!Ae}),(0,O.jsx)("span",{className:"slider round"})]}),(0,O.jsx)("input",{type:"checkbox",className:"mr-4",checked:!!Ae&&this.state.applyMusicToAllScene,onChange:this.applyMusicToAllScene,disabled:!Ae})]})]})]}),(0,O.jsx)(q.Z,{title:"Delete Scene",arrow:!0,children:(0,O.jsx)(J.Z,{variant:"text",className:["min-width-30","iconbutton","nav-item",Ze?"disabled":""].join(" "),disabled:Ze,onClick:function(){return!Ze&&ge.DeleteScene()},id:"edit-video-delete-button-icon",sx:{width:"32px !important",marginRight:"8px !important","&: hover":{color:"error.main"}},children:(0,O.jsx)(y.Z,{})})})]})]})})]}),this.state.showDeletePopup?(0,O.jsx)(ce.default,{icon:(0,O.jsx)(b.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:!!this.state.showDeletePopup,title:"Confirm ?",message:Ht,primaryButtonLabel:"Delete",primaryButtonOnClick:this.DeleteThisSceneConfirmOk,secondaryButtonLabel:"Cancel",secondaryButtonOnClick:this.CloseConfirmationBox}):(0,O.jsx)(O.Fragment,{}),this.state.showApplyDurationPopup?(0,O.jsx)(ce.default,{icon:(0,O.jsx)("img",{src:"/images/cut-scene.png"}),iconBgPaletteColor:"info.lighter",open:!!this.state.showApplyDurationPopup,title:"Update the scene duration?",message:"Your visual has been trimmed successfully. Please confirm if you'd like to update the scene duration to match that of the visual.",primaryButtonLabel:"Yes",primaryButtonOnClick:this.applyDurationToCurrentScene,primaryButtonColor:"primary.main",secondaryButtonLabel:"No",secondaryButtonOnClick:this.closeConfirmationBox}):(0,O.jsx)(O.Fragment,{})]}),!this.props.showAudioTrimmer&&(0,O.jsxs)("li",{className:["dropup nav-item insert-scene-dropdown move-to-left from-side-menu",me||"Outro Scene"===this.props.showSceneNumber?"invisible":"","none"!==Ve||!0!==this.props.disableAddSubScene&&"Custom Intro Scene"!==this.props.showSceneNumber&&"Outro Scene"!==this.props.showSceneNumber?"":"invisible"].join(" "),onMouseOver:function(){var e=document.getElementById("edit-video-info-msg");e&&(e.style.visibility="visible")},onMouseOut:function(){var e=document.getElementById("edit-video-info-msg");e&&(e.style.visibility="hidden")},children:[(0,O.jsx)("div",{"data-toggle":"dropdown",disabled:me,children:(0,O.jsx)(g.Z,{sx:{mr:"0.5rem",ml:"0.5rem",height:"27px",width:"27px",color:"grey.500","&:hover":{color:"primary"}}})}),(0,O.jsxs)("div",{className:["dropdown-menu pt-1 pb-1",me||"Outro Scene"===this.props.showSceneNumber?"invisible":"",!0===this.props.disableAddSubScene||"Custom Intro Scene"===this.props.showSceneNumber||"Outro Scene"===this.props.showSceneNumber?"no-subscene":""].join(" "),"x-placement":"top-start",style:{minWidth:"156px"},children:[(0,O.jsx)("a",{className:"fill-width center-aligned black font-size-4 mb-1",disabled:!0,children:"Insert scene"}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1  min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("blank",!1)},style:{display:Ve},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/blank.png",alt:"blank.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Blank"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/blank.png",alt:"blank.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Blank"})]})]}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1  min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("text",!1)},style:{display:Ve},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/textonly.png",alt:"textonly.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Text only"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/textonly.png",alt:"textonly.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Text only"})]})]}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1  min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("visual",!1)},style:{display:Ve},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/visualsonly.png",alt:"visualsonly.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Visuals only"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/visualsonly.png",alt:"visualsonly.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Visuals only"})]})]}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1 min-width-118 on-hover-event",onMouseDown:function(){return ge.AddNewScene("combo",!1)},style:{display:Ve},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-black/textvisuals.png",alt:"textvisuals.png"}),(0,O.jsx)("span",{className:"black font-size-7",children:"Text & Visuals"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("img",{className:"insert-scene-image",src:"/icons/scenetypes-blue/textvisuals.png",alt:"textvisuals.png"}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Text & Visuals"})]})]}),!0===this.props.disableAddSubScene||"Custom Intro Scene"===this.props.showSceneNumber||"Outro Scene"===this.props.showSceneNumber?null:(0,O.jsxs)(A.Fragment,{children:[(0,O.jsx)("hr",{className:"mt-1 mb-1",style:{borderTopColor:"rgba(0,0,0,0.4)"}}),(0,O.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1 pr-1 min-width-118 on-hover-event",disabled:""==xe,onMouseDown:function(e){ge.AddNewSubScene(e,!1)},children:[(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width hide-on-hover",children:[(0,O.jsx)("span",{className:"sortof-black bordered-icon-container",children:(0,O.jsx)("i",{className:"fa fa-link mr-0 gray-colored"})}),(0,O.jsx)("span",{className:"black font-size-7",children:"Linked scene"})]}),(0,O.jsxs)("div",{className:"horizontal-flex start-center fill-width show-on-hover",children:[(0,O.jsx)("span",{className:"blue bordered-icon-container",children:(0,O.jsx)("i",{className:"fa fa-link mr-0 blue"})}),(0,O.jsx)("span",{className:"blue font-size-7",children:"Linked scene"})]})]})]})]})]})]}),(0,O.jsx)(Et.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,severity:this.state.alertSeverity?this.state.alertSeverity:"error",onClose:function(){return ge.setState({showAlertNotification:void 0})}})]})}},{key:"create480pUrl",value:function(e){var t=e.substr(0,e.lastIndexOf("#t=")),n=t.split("/").pop().split("?")[0],r=t.substr(0,t.lastIndexOf("/")),s=n.substr(0,n.lastIndexOf(".")),a=n.split(".").pop(),i="".concat(s,"_480p.").concat(a);return"".concat(r,"/").concat(i)}}]),n}(A.Component),Yt=(0,we.$j)((function(e){return{voiceOverData:e.createVideoStepThree.voiceOverData,saveAudioStatus:e.favouriteAndRecents.saveAudioStatus,urlStatus:e.editVideoAllScene.urlStatus}}),{getVoiceOverTrack:Mt,saveAudioFavAndRecents:Gt,showErrorNotification:Wt,checkIfUrlValid:zt})(qt);function Qt(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a="\n          ".concat(e=e?"#"+e:"",".sentences {\n            ").concat(t?"background-image: linear-gradient(".concat(t,", ").concat(t,");"):"","\n            padding: ").concat(16*s,"px ").concat(8*s,"px;\n            display: ").concat(r?"none":"flex"," !important;\n            flex-direction: column;\n            align-content: center;\n            align-items: center;\n            justify-content: center;\n            width: 100% !important;\n          }\n\n          ").concat(e,".sentences p span,\n          ").concat(e," .sentences p {\n            background: none !important;\n            ").concat(n?"text-align: ".concat(n,";"):"","\n          }");return a}},93909:function(e,t,n){"use strict";var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(47313),c=(n(89303),n(46417)),l=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).handleLogout=function(e){window.location.href="/"},s.state={myClassName:"footer "},s}return(0,s.Z)(n,[{key:"render",value:function(){return(0,c.jsx)("footer",{className:"theme-footer float-to-bottom",children:(0,c.jsx)("div",{className:"container-fluid",children:(0,c.jsxs)("p",{className:"small",children:["© Copyright ",(new Date).getFullYear()," Pictory Corp. All Rights Reserved."," ",(0,c.jsx)("a",{target:"_blank",href:"https://pictory.ai/pictory-ai-terms-html/",rel:"noreferrer",children:"Terms of Service"}),"."," ",(0,c.jsx)("a",{target:"_blank",href:"https://pictory.ai/pictory-ai-policy-html/",rel:"noreferrer",children:"Privacy Policy"}),". Build 1.0.0"]})})})}}]),n}(o.Component);t.Z=l},52740:function(e,t,n){"use strict";n.d(t,{Z:function(){return Tt}});var r=n(4942),s=n(74165),a=n(15861),i=n(93433),o=n(1413),c=n(15671),l=n(43144),u=n(60136),d=n(29388),p=n(24873),h=n(42669),m=n(80699),g=n(18765),f=n(22449),v=(n(52984),n(34207)),x=n(51443),S=n.n(x),y=n(40009),b=(n(17999),n(29439)),j=n(79834),w=n(62463),Z=n(605),k=n(47313),C=n(1084),I=n(25543),T=n(46417),E=(0,C.$j)((function(e){return{remoteVersion:e.app.remoteVersion,localVersion:e.app.localVersion}}),(function(e){return{setLocalAppVersion:function(t){return e(I.setLocalAppVersion(t))},getRemoteAppVersion:function(){return e(I.getRemoteAppVersion())}}}))((function(e){var t=e.show,n=e.history,r=e.setLocalAppVersion,s=e.getRemoteAppVersion,a=e.onShow,i=e.localVersion,o=e.remoteVersion,c=k.useState(t||!1),l=(0,b.Z)(c,2),u=l[0],d=l[1],m=k.useCallback((function(){window.location.reload()}),[]);return k.useEffect((function(){r&&r("e128d02bfa4aa471e853b4cb7e26bcc4a831e380"),setTimeout((function(){s()}),5e3)}),[s,r]),k.useEffect((function(){var e=null==n?void 0:n.listen((function(e,t){s()}));return function(){e&&e()}}),[s,n]),k.useEffect((function(){i&&o&&o!==i&&(console.info("APP NEEDS UPDATE - localVersion: ".concat(i," - remoteVersion: ").concat(o)),d(!0),document.body.classList.add("has-update"),setTimeout((function(){null==a||a()}),1))}),[i,o]),u?(0,T.jsxs)(p.Z,{sx:{backgroundColor:"secondary.lighter",color:"common.black",padding:".5rem 1.2rem",height:"64px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,T.jsxs)(w.Z,{direction:"row",spacing:1,sx:{alignItems:"center"},children:[(0,T.jsx)(j.Z,{}),(0,T.jsx)(h.Z,{sx:{display:"inline"},children:"Hey, we've fine tuned some features here! Click on the update button to experience the new Pictory."})]}),(0,T.jsx)("div",{children:(0,T.jsx)(Z.Z,{variant:"contained",onClick:m,sx:{backgroundColor:"#122155",color:"primary.white","&:hover":{backgroundColor:"#1f306b",color:"primary.white"},boxShadow:"none"},children:"Update"})})]}):null})),A=n(76666),_=n.n(A),R=n(16031),P=n.n(R),N=n(46890),O=(n(46298),n(34862)),D=n(92145),U=(n(89303),n(11043)),L=n(78896),F=n(90794),V=n(70816),B=n.n(V),M=n(47439),G=n(91104),W=n(96161),z=n(45610),J=(n(79155),n(87074)),H=(n(33538),n(65107),n(10366)),K=n(1583),q=n(52927),Y=n(15422),Q=n(98216),X=n(74562),$=n(47196),ee=n(49943),te=n(23148),ne=n(62018),re=n(72930),se=n(45987),ae=n(23938),ie=n(18104),oe=n.p+"static/media/create_team.90bd9b393aef6a72771a.png",ce=n(85585),le=n(12948),ue=n(48242),de=n.n(ue),pe=["onChange","createTeam","user"];function he(e){e.onChange;var t,n=e.createTeam,r=e.user,c=(0,se.Z)(e,pe),l=(0,k.useState)(""),u=(0,b.Z)(l,2),d=u[0],m=u[1],g=(0,k.useState)([{key:1,emailId:""}]),f=(0,b.Z)(g,2),v=f[0],x=f[1],S=(0,k.useState)(),y=(0,b.Z)(S,2),j=y[0],C=y[1],I=(0,k.useRef)(),E=(0,k.useRef)();return(0,T.jsx)(q._c,(0,o.Z)((0,o.Z)({},c),{},{contentSx:{p:0},closeIcon:!0,fullWidth:!0,maxWidth:"md",children:(0,T.jsxs)(w.Z,{direction:"row",children:[(0,T.jsx)(p.Z,{sx:{p:4},children:(0,T.jsxs)("form",{ref:I,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,T.jsxs)(p.Z,{children:[(0,T.jsx)(h.Z,{variant:"dialog_title",sx:{mb:2},component:"div",children:"Welcome, ".concat((null==r||null===(t=r.attributes)||void 0===t?void 0:t.name)||"")}),(0,T.jsx)("p",{children:"Bring your whole team to collaborate and unlock the full power of PICTORY together. "}),(0,T.jsx)(ae.default,{id:"teamName",autoFocus:!0,fullWidth:!0,label:"Team name",placeholder:"Type here...",value:d,onChange:function(e){return m(e.target.value)},inputProps:{maxLength:M.m_,sx:{fontSize:"14px"}},showBorder:!0,sxLabel:{mb:.5,ml:0,color:"grey.300",fontSize:"14px"},required:!0,validationsList:[{fn:function(e){return e.trim().length>0},message:"Enter valid name"}],form:I}),(0,T.jsx)(p.Z,{sx:{mt:4},children:(0,T.jsx)(h.Z,{variant:"text_sm",sx:{color:"grey.300"},children:"Invite members"})}),(0,T.jsxs)(p.Z,{children:[(0,T.jsx)(p.Z,{sx:{overflowY:"overlay",minHeight:"60px",maxHeight:"186px",pr:"16px",mr:"-16px"},children:v.map((function(e,t){return(0,T.jsx)(p.Z,{sx:{position:"relative"},children:(0,T.jsx)(ae.default,{id:"email"+e.key,fullWidth:!0,placeholder:"Enter email address",value:e.emailId,onChange:function(e){var n=(0,i.Z)(v);n[t]=(0,o.Z)((0,o.Z)({},n[t]),{},{emailId:e.target.value}),x(n)},inputProps:(0,o.Z)({maxLength:100,sx:{fontSize:"14px"}},t===v.length-1?{ref:E}:{}),sxTextField:{"& .MuiFormHelperText-root":{ml:1,mt:1,position:"relative"}},showBorder:!0,sx:{mb:1,height:"auto"},component:"div",InputProps:{endAdornment:(0,T.jsx)(ie.Z,{size:"small",edge:"start",color:"inherit",onClick:function(){var e=(0,i.Z)(v);e.splice(t,1),x(e)},"aria-label":"close",sx:{position:"absolute",right:"4px",color:"grey.300"},children:(0,T.jsx)(ce.Z,{fontSize:"small"})})},validationsList:[{fn:function(e){return de().isEmail(e)},message:"Enter valid email"},{fn:function(e){return e!=r.attributes.email},message:"Enter other team member's name"},{fn:function(e){return v.filter((function(t){return t.emailId==e})).length<=1},message:"Member already exists"}],form:I})},e.key)}))}),(0,T.jsx)(Z.Z,{variant:"text",color:"grey",startIcon:(0,T.jsx)(le.Z,{}),sx:{mb:1,mt:.5,ml:"-4px"},onClick:function(){var e,t=(0,i.Z)(v);t.push({key:((null===(e=t[t.length-1])||void 0===e?void 0:e.key)||0)+1,emailId:""}),x(t),setTimeout((function(){null==E||E.current.scrollIntoView(),null==E||E.current.focus()}),100)},children:"Add more members"})]})]}),(0,T.jsxs)(Y.w,{variant:"contained",color:"primary",fullWidth:!0,onClick:(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I.current.validation){e.next=10;break}if(null===(t=Object.values(I.current.validation))||void 0===t?void 0:t.find((function(e){return e.error}))){e.next=10;break}return C(!0),e.next=6,n(d,v);case 6:e.sent,m(""),x([{key:1,emailId:""}]),C(!1);case 10:case"end":return e.stop()}}),e)}))),sx:{height:"40px"},children:[(0,T.jsx)(p.Z,{className:j?"visibility-hidden":"",children:"Create team"}),j&&(0,T.jsx)(p.Z,{className:"dot-flashing"})]})]})}),(0,T.jsx)(p.Z,{children:(0,T.jsx)("img",{src:oe})})]})}))}var me=n(18248),ge=n(66823),fe=n(81962),ve=n(31929),xe=n(25685),Se=n(45934),ye=n(88345),be=n(98495),je=n(57025),we=n(23489),Ze=n(2040),ke=n(81580),Ce=n(17944),Ie=n(924),Te=n(6708),Ee=n(62949),Ae=["teams","teamUsers","userInvites","user","userImage","currentSubscription","isSignUp","openCreateTeamPopup","handleMyAccount","gotoPlansList","onClickAffliliateDasbhobard","onClickBecomeAffliliate","handleLogout","handleWorkspaceChange","selectedWorkspace","acceptRejectInvite","showNotificationBadge","handleInactivePopup"];function _e(e){var t=e.teams,n=(e.teamUsers,e.userInvites),r=e.user,s=e.userImage,a=e.currentSubscription,i=e.isSignUp,c=e.openCreateTeamPopup,l=e.handleMyAccount,u=e.gotoPlansList,d=e.onClickAffliliateDasbhobard,g=e.onClickBecomeAffliliate,f=e.handleLogout,v=e.handleWorkspaceChange,x=e.selectedWorkspace,S=e.acceptRejectInvite,y=e.showNotificationBadge,j=e.handleInactivePopup,w=((0,se.Z)(e,Ae),t&&t.length>0||n&&n.length>0),Z=(0,G.VO)(null==r?void 0:r.username),C=(0,k.useState)(),I=(0,b.Z)(C,2),E=I[0],A=I[1];(0,k.useEffect)((function(){if(null!=t&&t.length){var e=(null==t?void 0:t.find((function(e){return e.isAdmin})))&&(0,T.jsxs)(T.Fragment,{children:["We are still experimenting with Teams Plan, ",(0,T.jsx)("br",{}),"and so you can only create one Team for now."]});A(e)}}),[t]);var _,R=function(e){var t=e||0;return"".concat(t,1===t?" member":" members")},P=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Free trial",i=arguments.length>6?arguments[6]:void 0,c=e!==(null==x?void 0:x.teamId),l=r||e===M.vn?"":t;return a="".concat(a," | "),(0,T.jsx)(m.Z,{title:l,disableInteractive:!0,placement:"right-start",arrow:!0,children:(0,T.jsxs)(fe.Z,{value:e,onClick:function(){return c&&(i?j(e):v(e))},sx:{cursor:c?"pointer":"auto"},children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(Ee.Z,(0,o.Z)((0,o.Z)({name:t,size:"small"},e===M.vn?{imgSrc:s}:{}),{},{backgroundColor:e===M.vn?"primary.light":"grey.100",color:e===M.vn?"white":"grey.500"}))}),(0,T.jsx)(xe.Z,{children:(0,T.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,T.jsxs)(p.Z,{sx:{width:(null==x?void 0:x.teamId)===M.vn?"calc(100% - 56px)":r?"calc(100% - 60px)":"calc(100% - 40px)"},children:[(0,T.jsx)(h.Z,{noWrap:!0,variant:"text_base",component:"div",children:t}),e===M.vn&&(0,T.jsx)(h.Z,{noWrap:!0,variant:"text_xs",sx:{color:"grey.400"},component:"div",children:"Personal workspace"}),!r&&e!==M.vn&&(0,T.jsx)(h.Z,{noWrap:!0,variant:"text_xs",sx:{color:"grey.400"},component:"div",children:a+R(n)}),r&&(0,T.jsx)(h.Z,{noWrap:!0,variant:"text_xs",sx:{color:"grey.400"},component:"div",children:"Pending"})]}),!r&&(null==x?void 0:x.teamId)===e&&(0,T.jsx)(p.Z,{sx:{width:"24px",ml:1,p:"2px"},children:(0,T.jsx)(ye.Z,{size:"small",color:"primary",sx:{display:"inline-block"}})}),r&&(0,T.jsxs)(p.Z,{children:[(0,T.jsx)(ie.Z,{sx:{width:"20px",ml:1,p:0},onClick:function(){return S([{teamId:e,isAccepted:!1}])},children:(0,T.jsx)(be.Z,{size:"small",color:"error",sx:{display:"inline-block"}})}),(0,T.jsx)(ie.Z,{sx:{width:"20px",ml:1,p:0},onClick:function(){return S([{teamId:e,isAccepted:!0}])},children:(0,T.jsx)(je.Z,{size:"small",color:"success",sx:{display:"inline-block"}})})]})]})})]})})};return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("li",{className:"user-profile dropdown",children:[(0,T.jsx)("a",{className:"header-links dropdown","data-toggle":"dropdown","aria-expanded":"false",style:{display:"block"},children:(0,T.jsx)(Se.Z,{invisible:!y,badgeContent:(0,T.jsx)(we.Z,{className:"pulsating-icon",fontSize:"12px",sx:{color:"#35fe95"}}),children:(0,T.jsxs)(p.Z,{sx:{position:"relative"},children:[(0,T.jsx)(Ee.Z,{size:"medium",name:Z,imgSrc:s,backgroundColor:"primary.light",sx:{position:"relative"}}),(null==x?void 0:x.teamId)!==M.vn&&(0,T.jsx)(Ee.Z,{size:"24px",name:(null==x?void 0:x.teamId)===M.vn?Z:null==x?void 0:x.name,imgSrc:(null==x?void 0:x.teamId)===M.vn&&s,sx:{position:"absolute",right:"-8px",bottom:"-4px",fontSize:"12px",border:"2px solid white"},backgroundColor:"grey.100",color:"grey.500"})]})})}),(0,T.jsxs)("ul",{className:"dropdown-menu",children:[w&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(fe.Z,{disabled:!0,dense:!0,children:"Switch to another workspace"}),(0,T.jsxs)(p.Z,{component:"li",sx:{maxHeight:"min(calc(52px * 6), 40vh)",overflow:"auto"},children:[P(M.vn,Z),null==n?void 0:n.map((function(e,t){var n;return P(e.teamId,e.name,null===(n=e.emailIdList)||void 0===n?void 0:n.length,!0,t)})),null==t?void 0:t.map((function(e,t){return P(e.teamId,e.name,e.membersCount,!1,t,e.plan_name,e.isInactive)}))]})]}),(0,T.jsx)(m.Z,{title:E,disableInteractive:!0,placement:"left-start",arrow:!0,children:(0,T.jsxs)(fe.Z,{onClick:function(e){return!E&&c(e)},className:E?"disabled-allow-pointer-events":"",disableRipple:!!E,children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(p.Z,{sx:{backgroundColor:"grey.100",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",fontSize:"20px",color:"grey.500"},children:(0,T.jsx)(Ze.Z,{})})}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(h.Z,{noWrap:!0,variant:"text_base",component:"div",children:"New team"})})]})}),(0,T.jsx)(fe.Z,{divider:!0,sx:{my:.5,p:0}}),(0,T.jsx)(fe.Z,{disabled:!0,dense:!0,sx:{},children:"Account"}),!i&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(fe.Z,{onClick:l,children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(ke.Z,{fontSize:"small"})}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(h.Z,{variant:"text_base",children:(null==x?void 0:x.teamId)!==M.vn?null!=x&&x.isAdmin?"Manage team":"Teams account":"My account"})})]}),(0,T.jsxs)(fe.Z,{onClick:u,children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(Ce.Z,{fontSize:"small"})}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(h.Z,{variant:"text_base",children:(null==x?void 0:x.teamId)!==M.vn?null!=x&&x.isAdmin?"Manage subscription":"Teams subscription":"My subscription"})})]})]}),(0,T.jsx)(fe.Z,{divider:!0,sx:{my:.5,p:0}}),function(){var e,t,n=!0;return console.log("currentSubscription?.affiliate: "+JSON.stringify(null==a?void 0:a.affiliate)),null!=a&&a.affiliate?null!=a&&null!==(e=a.affiliate)&&void 0!==e&&e.showInApp&&"no"==(null==a||null===(t=a.affiliate)||void 0===t?void 0:t.showInApp)&&(n=!1):n=!1,n}()&&(0,T.jsxs)(fe.Z,{onClick:d,children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(Ie.Z,{fontSize:"small"})}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(h.Z,{variant:"text_base",children:"Affiliate dashboard"})})]}),(_=!1,null!=a&&a.affiliate||(_=!0),_&&(0,T.jsxs)(fe.Z,{onClick:g,children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(Ie.Z,{fontSize:"small"})}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(h.Z,{variant:"text_base",children:"Become affiliate"})})]})),(0,T.jsxs)(fe.Z,{onClick:f,children:[(0,T.jsx)(ve.Z,{children:(0,T.jsx)(Te.Z,{fontSize:"small"})}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(h.Z,{variant:"text_base",children:i?"Back to login":"Log out"})})]})]})]})})}var Re,Pe,Ne,Oe,De,Ue,Le,Fe,Ve,Be,Me,Ge,We,ze=n(14108),Je=["title","titleId"];function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function Ke(e,t){var n=e.title,r=e.titleId,s=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Je);return k.createElement("svg",He({width:54,height:54,viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?k.createElement("title",{id:r},n):null,Re||(Re=k.createElement("path",{d:"M26.9488 3.85742C28.6845 3.85742 30.086 5.25883 30.086 6.99455V10.1317H23.7988V6.99455C23.8117 5.25883 25.2132 3.85742 26.9488 3.85742Z",fill:"#FFC107"})),Pe||(Pe=k.createElement("path",{d:"M26.949 3.85742C26.679 3.85742 26.4349 3.89599 26.1777 3.94742C27.5406 4.29455 28.5562 5.52883 28.5562 6.99455V10.1317H30.0862V6.99455C30.099 5.25883 28.6849 3.85742 26.949 3.85742Z",fill:"url(#paint0_radial_15509_214394)"})),Ne||(Ne=k.createElement("path",{d:"M47.2242 41.3097C47.2885 39.2138 45.8485 37.5938 43.3414 34.6625C40.8342 31.731 40.577 31.551 39.8057 21.5353C39.1242 12.741 35.2414 9.87389 30.5742 8.43389C29.4042 8.07389 28.1827 7.90674 26.9614 7.90674C25.7398 7.90674 24.5185 8.07389 23.3485 8.43389C18.6685 9.88674 14.7985 12.7539 14.1171 21.5482C13.3456 31.5638 13.0756 31.731 10.5813 34.6753C8.08706 37.6197 6.62134 39.2138 6.68562 41.3097H47.2242Z",fill:"url(#paint1_radial_15509_214394)"})),Oe||(Oe=k.createElement("path",{d:"M11.0314 34.1356C10.8899 34.3027 10.7356 34.4827 10.5814 34.6756C8.07421 37.6071 6.62136 39.214 6.68564 41.3099H47.2114C47.2757 39.214 45.8357 37.594 43.3285 34.6627C43.1614 34.4699 43.0198 34.3027 42.8785 34.1227C38.6742 32.6571 33.0814 31.7571 26.9485 31.7571C20.8156 31.7571 15.2356 32.6571 11.0314 34.1356Z",fill:"url(#paint2_radial_15509_214394)"})),De||(De=k.createElement("path",{d:"M26.9483 47.8157C38.1393 47.8157 47.2113 46.5262 47.2113 44.9357C47.2113 43.3451 38.1393 42.0557 26.9483 42.0557C15.7575 42.0557 6.68555 43.3451 6.68555 44.9357C6.68555 46.5262 15.7575 47.8157 26.9483 47.8157Z",fill:"url(#paint3_linear_15509_214394)"})),Ue||(Ue=k.createElement("path",{d:"M26.9483 38.4302C15.7627 38.4302 6.68555 39.7287 6.68555 41.3102V44.9358C6.68555 43.3415 15.7627 42.0558 26.9483 42.0558C38.147 42.0558 47.2113 43.3415 47.2113 44.9358V41.3102C47.2242 39.7287 38.147 38.4302 26.9483 38.4302Z",fill:"url(#paint4_linear_15509_214394)"})),Le||(Le=k.createElement("path",{d:"M47.2238 41.3097C47.2881 39.2138 45.8481 37.5938 43.3409 34.6625C40.8338 31.731 40.5766 31.551 39.8053 21.5353C39.1238 12.741 35.2409 9.87389 30.5738 8.43389C29.4038 8.07389 28.1825 7.90674 26.9609 7.90674C34.6238 9.37246 34.2381 17.151 34.2381 23.5538C34.2381 29.9568 35.6009 31.911 39.4838 34.0453C41.9396 35.3953 42.3766 38.9053 42.3638 41.3097H47.2238Z",fill:"url(#paint5_linear_15509_214394)"})),Fe||(Fe=k.createElement("path",{d:"M31.3199 45.5659C32.117 48.4974 34.0714 50.5159 35.7042 50.0787C37.337 49.6415 38.0183 46.9031 37.2214 43.9715C37.067 43.4059 36.8742 42.8915 36.6555 42.4031C34.9327 42.2744 33.0555 42.1715 31.0755 42.1074C30.9083 43.1231 30.9855 44.3315 31.3199 45.5659Z",fill:"url(#paint6_radial_15509_214394)"})),Ve||(Ve=k.createElement("path",{d:"M36.6415 42.4031C34.9187 42.2744 33.0415 42.1715 31.0615 42.1074C30.9587 42.7759 30.9587 43.5344 31.0615 44.3187C34.1602 43.3931 37.5287 44.9231 37.5287 46.5174C37.5287 46.5815 37.5287 46.6331 37.5415 46.6716C37.5802 45.8359 37.4771 44.9103 37.2202 43.9587C37.0658 43.4187 36.873 42.8915 36.6415 42.4031Z",fill:"url(#paint7_linear_15509_214394)"})),Be||(Be=k.createElement("path",{d:"M47.2242 41.3097C47.2885 39.2138 45.8485 37.5938 43.3414 34.6625C40.8342 31.731 40.577 31.551 39.8057 21.5353C39.1242 12.741 35.2414 9.87389 30.5742 8.43389C29.4042 8.07389 28.1827 7.90674 26.9614 7.90674C25.7398 7.90674 24.5185 8.07389 23.3485 8.43389C18.6685 9.88674 14.7985 12.7539 14.1171 21.5482C13.3456 31.5638 13.0756 31.731 10.5813 34.6753C8.08706 37.6197 6.62134 39.2138 6.68562 41.3097H47.2242Z",fill:"url(#paint8_radial_15509_214394)"})),Me||(Me=k.createElement("path",{d:"M47.2242 41.3097C47.2885 39.2138 45.8485 37.5938 43.3414 34.6625C40.8342 31.731 40.577 31.551 39.8057 21.5353C39.1242 12.741 35.2414 9.87389 30.5742 8.43389C29.4042 8.07389 28.1827 7.90674 26.9614 7.90674C25.7398 7.90674 24.5185 8.07389 23.3485 8.43389C18.6685 9.88674 14.7985 12.7539 14.1171 21.5482C13.3456 31.5638 13.0756 31.731 10.5813 34.6753C8.08706 37.6197 6.62134 39.2138 6.68562 41.3097H47.2242Z",fill:"url(#paint9_radial_15509_214394)"})),Ge||(Ge=k.createElement("path",{d:"M26.9483 38.4302C15.7627 38.4302 6.68555 39.7287 6.68555 41.3102V44.9358C6.68555 43.3415 15.7627 42.0558 26.9483 42.0558C38.147 42.0558 47.2113 43.3415 47.2113 44.9358V41.3102C47.2242 39.7287 38.147 38.4302 26.9483 38.4302Z",fill:"url(#paint10_linear_15509_214394)"})),We||(We=k.createElement("defs",null,k.createElement("radialGradient",{id:"paint0_radial_15509_214394",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(25.9838 7.60741) scale(4.84286)"},k.createElement("stop",{offset:.4543,stopColor:"#C86F34",stopOpacity:0}),k.createElement("stop",{offset:.6679,stopColor:"#C66D33",stopOpacity:.4456}),k.createElement("stop",{offset:.7838,stopColor:"#BE672E",stopOpacity:.6874}),k.createElement("stop",{offset:.876,stopColor:"#B05E26",stopOpacity:.8797}),k.createElement("stop",{offset:.9336,stopColor:"#A3541E"})),k.createElement("radialGradient",{id:"paint1_radial_15509_214394",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.3815 15.7923) rotate(99.5904) scale(33.0079 24.1702)"},k.createElement("stop",{stopColor:"#FCCE38"}),k.createElement("stop",{offset:.3638,stopColor:"#FCCE38"}),k.createElement("stop",{offset:1,stopColor:"#C86F34"})),k.createElement("radialGradient",{id:"paint2_radial_15509_214394",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.6801 40.5476) rotate(1.33185) scale(37.9705 8.84221)"},k.createElement("stop",{stopColor:"#FBE07A"}),k.createElement("stop",{offset:.2187,stopColor:"#FBDE73",stopOpacity:.7813}),k.createElement("stop",{offset:.5269,stopColor:"#FBD961",stopOpacity:.4731}),k.createElement("stop",{offset:.8866,stopColor:"#FCD143",stopOpacity:.1134}),k.createElement("stop",{offset:1,stopColor:"#FCCE38",stopOpacity:0})),k.createElement("linearGradient",{id:"paint3_linear_15509_214394",x1:28.9089,y1:37.0658,x2:19.0682,y2:76.6877,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#3C2200"}),k.createElement("stop",{offset:.9996,stopColor:"#FF9D00"})),k.createElement("linearGradient",{id:"paint4_linear_15509_214394",x1:42.0807,y1:44.0399,x2:4.2085,y2:39.9613,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#A3541E"}),k.createElement("stop",{offset:.5525,stopColor:"#FCCE38"}),k.createElement("stop",{offset:.9996,stopColor:"#FF9D00"})),k.createElement("linearGradient",{id:"paint5_linear_15509_214394",x1:47.7163,y1:22.1367,x2:26.0513,y2:27.1799,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#A3541E"}),k.createElement("stop",{offset:.1203,stopColor:"#B05E26",stopOpacity:.8797}),k.createElement("stop",{offset:.3126,stopColor:"#BE672E",stopOpacity:.6874}),k.createElement("stop",{offset:.5544,stopColor:"#C66D33",stopOpacity:.4456}),k.createElement("stop",{offset:1,stopColor:"#C86F34",stopOpacity:0})),k.createElement("radialGradient",{id:"paint6_radial_15509_214394",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(36.7523 43.1685) scale(13.5811)"},k.createElement("stop",{stopColor:"#A3541E"}),k.createElement("stop",{offset:.5525,stopColor:"#FCCE38"}),k.createElement("stop",{offset:.9996,stopColor:"#FF9D00"})),k.createElement("linearGradient",{id:"paint7_linear_15509_214394",x1:39.1113,y1:40.7336,x2:25.9902,y2:50.7467,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#3C2200"}),k.createElement("stop",{offset:.9996,stopColor:"#FF9D00"})),k.createElement("radialGradient",{id:"paint8_radial_15509_214394",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.2245 18.5567) rotate(99.5904) scale(13.1669 5.51916)"},k.createElement("stop",{stopColor:"#FBE07A",stopOpacity:.75}),k.createElement("stop",{offset:.0803394,stopColor:"#FBE387",stopOpacity:.6897}),k.createElement("stop",{offset:.5173,stopColor:"#FDF2C7",stopOpacity:.362}),k.createElement("stop",{offset:.8357,stopColor:"#FFFBF0",stopOpacity:.1233}),k.createElement("stop",{offset:1,stopColor:"white",stopOpacity:0})),k.createElement("radialGradient",{id:"paint9_radial_15509_214394",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.2245 18.5567) rotate(99.5904) scale(13.1669 5.51916)"},k.createElement("stop",{stopColor:"#FBE07A",stopOpacity:.75}),k.createElement("stop",{offset:.0803394,stopColor:"#FBE387",stopOpacity:.6897}),k.createElement("stop",{offset:.5173,stopColor:"#FDF2C7",stopOpacity:.362}),k.createElement("stop",{offset:.8357,stopColor:"#FFFBF0",stopOpacity:.1233}),k.createElement("stop",{offset:1,stopColor:"white",stopOpacity:0})),k.createElement("linearGradient",{id:"paint10_linear_15509_214394",x1:42.0807,y1:44.0399,x2:4.2085,y2:39.9613,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#A3541E"}),k.createElement("stop",{offset:.5525,stopColor:"#FCCE38"}),k.createElement("stop",{offset:.9996,stopColor:"#FF9D00"})))))}var qe,Ye,Qe=k.forwardRef(Ke),Xe=(n.p,["title","titleId"]);function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function et(e,t){var n=e.title,r=e.titleId,s=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Xe);return k.createElement("svg",$e({width:110,height:110,viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?k.createElement("title",{id:r},n):null,qe||(qe=k.createElement("circle",{cx:55,cy:55,r:55,fill:"#FFE7D9"})),Ye||(Ye=k.createElement("path",{d:"M71.0013 44.3332H68.3346V38.9998C68.3346 31.6398 62.3613 25.6665 55.0013 25.6665C47.6413 25.6665 41.668 31.6398 41.668 38.9998V44.3332H39.0013C36.068 44.3332 33.668 46.7332 33.668 49.6665V76.3332C33.668 79.2665 36.068 81.6665 39.0013 81.6665H71.0013C73.9346 81.6665 76.3346 79.2665 76.3346 76.3332V49.6665C76.3346 46.7332 73.9346 44.3332 71.0013 44.3332ZM47.0013 38.9998C47.0013 34.5732 50.5746 30.9998 55.0013 30.9998C59.428 30.9998 63.0013 34.5732 63.0013 38.9998V44.3332H47.0013V38.9998ZM71.0013 76.3332H39.0013V49.6665H71.0013V76.3332ZM55.0013 68.3332C57.9346 68.3332 60.3346 65.9332 60.3346 62.9998C60.3346 60.0665 57.9346 57.6665 55.0013 57.6665C52.068 57.6665 49.668 60.0665 49.668 62.9998C49.668 65.9332 52.068 68.3332 55.0013 68.3332Z",fill:"#FF5252"})))}var tt=k.forwardRef(et),nt=(n.p,n(9553)),rt=(n(17568),n(73506)),st=L.Z.setHeaderHeight,at=L.Z.getCurrentSubscription,it=L.Z.saveProject,ot=L.Z.getProjectNameBegin,ct=L.Z.getInProgressProjects,lt=L.Z.openProject,ut=L.Z.getDataFromResponseId,dt=L.Z.removeProject,pt=L.Z.socketConfigured,ht=L.Z.downloadGeneratedVideo,mt=L.Z.getVideoProgress,gt=L.Z.updateCustomer,ft=L.Z.logoutInitiater,vt=L.Z.markTaskCompleteRequest,xt=L.Z.resetVideoDownloadTask,St=L.Z.getTeamsRequest,yt=L.Z.createTeamRequest,bt=L.Z.getUserInvitesRequest,jt=L.Z.acceptInviteRequest,wt=L.Z.stopProjectAsyncVideoGenerationRequest,Zt=L.Z.cancelTaskRequest,kt=L.Z.saveProject,Ct=L.Z.resetAnalysis,It=(localStorage.getItem("showEOY"),function(e){(0,u.Z)(x,e);var t=(0,d.Z)(x);function x(e){var r;return(0,c.Z)(this,x),(r=t.call(this,e)).bootIntercom=function(e,t){try{var n,s,a,i,c,l,u,d,p=null===(n=r.props.userLocationResult)||void 0===n?void 0:n.countryCode,h=!1;e&&e.attributes&&e.attributes.identities&&"Google"===JSON.parse(e.attributes.identities)[0].providerName&&(h=!0);var m=(0,G.ah)(t),g="";t.data.first_name&&t.data.first_name.length>0&&(g=t.data.first_name+" "),t.data.last_name&&t.data.last_name.length>0&&(g+=t.data.last_name);var f=(0,o.Z)({api_base:"https://api-iam.intercom.io",app_id:t.data.iCAppId,name:g.trim(),email:null==e||null===(s=e.attributes)||void 0===s?void 0:s.email,user_hash:t.data.iCUserHash,"Logon Type":h?"google":"pictory","Company name":null===(a=t.data)||void 0===a?void 0:a.company_name,"Company industry":null===(i=t.data)||void 0===i?void 0:i.industry,job:null===(c=t.data)||void 0===c?void 0:c.job,phone:null==t||null===(l=t.data)||void 0===l?void 0:l.phone,Plan:null==t||null===(u=t.plan)||void 0===u?void 0:u.name,"Plan Code":null==t||null===(d=t.plan)||void 0===d?void 0:d.plan_code,"Plan Renewal Date":null==t?void 0:t.current_term_ends_at,"Plan Activation Date":null==t?void 0:t.activated_at,"Plan Status":null==t?void 0:t.status,Country:p,"is ICP Country":p&&(0,G.bv)(p),"Subscription Id":t.subscription_id,"Customer Id":t.customer_id},m);window.Intercom("boot",f),window.Intercom("update")}catch(e){console.log("Intercom error:  "+e)}},r.addToAlertIds=function(e){var t=(0,i.Z)(r.state.alertIds);t.push(e),r.setState({alertIds:t})},r.removeFromAlertIds=function(e){if(0!=r.state.alertIds.length){var t=r.state.alertIds.filter((function(t){return t!=e}));r.setState({alertIds:t})}},r.handleLogout=function(e){r.props.isError?(S().getInstance().logEvent("signout-handle-logout-error"),y.g.signOut(),F.Z.clear(),window.location.assign("/login")):F.Z.getItem("lastUrl")&&F.Z.getItem("lastUrl").includes(z.Z.stepThree)?(r.props.gotoLogout(),localStorage.removeItem("jwtToken")):(S().getInstance().logEvent("signout-handle-logout"),y.g.signOut(),F.Z.clear(),r.props.history.push(J.Z.BaseURL)),r.props.socketConfigured(!1),r.props.logoutInitiater()},r.gotoMyVideo=function(e){r.props.isError?window.location.assign("/".concat(z.Z.myProjects)):F.Z.getItem("lastUrl").includes(z.Z.stepThree)&&r.props.gotoMyVideo?r.props.gotoMyVideo():r.props.history.push(J.Z.BaseURL+z.Z.myProjects)},r.handleLogoClick=function(e){r.props.closeWritingScript&&r.props.closeWritingScript(),e.preventDefault(),r.props.isError?window.location.assign("/".concat(z.Z.stepOne)):r.props.gotoHome?r.props.gotoHome():r.props.resetStep1?r.props.resetStep1():r.props.history.push(J.Z.BaseURL+z.Z.stepOne),r.props.openProject(null,M.vY.OpenProject)},r.goToLogin=function(e){e.preventDefault(),r.props.isError?window.location.assign("/".concat(z.Z.login)):(F.Z.clear(),r.props.history.push(J.Z.BaseURL+z.Z.login))},r.renderTheProgressBar=function(){_()(".circular-progress").each((function(){function e(e){return e/100*360}var t=_()(this).attr("data-value"),n=_()(this).find(".circular-progress-left .circular-progress-bar"),r=_()(this).find(".circular-progress-right .circular-progress-bar");t>0&&(t<=50?r.css("transform","rotate("+e(t)+"deg)"):(r.css("transform","rotate(180deg)"),n.css("transform","rotate("+e(t-50)+"deg)")))}))},r.closeNotificationPanel=function(){r.notificationRef.classList.remove("show"),r.notificationUlRef.classList.remove("show")},r.openNotificationPanel=function(){r.notificationRef.classList.add("show"),r.notificationUlRef.classList.add("show")},r.gotoPlansList=function(){r.props.isError?window.location.assign("/".concat(z.Z.plansList)):r.props.history.push(J.Z.BaseURL+z.Z.plansList)},r.handleMyAccount=function(e){r.props.isError?window.location.assign("/".concat(z.Z.userSettings)):r.props.history.push("/"+z.Z.userSettings)},r.openTask=function(e){r.removeFromAlertIds(e.id),"REQUIRED"===e.action?("SUCCESSFUL"===e.state?(r.showTaskVideoDownload(e),r.props.markTaskComplete(r.state.user.username,e.projectId,e.id)):"FAILED"===e.state&&(r.showVideoGenerationError(e.error,null),r.props.markTaskComplete(r.state.user.username,e.projectId,e.id)),r.closeNotificationPanel()):"error"===e.progressState&&r.showVideoGenerationError(e.progressMessage,null)},r.removeTaskFromNotifications=function(e){r.openNotificationPanel(),r.removeFromAlertIds(e.id),"REQUIRED"===e.action&&r.props.markTaskComplete(r.state.user.username,e.projectId,e.id)},r.showTaskVideoDownload=function(e){e.output&&e.output.videoURL&&(r.setState({videoURL:e.output.videoURL,shareVideoURL:e.output.shareVideoURL,srtFile:e.output.srtFile,txtFile:e.output.txtFile,vttFile:e.output.vttFile,previewJson:e.output.preview,videoThumbnail:e.output.thumbnail,audioURL:e.output.audioURL,showTooltip:!0,showLoader:!1,project_id:e.projectId,projectName:e.name}),S().getInstance().logEvent("video-downloaded",{shareVideoURL:e.output.shareVideoURL,"video-link":e.output.videoURL,"video-name":e.name,"project-id":e.projectId,"task-id":e.id}))},r.getProject=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.removeFromAlertIds(t.responseId),!n){e.next=5;break}return r.openNotificationPanel(),r.props.removeProject(t.project_id),e.abrupt("return");case 5:if(!t.message||!t.message.error){e.next=8;break}return r.showVideoGenerationError(t.message.error,t.project_id,t),e.abrupt("return");case 8:if(t.currentState==M.yc.TRANSCRIBING)r.setState({isNotificationClicked:!0,showLoader:!n},(function(){r.props.openProject(t.project_id,M.vY.OpenProject,t.cognito_id)}));else if(t.inProgress||t.currentState!=M.yc.VIDEO_GENERATING){if(!t.inProgress&&t.currentState==M.yc.VIDEO_POSTING&&F.Z.getItem("lastUrl")!==z.Z.videoPosts){r.setState({showLoader:!0});try{-1!=t.states.findIndex((function(e){return e.name===M.yc.VIDEO_POSTING&&e.responseId}))&&r.props.history.push({pathname:J.Z.BaseURL+z.Z.videoPosts,state:{projectDetails:t}})}catch(e){(0,W.x2)("Unable to open video snippets")}finally{r.setState({showLoader:!1})}}}else t.message&&t.message.error?r.showVideoGenerationError(t.message.error,t.project_id,t):r.setState({showLoader:!n},(0,a.Z)((0,s.Z)().mark((function e(){var a,i,o,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=12;break}if(a=t.states,-1==(i=a.findIndex((function(e){return(e.name===M.yc.VIDEO_GENERATING||e.name===M.yc.VIDEO_GENERATED)&&e.responseId})))){e.next=11;break}return o=a[i].responseId,e.next=7,r.props.getVideoProgress({responseId:o});case 7:(c=r.props.videoProgress)&&!P().isEmpty(c)&&c.message&&("completed"!==c.message.status&&"complete"!==c.message.status||(r.props.downloadGeneratedVideo(t.project_id,o,c.message.output,c.message.share_output,!0),r.setState({videoURL:c.message.output,shareVideoURL:c.message.share_output,srtFile:c.message.srt,txtFile:c.message.text,vttFile:c.message.vtt,previewJson:c.message.preview,videoThumbnail:c.message.thumbnail,audioURL:c.message.audioURL,showLoader:!1,project_id:t.project_id,projectName:t.projectName}))),e.next=12;break;case 11:r.setState({showLoader:!1});case 12:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.downloadFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.state.videoURL,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.state.projectName,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".mp4",i=n(43523);t=U.Z.Instance.GetVideoUrlFromCDN(t);var o=document.createElement("a");o.style.display="none",document.body.appendChild(o),void 0!==o.download?(o.href=t,o.setAttribute("download",s+a),o.click(),window.URL.revokeObjectURL(o.href),document.body.removeChild(o)):i.saveAs(t,s+a),S().getInstance().logEvent("asset-downloaded",{"downloaded-from":"download-modal",asset:e,"asset-type":a}),r.setState({showLoader:!1})},r.openProject=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var a,i,c,l,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=n.states.find((function(e){return"transcription"===e.name})))){e.next=12;break}return r.props.resetAnalysis(),i=a.responseId,e.next=7,r.props.getDataFromResponseId(i);case 7:c=r.props.transcribeDataFromId,S().getInstance().logEvent("open-edit-video-project",{"aspect-ratio":n.aspectRatioClass,resolution:n.videoResolution}),c?(c=c.data,l=[],c.transcribe_sentences.map((function(e,t){var n=(0,o.Z)((0,o.Z)({},e),{},{before:null,enabled:!0,image:[e.url],keywords:[],sentence:e.sentence,sentence_index:t,type:"summary",isSelected:!0});l.push(n)})),(u=(0,o.Z)((0,o.Z)({},n),{},{title:n.projectName})).transcribe_sentences=c.transcribe_sentences,u.selectedSentences=l,r.props.history.push({pathname:J.Z.BaseURL+z.Z.stepTwo,state:{projectDetails:u,projectList:r.state.projectList,step2Data:c,lines:0,totalLines:20,isPrevious:!0,saveProjectFirst:!0,url:u.articleUrl,value:0}})):r.setState({isNotificationClicked:!1,showLoader:!1},(function(){(0,W.JQ)("Transcription is still under process")})),e.next=13;break;case 12:r.setState({isNotificationClicked:!1,showLoader:!1},(function(){(0,W.JQ)("Transcription is still under process")}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r.setState({showLoader:!1});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),r.CloseGenerateVideo=function(){r.setState({videoURL:void 0,shareVideoURL:void 0,projectName:void 0},(function(){setTimeout((function(){r.setState({showUserQuestionnaire:!0})}),3e3)}))},r.showTooltip=function(){_()("#tooltip-file-size").hover((function(){_()("#tooltip-file-size").tooltip({title:"Download to PC".concat(r.state.fileSize?" (".concat(r.state.fileSize," MB)"):""),placement:"top",trigger:"manual"}).tooltip("show")}),(function(){r.hideTooltip()}))},r.hideTooltip=function(){_()("#tooltip-file-size").tooltip("hide")},r.checkEmailNotification=function(e){r.setState({emailNotification:e.target.checked},(function(){var e=(0,o.Z)({},r.state.postData);e.notifications={email:r.state.emailNotification},r.props.updateCustomer({userId:r.state.user?r.state.user.username:"",postData:e})}))},r.projectMessageText=function(e){if(e.message)return e.message.message===M.V7.OPTIMIZING&&e.progress<=1?"Generating video...":e.message.message?e.message.message:"Generating video..."},r.taskStatusIcon=function(e){var t=null;if("task"===e.progressSource){if(e.progressState&&"error"===e.progressState)return(0,T.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"red"}});switch(e.state){case"ACTIVE":t=(0,T.jsx)(N.Ip,{value:parseInt(e.progress||0),text:"".concat(parseInt(e.progress||0),"%"),strokeWidth:10,className:"circular-progress-small"});break;case"FAILED":t=(0,T.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"red"},onClick:function(){return"error"===e.progressState&&r.showVideoGenerationError(e.progressMessage,null)}});break;case"SUCCESSFUL":t=(0,T.jsx)("i",{className:"fa fa-download ".concat(r.state.alertIds.some((function(t){return t==e.id}))&&"pulsating-icon"),onClick:function(){return r.openTask(e)},"aria-hidden":"true",style:{color:"#35FE95"}});break;case M.yc.CANCELLING:t=(0,T.jsx)(v.Z,{size:"1rem",style:{minWidth:"1rem"}})}}return t},r.projectStatusIcon=function(e){return e.inProgress?e.currentState===M.yc.VIDEO_GENERATING||e.currentState===M.yc.VIDEO_POSTING?e.message&&e.message.error?(0,T.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"red"},onClick:function(){return r.showVideoGenerationError(e.message.error,e.project_id,e)}}):e.message&&e.message.message===M.V7.OPTIMIZING&&e.progress<=1?(0,T.jsx)(N.Ip,{value:100,text:"100%",strokeWidth:10,className:"circular-progress-small"}):(0,T.jsx)(N.Ip,{value:parseInt(e.progress||0),text:"".concat(parseInt(e.progress||0),"%"),strokeWidth:10,className:"circular-progress-small"}):(e.currentState,M.yc.CANCELLING,(0,T.jsx)(v.Z,{size:"1rem",style:{minWidth:"1rem"}})):e.currentState===M.yc.TRANSCRIBING||e.currentState===M.yc.VIDEO_POSTING?(0,T.jsx)("i",{className:"fa fa-check","aria-hidden":"true",style:{color:"#35FE95"}}):e.inProgress||e.currentState!=M.yc.VIDEO_GENERATING?(0,T.jsx)(T.Fragment,{}):e.message&&e.message.error?(0,T.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"red"},onClick:function(){return r.showVideoGenerationError(e.message.error,e.project_id,e)}}):(0,T.jsx)("i",{className:"fa fa-download ".concat(r.state.alertIds.some((function(t){return t==e.responseId}))&&"pulsating-icon"),onClick:function(){return r.getProject(e)},"aria-hidden":"true",style:{color:"#35FE95"}})},r.projectStatusText=function(e){return e.id?"Uploading video...":e.inProgress&&e.currentState==M.yc.TRANSCRIBING?"Transcribing video...":!e.inProgress||e.currentState!=M.yc.VIDEO_GENERATING&&e.currentState!=M.yc.VIDEO_POSTING?e.inProgress||e.currentState!=M.yc.VIDEO_GENERATING&&e.currentState!=M.yc.VIDEO_POSTING?e.currentState===M.yc.CANCELLING?"Cancelling...":"Video transcribed":e.currentState==M.yc.VIDEO_POSTING?e.message&&e.message.error?"Video snippets generation failed":"Video snippets generated":e.message&&e.message.error?"Video generation failed":"Video generated":e.message?r.projectMessageText(e):e.currentState==M.yc.VIDEO_POSTING?"Generating video snippets...":"Generating video..."},r.taskStatusText=function(e){if("ACTIVE"===e.state){var t;return t="VIDEO_GENERATION"===e.type?"Preprocessing video...":"Task in-progress...",e.progressMessage||t}return e.state===M.yc.CANCELLING?"Cancelling...":"VIDEO_GENERATION"===e.type?"SUCCESSFUL"===e.state?"Video generated":"Video generation failed":"Task completed"},r.showVideoGenerationError=function(e,t,n){n&&r.getProject(n,!0),r.setState({showVideoGenerationError:!0,videoGenerationError:e,videoProjectId:t})},r.onClickBecomeAffliliate=function(){r.props.history.push(J.Z.BaseURL+z.Z.affiliate_become)},r.onClickAffliliateDasbhobard=function(){r.props.history.push({pathname:J.Z.BaseURL+z.Z.affiliate_Dashboard+"/"+r.props.currentSubscription.affiliate.auth_token,state:{affiliate:r.props.currentSubscription.affiliate}})},r.handleWorkspaceChange=function(e,t){r.props.getCurrentSubscription();var n=r.setSelectedWorkspaceInState(e),s=n&&n.teamId!==M.vn?n.name:M.vn;window.location.pathname==="/".concat(z.Z.myProjects)?(setTimeout((function(){r.setState({showAlertNotification:"Switched to '".concat(s,"' workspace"),firstTimeAfterTeamCreation:t,openMenuOnSwitchWorkspace:!0===t})}),500),F.Z.setItem("openMenuOnSwitchWorkspace",JSON.stringify(!0===t)),window.location.reload(!0)):r.props.history.push({pathname:J.Z.BaseURL+z.Z.myProjects,state:{showAlertNotification:"Switched to '".concat(s,"' workspace"),currentWorkspace:n,firstTimeAfterTeamCreation:t,openMenuOnSwitchWorkspace:!0===t}})},r.handleInactivePopup=function(e){r.setState({showUserInactiveDialog:!0,showUserInactiveDialogTeamId:e})},r.setSelectedWorkspaceInState=function(e){var t,n,s,a,i=null===(t=r.props.teams)||void 0===t?void 0:t.find((function(t){return t.teamId===e})),o=!r.props.teams.find((function(e){return e.adminUserId==r.state.user.username}));return r.setState({isCurrentUserNotCreatorOfAnyTeam:o}),i?(n=i,setTimeout((function(){var e,t,n,s;null===(e=window)||void 0===e||null===(t=e.Appcues)||void 0===t||null===(n=t.identify)||void 0===n||n.call(t,null===(s=r.state.user)||void 0===s?void 0:s.attributes.email,{team_plan_code:i.plan_code})}),3e3)):(n={teamId:M.vn,name:(0,G.VO)(r.state.user.username),email:null===(s=r.state.user)||void 0===s||null===(a=s.attributes)||void 0===a?void 0:a.email},setTimeout((function(){var e,t,n,s;null===(e=window)||void 0===e||null===(t=e.Appcues)||void 0===t||null===(n=t.identify)||void 0===n||n.call(t,null===(s=r.state.user)||void 0===s?void 0:s.attributes.email,{team_plan_code:""})}),3e3)),(0,G.A)(n.teamId),r.setState({selectedWorkspace:n}),n},r.onStopProjectAsyncVideoGenerationClick=function(e){r.props.stopProjectAsyncVideoGeneration(r.state.user.username,e)},r.onCancelTaskClick=function(e,t){r.props.cancelTask(r.state.user.username,e,t)},r.getTaskCancelButton=function(e){return"REQUIRED"===e.action?(0,T.jsx)("div",{id:"task-cancel-button",onClick:function(){return r.removeTaskFromNotifications(e)},children:(0,T.jsx)("i",{className:"fa fa-times-circle light-grey mr-0","aria-hidden":"true"})}):"ACTIVE"===e.state?(0,T.jsx)("div",{id:"task-cancel-button",onClick:function(){return r.onCancelTaskClick(e.projectId,e.id)},children:(0,T.jsx)("i",{className:"fa fa-times-circle light-grey mr-0","aria-hidden":"true"})}):(0,T.jsx)(T.Fragment,{})},r.getProjectCancelButton=function(e){return!e.inProgress||e.currentState!==M.yc.VIDEO_GENERATING&&e.currentState!==M.yc.VIDEO_POSTING||e.message&&e.message.message===M.V7.OPTIMIZING&&e.progress<=1?(0,T.jsx)("div",{id:"task-cancel-button",onClick:function(){r.getProject(e,!0)},children:(0,T.jsx)("i",{className:"fa fa-times-circle light-grey mr-0","aria-hidden":"true"})}):(0,T.jsx)("div",{id:"task-cancel-button",onClick:function(){return r.onStopProjectAsyncVideoGenerationClick(e.project_id)},children:(0,T.jsx)("i",{className:"fa fa-times-circle light-grey mr-0","aria-hidden":"true"})})},r.createTeam=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var a,i,o,c,l,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===(a=t)||void 0===a?void 0:a.trim(),n=null===(i=n)||void 0===i?void 0:i.map((function(e){var t;return null===(t=e.emailId)||void 0===t?void 0:t.trim()})),n=null===(o=n)||void 0===o?void 0:o.filter((function(e){return e})),t){e.next=5;break}return e.abrupt("return");case 5:return c=(0,me.Z)(),l={teamId:c,name:t,emailIdList:n},e.next=9,r.props.createTeamRequest(l);case 9:if("success"!==(null==(u=e.sent)?void 0:u.status)){e.next=19;break}return e.next=13,r.props.getTeamsRequest();case 13:return r.setState({openCreateTeamPopup:!1,showAlertNotification:(0,T.jsxs)(T.Fragment,{children:["Team '",t,"' created successfully. ",r.openTeamWorkspaceButton(c)]}),autoHideDuration:4e4}),S().getInstance().logEvent("team-created",{"team-name":t,"number-of-members":n.length,invitees:n}),r.handleWorkspaceChange(c,!0),e.abrupt("return",!0);case 19:return r.setState({openCreateTeamPopup:!1,showAlertNotification:"Team '".concat(t,"' could not be created. Please contact support")}),S().getInstance().logEvent("create-team-error",{"team-name":t,"number-of-members":n.length,invitees:n,response:u}),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.openProfileDropdown=function(){setTimeout((function(){var e,t;null===(e=document.querySelector("li.user-profile.dropdown"))||void 0===e||e.classList.add("show"),null===(t=document.querySelector("li.user-profile.dropdown>ul.dropdown-menu"))||void 0===t||t.classList.add("show")}),100)},r.openTeamWorkspaceButton=function(e){return(0,T.jsx)(Z.Z,{variant:"outlined",color:"success",size:"small",sx:{ml:2},onClick:function(){r.handleWorkspaceChange(e),r.openProfileDropdown()},children:"Open team workspace"})},r.acceptRejectInvite=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.userInvites.find((function(e){var n;return e.teamId===(null==t||null===(n=t[0])||void 0===n?void 0:n.teamId)})),e.next=3,r.props.acceptInviteRequest(t);case 3:if(i=e.sent,S().getInstance().logEvent("team-invite-request-status",{status:null!=t&&null!==(n=t[0])&&void 0!==n&&n.isAccepted?"Accepted":"Rejected","workspace-name":null==a?void 0:a.name,"invited-by":null==a?void 0:a.adminUserEmail}),"success"!==(null==i?void 0:i.status)){e.next=16;break}for(r.props.getUserInvitesRequest(),r.props.getTeamsRequest().then((function(){var e=t[0];if(e.isAccepted){var n=r.props.teams.find((function(t){return t.teamId==e.teamId})),s="";n&&(s=n.name),r.setState({showAlertNotification:(0,T.jsxs)(T.Fragment,{children:["You are now added to team '",s,"'. ",r.openTeamWorkspaceButton(n.teamId)]}),autoHideDuration:8e3})}})),c=function(e){var n=t[e],r=JSON.parse(F.Z.getItem("userInvitesDeferred"))||[],s=r.findIndex((function(e){return e===n.teamId}));r.splice(s,1),F.Z.setItem("userInvitesDeferred",JSON.stringify(r))},l=0;l<t.length;l++)c(l);if(null==t||null===(o=t[0])||void 0===o||!o.isAccepted){e.next=14;break}return e.next=13,r.props.getTeamsRequest();case 13:r.handleWorkspaceChange(t[0].teamId,!0);case 14:e.next=18;break;case 16:r.setState({showAlertNotification:"Unable to join the team. Please contact support"}),S().getInstance().logEvent("accept-invite-error",{invitesList:t,response:i});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showVersionMismatchDialog=function(){if("version_conflict"==r.state.duplicateProjectStatus&&r.state.projectVersionconflictData){var e,t,n,s,a=null===(e=r.state.projectVersionconflictData)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.lastUpdatedByUser,i="".concat((null==a?void 0:a.first_name)||""," ").concat((null==a?void 0:a.last_name)||"").trim(),o=!(null===(n=r.state.projectVersionconflictData)||void 0===n||null===(s=n.data)||void 0===s||!s.stepMismatch),c=i?"It looks like ".concat(i," is making some changes to this file, so your recent edits weren't saved. Click refresh to see the latest version and keep editing your file."):"The file has been modified. Click refresh to see the latest version and keep editing your file.";return o&&(c=i?"It looks like ".concat(i," is making some changes to this file, so your recent edits weren't saved. Go to projects and open the project again."):"The file has been modified. Go to projects and open the project again."),(0,T.jsx)(ze.default,{icon:(0,T.jsx)(tt,{}),iconWidth:"130px",iconHeight:"130px",iconBgPaletteColor:"error.lighter",title:"Oops!",message:c,primaryButtonLabel:"Refresh",primaryButtonOnClick:function(){if(r.props.teams&&r.props.teams.length>0&&r.state.selectedWorkspace&&r.state.selectedWorkspace.teamId){var e=r.props.teams.find((function(e){return e.teamId===r.state.selectedWorkspace.teamId}));e?S().getInstance().logEvent("colloboration-project-refreshed",{"workspace-name":e.name}):S().getInstance().logEvent("version-conflict-project-refreshed",{"workspace-name":r.state.selectedWorkspace.teamId})}o?r.props.history.push(J.Z.BaseURL+z.Z.myProjects):window.location.reload(!1)},secondaryButtonLabel:o?"Go to projects":"Go to home",secondaryButtonOnClick:function(){r.props.history.push(J.Z.BaseURL+z.Z.stepOne)},showCloseIcon:!1})}},r.showProjectSaveFailedDialog=function(){if("failed"==r.props.duplicateProjectStatus)return(0,T.jsx)(ze.default,{icon:(0,T.jsx)(rt.Z,{}),iconWidth:"130px",iconHeight:"130px",iconBgPaletteColor:"error.lighter",title:"Oops!",message:"Project save failed!",primaryButtonLabel:"Refresh",primaryButtonOnClick:function(){window.location.reload(!1)},secondaryButtonLabel:"Go to home",secondaryButtonOnClick:function(){r.props.history.push(J.Z.BaseURL+z.Z.stepOne)},showCloseIcon:!1})},r.showUserInactiveDialog=function(){if(r.state.showUserInactiveDialog){var e=r.props.teams.find((function(e){return e.teamId===r.state.showUserInactiveDialogTeamId}));if(e)return(0,T.jsx)(ze.default,{icon:(0,T.jsx)(tt,{}),iconWidth:"130px",iconHeight:"130px",iconBgPaletteColor:"error.lighter",title:"No access!",message:"It seems like your team administrator ".concat((0,G.xZ)(e)," has not provided you access to the team. Please ask them to enable access."),primaryButtonLabel:"Okay",primaryButtonOnClick:function(){r.setState({showUserInactiveDialog:null,showUserInactiveDialogTeamId:null})},showCloseIcon:!1})}return(0,T.jsx)(T.Fragment,{})},r.showNoAccessToTeamDialog=function(){if(r.props.teams&&r.state.selectedWorkspace){var e=r.props.teams.find((function(e){return e.teamId===r.state.selectedWorkspace.teamId}));if(e&&e.isInactive)return(0,T.jsx)(ze.default,{icon:(0,T.jsx)(tt,{}),iconWidth:"130px",iconHeight:"130px",iconBgPaletteColor:"error.lighter",title:"No access!",message:"Your access to Team - ".concat(e.name," has been revoked. Kindly contact administrator."),primaryButtonLabel:"Go to personal workspace",primaryButtonOnClick:function(){var e,t;r.setState({selectedWorkspace:{teamId:M.vn,name:(0,G.VO)(r.state.user.username),email:null===(e=r.state.user)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.email}}),(0,G.A)(M.vn),r.props.history.push(J.Z.BaseURL+z.Z.stepOne)},showCloseIcon:!1})}return(0,T.jsx)(T.Fragment,{})},r.showTeamInvitationDialog=function(){var e=r.state.teamInviteNotificationsList||[],t=e.length>0;if(t){var n=JSON.parse(F.Z.getItem("userInvitesDeferred"))||[];if(e.length>0){e=(0,i.Z)(e);var s=function(s,a,i){t=!1,i?(n.push(e[s].teamId),F.Z.setItem("userInvitesDeferred",JSON.stringify(n))):r.acceptRejectInvite([{teamId:e[s].teamId,isAccepted:a}]),e.splice(s,1),r.setState({teamInviteNotificationsList:e})},a=e[0],o=(0,G.xZ)(a);return(0,T.jsx)(ze.default,{open:t,icon:(0,T.jsx)(Qe,{}),iconBgPaletteColor:"warning.lighter",title:"You received an invitation",message:"You are invited by ".concat(o," to join '").concat(a.name,"' team."),primaryButtonLabel:"Accept",primaryButtonOnClick:function(){return s(0,!0)},secondaryButtonLabel:"Reject",secondaryButtonOnClick:function(){return s(0,!1)},tertiaryButtonLabel:"I'll do it later",tertiaryButtonOnClick:function(){return s(0,!1,!0)},showCloseIcon:!1})}}},r.closeProfileDropdown=function(){var e,t;null===(e=document.querySelector("li.user-profile.dropdown"))||void 0===e||e.classList.remove("show"),null===(t=document.querySelector("li.user-profile.dropdown>ul.dropdown-menu"))||void 0===t||t.classList.remove("show")},r.openPlanListFromUpgrade=function(){try{S().getInstance().logEvent("upgrade-button-clicked",{"button-clicked-from":"Header"})}catch(e){S().getInstance().logEvent("log-failed",{"event-name":"upgrade-button-clicked"})}r.gotoPlansList()},r.state={username:"",pwd:"",userImage:"",user:{},emailNotification:!1,showCopyLink:!1,alertIds:[],showFreeTrialUpgradeButton:!0,isNewProjectPage:window.location.pathname==="/"+z.Z.stepOne},r}return(0,l.Z)(x,[{key:"componentWillMount",value:function(){this.props.downloadTaskVideo&&this.props.videoDownloadTask&&(this.props.resetVideoDownloadTask(),this.showTaskVideoDownload(this.props.videoDownloadTask)),this.props.getTeamsRequest(),this.props.getUserInvitesRequest(),this.updateHeaderHeight()}},{key:"componentDidMount",value:function(){var e,t,n,r,s,a,i=this;y.g.currentAuthenticatedUser().then((function(e){var t,n,r,s,a,c,l;null===(t=(n=i.props).setUser)||void 0===t||t.call(n,e),i.props.getInProgressProjects(e.username),i.props.getCurrentSubscription(),F.Z.getItem("lastUrl"),z.Z.stepOne;var u,d,p=(0,G.we)(e.username,!0),h=(0,G.E3)();if(u=h?{teamId:h,name:""}:{teamId:M.vn,name:(0,G.VO)(e.username),email:null==e||null===(d=e.attributes)||void 0===d?void 0:d.email},i.setState({selectedWorkspace:u}),p&&null!=p&&!P().isEmpty(p)&&p.data){var m={display_name:p.data.display_name,first_name:p.data.first_name,last_name:p.data.last_name,company_name:p.data.company_name,phone:p.data.phone},g=p.data;if(i.setState({emailNotification:!g.notifications||void 0===g.notifications.email||g.notifications.email,postData:m}),g.picture)i.setState({userImage:g.picture});else{var f=!1;e&&e.attributes&&e.attributes.identities&&"Google"===JSON.parse(e.attributes.identities)[0].providerName&&(f=!0),f&&void 0===g.picture&&""!=e.attributes.picture&&i.setState({userImage:e.attributes.picture})}}var v=(0,G.VO)(e.username).split(" ").map((function(e){return e.substr(0,1)})).slice(0,2).join().toLowerCase().replace(/[^a-z]/g,"");i.setState({user:e,initials:v}),S().getInstance().setUserId(e.attributes.email),S().getInstance().setUserProperties({Username:e.attributes.email}),null!==(r=i.props.history)&&void 0!==r&&null!==(s=r.location)&&void 0!==s&&null!==(a=s.state)&&void 0!==a&&a.showAlertNotification&&(i.setState({showAlertNotification:i.props.history.location.state.showAlertNotification}),i.props.history.replace({state:(0,o.Z)((0,o.Z)({},i.props.history.location.state),{},{showAlertNotification:void 0})}));var x=(0,G.WA)(e.username);if(window.userGuiding&&window.userGuiding.identify&&e&&e.attributes&&p){window.userGuiding.identify(e.attributes.email);var y=(0,o.Z)({subscription_name:p.name,plan_name:p.plan&&p.plan.name,renewal_date:p.current_term_ends_at,signup_date:p.created_date,activation_date:p.activated_at,plan_status:p.status},x);window.userGuiding.identify(e.attributes.email,y)}else console.log("Failed window.userGuiding: ".concat(window.userGuiding,", user: ").concat(e));var b=null===(c=i.props.userLocationResult)||void 0===c?void 0:c.countryCode;if(null!=e&&e.attributes&&p){var j,w,Z,k,C,I,T,E,A,_,R=(0,o.Z)({user_name:e.attributes.name,subscription_name:p.name,plan_name:null===(j=p.plan)||void 0===j?void 0:j.name,renewal_date:p.current_term_ends_at,signup_date:p.created_at,activation_date:p.activated_at,plan_status:p.status,country_code:b,is_icp_country:b&&(0,G.bv)(b),productUsage:null===(w=p.data)||void 0===w?void 0:w.productUsage,job:null===(Z=p.data)||void 0===Z?void 0:Z.job,orgSize:null===(k=p.data)||void 0===k?void 0:k.orgSize,industry:null===(C=p.data)||void 0===C?void 0:C.industry,numberOfVideos:null===(I=p.data)||void 0===I||null===(T=I.featureUsage)||void 0===T?void 0:T.numberOfVideos},x);i.bootIntercom(e,p),null===(E=window)||void 0===E||null===(A=E.Appcues)||void 0===A||null===(_=A.identify)||void 0===_||_.call(A,e.attributes.email,R)}else console.log("Failed subscriptionDetails: ".concat(p,", user: ").concat(e));document.getElementById("appcues-launchpad")&&(null===(l=window.Appcues)||void 0===l||l.loadLaunchpad("#appcues-launchpad",{icon:""})),i.props.openMenuOnSwitchWorkspace&&i.openProfileDropdown(),F.Z.getItem("openMenuOnSwitchWorkspace")&&(F.Z.removeItem("openMenuOnSwitchWorkspace"),i.openProfileDropdown()),window.location.pathname==="/".concat(z.Z.plansList)&&i.setState({showFreeTrialUpgradeButton:!1})})).catch(function(e){console.log("e: ",e)}.bind(this)),this.renderTheProgressBar(),P().isEmpty(this.props.videoGenData)||this.setState((0,o.Z)({},this.props.videoGenData)),(!O.i7||parseInt(O.x_)<92)&&(0,W.uV)("For better experience, use latest Chrome browser","use-latest-chrome",!0),setTimeout((function(){i.updateHeaderHeight()}),10),"/account-settings"==(null===(e=this.props.history)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)?this.setState({highlightManageTeam:!0}):"/myvideos"==(null===(n=this.props.history)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.pathname)?this.setState({highlightMyProjects:!0}):"/branding"==(null===(s=this.props.history)||void 0===s||null===(a=s.location)||void 0===a?void 0:a.pathname)&&this.setState({highlightMyBranding:!0})}},{key:"updateHeaderHeight",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=document.getElementsByClassName("header-wrapper"),a=null==s?void 0:s[r];return a||0!==r?a&&0===a.offsetHeight?(a=null==s?void 0:s[r],setTimeout((function(){return n.updateHeaderHeight(r+1)}),100)):void(a&&this.props.headerHeight!==a.offsetHeight&&(null===(e=(t=this.props).setHeaderHeight)||void 0===e||e.call(t,a.offsetHeight),document.body.style.setProperty("--app-header-height","".concat(a.offsetHeight,"px")))):setTimeout((function(){return n.updateHeaderHeight(r)}),100)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.showAlertNotification!==this.state.showAlertNotification&&this.state.autoHideDuration&&t.autoHideDuration===this.state.autoHideDuration&&this.setState({autoHideDuration:void 0}),e.showAlertNotificationObj!==this.props.showAlertNotificationObj&&this.setState({showAlertNotification:this.props.showAlertNotificationObj.message,autoHideDuration:this.props.showAlertNotificationObj.autoHideDuration,alertNotificationTitle:this.props.showAlertNotificationObj.title,alertNotificationSeverity:this.props.showAlertNotificationObj.severity}),e.showAlertNotification!==this.props.showAlertNotification&&this.setState({showAlertNotification:this.props.showAlertNotification}),(!e.videoGenCompletion&&this.props.videoGenCompletion||e.videoGenCompletion&&this.props.videoGenCompletion&&e.videoGenCompletion.responseId!=this.props.videoGenCompletion.responseId)&&(this.openNotificationPanel(),this.addToAlertIds(this.props.videoGenCompletion.responseId)),this.props.teams&&this.props.teams!==e.teams){var r,s,a,i,o,c,l,u,d=this.setSelectedWorkspaceInState(null===(r=this.state.selectedWorkspace)||void 0===r?void 0:r.teamId);null!==(s=this.state.user)&&void 0!==s&&null!==(a=s.attributes)&&void 0!==a&&a.email&&(null===(i=window)||void 0===i||null===(o=i.Appcues)||void 0===o||null===(c=o.identify)||void 0===c||c.call(o,this.state.user.attributes.email,{is_user_in_any_team:this.props.teams.length>0})),(window.location.pathname==="/".concat(z.Z.stepOne)||window.location.pathname==="/".concat(z.Z.branding))&&(null===(l=(u=this.props).updateWorkspaceDetails)||void 0===l||l.call(u,d))}if(this.props.teamInviteNotification&&this.props.teamInviteNotification!==e.teamInviteNotification&&this.props.teamInviteNotification.adminUserId!==this.state.user.username&&(this.props.getUserInvitesRequest(),this.setState({showNotificationBadge:!0})),this.props.teamsRefreshNotification&&this.props.teamsRefreshNotification!==e.teamsRefreshNotification&&this.props.getTeamsRequest(),this.props.userInvites&&!e.userInvites){for(var p,h,m,g,f,v=[],x=JSON.parse(F.Z.getItem("userInvitesDeferred"))||[],S=0;S<this.props.userInvites.length;S++){var y=this.props.userInvites[S];x.includes(y.teamId)||y.adminUserId===this.state.user.username||v.push(y)}(null==v?void 0:v.length)>0?setTimeout((function(){var e,t,r,s,a;null===(e=window)||void 0===e||null===(t=e.Appcues)||void 0===t||null===(r=t.identify)||void 0===r||r.call(t,null===(s=n.state.user)||void 0===s||null===(a=s.attributes)||void 0===a?void 0:a.email,{show_appcues:!0})}),1e4):null===(p=window)||void 0===p||null===(h=p.Appcues)||void 0===h||null===(m=h.identify)||void 0===m||m.call(h,null===(g=this.state.user)||void 0===g||null===(f=g.attributes)||void 0===f?void 0:f.email,{show_appcues:!0}),this.setState({teamInviteNotificationsList:v})}}},{key:"componentWillReceiveProps",value:function(e){var t,n,r,s,a=this;if(this.state.isNotificationClicked&&this.props.projectAction===M.vY.OpenProject&&(!0===this.props.openingProject&&null===this.props.activeProject&&!1===e.openingProject&&null!==e.activeProject?this.openProject(e.activeProject.project_id,e.activeProject):!0===this.props.openingProject&&!1===this.props.projectOpenError&&!1===e.openingProject&&!0===e.projectOpenError&&this.setState({showLoader:!1})),this.props.openCreateTeamPopup!=e.openCreateTeamPopup&&this.setState({openCreateTeamPopup:e.openCreateTeamPopup}),this.props.openNotificationPanel!=e.openNotificationPanel&&this.openNotificationPanel(),this.props.updateCustomerDetails.isChanged!=e.updateCustomerDetails.isChanged&&this.props.getCurrentSubscription(this.state.user.username),P().isEqual(this.props.currentSubscription.notifications,e.currentSubscription.notifications)||this.setState({emailNotification:!e.currentSubscription.notifications||void 0===e.currentSubscription.notifications.email||e.currentSubscription.notifications.email}),P().isEqual(this.props.currentSubscription.affiliate,e.currentSubscription.affiliate)||this.setState({affiliate:!e.currentSubscription.affiliate}),this.props.duplicateProjectStatus!=e.duplicateProjectStatus&&this.props.projectVersionconflictData!=e.projectVersionconflictData&&(null===(t=this.props.projectVersionconflictData)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.currentVersion)!=(null===(r=e.projectVersionconflictData)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.currentVersion)){if("version_conflict"==e.duplicateProjectStatus&&this.props.teams&&this.props.teams.length>0&&this.state.selectedWorkspace&&this.state.selectedWorkspace.teamId){var i=this.props.teams.find((function(e){return e.teamId===a.state.selectedWorkspace.teamId}));i?S().getInstance().logEvent("collaboration-dialog-shown",{"workspace-name":i.name}):S().getInstance().logEvent("version-conflict-dialog-shown",{"workspace-name":this.state.selectedWorkspace.teamId})}this.setState({duplicateProjectStatus:e.duplicateProjectStatus,projectVersionconflictData:e.projectVersionconflictData})}}},{key:"render",value:function(){var e,t,n,s,a,i,o,c,l,u,d,v,x,b,j,C=this,I=(0,G.we)(this.state.user?this.state.user.username:""),A="",_="",R="",P="",N="",O="success.main",U="",L=!0,V=!1,W=!1;if((null==I||null===(e=I.plan)||void 0===e?void 0:e.plan_code)===M.yj.freeTrial&&(W=!0),(null===(t=this.state.selectedWorkspace)||void 0===t?void 0:t.plan_code)!=M.yj.freeTrial&&(null===(n=this.state.selectedWorkspace)||void 0===n?void 0:n.plan_code)!=M.yj.teamsFreeTrial||(W=!0),null!=I&&null!==(s=I.data)&&void 0!==s&&null!==(a=s.subscription)&&void 0!==a&&a.remaining_billing_cycles&&(null==I||null===(i=I.data)||void 0===i||null===(o=i.subscription)||void 0===o?void 0:o.remaining_billing_cycles)>1e3&&(W=!1),"chargebee"!==(null==I||null===(c=I.data)||void 0===c?void 0:c.organization_id)&&(W=!1,L=!1),1==W&&null!=I&&null!==(l=I.data)&&void 0!==l&&l.subscription){var se=B()(I.data.subscription.current_term_starts_at,"YYYY-MM-DD"),ae=B()(I.data.subscription.current_term_ends_at,"YYYY-MM-DD"),ie=B()().startOf("day"),oe=B().duration(ae.diff(ie)).asDays(),ce=B().duration(ae.diff(se)).asDays();oe=parseInt(oe),ce=parseInt(ce);var le=I.currentQuota.projectsPerMonth;oe<0&&(oe=0),A="trial-start",U="primary.main",oe<=0?(_="Free trial expired.",R="Your free trial has expired",A="trial-expiring",U="error.main",O="error.main"):oe==ce&&3===le?(_=ce+" day trial activated!",V=!0):oe<=3||le<=1?(A="trial-expiring",U="error.main",_=oe+" days, "+le+" videos left.",O="error.main"):_=oe+" days, "+le+" videos left.",P=oe+" days left",N=le+" videos left"}var ue=(0,G.E3)();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(H.Z,{history:this.props.history,show:this.state.showVideoGenerationError,error:this.state.videoGenerationError,projectId:this.state.videoProjectId,onClose:function(){C.setState({showVideoGenerationError:!1,videoGenerationError:null})}}),(0,T.jsx)(D.Z,{active:this.state.showLoader,spinner:!0,text:"Please wait..."}),(0,T.jsxs)(p.Z,{sx:{position:"fixed",top:this.props.showPictoryGPTBanner?55:0,left:0,right:0,zIndex:1e3},className:"header-wrapper",children:[(0,T.jsx)(E,{history:this.props.history,onShow:this.updateHeaderHeight.bind(this)}),(0,T.jsx)("header",{className:"header admin-header",children:(0,T.jsx)("nav",{className:"navbar",children:(0,T.jsx)("div",{className:"container-fluid",children:(0,T.jsxs)("div",{className:"navbar-holder dashb-header d-flex align-items-center justify-content-between",children:[(0,T.jsx)("div",{className:"navbar-header d-flex",children:(0,T.jsx)("a",{className:"navbar-brand d-sm-inline-block btn-span",onClick:this.handleLogoClick,children:(0,T.jsx)("img",{src:"/icons/logo-octopus-with-pictory.png",alt:"Pictory",title:"Pictory"})})}),W?(0,T.jsxs)(p.Z,{className:A,sx:(0,r.Z)({ml:3,borderRadius:"8px",height:"40px",padding:" 6px 16px",display:"flex",alignItems:"center"},"padding","12px"),children:[(0,T.jsx)(te.HtmlTooltip,{title:(0,T.jsx)(k.Fragment,{children:(0,T.jsxs)(w.Z,{spacing:"7px",sx:{width:"240px",padding:".5rem"},children:[(0,T.jsx)(h.Z,{color:"grey.700",variant:"text_base",children:R}),(0,T.jsx)(h.Z,{color:"grey.400",variant:"text_xs",children:"As a part of free trial, you can create 3 videos of up to 10 minutes each"}),(0,T.jsxs)(p.Z,{sx:{mt:4,mb:4},children:[(0,T.jsx)(h.Z,{variant:"text_xs",children:(0,T.jsxs)(p.Z,{className:"d-flex align-items-center mb-3",children:[(0,T.jsx)(h.Z,{color:O,children:(0,T.jsx)(ne.Z,{})}),(0,T.jsx)(h.Z,{sx:{ml:2},color:"grey.700",children:P})]})}),(0,T.jsx)(h.Z,{variant:"text_xs",children:(0,T.jsxs)(p.Z,{className:"d-flex align-items-center",children:[(0,T.jsx)(h.Z,{color:"success.main",children:(0,T.jsx)(re.Z,{})}),(0,T.jsx)(h.Z,{sx:{ml:2},color:"grey.700",children:N})]})})]}),(0,T.jsx)(h.Z,{color:"greywhite.dark",variant:"text_xs",children:"Upgrade your plan to keep using Pictory after free trial expires."})]})}),children:V?(0,T.jsx)(ee.Z,{color:"grey.0",sx:{mr:1}}):(0,T.jsx)($.Z,{color:"grey.0",sx:{mr:1}})})," ",_," ",this.state.showFreeTrialUpgradeButton&&(0,T.jsx)(Z.Z,{variant:"contained",type:"button",onClick:this.openPlanListFromUpgrade,className:"header-upgrade-button ml-2",sx:{height:"24px",color:U,backgroundColor:"grey.0",fontSize:"12px",width:"66px","&:hover":{fontWeight:"bold",backgroundColor:"grey.0"}},children:"Upgrade"})]}):(0,T.jsx)(T.Fragment,{}),(0,T.jsxs)("div",{className:"right-floating links",children:[window.location.pathname!=="/".concat(z.Z.plansList)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(p.Z,{sx:{position:"relative"},children:!this.props.isSignUp&&this.props.teams&&this.state.isCurrentUserNotCreatorOfAnyTeam&&(0,T.jsx)(Y.w,{variant:"contained",startIcon:(0,T.jsx)(Q.Z,{}),onClick:function(){C.setState({openCreateTeamPopup:!0})},children:"Create a team"})}),(0,T.jsx)(p.Z,{children:!this.props.isSignUp&&(null===(u=this.props.teams)||void 0===u?void 0:u.length)>0&&ue&&(null===(d=this.state.selectedWorkspace)||void 0===d?void 0:d.isAdmin)&&!this.props.isOrderSummaryPage&&(0,T.jsxs)("a",{className:["header-links",this.state.highlightManageTeam?"active":""].join(" "),style:{display:"flex",alignItems:"center"},onClick:function(){C.props.history.push({pathname:"/"+z.Z.userSettings,state:{openAddTeamMemberBox:!0}})},children:[(0,T.jsx)(X.Z,{className:"header-links-item",sx:{fontSize:"17px",marginRight:"4px",color:this.state.highlightManageTeam?"primary.main":"#6c757d"}}),(0,T.jsx)(h.Z,{variant:"body3_resp",className:"header-links-item",sx:{color:this.state.highlightManageTeam?"primary.main":"#6c757d"},children:"Manage team"})]})})]}),!this.props.isSignUp&&(0,T.jsx)("a",{className:["header-links",this.state.highlightMyProjects?"active":""].join(" "),onClick:this.gotoMyVideo.bind(),children:(0,T.jsx)(h.Z,{className:"header-links-item",variant:"body3_resp",sx:{color:this.state.highlightMyProjects?"primary.main":"#6c757d"},children:ue?"Team projects":"My projects"})}),!this.props.isSignUp&&(0,T.jsx)("a",{style:{position:"relative"},className:["header-links",this.state.highlightMyBranding?"active":""].join(" "),onClick:function(){return C.props.history.push(J.Z.BaseURL+z.Z.branding)},children:(0,T.jsx)(h.Z,{variant:"body3_resp",children:"Brand kits"})}),!this.props.isProgressbar&&(0,T.jsx)("div",{id:"appcues-launchpad",style:{marginLeft:20,fontFamily:"Lato",fontSize:"0.875rem",color:"#6c757D"}}),!this.props.isSignUp&&(0,T.jsxs)("a",{className:"header-links",target:"_blank",href:"https://kb.pictory.ai",rel:"noreferrer",children:[(0,T.jsx)(h.Z,{className:"header-links-item",variant:"body3_resp",children:"Help"}),(0,T.jsx)("i",{className:"important"})]})||"",(0,T.jsxs)("a",{ref:function(e){return C.notificationRef=e},id:"notification-bell-dropdown",className:"header-links dropdown status-notifier",style:{position:"relative"},children:[(0,T.jsx)("i",{className:"fa fa-bell blue","aria-hidden":"true","data-toggle":"dropdown","aria-expanded":"false",style:{padding:"5px"},children:(0,T.jsx)("div",{className:"floating-right-green-circle ".concat(this.state.alertIds.length>0&&"pulsating-icon"),style:{display:this.props.pendingProjects&&this.props.pendingProjects.length>0?"block":"none"},children:" "})}),(0,T.jsx)("ul",{className:"dropdown-menu",ref:function(e){return C.notificationUlRef=e},"x-placement":"bottom-center dropdown-menu-center",style:{left:"-250px",right:"unset",top:"40px",transform:"none"},children:(0,T.jsxs)("div",{className:"vertical-flex",style:{minHeight:"15rem",maxHeight:"20rem",paddingRight:"10px",justifyContent:"space-between",overflowY:"auto"},children:[(0,T.jsx)("i",{className:"fa fa-caret-up floating-top","aria-hidden":"true",style:{left:"115px"}}),(0,T.jsx)("div",{className:"horizontal-flex space-between-center",children:(0,T.jsx)("span",{className:"gray font-size-3 ml-3 mt-2 mb-2",children:"Notifications"})}),(0,T.jsx)("hr",{className:"line mt-0"}),this.props.pendingProjects&&this.props.pendingProjects.length?this.props.pendingProjects.map((function(e,t){return(0,T.jsx)("div",{className:"horizontal-flex space-between-center mb-3 w-100",children:"task"===e.progressSource?(0,T.jsxs)(T.Fragment,{children:[C.taskStatusIcon(e),(0,T.jsxs)(w.Z,{className:"vertical-flex flex-filler ml-3 w-80",onClick:function(){return C.openTask(e)},children:[(0,T.jsx)(h.Z,{className:"font-size-4 grey mt-0 mb-0",children:C.taskStatusText(e)}),(0,T.jsx)(m.Z,{title:e.name,arrow:!0,placement:"bottom",children:(0,T.jsx)(h.Z,{className:"blue font-size-4 mt-0 mb-0 ellipsis-full-width",children:e.name})})]}),C.getTaskCancelButton(e)]}):(0,T.jsxs)(T.Fragment,{children:[C.projectStatusIcon(e),(0,T.jsxs)(w.Z,{className:"vertical-flex flex-filler ml-3",onClick:function(){return C.getProject(e)},children:[(0,T.jsx)(h.Z,{className:"font-size-4 grey mt-0 mb-0",children:C.projectStatusText(e)}),(0,T.jsx)(h.Z,{className:"blue font-size-4 mt-0 mb-0",children:e.name?e.name:e.projectName})]}),C.getProjectCancelButton(e)]})},t)})):(0,T.jsxs)("div",{className:"vertical-flex flex-centered flex-filler ml-3 min-height-50",children:[(0,T.jsx)("img",{src:"/icons/no-notification-icon.png",className:"mb-2 medium-icon"}),(0,T.jsx)("span",{className:"gray font-size-3",children:"No pending processes"})]}),(0,T.jsxs)("div",{className:"vertical-flex stretch-center",children:[(0,T.jsx)("hr",{className:"line"}),(0,T.jsxs)("div",{className:"horizontal-flex mr-3 mb-2 end-center",children:[(0,T.jsx)("input",{type:"checkbox",className:"mr-1 blue",checked:this.state.emailNotification,onChange:this.checkEmailNotification}),(0,T.jsx)("span",{className:"font-size-4 dark-gray bold",children:this.state.user&&this.state.user.attributes&&this.state.user.attributes.email?"Notify on ".concat(this.state.user.attributes.email):"Send email notification"})]})]})]})})]}),!this.props.isSignUp&&W&&!L&&(0,T.jsx)("a",{type:"button",onClick:this.openPlanListFromUpgrade,className:"btn btn-default upgrade-button header-links",children:"Upgrade"})||"",(0,T.jsx)(g.Z,{onClickAway:function(e){C.closeProfileDropdown()},children:(0,T.jsx)("ul",{className:"nav-menu list-unstyled d-flex flex-md-row align-items-md-center",onMouseEnter:function(){return C.setState({showNotificationBadge:!1})},children:(0,T.jsx)(_e,{teams:this.props.teams,userInvites:this.props.userInvites,user:this.state.user,userImage:this.state.userImage,currentSubscription:this.props.currentSubscription,isSignUp:this.props.isSignUp,openCreateTeamPopup:function(){return C.setState({openCreateTeamPopup:!0})},handleMyAccount:this.handleMyAccount,gotoPlansList:this.gotoPlansList,onClickAffliliateDasbhobard:this.onClickAffliliateDasbhobard,onClickBecomeAffliliate:this.onClickBecomeAffliliate,handleLogout:this.handleLogout,handleWorkspaceChange:this.handleWorkspaceChange,selectedWorkspace:this.state.selectedWorkspace,acceptRejectInvite:this.acceptRejectInvite,showNotificationBadge:this.state.showNotificationBadge,handleInactivePopup:this.handleInactivePopup})})})]}),this.state.videoURL&&(0,T.jsx)(nt.Z,{open:!!this.state.videoURL,downloadVideo:function(){return C.downloadFile("video")},videoURL:this.state.videoURL,downloadAudio:function(){return C.downloadFile("audio",C.state.audioURL,C.state.projectName,".mp3")},audioURL:this.state.audioURL,downloadTextFile:function(e){return C.downloadFile("subtitle",e,"subtitle")},project_id:this.state.project_id,projectName:this.state.projectName,srtFile:this.state.srtFile,vttFile:this.state.vttFile,txtFile:this.state.txtFile,previewJson:this.state.previewJson,videoThumbnail:this.state.videoThumbnail,gotoMyProjects:this.gotoMyVideo,onClose:this.CloseGenerateVideo})]})})})})]}),this.state.showPopup&&null!==(0,G.we)(null!=this.state.user?this.state.user.username:"")?(0,T.jsx)(K.Z,{user:this.state.user,showPopup:this.state.showPopup,handleMyAccount:this.handleMyAccount}):"",(0,T.jsx)(q._c,{open:!!this.props.sessionExpired,title:"Session expired",msg:"Your session has expired. Kindly login again to continue.",closeIcon:!1,actions:(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Z.Z,{variant:"contained",sx:{boxShadow:"none"},onClick:function(){S().getInstance().logEvent("signout-session-expired"),y.g.signOut(),F.Z.clear(),window.location.assign("/login")},children:"Go to login"})}),children:(0,T.jsx)(w.Z,{direction:"row",spacing:2,children:(0,T.jsx)("div",{children:"Your session has expired. Kindly login again to continue."})})}),(0,T.jsx)(he,{open:this.state.openCreateTeamPopup,onClose:function(){C.setState({openCreateTeamPopup:!1}),C.props.resetOpenCreateTeamPopup&&C.props.resetOpenCreateTeamPopup()},user:this.state.user,createTeam:this.createTeam}),(0,T.jsx)(ge.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,onClose:function(){return C.setState({showAlertNotification:void 0})},autoHideDuration:this.state.autoHideDuration,title:this.state.alertNotificationTitle}),this.showTeamInvitationDialog(),this.showVersionMismatchDialog(),this.showNoAccessToTeamDialog(),this.showUserInactiveDialog(),this.showProjectSaveFailedDialog(),(null===(v=this.state.user)||void 0===v||null===(x=v.attributes)||void 0===x?void 0:x.email)&&(0,T.jsx)("div",{id:"hyros-email",style:{visibility:"hidden",position:"absolute"},children:(0,T.jsx)(f.Z,{value:null===(b=this.state.user)||void 0===b||null===(j=b.attributes)||void 0===j?void 0:j.email,preventDefault:!0})})]})}}]),x}(k.Component)),Tt=(0,C.$j)((function(e){var t,n=null===(t=e.myVideos.inProgressProjects)||void 0===t?void 0:t.filter((function(e){return"GENERATE_VOICE_OVER"!==(null==e?void 0:e.type)})),r=e.uploadImage.currentUploadingVideos,s=e.createVideoStepThree.asyncGeneratingVideos;r&&r.length>0&&r.reverse(),s&&s.length>0&&s.reverse();var a=[].concat((0,i.Z)(r),(0,i.Z)(s),(0,i.Z)(n)),o={};return e.subscription.currentSubscription&&!P().isEmpty(e.subscription.currentSubscription)&&(o=e.subscription.currentSubscription.data),{headerHeight:e.app.headerHeight,uploadProgress:e.uploadImage.uploadProgress,projectName:e.projectTitle.projectName,summarizationProgress:e.transcriptionSummary.summarizationProgress,pendingProjects:a,inProgressProjects:e.myVideos.inProgressProjects,currentUploadingVideos:e.uploadImage.currentUploadingVideos,projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,projectAction:e.myVideos.projectAction,videoProgress:e.createVideoStepThree.videoProgress,updateCustomerDetails:e.subscription.updateCustomer.data,currentSubscription:o,videoDownloadTask:e.header.videoDownloadTask,videoGenCompletion:e.header.videoGenCompletion,sessionExpired:e.app.sessionExpired,teams:e.teams.teamsResult,userInvites:e.teams.userInvitesResult,teamInviteNotification:e.userPushNotification.teamInviteNotification,duplicateProjectStatus:e.myVideos.duplicateProjectStatus,projectVersionconflictData:e.myVideos.conflictData,teamsRefreshNotification:e.userPushNotification.teamsRefreshNotification,userLocationResult:e.userSignUp.userLocationResult,transcriptionAnalysisStatus:e.transcriptionSummary.transcriptionAnalysis}}),{setHeaderHeight:st,getVideoProgress:mt,downloadGeneratedVideo:ht,updateCustomer:gt,getCurrentSubscription:at,openProject:lt,logoutInitiater:ft,socketConfigured:pt,removeProject:dt,saveProject:it,getDataFromResponseId:ut,getInProgressProjects:ct,getProjectNameBegin:ot,markTaskComplete:vt,resetVideoDownloadTask:xt,getTeamsRequest:St,createTeamRequest:yt,getUserInvitesRequest:bt,acceptInviteRequest:jt,stopProjectAsyncVideoGeneration:wt,cancelTask:Zt,duplicateProject:kt,resetAnalysis:Ct})(It)},78768:function(e,t,n){"use strict";var r=n(4942),s=n(37762),a=n(1413),i=n(93433),o=n(15671),c=n(43144),l=n(60136),u=n(29388),d=n(16031),p=n.n(d),h=n(47313),m=n(76657),g=n.n(m),f=n(1084),v=n(39254),x=n.n(v),S=n(78896),y=(n(17999),n(37770),n(44629),n(53792),n(19469),n(56620)),b=(n(20508),n(23265),n(79155),n(22845),n(61382),n(79833),n(47215)),j=n.n(b),w=n(11018),Z=n.n(w),k=(n(89303),n(38789),n(24873)),C=n(18104),I=n(80699),T=n(605),E=n(42669),A=n(11198),_=n(48755),R=n(46417),P=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).documentClickListener=function(e){e.target.closest("#duration-container-span")||r.state.durationContainer&&r.setState({durationContainer:!1})},r.setActiveAndFavoitesTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.props.tracks&&(e.tracks!==r.props.tracks||e.tracks.length!==r.props.tracks.length||e.activeTrack!==r.props.activeTrack||e.activeTrackId!==r.props.activeTrackId||e.audioFavsAndRecent!==r.props.audioFavsAndRecent)){var t=(0,i.Z)(r.props.tracks),n=(0,a.Z)({},r.state.tracksFavoriteStatus);if(r.props.activeTrackId&&r.props.activeTrack&&parseInt(r.props.activeTrackId)===parseInt(r.props.activeTrack.id)){var s=parseInt(r.props.activeTrack.id),o=t.findIndex((function(e){return parseInt(e.id)===parseInt(s)}));o>-1&&t.splice(o,1),t.splice(0,0,r.props.activeTrack),r.setState({activeTrackId:s},(function(){r.state.searchOperation||r.scrollItems[0]&&r.scrollItems[0].scrollIntoView&&r.scrollItems[0].scrollIntoView(!1)}))}if(r.props.tracks!==e.tracks||r.props.updatedFromfavorite){var c,l;if(t&&t.length>0)for(var u=function(e){var s=(0,a.Z)({},t[e]);t[e]=s,r.props.audioFavsAndRecent.findIndex((function(e){return"track"===e.type&&parseInt(e.trackId)===parseInt(s.id)&&"favorite"===e.category}))>-1?(s.isFavorite=!0,n[s.id]=!0):(s.isFavorite=!1,delete n[s.id])},d=0;d<t.length;d++)u(d);null===(c=(l=r.props).resetUpdatedFrom)||void 0===c||c.call(l)}r.setState({tracks:t,tracksFavoriteStatus:n})}},r.onGetMusicTracksMoodsResultUpdate=function(e){r.props.getMusicTracksMoodsResult&&r.props.getMusicTracksMoodsResult!==e.getMusicTracksMoodsResult&&(r.props.getMusicTracksMoodsResult.success&&r.setState({moods:[{value:"any",text:""}].concat((0,i.Z)(r.props.moods.map((function(e){return{value:e.attributes.name,text:e.attributes.name,markup:(0,R.jsx)(y.JA,{text:e.attributes.name})}}))))},(function(){r.updateSelectFilter("moods",r.state.moods,r.state.searchParams.mood)})),r.setState({fetchingMoods:!1}))},r.onGetMusicTracksGenresResultUpdate=function(e){r.props.getMusicTracksGenresResult&&r.props.getMusicTracksGenresResult!==e.getMusicTracksGenresResult&&(r.props.getMusicTracksGenresResult.success&&r.setState({genres:[{value:"any",text:""}].concat((0,i.Z)(r.props.genres.map((function(e){return{value:e.attributes.name,text:e.attributes.name,markup:(0,R.jsx)(y.JA,{text:e.attributes.name})}}))))},(function(){r.updateSelectFilter("genres",r.state.genres,r.state.searchParams.genre)})),r.setState({fetchingGenres:!1}))},r.onGetMusicTracksPurposesResultUpdate=function(e){r.props.getMusicTracksPurposesResult&&r.props.getMusicTracksPurposesResult!==e.getMusicTracksPurposesResult&&(r.props.getMusicTracksPurposesResult.success&&r.setState({purposes:[{value:"any",text:""}].concat((0,i.Z)(r.props.purposes.map((function(e){return{value:e.attributes.name,text:e.attributes.name,markup:(0,R.jsx)(y.JA,{text:e.attributes.name})}}))))},(function(){r.updateSelectFilter("purposes",r.state.purposes,r.state.searchParams.purpose)})),r.setState({fetchingPurposes:!1}))},r.onSearchMusicResultUpdate=function(e){if(r.props.searchMusicResult&&r.props.searchMusicResult!==e.searchMusicResult){var t=[r.state.searchParams.mood,r.state.searchParams.purpose,r.state.searchParams.genre].reduce((function(e,t){return t.length>0&&e.push(t.join(", ")),e}),[]).join(", ");r.setState({musicResultSearchText:"".concat(r.props.searchResult.obj_count," results").concat(t?": ".concat(t):"")}),r.props.searchMusicResult.success&&r.props.searchResult.Items.length>0?r.setState({searchResult:[].concat((0,i.Z)(r.state.searchResult),(0,i.Z)(r.props.searchResult.Items)),loadMoreTracks:!0}):r.setState({loadMoreTracks:!1}),r.setState({initialSearch:!1,searchingMusic:!1,firstPageSearch:!1})}},r.setFilterReference=function(e,t){e&&e.selectBox&&(r.filterElements[t]=e)},r.addClearAndApplyOptionInFilter=function(e){var t=r.filterElements[e];if(t){var n=null,s=null;switch(e){case"moods":n="#rrs-moods-dropdown-menu",s=r.clearMoodsFilter;break;case"purposes":n="#rrs-purposes-dropdown-menu",s=r.clearPurposesFilter;break;case"genres":n="#rrs-genres-dropdown-menu",s=r.clearGenresFilter}if(n){var a=t.selectBox.querySelector('[class="rrs__option clear-filter"]'),i=t.selectBox.querySelector(n);if(!a&&i){var o=document.createElement("div");o.setAttribute("class","clear-apply-wrapper"),(a=document.createElement("span")).setAttribute("class","rrs__option clear-filter"),a.innerText="Clear",a.addEventListener("click",s),o.appendChild(a);var c=document.createElement("span");c.setAttribute("class","rrs__option apply-filter-button-container"),o.appendChild(c),c.addEventListener("click",(function(t){return r.applySearchFilter(e,t)}));var l=document.createElement("span");l.setAttribute("class","elliptical-button apply-filter-button"),l.innerText="Apply",c.appendChild(l),i.appendChild(o)}}}},r.clearMoodsFilter=function(e){var t=(0,a.Z)({},r.state.searchParams);t.mood=[],r.setState({searchParams:t},(function(){r.updateSelectFilter("moods",r.state.moods,r.state.searchParams.mood,(function(){r.applySearchFilter("moods",e)}))}))},r.clearGenresFilter=function(e){var t=(0,a.Z)({},r.state.searchParams);t.genre=[],r.setState({searchParams:t},(function(){r.updateSelectFilter("genres",r.state.genres,r.state.searchParams.genre,(function(){r.applySearchFilter("genres",e)}))}))},r.clearPurposesFilter=function(e){var t=(0,a.Z)({},r.state.searchParams);t.purpose=[],r.setState({searchParams:t},(function(){r.updateSelectFilter("purposes",r.state.purposes,r.state.searchParams.purpose,(function(){r.applySearchFilter("purposes",e)}))}))},r.clearAllFilters=function(e){var t=(0,a.Z)({},r.state.searchParams);t.mood=[],t.genre=[],t.purpose=[],t.maxDuration=null,r.setState({searchParams:t,durationContainer:!1},(function(){r.updateSelectFilter("moods",r.state.moods,r.state.searchParams.mood,(function(){r.closeSearchFilter("moods")})),r.updateSelectFilter("genres",r.state.genres,r.state.searchParams.genre,(function(){r.closeSearchFilter("genres")})),r.updateSelectFilter("purposes",r.state.purposes,r.state.searchParams.purpose,(function(){r.closeSearchFilter("purposes")})),r.searchAudioTracks(e)}))},r.addSelectedFilterOptions=function(e,t){if(t&&t.value){var n=(0,a.Z)({},r.state.searchParams),s=(0,i.Z)(n[e]);s.push(t.value),n[e]=s,r.setState({searchParams:n})}},r.removeSelectedFilterOptions=function(e,t){if(t&&t.value){var n=(0,a.Z)({},r.state.searchParams),s=n[e].filter((function(e){return e!==t.value}));n[e]=s,r.setState({searchParams:n})}},r.updateSelectFilter=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};r.filterElements[e].updateState({type:"INITIALISE",value:{options:t,selectedValues:n,name:"".concat(e,"-dropdown"),multiselect:!0,disabled:!1}},(function(t){r.addClearAndApplyOptionInFilter(e),s()}))},r.handleChange=function(e){var t=(0,a.Z)({},r.state.searchParams);t[e.target.name]=e.target.value,r.setState({searchParams:t,loadMoreTracks:!1}),p().isEmpty(j()(t))&&r.resetMusicTracksResult()},r.onMaxDurationChange=function(e){var t=(0,a.Z)({},r.state.searchParams);t.maxDuration=e,r.setState({searchParams:t})},r.applyMaxDurationFilter=function(e){r.closeSearchFilter("moods"),r.closeSearchFilter("genres"),r.closeSearchFilter("purposes"),r.setState({durationContainer:!1}),r.searchAudioTracks(e)},r.clearMaxDurationFilter=function(e){r.closeSearchFilter("moods"),r.closeSearchFilter("genres"),r.closeSearchFilter("purposes"),r.setState({durationContainer:!1});var t=(0,a.Z)({},r.state.searchParams);t.maxDuration=null,r.setState({searchParams:t},(function(){r.searchAudioTracks(e)}))},r.resetMusicTracksResult=function(){r.setState({searchResult:[],page:1,searchOperation:!1,initialSearch:!0,musicResultSearchText:"",firstPageSearch:!1},(function(){r.setState({initialSearch:!1},(function(){r.scrollItems[0]&&r.scrollItems[0].scrollIntoView&&r.scrollItems[0].scrollIntoView(!1)}))}))},r.applySearchFilter=function(e,t){r.closeSearchFilter(e),r.searchAudioTracks(t)},r.closeSearchFilter=function(e){r.filterElements[e]&&r.filterElements[e].updateState({type:"SET_OPTIONS_PANEL_CLOSED",value:{isOptionsPanelOpen:!1}})},r.searchAudioTracks=function(e){e&&e.preventDefault&&e.preventDefault();var t=j()(r.state.searchParams);return p().isEmpty(t)&&!r.props.fromBranding?r.resetMusicTracksResult():(r.setState({initialSearch:!0,searchingMusic:!0,firstPageSearch:!0,loadMoreTracks:!1,searchOperation:!0,searchResult:[]}),t.maxDuration&&(t.minDuration=60*t.maxDuration,t.maxDuration=1200),r.props.searchMusic((0,a.Z)((0,a.Z)({},t),{},{page:r.state.page}))),!1},r.getMoreTracks=function(e){r.setState({firstPageSearch:!1,searchingMusic:!0,loadMoreTracks:!1});var t=j()(r.state.searchParams);p().isEmpty(t)?r.setState({initialSearch:!1,searchingMusic:!1,loadMoreTracks:!1}):(t.maxDuration&&(t.minDuration=60*t.maxDuration,t.maxDuration=1200),r.props.searchMusic((0,a.Z)((0,a.Z)({},t),{},{page:e})))},r.onTrackFavouriteClick=function(e,t){var n,s=(0,a.Z)({},r.state.tracksFavoriteStatus);s[t.id]?delete s[t.id]:s[t.id]=!t.isFavorite,r.setState({tracksFavoriteStatus:s}),r.props.AddTrackToFavourite(t.id,t.title,t.audio_url,e,null==e||null===(n=e.target)||void 0===n?void 0:n.checked)},r.getFavoriteStatus=function(e){return void 0!==r.state.tracksFavoriteStatus[e.id]?r.state.tracksFavoriteStatus[e.id]:e.isFavorite},r.makeTrackActive=function(e,t,n,s,a){r.props.makeTrackActive(e,t,n,s,a)},r.toggleText=function(e){var t=document.getElementById("trackId"+e),n=document.getElementById("btnTrackId"+e);t.classList.contains("vertical-ellipsis-multi-line")?(t.classList.remove("vertical-ellipsis-multi-line"),t.classList.add("vertical-ellipsis-single-line"),n.textContent="Show more"):(t.classList.remove("vertical-ellipsis-single-line"),t.classList.add("vertical-ellipsis-multi-line"),n.textContent="Show less")},r.isBusy=function(){return r.state.fetchingMoods||r.state.fetchingGenres||r.state.fetchingPurposes||r.props.fetchingTracks||r.state.searchingMusic},r.addTrackToBrand=function(e){var t=(0,i.Z)(r.props.brandingBgMusicList||[]),n=0==t.length||void 0,s={url:e.audio_url,source:"melodie",audio_id:e.id,duration:e.length,size:e.size,genres:e.genres,moods:e.moods,purpose:e.tags,title:e.title,isDefault:n};t.push(s),r.props.onUpdateBrandingBgMusicList(t)},r.removeTrackFromBrand=function(e){var t=(0,i.Z)(r.props.brandingBgMusicList||[]),n=t.findIndex((function(t){return t.audio_id==e.id}));n>-1&&(t.splice(n,1),r.props.onUpdateBrandingBgMusicList(t))},r.state={tracksFavoriteStatus:{},initialSearch:!1,page:1,loadMoreTracks:!1,moods:[],genres:[],purposes:[],searchParams:{query:"",mood:[],genre:[],purpose:[],maxDuration:null},searchingMusic:!1,searchResult:[],searchOperation:!1,selectedValuesMoods:[],maxTrackDuration:5,fetchingMoods:!0,fetchingGenres:!0,fetchingPurposes:!0,musicResultDefaultText:"15000+ tracks available",musicResultSearchText:""},r.scrollItems={},r.filterElements={},r}return(0,c.Z)(n,[{key:"componentWillMount",value:function(){this.setActiveAndFavoitesTrack(),this.props.getMusicTracksMoods(),this.props.getMusicTracksGenres(),this.props.getMusicTracksPurposes()}},{key:"componentDidMount",value:function(){var e;document.addEventListener("click",this.documentClickListener);var t=(0,a.Z)({},this.state.searchParams);0!=(null===(e=this.props.tracks)||void 0===e?void 0:e.length)||this.props.activeTrackId||(this.setState({initialSearch:!0,searchingMusic:!0,firstPageSearch:!0,loadMoreTracks:!1,searchOperation:!0,searchResult:[]}),t.maxDuration&&(t.maxDuration=60*t.maxDuration,t.minDuration=1),this.props.searchMusic(t))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.refresh;if(this.props.tracks&&this.props.tracks!==e.tracks){var n,r=(0,a.Z)({},this.state.tracksFavoriteStatus),i=(0,s.Z)(this.props.tracks);try{for(i.s();!(n=i.n()).done;){var o=n.value;void 0!==r[o.id]&&r[o.id]===o.isFavorite&&delete r[o.id]}}catch(e){i.e(e)}finally{i.f()}this.setState({tracksFavoriteStatus:r})}e.refresh!==t&&this.props.getAudioFavouritesAndRecent("track")}},{key:"componentDidUpdate",value:function(e,t,n){this.props.activeTrackId!==e.activeTrackId&&this.setState({activeTrackId:this.props.activeTrackId}),this.setActiveAndFavoitesTrack(e),this.onGetMusicTracksMoodsResultUpdate(e),this.onGetMusicTracksGenresResultUpdate(e),this.onGetMusicTracksPurposesResultUpdate(e),this.onSearchMusicResultUpdate(e)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.documentClickListener)}},{key:"render",value:function(){var e=this,t=this.state.searchOperation?this.state.searchResult:this.state.tracks&&this.state.tracks||[];return(0,R.jsxs)("div",{className:"card block-1 fill-height",children:[(0,R.jsxs)(k.Z,{className:"card-body pl-0",sx:{padding:"0 10px !important",marginTop:"20px"},children:[(0,R.jsxs)("form",{className:"img-search-form mb-3 p-0",ref:function(t){return e.formEl=t},onSubmit:this.searchAudioTracks,children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("input",{className:"form-control",name:"query",type:"search",placeholder:"Search tracks","aria-label":"Search",style:{width:"98%",margin:"0 auto"},autoComplete:"off",onChange:this.handleChange}),(0,R.jsx)("span",{className:"fa fa-search"})]}),(0,R.jsxs)("div",{className:"music-track-filter",children:[(0,R.jsx)("span",{style:{maxWidth:"90px"},children:(0,R.jsx)(y.Ph,{ref:function(t){return e.setFilterReference(t,"moods")},multiselect:!0,name:"moods-dropdown",selectedValues:this.state.searchParams.mood,options:this.state.moods,customLabelRenderer:function(e){return"Mood"},caretIcon:(0,R.jsx)(y.xY,{}),onSelect:function(t){return e.addSelectedFilterOptions("mood",t)},onDeselect:function(t){return e.removeSelectedFilterOptions("mood",t)}})}),(0,R.jsx)("span",{style:{maxWidth:"105px"},children:(0,R.jsx)(y.Ph,{ref:function(t){return e.setFilterReference(t,"purposes")},multiselect:!0,name:"purposes-dropdown",selectedValues:this.state.searchParams.purpose,options:this.state.purposes,customLabelRenderer:function(e){return"Purpose"},caretIcon:(0,R.jsx)(y.xY,{}),onSelect:function(t){return e.addSelectedFilterOptions("purpose",t)},onDeselect:function(t){return e.removeSelectedFilterOptions("purpose",t)}})}),(0,R.jsx)("span",{style:{maxWidth:"90px"},children:(0,R.jsx)(y.Ph,{ref:function(t){return e.setFilterReference(t,"genres")},multiselect:!0,name:"genres-dropdown",selectedValues:this.state.searchParams.genre,options:this.state.genres,customLabelRenderer:function(e){return"Genre"},caretIcon:(0,R.jsx)(y.xY,{}),onSelect:function(t){return e.addSelectedFilterOptions("genre",t)},onDeselect:function(t){return e.removeSelectedFilterOptions("genre",t)}})}),(0,R.jsxs)("span",{id:"duration-container-span",style:{position:"relative",maxWidth:"110px"},children:[(0,R.jsx)("div",{className:"rrs__button rrs "+(this.state.durationContainer?" rrs--options-visible ":"")+(this.state.searchParams.maxDuration>0?" rrs--has-changed":""),onClick:function(){return e.setState({durationContainer:!e.state.durationContainer})},children:(0,R.jsxs)("div",{className:"rrs__label duration-text",children:[(0,R.jsx)("span",{children:"Duration"}),(0,R.jsx)(y.xY,{})]})}),this.state.durationContainer&&(0,R.jsxs)("div",{className:"duration-container",children:[(0,R.jsx)("div",{className:"col-12 p-0 tabs-slider input-bar-container",children:(0,R.jsx)(Z(),{id:"maxTrackDuration",maxValue:20,minValue:0,formatLabel:function(e){return"".concat(e," min")},value:this.state.searchParams.maxDuration||0,onChange:function(t){return e.onMaxDurationChange(t)}})}),(0,R.jsxs)("div",{className:"apply-duration-button-container",children:[(0,R.jsx)("span",{onClick:function(t){return e.clearMaxDurationFilter(t)},children:"Clear"}),(0,R.jsx)("span",{onClick:function(t){return e.applyMaxDurationFilter(t)},className:"elliptical-button apply-duration-button",children:"Apply"})]})]})]}),(0,R.jsx)("span",{className:"clear-all-filters",onClick:this.clearAllFilters,children:"Clear all"})]}),(0,R.jsx)("div",{style:{marginTop:"0.5rem"},children:this.state.firstPageSearch&&this.state.searchingMusic?(0,R.jsx)(R.Fragment,{}):(0,R.jsx)(E.Z,{className:"music-result-text",sx:{padding:"0 10px",background:"#fff",position:"sticky",top:0,zIndex:1,pb:"10px"},children:this.state.musicResultSearchText||this.state.musicResultDefaultText})})]}),this.isBusy()?(0,R.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"absolute",left:"46%",zIndex:"2",top:"100px"},children:(0,R.jsx)(x(),{size:35,loading:!0,color:"#ADB4B3"})}):null]}),(0,R.jsx)("div",{className:"card block-1 ov-right content hover-only-scrollbar mCustomScrollbar fill-height",ref:function(t){return e.scrollParentRef=t},children:!1===this.state.initialSearch?(0,R.jsx)(g(),{pageStart:this.state.page,initialLoad:!1,loadMore:this.getMoreTracks,hasMore:this.state.loadMoreTracks,useWindow:!1,getScrollParent:function(){return e.scrollParentRef},children:(0,R.jsx)("ol",{className:"track-list-2",style:{overflowY:"hidden"},children:t.map((function(t,n){var s,a,i=null===(s=e.props.brandingBgMusicList)||void 0===s?void 0:s.find((function(e){return e.audio_id==t.id}));return(0,R.jsx)("li",{ref:function(t){return e.scrollItems[n]=t},className:"addRemoveActiveClassForTrack ".concat(e.state.activeTrackId==t.id?"active":""),id:"track_li_"+t.id,children:(0,R.jsx)("div",{className:"col p-2",id:"track_div_"+t.id,children:(0,R.jsxs)(k.Z,{className:"d-flex btn-span trk-link on-hover-event justify-content-between align-items-center",children:[(0,R.jsxs)(k.Z,{className:"d-flex",sx:{maxWidth:"60%"},children:[(0,R.jsxs)(k.Z,{className:"track-icon-play",sx:{minWidth:"47px !important"},children:[e.props.activeMusicTrack!==t.id&&(0,R.jsx)(C.Z,{sx:{p:"0"},onClick:function(n){return e.props.playMusic(t.audio_url,t.id,t.title,n,!0)},children:(0,R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,R.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20V20C35 28.285 28.285 35 20 35V35C11.715 35 5 28.285 5 20V20C5 11.715 11.715 5 20 5V5C28.285 5 35 11.715 35 20Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,R.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.2353 15.097L24.7053 18.9237C25.5236 19.407 25.5236 20.592 24.7053 21.0754L18.2353 24.902C17.402 25.3954 16.3486 24.7937 16.3486 23.8254V16.1737C16.3486 15.2054 17.402 14.6037 18.2353 15.097Z",fill:"#424242"})]})}),e.props.activeMusicTrack==t.id&&(0,R.jsx)(C.Z,{sx:{p:"0"},onClick:function(n){return e.props.playMusic(t.audio_url,t.id,t.title,n,!1)},children:(0,R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,R.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20C35 28.285 28.285 35 20 35C11.715 35 5 28.285 5 20C5 11.715 11.715 5 20 5C28.285 5 35 11.715 35 20Z",fill:"#424242",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,R.jsx)("rect",{x:"15",y:"15",width:"10",height:"10",rx:"2",fill:"white"})]})})]}),(0,R.jsxs)("div",{className:"track-text",children:[(0,R.jsxs)("h5",{className:"mb-0 track-heading",children:[t.title," ",i&&!e.props.fromBranding&&(0,R.jsx)(I.Z,{title:"Part of your applied brand",placement:"top",arrow:!0,children:(0,R.jsx)(_.Z,{sx:{color:"primary.main",marginLeft:"5px",fontSize:"18px"}})})]}),(0,R.jsx)("h6",{className:"small mb-0",children:t.description}),t.moods&&(0,R.jsx)("h6",{className:"small mb-0",style:{marginTop:"6px"},children:(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{id:"trackId"+t.id,className:"vertical-ellipsis-single-line",children:t.moods.join(", ")})," ",(0,R.jsx)("span",{id:"btnTrackId"+t.id,onClick:function(){return e.toggleText(t.id)},style:{textDecorationLine:"underline",textDecorationStyle:"dotted",cursor:"pointer"},children:"Show more"})]})})]})]}),(0,R.jsx)(k.Z,{sx:{maxWidth:"unset",display:"flex",flexDirection:"row-reverse"},children:(0,R.jsxs)("div",{className:"horizontal-flex",style:{position:"relative",alignItems:"center"},children:[!e.props.fromBranding&&(0,R.jsx)(k.Z,{className:"apply apply-button pointer show-on-hover",onClick:function(n){return e.makeTrackActive(t.id,t.audio_url,t.trackType,t.title,n)},sx:{m:"0 10px 0 0 !important",flexDirection:"row-reverse",height:"30px",justifyContent:"center",alignItems:"center",padding:"10px !important",borderRadius:"15px !important",background:"#852CFF !important",border:"0 !important"},children:(0,R.jsx)(E.Z,{sx:{m:"0 !important",color:"#fff !important",fontSize:"13px !important"},children:"Apply"})}),(0,R.jsx)(k.Z,{className:["applied-button"].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 5px 0 0 !important",background:"transparent !important",m:"0 4px 0 0 !important"},children:!e.props.fromBranding&&(0,R.jsxs)(k.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 2px 0 10px !important",border:"1px solid #852CFF !important",height:"33px",overflow:"hidden",background:"#fff !important",minWidth:"95px"},children:[(0,R.jsx)(E.Z,{sx:{m:"1px 5px 0 3px !important",fontSize:"13px !important",color:"#852CFF !important"},children:"Applied"}),(0,R.jsx)(C.Z,{onClick:function(n){null==n||n.stopPropagation(),e.props.removeTrackFromStorage(t.id,t.title,n)},sx:{padding:"0 9px 0 0px",height:"100%",borderRadius:"0",margin:"0 -4px 0 0px",color:"#852CFF","&:hover":{backgroundColor:"rgb(240, 233, 252)"}},children:(0,R.jsx)(A.Z,{sx:{fontSize:"20px",marginLeft:"5px"}})})]})}),e.props.fromBranding&&(0,R.jsxs)(k.Z,{children:[!i&&(0,R.jsx)(T.Z,{variant:"contained",color:"primary",className:"show-on-hover rounded-border-elliptical",onClick:function(n){n.stopPropagation(),e.addTrackToBrand(t)},children:"Add"}),i&&(0,R.jsx)(T.Z,{variant:"contained",color:"error",className:"rounded-border-elliptical",onClick:function(n){n.stopPropagation(),e.removeTrackFromBrand(t)},children:"Remove"})]}),(0,R.jsx)(k.Z,{className:"track-time text-right",children:(0,R.jsx)(E.Z,{className:"mb-0 track-timer",sx:(a={textAlign:"left",paddingLeft:"0",margin:"-5px 0 0 0 !important",fontSize:"12px !important",minWidth:"70px"},(0,r.Z)(a,"textAlign","center"),(0,r.Z)(a,"top","4px !important"),a),children:t.trackTimer})}),!e.props.fromBranding&&(0,R.jsxs)(k.Z,{className:"fav-bx track-fav track-fav-2",sx:{position:"relative  !important",right:"unset !important",mt:"5px",display:"flex",alignItems:"center",top:"1px !important"},children:[(0,R.jsx)("input",{type:"checkbox",checked:e.getFavoriteStatus(t),title:e.getFavoriteStatus(t)?"Remove from favourite":"Add to favourite",id:"AddTrackToFavourite"+t.id,onClick:function(n){return e.onTrackFavouriteClick(n,t)}}),(0,R.jsxs)(k.Z,{className:"favorite-icon",children:[(0,R.jsx)("svg",{className:"favorite-removed",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,R.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,R.jsx)("svg",{className:"favorite-added",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,R.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",fill:"#424242"})})]})]})]})})]})})},n)}))})}):null})]})}}]),n}(h.Component);t.Z=(0,f.$j)((function(e,t){return{searchMusicResult:e.music.searchMusicResult,searchResult:e.music.searchResult,getMusicTracksMoodsResult:e.music.getMusicTracksMoodsResult,getMusicTracksGenresResult:e.music.getMusicTracksGenresResult,getMusicTracksPurposesResult:e.music.getMusicTracksPurposesResult,moods:e.music.moods,genres:e.music.genres,purposes:e.music.purposes}}),(function(e){return{searchMusic:function(t){return e(S.Z.searchMusicRequest(t))},getMusicTracksMoods:function(){return e(S.Z.getMusicTracksMoodsRequest())},getMusicTracksGenres:function(){return e(S.Z.getMusicTracksGenresRequest())},getMusicTracksPurposes:function(){return e(S.Z.getMusicTracksPurposesRequest())}}}))(P)},1583:function(e,t,n){"use strict";n.d(t,{Z:function(){return J}});var r=n(4942),s=n(15671),a=n(43144),i=n(97326),o=n(60136),c=n(29388),l=n(47313),u=n(62463),d=n(605),p=n(82937),h=n(14237),m=n(51690),g=n(40009),f=n(76666),v=n.n(f),x=n(91104),S=n(90794),y=n(45610),b=n(50096),j=n(1413),w=n(74165),Z=n(15861),k=n(24873),C=n(10383),I=n(91294),T=n(22449),E=n(88905),A=n(81962),_=n(51443),R=n.n(_),P=(n(17999),n(16031)),N=n.n(P),O=n(1084),D=n(36410),U=n(78896),L=(n(79155),n(61382),n(46417)),F=U.Z.startPlanForExistingCustomer,V=U.Z.getCurrentSubscription,B=U.Z.updateCustomer,M=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua And Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas The","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Cook Islands","Costa Rica","Cote D'Ivoire (Ivory Coast)","Croatia (Hrvatska)","Cuba","Cyprus","Czech Republic","Democratic Republic Of The Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","External Territories of Australia","Falkland Islands","Faroe Islands","Fiji Islands","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia The","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey and Alderney","Guinea","Guinea-Bissau","Guyana","Haiti","Heard and McDonald Islands","Honduras","Hong Kong S.A.R.","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea North","Korea South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau S.A.R.","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Man (Isle of)","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands Antilles","Netherlands The","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory Occupied","Panama","Papua new Guinea","Paraguay","Peru","Philippines","Pitcairn Island","Poland","Portugal","Puerto Rico","Qatar","Republic Of The Congo","Reunion","Romania","Russia","Rwanda","Saint Helena","Saint Kitts And Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent And The Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Smaller Territories of the UK","Solomon Islands","Somalia","South Africa","South Georgia","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard And Jan Mayen Islands","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tokelau","Tonga","Trinidad And Tobago","Tunisia","Turkey","Turkmenistan","Turks And Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States Minor Outlying Islands","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City State (Holy See)","Venezuela","Vietnam","Virgin Islands (British)","Virgin Islands (US)","Wallis And Futuna Islands","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe"],G=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState({displayName:e.target.value})},a.getUserDetails=function(){var e=(0,Z.Z)((0,w.Z)().mark((function e(t,n){var r,s,i;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=(0,x.we)(t))&&null!=r&&!N().isEmpty(r)&&r.data?(s=r.data,a.setState({firstName:s.first_name,lastName:s.last_name,company:s.company_name,phone:s.phone,email:s.email,emailNotification:!s.notifications||void 0===s.notifications.email||s.notifications.email,job:D.C[0].answers.indexOf(s.job)>-1?s.job:"Other",jobtext:D.C[0].answers.indexOf(s.job)>-1?"":s.job,whatDescYou:D.C[0].answers.indexOf(s.job)>-1?s.job:"",productUsage:s.productUsage?s.productUsage.split(";"):[],whichSector:D.C[2].answers.indexOf(s.industry)>-1?s.industry:"",country:s.country,industry:s.industry,billingAddress:r.billing_address,shippingAddress:r.shipping_address,imagePreviewUrl:s.picture,displayName:(0,x.VO)(t)}),i=!1,n&&n.attributes&&n.attributes.identities&&"Google"===JSON.parse(n.attributes.identities)[0].providerName&&(i=!0),i&&void 0===s.picture&&""!=n.attributes.picture&&a.setState({imagePreviewUrl:n.attributes.picture})):n&&n.attributes&&n.attributes.picture&&""!=n.attributes.picture&&a.setState({imagePreviewUrl:n.attributes.picture});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getSubscriptionDetails=(0,Z.Z)((0,w.Z)().mark((function e(){return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.getCurrentSubscription(a.state.user.username);case 2:a.setState({disableButton:!1}),a.state.saveError||a.props.redirect();case 4:case"end":return e.stop()}}),e)}))),a.onSubmit=function(e){if(e.preventDefault(),a.state.disableButton)return!1;var t={};if(a.setState({saveError:!1,saveErrorMsg:"",disableButton:!0}),(!a.state.displayName||a.state.displayName&&""==a.state.displayName.trim())&&(t.displayName="Please enter name"),(!a.state.company||a.state.company&&""==a.state.company.trim())&&(t.company="Please enter company name"),a.state.checked&&((!a.state.oldPassword||a.state.oldPassword&&""==a.state.oldPassword.trim())&&(t.oldPassword="Please enter your old password"),!a.state.newPassword||a.state.newPassword&&""==a.state.newPassword.trim()?t.newPassword="Please enter your new password":a.state.newPassword.length>=8&&a.state.newPassword.match(/[a-z]/)&&a.state.newPassword.match(/[A-Z]/)&&a.state.newPassword.match(/[^a-zA-Z0-9]/)||(t.newPassword="Password should\n• be at least 8 characters long\n• contain uppercase & lowercase letters\n• contain 1 special character"),!a.state.rePass||a.state.rePass&&""==a.state.rePass.trim()?t.rePass="Please re-enter your new password":a.state.newPassword!=a.state.rePass&&(t.rePass="Please enter the correct password")),N().isEmpty(t)){a.setState({saveText:"Saving..."});for(var n=a.state.displayName.trim(),r=(n=n.split(" "))[0],s="",i=1;i<n.length;i++)s=s+n[i]+" ";var o={display_name:a.state.displayName,first_name:r,last_name:s&&""!=s.trim()?s:"",email:a.state.email,company_name:a.state.company||"",phone:a.state.phone||"",country:a.state.country||"",job:a.state.whatDescYou||"",productUsage:a.state.productUsage.join(";"),industry:a.state.whichSector||"",picture:a.state.image?"":a.state.imagePreviewUrl,notifications:{email:a.state.emailNotification||!1}};R().getInstance().logEvent("pictory-experience-questionnaire",{What_Best_Describes_You:o.job,What_Do_Use_Pictory_For:o.productUsage,Industry:o.industry}),a.props.isSignUp?a.props.startPlan({userId:a.state.user.username,newPlan:o,image:a.state.image,path:a.state.user.username+"/user/image.jpg"}):(o=(0,j.Z)({},o),a.state.checked?g.g.changePassword(a.state.user,a.state.oldPassword,a.state.newPassword).then((function(e){a.props.updateCustomer({userId:a.state.user.username,postData:o,image:a.state.image,path:a.state.user.username+"/user/image.jpg"})})).catch((function(e){t.oldPassword="You have entered wrong password",a.setState({errors:t,saveText:"Save",disableButton:!1})})):a.props.updateCustomer({userId:a.state.user.username,postData:o,image:a.state.image,path:a.state.user.username+"/user/image.jpg"}))}else a.setState({errors:t,disableButton:!1})},a.onChange=function(e){var t,n=(0,j.Z)({},a.state.errors);delete n[e.target.name],"job"==e.target.name&&a.setState({jobtext:""}),a.setState((t={},(0,r.Z)(t,e.target.name,e.target.value),(0,r.Z)(t,"errors",n),t))},a.onWhatDescYouChange=function(e){var t=(0,j.Z)({},a.state.errors);delete t.whatDescYou,a.setState({whatDescYou:e.target.value,productUsage:[],errors:t})},a.onProductUsageChange=function(e){var t=(0,j.Z)({},a.state.errors);delete t.productUsage;var n=e.target.value;n&&n.length>0&&n.some((function(e){return!e}))&&(n=[]),a.setState({productUsage:n,errors:t})},a.onCheckboxChange=function(e){a.setState((0,r.Z)({},e.target.name,e.target.checked))},a.removeImage=function(e){e.preventDefault(),a.setState({image:null,imagePreviewUrl:null})},a.handleProfileChange=function(e){e.preventDefault(),Array.from(e.target.files).forEach((function(e){if(e.type&&e.type.includes("image/")){var t=new FileReader;t.onloadend=function(){a.setState({image:e,imagePreviewUrl:t.result})},t.readAsDataURL(e)}else alert("please enter valid image")})),document.getElementById("file").value=""},a.handleChangePassword=function(e){a.setState({checked:!a.state.checked})},a.getProductUsageOptions=function(){return a.state.whatDescYou&&D.C[0].answers[a.state.whatDescYou]?D.C[0].answers[a.state.whatDescYou]:D.C[0].answers.others},a.state={user:a.props.user,email:a.props.user&&a.props.user.attributes&&a.props.user.attributes.email?a.props.user.attributes.email:"",errors:{},billingAddress:{},shipping_address:{},checked:!1,saveText:"Save",displayName:"",whichSector:"",whatDescYou:"",productUsage:[],saveErrorMsg:""},a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.getUserDetails(this.props.user.username,this.props.user)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.user!=e.user){for(var n=e.user&&e.user.attributes&&e.user.attributes.name?e.user.attributes.name:this.state.firstName+" "+this.state.lastName,r=(n=n.split(" "))[0],s="",a=1;a<n.length;a++)s=s+n[a]+" ";this.setState({user:e.user,email:e.user&&e.user.attributes&&e.user.attributes.email?e.user.attributes.email:"",company:this.props.isSignUp&&e.user&&e.user.attributes&&e.user.attributes.website?e.user.attributes.website:this.state.company,firstName:this.props.isSignUp?r:this.state.firstName,lastName:this.props.isSignUp?s:this.state.lastName},(function(){t.getUserDetails(e.user.username,e.user)}))}if(this.props.startPlanDetails.isChanged!=e.startPlanDetails.isChanged)if("success"!=e.startPlanDetailsStatus||e.startPlanDetails.code)this.setState({saveError:!0,saveErrorMsg:e.startPlanDetails.message?e.startPlanDetails.message:"Something went wrong!",saveText:"Save",disableButton:!1});else{this.getSubscriptionDetails(),window.location&&window.location.hostname&&window.location.hostname.startsWith("app")&&window.gtag("event","conversion",{send_to:"AW-677181474/X5fDCJT6rdYBEKLw88IC"});var i=!1;this.state.user&&this.state.user.attributes&&this.state.user.attributes.identities&&"Google"===JSON.parse(this.state.user.attributes.identities)[0].providerName&&(i=!0),i&&R().getInstance().logEvent("user-signup",{provider:"Google"}),R().getInstance().logEvent("trial-activated")}this.props.updateCustomerDetails.isChanged!=e.updateCustomerDetails.isChanged&&(e.updateCustomerDetails.code?this.setState({saveError:!0,saveErrorMsg:e.updateCustomerDetails.message?e.updateCustomerDetails.message:"Something went wrong!",saveText:"Save",disableButton:!1}):(this.getSubscriptionDetails(),R().getInstance().logEvent("user-details-updated")))}},{key:"render",value:function(){var e=!1;return this.state.user&&this.state.user.attributes&&this.state.user.attributes.identities&&"Google"===JSON.parse(this.state.user.attributes.identities)[0].providerName&&(e=!0),(0,L.jsx)(k.Z,{className:"container user-profile invisible-scroll-bar",style:{overflowY:"scroll",height:"calc(100vh - 144px)"},children:(0,L.jsxs)("form",{onSubmit:this.onSubmit,children:[(0,L.jsxs)(k.Z,{className:"profile-pic-section ",style:{marginTop:"-10px"},children:[(0,L.jsx)("h3",{className:"info-header hidden",children:"My photo"}),(0,L.jsx)("input",{style:{display:"none"},type:"file",id:"file",onChange:this.handleProfileChange.bind(),accept:".png, .jpg, .jpeg"}),(0,L.jsx)("img",{src:this.state.imagePreviewUrl?this.state.imagePreviewUrl:"/icons/user_icon.png",className:"",size:"80",round:!0}),(0,L.jsx)("a",{className:"link blue mt-3",onClick:function(){return document.getElementById("file").click()},children:this.state.imagePreviewUrl?"Change picture":"Upload Picture"}),this.state.imagePreviewUrl&&(0,L.jsx)("a",{className:"link",onClick:this.removeImage,children:"Remove picture"})||""]}),(0,L.jsxs)(k.Z,{className:"my-info-section",children:[this.state.saveErrorMsg&&(0,L.jsx)("label",{className:"info-header error",style:{color:"red",fontSize:"12px"},children:this.state.saveErrorMsg})||"",(0,L.jsxs)(u.Z,{spacing:2,sx:{width:"400px",mt:"2.8rem"},children:[(0,L.jsxs)(C.Z,{variant:"standard",children:[(0,L.jsx)(I.Z,{htmlFor:"component-simple",sx:{fontSize:"16px",marginBottom:"8px",fontWeight:"bolder"},children:"Full name"}),(0,L.jsx)(T.Z,{value:this.state.displayName,name:"displayName",onChange:this.onChange,required:!0})]}),(0,L.jsxs)(C.Z,{variant:"standard",children:[(0,L.jsx)(I.Z,{htmlFor:"component-simple",sx:{fontSize:"16px",marginBottom:"8px",fontWeight:"bolder"},children:"Email"}),(0,L.jsx)(T.Z,{name:"email",InputProps:{readOnly:!0},value:this.state.user&&this.state.user.attributes?this.state.user.attributes.email:""})]}),(0,L.jsxs)(C.Z,{variant:"standard",children:[(0,L.jsx)(I.Z,{htmlFor:"component-simple",sx:{fontSize:"16px",marginBottom:"8px",fontWeight:"bolder"},children:"Phone"}),(0,L.jsx)(T.Z,{label:"Phone",name:"phone",value:this.state.phone,onChange:this.onChange})]}),(0,L.jsxs)(C.Z,{variant:"standard",children:[(0,L.jsx)(I.Z,{htmlFor:"component-simple",sx:{fontSize:"16px",marginBottom:"8px",fontWeight:"bolder"},children:"Company name"}),(0,L.jsx)(T.Z,{name:"company",value:this.state.company,onChange:this.onChange,required:!0})]}),(0,L.jsxs)(C.Z,{variant:"standard",sx:{minWidth:120},children:[(0,L.jsx)(I.Z,{id:"country-select-label",sx:{fontSize:"16px",marginBottom:"8px",fontWeight:"bolder"},children:"Country"}),(0,L.jsxs)(E.Z,{value:this.state.country?this.state.country:"",onChange:this.onChange,name:"country",label:"Country",children:[(0,L.jsx)(A.Z,{value:"",children:"Select"}),M.map((function(e,t){return(0,L.jsx)(A.Z,{value:e,children:e},t)}))]})]}),!this.props.isSignUp&&!e&&(0,L.jsxs)(k.Z,{children:[(0,L.jsx)(k.Z,{className:"checkbox",children:(0,L.jsx)("label",{children:(0,L.jsxs)("h3",{className:"info-header blue mt-3",children:[(0,L.jsx)("input",{type:"checkbox",onChange:this.handleChangePassword,value:this.state.checked}),"Change password"]})})}),this.state.checked&&(0,L.jsxs)(k.Z,{children:[(0,L.jsxs)(k.Z,{className:"input-field",children:[(0,L.jsx)("label",{style:{color:"red",fontSize:"12px"},className:"error",children:this.state.errors.oldPassword||""}),(0,L.jsx)("input",{type:"password",name:"oldPassword",value:this.state.oldPassword,onChange:this.onChange}),(0,L.jsx)("label",{children:"Current password"})]}),(0,L.jsxs)(k.Z,{className:"input-field",children:[(0,L.jsx)("label",{style:{color:"red",whiteSpace:"pre-line",fontSize:"12px"},children:this.state.errors.newPassword||""}),(0,L.jsx)("input",{type:"password",name:"newPassword",value:this.state.newPassword,onChange:this.onChange}),(0,L.jsx)("label",{children:"New password"})]}),(0,L.jsxs)(k.Z,{className:"input-field",children:[(0,L.jsx)("label",{style:{color:"red",fontSize:"12px"},className:"error",children:this.state.errors.rePass||""}),(0,L.jsx)("input",{type:"password",name:"rePass",value:this.state.rePass,onChange:this.onChange}),(0,L.jsx)("label",{children:"Re-enter new password"})]})," "]})||""]})||"",(0,L.jsx)("br",{}),(0,L.jsx)(k.Z,{style:{width:"480px",justifyContent:"flex-end",textAlign:"right"},children:(0,L.jsx)(d.Z,{type:"submit",variant:"contained",sx:{width:"100px"},disabled:this.state.disableButton,children:this.state.saveText})})]})]})]})})}}]),n}(l.Component),W=(0,O.$j)((function(e){return{startPlanDetails:e.subscription.startPlan.data,startPlanDetailsStatus:e.subscription.startPlan.status,updateCustomerDetails:e.subscription.updateCustomer.data,updateCustomerStatus:e.subscription.updateCustomer.status}}),{startPlan:F,getCurrentSubscription:V,updateCustomer:B})(G),z=n(14812),J=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a,o,c,l,u;(0,s.Z)(this,n),(u=t.call(this,e)).changeTab=function(e,t){var n;u.setState((n={isBillingInfoTabOpen:"billingInfo"===e},(0,r.Z)(n,e,!0),(0,r.Z)(n,t,!1),n))};var d=(0,x.E3)();return u.state={profile:!0,billingInfo:!1,isSigningUppage:u.props.location&&u.props.location.state&&u.props.location.state.isNotSubscribed,initials:"ab",user:{},isBillingInfoTabOpen:window.location.pathname.indexOf("billing")>-1,isIndivisualSubscription:!0,currentWorkspace:d,openAddTeamMemberBox:null===(a=(0,i.Z)(u))||void 0===a||null===(o=a.props)||void 0===o||null===(c=o.location)||void 0===c||null===(l=c.state)||void 0===l?void 0:l.openAddTeamMemberBox},u.handleLogoClick=u.handleLogoClick.bind((0,i.Z)(u)),u}return(0,a.Z)(n,[{key:"refreshUserProfileSettings",value:function(){this.setState({currentWorkspace:null})}},{key:"componentDidMount",value:function(){var e=this;S.Z.setItem("lastUrl",y.Z.userSettings),g.g.currentAuthenticatedUser().then((function(t){var n=(0,x.VO)(t.username).split(" ").map((function(e){return e.substr(0,1)})).slice(0,2).join().toLowerCase().replace(/[^a-z]/g,"");e.setState({user:t,initials:n,isIndivisualSubscription:!(0,x.Ib)(t.username)}),e.state.isBillingInfoTabOpen&&e.changeTab("billingInfo","profile")})).catch(function(e){}.bind(this)),v()("#myCarousel").carousel()}},{key:"getMainContent",value:function(){var e=this;return(0,L.jsxs)("div",{style:{width:"100%"},children:[(0,L.jsxs)(u.Z,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",paddingLeft:"30%"},children:[(0,L.jsx)(d.Z,{sx:{width:"200px",borderRadius:0,border:0,borderColor:"primary.main",borderBottom:this.state.profile?"2px solid":0,"&.MuiButton-text":{color:this.state.profile?"primary.main":"grey.500"}},onClick:function(){return e.changeTab("profile","billingInfo")},children:"Profile"}),this.state.isIndivisualSubscription&&(0,L.jsx)(d.Z,{sx:{width:"200px",borderRadius:0,border:0,borderColor:"primary.main",borderBottom:this.state.profile?0:"2px solid","&.MuiButton-text":{color:this.state.profile?"grey.500":"primary.main"}},onClick:function(){return e.changeTab("billingInfo","profile")},children:"Billing"})||""]}),this.state.profile&&(0,L.jsx)(W,{initials:this.state.initials,user:this.state.user,isSignUp:this.state.isSigningUppage,handleMyAccount:this.props.handleMyAccount,redirect:function(){e.props.history.push("/"+y.Z.stepOne)}})||(0,L.jsx)(b.Z,{user:this.state.user,handleMyAccount:this.props.handleMyAccount,redirect:function(){e.props.history.push("/"+y.Z.stepOne)}})]})}},{key:"handleLogoClick",value:function(){this.props.history.push("/"+y.Z.stepOne)}},{key:"render",value:function(){return(0,L.jsxs)(L.Fragment,{children:[this.state.currentWorkspace&&(0,L.jsx)(z.default,{user:this.state.user,history:this.props.history,refreshUserProfileSettings:this.refreshUserProfileSettings.bind(this),openAddTeamMemberBox:this.state.openAddTeamMemberBox}),!this.state.currentWorkspace&&(0,L.jsx)(h.Z,{injectFirst:!0,children:(0,L.jsx)(p.ZP,{container:!0,sx:{flexGrow:1,justifyContent:"center"},direction:"column",children:(0,L.jsx)(m.SplitLayoutPanel,{sx:{width:"100%",height:"100%",borderRadius:"5px"},showHeader:!0,header:(0,L.jsx)(m.HomeLogo,{parentCallBack:this.handleLogoClick}),mainContent:this.getMainContent(),rightContent:(0,L.jsx)(p.ZP,{container:!0,sx:{"background-image":"url(/images/testimonial_background.png)","background-repeat":"no-repeat","background-position":"center","background-size":"cover",flexGrow:1,justifyContent:"center"},direction:"column",children:(0,L.jsx)(m.Testimonials,{sx:{ml:"16%",width:"60%"}})}),mainContentWidth:"60%",rightContentWidth:"40%"})})})]})}}]),n}(l.Component)},75694:function(e,t,n){"use strict";var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(24873),c=n(47313),l=n(28303),u=n(52740),d=n(46417),p=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).getRespectiveIcon=function(e){if(s.props.isVisualsToVideo)return"/icons/progress/4_icon.png";switch(e.trim()){case"Searching for summary media":case"Determining article context":return"/icons/progress/1_icon.png";case"Searching media":return"/icons/progress/2_icon.png";case"Finding best media":return"/icons/progress/3_icon.png";default:return"/icons/progress/4_icon.png"}},s}return(0,s.Z)(n,[{key:"render",value:function(){return this.props.showInitialLoadingBar?(0,d.jsx)("div",{id:"main-div-step-3",className:"full-height",children:(0,d.jsxs)(l.VK,{forceRefresh:!1,children:[(0,d.jsx)(u.Z,{history:this.props.history,isProgressbar:!0}),(0,d.jsxs)(o.Z,{className:"progress-page page-content d-flex padded-page-content pt-0 pb-0 pl-2 pr-2 expand-to-screen text-center vertical-flex flex-centered have-gradient-background",id:"GenerateVideoPopuptext1",children:[(0,d.jsx)("h1",{className:"font-size-2 bold sortof-black pt-0 mt-0 pb-4",children:this.props.isStep2?"Uploading and transcribing your video":"Please wait while the video storyboard is being created..."}),(0,d.jsx)("img",{src:this.getRespectiveIcon(this.props.message),className:"small-logo mt-4 mb-2",alt:"book icon"}),(0,d.jsx)("h2",{className:"font-size-3 blue bold",children:this.props.isVisualsToVideo?"Arranging and creating scenes for you":this.props.message}),this.props.subTitle?(0,d.jsx)("h3",{className:"font-size-3 blue bold",children:this.props.subTitle}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)("div",{className:"progress mt-3 mb-3",style:{borderRadius:"20px",width:"65%"},children:(0,d.jsx)("div",{id:"dynamic",className:"progress-bar progress-bar-success progress-bar-striped active",role:"progressbar","aria-valuenow":this.props.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.props.progress+"%"},children:(0,d.jsx)("span",{id:"current-progress"})})}),(0,d.jsxs)("h6",{className:"increasing-txt",children:[this.props.progress,"% completed"]})]})]})}):null}}]),n}(c.Component);t.Z=p},89973:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(74165),s=n(15861),a=n(15671),i=n(43144),o=n(60136),c=n(29388),l=n(51443),u=n.n(l),d=n(24873),p=n(42669),h=n(62463),m=n(82937),g=n(95352),f=n(12757),v=n(605),x=n(80699),S=n(49778),y=n(66859),b=n(3079),j=n(40009),w=(n(17999),n(23938)),Z=n(76666),k=n.n(Z),C=n(47313),I=n(1084),T=(n(89303),n(91104)),E=n(33834),A=n(78896),_=n(47439),R=(n(79155),n(45749)),P=n(29439),N=n(44906),O=n(88765),D=n(82569),U=n(64558),L=n(10383),F=n(46417);function V(e){var t=e.showOriginal,n=e.selectedResolution,r=e.handleDownloadClick,s=e.generateTranscriptionVideoLabel,a=C.useState(null),i=(0,P.Z)(a,2),o=i[0],c=i[1],l=(0,C.useState)(""),u=(0,P.Z)(l,2),h=u[0],m=u[1],g=Boolean(o),f=g?"simple-popover":void 0;return(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(v.Z,{"aria-describedby":f,className:"downloadVideoPopover",variant:"contained",onClick:function(e){c(e.currentTarget)},sx:{height:"auto",width:"max-content",minWidth:"max-content",borderRadius:"8px",marginRight:"10px",boxShadow:"none",":hover":{bgcolor:"primary.main",boxShadow:"0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15) !important"}},children:(0,F.jsx)(p.Z,{variant:"text_sm",children:s})}),(0,F.jsxs)(N.ZP,{className:"genVideoPopover",id:f,open:g,anchorEl:o,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:380}},children:[(0,F.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",borderBottom:"1px solid",borderColor:"#ccc",height:"76px",padding:"0 24px"},children:(0,F.jsx)(p.Z,{variant:"text_lg",children:s})}),(0,F.jsxs)(L.Z,{sx:{p:"2rem 1.6rem",width:"100%"},children:[(0,F.jsx)(p.Z,{id:"demo-row-radio-buttons-group-label",variant:"text_sm",children:"Choose the quality for your video:"}),(0,F.jsxs)(D.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",sx:{marginTop:"0.2rem"},onChange:function(e){m(e.target.value)},value:h||(t?"Original":n),children:[t&&(0,F.jsx)(U.Z,{value:"Original",control:(0,F.jsx)(O.Z,{}),label:(0,F.jsx)("span",{sx:{margin:0},children:"Original"})}),(0,F.jsx)(U.Z,{value:"720p",control:(0,F.jsx)(O.Z,{}),label:"720p"}),(0,F.jsx)(U.Z,{value:"1080p",control:(0,F.jsx)(O.Z,{}),label:"1080p"})]})]}),(0,F.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",borderTop:"1px solid",borderColor:"#ccc",height:"76px",padding:"0 24px"},children:(0,F.jsx)(v.Z,{variant:"contained",color:"primary",sx:{width:"100%",height:"40px",boxShadow:"none"},onClick:function(){c(null),r(h)},children:s})})]})]})}var B=n(64923),M=n(73507),G=A.Z.getProjectNameBegin,W=A.Z.duplicateProjectNameCheckBegin,z=A.Z.getSharedProjectsMappingByTeamIdAndProjectId,J=A.Z.shareProject,H=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).handleSaveDuplicateProjectName=function(e){i.props.handleBlurProjectName(e,!0)},i.showUpgradeModal=function(e,t){if(e&&e.stopPropagation(),t)i.setState({quotaExceeded:!0});else{var n;n=(0,T.N$)(i.props.username)[_.R2.videoResolution];for(var r=!1,s=0;s<n.length;s++)"1080p"===n[s]&&(r=!0);r||(i.props.closeQuotaPopup(),i.setState({quotaExceeded:!0}),k()(".select-video-quality input[type=checkbox]").prop("checked",!1),k()(".select-video-quality input[value=720p]").prop("checked",!0))}},i.hideUpgradeModal=function(e,t){i.setState({quotaExceeded:!1}),i.props.closeQuotaPopup(),t&&i.props.gotoPlansList()},i.getVideoPostsOptions=function(){var e={};return i.props.username&&((0,T.N$)(i.props.username)[_.R2.videoPostsCSV]&&(e.videoPostsCSV=(0,T.N$)(i.props.username)[_.R2.videoPostsCSV]),(0,T.N$)(i.props.username)[_.R2.videoPostsHootsuite]&&(e.videoPostsHootsuite=(0,T.N$)(i.props.username)[_.R2.videoPostsHootsuite])),0===Object.keys(e).length?null:e},i.savingStatusNotification=function(){return(0,F.jsxs)(d.Z,{sx:{minWidth:"max-content",ml:2,mr:2,display:"flex",alignItems:"center",justifyContent:"end"},children:[0===i.state.saveStatus&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(E.oe,{strokeColor:"#F0F0F0"})}),1===i.state.saveStatus&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(p.Z,{color:"grey.400",children:"Saving changes  "}),(0,F.jsx)(E.oe,{isRotating:!0})]}),2===i.state.saveStatus&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(p.Z,{color:"grey.400",children:"Saved  "}),(0,F.jsx)(E.Fn,{})]})]})},i.savingStatusNotification_Step2=function(){return(0,F.jsxs)(d.Z,{sx:{minWidth:"150px",ml:2,mr:2,display:"flex",alignItems:"center",justifyContent:"end"},children:["Save"===i.props.saveButtonText&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(E.oe,{strokeColor:"#F0F0F0"})}),"Saving"===i.props.saveButtonText&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(p.Z,{color:"default",children:"Saving changes  "}),(0,F.jsx)(E.oe,{isRotating:!0})]}),"Saved"===i.props.saveButtonText&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(p.Z,{color:"default",children:"Saved  "}),(0,F.jsx)(E.Fn,{})]})]})},i.handleBlurProjectName=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.props.duplicateProjectNameCheckBegin(i.props.username,t.trim());case 2:if(i.props.isProjectNameUnique){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,i.props.handleBlurProjectName(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.shareProject=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Project share removed for the chosen team member":"Project shared with selected team members",e.next=3,i.props.shareProject(i.props.projectId,i.props.username,t);case 3:"success"===(null==(s=e.sent)?void 0:s.status)?(setTimeout((function(){i.props.showAlertNotification(n)}),100),i.props.getSharedProjectsMappingByTeamIdAndProjectId(i.props.username,i.props.projectId),u().getInstance().logEvent("asset-shared",{"asset-type":"project","project-id":i.props.projectId,"workspace-name":(0,T.CV)(i.props.username)})):(a=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Project share could not be removed. Please contact support":"Project could not be shared. Please contact support",i.props.showAlertNotification(a),u().getInstance().logEvent("asset-share-error",{"asset-type":"project","project-id":i.props.projectId,"workspace-name":(0,T.CV)(i.props.username),response:s}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.projectNameValidationsList=[{fn:function(e){return e.length>=2},message:"Minimum 2 characters must be entered"},{fn:function(e){return e.length<=100},message:"Maximum 100 characters must be entered"},{regex:/^[0-9a-zA-ZÀ-ÿ()/ \-_]*$/,message:"Enter a valid project name"}],i.state={title:"Untitled Project",projectName:i.props.ProjectName||"",editTemplateName:"",saveStatus:0,videoDuration:i.props.videoDuration||0},i}return(0,i.Z)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.username&&e.username!==this.props.username&&this.props.fetchNewProjectName&&!this.props.newProjectName&&this.props.ProjectName&&this.props.getProjectNameBegin(e.username,this.props.ProjectName),e.newProjectName&&e.newProjectName!==this.props.newProjectName?this.setState({projectName:e.newProjectName},(function(){t.handleSaveDuplicateProjectName(e.newProjectName)})):e.ProjectName!==this.props.ProjectName&&this.setState({projectName:e.ProjectName}),this.props.quotaExceeded!==e.quotaExceeded&&!0===e.quotaExceeded&&this.showUpgradeModal(null,!0),this.props.saveDate!==e.saveDate){var n=document.querySelector(".info-message");n&&(n.style.visibility="visible"),setTimeout((function(){n&&(n.style.visibility="hidden")}),3e3)}}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(!this.props.templateMetaData||!this.props.templateMetaData.name||e.templateMetaData&&e.templateMetaData.name===this.props.templateMetaData.name||this.setState({editTemplateName:this.props.templateMetaData.name}),this.props.SaveButtonText!==e.SaveButtonText){var r="Saving"===this.props.SaveButtonText||"Saving..."===this.props.SaveButtonText?1:"Saved"===this.props.SaveButtonText?2:0;0===r?setTimeout((function(){return n.setState({saveStatus:r})}),2e3):this.setState({saveStatus:r})}if(this.props.saveButtonText!==e.saveButtonText){var s="Saving"===this.props.saveButtonText||"Saving..."===this.props.saveButtonText?1:"Saved"===this.props.saveButtonText?2:0;0===s?setTimeout((function(){return n.setState({saveStatus:s})}),2e3):this.setState({saveStatus:s})}}},{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){e.setState({refreshComponent:!e.state.refreshComponent})}),6e4);this.setState({interval:t});var n=document.querySelector(".info-message");setTimeout((function(){n&&(n.style.visibility="hidden")}),3e3)}},{key:"componentWillMount",value:function(){var e=this;j.g.currentAuthenticatedUser().then((function(t){var n=(0,T.we)(t.username);e.setState({user:t,planName:n&&n.name?(0,T.Gz)(n.name):"Free trial"}),(0,T.E3)()&&e.props.getSharedProjectsMappingByTeamIdAndProjectId(e.props.username,e.props.projectId)})).catch((function(e){}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){var e,t,n=this,r=this.getVideoPostsOptions(),s=(this.props.videoDurationToolTip,this.props.disableNextButton);this.props.videoTotalDurationInSeconds&&(s=!!(this.props.videoTotalDurationInSeconds>this.props.videoDurationLimit)||s);var a=(0,F.jsx)(S.Z,{color:"grey",sx:{mr:2}}),i=null===(e=this.props.projectMapping)||void 0===e||null===(t=e.projectsMapping)||void 0===t?void 0:t.Items,o=(null==i?void 0:i[0])&&i[0].sharedByUserId!==this.props.username,c=o&&(0,F.jsxs)(F.Fragment,{children:["This project is owned by ",(0,T.Yf)(null==i?void 0:i[0]),". ",(0,F.jsx)("br",{}),"Ask ",(0,T.Zo)(null==i?void 0:i[0])," to provide access."]});return(0,F.jsxs)("div",{className:["container-fluid text-center pt-1 pb-2",this.props.gotoCreateVideoStep2?"pl-8 pr-8":"pl-0 pr-0",this.props.backgroundClass||""].join(" "),style:this.props.style||{},children:[(0,F.jsx)("div",{className:"constructed-pl",children:(0,F.jsxs)("div",{className:"d-flex justify-content-between",style:this.props.gotoCreateVideoStep2?{alignItems:"center"}:{alignItems:"center",minHeight:"60px"},children:[(0,F.jsx)(d.Z,{className:"project-title w-30",sx:{textAlign:"left",pl:2},children:(0,F.jsx)(w.default,{id:"edit-project-name",label:"Project",inputRef:function(e){return n.projectNameRef=e},required:!0,errorMsgWhenBlank:"Project name is required",value:this.state.projectName,validationsList:this.projectNameValidationsList,onEditSaveText:this.handleBlurProjectName,size:"large",externalChangeText:"Project Name already exists",sx:{display:"block"}})}),(0,F.jsxs)("div",{className:"buttonsStep2head txt-center text-md-right project-title-buttons-container",children:["Step2_V3"===this.props.screen&&(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(h.Z,{direction:"row",spacing:1,sx:{display:"flex",justifyContent:"right",alignItems:"center",width:"100%"},children:[this.props.gotoCreateVideoStep1&&this.savingStatusNotification_Step2(),(0,F.jsx)("div",{style:{width:"150px"},children:(0,F.jsxs)("div",{className:"scene-gen-settings-container on-hover-event",style:{display:"flex",alignItems:"center",textAlign:"right",marginRight:"25px",marginLeft:"0",height:"30px",backgroundColor:"transparent"},children:[(0,F.jsx)(h.Z,{direction:"row",className:"scene-gen-settings pointer",sx:{display:"flex",alignItems:"center"},children:(0,F.jsxs)(p.Z,{variant:"text_sm",color:"grey.900",children:[(0,F.jsx)(b.Z,{fontSize:"small"}),"  Scene settings  ",(0,F.jsx)(y.Z,{fontSize:"small"})]})}),(0,F.jsxs)(m.ZP,{className:"scene-gen-settings-box show-on-hover white-background rounded-border-large gray-box-shadow p-3",style:{zIndex:10,top:"31px",right:"-10px",width:"300px"},children:[(0,F.jsxs)("div",{className:"flex-row space-between-center pb-1",children:[(0,F.jsx)(p.Z,{variant:"body2",children:"Auto highlight keywords"}),(0,F.jsx)("span",{className:"mr-0",children:(0,F.jsx)(g.Z,{checked:this.props.autoHighlightKeywords,onChange:function(e){return n.props.onChangeAutoHighlightKw(e.target.checked)}})})]}),(0,F.jsxs)("div",{className:"flex-row space-between-center pb-1",children:[(0,F.jsx)(p.Z,{variant:"body2",children:"Auto visuals selection"}),(0,F.jsx)("span",{className:"mr-0",children:(0,F.jsx)(g.Z,{checked:this.props.autoVisualSelection,onChange:function(e){return n.props.onChangeautoVisualSelection(e.target.checked)}})})]})]})]})}),(0,F.jsxs)(f.Z,{children:[this.props.gotoCreateVideoStep1&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(v.Z,{color:"primary",variant:"outlined",onClick:this.props.gotoCreateVideoStep1.bind(this),children:"Previous"})}),this.props.gotoCreateVideoStep3&&(0,F.jsx)(v.Z,{color:"primary",variant:"contained",sx:{width:"100px"},onClick:function(){return n.props.gotoCreateVideoStep3()},disabled:s,children:this.props.nextButtonLabel||"Next"})]})]})}),"Step2_V3"!==this.props.screen&&(0,F.jsxs)(F.Fragment,{children:[this.savingStatusNotification(),this.props.gotoCreateVideoStep1&&(0,F.jsx)("a",{className:"btn btn-outline-default btn--prevs2 mr-2",onClick:this.props.gotoCreateVideoStep1.bind(this),style:{width:"100px",height:"auto",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Previous"}),this.props.gotoCreateVideoStep2&&(0,F.jsx)("a",{id:"previous_button",onClick:this.props.gotoCreateVideoStep2.bind(this),className:"btn btn-outline-default btn--prevs2 mr-2",children:"Previous"}),(0,T.E3)()&&(0,F.jsx)(x.Z,{title:c,children:(0,F.jsx)(d.Z,{children:(0,F.jsxs)("a",{onClick:function(){return n.setState({openShareProjectsDialog:!0})},className:(o?"btn-disabled":"")+" btn btn-outline-default btn--prevs2 mr-2",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,F.jsx)(M.Z,{fontSize:"text_lg",sx:{mr:"5px",transform:"scaleX(-1)"}}),"Share project"]})})}),this.props.generateTranscriptionVideo&&(0,F.jsx)(V,{generateTranscriptionVideoLabel:this.props.generateTranscriptionVideoLabel,showOriginal:"720p"!=this.props.videoResolution&&"1080p"!=this.props.videoResolution,selectedResolution:"720p"==this.props.videoResolution?"1080p":this.props.videoResolution,handleDownloadClick:function(e){return n.props.generateTranscriptionVideo(e)}}),this.props.gotoCreateVideoStep3&&(0,F.jsx)("a",{className:this.props.disableNextButton?"btn btn-outline-default btn-submit btn-disabled btn--prevs1 mr-2 highlightVideoHover":"btn btn-submit mr-2 highlightVideoHover",disabled:this.props.disableNextButton,onClick:function(){return n.props.gotoCreateVideoStep3()},style:{width:"max-content !important",minWidth:"max-content !important",height:"32px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",border:0},children:this.props.nextButtonLabel||"Next"}),this.props.allowReelFastVideo&&this.props.OpenCloseVideoPreviewNew&&(0,F.jsx)(x.Z,{title:this.props.isVoiceOverApplying?"Please wait. We're applying your voiceover.":"",children:(0,F.jsx)(d.Z,{children:(0,F.jsx)("a",{className:"btn btn-outline-default btn--prevs2 mr-2 ".concat(this.props.isVoiceOverApplying?"disabled":""),id:"btnPreview",disabled:this.props.disablePreviewButton||this.props.isVoiceOverApplying,onClick:this.props.OpenCloseVideoPreviewNew,children:"Preview"})})}),!r&&this.props.GenerateVideo&&(this.props.allowReelFastVideo&&this.props.GenerateNextGenerationVideo?(0,F.jsx)("a",{className:"btn btn--nexts2 btn-submit theme-color-as-bg",onClick:function(e){return n.props.allowFLVVideo&&n.props.GenerateDraftVideo?n.props.GenerateDraftVideo(e):n.props.GenerateNextGenerationVideo(e,void 0,!0)},id:"btnGenerate",children:"Download"}):(0,F.jsx)("a",{className:"btn btn--nexts2 btn-submit theme-color-as-bg ".concat(this.props.isVoiceOverApplying?"disabled":""),onClick:this.props.GenerateVideo.bind(),id:"btnGenerate",disabled:this.props.isVoiceOverApplying,children:"Download"})),r&&(this.props.GenerateVideo||this.props.GenerateCsv||this.props.generateVideoPosts)?(0,F.jsxs)("div",{className:"dropdown",id:"generate-button-dropdown",children:[(0,F.jsxs)("a",{className:"btn btn--nexts2 btn-submit mr-2 theme-color-as-bg ".concat(this.props.isVoiceOverApplying?"disabled":""),children:["Download",(0,F.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true",style:{display:"none"}})]}),!this.props.isVoiceOverApplying&&(0,F.jsxs)("div",{className:"dropdown-menu pt-1 pb-1","x-placement":"top-end",children:[this.props.GenerateNextGenerationVideo&&this.props.allowReelFastVideo&&(0,F.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1",style:{minWidth:"265px"},onClick:function(e){return n.props.allowFLVVideo&&n.props.GenerateDraftVideo?n.props.GenerateDraftVideo(e):n.props.GenerateNextGenerationVideo(e,void 0,!0)},id:"btnGenerate",children:[a," Video"]}),this.props.GenerateVideo&&!this.props.allowReelFastVideo&&(0,F.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1",onClick:this.props.GenerateVideo.bind(),id:"btnGenerate",children:[a," Video"]}),(0,F.jsx)(d.Z,{sx:{borderTop:"1px solid",borderColor:"grey.200",my:.5}}),r.videoPostsCSV&&this.props.GenerateCsv&&(0,F.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1",onClick:function(e){return n.props.GenerateCsv(e,!0)},id:"btnGenerateCSV",children:[(0,F.jsx)(E.tk,{sx:{ml:.5,mr:1.5}})," Spreadsheet of social video posts"]}),r.videoPostsHootsuite&&this.props.generateVideoPosts&&(0,F.jsxs)("a",{className:"dropdown-item btn-span pl-1 mb-1",onClick:function(e){return n.props.generateVideoPosts(e,!0)},id:"btnPostVideo",disabled:this.props.disableGenerateVideoPostsButton,children:[(0,F.jsx)(E.PI,{sx:{ml:.5,mr:1.5}})," Social video posts for Hootsuite"]})]})]}):null]})]})]})}),this.state.quotaExceeded&&(0,F.jsx)(R.Z,{quotaExceeded:!0,planName:this.state.planName,onClose:function(){return n.setState({quotaExceeded:!1})}}),this.state.openShareProjectsDialog&&(0,F.jsx)(B.I,{open:this.state.openShareProjectsDialog,onClose:function(){return n.setState({openShareProjectsDialog:!1})},assetMapping:i,shareAsset:this.shareProject,teamUsers:this.props.teamUsers,cognito_id:this.props.username,assetType:"project",title:"Share project"})]})}}]),n}(C.Component),K=(0,I.$j)((function(e,t){return{isProjectNameUnique:e.projectTitle.isUniqueName,newProjectName:e.projectTitle.projectName,projectMapping:e.myVideos.projectMapping}}),{getProjectNameBegin:G,duplicateProjectNameCheckBegin:W,getSharedProjectsMappingByTeamIdAndProjectId:z,shareProject:J})(H)},65526:function(e,t,n){"use strict";n.d(t,{Z:function(){return to},h:function(){return $i}});var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(1413),c=n(47313),l=n(1084),u=n(28303),d=n(3643),p=n(97326),h=n(24873),m=n(42669),g=n(605),f=n(34207),v=n(40009),x=n(51443),S=n.n(x),y=n(45610),b=(n(79155),n(61382),n(87074)),j=n(93909),w=(n(89303),n(96161)),Z=n(78896),k=n(11043),C=n(90794),I=n.p+"static/media/affiliate_graphic.11ac6791b4b1a6823752.png",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANMAAAAiCAYAAADFyexlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABKjSURBVHhe7ZwHnFNVvsd/Nz2ZJDOUoRdpLlUWBRQYBgRBEFFZLAg2LG/XFZWVp6I0FZ+CoKA+1/YUFRGxAuqKAqJIWQUBAVHpDiB1GCbJpOfe9z8lyc1MZmARBve9+/1wcs/5n3aTc/7n/E8ZlGPHAhoMDAx+Myb5NDAw+I0YymRgcIowlMnA4BRhKJOBwSnCUCYDg1PECe3m5S7/QvqA0sI+0mdgYKDn//zM5HVb4Qn9As+xH+Au2QxPeC+8HoeMTeOBn+J+pbTCeb1OGUNlWGKUdzu8FbMZGKQ44zOT58DbQMkWgL0FczU7wF//Kh5XFV5rEOrWT6Ad2AAtWgbFngfzhZPgCykiXjuKxNrXkdi1EohHAZXksg7bzfPgi2dqhnPlc0hsXkzxlE4FHGMWUFkq3Md2IPLWeCAWAeweOG6aBr+jjsz1+8VVtAuhee9CY98n+dsyWNhigeL2wNqhLewFXWkYMctIg9/CGZ2ZvM4EsGMucHitcIfWQtv6FrwumaASvJGdiC8cCXXjG9AObgSO7oC277tUh/EEdyD2we1Qty8TiqTvUMyRUmSH0pUjtmqeUCTKp4X8iK3+QMacHGxWdO3ZAtfujfBEfVJ66lGPHUNs/feIrduQdt+RW7sB0dVrEfl8GQLTn0Pxn26B5Z359F7pmdjg5DizZt4+mgnUmPCzzsqeiSi0PUu5KBtetw2Jrx8GokGRgTmbF6jbHrA64c2xIL7kEVKAkCiPFMTUqi8sfe+F9fKpsF77Anxlsk49ybKSTqLY3cKTlNtzePBkiX+3HKHnHkLo+UcR2/StlJ4G9N9F59gjQxaPo2z2+/A/8TyLMfgNnFFl0vZ8ktmw0mm7SV4J2n6avULFMkRfoOP1sA6fD+ugZ6CYzFB3k1kXKkmVZSm4E8GudyHQoAD+3Nbw2+qLjBWQsxLLp8Pa52aY6rXiYlPzTrD1Gi4iTpL4ts38Wa6a04Kmq8TSrg28j09C7uMT4ZkwBraC80WEnLXDHy+F69dfhczgpDhjyuTFXsC3Q4aIxhfTh+zQJT9T/EHhL0+AGpx1EulMLfpzcRKteDuXs2iG6Q+Z8VUiMyXzMvyKG5FrpsI18VNEr5gAX+y3rS8S238QFSTd6UbWY6qRB1tnGgy6dILjwgLkTh4Le6/u6VcgT3jxChkwOBnO2AaEp+hFYPcC0dgmJ5R+b0NddA0N3WJ9orQcCn+zm0Viwmv2Qf12BtTAAeAYKSLLx9LV7QjNZCO/GGG1kl9IAw5BU1m8AqVxFy7P5pS8hgh2HkkBwLni70hsZBsQ9I+c8165AXF4C6Ir303lsV00EgFvE56HkXNkO+Jrl5CSbIRWVsoX/Ob6zWHtPgjBVnL0JxxrFiFRRGnXLBczBjlT3UYw1azL/dbufRFq3VkkJlxFPyOylPLs3A4tHIGS44H1nHNhH3ApAq5cmapyHN+vh/+x6en3LugO78T7RKQksmwlSic+mU7TsyuUB+4EZr6KxMEjUCwWeMZQG1jM8E3+O2JbtsPasgnMMyaIAgjXnn0Izl9Ca7IfqG2CUGwWWFo0gaN/TzguLiCTmtqzHPa1GxH6ZBniVJ4WiUJx58DW9RzYzm1HP4oYUJUcFyId28KycDEiq9dDURS4hg2C9bz2ZJK+jMhX31IaJ2rOmoqAzQ5PIo7QR18gsvxbxHfv4+Wa8jyw9z4fOTcMQcCe3nBybP4JZXMWcr+9oDOcl16IwMvzEPma1u3RGGxUh+e+2+CnPuTcuhNlcz9G/Cca+FUV5rMawXXVQEQ6n8Pz6zkjyuR1W6AtHkLrmjLRkA0vhum8B0lZJov1Esk0ixfmwe/DF4iKPOpBJD65RXZE+sG5sgjHZbrdumyyZAfOyFvnbEQue4I89KN9Tcq0aXEqXVKZcnauQGTBU6k89useQVm99vBa4gjPnYLEtvWiTIoTdYp0TGYtvByRvtdRgH7o8cNoWqJIlk737sn3sQ+5HpHCS2nNZ0fwpZmIrfpK987pdJrVBvc99yPUsi0JKyelTLIurkyTMpUpvHg5fI/MTH+3QlL+B0YhdtsDSFCHZLhGXIbwZ19DPUKmM2FuUBfW16fB63UhMGMWgm9XbpJbWjdHjZnj4TdbeJjl8U16GuFFX/NwVZibNID1lSnAM68hTErCsPU4l3f26JpNPMzIX/QqIiu/g48UDKRA2TDVroEaLz+KMrfYeLJ9uRq+/xJrRMXp4PGJPft5OIm1U1saDHrCP4UG/Sy477oB8cEXyZDgzJh5+7+iGUgqEjml4YVcrDQiRZUyRHzQ9unMDm9jKO1H0JTWWMRLtFyS1/4DubO5gyNPRLPORyi1mkEhpVHyhaPhlstT9ehJyrLJOaJMhhYJIbGLrX+EIsHmovobUi+wUljIYl8uQM7+rTy9pX1XmOpQvK5sJa82zE1bwnRWSyi5NbgsNOclxFaTIvEQFdeqNWyFfWGq31DIolEEpk+Fm23AVAVLnKpL0VebIrL8m4z3MTeqJzw6WfCtj1KKxDDV9PJn2UvzMhXJbIalVVP6Humd0vhPO1Ey+lEaIMSswJRSr0j2wi5cWS1nN5MSgalubTgGFMpQmuiq9RmKRNMV1ecWMp0iMYU31cqTIRor6P39j2VXCi0U5oqk5HmpfWpJKbXd+i3wTyMFJVgd+jhG4IW58JTTnjOiTKmNB4bFTTMEmWKMuvS0pHfLtJ3/kD5aXtEMFWh2LUytBgsBy0/OUnAvgr2nI9iHXN/ptIYixZRxzFkHP47QgGkIX0Ju0DQaamtyOYsuT5Uy5kk6wm8mE2LIXTC37AT70LuQ8/DbSNz+NFyjaaSXIzFLGlsjRtXYsHvgGHGnyC7LsV88FO4JM+GZOJM6Vn+4gyWILqXvLONtfQbA+/A05Nw+Gt5pz8LcggYDFkcKFVmU/m2qRJalHfMhupFM1u9/QGTFN2S2zUSERuhkPHP2fj1ZjkxoemQKknPTn5AzciicV13CTaqy2fNlAupEDeqg9ofPodacp5D/8UtwDOwlY4RCJddizDRLwkb+vOlj4bn7RtR4cTJ9WRqEJN77bkWC6qkAm6rJ9HReOQA5t16NnD8Po34Rhmf0TWTOdYXziotQ671n+cxZm96DmXhJoms2wh3LPnMxhc7/9H9gmzMDzqFs7S4hS8JKpmf+xy/zOP334jPkWp1iE9WuTF7LMaB4gwiwRqxfCMUkOp9itkFp0EOYN2w03f8dpQ/wuAx4fPKRni3+JWQZKVg45XRlJmVZ6gm26o7o1eMQbFNIawPRUAE3jYp1GqXyqYfK7ZDxsnRPHdF/0oxNdSej7H0uhloW4E6LhGHr3FVEUILYOjIvjwcvSJQXIyUqvXscufHwjZvCTTw9jkv7IFiP1m/lMZlQ4/mHkRhxBRLDL0e0+3kIf0FKSJ0pSc61g2Gul8/9ip3M0L+SBaEj/KmsSzQsx+RJD5qKywHFKi0GQoszuzM73vtvg/bn4UhccykSQwdyGTMjlXGjoN1xA8pyxXqSKZm9zwXcnySxl9bbWbB16cDTc3/XjvyZxNGvB3xh8V0dg3TKRKjF1Jd1VLsyaXvSIy9zSt0L6McLpZzSoHs6nj60nZ8yT0VSabIgzays8ZXIKysqRWXlER6E4NqxBo5V78O+dDa00qOppFo8Ln06eGRF5VT37REeWZf/wb+h9JZrUTpyOI7dNByhuW+m3kH1neCBrywrBQ/rfh/FBOewy+AZezuLrYC5SX0E82vLkCC+o0j6BJa2LaVPYK5bK8PMim//hT9tnTvwJyOych03E5mJxjYUtLKQiCBltHVqI/xZsPftJn0VYetN547dsHy0BKbX3kP4HzQ46cnWFuXQKzVD0c2YbEMmA7YG1lGtyuRll9v2pJWDtaX67SSoCwdCXUDuw4FIrHqIpLKjUQJ1x6KMe3IckrO8qXTlEZGVwqPZhz5dMpxNEfV+He7SPbC+ORFlj1yP8JtTEf18LmLLF0ILUEcvXwYjKdM7PfFERZmcWTKgd1S8x9/RYxl5XvpQ3G5YWreCpQ25jm35ZoN71E2o9cELUG+8KjUyV4DWJeXRdLMSw0QzS3kUh136KL1czziH9IOt2x+5H4kE/E+9ipI7HkLo/c+EjOry/uct8CtVHT9UfB+v3QLTGx/gcL+RKPnLRASeeQPBOQtpppcWUDVRvTPTIbKZw8WihbM5Rvlw2UFoB9bJgA59Gj1MGfhTuvKk5JUoYlYqKljO3k0IPTcG6i55r9DqgLlVJ1i7DaCpSo7KuvSZZK9bceWILLKu3GdfQe4rbyFvFrnXyL1O7g1ys+cg9wmxC1k18r0Ja6cOME2ZBNNUco8+ANw3CrGBfRGw/+vXiEyuzDxqqV/60qi+tHmuyPR8fXPPzXxBz5GKyra47b26osZLkxHtXfnMkw2vy4aj/zEeQVrDaWViU8bcrBHfibN168TD1UW1KhPfeEjCGjm/M9CgIMMpDXuS6XduOg05dZtusS1lqY7C/eWQsmxRKbLlrcw8lGGdyY/ooln0YiqPMjVtDfdDb8L118fguOYuKDXq6MoopzhMnnKpRBxz6/a6fLTO2bwR/rhS0SUU+ILZF9MpMuphglOHtcPZ0ieIrqcBRQczAzV/mQyRedexNX96LCY+c2ilAa5A+ctmo86qd2Cf/yKU8aMQOit9fneihBev5JscSfKeHIva855G7uTRfEOiOqk2ZfI6IsCBVanG1Wx5MPV4AoE2DyDQllw7cu3JdRgLU6+p1GJii5UnL1pBU3na3j2hviHrqYBeXllBGXKpDOXSqkf2p8oyN2gOxSkW1Ilfd0E7nI7LyGci80WG2SO+ezsS+36hzvczl9m6dKdORuXIfKHZs+D8cQO8Tiu8VgWOdd9AG3cvtPFjqWPyLFWir/pUwra0U7MLwbbP2cEqI77vgDjz0eEYLM4m2SFtctHO1khHLrkVxdeNQeJvk6FOeArKf7/Oz4CY2XaiJPZm3pSxdmrHnxqtj9i6rDqpvplpL9nFGq0JGNTKSoPe8Pmy2+k+fwRK456iNzCnxqHuXMLjOEk5c+WR8mxRaeQMpEfmq5A3KZPPZKQpv5Hw0kds9SIEnx+H4LP3o+yJO6mjJM2ezFnJ3IBGXn4ORQGWb9Uy+B+8A4EpE6CWFMMX1eAccatITHk1vx+BJ6eiZPiVKLl+GMqenQl17z4kiooQnPWaTFcF8l2T9Z0qfJE4mWu3yBAVTbPQsbsfxcHzr0TxkDv4GU0StmEQbi02KJj5Bf1aKhhGYucemoG38fVNaMFSfphaPGIMPPxk+/iwDRI9R2+8DyX3PI4jV9yO8MLKL0yfDqpNmbQiebZEjj2URn25vDKUpn1F+0vTS92qP1fJogzlYfHZ0iTlx4uvFKEgtn5s+1cqCzV84qf1SGzbROuDXNgHXZcuR1eWL6bA3n9IxeLDIWr4d4X3j93gum0UYLGm06XKEpsRlnbt4bzmahZTKTxvMt9pgG2ReyfSe+qUo7zZ6rikF3IfuVuG6NeymGFLmohm6np2m/CXgx2iBt9bJENV4+jTjR8WJ2F5oyvWQj10lJt5ljYtZMzpp1quE3kdMWjbZosAq83THP4avUW4CjwHvyD7uijVIUwdb4B2dAfU3WQuMkhubj8EPk2cyjPch9dB+3WTbFcFlgtugH4CdG3+AFqYFscUr3jyEWwtzipyir6Bum+rqIo+bP1u5n+q4fbtQfz7L1PvYO06EH6H2Cp2lxQh9s/PyHQhU8Nqp5G3HWw9BpDSmOBY+zm962FaP+Uj3CXzsq3zx7WIrVlBI3OQ3iEXlvbnwnZBIXyh9C6ZBzFEvlqG+I9bKF0IisMBc/2GsHbugmDjzBsD2cg5fAjhz6jd2HuTs7RohkiP80XkcbB8uAjq0VLuN9XMQ3yI7iCzHB6o/Bwpuu4HsQFgs8LSvAnfAAjWFWdPDPb3UmzWiP+8i4fznnoQ9oLzqJ00PrPFftqB0nEzqL3FrM4OT7W/jID9m/U0c4lbJAz3Hdelzn2SsLVYiJQvuoFmxGgM5ob14BhYiFDzpnAdOCjOuWh9yw572TmUs2gfIrpLvc4h/VFWU9xAySk+itD8xdzPcPQvoN+7IffnkKUQeic9qNsvvIDXkcT4PyAMqgV2a+LwgPTF5RqvPJ6epQi2I1g8bHRqTcUumsay3cj4HWMok0G1wO7nsXWMekj+LRqZeZYWTWHKdfP7cbFtv6Tu17G7dbXensHXZv9OVOvWuMH/X3xlYeQ+Nobf0OYkVMS37uI3INgGRFKR2LY7u6v376ZIDGNmMqhWvDYzwktW8bMpdleO3aZg9/nYJoK9sKu4J+c7zo343yknpEwGBgbHxzDzDAxOEYYyGRicIgxlMjA4JQD/Cwl3CWk105rXAAAAAElFTkSuQmCC",E=n(46417),A=Z.Z.getCurrentSubscription,_=Z.Z.affiliateCreateRequest,R=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).handleLogoClick=function(e){s.props.history.push(b.Z.BaseURL+y.Z.stepOne)},s.onClickBecomeAffliliate=s.onClickBecomeAffliliate.bind((0,p.Z)(s)),s.state={isBusy:!1,user:null},s}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;C.Z.setItem("lastUrl",y.Z.affiliate_become),v.g.currentAuthenticatedUser().then((function(t){e.setState({user:t}),e.props.getCurrentSubscription(t.username)})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentDidUpdate",value:function(e,t){e.affiliate!=this.props.affiliate&&this.props.affiliate&&this.props.history.push({pathname:b.Z.BaseURL+y.Z.affiliate_Dashboard+"/"+this.props.affiliate.auth_token,state:{affiliate:this.props.affiliate}}),e.affiliateCreateResult!==this.props.affiliateCreateResult&&(this.props.affiliateCreateResult.success?(this.setState({isBusy:!1}),this.logEvent(!0),this.props.history.push({pathname:b.Z.BaseURL+y.Z.affiliate_Dashboard+"/"+this.props.affiliateCreateResult.affiliate.auth_token,state:{affiliate:this.props.affiliateCreateResult.affiliate}})):(this.setState({isBusy:!1}),(0,w.x2)("Error in affiliate creation. Please contact support."),this.logEvent(!1)))}},{key:"onClickBecomeAffliliate",value:function(){this.setState({isBusy:!0}),this.props.affiliateCreateRequest()}},{key:"logEvent",value:function(e){try{e?S().getInstance().logEvent("create-affiliate-successful"):S().getInstance().logEvent("create-affiliate-failed")}catch(e){}}},{key:"render",value:function(){return(0,E.jsx)(c.Fragment,{children:(0,E.jsx)("center",{children:(0,E.jsxs)(u.VK,{forceRefresh:!0,children:[(0,E.jsx)(h.Z,{width:"800px",height:"90px",style:{paddingTop:"20px"},children:(0,E.jsxs)("a",{onClick:this.handleLogoClick,style:{float:"left"},href:"javascript:;",children:[(0,E.jsx)("img",{src:"/icons/logo-octopus-with-pictory.png",height:"48px",alt:"Pictory",title:"Pictory",style:{float:"left"}}),(0,E.jsx)("img",{src:T,alt:"Pictory",title:"Pictory",style:{float:"left",marginTop:"6px"}})]})}),(0,E.jsxs)("div",{className:"divRoundStyle",style:{width:"685px"},children:[(0,E.jsx)("img",{src:I,style:{marginLeft:"510px",marginTop:"-150px"},alt:"Affiliate",title:"Affiliate"}),(0,E.jsxs)("video",{controls:!0,style:{marginTop:"-60px",zIndex:"2",width:"655px",height:"440px",borderRadius:"5px"},children:[(0,E.jsx)("source",{src:k.Z.Instance.GetStaticFile("affiliate_intro.mp4"),type:"video/mp4"}),"Your browser does not support the video tag."]})]}),(0,E.jsxs)("div",{className:"divRoundStyle2",children:[(0,E.jsx)(h.Z,{width:"500px",style:{margin:"10px",marginTop:"390px"},children:(0,E.jsx)(m.Z,{variant:"h4_resp",sx:{lineHeight:"1.1"},children:"You're just one step away from earning recurring income with Pictory!"})}),(0,E.jsx)(g.Z,{onClick:this.onClickBecomeAffliliate,variant:"contained",sx:{textTransform:"unset",width:"170px",marginTop:"5px",borderRadius:"20px",color:"White",border:"none"},children:"Get started now!"})]}),this.state.isBusy&&(0,E.jsx)("div",{style:{height:"200px"},children:(0,E.jsx)(f.Z,{sx:{color:"green"},size:60})}),(0,E.jsx)(j.Z,{})]})})})}}]),n}(c.Component),P=(0,d.EN)((0,l.$j)((function(e){return{affiliateCreateResult:e.subscription.affiliateCreateResult,affiliate:e.subscription.currentSubscription&&e.subscription.currentSubscription.affiliate}}),{affiliateCreateRequest:_,getCurrentSubscription:A})(R)),N=n(74165),O=n(15861),D=n(62463),U=(n(17999),Z.Z.getCurrentSubscription),L=Z.Z.affiliateGetRequest,F=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s,a,i;return(0,r.Z)(this,n),(i=t.call(this,e)).urtInputElement=null,i.handleLogoClick=function(e){i.props.history.push(b.Z.BaseURL+y.Z.stepOne)},i.state={userPromoterUrl:null,affiliate:null===(s=e.location)||void 0===s||null===(a=s.state)||void 0===a?void 0:a.affiliate,showIframe:!1,affiliateStatus:""},i}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;C.Z.setItem("lastUrl",y.Z.affiliate_Dashboard),v.g.currentAuthenticatedUser().then(function(){var t=(0,O.Z)((0,N.Z)().mark((function t(n){return(0,N.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({user:n}),e.props.getCurrentSubscription(n.username),!e.state.affiliate.status){t.next=12;break}if("pending"!==e.state.affiliate.status){t.next=9;break}return t.next=6,e.props.affiliateGetRequest();case 6:t.sent,t.next=10;break;case 9:"inactive"===e.state.affiliate.status?e.setState({affiliateStatus:"inactive"}):e.props.match.params.id&&(e.setState({showIframe:!0}),e.setState({userPromoterUrl:"https://partners.pictory.ai/iframe?at="+e.props.match.params.id}));case 10:t.next=13;break;case 12:e.props.match.params.id&&(e.setState({showIframe:!0}),e.setState({userPromoterUrl:"https://partners.pictory.ai/iframe?at="+e.props.match.params.id}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentDidUpdate",value:function(e,t){setInterval((function(){document.getElementById("link-form")&&(document.getElementById("link-form").innerHTML="")}),1e3)}},{key:"componentWillReceiveProps",value:function(e){this.props.affiliateStatusObject!=e.affiliateStatusObject&&e.affiliateStatusObject&&("pending"==e.affiliateStatusObject.status?this.setState({showIframe:!1,affiliateStatus:"pending"}):"active"==e.affiliateStatusObject.status?this.setState({showIframe:!0,affiliateStatus:"active"}):"inactive"==e.affiliateStatusObject.status&&this.setState({showIframe:!1,affiliateStatus:"inactive"}))}},{key:"render",value:function(){return(0,E.jsx)(c.Fragment,{children:(0,E.jsx)("div",{className:"full-height",style:{display:this.state.redirectToAspectRatio?"none":"block"},children:(0,E.jsx)(u.VK,{forceRefresh:!1,children:(0,E.jsxs)(E.Fragment,{children:["            ",(0,E.jsxs)(h.Z,{style:{height:"100vh",width:"100vw"},children:[(0,E.jsxs)("a",{onClick:this.handleLogoClick,style:{float:"left",padding:"10px 0 0 20px"},href:"javascript:;",children:[(0,E.jsx)("img",{src:"/icons/logo-octopus-with-pictory.png",height:"48px",alt:"Pictory",title:"Pictory",style:{float:"left"}}),(0,E.jsx)("img",{src:T,alt:"Pictory",title:"Pictory",style:{float:"left",marginTop:"6px"}})]}),this.state.userPromoterUrl&&this.state.showIframe&&(0,E.jsx)("iframe",{style:{height:"90vh",width:"100vw",border:"0"},src:this.state.userPromoterUrl})]}),!this.state.showIframe&&"pending"==this.state.affiliateStatus&&(0,E.jsxs)(D.Z,{sx:{width:"480px",position:"absolute",top:"120px",left:"50px"},children:[(0,E.jsx)(m.Z,{variant:"text_lg",children:"Thank you for applying to partner with us!"}),(0,E.jsx)(m.Z,{variant:"text_lg",children:" Your application is currently under review by our team."}),(0,E.jsx)(m.Z,{variant:"text_lg",sx:{mt:"1rem"},children:"You'll hear back from us within the next 72 hours."})]}),!this.state.showIframe&&"inactive"==this.state.affiliateStatus&&(0,E.jsxs)(D.Z,{sx:{width:"480px",position:"absolute",top:"120px",left:"50px"},children:[(0,E.jsx)(m.Z,{variant:"text_lg",children:"Thank you for applying to partner with us! "}),(0,E.jsx)(m.Z,{variant:"text_lg",children:"Unfortunately, your application has been rejected."}),(0,E.jsx)(m.Z,{variant:"text_lg",sx:{mt:"1rem"},children:"Please check your email for further information."})]})]})})})})}}]),n}(c.Component),V=(0,d.EN)((0,l.$j)((function(e){return{affiliate:e.subscription.currentSubscription&&e.subscription.currentSubscription.affiliate,affiliateStatusObject:e.subscription&&e.subscription.affiliateGetResult&&e.subscription.affiliateGetResult.affiliateStatusObject}}),{getCurrentSubscription:U,affiliateGetRequest:L})(F)),B=n(93433),M=n(66859),G=n(3079),W=n(80699),z=n(12757),J=n(95352),H=n(10056),K=n(45987),q=n(44282),Y=n(67829),Q=n(1851),X=n(12309),$=n(68537),ee=n(56790),te=n(91104),ne=["seContextMenu","handleClose","xPos","yPos","onClose","isFiller","onSECopy","onSEPaste","onSEHighlight","onSEDelete","isSETextSelected"];function re(e){var t=e.seContextMenu,n=e.handleClose,r=(e.xPos,e.yPos,e.onClose,e.isFiller,e.onSECopy),s=e.onSEPaste,a=e.onSEHighlight,i=e.onSEDelete,c=e.isSETextSelected,l=(0,K.Z)(e,ne),u=[{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(Y.Z,{fontSize:"small"}),text:"Copy",keyboardShortcut:"MacOS"===(0,te.L9)()?"⌘C":"Ctrl+C"}),condition:function(){return!0},onClick:r,disabled:!c},{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(Q.Z,{fontSize:"small"}),text:"Paste",keyboardShortcut:"MacOS"===(0,te.L9)()?"⌘V":"Ctrl+V"}),condition:function(){return!0},onClick:s},{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(X.Z,{fontSize:"small"}),text:"Highlight"}),condition:function(){return!0},onClick:a,disabled:!c},{handle:"",divider:!0},{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)($.Z,{fontSize:"small",sx:{color:"error.main"}}),text:"Delete",textColor:"error.main",keyboardShortcut:"Del"}),condition:function(){return!0},onClick:i,disabled:!c}];return(0,E.jsx)(q.Z,(0,o.Z)({open:null!==t,onClose:n,anchorReference:"anchorPosition",anchorPosition:null!==t?{top:t.mouseY,left:t.mouseX}:void 0,menu:u},l))}var se=n(71659),ae=n(76666),ie=n.n(ae),oe=(n(19469),n(75192)),ce=n.n(oe),le=n(58890),ue=n(92145),de=n(33834),pe=n(66423),he=(n(35005),n(52740)),me=n(68144),ge=n.n(me),fe=n(56434),ve=n.n(fe),xe=n(20285),Se=n(96887),ye=n(45749),be=n(10770),je=n(22650),we=n(33783),Ze=n(46900),ke=n.n(Ze),Ce=n(47439),Ie=n(29439),Te=n(78503),Ee=n(41293),Ae=n(47434),_e=n(92641),Re=n(89956),Pe=Z.Z.saveImage,Ne=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).grid=8,s.saveBlob=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,o,c,l,u;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=5,a=n,i=s.state.user.username+"/assets",!t.type.match("video.*")){e.next=11;break}return i+="videos/",e.next=7,(0,Ee.Z)(t.blob);case 7:o=e.sent,r=o,e.next=12;break;case 11:t.type.match("image.*")&&(i+="images/");case 12:return c=t.title.split(".").pop().toLowerCase(),l="".concat(i).concat((0,te.DO)(),".").concat(c),u={level:"public",ACL:"public-read",progressCallback:function(e){var t=Math.ceil(e.loaded/e.total*100),n=document.getElementById("progress-".concat(a));n&&(n.style.width?parseInt(n.style.width.replace("%","")):0)<t&&(n.style.width=t+"%")}},"image/svg+xml"==t.blob.type&&(u.contentType="image/svg+xml"),e.next=18,(0,Re.d)();case 18:Te.Ke.put(l,t.blob,u).then((function(e){var t=(0,B.Z)(s.state.files),n=t[a];n.progress=100,n.duration=r,delete n.blob,n.src=k.Z.Instance.GetUserUploadUrl(l,"public"),t.splice(a,1,n),s.setState({files:t})}));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.uploadAssests=function(){for(var e=0;e<s.state.files.length;e++){var t=s.state.files[e];s.saveBlob(t,e)}},s.getItemStyle=function(e,t){return(0,o.Z)({userSelect:"none",padding:0,paddingRight:s.grid,margin:"0 ".concat(s.grid,"px ").concat(2*s.grid,"px 0"),background:e?"lightgreen":"white"},t)},s.getListStyle=function(e){return{padding:s.grid,paddingLeft:0}},s.reorder=function(e,t,n){var r=Array.from(e),s=r.splice(t,1),a=(0,Ie.Z)(s,1)[0];return r.splice(n,0,a),r},s.onDragEnd=function(e){if(e.destination){var t=s.reorder(s.state.files,e.source.index,e.destination.index);s.setState({files:t})}},s.addTags=function(e,t){if(e&&""!=e.trim()){var n=s["addTags-".concat(t)],r=(0,B.Z)(s.state.files),a=r[t];a.tags&&a.tags.length?a.tags=[].concat((0,B.Z)(a.tags),[e]):a.tags=[e],r.splice(t,1,a),s.setState({files:r},(function(){n&&(n.value="")}))}},s.removeTag=function(e,t){var n=(0,B.Z)(s.state.files),r=n[t];r.tags&&r.tags.length&&r.tags.splice(e,1),n.splice(t,1,r),s.setState({files:n})},s.handleAddMoreFiles=function(e){for(var t=Array.from(e.target.files),n=[],r=[],a=0;a<t.length;a++){var i,o,c=t[a],l=c.size/1e6;Ce.tP.video.includes(c.type)&&l<(null===(i=s.props.fileValidations)||void 0===i?void 0:i.videoUploadMaxSize)||Ce.tP.image.includes(c.type)&&l<(null===(o=s.props.fileValidations)||void 0===o?void 0:o.imageUploadMaxSize)?n.push(c):r.push({name:c.name,type:"invalid"})}for(var u=function(e){var t=n[e],r=t.size/1e6,a=new FileReader,i=(0,te.DO)();a.onloadend=function(){"invalid"!==t.type?s.setState({files:[].concat((0,B.Z)(s.state.files),[{id:i,src:a,title:t.name,size:t.size,progress:0,blob:t,type:t.type,isActive:!0,isVideo:t.type.includes("video")}])},(function(){var e=s.state.files.findIndex((function(e){return e.id==i}));-1!=e&&s.saveBlob(s.state.files[e],e)})):s.setState({invalidFiles:[].concat((0,B.Z)(s.state.invalidFiles),[{name:t.name,size:r}])})},a.readAsDataURL(t)},d=0;d<n.length;d++)u(d);r.length>0&&(e.target.value="",s.setState({invalidFiles:r,showFileUploadErrorOverlay:!0}))},s.saveImages=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,a,i;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.props.loading(!0),t=s.state.files.length-1;case 2:if(!(t>=0)){e.next=12;break}return r=s.state.files[t],a={id:Date.now(),cognito_id:s.state.user.username,url:(null===(n=r.src)||void 0===n?void 0:n.result)||r.src,Tags:r.tags?r.tags.join(","):"",createdDate:(new Date).toISOString(),name:r.title?r.title.split(".")[0]:""},i={body:a},e.next=8,s.props.saveImage(i);case 8:s.setState({isSaved:!0});case 9:t--,e.next=2;break;case 12:case"end":return e.stop()}}),e)}))),s.gotoStep3=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n,r,a){var i,o,c,l,u,d;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.isSaved){e.next=3;break}return e.next=3,s.saveImages();case 3:for(s.props.loading(!1),i=[],o=[],c=0;c<s.state.files.length;c++)l=s.state.files[c],u={sentence:"",keywords:[],type:"summary",image:l.src,subsentences:[""],startTime:0,endTime:l.duration?l.duration:5},i.push(u),o.push(l.duration?l.duration:5);d={cognito_id:s.state.user.username,email:s.state.user.attributes.email,saveDate:new Date,projectName:"Untitled",project_id:Date.now(),isNewProject:!0,source:"visuals",template:a},S().getInstance().logEvent("visuals-to-Video-go-to-step3",{source:"visuals","project-id":d.project_id}),s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{summaryJson:i,url:"",sentences:5,originalText:"",baseText:"",summaryText:"",imageURL:[],timePerFrame:o,isPrevious:!1,isSummaryOff:!1,lines:0,value:100,totalLines:0,sendOriginalText:!0,isSkipStep2:!0,startingSummary:"",allSummaryText:"",mainOriginalText:"",metaDescription:"",articleKeywords:void 0,projectDetails:d,aspectRatioValue:t,aspectRatioClass:n,aspectRatioFractionValue:r,title:"Untitled",autoVisualSelection:!1,autoHighlightKeywords:!1}});case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),s.state={files:s.props.files,user:s.props.user,invalidFiles:[]},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.uploadAssests()}},{key:"componentWillReceiveProps",value:function(e){e.aspectRatioClass!=this.props.aspectRatioClass&&this.gotoStep3(e.aspectRatioValue,e.aspectRatioClass,e.aspectRatioFractionValue,e.template)}},{key:"render",value:function(){var e=this;return(0,E.jsxs)("div",{id:"arrange-visuals-page",className:"focus-overlay-element big-modal absolute-centered vertical-flex p-6",children:[(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:[(0,E.jsxs)("div",{className:"vertical-flex",children:[this.state.files.filter((function(e){return e.progress>99})).length==this.state.files.length?(0,E.jsx)(m.Z,{variant:"h5_resp",sx:{fontWeight:500},color:"grey.700",children:"Arrange and tag files"}):(0,E.jsxs)(m.Z,{variant:"h5_resp",sx:{fontWeight:500},color:"grey.700",children:["Uploading ",this.state.files.filter((function(e){return 100!=e.progress})).length," files ..."]}),this.state.files.filter((function(e){return e.progress>99})).length&&(0,E.jsxs)(m.Z,{variant:"subtitle2a_resp",color:"grey.400",children:["Drag to change the sequence for storyboard"," "]})||""]}),(0,E.jsxs)("div",{className:"horizontal-flex flex-end-center",children:[(0,E.jsx)(g.Z,{type:"button",className:"no-box-shadow btn btn-light theme-color mr-3 rounded-corners",onClick:function(){return e.addMoreFiles.click()},children:"+ Add more files"}),(0,E.jsx)("input",{ref:function(t){return e.addMoreFiles=t},style:{display:"none"},type:"file",id:"visual-to-upload",multiple:!0,onChange:this.handleAddMoreFiles,accept:"image/*,video/*"}),this.state.files.filter((function(e){return e.progress>99})).length==this.state.files.length?(0,E.jsx)(g.Z,{variant:"contained",onClick:function(){return e.gotoStep3()},children:"Proceed"}):(0,E.jsx)(g.Z,{type:"button",className:"no-box-shadow btn btn-danger rounded-corners",onClick:function(){return e.props.openVisualArrangements([],!0)},children:"Cancel all"})]})]}),(0,E.jsx)(Ae.Z5,{onDragEnd:this.onDragEnd,children:(0,E.jsx)(Ae.bK,{droppableId:"droppable",isDropDisabled:this.state.files.filter((function(e){return 100==e.progress})).length!=this.state.files.length,children:function(t,n){return(0,E.jsxs)("div",(0,o.Z)((0,o.Z)({className:"uploading-visuals-list mCustomScrollbar track-list"},t.droppableProps),{},{ref:t.innerRef,style:e.getListStyle(n.isDraggingOver),children:[e.state.files.map((function(t,n){return(0,E.jsx)(Ae._l,{draggableId:t.id,index:n,isDragDisabled:e.state.files.filter((function(e){return 100==e.progress})).length!=e.state.files.length,children:function(r,s){var a;return(0,E.jsxs)("div",(0,o.Z)((0,o.Z)((0,o.Z)({className:"uploading-visuals-list-item horizontal-flex flex-space-between",ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{style:e.getItemStyle(s.isDragging,r.draggableProps.style),children:[(0,E.jsxs)("span",{className:"title",style:{minWidth:"20px"},children:[n+1,"."]}),(0,E.jsx)("div",{className:"thumb-image-container rounded-corners",children:null!==(a=t.src)&&void 0!==a&&a.result?t.isVideo?(0,E.jsx)("video",{autoPlay:!0,muted:!0,src:t.src.result,className:"thumb-image rounded-corners"}):(0,E.jsx)("div",{style:{backgroundImage:"url("+t.src.result+")"},className:"thumb-image rounded-corners"}):(0,E.jsx)("span",{children:" "})}),(0,E.jsx)("span",{className:"title",children:t.title}),t.progress<100&&(0,E.jsxs)("span",{className:"subtitle",children:[Math.floor(t.size/1e6)," MB"]}),!1,t.progress>99&&(0,E.jsxs)("div",{className:"horizontal-flex flex-filler",children:[(0,E.jsx)(_e.Z.Control,{size:"sm",type:"text",placeholder:"Tags",className:"max-width-200 mr-1",ref:function(t){return e["addTags-".concat(n)]=t},onBlur:function(t){return e.addTags(t.target.value,n)}}),(0,E.jsx)("div",{className:"buttons-container",children:(t.tags||[]).map((function(t,r){return(0,E.jsxs)(g.Z,{className:"naked-button mr-1",variant:"secondary",size:"xs",children:[t,"  ",(0,E.jsx)("i",{className:"fa fa-times-circle clickable","aria-hidden":"true",onClick:function(){e.removeTag(r,n)}})]})}))})]}),t.progress<100&&(0,E.jsx)("div",{className:"flex-filler",children:" "}),t.progress<100&&(0,E.jsx)("div",{className:"progress max-width-200 mr-2",children:(0,E.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:t.progress+"%"},"aria-valuenow":t.progress,"aria-valuemin":"0","aria-valuemax":"100",id:"progress-".concat(n)})}),100===t.progress?(0,E.jsxs)(g.Z,{type:"button",className:"btn btn-sm min-width-100 horizontal-flex flex-centered naked-button btn-light",children:[(0,E.jsx)("i",{className:"fa fa-check green","aria-hidden":"true"}),"  Completed"]}):""]}))}},t.id)})),t.placeholder]}))}})}),this.state.showFileUploadErrorOverlay&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"focus-overlay-wrapper",children:" "}),(0,E.jsxs)("div",{className:"absolute-centered focus-overlay-element small-modal vertical-flex p-6",children:[(0,E.jsx)("span",{className:"font-size-45 bold ",children:"File upload"}),(0,E.jsx)("p",{className:"mt-2 mb-4 font-size-45",children:"Please select correct files"}),(0,E.jsx)("div",{className:"dont-show-scrollbar",style:{maxHeight:"100px",overflow:"auto"},children:this.state.invalidFiles.map((function(e,t){return null!=e.size?(0,E.jsxs)("p",{className:"mt-0 mb-1 font-size-5 gray",children:[(0,E.jsx)("i",{className:"fa fa-exclamation-triangle red mr-2","aria-hidden":"true"}),e.name,(0,E.jsx)("span",{className:"min-width-100",children:" "}),(0,E.jsxs)("span",{children:[Math.floor(e.size)," Mb"]})," "]}):e.type?(0,E.jsxs)("p",{className:"mt-0 mb-1 font-size-5 gray",children:[(0,E.jsx)("i",{className:"fa fa-exclamation-triangle red mr-2","aria-hidden":"true"}),"Invalid file - ",e.name," "]}):void 0}))}),(0,E.jsx)("div",{className:"flex-filler",children:" "}),(0,E.jsx)("div",{className:"horizontal-flex flex-end-center mt-2 mb-4",children:(0,E.jsx)("button",{type:"button",className:"btn btn-primary blue-background",onClick:function(){e.setState({showFileUploadErrorOverlay:!1,invalidFiles:[]})},children:"OK"})})]})]})]})}}]),n}(c.Component),Oe=(0,l.$j)((function(e){return{saveImageStatus:e.uploadImage.saveImageStatus}}),{saveImage:Pe})(Ne),De=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).updateSupportedPlatforms=function(e){s.setState({supportedPlatforms:e})},s.state={supportedPlatforms:[]},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){C.Z.setItem("lastUrl",y.Z.chooseAspectRatio)}},{key:"render",value:function(){var e=this;return(0,E.jsxs)("div",{id:"aspect-ratio-page",children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsxs)("div",{className:"page-content d-flex align-items-stretch my-videos-screen",children:[(0,E.jsxs)(D.Z,{direction:"row",spacing:2,sx:{width:"100%",pt:"20px"},children:[(0,E.jsx)(m.Z,{variant:"h5_resp",sx:{width:"25%"}}),(0,E.jsxs)(m.Z,{variant:"h5_resp",sx:{width:"50%",fontWeight:"500",display:"flex",justifyContent:"center",color:"grey.800"},children:[" ","Choose an aspect ratio for the video"]}),(0,E.jsx)(h.Z,{sx:{width:"25%",textAlign:"right"},children:(0,E.jsxs)("a",{href:!0,className:"naked-link blue floated-right align-with-headers center-aligned",onClick:function(){return e.props.isRedirectToArrangeVisuals?e.props.selectAspectRatioForVisuals(pe.Jb,pe.TJ,pe.Wi):e.props.gotoCreateVideoStep3(pe.Jb,pe.TJ,pe.Wi)},style:{marginRight:"36px",fontSize:"15px"},children:["Skip",(0,E.jsx)("br",{}),(0,E.jsx)("span",{className:"description",children:"You can change it later"})]})})]}),(0,E.jsxs)("main",{className:"content-inner tabs-panel",children:[(0,E.jsx)(pe.ZP,{isMiddlePage:!0,containerLabel:!1,username:this.props.username,layout:"normal",hoveringEnabled:!0,updateSupportedPlatforms:this.updateSupportedPlatforms,gotoCreateVideoStep3:this.props.gotoCreateVideoStep3,isRedirectToArrangeVisuals:this.props.isRedirectToArrangeVisuals,selectAspectRatioForVisuals:this.props.selectAspectRatioForVisuals}),(0,E.jsx)(m.Z,{variant:"caption_resp",sx:{mb:"18px",mt:"10px",width:"100%",display:"flex",justifyContent:"center"},children:"Supported platforms"}),(0,E.jsxs)("div",{className:"circle-icons-container",children:[(0,E.jsx)("img",{className:["circle-icon",this.state.supportedPlatforms.length&&this.state.supportedPlatforms.indexOf("twitter")<0?"faded-out":""].join(" "),src:"/icons/social/twitter.png",alt:"twitter"}),(0,E.jsx)("img",{className:["circle-icon",this.state.supportedPlatforms.length&&this.state.supportedPlatforms.indexOf("linkedin")<0?"faded-out":""].join(" "),src:"/icons/social/linkedin.png",alt:"linkedin"}),(0,E.jsx)("img",{className:["circle-icon",this.state.supportedPlatforms.length&&this.state.supportedPlatforms.indexOf("youtube")<0?"faded-out":""].join(" "),src:"/icons/social/youtube.png",alt:"youtube"}),(0,E.jsx)("img",{className:["circle-icon",this.state.supportedPlatforms.length&&this.state.supportedPlatforms.indexOf("facebook")<0?"faded-out":""].join(" "),src:"/icons/social/facebook.png",alt:"facebook"}),(0,E.jsx)("img",{className:["circle-icon",this.state.supportedPlatforms.length&&this.state.supportedPlatforms.indexOf("instagram")<0?"faded-out":""].join(" "),src:"/icons/social/instagram.png",alt:"instagram"})]})]})]})]})}}]),n}(c.Component),Ue=n(51690),Le=n(54034),Fe=n(30715),Ve=n(51175),Be=n.p+"static/media/affiliate_graphic_4.6434ba99163f9658096f.png";n(21628),n.p;var Me=n(78061),Ge=n(15422),We=n(52927),ze=n(86315),Je=n(51987),He=n(4942),Ke=n(82937),qe=n(18104),Ye=n(93523),Qe=n(68097),Xe=n(27018),$e=n(82315),et=n(72905),tt=n(65620),nt=n(99995),rt=n(16390),st=n(16031),at=n.n(st),it=n(76657),ot=n.n(it),ct=n(18248),lt=n(46123),ut=n.n(lt),dt=n(86171),pt=["className","onClickOk","onClickCancel"];function ht(e){var t=e.className,n=e.onClickOk,r=e.onClickCancel,s=(0,K.Z)(e,pt),a=c.useState(""),i=(0,Ie.Z)(a,2),l=i[0],u=i[1];function d(){r&&r()}return(0,E.jsx)(We._c,(0,o.Z)((0,o.Z)({className:ut()("create-folder-dialog",t),fullWidth:!0,divider:!0,disableEscapeKeyDown:!0,disableBackdropClick:!0,title:"Create Folder",onClose:d,actions:(0,E.jsxs)(D.Z,{direction:"row",spacing:1.5,children:[(0,E.jsx)(g.Z,{variant:"outlined",onClick:d,children:"Cancel"}),(0,E.jsx)(g.Z,{type:"submit",variant:"contained",color:"primary",onClick:function(){n&&n(l)},children:"Create"})]})},s),{},{children:(0,E.jsx)(dt.Z,{autoFocus:!0,fullWidth:!0,label:"Folder name",placeholder:"Type here...",value:l,onChange:function(e){return u(e)}})}))}var mt=n(92769),gt=n(14108),ft=n(73507),vt=n(34518),xt=(n(22845),n(79833),n(28566)),St=n(81962),yt=n(34940),bt=n(29868),jt=Z.Z.getFolders,wt=Z.Z.getFolderNameBegin,Zt=Z.Z.duplicateFolder,kt=(0,l.$j)((function(e){return{folderTree:e.myVideos.folderTree,newProjectName:e.projectTitle.projectName,filter:e.myVideos.deletedProjects}}),{getFolders:jt,getFolderNameBegin:wt,saveFolder:Zt})((function(e){var t=(0,c.useState)({}),n=(0,Ie.Z)(t,2),r=n[0],s=(n[1],(0,c.useState)(!1)),a=(0,Ie.Z)(s,2),i=a[0],l=a[1],u=(0,c.useState)(null),d=(0,Ie.Z)(u,2),p=d[0],h=d[1],m=(0,c.useState)(null),g=(0,Ie.Z)(m,2),f=g[0],x=g[1],S=(0,c.useState)(null),y=(0,Ie.Z)(S,2),b=y[0],j=y[1],w=c.useRef();function Z(t){v.g.currentAuthenticatedUser().then((function(n){e.getFolders(n.username,t.pathValue,t.project_id)})).catch((function(e){}))}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,O.Z)((0,N.Z)().mark((function t(n){var r;return(0,N.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n.replace(/\s*\(.*?\)\s*/g,""),t.next=4,e.getFolderNameBegin(e.user.username,r,(0,o.Z)((0,o.Z)({},p),{},{parentId:null}));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return(T=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.value)){e.next=5;break}return l(!0),e.next=5,k(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){e.show!==f&&(x(e.show),v.g.currentAuthenticatedUser().then((function(t){e.getFolders(t.username,e.node.pathValue,e.node.project_id)})).catch((function(e){})))}),[e.show]),(0,c.useEffect)((function(){r.project_id&&Z(r)}),[r.project_id]),(0,c.useEffect)((function(){if(e.newProjectName&&p&&i){var t,n,s=function(){var t=(0,O.Z)((0,N.Z)().mark((function t(){return(0,N.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveFolder(d);case 2:Z(r);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();l(!1);var a=e.newProjectName,c=Date.now();j({projectName:a,project_id:c}),h(null);var u={};u.projectType=Ce.cd.Folder,u.projectName=a,u.project_id=c,u.saveDate=new Date,u.cognito_id=e.user.username,null!==(null===(t=e.user)||void 0===t?void 0:t.attributes.email)&&""!==(null===(n=e.user)||void 0===n?void 0:n.attributes.email)&&(u.email=e.user.attributes.email),(0,te.VO)(e.user.username)&&(u.name=(0,te.VO)(e.user.username));var d={body:(0,o.Z)((0,o.Z)({},u),{},{parentId:null})};w.current=u,s(d,e.saveFolder)}}),[e.newProjectName]),c.useEffect((function(){return function(){w.current&&e.onCreateFolder(w.current)}}),[]),function(t){var n,r,s;if(!t)return(0,E.jsx)("div",{style:{width:120},children:(0,E.jsx)(xt.Z,{})});var a="ROOT"!==t.project_id,i=null===(n=t.children)||void 0===n?void 0:n.filter((function(t){var n,r,s,a;return!(t.project_id==(null==b?void 0:b.project_id)||t.project_id==(null===(n=e.project)||void 0===n?void 0:n.project_id)||null!==(r=e.project)&&void 0!==r&&r.pathValue.includes(t.project_id)||null!==(s=e.selectedProjects)&&void 0!==s&&s.some((function(e){return null==e?void 0:e.pathValue.includes(t.project_id)}))||null!==(a=e.filter)&&void 0!==a&&a.some((function(e){return(null==e?void 0:e.project_id)===t.project_id}))||-1!=(e.selectedProjects?e.selectedProjects.findIndex((function(e){return e.project_id==t.project_id})):-1))}));return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{style:{position:"relative"},children:[a&&(0,E.jsx)(St.Z,{children:t.projectName}),"/"!==(null===(r=e.project)||void 0===r?void 0:r.pathValue)&&!(null!==(s=e.selectedProjects)&&void 0!==s&&s.some((function(e){return"/"===(null==e?void 0:e.pathValue)})))&&[(0,E.jsx)(St.Z,{onClick:function(t){t.preventDefault&&t.preventDefault(),e.moveProjects(e.project,{project_id:null,projectName:"My projects"})},children:"My Projects"}),(0,E.jsx)(yt.Z,{})],i.map((function(t,n){return(0,E.jsx)(St.Z,{onClick:function(n){n.preventDefault&&n.preventDefault(),e.moveProjects(e.project,t)},children:t.projectName},n)})),b&&(0,E.jsx)(St.Z,{onClick:function(t){t.preventDefault&&t.preventDefault(),e.moveProjects(e.project,b)},children:b.projectName}),(i.length>0||b)&&(0,E.jsx)(yt.Z,{}),(0,E.jsx)(St.Z,{onClick:function(e){e.preventDefault&&e.preventDefault(),function(e){h(e)}(t)},children:p&&t.project_id===p.project_id?(0,E.jsx)(bt.default,{autoFocus:!0,variant:"standard",sx:{fontStyle:"italic"},onKeyDown:function(e){return e.stopPropagation()},onKeyPress:function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),"Enter"!==t.key){e.next=4;break}return e.next=4,I(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):(0,E.jsx)("span",{style:{color:"#5F6178"},children:"+ Create new folder"})})]})})}(Object.keys(r).length?r:e.folderTree)})),Ct=n(41769),It=n(70816),Tt=n.n(It),Et=n(33538),At=(n(42599),n(43997)),_t=n(3859),Rt=n(91508),Pt=n(88839),Nt=n(71717),Ot=(n(14839),n(35235));function Dt(e){var t=e.areCompletedTasks,n=e.index,r=e.project,s=e.imageUrl,a=(e.projectId,e.showDownload,e.responseId,e.singleVideoUrl),i=void 0===a?void 0:a,o=e.showCheckbox,l=e.onDownload,u=e.onSelect,d=e.onShare,p=e.onClick,m=(e.taskIds,e.selectedVideoId),g=e.completedTasks,f=e.currentProject,v=c.useState(!1),x=(0,Ie.Z)(v,2),S=x[0],y=x[1];if(!r)return null;var b=r.project_id?r.project_id:r.id,j=r.projectName?r.projectName:r.name,w=r.project_id?r.videoURL?r.videoURL:i:r.output.videoURL,Z=(s=r.project_id?s:w).includes("rgb");1==s.includes("/images.unsplash.")&&(Z=!1),0==t&&g&&g.Items&&g.Items.length&&(t=!0);var k="0px";"/images/myfolder-placeholder.png"!=s&&"/images/myprojects-placeholder.png"!=s||(k="20px"),k=s.indexOf("/images/myfolder-placeholder.jpg")>=0?"20px":"10px";var C=!!m;return(0,E.jsxs)("div",{className:"asset-tile-assetview",children:[(0,E.jsxs)("div",{className:"vid-outerbox","data-type":"outerbox",onClick:p,onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},children:[(0,E.jsx)(h.Z,{sx:{width:"28px",height:"28px",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",borderRadius:"50%",zIndex:10,top:"10px",left:"10px"},onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),d(r,!0)},children:(0,E.jsx)(Ot.Z,{sx:{color:"white",width:"25px",height:"27px",paddingLeft:"3px"}})}),(0,E.jsx)(Ct.Z,{checked:C,hidden:!C&&!S||!o,onChange:function(e){var t=e.target.checked;u(t,r.project_id,r)},onClick:function(e){e.stopPropagation()},className:"delete-checkbox",style:{marginTop:k},inputProps:{"aria-label":"controlled"}}),(0,E.jsx)("div",{className:"inner-vdbox",style:{width:"100%",cursor:t?"pointer":"auto"},children:Z?"":"video"===(0,te.Q5)(s)?(0,E.jsx)("video",{muted:!0,src:s,style:{borderRadius:"8px"},width:"100%",height:"auto"}):(0,E.jsx)("img",{src:s,alt:j,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}})})]}),(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"28px"},children:[(0,E.jsx)(W.Z,{arrow:!0,title:f?f.name:j,children:(0,E.jsxs)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%"},id:"project-title-"+b,"data-placement":"bottom",children:[t&&(0,E.jsxs)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:[-1==n?"":n+1+". ",f?f.name:j]}),!t&&(0,E.jsx)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:f?f.name:j})]})}),(0,E.jsx)(q.Z,{trigger:function(e,t){return(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":t?"long-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",size:"small",sx:{p:0},onClick:e,children:(0,E.jsx)(At.Z,{fontSize:"inherit",sx:{p:0}})})},menu:[{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(Rt.Z,{fontSize:"small"}),text:"Download",width:"100px"}),onClick:function(e){var t=e.close;l(w,j),t()}},{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(ft.Z,{fontSize:"small",sx:{transform:"scaleX(-1)"}}),text:"Share",width:"100px"}),onClick:function(e){var t=e.close;d(r,!1),t()}}]})]})]},"videotitle-"+b)}function Ut(e){var t=e.index,n=e.project,r=e.imageUrl,s=(e.projectId,e.showDownload,e.responseId,e.singleVideoUrl,e.showCheckbox),a=e.onDownload,i=e.onSelect,o=e.onShare,l=e.onClick,u=e.taskIds,d=(e.completedTasks,e.currentProject),p=c.useState(!1),m=(0,Ie.Z)(p,2),g=m[0],f=m[1];if(!n)return null;var v=n.id,x=n.name,S=n.output.videoURL,y="0px";"/images/myfolder-placeholder.png"!=(r=S||"")&&"/images/myprojects-placeholder.png"!=r||(y="20px"),y=r.indexOf("/images/myfolder-placeholder.jpg")>=0?"20px":"10px";var b=-1!=(null==u?void 0:u.findIndex((function(e){return e==n.id})));return(0,E.jsxs)("div",{className:"asset-tile-assetview",children:[(0,E.jsxs)("div",{className:"vid-outerbox","data-type":"outerbox",onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:l,children:[(0,E.jsx)(h.Z,{sx:{width:"28px",height:"28px",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",borderRadius:"50%",zIndex:10,top:"10px",left:"10px"},onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),o(!0)},children:(0,E.jsx)(Ot.Z,{sx:{color:"white",width:"25px",height:"27px",paddingLeft:"3px"}})}),(0,E.jsx)(Ct.Z,{checked:b,hidden:!b&&!g||!s,onChange:function(e){var t=e.target.checked;i(t,n.id,n)},onClick:function(e){e.stopPropagation()},className:"delete-checkbox",style:{marginTop:y},inputProps:{"aria-label":"controlled"}}),(0,E.jsx)("div",{className:"inner-vdbox",style:{width:"100%",cursor:"pointer"},children:r.includes("rgb")?"":"video"===(0,te.Q5)(r)?(0,E.jsx)("video",{muted:!0,src:r,style:{borderRadius:"8px"},width:"100%",height:"auto"}):(0,E.jsx)("img",{src:r,alt:x,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}})})]}),(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"28px"},children:[(0,E.jsx)(W.Z,{arrow:!0,title:d?d.name:x,children:(0,E.jsx)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%"},id:"project-title-"+v,"data-placement":"bottom",children:(0,E.jsxs)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:[-1==t?"":t+1+". ",d?d.name:x]})})}),(0,E.jsx)(q.Z,{trigger:function(e,t){return(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":t?"long-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",size:"small",sx:{p:0},onClick:e,children:(0,E.jsx)(At.Z,{fontSize:"inherit",sx:{p:0}})})},menu:[{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(Rt.Z,{fontSize:"small"}),text:"Download",width:"100px"}),onClick:function(){return a(S,x)}},{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(ft.Z,{fontSize:"small",sx:{transform:"scaleX(-1)"}}),text:"Share",width:"100px"}),onClick:function(){return o(!1)}}]})]})]},"videotitle-"+v)}function Lt(e){var t,n,r,s=e.activeProject,a=e.activeProjectResponse,i=e.completedTasks,o=e.taskIds,c=e.selectedVideoId,l=e.currentProject,u=e.onDownload,d=e.onSelectTask,p=e.onSelectProject,h=e.onClickTask,m=e.onShareVideo,g=e.onShareTask,f=!0;if(s&&!s.videoURL)if(a&&a.output)t=a.output,n=a.output;else{if(i&&i.Items&&0==i.Items.length)return(0,E.jsx)(Pt.default,{title1:"No video",title2:"generated yet"});f=!1}return t||(t=s.scenes&&s.scenes.length>0&&(s.scenes[0].image?s.scenes[0].image===Ce.FS?"/images/myprojects-placeholder.png":s.scenes[0].image:s.scenes[0].backColor)||"/images/myprojects-placeholder.png",t=s.scenes&&s.scenes.length>1&&null!==(r=s.scenes[0].settings)&&void 0!==r&&r.hideScene&&s.scenes[1].image?s.scenes[1].image:t),(0,E.jsx)("div",{className:"col-md-12",style:{paddingTop:"10px"},children:(0,E.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,E.jsxs)("div",{className:"row",children:[f&&(0,E.jsx)(Dt,{areCompletedTasks:!1,index:-1,project:s,imageUrl:t,responseId:void 0,singleVideoUrl:n,projectId:s.project_id,completedTasks:i,selectedVideoId:c,currentProject:l,showCheckbox:!0,onDownload:u,onSelect:p,onShare:m,onClick:function(){return h(s,-1)}}),i&&i.Items&&i.Items.map((function(e,t){return(0,E.jsx)(Ut,{index:t,project:e,imageUrl:e.output.VideoURL,projectId:s.project_id,completedTasks:i,taskIds:o,currentProject:l,showCheckbox:!0,onDownload:u,onSelect:d,onClick:function(){return h(e,t)},onShare:function(n){return g(e,t,n)}},e.id)}))]})})})}var Ft,Vt=n(48527),Bt=n(61975),Mt=n(80277),Gt=n(31666),Wt=n(2983),zt=n(31881),Jt=Z.Z.getMyVideos,Ht=Z.Z.searchMyVideos,Kt=Z.Z.saveProject,qt=Z.Z.deleteProject,Yt=Z.Z.getProjectNameBegin,Qt=Z.Z.getDataFromResponseId,Xt=Z.Z.openProject,$t=Z.Z.getVideoProgress,en=Z.Z.uploadImage,tn=Z.Z.bulkDeleteProject,nn=Z.Z.getCompletedTaskForProject,rn=Z.Z.setDeletedProjects,sn=Z.Z.getSharedProjectsMappingByTeamId,an=Z.Z.duplicateProjectRequest,on=Z.Z.exportProjectRequest,cn=Z.Z.resetAnalysis,ln="DD MMM, YYYY",un=function(e){(0,a.Z)(f,e);var t,l,d,g=(0,i.Z)(f);function f(e){var t;return(0,r.Z)(this,f),(t=g.call(this,e)).onDuplicateProjectResultChanged=function(e){var n;t.props.duplicateProjectResult&&t.props.duplicateProjectResult!==e.duplicateProjectResult&&(t.props.duplicateProjectResult.success?(S().getInstance().logEvent("project-duplicated",{}),t.fetchProjectsComponentUpdate(1)):((0,w.x2)("Duplicate project failed."),null===(n=t.closeOverlay)||void 0===n||n.current()))},t.onExportProjectResultChanged=function(e){var n,r;t.props.exportProjectResult&&t.props.exportProjectResult!==e.exportProjectResult&&(t.props.exportProjectResult.success&&t.props.exportProjectDetails&&t.props.exportProjectDetails.exportUrl?(null===(n=t.closeOverlay)||void 0===n||n.current(),t.downloadFile(t.props.exportProjectDetails.exportUrl,t.state.exportProjectFileName,"",t.state.exportProjectUseCase),S().getInstance().logEvent("project-exported",{"file-name":t.props.exportProjectDetails.exportUrl}),t.setState({exportProjectFileName:"",exportProjectUseCase:""})):((0,w.x2)("Export project failed."),null===(r=t.closeOverlay)||void 0===r||r.current()))},t.fetchProjectsComponentUpdate=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r,s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){clearInterval(t.refreshProjectInterval),t.refreshProjectInterval=void 0},s=0,e.next=4,t.fetchProjects(s,n);case 4:e.sent||(t.refreshProjectInterval=setInterval((0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s){e.next=3;break}return s++,e.abrupt("return");case 3:if(!(s>5||0===n&&!t.props.importingProjects)){e.next=7;break}r(),e.next=12;break;case 7:return s++,e.next=10,t.fetchProjects(s,n);case 10:e.sent&&r();case 12:case"end":return e.stop()}}),e)})))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.fetchProjects=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r){var s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMyVideos("",null,!0,null,null);case 2:return s=e.sent,e.abrupt("return",t.checkIfProjectsRendered(s,n,r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.checkIfProjectsRendered=function(e,n,r){var s,a;if(0===r)a=new Array(t.props.migrateProjectsResponse.length).fill(!1),s=t.props.migrateProjectsResponse;else if(1===r){var i;a=new Array([0]).fill(!1),s=null!==(i=t.props.duplicateProjectResult)&&void 0!==i&&i.project?[t.props.duplicateProjectResult.project]:[]}if((null==e?void 0:e.length)>0){for(var o,c=function(t){var n=s[t],i=void 0;0===r?i=n.newProjectId:1===r&&(i=n.project_id),e.find((function(e){return e.project_id===i}))&&(a[t]=!0)},l=0;l<s.length;l++)c(l);var u=a.every((function(e){return e}));return n>=5?(u=!0,o=a.filter((function(e){return e})).length):o=a.length,u&&t.closeOverlay.current&&t.closeOverlay.current(),0===r&&t.props.setImportingProjectsStatus(u,o),u}},t.moveSingleProject=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r){var s,a,i;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isShowOverlay:!0,OverlayMessage:"Please wait..."}),a=null!==(s=t.state[["projectName-".concat(n.project_id)]])&&void 0!==s?s:n.projectName,i=[(0,o.Z)((0,o.Z)({},n),{},{projectName:a})],t.props.setDeletedProjects(i),e.next=6,t.getMyVideos(t.props.searchValue,!0,!0,!0);case 6:if(!(i.length>0)){e.next=9;break}return e.next=9,t.props.moveProjects(i,r);case 9:t.setState({isShowOverlay:!1,OverlayMessage:""}),t.props.clearMove();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.moveProjects=function(e,n){var r=[{projectType:e.projectType,project_id:e.project_id}];t.props.moveProjects(r,n)},t.loadVideoUrl=(0,O.Z)((0,N.Z)().mark((function e(){var n,r,s,a,i,o,c,l,u;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.activeProject||t.props.activeProject.videoURL||!t.props.activeProject.states){e.next=8;break}if(-1==(r=t.props.activeProject.states.findIndex((function(e){return(null==e?void 0:e.name)==Ce.yc.VIDEO_GENERATING&&(null==e?void 0:e.responseId)})))){e.next=8;break}return s=t.props.activeProject.states[r].responseId,e.next=6,t.props.getVideoProgress({responseId:s});case 6:(a=t.props.videoProgress)&&!at().isEmpty(a)&&a.message&&("completed"!==a.message.status&&"complete"!==a.message.status||(n=a.message));case 8:if(i=[],o=[],c=!1,l=null,u=null,!t.props.activeProject){e.next=19;break}return e.next=16,t.props.getCompletedTaskForProject(t.props.activeProject.project_id);case 16:"success"==t.props.projectTasks.status&&(i=t.props.projectTasks.tasks).Items&&i.Items.length>0&&(i.Items.map((function(e,t){if(1==e.name.endsWith("_highlights"))if(null==l)l=e.createdDate,u=t;else{var n=new Date(l);new Date(e.createdDate)<n?i.Items[t]=null:(i.Items[u]=null,l=e.createdDate,u=t)}else c=!0})),i.Items=i.Items.filter((function(e){return!!e}))),t.props.activeProject&&t.props.activeProject.videoPostsCSVFile&&o.push("csv available");case 19:t.setState({activeProjectResponse:n,completedTasks:i,completedTasksContainsVideo:c,csvFileData:o,videoClicked:!1,textFilesProject:null});case 20:case"end":return e.stop()}}),e)}))),t.onProjectOpened=function(e){t.props.projectAction===Ce.vY.loadView?!0===t.props.openingProject&&!1===e.openingProject&&(setTimeout((0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loadVideoUrl();case 1:case"end":return e.stop()}}),e)}))),100),t.props.toggleProjectView(!0,!1)):t.props.projectAction===Ce.vY.OpenProject&&(!0===t.props.openingProject&&!1===e.openingProject&&t.props.activeProject!=e.activeProject?t.loadStep3(e.activeProject.project_id,e.activeProject):!0===t.props.openingProject&&!1===e.openingProject&&t.props.activeProjectFolder.project_id!==e.activeProjectFolder.project_id?(t.props.toggleProjectView(!1,!0),t.getMyVideos()):!0===t.props.openingProject&&!1===t.props.projectOpenError&&!1===e.openingProject&&!0===e.projectOpenError&&t.closeOverlay.current&&t.closeOverlay.current())},t.refreshProject=function(e){if(e){var n=t.state.projectList.findIndex((function(t){return t.project_id===e.project_id}));if(n>-1){var r=(0,B.Z)(t.state.projectList);r[n]=e,t.setState({projectList:r})}}},t.getScrollParentHeight=function(){var e=document.getElementById("infinite-scroll-container"),n=0,r=0;if(e){var s=e.children;(s=s.length?s[0]:null)&&(n=s.getBoundingClientRect())&&(n=n.height),(r=e.getBoundingClientRect())&&(r=r.height)}return r>n&&(t.closeOverlay.current=t.props.loadingOverlay("Please wait..."),!0)},t.copyProject=function(e){if(!t.props.validateProjectQuota||!1!==t.props.validateProjectQuota())return t.props.resetFilterValue(),t.closeOverlay.current=t.props.loadingOverlay("Creating a copy of the project..."),t.props.copyProject(e.project_id,e.cognito_id),!1},t.CloseConfirmationBox=function(e){t.setState({showDeletePopup:!1})},t.DeleteProject=function(e,n){var r;r={icon:(0,E.jsx)(mt.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",title:"Are you sure ?",message:(0,E.jsx)(E.Fragment,{children:"Your project will be permanently deleted and all access to it, including any previously copied links, will be lost."}),primaryButtonLabel:"Delete",primaryButtonColor:"error.main",primaryButtonOnClick:function(){return t.DeleteConfirm()},secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){return t.CloseConfirmationBox()}},t.setState({projectToDelete:e,showDeletePopup:!0,dialogWithButtonAndIcon:r})},t.DeleteConfirm=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({showDeletePopup:!1,OverlayMessage:"Deleting the "+(t.state.projectToDelete&&t.state.projectToDelete.videoURL?"video":"project")+"..."},(0,O.Z)((0,N.Z)().mark((function e(){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.closeOverlay.current=t.props.loadingOverlay("Please wait..."),n=r||t.state.projectToDelete,e.next=4,t.props.deleteProject(n.project_id);case 4:if("success"!=t.props.deleteProjectStatus){e.next=9;break}return t.props.setDeletedProjects([n]),e.next=9,t.getMyVideos(t.props.searchValue,!0,!0,!0);case 9:t.clearDelete();case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.downloadFile=function(e,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=n(43523);e=k.Z.Instance.GetVideoUrlFromCDN(e);var i=document.createElement("a");i.style.display="none",document.body.appendChild(i),void 0!==i.download?(i.href=e,i.setAttribute("download",r),i.click(),window.URL.revokeObjectURL(i.href),document.body.removeChild(i)):a.saveAs(e,r),t.logAssetDownloadedEvent(e,r,s),t.closeOverlay.current&&t.closeOverlay.current()},t.handleChange=function(e){var n=e.target.name,r=e.target.value;t.setState((0,He.Z)({},n,r))},t.CloseGenerateVideo=function(e){document.getElementById("GenerateVideo").style.display="none",void 0!==t.state.intervalGenerateVideoMessage&&clearInterval(t.state.intervalGenerateVideoMessage),void 0!==t.state.callRetrieveMpAPIData&&clearInterval(t.state.callRetrieveMpAPIData),void 0!==t.state.abortController&&t.state.abortController.abort(),void 0!==t.state.abortControllerGenration&&t.state.abortControllerGenration.abort(),void 0!==t.state.abortControllerGenrationMpAPI&&t.state.abortControllerGenrationMpAPI.abort()},t.getText=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt.get(t,{headers:{"cache-control":"no-store, max-age=0"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.openClick=function(e,n){t.props.showProjectsListOnly||(2==n.projectType?(t.props.setDeletedProjects([]),t.setState({selectedProjects:[],projectIds:[]}),t.openProject(e,n)):t.loadProject(e,n))},t.openProject=function(e,n){t.closeOverlay.current=t.props.loadingOverlay("Please wait..."),t.setState({loadProjectView:!1,isFolderOpen:!0}),t.props.openProject(e,Ce.vY.OpenProject,n.cognito_id)},t.loadProject=function(e,n){t.closeOverlay.current=t.props.loadingOverlay("Please wait..."),t.setState({activeProjectResponse:null,isFolderOpen:!1}),t.props.openProject(e,Ce.vY.loadView,n.cognito_id)},t.loadStep3=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r,s){var a,i,c,l,u,d,p;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r).projectName=t.state["projectName-".concat(n)]?t.state["projectName-".concat(n)]:a.projectName,S().getInstance().logEvent("saved-video-opened",{"project-name":a.projectName,"project-category":a.projectCategory}),!(a.scenes&&a.scenes.length>0)){e.next=12;break}if("transcribe"!==a.source){e.next=9;break}return e.next=7,t.openTranscribeStep3(n,a);case 7:e.next=10;break;case 9:t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:n,projectDetails:a,projectList:t.state.projectList,isCanceled:!0,title:a.title?a.title:null}});case 10:e.next=37;break;case 12:if(!a.step2TxtData){e.next=21;break}return e.next=15,t.getText(a.step2TxtData);case 15:if(i=e.sent,c=(0,o.Z)({},a),"transcribe"===a.source)t.openTranscribeStep2(c,i);else{c.title=i.title;try{t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:c,projectList:t.state.projectList,step2Data:i,lines:i.summary?i.summary.length:1,totalLines:i.text_num_sentences?i.text_num_sentences:1,isPrevious:!0,url:a.articleUrl,value:parseInt((i.summary?i.summary.length:1)/(i.text_num_sentences?i.text_num_sentences:1)*100)}})}catch(e){(0,w.x2)("Project cannot be opened.")}}t.closeOverlay.current&&t.closeOverlay.current(),e.next=37;break;case 21:if(!(a.states&&a.states.length>0&&a.states[0].responseId)){e.next=30;break}return l=a.states[0].responseId,t.props.resetAnalysis(),e.next=26,t.props.getDataFromResponseId(l);case 26:(u=t.props.transcribeDataFromId)?(u=u.data,d=[],u.transcribe_sentences.map((function(e,t){var n=(0,o.Z)((0,o.Z)({},e),{},{before:null,enabled:!0,image:[e.url],keywords:[],sentence:e.sentence,sentence_index:t,type:"summary",isSelected:!0});d.push(n)})),(p=(0,o.Z)((0,o.Z)({},a),{},{title:a.projectName})).transcribe_sentences=u.transcribe_sentences,p.selectedSentences=d,t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:p,projectList:t.state.projectList,step2Data:u,lines:0,totalLines:20,isPrevious:!0,saveProjectFirst:!0,url:p.articleUrl,value:0}})):(t.closeOverlay.current&&t.closeOverlay.current(),(0,w.JQ)("Transcription is still under process")),e.next=37;break;case 30:if("script"!==a.source||!a.scriptTxtData||a.scenes&&0!==a.scenes.length){e.next=37;break}if(a.template){e.next=36;break}return e.next=34,t.getText(a.scriptTxtData);case 34:e.sent,t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepOne,state:{projectDetails:a}});case 36:t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{summaryJson:summarySentJson,url:"",sentences:summarySentJson.length,originalText:"",baseText:"",summaryText:"",imageURL:[],timePerFrame:[],isPrevious:!1,isSummaryOff:!1,lines:summarySentJson.length,value:100,totalLines:summarySentJson.length,sendOriginalText:!0,isSkipStep2:!0,startingSummary:"",allSummaryText:"",mainOriginalText:"",metaDescription:"",articleKeywords:"",projectDetails:a,aspectRatioValue:a.aspectRatioValue,aspectRatioClass:a.aspectRatioClass,title:summarySentJson[0].sentence,hasOneSubPerSentence:!0}});case 37:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.openTranscribeStep3=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r){var s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.step2TxtData){e.next=5;break}return e.next=3,t.getText(r.step2TxtData);case 3:(s=e.sent).summaryResponse?t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:n,projectDetails:r,projectList:t.state.projectList,isCanceled:!0,title:r.title?r.title:null,originalText:s.summaryResponse.text,summaryText:s.summaryResponse.html,imageURL:[],articleImages:s.summaryResponse.images,isPrevious:!1,isSummaryOff:!1,lines:s.lines,totalLines:s.totalLines,value:s.value,metaDescription:s.summaryResponse.meta_description,articleKeywords:s.summaryResponse.article_keywords,step2Data:s.summaryResponse,selectedSentences:s.selectedSentences,transcribe_sentences:s.transcribe_sentences,isSubtitleEnabled:s.project.isSubtitleEnabled,isRemoveFillers:s.project.isRemoveFillers,isSummarized:s.project.isSummarized,summarizePercent:s.project.summarizePercent}}):t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:n,projectDetails:r,projectList:t.state.projectList,isCanceled:!0,title:r.title?r.title:null}});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.openTranscribeStep2=function(e,n){var r,s,a;n.summaryResponse?e.title=n.summaryResponse.title:e.title=n.title,n.transcribe_sentences&&(e.transcribe_sentences=n.transcribe_sentences),n.selectedSentences&&(e.selectedSentences=n.selectedSentences),e.speakers=n.speakers||(null===(r=n.summaryResponse)||void 0===r?void 0:r.speakers),n.summaryResponse?(null!=n&&null!==(s=n.analysis)&&void 0!==s&&s.result&&Object.entries(null==n||null===(a=n.analysis)||void 0===a?void 0:a.result).length>0&&(n.summaryResponse.analysis={result:n.analysis.result}),t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:e,projectList:t.state.projectList,step2Data:n.summaryResponse,lines:n.lines,totalLines:n.totalLines,isPrevious:!0,url:e.articleUrl,value:n.value,saveProjectFirst:!0}})):t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:e,projectList:t.state.projectList,step2Data:n,lines:n.summary?n.summary.length:1,totalLines:n.text_num_sentences?n.text_num_sentences:1,isPrevious:!0,url:e.articleUrl,value:parseInt((n.summary?n.summary.length:1)/(n.text_num_sentences?n.text_num_sentences:1)*100),saveProjectFirst:!0}})},t.exportProject=function(e){t.closeOverlay.current=t.props.loadingOverlay("Please wait..."),t.props.exportProject(e.project_id,e.cognito_id);var n="/".concat(e.projectName,"_").concat(e.project_id,".").concat(Ce.xH),r=e.source.toLowerCase(),s="video-editing";"url"===r?s="article-to-video":"script"===r?s="script-to-video":"visuals"===r&&(s="visuals-to-video"),t.setState({exportProjectUseCase:s,exportProjectFileName:n})},t.selectMultiple=function(e,n,r){var s=(0,B.Z)(t.state.projectIds),a=(0,B.Z)(t.state.selectedProjects);if(e)s.push(n),a.push(r),t.setState({projectIds:s,selectedProjects:a});else{var i=s.findIndex((function(e){return e==n}));-1!=i&&(s.splice(i,1),a.splice(i,1),t.setState({projectIds:s,selectedProjects:a}))}t.props.showProjectsListOnly?t.props.setSelectedProjectIds(s):(t.props.setSelectedProjects&&t.props.setSelectedProjects(a),t.props.showHideButtons(!!a.length))},t.selectTask=function(e,n){var r,s,a=(0,B.Z)(t.state.taskIds);if(e)a.push(n),t.setState({taskIds:a});else{var i=a.findIndex((function(e){return e==n}));-1!==i&&(a.splice(i,1),t.setState({taskIds:a}))}null===(r=(s=t.props).onChangeTaskIds)||void 0===r||r.call(s,a)},t.clearSelection=function(){t.setState({projectIds:[],selectedProjects:[]}),t.props.setSelectedProjects&&t.props.setSelectedProjects([]),t.props.showHideButtons(!1)},t.clearDelete=function(){t.props.clearDelete()},t.moveAll=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({isShowOverlay:!0,OverlayMessage:"Please wait..."}),r=t.state.selectedProjects.map((function(e){return{project_id:e.project_id,projectType:e.projectType}})),t.props.setDeletedProjects(t.state.selectedProjects),t.setState({selectedProjects:[]},(0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMyVideos(t.props.searchValue,!0,!0,!0);case 2:case"end":return e.stop()}}),e)})))),!(r.length>0)){e.next=7;break}return e.next=7,t.props.moveProjects(r,n);case 7:t.clearSelection(),t.props.clearMove(),t.setState({isShowOverlay:!1,OverlayMessage:""});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteAll=(0,O.Z)((0,N.Z)().mark((function e(){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.closeOverlay.current=t.props.loadingOverlay("Please wait..."),!((n=t.state.selectedProjects.map((function(e){return{project_id:e.project_id,projectType:e.projectType}}))).length>0)){e.next=7;break}return e.next=5,t.props.bulkDeleteProject(t.state.user?t.state.user.username:"",n);case 5:"success"==t.props.bulkDeleteProjectStatus&&(t.props.setDeletedProjects(t.state.selectedProjects),t.setState({selectedProjects:[]},(0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMyVideos(t.props.searchValue,!0,!0,!0);case 2:case"end":return e.stop()}}),e)})))));case 7:t.clearSelection(),t.clearDelete();case 9:case"end":return e.stop()}}),e)}))),t.onProjectNameChange=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r,s){var a,i,c,l,u,d,p;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,o.Z)({},r),i=a.projectName,(c=n.target.value)!=a.projectName){e.next=6;break}return t.setState((0,He.Z)({},"showInput-".concat(a.project_id),!1)),e.abrupt("return",!1);case 6:if(!(0,B.Z)(t.props.allVideos).some((function(e){return e.projectName==c&&e.project_id!=a.project_id}))){e.next=15;break}return a.projectName=i,t.setState((l={},(0,He.Z)(l,"showInput-".concat(a.project_id),!1),(0,He.Z)(l,"projectName-".concat(a.project_id),i),l)),ie()("#project-title-"+a.project_id+" span").tooltip({animation:!0,title:"Project title already exists"}).tooltip("show"),setTimeout((function(){ie()("#project-title-"+a.project_id+" span").tooltip("hide")}),3e3),e.abrupt("return",!1);case 15:return t.setState((u={},(0,He.Z)(u,"showInput-".concat(a.project_id),!1),(0,He.Z)(u,"projectName-".concat(a.project_id),c),u)),ie()('[data-toggle="tooltip"]').tooltip(),e.next=19,t.props.openProject(a.project_id,Ce.vY.ChangeName,a.cognito_id);case 19:(d=t.props.otherProject).projectName=c,p={body:d},t.props.duplicateProject(p);case 23:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.getUniqueListBy=function(e,t){return(0,B.Z)(new Map(e.map((function(e){return[e[t],e]}))).values())},t.addSharedByDetailsToProjects=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r,s,a,i,c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.currentWorkspace){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.props.getSharedProjectsMappingByTeamId(t.state.user.username);case 4:if(i=e.sent,i=null===(r=i)||void 0===r||null===(s=r.projectsMapping)||void 0===s?void 0:s.Items,!((null===(a=i)||void 0===a?void 0:a.length)<1||(null==n?void 0:n.length)<1)){e.next=8;break}return e.abrupt("return");case 8:for(c=function(e){var r=i.find((function(r){return r.projectId==n[e].project_id&&r.sharedUserId===t.state.user.username}));r&&(n[e]=(0,o.Z)((0,o.Z)({},n[e]),{},{sharedByDisplay_name:r.sharedByDisplay_name,sharedByFirst_name:r.sharedByFirst_name,sharedByLast_name:r.sharedByLast_name,sharedByEmail:r.sharedByEmail}))},l=0;l<n.length;l++)c(l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getMoreVideos=(0,O.Z)((0,N.Z)().mark((function e(){var n,r,s,a,i,o,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.searchValue,r=[],s=t.props.LastEvaluatedKey,!n||""===n){e.next=10;break}if(!s){e.next=8;break}return e.next=7,t.props.searchMyVideos(t.state.user?t.state.user.username:"",n,s,t.props.sortBy,t.props.sortDirection,!!t.props.showProjectsListOnly,t.props.filterValue);case 7:r=[].concat((0,B.Z)(r),(0,B.Z)(t.props.allVideos));case 8:e.next=14;break;case 10:if(!s){e.next=14;break}return e.next=13,t.props.getMyVideos(t.state.user?t.state.user.username:"",s,null,t.props.sortBy,t.props.sortDirection,!!t.props.showProjectsListOnly,t.props.filterValue);case 13:r=[].concat((0,B.Z)(r),(0,B.Z)(t.props.allVideos));case 14:return e.next=16,t.addSharedByDetailsToProjects(r);case 16:if(s)if("success"==t.props.allVideosStatus){if(a=[].concat((0,B.Z)(t.state.userProjectList),(0,B.Z)(r)),a=t.getUniqueListBy(a,"project_id"),i=t.props.type,o=[],""===n)if("videos"==i)for(c=0;c<a.length;c++)(l=a[c]).videoURL&&""!==l.videoURL&&o.push(l);else if("projects"==i)for(u=0;u<a.length;u++)(d=a[u]).videoURL&&""!==d.videoURL||o.push(d);else p=a,t.props.deletedProjects&&t.props.deletedProjects.length>0&&(p=p.filter((function(e){return-1==t.props.deletedProjects.findIndex((function(t){return t.project_id==e.project_id}))}))),o=p;else if("videos"==i)for(h=a.filter((function(e){return-1!==e.projectName.indexOf(n)})),m=0;m<h.length;m++)(g=h[m]).videoURL&&""!==g.videoURL&&o.push(g);else if("projects"==i)for(f=a.filter((function(e){return-1!==e.projectName.indexOf(n)})),v=0;v<f.length;v++)(x=f[v]).videoURL&&""!==x.videoURL||o.push(x);else S=a,t.props.deletedProjects&&t.props.deletedProjects.length>0&&(S=S.filter((function(e){return-1==t.props.deletedProjects.findIndex((function(t){return t.project_id==e.project_id}))}))),o=S;o.length>0?(y=function(e){return function(t,n){return"desc"===e?new Date(n.saveDate).getTime()-new Date(t.saveDate).getTime():new Date(t.saveDate).getTime()-new Date(n.saveDate).getTime()}},b=function(e){return function(t,n){return"desc"===e?n.projectName.toLowerCase()<t.projectName.toLowerCase()?-1:1:t.projectName.toLowerCase()<n.projectName.toLowerCase()?-1:1}},"saveDate"==t.props.sortBy?o.sort(y(t.props.sortDirection)):o.sort(b(t.props.sortDirection)),t.setState({projectList:o,userProjectList:a}),j=[],"saveDate"==t.props.sortBy?(w=o.filter((function(e,t,n){return t===n.findIndex((function(t){return Tt()(t.saveDate).format(ln)===Tt()(e.saveDate).format(ln)}))}))).map((function(e,t){j.push(Tt()(e.saveDate).format(ln))})):(w=o.filter((function(e,t,n){return t===n.findIndex((function(t){return t.projectName.charAt(0).toUpperCase()===e.projectName.charAt(0).toUpperCase()}))})),w.map((function(e,t){j.push(e.projectName.charAt(0).toUpperCase())}))),t.closeOverlay.current&&t.closeOverlay.current(),t.setState({distinctprojectCategory:j,noRecordFound:!1})):(t.closeOverlay.current&&t.closeOverlay.current(),t.setState({distinctprojectCategory:[],noRecordFound:!0}),setTimeout((function(){t.setState({noRecordFound:!1})}),3e3))}else t.closeOverlay.current&&t.closeOverlay.current();case 17:case"end":return e.stop()}}),e)}))),t.InfiniteScrollLoadMore=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.loadingPaginatedProjects){e.next=2;break}return e.abrupt("return");case 2:return t.setState({loadingPaginatedProjects:!0}),e.next=5,t.getMoreVideos();case 5:t.setState({loadingPaginatedProjects:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.renderAudioTiles=function(){var e=[];if(t.state.completedTasks&&t.state.completedTasks.Items&&t.state.completedTasks.Items.length>0){if(!t.state.videoClicked)return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{variant:"body500_resp",sx:{pl:"1.2rem",color:"grey.400",m:0,mt:"10px"},children:"Audio"}),(0,E.jsx)(Pt.default,{title1:"Select video file to",title2:"view audio files"})]});if(t.state.textFilesProject){var n=t.props.activeProject.projectName;t.state.textFilesProject.output&&t.state.textFilesProject.output.audioURL?(void 0!==t.state.projectIndex&&null!==t.state.projectIndex&&t.state.projectIndex>-1&&(n="".concat(t.state.projectIndex+1,". ").concat(t.state.textFilesProject.name)),e.push({url:t.state.textFilesProject.output.audioURL,altName:n,title:n})):t.state.textFilesProject.audioURL&&e.push({url:t.state.textFilesProject.audioURL,altName:n,title:n})}}else t.props.activeProject.audioURL&&e.push({url:t.props.activeProject.audioURL,altName:t.props.activeProject.projectName,title:t.props.activeProject.projectName});return e.length>0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{variant:"body500_resp",sx:{pl:"1.2rem",color:"grey.400",m:0,mt:"10px"},children:"Audio"}),(0,E.jsx)(Nt.default,{assetItems:e,downloadFile:t.downloadFile})]}):(0,E.jsx)(E.Fragment,{})},t.state={username:"",projectList:[],userProjectList:[],distinctprojectCategory:[],noRecordFound:!1,projectIds:[],taskIds:[],selectedProjects:[],loadingPaginatedProjects:!1,page:0,loadProjectView:!1,viewType:"viewtiles",hoverProjectId:null,videoClicked:!1,textFilesProject:null,selectedVideoId:void 0,csvFileData:null,currentWorkspace:t.props.showProjectsListOnly?void 0:(0,te.E3)(),isFolderOpen:!1},t.loadVideoUrl=t.loadVideoUrl.bind((0,p.Z)(t)),t.closeOverlay=c.createRef(),t}return(0,s.Z)(f,[{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,s=r.refresh,a=r.searchValue,i=void 0===a?"":a,o=(r.type,r.sortType,r.imported),c=r.explicitRefresh,l=r.activeProjectFolder,u=r.filterRefresh,d=r.migrateProjectsResponse,p=r.migrateProjectsResponseFromHistoryState,h=r.triggerClearSelection;if(ie()('[data-toggle="tooltip"]').tooltip(),this.onDuplicateProjectResultChanged(e),this.onExportProjectResultChanged(e),e.searchValue!==i&&(i.length>2||0==i.length)&&this.getMyVideos(i),this.state.projectIds!==t.projectIds&&this.props.isSelected(this.state.projectIds.length>0),h!==e.triggerClearSelection&&this.clearSelection(),!this.props.showProjectsListOnly){if(e.imported!==o&&this.getMyVideos(this.props.searchValue,null,!0,null,null,this.props.importedProjects),e.activeProjectFolder.project_id!=l.project_id&&(this.clearSelection(),this.props.showHideButtons&&this.props.showHideButtons(!1),void 0!==e.activeProjectFolder.project_id&&void 0===l.project_id&&this.props.setDeletedProjects([]),this.getMyVideos()),e.explicitRefresh!=c&&1==c){var m=this.props.newFolder!==e.newFolder&&this.props.newFolder;this.getMyVideos(i,null,null,null,m)}if(e.filterRefresh!=u&&this.getMyVideos(i,null,null,null,null),e.refresh!==s){this.clearSelection(),this.props.toggleProjectView(!1,!1),this.setState({LastEvaluatedKey:{}});var g=this.props.newFolder!==e.newFolder&&this.props.newFolder;this.getMyVideos(i,null,!0,null,g)}setTimeout((function(){((null==d?void 0:d.length)>0&&e.migrateProjectsResponse!==d||(null==p?void 0:p.length)>0&&e.migrateProjectsResponseFromHistoryState!==p)&&n.fetchProjectsComponentUpdate(0)}),100)}}},{key:"componentDidMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then((function(t){e.setState({user:t}),e.getMyVideos(e.props.searchValue,void 0,!0),ie()('[data-toggle="tooltip"]').tooltip()})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.props.deleteAll!==e.deleteAll&&e.deleteAll&&this.deleteAll(),this.props.moveAll!==e.moveAll&&e.moveAll&&this.moveAll(e.selectedFolderToMove),this.props.refreshProject!==e.refreshProject&&this.refreshProject(e.refreshProject),this.props.loadProjectView!==e.loadProjectView&&(this.closeOverlay.current&&this.closeOverlay.current(),this.setState({loadProjectView:e.loadProjectView})),this.onProjectOpened(e)}},{key:"getMyVideos",value:(d=(0,O.Z)((0,N.Z)().mark((function e(t,n,r,s,a,i){var o,c,l,u,d,p,h,m,g,f,v,x,S,y,j,w,Z,k,C,I,T,E,A,_=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r?this.closeOverlay.current=this.props.loadingOverlay("Please wait..."):this.closeOverlay.current&&this.closeOverlay.current(),o=[],!t){e.next=8;break}return e.next=5,this.props.searchMyVideos(this.state.user?this.state.user.username:"",t,null,this.props.sortBy,this.props.sortDirection,!!this.props.showProjectsListOnly,this.props.filterValue);case 5:o=(0,B.Z)(this.props.allVideos),e.next=17;break;case 8:if(!this.state.user||this.state.user.attributes.email!==b.Z.superAdminEmail||n){e.next=13;break}return e.next=11,this.props.getMyVideos("all");case 11:e.next=17;break;case 13:if(n){e.next=17;break}return e.next=16,this.props.getMyVideos(this.state.user?this.state.user.username:"",null,null,this.props.sortBy,this.props.sortDirection,!!this.props.showProjectsListOnly,this.props.filterValue);case 16:o=(0,B.Z)(this.props.allVideos);case 17:return e.next=19,this.addSharedByDetailsToProjects(o);case 19:if("success"!==this.props.allVideosStatus&&n){e.next=32;break}if(c=n?this.state.projectList:o,l=this.props.type,u=[],this.closeOverlay.current=this.props.loadingOverlay("Please wait..."),""===t)if("videos"==l)for(d=0;d<c.length;d++)(p=c[d]).videoURL&&""!==p.videoURL&&u.push(p);else if("projects"==l)for(h=0;h<c.length;h++)(m=c[h]).videoURL&&""!==m.videoURL||u.push(m);else{if(a&&(-1==(g=c.findIndex((function(e){return e.project_id==a.project_id})))?c.unshift(a):c.unshift(c.splice(g,1)[0])),i&&i.length>0)for(f=function(e){var t=i[e],n=c.findIndex((function(e){return e.project_id==t.project_id}));-1==n?c.unshift(t):c.unshift(c.splice(n,1)[0])},v=0;v<i.length;v++)f(v);x=c,this.props.deletedProjects&&this.props.deletedProjects.length>0&&(x=x.filter((function(e){return-1==_.props.deletedProjects.findIndex((function(t){return t.project_id==e.project_id}))}))),u=x}else if("videos"==l)for(S=c.filter((function(e){return-1!==e.projectName.indexOf(t)})),y=0;y<S.length;y++)(j=S[y]).videoURL&&""!==j.videoURL&&u.push(j);else if("projects"==l)for(w=c.filter((function(e){return-1!==e.projectName.indexOf(t)})),Z=0;Z<w.length;Z++)(k=w[Z]).videoURL&&""!==k.videoURL||u.push(k);else C=c,this.props.deletedProjects&&this.props.deletedProjects.length>0&&(C=C.filter((function(e){return-1==_.props.deletedProjects.findIndex((function(t){return t.project_id==e.project_id}))}))),u=C;return u.length>0?(I=function(e){return function(t,n){return"desc"===e?new Date(n.saveDate).getTime()-new Date(t.saveDate).getTime():new Date(t.saveDate).getTime()-new Date(n.saveDate).getTime()}},T=function(e){return function(t,n){return"desc"===e?n.projectName.toLowerCase()<t.projectName.toLowerCase()?-1:1:t.projectName.toLowerCase()<n.projectName.toLowerCase()?-1:1}},"saveDate"==this.props.sortBy?u.sort(I(this.props.sortDirection)):u.sort(T(this.props.sortDirection)),this.setState({projectList:u,userProjectList:c}),E=[],"saveDate"==this.props.sortBy?(A=u.filter((function(e,t,n){return t===n.findIndex((function(t){return Tt()(t.saveDate).format(ln)===Tt()(e.saveDate).format(ln)}))})),A.map((function(e,t){E.push(Tt()(e.saveDate).format(ln))}))):(A=u.filter((function(e,t,n){return t===n.findIndex((function(t){return t.projectName.charAt(0).toUpperCase()===e.projectName.charAt(0).toUpperCase()}))})),A.map((function(e,t){E.push(e.projectName.charAt(0).toUpperCase())}))),this.closeOverlay.current&&!this.props.importingProjects&&(this.closeOverlay.current(),this.props.notifyAfterMove()),this.setState({distinctprojectCategory:E,noRecordFound:!1}),this.props.updateWorkspaceStatus(!1)):(this.closeOverlay.current&&!this.props.importingProjects&&(this.closeOverlay.current(),this.props.notifyAfterMove()),this.setState({distinctprojectCategory:[],noRecordFound:!0}),0==this.state.isFolderOpen&&this.props.updateWorkspaceStatus(!0),setTimeout((function(){_.setState({noRecordFound:!1})}),3e3)),s&&this.closeOverlay.current&&this.closeOverlay.current(),this.setState({OverlayMessage:"Please wait..."}),e.abrupt("return",c);case 32:this.closeOverlay.current&&(this.closeOverlay.current(),this.props.notifyAfterMove());case 33:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,s,a){return d.apply(this,arguments)})},{key:"logAssetDownloadedEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var r="text",s=e.substring(e.lastIndexOf(".")).toLowerCase();e.toLowerCase().endsWith(".mp4")?r="video":e.toLowerCase().endsWith(".mp3")?r="audio":e.toLowerCase().endsWith(".pictai")&&(r="project",s=n),S().getInstance().logEvent("asset-downloaded",{"downloaded-from":"asset-view",asset:r,"asset-type":s,link:e})}catch(e){}}},{key:"DownloadVideoForTask",value:(l=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,s,a=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.closeOverlay.current=this.props.loadingOverlay("Please wait..."),r=t,s=n+".mp4",this.downloadFile(r,s),setTimeout((function(){a.setState({showUserQuestionnaire:!0})}),3e3),setTimeout((function(){a.closeOverlay.current&&a.closeOverlay.current()}),1e3);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"DownloadVideo",value:(t=(0,O.Z)((0,N.Z)().mark((function e(t,n,r,s){var a,i,o,c,l,u,d,p,h=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasOwnProperty("videoURL")){e.next=9;break}this.closeOverlay.current=this.props.loadingOverlay("Please wait..."),l=t.videoURL,u=((null===(a=t.scenes)||void 0===a||null===(i=a[0])||void 0===i||null===(o=i.lines)||void 0===o||null===(c=o[0])||void 0===c?void 0:c.text)||t.projectName)+".mp4",this.downloadFile(l,u),setTimeout((function(){h.setState({showUserQuestionnaire:!0})}),3e3),setTimeout((function(){h.closeOverlay.current&&h.closeOverlay.current()}),1e3),e.next=15;break;case 9:if(!n){e.next=15;break}return this.closeOverlay.current=this.props.loadingOverlay("Please wait..."),e.next=13,this.props.getVideoProgress({responseId:r});case 13:!(d=this.props.videoProgress)||at().isEmpty(d)||!d.message||"completed"!==d.message.status&&"complete"!==d.message.status?(this.closeOverlay.current&&this.closeOverlay.current(),(0,w.JQ)("Video Generation is still under progress")):(p=t.projectName+".mp4",this.downloadFile(d.message.output,p),setTimeout((function(){h.setState({showUserQuestionnaire:!0})}),3e3));case 15:case"end":return e.stop()}}),e,this)}))),function(e,n,r,s){return t.apply(this,arguments)})},{key:"handlehover",value:function(e,t){var n=t?e.project_id:null;this.setState({hoverProjectId:n})}},{key:"renderProjectTile",value:function(){var e=this;return(0,E.jsx)("div",{className:"col-md-12",style:{paddingTop:"10px"},children:(0,E.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,E.jsx)("div",{className:"row",children:(0,E.jsxs)("div",{className:"asset-tile-assetview",children:[(0,E.jsx)("div",{className:"vid-outerbox","data-type":"outerbox",onMouseEnter:function(t){return e.handlehover(e.props.activeProject,!0,t)},onMouseLeave:function(t){return e.handlehover(e.props.activeProject,!1,t)},onClick:function(t){e.openProject(e.props.activeProject.project_id,e.props.activeProject)},children:(0,E.jsxs)("div",{className:"inner-vdbox",style:{width:"100%"},children:[(0,E.jsx)("img",{src:"/images/pc_project_pictai.png",alt:this.props.activeProject.projectName,onClick:this.openProject.bind(this,this.props.activeProject.project_id,this.props.activeProject),style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}}),(0,E.jsxs)(D.Z,{className:"centered",style:{height:"100%",width:"100%",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,E.jsx)(m.Z,{variant:"h5b",color:"grey.0",children:"Project"}),(0,E.jsx)(m.Z,{variant:"h5b",color:"grey.0",children:"file"})]})]})}),(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"28px"},children:[(0,E.jsx)(W.Z,{arrow:!0,title:this.state["projectName-".concat(this.props.activeProject.project_id)]?this.state["projectName-".concat(this.props.activeProject.project_id)]:this.props.activeProject.projectName,children:(0,E.jsx)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%",fontSize:"15px"},id:"project-title-"+this.props.activeProject.project_id,"data-placement":"bottom",onMouseEnter:function(){e.setState((0,He.Z)({},"showInput-".concat(e.props.activeProject.project_id),!0))},children:this.state["showInput-".concat(this.props.activeProject.project_id)]?(0,E.jsx)(h.Z,{component:"span",children:(0,E.jsx)("input",{style:{width:"100%",height:"100%",border:"0",fontFamily:"Lato",fontSize:"15px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#16171D"},id:this.props.activeProject.project_id,defaultValue:this.state["projectName-".concat(this.props.activeProject.project_id)]?this.state["projectName-".concat(this.props.activeProject.project_id)]:this.props.activeProject.projectName,onBlur:function(t){return e.onProjectNameChange(t,e.props.activeProject,0)}})}):(0,E.jsx)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},onClick:function(){return e.setState((0,He.Z)({},"showInput-".concat(e.props.activeProject.project_id),!0),(function(){document.getElementById(e.props.activeProject.project_id).focus()}))},children:this.state["projectName-".concat(this.props.activeProject.project_id)]?this.state["projectName-".concat(this.props.activeProject.project_id)]:this.props.activeProject.projectName})})}),!this.props.isFreeTrialPWS&&(0,E.jsx)(Rt.Z,{className:"hover-bg-black-10",sx:{color:"grey.500",cursor:"pointer",fontSize:"24px"},onClick:function(){return e.exportProject(e.props.activeProject)}})]})]},"title-"+this.props.activeProject.project_id)})})})}},{key:"renderMovVideo",value:function(e,t,n,r){var s=this,a=r.project_id?r.project_id:r.id,i=r.projectName?r.projectName:r.name;return(0,E.jsxs)("div",{className:"col-md-2",children:[(0,E.jsx)("div",{className:"vid-outerbox","data-type":"outerbox",children:(0,E.jsx)("div",{className:"inner-vdbox",style:{width:"100%",cursor:e?"pointer":"auto"},children:(0,E.jsx)("video",{muted:!0,src:n,alt:i,style:{borderRadius:"8px"},width:"100%",height:"auto"})})}),(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"28px"},children:[(0,E.jsx)(W.Z,{arrow:!0,title:this.state["projectName-".concat(a)]?this.state["projectName-".concat(a)]:i,children:(0,E.jsxs)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%"},id:"project-title-"+a,"data-placement":"bottom",onMouseEnter:function(){s.setState((0,He.Z)({},"showInput-".concat(a),!0))},children:[e&&(0,E.jsxs)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:[-1==t?"":t+1+". ",this.state["projectName-".concat(a)]?this.state["projectName-".concat(a)]:i]}),!e&&(0,E.jsx)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:this.state["projectName-".concat(a)]?this.state["projectName-".concat(a)]:i})]})}),(0,E.jsx)(q.Z,{trigger:function(e,t){return(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":t?"long-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",size:"small",onClick:e,children:(0,E.jsx)(At.Z,{fontSize:"inherit"})})},menu:[{handle:(0,E.jsx)(Et.CopyToClipboard,{text:k.Z.Instance.GetVideoUrlFromCDN(n),children:(0,E.jsx)(St.Z,{onClick:function(){return(0,w.JQ)("Link copied to clipboard")},children:"Copy link"})}),condition:function(){return n},noWrap:!0},{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(Bt.Z,{fontSize:"small"}),text:"Download",width:"100px"}),onClick:this.DownloadVideoForTask.bind(this,n,i)}]})]})]},"videotitle-"+a)}},{key:"renderEmptyAsset",value:function(e,t){return(0,E.jsx)(Pt.default,{title1:e,title2:t})}},{key:"renderTextTiles",value:function(e,t,n){var r,s=null==this.state.completedTasks||null==this.state.completedTasks.Items||0==this.state.completedTasks.Items.length;if(this.state.completedTasks&&this.state.completedTasks.Items&&this.state.completedTasks.Items.length>1)return this.renderEmptyAsset("No text","generated yet");if(this.state.activeProjectResponse&&(e=e||this.state.activeProjectResponse.srt,t=t?e:this.state.activeProjectResponse.vtt,n=n?e:this.state.activeProjectResponse.text),!(e||t||n)&&s)return this.renderEmptyAsset("No text","generated yet");var a,i=[],o=this.props.activeProject.projectName||"";return!o&&this.state.projectIndex>-1&&null!==(r=this.state.textFilesProject)&&void 0!==r&&r.name&&(o="".concat(this.state.projectIndex+1,". ").concat(null===(a=this.state.textFilesProject)||void 0===a?void 0:a.name)),e&&i.push({url:e,altName:o,title:o}),t&&i.push({url:t,altName:o,title:o}),n&&i.push({url:n,altName:o,title:o}),(0,E.jsx)("div",{className:"col-md-12",style:{paddingTop:"5px"},children:(0,E.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,E.jsx)("div",{className:"row",children:(0,E.jsx)(Nt.default,{assetItems:i,downloadFile:this.downloadFile})})})})}},{key:"renderTextTiles_3",value:function(){this.state.completedTasks.Items[0].projectIndex=0,this.setState({textFilesProject:this.state.completedTasks.Items[0]}),this.renderTextTiles_2()}},{key:"renderTextTiles_2",value:function(){var e,t,n,r=this,s=[],a=[],i=null,o=0,c="",l=!1;return this.state.textFilesProject&&(this.state.textFilesProject.output?this.state.completedTasks&&this.state.completedTasks.Items&&this.state.completedTasks.Items.length>1?(i=this.state.completedTasks.Items[this.state.projectIndex].output,c=this.state.completedTasks.Items[this.state.projectIndex].name,o=this.state.projectIndex):(i=this.state.textFilesProject.output,o=this.state.textFilesProject.projectIndex,c=this.state.textFilesProject.projectName?this.state.textFilesProject.projectName:this.state.textFilesProject.name):(i=this.state.textFilesProject,o=-1,c=this.state.textFilesProject.projectName)),this.state.completedTasks&&this.state.completedTasks.Items&&this.state.completedTasks.Items.length>0&&(l=!0),i&&(e=i.srtFile,t=i.vttFile,n=i.txtFile),e||t||n||l?(e&&(s.push(e.slice(-4)),a.push(e)),t&&(s.push(t.slice(-4)),a.push(t)),n&&(s.push(n.slice(-4)),a.push(n)),(0,E.jsx)("div",{className:"col-md-12",style:{paddingTop:"10px"},children:(0,E.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,E.jsx)("div",{className:"row",children:s.map((function(e,t){return(0,E.jsxs)("div",{className:"col-md-2",children:[(0,E.jsx)("div",{className:"vid-outerbox","data-type":"outerbox",children:(0,E.jsxs)("div",{className:"inner-vdbox",style:{width:"100%",cursor:"auto"},children:[(0,E.jsx)("img",{src:0==e?"/images/no_asset.png":"/images/pc_project_pictai.png",alt:r.props.activeProject.projectName,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}}),(0,E.jsx)("div",{className:"centered",children:(0,E.jsx)(m.Z,{variant:"h5b",color:"grey.0",children:0==e?"No text generated yet":e})})]})}),e&&(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,sx:{width:"100%",height:"28px",background:"#cfcfcf"},children:[(0,E.jsx)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%"},id:"project-title-"+r.props.activeProject.project_id,"data-placement":"bottom",children:(0,E.jsxs)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:[-1==o?"":o+1+". ",c]})}),(0,E.jsx)(q.Z,{trigger:function(e,t){return(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":t?"long-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",size:"small",sx:{p:0},onClick:e,children:(0,E.jsx)(At.Z,{fontSize:"inherit",sx:{p:0}})})},menu:[{handle:(0,E.jsx)(ee.default,{icon:(0,E.jsx)(Bt.Z,{fontSize:"small"}),text:"Download",width:"100px"}),onClick:function(){return r.downloadFile(a[t],"subtitle")}}]})]})]},"TextFile-"+r.props.activeProject.project_id)}))})})})):this.renderEmptyAsset("No text","generated yet")}},{key:"renderCsvTiles",value:function(e){var t=this,n=[],r=[];return e?(e&&(n.push(e.slice(-4)),r.push(e)),(0,E.jsx)("div",{className:"col-md-12",style:{paddingTop:"10px"},children:(0,E.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,E.jsx)("div",{className:"row",children:n.map((function(e,n){return(0,E.jsxs)("div",{className:"asset-tile",children:[(0,E.jsx)("div",{className:"vid-outerbox","data-type":"outerbox",children:(0,E.jsxs)("div",{className:"inner-vdbox",style:{width:"100%",cursor:"auto"},children:[(0,E.jsx)("img",{src:0==e?"/images/no_asset.png":"/images/pc_project_pictai.png",alt:t.props.activeProject.projectName,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}}),(0,E.jsx)("div",{className:"centered",children:(0,E.jsx)(m.Z,{variant:"h5b",color:"grey.0",children:0==e?"No text generated yet":e})})]})}),e&&(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,sx:{width:"100%",height:"28px",background:"#cfcfcf"},children:[(0,E.jsx)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%"},id:"project-title-"+t.props.activeProject.project_id,"data-placement":"bottom",children:(0,E.jsx)(h.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:t.state["projectName-".concat(t.props.activeProject.project_id)]?t.state["projectName-".concat(t.props.activeProject.project_id)]:t.props.activeProject.projectName})}),(0,E.jsx)(q.Z,{trigger:function(e,t){return(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":t?"long-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",size:"small",sx:{p:0},onClick:e,children:(0,E.jsx)(At.Z,{fontSize:"inherit",sx:{p:0}})})},menu:[{handle:"Download",onClick:function(){return t.downloadFile(r[n],"subtitle")}}]})]})]},"TextFile-"+t.props.activeProject.project_id)}))})})})):this.renderEmptyAsset("No text","generated yet")}},{key:"render",value:function(){var e=this,t=this.state.videoClicked||this.state.completedTasks&&this.state.completedTasks.Items&&1==this.state.completedTasks.Items.length;return(0,E.jsxs)("div",{children:[this.state.loadProjectView&&this.props.activeProject&&(0,E.jsxs)("div",{children:[(0,E.jsx)(m.Z,{variant:"body500_resp",sx:{pl:"1.2rem",color:"grey.400",m:0,mt:"5px"},children:"Project"}),this.renderProjectTile(),(0,E.jsx)(m.Z,{variant:"body500_resp",sx:{pl:"1.2rem",color:"grey.400",m:0,mt:"5px"},children:"Videos"}),(0,E.jsx)(Lt,{activeProject:this.props.activeProject,activeProjectResponse:this.state.activeProjectResponse,completedTasks:this.state.completedTasks,taskIds:this.state.taskIds,selectedVideoId:this.props.selectedVideoId,onDownload:function(t,n){return e.DownloadVideoForTask(t,n)},onSelectTask:this.selectTask.bind(this),onSelectProject:this.props.onSelectProject,onShareTask:this.props.onShareTask,onShareVideo:this.props.onShareVideo,onCopyProjectLink:this.props.onCopyProjectLink,onClickTask:function(t,n){t.projectIndex=n,e.closeOverlay.current=e.props.loadingOverlay("Please wait..."),setTimeout((function(){e.closeOverlay.current&&e.closeOverlay.current(),e.setState({videoClicked:!0,textFilesProject:t,projectIndex:n})}),500)}}),this.renderAudioTiles(),(0,E.jsx)(m.Z,{variant:"body500_resp",sx:{pl:"1.2rem",color:"grey.400",m:0,mt:"5px"},children:"Text"}),!this.state.videoClicked&&this.renderTextTiles(this.props.activeProject.srtFile,this.props.activeProject.vttFile,this.props.activeProject.txtFile),t&&this.renderTextTiles_2(),this.state.csvFileData&&this.state.csvFileData.length>0&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{variant:"body500_resp",sx:{pl:"1.2rem",color:"grey.400",m:0,mt:"5px"},children:"Other"}),this.renderCsvTiles(this.props.activeProject.videoPostsCSVFile)]})]}),!this.state.loadProjectView&&(0,E.jsxs)("div",{style:{overflowY:"auto",maxHeight:this.props.showProjectsListOnly?"calc(100vh - 300px)":"calc(100vh - 170px)",pt:1},children:[(0,E.jsx)("div",{id:"project-list-view-top"}),(0,E.jsx)(ot(),{pageStart:this.state.page,initialLoad:!1,loadMore:function(t){e.InfiniteScrollLoadMore(t)},hasMore:!this.state.loadingPaginatedProjects&&this.props.LastEvaluatedKey,useWindow:!1,getScrollParent:function(){return e.props.scrollParentRef},children:(0,E.jsx)(u.VK,{forceRefresh:!0,children:this.state.noRecordFound?(0,E.jsx)("span",{className:"error-span",children:"No videos found"}):(0,E.jsxs)("div",{children:[this.state.showDeletePopup?(0,E.jsx)(gt.default,{icon:this.state.dialogWithButtonAndIcon.icon,iconBgPaletteColor:this.state.dialogWithButtonAndIcon.iconBgPaletteColor,open:!!this.state.dialogWithButtonAndIcon,title:this.state.dialogWithButtonAndIcon.title,message:this.state.dialogWithButtonAndIcon.message,primaryButtonLabel:this.state.dialogWithButtonAndIcon.primaryButtonLabel,primaryButtonOnClick:this.state.dialogWithButtonAndIcon.primaryButtonOnClick,primaryButtonColor:this.state.dialogWithButtonAndIcon.primaryButtonColor,secondaryButtonLabel:this.state.dialogWithButtonAndIcon.secondaryButtonLabel,secondaryButtonOnClick:this.state.dialogWithButtonAndIcon.secondaryButtonOnClick}):(0,E.jsx)(E.Fragment,{}),this.state.distinctprojectCategory.map((function(t,n){return(0,E.jsxs)("div",{className:"cate-single",children:[(0,E.jsx)(h.Z,{className:"col-md-12",children:(0,E.jsx)(m.Z,{variant:"text_sm",component:"p",sx:{color:"grey.400",mb:"0.5rem"},children:t})}),(0,E.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,E.jsx)("div",{className:"row m-0",children:e.state.projectList.map((function(n,r){if("saveDate"===e.props.sortBy&&Tt()(n.saveDate).format(ln)===t||"projectName"===e.props.sortBy&&n.projectName.charAt(0).toUpperCase()===t){var s,a,i,c,l,u,d="";if(n&&n.states&&n.states.length&&!n.videoURL){var p=n.states.findIndex((function(e){return(null==e?void 0:e.name)==Ce.yc.VIDEO_GENERATING&&(null==e?void 0:e.responseId)}));-1!=p&&(d=n.states[p].responseId)}var g=n.scenes&&n.scenes.length>0&&(n.scenes[0].image?n.scenes[0].image===Ce.FS?"/images/myprojects-placeholder.png":n.scenes[0].image:n.scenes[0].backColor)||"/images/myprojects-placeholder.png";g=n.scenes&&n.scenes.length>1&&"Custom Intro Scene"===n.scenes[0].sceneId&&n.scenes[1].image?n.scenes[1].image:g,g=n.scenes&&n.scenes.length>1&&n.scenes[0].isBrandIntro&&n.scenes[1].image?n.scenes[1].image:g;var f=(g="2"==n.projectType?"/images/myfolder-placeholder.png":g).includes("rgb");1==g.includes("/images.unsplash.")&&(f=!1);var v="0px";"/images/myfolder-placeholder.png"!=g&&"/images/myprojects-placeholder.png"!=g||(v="20px");var x="100%",S="100%",y="video"===(0,te.Q5)(g);"/images/myfolder-placeholder.png"===g?(x="42px",S="56px"):"/images/myprojects-placeholder.png"===g==1&&(x="38px",S="48px"),v=g.indexOf("/images/myfolder-placeholder.jpg")>=0?"20px":"10px";var b=null===(s=e.props.projectMapping)||void 0===s?void 0:s.filter((function(e){return parseInt(e.projectId)===n.project_id})),j=(null==b||null===(a=b[0])||void 0===a?void 0:a.sharedByUserId)&&(null===(i=b[0])||void 0===i?void 0:i.sharedByUserId)!==e.state.user.username,w=j?"1 Shared project can't be deleted, shared or moved":"",Z=j?"This asset is owned by ".concat((0,te.Yf)(b[0]),". Only they can share it with others."):"Share",k=j?"Shared project can't be deleted, shared or moved":"Delete",C=j?"Shared project can't be deleted, shared or moved":"Move",I="2"==n.projectType,T=!0;return e.props.isFreeTrialPWS&&(T=n.videoURL||n.videoPostsCSVFile||n.srtFile||n.vttFile||n.txtFile),(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(h.Z,{className:"asset-tile"+(e.state.downloadMenuOpen==n.project_id?" hover-over":""),sx:{padding:"10px !important",borderRadius:"8px"},children:[(0,E.jsxs)(h.Z,{className:"vid-outerbox"+(e.props.showProjectsListOnly?" default-cursor":""),"data-type":"outerbox",style:{backgroundColor:"#f0f0f0",borderRadius:"8px"},onMouseEnter:function(t){return e.handlehover(n,!0,t)},onMouseLeave:function(t){return e.handlehover(n,!1,t)},onClick:function(t){e.openClick(n.project_id,n)},children:["1"==n.projectType&&n.videoURL&&(0,E.jsx)("i",{className:"fa fa-play-circle  project-icon","aria-hidden":"true"}),(0,E.jsx)(W.Z,{title:w,placement:"top",arrow:!0,children:(0,E.jsx)(h.Z,{onClick:function(e){return e.stopPropagation()},className:"delete-checkbox",children:(0,E.jsx)(Ct.Z,{sx:{color:"grey.0","& svg.MuiSvgIcon-root":{backgroundColor:"rgba(0,0,0,0.7)"},"&.Mui-checked":{color:"grey.0"},"&.Mui-disabled":{color:"rgba(95, 97, 120, 0.8)"}},disableRipple:!!j,checked:-1!=e.state.projectIds.findIndex((function(e){return e==n.project_id})),hidden:!(-1!=e.state.projectIds.findIndex((function(e){return e==n.project_id}))||n.project_id==e.state.hoverProjectId),onChange:function(t){return!j&&e.selectMultiple(t.target.checked,n.project_id,n)},className:j?" disabled-allow-pointer-events":"",style:{marginTop:v},inputProps:{"aria-label":"controlled"}})})}),(0,E.jsxs)("div",{className:"inner-vdbox"+(e.props.showProjectsListOnly?" default-cursor":""),style:{width:"100%"},children:[f&&"",y?(0,E.jsx)("video",{muted:!0,src:g,alt:n.projectName,width:"100%",height:"auto",style:{borderRadius:"8px"}}):"100%"===x?(0,E.jsx)("img",{src:g,alt:n.projectName,style:{height:x,width:S,backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}}):(0,E.jsx)("img",{src:g,alt:n.projectName,style:{height:x,width:S,alignSelf:"center",margin:"0 auto",minHeight:"unset"}})]})]}),(0,E.jsxs)(h.Z,{sx:{position:"relative"},children:[(0,E.jsx)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"28px"},children:(0,E.jsxs)(h.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"100%",display:"flex",paddingRight:"0",paddingLeft:"2px"},id:"project-title-"+n.project_id,"data-placement":"bottom",onMouseEnter:function(){e.props.showProjectsListOnly||e.setState((0,He.Z)({},"showInput-".concat(n.project_id),!0))},children:[(0,E.jsx)(W.Z,{arrow:!0,title:e.state["projectName-".concat(n.project_id)]?e.state["projectName-".concat(n.project_id)]:n.projectName,children:e.state["showInput-".concat(n.project_id)]?(0,E.jsx)(h.Z,{component:"span",children:(0,E.jsx)("input",{style:{width:"100%",height:"100%",border:"0",fontSize:"12px",color:"#16171D",paddingLeft:"1px"},id:n.project_id,defaultValue:e.state["projectName-".concat(n.project_id)]?e.state["projectName-".concat(n.project_id)]:n.projectName,onBlur:function(t){return e.onProjectNameChange(t,n,r)}})}):(0,E.jsx)(h.Z,{component:"span",onClick:function(){return!e.props.showProjectsListOnly&&e.setState((0,He.Z)({},"showInput-".concat(n.project_id),!0),(function(){document.getElementById(n.project_id).focus()}))},sx:{width:"100%"},children:(0,E.jsx)(m.Z,{variant:"text_xs",sx:{color:"grey.900"},children:e.state["projectName-".concat(n.project_id)]?e.state["projectName-".concat(n.project_id)]:n.projectName})})}),(null==b?void 0:b.length)>0&&(0,E.jsx)(qe.Z,{className:"dark-background-icon",sx:{position:"absolute",top:"-36px",zIndex:"11",left:"4px"},size:"small",onClick:function(t){var r;return e.setState({openProjectMapping:!e.state.openProjectMapping,anchorElProjectMapping:t.currentTarget,projectMapping:b,selectedProjectId:n.project_id,disableRemoveShare:(null===(r=b[0])||void 0===r?void 0:r.sharedByUserId)!==e.state.user.username})},children:(0,E.jsx)(_t.Z,{fontSize:"small"})})]})}),(0,E.jsx)(h.Z,{className:"ellipsis-full-width",sx:{mt:"-8px",pl:1,pb:"2px",pt:"5px !important",height:"30px"},children:j&&(0,E.jsxs)(m.Z,{variant:"text_xs",color:"grey",children:["By ",(0,te.Yf)(b[0])]})}),!e.props.showProjectsListOnly&&!(null!==(c=e.state.selectedProjects)&&void 0!==c&&c.length)&&(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"asset-tile-icons",sx:{backgroundColor:"grey.100"},children:[I&&(0,E.jsx)("div",{}),e.state.currentWorkspace&&!I&&(0,E.jsx)(W.Z,{title:Z,arrow:!0,children:(0,E.jsx)(ft.Z,{className:"hover-bg-black-10",sx:{color:"grey.500",cursor:"pointer",fontSize:"24px !important",height:"30px",padding:"5px",borderRadius:"8px",width:"30px",transform:"scaleX(-1)","&:hover":{backgroundColor:"rgba(95, 97, 120, 0.08) !important"}},onClick:function(){return!j&&e.props.openShareProjectsDialogFn(n)}})}),!I&&T&&(0,E.jsx)(W.Z,{title:"Download",arrow:!0,disableInteractive:!0,children:(0,E.jsx)(h.Z,{children:(0,E.jsx)(q.Z,{visible:!(null!==(l=e.state.selectedProjects)&&void 0!==l&&l.length),onClose:function(){return e.setState({downloadMenuOpen:null})},trigger:function(t,r){return(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":r?"long-menu":void 0,"aria-expanded":r?"true":void 0,"aria-haspopup":"true",size:"small",onClick:function(r){e.setState({downloadMenuOpen:n.project_id}),t(r)},sx:{borderRadius:"8px"},children:(0,E.jsx)(Rt.Z,{sx:{fontSize:"22px !important"}})})},menu:[{handle:"MP4 Video",condition:function(){return n.videoURL||n.videoPostsCSVFile},onClick:e.DownloadVideo.bind(e,n,!1,d)},{handle:"SRT file",condition:function(){return n.srtFile},onClick:function(){return e.downloadFile(n.srtFile,"subtitle")}},{handle:"VTT file",condition:function(){return n.vttFile},onClick:function(){return e.downloadFile(n.vttFile,"subtitle")}},{handle:"TXT file",condition:function(){return n.txtFile},onClick:function(){return e.downloadFile(n.txtFile,"subtitle")}},{handle:"Video post csv file",condition:function(){return n.videoPostsCSVFile},onClick:function(){return e.downloadFile(n.videoPostsCSVFile,"video_posts_csv")}},{handle:"Project file",condition:function(){return!e.props.isFreeTrialPWS},onClick:function(){return e.exportProject(n)}}]})})}),!I&&(0,E.jsx)(W.Z,{title:"Duplicate",arrow:!0,children:(0,E.jsx)(h.Z,{children:(0,E.jsx)(Gt.Z,{className:"hover-bg-black-10",sx:{color:"grey.500",cursor:"pointer",fontSize:"22px",height:"28px",padding:"5px",borderRadius:"8px",width:"28px","&:hover":{backgroundColor:"rgba(95, 97, 120, 0.08) !important"}},onClick:function(){return e.copyProject(n)}})})}),!I&&(0,E.jsx)(h.Z,{children:(0,E.jsx)(q.Z,{visible:!(null!==(u=e.state.selectedProjects)&&void 0!==u&&u.length),onClose:function(){return e.setState({downloadMenuOpen:null})},trigger:function(t,r){return(0,E.jsx)(W.Z,{title:C,arrow:!0,children:(0,E.jsx)(qe.Z,{"aria-label":"more",id:"long-button","aria-controls":r?"long-menu":void 0,"aria-expanded":r?"true":void 0,"aria-haspopup":"true",size:"small",onClick:function(r){e.setState({downloadMenuOpen:n.project_id}),!j&&t(r)},disableRipple:j,sx:{borderRadius:"8px",fontSize:"20px"},children:(0,E.jsx)(Mt.Z,{fontSize:"20px"})})})},menu:[{handle:(0,E.jsx)(kt,{user:e.state.user,moveProjects:e.moveSingleProject,show:n.project_id+e.state.show,project:n,node:{projectName:"Root"},onCreateFolder:function(t){e.props.activeProjectFolder.project_id||e.props.onCreateFolder(t)}},n.project_id),noWrap:!0}]})}),(0,E.jsx)(W.Z,{title:k,arrow:!0,children:(0,E.jsx)(h.Z,{children:(0,E.jsx)($.Z,{className:"hover-bg-black-10",sx:(0,o.Z)({color:"grey.500",cursor:"pointer",fontSize:"22px",height:"28px",padding:"5px",borderRadius:"8px",width:"28px","&:hover":{backgroundColor:"rgba(95, 97, 120, 0.08) !important"}},j?{}:{"&:hover":{color:"error.main"}}),onClick:function(){return!j&&e.DeleteProject(n)}})})})]})]})]},n.project_id)})}}))})})]},t)}))]})})}),this.state.loadingPaginatedProjects&&(0,E.jsxs)(D.Z,{className:"row",sx:{margin:"0 !important",display:"grid !important",gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"0fr",gap:"24px",overflow:"hidden",borderRadius:"8px 8px",width:"95%"},children:[(0,E.jsx)(Wt.Z,{variant:"rounded",height:140,sx:{height:"auto",display:"block",width:"100%"}}),(0,E.jsx)(Wt.Z,{variant:"rounded",height:140,sx:{height:"auto",display:"block",width:"100%"}}),(0,E.jsx)(Wt.Z,{variant:"rounded",height:140,sx:{height:"auto",display:"block",width:"100%"}}),(0,E.jsx)(Wt.Z,{variant:"rounded",height:140,sx:{height:"auto",display:"block",width:"100%"}}),(0,E.jsx)(Wt.Z,{variant:"rounded",height:140,sx:{height:"auto",display:"block",width:"100%"}}),(0,E.jsx)(Wt.Z,{variant:"rounded",height:140,sx:{height:"auto",display:"block",width:"100%"}})]})]}),this.state.openProjectMapping&&(0,E.jsx)(Vt.y,{open:this.state.openProjectMapping,assetMapping:this.state.projectMapping,teamUsers:this.props.teamUsers,shareAsset:function(t){return e.props.shareProject(t,e.state.selectedProjectId)},onClose:function(){return e.setState({openProjectMapping:!1})},anchorEl:this.state.anchorElProjectMapping,disableRemoveShare:this.state.disableRemoveShare}),(0,E.jsx)(ue.Z,{active:this.state.isShowOverlay,spinner:!0,text:(0,rt.ZP)(this.state.OverlayMessage)})]})}}]),f}(c.Component),dn=(0,l.$j)((function(e){return{allVideos:e.myVideos.allVideos.videos,allVideosStatus:e.myVideos.allVideos.status,duplicateProjectStatus:e.myVideos.duplicateProjectStatus,deleteProjectStatus:e.myVideos.deleteProjectStatus,newProjectName:e.projectTitle.projectName,LastEvaluatedKey:e.myVideos.allVideos.LastEvaluatedKey,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,activeProjectFolder:e.myVideos.activeProjectFolder,openingProject:e.myVideos.openingProject,otherProject:e.myVideos.otherProject,projectAction:e.myVideos.projectAction,videoProgress:e.createVideoStepThree.videoProgress,uploadImageStatus:e.brandSettings.uploadImageStatus,refreshProject:e.myVideos.refreshProject,inProgressProjects:e.myVideos.inProgressProjects,bulkDeleteProjectStatus:e.myVideos.bulkDeleteProjectStatus,projectTasks:e.header.projectTasks,deletedProjects:e.myVideos.deletedProjects,migrateProjectsResponse:e.myVideos.migrateProjectsResponse,duplicateProjectResult:e.myVideos.duplicateProjectResult,exportProjectResult:e.myVideos.exportProjectResult,exportProjectDetails:e.myVideos.exportProjectDetails}}),{uploadImage:en,getMyVideos:Jt,searchMyVideos:Ht,duplicateProject:Kt,deleteProject:qt,getProjectNameBegin:Yt,getDataFromResponseId:Qt,openProject:Xt,getVideoProgress:$t,bulkDeleteProject:tn,getCompletedTaskForProject:nn,setDeletedProjects:rn,getSharedProjectsMappingByTeamId:sn,copyProject:an,exportProject:on,resetAnalysis:cn})((Ft=un,function(e){var t=Object.assign({},e),n=(0,je.Z)().loadingOverlay;return(0,E.jsx)(Ft,(0,o.Z)((0,o.Z)({},t),{},{loadingOverlay:n}))})),pn=n(92229),hn=n.n(pn),mn=n(40158),gn=n(80827),fn=n(95228),vn=n(61253),xn=n(66860),Sn=n(49746),yn=n.n(Sn),bn=n(9038),jn={},wn=n(54741);wn.keys().forEach((function(e){var t=yn()(e.replace(/\.\/(.+)\/.+$/,"$1"));jn[t]=wn(e).default}));var Zn=(0,bn.UY)(jn),kn=n(64276),Cn=(0,N.Z)().mark(En),In=n(58527),Tn=In.keys().map((function(e){return In(e).default}));function En(){var e,t=arguments;return(0,N.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,(0,kn.$6)(Tn.map((function(t){return(0,kn.rM)(t,e)})));case 3:case"end":return n.stop()}}),Cn)}var An=function(e,t){return t.type===xn.USER_LOGGED_OUT&&(e=void 0),Zn(e,t)},_n=function(){var e=[],t=(0,fn.ZP)({sagaMonitor:{actionDispatched:function(t){return e.push(t)}}}),n=(0,gn.xC)({reducer:An,middleware:function(e){return e().concat(t).concat((0,vn.ZP)())},devTools:!1});return t.run(En),{store:n,dispatched:e}}(),Rn=_n.store,Pn=(_n.dispatched,["children","project","task","taskIds","projectTasks","shareVideo","sharedVideo","selectedVideoId","selectedProject","clearShareVideo","open","copyLink","onClose","shareIdState"]),Nn=(0,l.$j)((function(e,t){var n,r,s;return{sharedVideo:e.myVideos.sharedVideo,shareIdState:null===(n=e.myVideos.sharedVideo)||void 0===n||null===(r=n[null==t||null===(s=t.project)||void 0===s?void 0:s.project_id])||void 0===r?void 0:r.shareId}}),{shareVideo:mn.shareVideo,clearShareVideo:mn.clearShareVideo})((function(e){e.children;var t,n=e.project,r=e.task,s=e.taskIds,a=e.projectTasks,i=e.shareVideo,l=e.sharedVideo,u=e.selectedVideoId,d=e.selectedProject,p=e.clearShareVideo,g=e.open,f=e.copyLink,v=e.onClose,x=e.shareIdState,y=(0,K.Z)(e,Pn),b=null==l||null===(t=l[null==n?void 0:n.project_id])||void 0===t?void 0:t.shareId,j=c.useState(),Z=(0,Ie.Z)(j,2),k=(Z[0],Z[1],c.useState(!!b)),C=(0,Ie.Z)(k,2),I=(C[0],C[1]),T=c.useState(),A=(0,Ie.Z)(T,2),_=A[0],R=A[1],P=c.useCallback((function(){var e,t=null==l||null===(e=l[null==n?void 0:n.project_id])||void 0===e?void 0:e.shareId,r="https://video.pictory.ai/"+"".concat(n.project_id,"/").concat(t);hn()(r),S().getInstance().logEvent("copy-link-asset-view"),(0,w.JQ)("Link has been copied to clipboard"),f&&v()}),[n,r,a,l]),N=c.useCallback((function(e,t,n,r,s,a){var i=[];return s&&s.forEach((function(e){var t=null==a?void 0:a.tasks.Items.find((function(t){return t.id===e}));t&&i.push({name:t.name,url:t.output.videoURL,text:t.output.txtFile,thumbnail:t.output.thumbnail,preview:t.output.preview,vtt:t.output.vttFile,srt:t.output.srtFile})})),r&&i.unshift({name:r.name,url:r.output.videoURL,text:r.output.txtFile,thumbnail:r.output.thumbnail,preview:r.output.preview,vtt:r.output.vttFile,srt:r.output.srtFile}),(null!=t&&t.videoURL||n)&&i.unshift({name:e.projectName,url:e.videoURL,text:e.txtFile,vtt:e.vttFile,srt:e.srtFile,thumbnail:e.thumbnail,preview:e.preview}),i}),[]);c.useEffect((function(){if(x){var e="https://video.pictory.ai/"+"".concat(n.project_id,"/").concat(x);hn()(e),f&&((0,w.JQ)("Link has been copied to clipboard"),v())}}),[x]),c.useEffect((function(){var e=Rn.subscribe((function(){return handleStateChange(n)}));return function(){e(),I(!1),p()}}),[n]),c.useEffect((function(){if(g){var e=N(n,d,u,r,s,a);f&&(0,w.JQ)("Generating link to copy..."),null!=e&&e.length&&void 0!==e[0]?(i(null==n?void 0:n.project_id,e),I(!0)):(R("novideo"),f&&v())}else setTimeout((function(){I(!1),R(void 0),p()}),500)}),[g]);var O="https://video.pictory.ai/"+"".concat(null==n?void 0:n.project_id,"/").concat(b);return f?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)(We._c,(0,o.Z)({open:g,onClose:v,title:(0,E.jsx)(m.Z,{variant:"dialog_title",sx:{marginTop:"1rem",display:"block",padding:".5rem .5rem 0",fontSize:"1em"},children:"Share video"}),closeSx:{marginTop:"1.3rem",marginRight:"0rem"},fullWidth:!0,sx:{maxWidth:"440px",margin:"0 auto",".MuiDialog-paper":{padding:"0rem"},".MuiDialogContent-root":{padding:"0rem"}},actions:(0,E.jsx)(h.Z,{sx:{flex:1,display:"flex",justifyContent:"space-between",overflow:"hidden",padding:"0 .5rem .5rem"},children:b?(0,E.jsxs)(D.Z,{direction:"row",spacing:1,sx:{borderRadius:".5rem",border:"1px solid black",borderColor:"grey.300",alignItems:"center",padding:"0 .5rem",height:"40px",flex:1,overflow:"hidden"},children:[(0,E.jsx)(m.Z,{sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:O}),(0,E.jsx)(Ge.w,{variant:"contained",onClick:P,size:"small",sx:{backgroundColor:"primary.lighter",color:"grey.500",boxShadow:"none","&:hover":{backgroundColor:"primary.lightest",color:"grey.500"}},children:"Copy"})]}):_?(0,E.jsx)(h.Z,{sx:{flex:1,textAlign:"center"},children:"No videos were found..."}):(0,E.jsx)(h.Z,{sx:{flex:1,textAlign:"center"},children:"Generating view-only link..."})})},y))})),On=n(64923),Dn=n(77049),Un=n(89476),Ln=n(77449);function Fn(e){var t=e.firstName,n=void 0===t?"User":t,r=e.isTeamOwner,s=void 0!==r&&r,a=e.teamName,i=void 0===a?"":a,o=e.firstTimeAfterTeamCreation,c=e.personalVideosExist,l=void 0!==c&&c,u=e.handleImportProjects,d=e.handleCreateProject;return(0,E.jsx)(Ke.ZP,{container:!0,spacing:0,direction:"column",width:"100%",height:"500px",sx:{position:"absolute",left:"0px",top:"0px",justifyContent:"center",backgroundColor:"greywhite.lighter",zIndex:"100"},children:(0,E.jsxs)(Ke.ZP,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:[o&&(0,E.jsx)(h.Z,{sx:{mb:"24px"},children:(0,E.jsx)("img",{src:"/images/celebrate.svg"})}),(0,E.jsxs)(h.Z,{sx:{maxWidth:"400px",textAlign:"center"},children:[o?(0,E.jsxs)(m.Z,{variant:"text_2xl",component:"p",fontWeight:"400",children:["Congrats!",(0,E.jsx)("br",{})," Welcome to ",i,", ",n]}):(0,E.jsxs)(m.Z,{variant:"text_2xl",component:"p",fontWeight:"400",children:["Welcome to ",i,", ",n]}),(0,E.jsx)(m.Z,{variant:"text_sm",component:"p",sx:{pt:".5rem"},children:s?"Work together seamlessly, share files effortlessly, and tell impactful stories that drive your business forward.":"Currently, there are no projects shared with you in this workspace. Start collaborating by creating a new project or by asking your team members to share their projects with you."})]}),(0,E.jsxs)(h.Z,{sx:{textAlign:"center"},children:[(0,E.jsxs)(h.Z,{sx:{display:"flex",alignItems:"space-between",my:"32px",textAlign:"center"},children:[l&&(0,E.jsxs)(g.Z,{variant:"contained",sx:{mr:"8px",backgroundColor:"success.dark","&:hover":{backgroundColor:"success.darker"},boxShadow:s?"0px 0px 10px 0px rgba(34, 154, 22, 0.95)":"none"},onClick:u,children:[" ",(0,E.jsx)(nt.Z,{sx:{mr:"8px"}})," Import projects to collaborate"]}),(0,E.jsxs)(g.Z,{variant:"contained",onClick:d,children:[(0,E.jsx)(et.Z,{sx:{mr:"8px"}})," Create your team's first project"]})]}),(0,E.jsx)(Ln.Z,{href:"https://kb.pictory.ai/en/articles/8468945-a-guide-to-collaborating-on-pictory",target:"_blank",sx:{textAlign:"center"},children:"Show me how to collaborate on Pictory"})]})]})})}var Vn=n(62949),Bn=Z.Z.saveProject,Mn=Z.Z.duplicateFolder,Gn=Z.Z.getFolderNameBegin,Wn=Z.Z.importProjectCounter,zn=Z.Z.getBrandSettings,Jn=Z.Z.getCurrentSubscription,Hn=Z.Z.openProject,Kn=Z.Z.updateSort,qn=Z.Z.getMyVideos,Yn=Z.Z.getFolders,Qn=Z.Z.saveProject,Xn=Z.Z.getProjectNameBegin,$n=Z.Z.getSharedProjectsMappingByTeamId,er=Z.Z.getSharedProjectsMappingByTeamIdAndProjectId,tr=Z.Z.getTeamUsersRequest,nr=Z.Z.shareProject,rr=Z.Z.uploadImage,sr=Z.Z.moveProject,ar=Z.Z.resetInitialState,ir=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).initializeState=function(e){var t={notificationMessage:null,searchValue:"",type:"all",saveDateSortDescending:!0,projectNameSortDescending:!1,username:"",page:0,selectedToggle:"saveDate",videoGenData:void 0!==(s.props.location.state&&s.props.location.state.videoGenData)?s.props.location.state.videoGenData:{},selectedTab:"1",areMultiChoiceButtonsVisible:!1,sortBy:"saveDate",sortDirection:"desc",sortDirectionName:"desc",sortDirectionDate:"desc",viewType:"viewtiles",sortDateImgUrl:"images/pc_sort_date_newest_active.svg",sortNameImgUrl:"images/pc_sort_name.svg",viewListImgUrl:"images/pc_view_list.svg",viewTilesImgUrl:"images/pc_view_tiles_active.svg",newFolder:null,showBack:!1,importedProjects:[],selectedVideoId:void 0,anchorEl:null,taskIds:void 0,importingProjects:!1,filterValue:"all",currentWorkspace:s.props.showProjectsListOnly?void 0:(0,te.E3)(),isWorkspaceEmpty:!1,firstTimeAfterTeamCreation:!(!s.props.location.state||!s.props.location.state.firstTimeAfterTeamCreation)&&s.props.location.state.firstTimeAfterTeamCreation,isWorkspaceUpdated:!1,openMenuOnSwitchWorkspace:s.props.location.state&&s.props.location.state.openMenuOnSwitchWorkspace};e?(s.setState(t),s.props.resetInitialState()):s.state=t},s.selectProjectVideo=function(e,t,n){e?s.setState({selectedVideoId:t}):s.setState({selectedVideoId:void 0})},s.setSelectedProjects=function(e){var t,n,r,a=null===(t=s.props.projectMapping)||void 0===t||null===(n=t.projectsMapping)||void 0===n?void 0:n.Items;a=1===(null==e?void 0:e.length)?null===(r=a)||void 0===r?void 0:r.filter((function(t){var n;return parseInt(t.projectId)===(null===(n=e[0])||void 0===n?void 0:n.project_id)})):void 0,s.setState({selectedProjects:e,projectMapping:a,showMoveToFolder:!1})},s.setSelectedProjectIds=function(e){s.props.setSelectedProjectIds&&s.props.setSelectedProjectIds(e)},s.toggleProjectView=function(e,t){s.setState({loadProjectView:e,loadfolder:t,showBack:e||t,newFolder:null,importedProjects:[],selectedProjects:[],showMoveToFolder:!1,areMultiChoiceButtonsVisible:!1})},s.notifyAfterMove=function(){s.state.notificationMessage&&s.state.notificationMessage.length>0&&setTimeout((function(){s.setState({showAlertNotificationObj:{title:"Moved to a folder",message:s.state.notificationMessage,severity:"success",autoHideDuration:15e3}}),s.setState({notificationMessage:null})}),700)},s.handleChangeTaskIds=function(e){s.setState({taskIds:e})},s.handleCreateProject=function(){s.props.history.push("/textinput")},s.handleImportProjects=function(){s.onImportFileClick()},s.moveProjects=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r=t&&1==t.length?"Project is moved to the folder '".concat(n.projectName,"'"):"'".concat(t.length,"' projects are moved to the folder '").concat(n.projectName,"'"),e.next=6,s.props.moveProject(s.state.user?s.state.user.username:"",t,n.project_id);case 6:"success"===s.props.moveProjectStatus?(s.closeOverlay.current&&s.closeOverlay.current(),s.setState({refreshMyVideo:!s.state.refreshMyVideo,sortBy:"saveDate",sortDirection:"desc",selectedToggle:"saveDate"},(function(){setTimeout((function(){s.setState({showAlertNotification:r,alertType:"success"})}),2e3),setTimeout((function(){s.setState({isShowOverlay:!1,OverlayMessage:""})}),2500)}))):(s.closeOverlay.current&&s.closeOverlay.current(),(0,w.x2)("Save project failed."));case 8:return e.prev=8,s.closeOverlay.current&&s.closeOverlay.current(),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}(),s.duplicateProject=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,o,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.projectType!=Ce.cd.Folder){e.next=5;break}s.duplicateFolder(t),e.next=38;break;case 5:return r=t.projectName.replace(/\s*\(.*?\)\s*/g,""),e.next=8,s.props.getProjectNameBegin(s.state.user?s.state.user.username:"",r);case 8:if(r=s.props.newProjectName,t.projectName=r,t.project_id=Date.now(),t.saveDate=new Date,t.videoURL&&delete t.videoURL,t.cognito_id=s.state.user.username,s.state.user&&null!==s.state.user.attributes.email&&""!==s.state.user.attributes.email&&(t.email=s.state.user.attributes.email),(0,te.VO)(s.state.username)&&(t.name=(0,te.VO)(s.state.username)),"transcribe"!==t.source){e.next=33;break}if(!t.step2TxtData){e.next=33;break}return e.next=20,fetch(t.step2TxtData,{method:"GET",headers:{"cache-control":"no-store, max-age=0"}});case 20:return a=e.sent,e.next=23,a.json();case 23:return i=e.sent,o=s.state.user.username+"/project/"+t.project_id+"/summary.json",e.next=27,s.props.uploadImage({filePath:o,file:JSON.stringify(i)});case 27:if("success"===s.props.uploadImageStatus){e.next=32;break}return(0,w.x2)("Duplicate project failed."),S().getInstance().logEvent("duplicate-video-error",{error:"summary.json upload failed","article-link":t.articleUrl,"video-name":t.projectName}),e.abrupt("return");case 32:t.step2TxtData=k.Z.Instance.GetUserUploadUrl(o,"public");case 33:return c={body:t},e.next=36,s.props.duplicateProject(c);case 36:"success"===s.props.duplicateProjectStatus?("saveDate"!=s.state.sortBy||"desc"!=s.state.sortDirection||"saveDate"!=s.state.selectedToggle?(s.closeOverlay.current&&s.closeOverlay.current(),s.setState({refreshMyVideo:!s.state.refreshMyVideo,sortBy:"saveDate",sortDirection:"desc",newFolder:t,selectedToggle:"saveDate"})):s.setState({newFolder:t}),S().getInstance().logEvent("duplicate-video",{"article-link":t.articleUrl,"video-name":t.projectName})):(s.closeOverlay.current&&s.closeOverlay.current(),(0,w.x2)("Save project failed."));case 38:return e.prev=38,s.closeOverlay.current&&s.closeOverlay.current(),e.finish(38);case 41:case"end":return e.stop()}}),e,null,[[0,,38,41]])})));return function(t,n){return e.apply(this,arguments)}}(),s.searchVideo=function(e){e.preventDefault(),s.refreshMyVideo(),s.state.searchValue&&""!==s.state.searchValue.trim()&&S().getInstance().logEvent("searched-video",{"searched-term":s.state.searchValue})},s.handleValueChange=function(e){var t=e.target.name,n=e.target.value;s.setState((0,He.Z)({},t,n)),""===n&&s.refreshMyVideo()},s.refreshMyVideo=function(e){s.setState({refreshMyVideo:!s.state.refreshMyVideo,type:e||s.state.type})},s.showHideButtons=function(e){s.setState({areMultiChoiceButtonsVisible:e})},s.sortByprojectName=(0,O.Z)((0,N.Z)().mark((function e(){var t,n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="asc",n=s.state.projectNameSortDescending,"projectName"==s.state.sortBy&&(n=!s.state.projectNameSortDescending,t=n?"desc":"asc"),s.setState({projectNameSortDescending:n,sortBy:"projectName",sortDirection:t,selectedToggle:"projectName",newFolder:null,importedProjects:[],sortNameImgUrl:"desc"==t?"images/pc_sort_name_atoz_active.svg":"images/pc_sort_name_ztoa_active.svg",sortDateImgUrl:"images/pc_sort_date.svg"});case 4:case"end":return e.stop()}}),e)}))),s.sortBySaveDate=(0,O.Z)((0,N.Z)().mark((function e(){var t,n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="desc",n=s.state.saveDateSortDescending,"saveDate"==s.state.sortBy&&(n=!s.state.saveDateSortDescending,t=n?"desc":"asc"),s.setState({saveDateSortDescending:n,sortBy:"saveDate",sortDirection:t,selectedToggle:"saveDate",newFolder:null,importedProjects:[],sortNameImgUrl:"images/pc_sort_name.svg",sortDateImgUrl:"desc"==t?"images/pc_sort_date_newest_active.svg":"images/pc_sort_date_oldest_active.svg"});case 4:case"end":return e.stop()}}),e)}))),s.showProjectQuotaExceededModel=function(){var e=(0,te.we)(s.state.user.username),t=e&&e.plan&&e.plan.name||"Free Trial";S().getInstance().logEvent("create-project-after-exceeding-quota"),s.setState({showProjectQuotaUpgradeDialog:!0,planName:t},(function(){ie()("#step-3-modal").modal("show")}))},s.closeProjectQuotaExceededModelDialog=function(){s.setState({showProjectQuotaUpgradeDialog:!1})},s.validateProjectQuota=function(){return!0},s.onImportFileClick=function(){!1!==s.validateProjectQuota()&&(s.state.currentWorkspace?s.setState({openImportProjectsDialog:!0}):document.getElementById("file").click())},s.handleImport=function(e,t){if(null==e||e.preventDefault(),!1!==s.validateProjectQuota()){for(var n=t||Array.from(e.target.files),r=!0,a=n.length,i=[],o=0;o<n.length;o++){var c=n[o].name;(c.substring(c.lastIndexOf(".")+1,c.length)||c)!=Ce.xH&&(r=!1)}if(r){S().getInstance().logEvent("project-imported",{"number-of-projects":n.length});var l=0;n.forEach((function(e){var t=new FileReader;t.onloadend=(0,O.Z)((0,N.Z)().mark((function e(){var n,r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.result;try{n=JSON.parse(atob(n))}catch(e){try{n=JSON.parse(n)}catch(e){n=""}}if(!(n&&"object"==typeof n&&n.projectName&&n.project_id)){e.next=30;break}return s.props.importProjectCounter("started"),n.cognito_id=s.state.username,n.saveDate=new Date,n.project_id=Date.now(),n.inProgress=!1,n.currentState=Ce.yc.READY,n.states=[],delete n.partitionKey,delete n.updated_by_cognito_id,delete n.videoURL,delete n.videoId,delete n.shareVideoURL,delete n.srtFile,delete n.txtFile,delete n.vttFile,delete n.previewJson,delete n.videoThumbnail,delete n.audioURL,delete n.outputVideoDuration,delete n.versionId,r={body:n},e.next=26,s.props.saveProject(r);case 26:i.push(n),l==a&&s.props.importProjectCounter("finished"),e.next=32;break;case 30:l==a&&s.props.importProjectCounter("finished"),s.setState({showAlertNotification:"Please select valid file.",alertType:"error"});case 32:case"end":return e.stop()}}),e)}))),l++,t.readAsText(e)})),setTimeout((function(){s.setState({importedProjects:i,sortBy:"saveDate",sortDirection:"desc",selectedToggle:"saveDate",loadProjectView:!1,filterValue:"all",refreshMyVideo:!s.state.refreshMyVideo}),document.getElementById("file").value="",s.setState({showAlertNotification:"Import project(s) completed",alertType:"success"})}),7e3)}else s.setState({showAlertNotification:"Please select valid file type.",alertType:"error"})}},s.isSelected=function(e){s.setState({isSelected:e})},s.clearDelete=function(){s.setState({deleteAll:!1,areMultiChoiceButtonsVisible:!1,showMoveToFolder:!1})},s.clearMove=function(){s.setState({moveAll:!1,areMultiChoiceButtonsVisible:!1,showBack:s.getShowBack()})},s.CloseConfirmationBox=function(){s.setState({showDeletePopup:!1})},s.DeleteConfirm=function(){s.setState({deleteAll:!0,showDeletePopup:!1})},s.duplicateFolder=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.projectName.replace(/\s*\(.*?\)\s*/g,""),e.next=4,s.props.getFolderNameBegin(s.state.user?s.state.user.username:"",n);case 4:return n=s.props.newProjectName,t.projectType=Ce.cd.Folder,t.projectName=n,t.project_id=Date.now(),t.saveDate=new Date,t.cognito_id=s.state.user.username,s.state.user&&null!==s.state.user.attributes.email&&""!==s.state.user.attributes.email&&(t.email=s.state.user.attributes.email),(0,te.VO)(s.state.username)&&(t.name=(0,te.VO)(s.state.username)),r={body:t},s.closeOverlay.current=s.props.loadingOverlay("Please wait..."),e.next=16,s.props.saveFolder(r);case 16:s.onCreateFolder(t),"success"===s.props.duplicateFolderStatus?s.onCreateFolderSuccess(t):s.onCreateFolderFailed(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),s.onCreateFolder=function(e){"success"===s.props.duplicateFolderStatus?s.onCreateFolderSuccess(e):s.onCreateFolderFailed()},s.onCreateFolderSuccess=function(e){s.closeOverlay.current&&s.closeOverlay.current(),s.setState({refreshMyVideo:!s.state.refreshMyVideo,sortBy:"saveDate",sortDirection:"desc",selectedToggle:"saveDate",newFolder:e,loadProjectView:!1,showBack:!1})},s.onCreateFolderFailed=function(){s.closeOverlay.current&&s.closeOverlay.current(),(0,w.x2)("Save folder failed.")},s.onClickShowCreateFolderDlg=(0,O.Z)((0,N.Z)().mark((function e(){var t,n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.props.createFolderDialogConfig){e.next=2;break}return e.abrupt("return");case 2:return t=s.props.createFolderDialogConfig.createFolderDialog,e.prev=3,e.next=6,t();case 6:if(!(n=e.sent)){e.next=10;break}return e.next=10,s.duplicateFolder({projectName:n});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])}))),s.handleClose=function(){s.setState({showDeletePopup:!1})},s.handleBack=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,a;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.state.showBack,s.setState({isShowOverlay:!0,OverlayMessage:"Please wait..."}),s.setState({taskIds:[]}),s.state.loadProjectView?(t=!1,s.props.activeProjectFolder.project_id||(n=!1)):null!==(r=s.props.activeProjectFolder)&&void 0!==r&&r.project_id&&(a=s.getParentId(),n=s.getShowBackOnClick(),s.props.openProject(a,Ce.vY.OpenProject)),setTimeout((function(){s.setState({isShowOverlay:!1,OverlayMessage:""}),s.setState({loadProjectView:t,showBack:n})}),500);case 5:case"end":return e.stop()}}),e)}))),s.onShareTask=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.setState({shareSingle:!0,taskToShare:e,selectedProject:void 0},(function(){s.setState({shareModalOpen:!0,copyLink:n})})),S().getInstance().logEvent("share-video-clicked-asset-view",{"project-name":e.name})},s.onShareVideo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.setState({shareSingle:!0!==e,selectedProject:!0!==e?e:void 0,taskToShare:void 0},(function(){s.setState({shareModalOpen:!0,copyLink:t})})),S().getInstance().logEvent("share-video-clicked-asset-view",{"project-name":(null==e?void 0:e.projectName)||""})},s.shareProject=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,o;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n||(null===(r=s.state.selectedProjects)||void 0===r?void 0:r.map((function(e){return e.project_id}))),e.next=3,s.props.shareProject(a,s.state.user.username,t);case 3:"success"===(null==(i=e.sent)?void 0:i.status)?(setTimeout((function(){var e=Array.isArray(a)?a.length:1,n=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Project share removed for the chosen team member":"".concat(e," project").concat(e>1?"s":""," shared with selected team members");s.setState({showAlertNotificationObj:{title:"Project(s) shared",message:n,severity:"success",autoHideDuration:5e3}}),s.setState({triggerClearSelection:!s.state.triggerClearSelection})}),100),s.props.getSharedProjectsMappingByTeamId(s.state.user.username),S().getInstance().logEvent("asset-shared",{"asset-type":"project","project-ids":a,"workspace-name":(0,te.CV)(s.state.user.username)})):(o=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Project share could not be removed. Please contact support":"Project could not be shared. Please contact support",s.setState({showAlertNotification:o}),s.setState({showAlertNotificationObj:{title:"Project share error",message:o,severity:"error",autoHideDuration:5e3}}),S().getInstance().logEvent("asset-share-error",{"asset-type":"project","project-ids":a,"workspace-name":(0,te.CV)(s.state.user.username),response:i}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.openShareProjectsDialogFn=function(e){var t,n,r,a=(null===(t=s.props.projectMapping)||void 0===t||null===(n=t.projectsMapping)||void 0===n||null===(r=n.Items)||void 0===r?void 0:r.filter((function(t){return parseInt(t.projectId)===(null==e?void 0:e.project_id)})))||[];s.setState({openShareProjectsDialog:!0,projectMapping:a,selectedProjects:[e],showMoveToFolder:!1})},s.fetchWorkspaceProjects=function(){s.initializeState(!0),s.componentDidMount(),s.setState({refreshMyVideo:!s.state.refreshMyVideo}),s.setSelectedProjects([])},s.filterProjects=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({filterRefresh:!s.state.filterRefresh,filterValue:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.countMyPersonalVideos=(0,O.Z)((0,N.Z)().mark((function e(){var t;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.props.getMyVideos(s.state.user?s.state.user.username:"",null,null,s.state.sortBy,s.state.sortDirection,!0,"all",!0);case 2:t=!1,s.props.allVideosCount&&s.props.allVideosCount.count>0&&(t=!0),s.setState({personalVideosExist:t});case 5:case"end":return e.stop()}}),e)}))),s.projectsListMain=function(){var e,t,n,r,a,i,o,c,l=0;s.state.searchValue&&(l=s.state.searchValue.trim().length);var u=!1,d=s.state.loadProjectView?s.props.activeProject&&s.props.activeProject.projectName:s.props.activeProjectFolder&&s.props.activeProjectFolder.projectName;return d&&d.length>0&&(u=!0),(0,E.jsx)(Ke.ZP,{item:!0,sx:{width:s.props.showProjectsListOnly?"100%":"calc(100vw - 240px)",height:"100%"},children:(0,E.jsx)("main",{className:"content-inner tabs-panel",style:{padding:"0 10px 0 10px",minHeight:"unset",height:"100%"},children:(0,E.jsxs)("div",{className:"col-12 pl-0 pr-0",style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,E.jsxs)(Ke.ZP,{justifyContent:"end",sx:{display:"flex",flexDirection:"row",width:"100%",position:"sticky",top:"0",zIndex:3,background:"white",paddingTop:"30px"},className:"import-searchBar",children:[(null===(e=s.state)||void 0===e?void 0:e.currentWorkspace)&&(null===(t=s.state)||void 0===t?void 0:t.isWorkspaceEmpty)&&"all"===(null===(n=s.state)||void 0===n?void 0:n.type)&&"all"==(null===(r=s.state)||void 0===r?void 0:r.filterValue)&&0==l&&(0,E.jsx)(Fn,{firstName:s.state.userFirstName,isTeamOwner:s.state.isTeamOwner,teamName:s.state.teamName,firstTimeAfterTeamCreation:s.state.firstTimeAfterTeamCreation,handleCreateProject:s.handleCreateProject,handleImportProjects:s.handleImportProjects,personalVideosExist:!!s.state.isTeamOwner||s.state.personalVideosExist}),s.state.isWorkspaceUpdated&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(D.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,style:{width:"100%"},children:[(0,E.jsx)(qe.Z,{"aria-label":"delete",hidden:!s.state.showBack,onClick:s.handleBack,size:"large",children:(0,E.jsx)("img",{src:"/images/pc_back.svg",alt:"back"})}),!(null!==(a=s.props)&&void 0!==a&&a.showProjectsListOnly)&&!(null!==(i=s.state)&&void 0!==i&&i.loadProjectView)&&!1===u&&(0,E.jsx)(m.Z,{variant:"text_2xl",sx:{textWrap:"nowrap"},children:s.state.currentWorkspace?"Team Projects":"My projects"}),(0,E.jsx)(m.Z,{variant:"h5b",style:{width:"80%",color:"#5F6178"},children:s.state.loadProjectView?s.props.activeProject&&s.props.activeProject.projectName:s.props.activeProjectFolder&&s.props.activeProjectFolder.projectName})]}),!s.state.loadProjectView&&(0,E.jsxs)(Ke.ZP,{item:!0,direction:"row",display:"flex",alignItems:"center",justifyContent:"end",width:"100%",children:[(0,E.jsx)("div",{style:{marginRight:"20px"},children:s.state.currentWorkspace&&(0,E.jsx)(Dn.default,{filterData:s.filterProjects,filterValue:s.state.filterValue})}),(0,E.jsx)("form",{onSubmit:s.searchVideo.bind((0,p.Z)(s)),children:(0,E.jsxs)("div",{className:"search-vid",style:{marginLeft:"-12px"},children:[(0,E.jsx)("input",{type:"search",placeholder:"Search by name",name:"searchValue",id:"searchValue",onChange:s.handleValueChange.bind(),autoComplete:"off"}),(0,E.jsx)("i",{className:"fa fa-search"})]})}),!s.props.showProjectsListOnly&&(0,E.jsx)(W.Z,{title:"Sort projects",children:(0,E.jsxs)(Ye.Z,{value:s.state.selectedToggle,color:"primary",width:"200px",exclusive:!0,sx:{mr:"1rem",ml:"8px"},children:[(0,E.jsx)(Qe.Z,{value:"projectName",onClick:function(){s.setState({selectedToggle:"sortName"}),s.sortByprojectName()},sx:{padding:"8px",width:42,height:42},children:(0,E.jsx)("img",{src:s.state.sortNameImgUrl,alt:"Sort by project name"})}),(0,E.jsx)(Qe.Z,{value:"saveDate",onClick:function(){s.setState({selectedToggle:"saveDate"}),s.sortBySaveDate()},sx:{p:"8px",width:42,height:42},children:(0,E.jsx)("img",{src:s.state.sortDateImgUrl,alt:"Sort by project date"})})]})}),"dummy"==s.state.viewType&&(0,E.jsx)(W.Z,{title:"List View and Grid View",children:(0,E.jsxs)(Ye.Z,{value:s.state.viewType,color:"primary",width:"200px",exclusive:!0,children:[(0,E.jsx)(Qe.Z,{value:"viewlist",onClick:function(){s.setState({viewType:"viewlist",viewListImgUrl:"images/pc_view_list_active.svg",viewTilesImgUrl:"images/pc_view_tiles.svg"})},sx:{p:"8px"},children:(0,E.jsx)("img",{src:s.state.viewListImgUrl,alt:"View by list"})}),(0,E.jsx)(Qe.Z,{value:"viewtiles",onClick:function(){s.setState({viewType:"viewtiles",viewListImgUrl:"images/pc_view_list.svg",viewTilesImgUrl:"images/pc_view_tiles_active.svg"})},sx:{p:"8px"},children:(0,E.jsx)("img",{src:s.state.viewTilesImgUrl,alt:"View by tiles"})})]})})]})]})]}),(0,E.jsx)(ot(),{pageStart:s.state.page,initialLoad:!1,loadMore:function(e){s.setState({page:e})},hasMore:s.props.LastEvaluatedKey&&!at().isEmpty(s.props.LastEvaluatedKey),useWindow:!1,className:s.state.showBack?"mb-2 pb-2 scrollable-y-axis":"",children:(0,E.jsx)("div",{className:"tab-content mt-2 pl-1 pr-1",id:"myTabContent",children:(0,E.jsx)("div",{className:"tab-pane fade show active",id:"h-tb1",role:"tabpanel",children:(0,E.jsx)("div",{className:"card grey-card myvideo-tabpanel no-box-shadow",children:(0,E.jsx)("div",{className:"",children:(0,E.jsx)("div",{className:"videos-gallery-outer",children:(0,E.jsx)(dn,{setSelectedProjects:s.setSelectedProjects,toggleProjectView:s.toggleProjectView,loadProjectView:s.state.loadProjectView,validateProjectQuota:s.validateProjectQuota,moveProjects:s.moveProjects,copyProject:s.duplicateProject,scrollParentRef:s.scrollParentRef,clearDelete:s.clearDelete,deleteAll:s.state.deleteAll,isSelected:s.isSelected,showHideButtons:s.showHideButtons,viewType:s.state.viewType,imported:s.state.imported,history:s.props.history,refresh:s.state.refreshMyVideo,searchValue:s.state.searchValue,type:s.state.type,sortType:s.state.sortType,explicitRefresh:s.state.explicitRefresh,sortBy:s.state.sortBy,sortDirection:s.state.sortDirection,newFolder:s.state.newFolder,importedProjects:s.state.importedProjects,moveAll:s.state.moveAll,selectedFolderToMove:s.state.selectedFolderToMove,clearMove:s.clearMove,onCreateFolder:s.onCreateFolder,notifyAfterMove:s.notifyAfterMove,onChangeTaskIds:s.handleChangeTaskIds,onShareTask:s.onShareTask,onShareVideo:s.onShareVideo,onSelectProject:s.selectProjectVideo,selectedVideoId:s.state.selectedVideoId,projectMapping:null===(o=s.props.projectMapping)||void 0===o||null===(c=o.projectsMapping)||void 0===c?void 0:c.Items,shareProject:s.shareProject,openShareProjectsDialogFn:s.openShareProjectsDialogFn,showProjectsListOnly:s.props.showProjectsListOnly,setSelectedProjectIds:s.props.setSelectedProjectIds,filterValue:s.state.filterValue,filterRefresh:s.state.filterRefresh,resetFilterValue:function(){return s.setState({filterValue:"all"})},importingProjects:s.state.importingProjects,setImportingProjectsStatus:function(e,t){var n;s.setState({importingProjectsComplete:e,importingProjectsMsg:"Importing ".concat(t," files...")}),e&&(null===(n=document.querySelector("#project-list-view-top"))||void 0===n||n.scrollIntoView(),s.setState({importingProjectsMsg:"".concat(t," files imported")}),setTimeout((function(){s.setState({importingProjects:!1})}),2e3))},teamUsers:s.props.teamUsers,triggerClearSelection:s.state.triggerClearSelection,migrateProjectsResponseFromHistoryState:s.state.migrateProjectsResponseFromHistoryState,updateWorkspaceStatus:function(e){s.setState({isWorkspaceEmpty:e,isWorkspaceUpdated:!0}),1==e&&s.countMyPersonalVideos()},isFreeTrialPWS:s.state.isFreeTrialPWS})})})})})})})]})})})},s.multiChoiceButtons=function(){var e,t,n,r,a,i,o,c,l,u,d,p,h,m,f=null===(e=s.props.projectMapping)||void 0===e||null===(t=e.projectsMapping)||void 0===t||null===(n=t.Items)||void 0===n?void 0:n.find((function(e){var t;return e.sharedByUserId&&e.sharedByUserId!==s.state.user.username&&(null===(t=s.state.selectedProjects)||void 0===t?void 0:t.find((function(t){return t.project_id==parseInt(e.projectId)})))})),v=null===(r=s.state.selectedProjects)||void 0===r?void 0:r.some((function(e){return"2"==e.projectType}));return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Ke.ZP,{item:!0,children:(0,E.jsx)(W.Z,{title:f?"You can't delete projects shared by your team members":"",children:(0,E.jsx)("span",{children:(0,E.jsx)(g.Z,{variant:"contained",sx:{width:"100%",justifyContent:"flex-start",mb:".5rem",backgroundColor:"error.main",borderColor:"error.main",fontStyle:"normal","&:hover":{borderColor:"error.main",backgroundColor:"error.main",fontStyle:"normal"}},startIcon:(0,E.jsx)("img",{src:"images/pc_delete_items.svg",alt:"Delete Items"}),onClick:function(){return s.setState({showDeletePopup:!0})},className:f?"disabled":"",children:"Delete items"})})})}),(0,E.jsxs)(Ke.ZP,{item:!0,children:[(0,E.jsx)(W.Z,{title:v?"Folder can't be moved. Open folder and select a project to move":"",children:(0,E.jsx)("span",{children:(0,E.jsx)(g.Z,{variant:"outlined",sx:{width:"100%",justifyContent:"flex-start",mb:".5rem",color:"grey.500",border:"1px solid #C0C0C0"},className:f?"disabled":"",startIcon:(0,E.jsx)(vt.Z,{}),onClick:s.onMovetoFolderClick,disabled:v,children:"Move to folder"})})}),s.state.currentWorkspace&&(0,E.jsx)(W.Z,{title:v?"Folder can't be shared. Open folder and select a project to share":null!==(a=s.state.projectMapping)&&void 0!==a&&a[0]&&(null===(i=s.state.projectMapping)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.sharedByUserId)!==s.state.user.username?(0,E.jsxs)(E.Fragment,{children:["This project is owned by ",(0,te.Yf)(null===(c=s.state.projectMapping)||void 0===c?void 0:c[0]),". ",(0,E.jsx)("br",{}),"Ask ",(0,te.Zo)(null===(l=s.state.projectMapping)||void 0===l?void 0:l[0])," to provide access."]}):"",children:(0,E.jsx)(Ke.ZP,{item:!0,children:(0,E.jsx)(g.Z,{variant:"outlined",sx:{width:"100%",justifyContent:"flex-start",mb:".5rem",color:"grey.500",border:"1px solid #C0C0C0"},disabled:"2"==(null===(u=s.state.selectedProjects)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.projectType)||(null===(p=s.state.projectMapping)||void 0===p?void 0:p[0])&&(null===(h=s.state.projectMapping)||void 0===h||null===(m=h[0])||void 0===m?void 0:m.sharedByUserId)!==s.state.user.username,startIcon:(0,E.jsx)(ft.Z,{sx:{transform:"scaleX(-1)"}}),onClick:function(){return s.setState({openShareProjectsDialog:!0})},children:"Share"})})}),(0,E.jsx)(Xe.Z,{open:s.state.showMoveToFolder,anchorEl:s.state.anchorEl,onClose:function(){return s.onCloseMoveToFolderMenu()},MenuListProps:{"aria-labelledby":"basic-button"},children:(0,E.jsx)(kt,{user:s.state.user,moveProjects:s.moveProjectsToFolder,show:(0,ct.Z)()+s.state.showMoveToFolder,project:null,node:{projectName:"Root"},selectedProjects:s.state.selectedProjects,onCreateFolder:function(e){s.props.activeProjectFolder.project_id||s.onCreateFolder(e)}},"MovetoFolderdialog")})]})]})},s.wrapperElements=function(e){var t,n,r,a,i,o,c,l,d,v=(null===(t=s.state)||void 0===t?void 0:t.currentWorkspace)&&(null===(n=s.state)||void 0===n?void 0:n.isWorkspaceEmpty)&&"all"===(null===(r=s.state)||void 0===r?void 0:r.type);return(0,E.jsxs)("div",{id:"main",children:[s.state.showProjectQuotaUpgradeDialog?(0,E.jsx)(ye.Z,{planName:s.state.planName,projectQuotaExceeded:!0,onClose:s.closeProjectQuotaExceededModelDialog}):(0,E.jsx)(E.Fragment,{}),s.props.createFolderDialogConfig&&s.props.createFolderDialogConfig.component,(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[s.state.shareModalOpen&&(0,E.jsx)(Nn,{open:s.state.shareModalOpen,copyLink:s.state.copyLink,onClose:s.handleCloseShareModal.bind((0,p.Z)(s)),task:s.state.taskToShare,taskIds:!s.state.shareSingle&&s.state.taskIds,project:s.props.activeProject,selectedProject:s.state.selectedProject,projectTasks:s.props.projectTasks,selectedVideoId:s.state.selectedVideoId}),(0,E.jsx)(he.Z,{history:s.props.history,videoGenData:s.state.videoGenData,fetchWorkspaceProjects:s.fetchWorkspaceProjects,openMenuOnSwitchWorkspace:s.state.openMenuOnSwitchWorkspace,showAlertNotificationObj:s.state.showAlertNotificationObj,showAlertNotification:s.state.showAlertNotification}),(0,E.jsxs)(Ke.ZP,{container:!0,direction:"row",id:"my-projects",sx:{position:"absolute",top:"".concat(s.props.headerHeight,"px"),width:"calc(100vw - 2rem)",height:"calc(100vh - ".concat(s.props.headerHeight,"px - 28px)"),background:"#ffffff",flexWrap:"nowrap",m:"1rem",borderRadius:"5px"},children:[(0,E.jsxs)(Ke.ZP,{container:!0,direction:"row",sx:{width:"270px",pl:"1rem",pr:"1rem",borderRight:"1px solid",borderRightColor:"primary.lighter",height:"100%",alignItems:"center"},children:[(0,E.jsxs)(Ke.ZP,{item:!0,sx:{width:"100%",height:"60%"},children:[(null===(a=s.state)||void 0===a?void 0:a.currentWorkspace)&&(0,E.jsxs)(Ke.ZP,{item:!0,direction:"row",sx:{display:"flex",my:"1rem",alignItems:"center"},children:[(0,E.jsx)(h.Z,{sx:{pr:".5rem"},children:(0,E.jsx)(Vn.Z,{size:"medium",name:s.state.teamName,imgSrc:null,backgroundColor:"primary.light",sx:{position:"relative",padding:" 8px",mr:"4px"}})}),(0,E.jsxs)(D.Z,{children:[(0,E.jsx)(m.Z,{variant:"text_base",children:s.state.teamName}),(0,E.jsxs)(m.Z,{variant:"text_xs",color:"grey.500",children:[s.state.teamPlanName," - ",s.state.numberOfTeamUsers," members"]})]})]}),!(null!==(i=s.state)&&void 0!==i&&i.currentWorkspace)&&(0,E.jsxs)(Ke.ZP,{item:!0,direction:"row",sx:{display:"flex",my:"1rem",alignItems:"center"},children:[(0,E.jsx)(h.Z,{sx:{pr:".5rem"},children:(0,E.jsx)(Vn.Z,{size:"medium",name:s.state.userFirstName,imgSrc:null,backgroundColor:"primary.light",sx:{position:"relative",padding:" 8px",mr:"4px"}})}),(0,E.jsxs)(D.Z,{children:[(0,E.jsxs)(m.Z,{variant:"text_base",sx:{wordBreak:"break-all"},children:["Hello, ",s.state.userFirstName,"!"]}),(0,E.jsxs)(m.Z,{variant:"text_xs",color:"grey.500",children:[s.state.planName," - Personal workspace"]})]})]}),!s.state.loadProjectView&&0==s.state.areMultiChoiceButtonsVisible&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Ke.ZP,{item:!0,children:(0,E.jsx)(g.Z,{variant:v?"outlined":"contained",sx:{width:"100%",justifyContent:"flex-start",mb:".5rem",color:v?"primary.main":"greywhite.lighter",border:"1px solid",borderColor:v?"primary.main":"greywhite.lighter"},startIcon:(0,E.jsx)(et.Z,{fontSize:"small"}),onClick:s.handleCreateProject,children:"Create project"})}),(0,E.jsx)(Ke.ZP,{item:!0,children:(0,E.jsx)(g.Z,{hidden:!!s.props.activeProjectFolder.project_id,variant:"outlined",sx:{width:"100%",justifyContent:"flex-start",mb:".5rem",color:"grey.500",border:"1px solid #C0C0C0"},startIcon:(0,E.jsx)(tt.Z,{fontSize:"small"}),onClick:s.onClickShowCreateFolderDlg,children:"Create folder"})}),(!s.state.isFreeTrialPWS||(0,te.mL)())&&(0,E.jsx)(Ke.ZP,{item:!0,children:(0,E.jsxs)(g.Z,{variant:"outlined",sx:{width:"100%",justifyContent:"flex-start",mb:".5rem",color:"grey.500",border:"1px solid #C0C0C0"},hidden:!!s.props.activeProjectFolder.project_id,startIcon:(0,E.jsx)(nt.Z,{fontSize:"small"}),onClick:function(){return s.onImportFileClick()},children:[(0,E.jsx)("input",{style:{display:"none"},type:"file",id:"file",onChange:s.handleImport,accept:".".concat(Ce.xH),multiple:!0}),"Import projects"]})})]}),!s.state.loadProjectView&&s.state.areMultiChoiceButtonsVisible&&s.multiChoiceButtons(),s.state.loadProjectView&&((null===(o=s.state.taskIds)||void 0===o?void 0:o.length)>0||s.state.selectedVideoId)&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(Ke.ZP,{item:!0,children:(0,E.jsx)(g.Z,{variant:"outlined",sx:{justifyContent:"flex-start",mb:".5rem",color:"grey.500",border:"1px solid #C0C0C0"},startIcon:(0,E.jsx)(ft.Z,{}),onClick:function(){return s.onShareVideo(!0)},children:"Share"})})})]}),(0,E.jsx)(D.Z,{item:!0,direction:"column",spacing:"1rem",sx:{width:"100%",display:"flex",alignItems:"flex-end",height:"40%"}})]}),e]}),(0,E.jsx)(j.Z,{})]}),s.state.showDeletePopup?(0,E.jsx)(gt.default,{icon:(0,E.jsx)(mt.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:!!s.state.showDeletePopup,title:"Are you sure ?",message:"Your project(s) will be permanently deleted and all access to them, including any previously copied links, will be lost.",primaryButtonLabel:"Delete",primaryButtonOnClick:s.DeleteConfirm,primaryButtonColor:"error.main",secondaryButtonLabel:"Cancel",secondaryButtonOnClick:s.CloseConfirmationBox}):(0,E.jsx)(E.Fragment,{}),s.state.openShareProjectsDialog&&(0,E.jsx)(On.I,{open:s.state.openShareProjectsDialog,onClose:function(){return s.setState({openShareProjectsDialog:!1})},assetMapping:s.state.projectMapping,shareAsset:s.shareProject,teamUsers:s.props.teamUsers,cognito_id:null===(c=s.state.user)||void 0===c?void 0:c.username,assetType:"project",title:"Share ".concat((null===(l=s.state.selectedProjects)||void 0===l?void 0:l.length)||1," project").concat((null===(d=s.state.selectedProjects)||void 0===d?void 0:d.length)>1?"s":"")}),s.state.openImportProjectsDialog&&(0,E.jsx)(dr,{open:s.state.openImportProjectsDialog,onClose:function(e,t){s.setState({openImportProjectsDialog:!1}),!0===e?(s.setState({importingProjects:!0,importingProjectsComplete:!1,importingProjectsMsg:"Importing ".concat(t.response.length," files..."),searchValue:"",sortBy:"saveDate",sortDirection:"desc",selectedToggle:"saveDate",filterValue:"all"}),s.setSelectedProjects([]),S().getInstance().logEvent("project-imported-from-personal",{"number-of-projects":t.response.length,"workspace-name":(0,te.CV)(s.state.user.username)})):!1===e&&((0,w.x2)("Project import failed. Please contact support."),S().getInstance().logEvent("project-import-fail",{response:t}))},handleFileImport:s.handleImport,history:s.props.history}),(0,E.jsx)($e.Z,{id:"import-snackbar",open:s.state.importingProjects,onClose:function(){},anchorOrigin:{vertical:"bottom",horizontal:"right"},message:(0,E.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center"},children:[s.state.importingProjectsComplete?(0,E.jsx)(Un.Z,{sx:{color:"success.main",alignItems:"center",fontSize:32}}):(0,E.jsx)(f.Z,{color:"secondary",size:32}),(0,E.jsx)(m.Z,{variant:"text_base",sx:{ml:"12px",color:"grey.900"},children:s.state.importingProjectsMsg})]}),action:(0,E.jsx)(g.Z,{color:"secondary",disabled:!s.state.importingProjectsComplete,size:"small",sx:{color:"error.main"},onClick:function(){s.setState({importingProjects:!1})},children:"Close"}),sx:{"& .MuiSnackbarContent-root":{backgroundColor:"grey.0"}}}),(0,E.jsx)(ue.Z,{active:s.state.isShowOverlay,spinner:!0,text:(0,rt.ZP)(s.state.OverlayMessage)})]})},s.initializeState(),s.duplicateFolder=s.duplicateFolder.bind((0,p.Z)(s)),s.handleClose=s.handleClose.bind((0,p.Z)(s)),s.sortBySaveDate=s.sortBySaveDate.bind((0,p.Z)(s)),s.sortByprojectName=s.sortByprojectName.bind((0,p.Z)(s)),s.duplicateProject=s.duplicateProject.bind((0,p.Z)(s)),s.moveProjectsToFolder=s.moveProjectsToFolder.bind((0,p.Z)(s)),s.clearMove=s.clearMove.bind((0,p.Z)(s)),s.setSelectedProjects=s.setSelectedProjects.bind((0,p.Z)(s)),s.onMovetoFolderClick=s.onMovetoFolderClick.bind((0,p.Z)(s)),s.handleCreateProject=s.handleCreateProject,s.handleImportProjects=s.handleImportProjects,s.closeOverlay=c.createRef(),s}return(0,s.Z)(n,[{key:"moveProjectsToFolder",value:function(e,t){this.setState({isShowOverlay:!0,OverlayMessage:"Please wait..."}),this.setState({moveAll:!0,selectedFolderToMove:t,showMoveToFolder:!1})}},{key:"componentDidMount",value:function(){var e;this.setState({loading:!0});var t=this.state.currentWorkspace;if(!this.props.showProjectsListOnly&&t&&this.props.getTeamUsersRequest(t),null!==(e=this.props.history.location.state)&&void 0!==e&&e.filesToImport){var n=this.props.history.location.state.filesToImport;this.handleImport(void 0,n),this.props.history.replace({state:(0,o.Z)((0,o.Z)({},this.props.location.state),{},{filesToImport:void 0})})}this.props.showProjectsListOnly||S().getInstance().logEvent("my-projects-visited")}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshProjectInterval)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.projectMapping&&this.props.projectMapping!==e.projectMapping){for(var n,r,s=[],a=null===(n=this.props.projectMapping)||void 0===n||null===(r=n.projectsMapping)||void 0===r?void 0:r.Items,i=0;i<(null==a?void 0:a.length)&&1==(null===(c=this.state.selectedProjects)||void 0===c?void 0:c.length);i++){var c,l=a[i];this.state.selectedProjects.includes(parseInt(l.projectId))&&s.push(l)}this.setState({projectMapping:s})}if(this.props.teamUsers!=e.teamUsers){var u,d,p=!1,h=0,m="",g=null===(u=this.state.user)||void 0===u||null===(d=u.attributes)||void 0===d?void 0:d.email;g&&this.props.teamUsers&&this.props.teamUsers.length>0&&(p=this.props.teamUsers[0].adminUserEmail==g,m=this.props.teamUsers[0].name,h=this.props.teamUsers.filter((function(e){return 0==(null==e?void 0:e.isInactive)})).length),this.setState({isTeamOwner:p,teamName:m,numberOfTeamUsers:h})}var f=this.props.history.location.state;null!=f&&f.migrateProjectsResponse&&(this.setState({importingProjects:!0,importingProjectsMsg:"Importing ".concat(f.migrateProjectsResponse.length," files..."),migrateProjectsResponseFromHistoryState:f.migrateProjectsResponse}),this.props.history.replace({state:(0,o.Z)((0,o.Z)({},this.props.location.state),{},{migrateProjectsResponse:void 0})}))}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this;t.loading&&this.state.loading!==t.loading&&(C.Z.removeItem("lastUrl"),C.Z.setItem("lastUrl",y.Z.myProjects),v.g.currentAuthenticatedUser().then((function(e){n.setState({username:e.username,user:e});var t=n.getShowBack();n.setState({showBack:t,loading:!1});var r=(0,te.VO)(n.state.user?n.state.user.username:""),s=(0,te.x4)(n.state.user?n.state.user.username:""),a=(0,te.we)(n.state.user.username),i=a&&a.plan&&a.plan.name||"Free Trial",o=("Free Trial"===(i=(0,te.Gz)(i))?"Teams ":"")+i,c=a&&a.plan?a.plan.plan_code:"";n.setState({userDisplayName:r,userFirstName:s,planName:i,teamPlanName:o,isFreeTrialPWS:c===Ce.yj.freeTrial})})).catch((function(e){n.props.history.push("/")})),void 0!==(this.props.location.state&&this.props.location.state.videoGenData)&&this.videoTab&&this.videoTab.click()),this.state.loading||(t.sortBy==this.state.sortBy&&t.sortDirection==this.state.sortDirection||this.refreshMyVideo(),this.closeOverlay.current&&this.closeOverlay.current())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.importStatus!==this.props.importStatus&&("finished"==e.importStatus&&this.setState({imported:!this.state.imported}),e.importStatus)}},{key:"getParentId",value:function(){var e=this.props.activeProjectFolder.pathValue.split("/");return e[e.length-2]}},{key:"getShowBack",value:function(){return!(!this.props.activeProjectFolder||!this.props.activeProjectFolder.project_id)}},{key:"onMovetoFolderClick",value:function(e){this.state.selectedProjects.find((function(e){return e.projectType==Ce.cd.Folder}))?this.setState({showAlertNotificationObj:{title:"Moved to a folder",message:"Cannot move folders. Please unselect the folder to proceed.",severity:"error",autoHideDuration:15e3}}):this.setState({showMoveToFolder:!0,anchorEl:e.currentTarget})}},{key:"handleCloseShareModal",value:function(){this.setState({shareModalOpen:!1,copyLink:!1})}},{key:"onCloseMoveToFolderMenu",value:function(){this.setState({anchorEl:null,showMoveToFolder:!1})}},{key:"getShowBackOnClick",value:function(){var e=this.props.activeProjectFolder.pathValue.split("/");return!!e[e.length-2]}},{key:"render",value:function(){return(0,E.jsx)(te.M2,{condition:!this.props.showProjectsListOnly,wrapper:this.wrapperElements,children:this.projectsListMain()})}}]),n}(c.Component),or=(0,l.$j)((function(e){return{headerHeight:e.app.headerHeight,folders:e.myVideos.folders.folders,foldersStatus:e.myVideos.folders.status,importStatus:e.myVideos.importStatus,duplicateFolderStatus:e.myVideos.duplicateFolderStatus,activeProject:e.myVideos.activeProject,activeProjectFolder:e.myVideos.activeProjectFolder,uploadImageStatus:e.brandSettings.uploadImageStatus,duplicateProjectStatus:e.myVideos.duplicateProjectStatus,newProjectName:e.projectTitle.projectName,moveProjectStatus:e.myVideos.moveProjectStatus,projectTasks:e.header.projectTasks,projectMapping:e.myVideos.projectMapping,teamUsers:e.teams.teamUsersResult,allVideosCount:e.myVideos.allVideosCount}}),{getBrandSettings:zn,saveProject:Bn,saveFolder:Mn,getFolderNameBegin:Gn,duplicateProject:Qn,getProjectNameBegin:Xn,importProjectCounter:Wn,getCurrentSubscription:Jn,openProject:Hn,updateSort:Kn,getMyVideos:qn,uploadImage:rr,getFolders:Yn,moveProject:sr,getSharedProjectsMappingByTeamId:$n,getSharedProjectsMappingByTeamIdAndProjectId:er,shareProject:nr,getTeamUsersRequest:tr,showLoadingOverlayRequest:we.showLoadingOverlayRequest,hideLoadingOverlayRequest:we.hideLoadingOverlayRequest,resetInitialState:ar})((0,d.EN)(function(e){return function(t){var n,r,s,a,i,l,u=Object.assign({},t),d=(0,je.Z)().loadingOverlay,p=(n=c.useState(!1),s=(r=(0,Ie.Z)(n,2))[0],a=r[1],i=c.useRef(),l=c.useRef(),{component:s&&(0,E.jsx)(ht,{open:s,onClickOk:function(e){var t;null===(t=i.current)||void 0===t||t.call(i,e),a(!1)},onClickCancel:function(){var e;null===(e=l.current)||void 0===e||e.call(l),a(!1)}}),createFolderDialog:function(){return new Promise((function(e,t){i.current=e,l.current=t,a(!0)}))}});return(0,E.jsx)(e,(0,o.Z)((0,o.Z)({},u),{},{loadingOverlay:d,createFolderDialogConfig:p}))}}(ir))),cr=n(8018),lr=n(79859),ur=["onClose","migrateProjects","handleFileImport","history"],dr=(0,l.$j)((function(e){return{migrateProjectsStatus:e.myVideos.migrateProjectsStatus}}),(function(e){return{migrateProjects:function(t){return e(Z.Z.migrateProjects(t))}}}))((function(e){var t=e.onClose,n=e.migrateProjects,r=e.handleFileImport,s=e.history,a=(0,K.Z)(e,ur),i=(0,c.useState)(0),l=(0,Ie.Z)(i,2),u=l[0],d=l[1],p=(0,c.useState)([]),g=(0,Ie.Z)(p,2),f=g[0],v=g[1],x=(0,c.useState)(),S=(0,Ie.Z)(x,2),j=S[0],w=S[1],Z=(0,c.useRef)(),k=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(){var r,a;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),r=f.map((function(e){return{projectId:e+""}})),e.next=4,n(r);case 4:a=e.sent,w(!1),"success"==(null==a?void 0:a.status)?(t(!0,a),window.location.pathname!=="/".concat(y.Z.myProjects)&&s.push({pathname:b.Z.BaseURL+y.Z.myProjects,state:{migrateProjectsResponse:a.response}})):t(!1,a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,E.jsx)(We._c,(0,o.Z)((0,o.Z)({},a),{},{fullWidth:!0,maxWidth:"lg",title:(0,E.jsx)(h.Z,{sx:{mt:4,mb:2},children:"Import my projects"}),closeIcon:!1,onClose:t,actions:(0,E.jsxs)(D.Z,{direction:"row",spacing:1.5,justifyContent:"space-between",alignItems:"center",sx:{width:"100%",mb:"-24px"},children:[(0,E.jsx)(Ge.w,{variant:"outlined",onClick:t,children:"Cancel"}),(0,E.jsxs)(Ge.w,{variant:"contained",type:"submit",className:(null==f?void 0:f.length)>0?"":"disabled",onClick:k,children:[(0,E.jsx)(h.Z,{className:j?"visibility-hidden":"",children:"Import"}),j&&(0,E.jsx)(h.Z,{className:"dot-flashing"})]})]}),actionsOnTop:!0,contentSx:{pt:0,pb:0},children:(0,E.jsxs)(lr.default,{children:[(0,E.jsx)(h.Z,{sx:{borderBottom:"1px solid",borderBottomColor:"#E4D0FF"},children:(0,E.jsxs)(ze.Z,{id:"import-projects-tabs",value:u,onChange:function(e,t){return d(t)},children:[(0,E.jsx)(Je.Z,{id:"personal-workspace-tab",label:"My personal workspace"}),(0,E.jsx)(Je.Z,{id:"upload-project-tab",label:"Upload project files"})]})}),(0,E.jsxs)(h.Z,{className:"import-projects-dialog-tab position-relative",children:[(0,E.jsx)(h.Z,{hidden:u,children:(0,E.jsx)(or,{showProjectsListOnly:!0,setSelectedProjectIds:v})}),(0,E.jsx)(h.Z,{hidden:1!=u,className:"absolute-fill",sx:{pt:3},children:(0,E.jsx)("form",{className:"upload-imgform fill-height",style:{position:"relative"},children:(0,E.jsxs)(h.Z,{className:"upload-label import-projects fill-height flex-centered",sx:{border:"1px solid",borderColor:"grey.100"},children:[(0,E.jsx)("input",{type:"file",id:"file",ref:Z,onChange:function(e){r(e),t()},accept:".pictai",multiple:!0}),(0,E.jsxs)("label",{className:"helper-content text-center",children:[(0,E.jsx)(cr.Z,{fontSize:"large"}),(0,E.jsx)(h.Z,{sx:{mt:3},children:(0,E.jsx)(m.Z,{variant:"text_sm",component:"div",children:"Drag and drop files or select your files to upload"})})]})]})})})]})]})}))})),pr=n(35806),hr=(n(12752),n(12435),n(90105)),mr=n(11676),gr=Z.Z.getSummary,fr=Z.Z.saveProject,vr=Z.Z.uploadImage,xr=Z.Z.resetProjectName,Sr=Z.Z.saveDocumentBegin,yr=Z.Z.getMyVideos,br=Z.Z.getDataFromResponseId,jr=Z.Z.openProject,wr=Z.Z.projectOpened,Zr=Z.Z.getProjectNameBegin,kr=Z.Z.releaseAssetsObjectURLs,Cr=Z.Z.releaseMediaResources,Ir=Z.Z.getCurrentSubscription,Tr=Z.Z.getRecentVideos,Er=Z.Z.getAutoDetectedLanguageRequest,Ar=Z.Z.getTeamUsersRequest;function _r(e){var t=e?1:-1;return{"@media (min-width:600px)":{mt:"".concat(Math.floor(28.28*t)+10,"px")},"@media (min-width:900px)":{mt:"".concat(Math.floor(42.28*t)+10,"px")},"@media (min-width:1200px)":{mt:"".concat(Math.floor(220*.28*t)+10,"px")},"@media (min-width:1440px)":{mt:"".concat(Math.floor(67.76*t)+0,"px")},"@media (min-width:1600px)":{mt:"".concat(Math.floor(269*.28*t)+0,"px")},"@media (min-width:1920px)":{mt:"".concat(Math.floor(323*.28*t)+0,"px")},"@media (min-width:2560px)":{mt:"".concat(Math.floor(120.4*t)+0,"px")},"@media (min-width:3840px)":{mt:"".concat(Math.floor(645*.28*t)+0,"px")},"@media (min-width:4096px)":{mt:"".concat(Math.floor(688*.28*t)+0,"px")}}}var Rr=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;if((0,r.Z)(this,n),(s=t.call(this,e)).urtInputElement=null,s.videoJsOptions=function(e){return{autoplay:!1,controls:!0,responsive:!0,muted:!0,fluid:!0,sources:[{src:e,type:"video/mp4"}]}},s.handlePlayerReady=function(e){playerRef.current=e,e.on("waiting",(function(){videojs.log("player is waiting")})),e.on("dispose",(function(){videojs.log("player will dispose")}))},s.onEOYBannerClose=function(){localStorage.setItem("showEOY",!1),s.setState({hideEOYBar:!0,addEOYVideo:!1,isEOYLoading:!0})},s.onEOYClose=function(){s.setState({addEOYVideo:!1,isEOYLoading:!0})},s.showFlipTimer=function(e){return s.setState({showPictoryGPTTimer:e})},s.showBanner=function(e){return s.setState({showPictoryGPTBanner:e})},s.openVisualValidations=function(e,t,n){s.setState({showFileUploadErrorOverlay:e,invalidFiles:t,allSelectedFiles:[].concat((0,B.Z)(n),(0,B.Z)(t)),validSelectedFiles:n})},s.openVisualArrangements=function(e,t){s.setState({showFileUploadErrorOverlay:!1,showArrangeVisualsStep1:!t,invalidFiles:[],allSelectedFiles:(0,B.Z)(e),validSelectedFiles:e})},s.checkTruthy=function(e){return!!e},s.areAllTruthy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t).every(s.checkTruthy)},s.isAnyTruthy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(s.checkTruthy)},s.clearSelectedFile=function(e){e.stopPropagation(),s.setState({documentFile:null,documentFileName:""})},s.showProjectQuotaExceededModel=function(){var e=(0,te.we)(s.state.user.username),t=e&&e.plan&&e.plan.name||"Free Trial";S().getInstance().logEvent("create-project-after-exceeding-quota"),s.setState({showProjectQuotaUpgradeDialog:!0,planName:t,userDetails:e.data},(function(){ie()("#step-3-modal").modal("show")}))},s.closeProjectQuotaExceededModelDialog=function(){s.setState({showProjectQuotaUpgradeDialog:!1})},s.validateProjectQuota=function(){return!0},s.openStartFromScriptEditor=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1!==s.validateProjectQuota()&&(S().getInstance().logEvent("start-with-script-init"),s.setState({writingScript:!0,prjectDetails:null,videoName:"",originalText:"",autoVisualSelection:!0,autoHighlightKeywords:!0,selectedValueSceneBreakChar:"Both"},(function(){s.showPictoryGPTLaunchBanner()})),!e)){var t=Ce.Kb.find((function(e){return e.code===s.state.language}));s.setState({language:null==t?void 0:t.code,languageValue:null==t?void 0:t.value,languageDetected:!0})}},s.openProjectFromScriptEditor=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scriptTxtData,e.next=3,s.getStringRetry(n,(function(e){s.setState({autoVisualSelection:t.scriptTxtSceneSettings.autoVisualSelection,autoHighlightKeywords:t.scriptTxtSceneSettings.autoHighlightKeywords,selectedValueSceneBreakChar:t.scriptTxtSceneSettings.selectedValueSceneBreakChar,writingScript:!0,projectDetails:t,originalText:e,videoName:t.projectName,isActive:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.gotoCreateVideoStep2ViaDocument=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.state.documentFile){e.next=10;break}return s.setState({isActive:!0}),e.next=5,s.props.saveDocumentBegin(s.state.user.username,s.state.documentFile,s.state.documentFileName);case 5:n=s.props.documentUrl,s.setState({isActive:!1}),n&&(r={cognito_id:s.state.user.username,email:s.state.user.attributes.email,project_id:Date.now(),articleUrl:n},s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{url:n,sentences:2,originalText:"",baseText:"",summaryText:"",isPrevious:!1,summaryJson:"",lines:5,value:40,totalLines:20,GoClick:"URL",allSummaryText:"",mainOriginalText:"",startingSummary:"",projectDetails:r,documentFile:s.state.documentFile,documentFileName:s.state.documentFileName}})),e.next=13;break;case 10:s.setState({articleDocumentError:"Please select a document"}),setTimeout((function(){s.setState({articleDocumentError:""})}),5e3),document.getElementById("txtURL").focus();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getDomPath=function(e){for(var t=[];null!=e.parentNode;){for(var n=0,r=0,s=0;s<e.parentNode.childNodes.length;s++){var a=e.parentNode.childNodes[s];a.nodeName==e.nodeName&&(a===e&&(r=n),n++)}e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":eq("+r+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t},s.flattenHtmlElements=function(e,t,n){var r=["DIV","OL","LI","UL","P","H1","H2","H3","H4","H5","H6"];if(-1!==r.indexOf(e.tagName))for(var a=0;a<e.children.length;a++){var i=e.children[a];if(-1!==r.indexOf(i.tagName)){for(var o=!1,c=0;c<i.children.length;c++)r.indexOf(i.children[c].tagName)>-1&&(o=!0);if("LI"===e.tagName&&o){var l=new RegExp("<("+r.map((function(e){return e.toLowerCase()+"|"+e})).join("|")+")>"),u=e.innerHTML.substr(0,e.innerHTML.search(l));t.push({path:s.getDomPath(e),text:s.htmlToText(u),html:u})}o?s.flattenHtmlElements(i,t):n&&1===t.length?t[0]={path:s.getDomPath(i),text:t[0].text+"\n"+i.innerText,html:t[0].html+"\n"+i.innerHTML}:t.push({path:s.getDomPath(i),text:i.innerText,html:i.innerHTML})}}},s.htmlToText=function(e){var t=document.createElement("span");return t.innerHTML=e,t.innerText},s.makeSummaryFromElements=function(e){var t=document.createElement("div");t.innerHTML=e;var n,r={summarize:!1,sentences:[],highlights:[],allHighlightsCount:0,olIndexes:[],olNumbering:{}};"Sentence breaks (.)"===s.state.selectedValueSceneBreakChar?(r.split_sentences_newline=!1,r.split_sentences_period=!0,n=!0):"Line breaks (⏎)"===s.state.selectedValueSceneBreakChar?(r.split_sentences_newline=!0,r.split_sentences_period=!1):"Both"===s.state.selectedValueSceneBreakChar&&(r.split_sentences_newline=!0,r.split_sentences_period=!0);var a=[];return s.flattenHtmlElements(t,a,n),a.forEach((function(e){if(e.text.trim().length){var t=e.html.match(/<(?:strong|b)>[^<]*<\/(?:strong|b)>/g);r.highlights.push(t&&t.length?t.map((function(e){r.allHighlightsCount++;var t=document.createElement("span");return t.innerHTML=e,t.innerText.trim()})):[]);var n="";if(e.path[e.path.length-1].indexOf("li")>-1)if("ul"==e.path[e.path.length-2])n="• ";else{var a=e.path[e.path.length-1].match(/[0-9]+/);r.olNumbering[r.sentences.length]=a?parseInt(a)+1:1}r.sentences.push((n+s.htmlToText(e.html)).trim())}})),"Periods"===s.state.selectedValueSceneBreakChar&&(r.sentences.length>1&&(r.sentences=[r.sentences.join(" ")]),r.highlights.length>1&&(r.highlights=[r.highlights.reduce((function(e,t){return e.concat(t)}))])),r.allHighlightsCount=r.highlights.reduce((function(e,t){return t.length+e}),0),r},s.makeSummaryFromElements_deprecated=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=[],r=t.getElementsByTagName("*"),s=0;s<r.length;s++)n.push(r[s].tagName.toUpperCase());var a={summarize:!1,sentences:[],highlights:[],allHighlightsCount:0,olIndexes:[]},i=!1,o=!1,c=["P","OL","LI","UL","H1","H2","H3","H4","H5","H6"],l=new RegExp("</"+c.join("|")+"|"+c.map((function(e){return e.toLowerCase()})).join("|")+">");return n.forEach((function(e){if(-1!==c.indexOf(e)){t.innerHTML.match(l)&&0===t.innerHTML.match(l).index&&(t.innerHTML=t.innerHTML.replace(l,""));var n="</"+e.toLowerCase()+">",r=t.innerHTML.substring(t.innerHTML.indexOf("<"+e.toLowerCase()),t.innerHTML.indexOf(n)+n.length),s=r.match(/<ul|UL|OL|ol>/);if("LI"===e&&s&&s.index){r=r.substr(0,s.index);var u=t.innerHTML.indexOf(r);t.innerHTML=t.innerHTML.substr(u,u+s.index)+"</li>"+t.innerHTML.substr(u+s.index)}var d=t.getElementsByTagName(e)[0].innerHTML,p=t.getElementsByTagName(e)[0].innerText.trim(),h=d;if("[ \\ ^ $ . | ? * + ( ) /".split(" ").forEach((function(e){h=h.replace(e,"\\"+e)})),-1===["UL","OL"].indexOf(e)){var m=d.match(/<(?:strong|b)>[^<]*<\/(?:strong|b)>/g);m&&m.length?a.highlights.push(m.map((function(e){a.allHighlightsCount++;var t=document.createElement("span");return t.innerHTML=e,t.innerText}))):p.trim().length&&a.highlights.push([])}switch(e){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"P":p.trim().length&&a.sentences.push(p),t.innerHTML=t.innerHTML.replace(r,"");break;case"OL":i=!0,o=!1,t.innerHTML=t.innerHTML.replace(/<(ol|OL)>/,"");break;case"UL":o=!0,i=!1,t.innerHTML=t.innerHTML.replace(/<(ul|UL)>/,"");break;case"LI":i?p.trim().length&&(a.olIndexes.push(a.sentences.length),a.sentences.push(p)):o&&p.trim().length&&a.sentences.push("• "+p),t.innerHTML=t.innerHTML.replace(r,"")}}})),a},s.handleScriptEditorProceed=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,a=arguments;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",s.state.originalText.length>0&&(r=null===(t=s.state.originalText)||void 0===t?void 0:t.replace(/<[^>]*>/g,"").replace(/&nbsp;/g,"")),e.prev=2,!(r.length>0)){e.next=6;break}return e.next=6,s.props.getAutoDetectedLanguage(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("ERROR detecting language: ",e.t0);case 11:(n=s).gotoCreateVideoStep2ViaText.apply(n,a),C.Z.setItem("create-video-step1-state",JSON.stringify(s.state));case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))),s.gotoCreateVideoStep2ViaText=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,o,c,l,u,d,p,h,m,g;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==s.validateProjectQuota()){e.next=2;break}return e.abrupt("return");case 2:if(s.state.originalText=s.state.originalText.replace(/&nbsp;/g," "),""===s.state.originalText||null===s.state.originalText){e.next=21;break}if(""===s.state.originalText||null===s.state.originalText){e.next=16;break}return s.setState({redirectToAspectRatio:!1}),s.setState({isActive:!0}),r=s.breakParagraphsLineBreakToParagraphs(s.state.originalText),a=s.makeSummaryFromElements(r),e.next=12,s.props.getSummary(s.state.user.username,a,!1);case 12:(i=s.props.summary)&&i.summary&&i.summary.length>0?(S().getInstance().logEvent("start-with-script"),o="",c=0,l=-1,u=0,d=a.sentences.length?a.sentences[u]:"",p=[],i.summary.map((function(e,t){var n=e.sentence;d.indexOf(e.sentence)>-1?d=d.substring(e.sentence.length-1).trim():(u++,d=a.sentences[u]||"");var r=[];(a.highlights[u]||[]).length&&a.highlights[u].map((function(e,t){var s=n.indexOf(e);if(-1!==s){var a=e.length;r.push(e),n=n.substring(0,s)+"<strong>"+n.substring(s,s+a)+"</strong>"+n.substring(s+a)}})),a.olIndexes.indexOf(u)>-1&&(l==u-1?c+=1:c=1,n=c+". "+n,l=u),a.olNumbering&&a.olNumbering[u]&&(n=a.olNumbering[u]+". "+n),o+="<p>"+n+"</p><br />";var s={sentence:n,keywords:a.allHighlightsCount?r:e.keywords,type:"summary",image:"",subsentences:[e.sentence]};p.push(s)})),h={cognito_id:s.state.user.username,email:s.state.user.attributes.email,saveDate:new Date,projectName:(0,te.A2)((0,te.av)(s.state.videoName||p[0].sentence.substring(0,Ce.mn))),project_id:s.state.projectDetails?s.state.projectDetails.project_id:Date.now(),isNewProject:!0,source:"script",template:s.state.template},m=s.state.user.username+"/project/"+h.project_id+"/script.json",g=k.Z.Instance.GetUserUploadUrl(m,"public"),h.scriptTxtData=g,s.setState({isActive:!1}),s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{summaryJson:p,url:"",sentences:5,originalText:s.state.originalText,baseText:"",summaryText:o,imageURL:[],timePerFrame:[],isPrevious:!1,isSummaryOff:!1,lines:0,value:100,totalLines:0,sendOriginalText:!0,isSkipStep2:!0,startingSummary:"",allSummaryText:"",mainOriginalText:"",metaDescription:i.meta_description,articleKeywords:i.article_keywords,projectDetails:h,aspectRatioValue:t,aspectRatioClass:n,title:p[0].sentence,hasOneSubPerSentence:!0,autoHighlightKeywords:s.state.autoHighlightKeywords,autoVisualSelection:s.state.autoVisualSelection,selectedValueSceneBreakChar:s.state.selectedValueSceneBreakChar,scriptLanguage:s.props.detectedLanguage}}),C.Z.removeItem("create-video-step1-state"),s.setState({isActive:!1}),S().getInstance().logEvent("language-detected",{useCase:"script-to-video",language:s.props.detectedLanguage?s.props.detectedLanguage:"en",projectId:h.project_id})):(S().getInstance().logEvent("failed-script",{script:s.state.originalText}),s.setState({isActive:!1})),e.next=19;break;case 16:s.setState({isActive:!1}),alert("Please enter valid text"),document.getElementById("txtText").focus();case 19:e.next=22;break;case 21:s.setState({isActive:!1,scriptError:"Please enter valid text"});case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.breakHighlightsForSubsentences=function(e,t,n){t=t.map((function(e){var t=n.indexOf(e);return{start:t,end:t+e.length,text:e}})),e=e.map((function(e){var t=n.indexOf(e);return{start:t,end:t+e.length,text:e}}));var r=[];return e.forEach((function(e){if(t.filter((function(t){return e.start>=t.start&&e.end<=t.end})).length)r.push(e.text);else{var n=t.filter((function(t){return e.start>=t.start&&e.end>=t.end}))[0],s=t.filter((function(t){return e.end<=t.end&&e.start<=t.start}))[0];if(n&&s){var a=n.end-e.start;r.push(e.text.substring(0,a)),r.push(e.text.substring(a+1))}}})),r},s.getSEPlaceholder=function(){return"Start typing here, or paste your script using "+("MacOS"===(0,te.L9)()?"cmd+v":"ctrl+v")},s.getModifiedDecoupledEditor=function(){var e=["Essentials","Alignment","FontSize","FontFamily","FontColor","FontBackgroundColor","UploadAdapter","Autoformat","Bold","Italic","Strikethrough","Underline","BlockQuote","CKFinder","EasyImage","Heading","Image","ImageCaption","ImageStyle","ImageToolbar","ImageUpload","Indent","IndentBlock","Link","List","MediaEmbed","Paragraph","PasteFromOffice","Table","TableToolbar","TextTransformation"],t=["Link","FontFamily","FontBackgroundColor","UploadAdapter","CKFinder","ImageCaption","ImageStyle","Indent","IndentBlock","MediaEmbed","TextTransformation","FontColor","Table","TableToolbar","TextTransformation","Link"];return ve().builtinPlugins.length<e.length||(ve().builtinPlugins=ve().builtinPlugins.filter((function(n,r){return!(t.indexOf(e[r])>-1)}))),ve()},s.arrayUnique=function(e){return e.filter((function(e,t,n){return t==n.indexOf(e)}))},s.updateContent=function(e){s.setState({originalText:e})},s.selectArticleDocument=function(e){e.preventDefault();var t=e.target.files[0];s.setArticleDocument(t)},s.setLoadingFromVisuals=function(e){s.setState({isActive:e})},s.gotoAspectRatio=function(){s.setState({redirectToAspectRatio:!0,isRedirectToArrangeVisuals:!0}),C.Z.setItem("create-video-step1-state",JSON.stringify(s.state))},s.selectAspectRatioForVisuals=function(e,t,n){s.setState({ratioClass:t,ratioValue:e,aspectRatioFractionValue:n,redirectToAspectRatio:!1})},s.getStringRetry=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,o=arguments;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:0,s.props.location.state,!(r>=3)){e.next=4;break}return e.abrupt("return","");case 4:return e.prev=4,e.next=7,s.getString(t);case 7:a=e.sent,e.next=18;break;case 10:return e.prev=10,e.t0=e.catch(4),(0,w.x2)("Script could not be loaded. Please contact support."),r+=1,S().getInstance().logEvent("step1-script-load-fail",{method:"getStringRetry",error:e.t0.message,retryCount:r}),e.next=17,s.getStringRetry(t,n,r);case 17:case 31:return e.abrupt("return",e.sent);case 18:if(200!=a.status){e.next=26;break}return e.next=21,a.text();case 21:i=e.sent,n(i,!0),s.setState({initialScriptNotSaved:!1}),e.next=32;break;case 26:return(0,w.x2)("Script could not be loaded. Please contact support."),r+=1,S().getInstance().logEvent("step1-script-load-fail",{method:"getStringRetry",error:a.status,retryCount:r}),e.next=31,s.getStringRetry(t,n,r);case 32:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}(),s.getString=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getText=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n,r){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t,{method:"GET",headers:{"cache-control":"no-store, max-age=0"}}).then((function(e){return e.json()})).then((function(e){r(e,!0)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s.openProject=function(e){s.setState({isActive:!0,openingProject:!0}),s.props.openProject(e.project_id,Ce.vY.OpenProject,e.cognito_id)},s.openSampleVideo=(0,O.Z)((0,N.Z)().mark((function e(){var t,n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==s.validateProjectQuota()){e.next=2;break}return e.abrupt("return");case 2:return s.setState({isActive:!0}),S().getInstance().logEvent("created-sample-video"),t={cognito_id:s.state.user?s.state.user.username:"",email:s.state.user?s.state.user.attributes.email:"",project_id:Date.now(),source:"transcribe",currentState:"transcribed",inProgress:!1,articleUrl:Ce.ls,projectName:"Untitled Project",progress:0,saveDate:new Date,isSubtitleEnabled:!0,states:[],withSummaryAnalysis:!0,isAnalysed:!0},e.next=7,s.props.getProjectNameBegin(s.state.user.username,t.projectName);case 7:return t.projectName=s.props.projectName,n={body:t},e.next=11,s.props.saveProject(n);case 11:s.getText(Ce.$q,t.project_id,(function(e){var n=(0,o.Z)((0,o.Z)({},t),{},{title:e.title});e.transcribe_sentences&&(n.transcribe_sentences=e.transcribe_sentences),e.selectedSentences&&(n.selectedSentences=(0,B.Z)(e.selectedSentences)),delete n.versionId,s.props.projectOpened({projectOpenError:!1,project:n,projectAction:Ce.vY.OpenProject}),s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:n,projectList:s.props.allVideos,step2Data:e,lines:e.summary.length,totalLines:e.text_num_sentences,isPrevious:!0,url:t.articleUrl,saveProjectFirst:!0,value:parseInt(e.summary.length/e.text_num_sentences*100)}})}));case 12:case"end":return e.stop()}}),e)}))),s.redirectFromRecent=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,a,i,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,S().getInstance().logEvent("saved-video-opened",{"project-name":n.projectName,"project-category":n.projectCategory}),!(n.scenes&&n.scenes.length>0)){e.next=6;break}"transcribe"===n.source?s.openTranscribeStep3(t.project_id,n):setTimeout((function(){s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:t.project_id,projectDetails:n,projectList:s.props.allVideos,isCanceled:!0,title:n.title?n.title:null}})}),100),e.next=19;break;case 6:if(!n.step2TxtData){e.next=10;break}s.getText(n.step2TxtData,n.project_id,(function(e,t){var r=(0,o.Z)({},n);"transcribe"===n.source?s.openTranscribeStep2(r,e):(r.title=e.title,s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:r,projectList:s.props.allVideos,step2Data:e,lines:e.summary.length,totalLines:e.text_num_sentences,isPrevious:!0,url:n.articleUrl,value:parseInt(e.summary.length/e.text_num_sentences*100),saveProjectFirst:t}}))})),e.next=19;break;case 10:if(!n.scriptTxtData){e.next=14;break}setTimeout((0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.openProjectFromScriptEditor(t);case 2:case"end":return e.stop()}}),e)}))),100),e.next=19;break;case 14:return r=n.states&&n.states[0]&&n.states[0].responseId,e.next=17,s.props.getDataFromResponseId(r);case 17:(a=s.props.transcribeDataFromId)?(a=a.data,i=[],a.transcribe_sentences.map((function(e,t){var n=(0,o.Z)((0,o.Z)({},e),{},{before:null,enabled:!0,image:[e.url],keywords:[],sentence:e.sentence,sentence_index:t,"sub-sentences":[e.sentence],type:"summary",isSelected:!0});i.push(n)})),(c=(0,o.Z)((0,o.Z)({},n),{},{title:n.projectName})).transcribe_sentences=a.transcribe_sentences,c.selectedSentences=i,s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:c,projectList:s.props.allVideos,step2Data:a,lines:0,totalLines:20,isPrevious:!0,saveProjectFirst:!0,url:c.articleUrl,value:0}})):s.setState({isActive:!1},(function(){(0,w.JQ)("Transcription is still under process")}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.openTranscribeStep3=function(e,t){t.step2TxtData&&s.getText(t.step2TxtData,t.project_id,(function(n,r){n.summaryResponse?(t.speakers=n.speakers,s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:e,projectDetails:t,projectList:s.props.allVideos,isCanceled:!0,title:t.title?t.title:null,originalText:n.summaryResponse.text,summaryText:n.summaryResponse.html,imageURL:[],articleImages:n.summaryResponse.images,isPrevious:!1,isSummaryOff:!1,lines:n.lines,totalLines:n.totalLines,value:n.value,metaDescription:n.summaryResponse.meta_description,articleKeywords:n.summaryResponse.article_keywords,step2Data:n.summaryResponse,selectedSentences:n.selectedSentences,transcribe_sentences:n.transcribe_sentences,isSubtitleEnabled:n.project.isSubtitleEnabled,isRemoveFillers:n.project.isRemoveFillers,isSummarized:n.project.isSummarized,summarizePercent:n.project.summarizePercent}})):s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:e,projectDetails:t,projectList:s.props.allVideos,isCanceled:!0,title:t.title?t.title:null}})}))},s.openTranscribeStep2=function(e,t){var n;t.summaryResponse?e.title=t.summaryResponse.title:e.title=t.title,t.transcribe_sentences&&(e.transcribe_sentences=t.transcribe_sentences),t.selectedSentences&&(e.selectedSentences=t.selectedSentences),e.speakers=t.speakers||(null===(n=t.summaryResponse)||void 0===n?void 0:n.speakers),t.summaryResponse?s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:e,projectList:s.props.allVideos,step2Data:t.summaryResponse,lines:t.lines,totalLines:t.totalLines,isPrevious:!0,url:e.articleUrl,value:t.value,saveProjectFirst:!0}}):s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:e,projectList:s.props.allVideos,step2Data:t,lines:t.summary?t.summary.length:1,totalLines:t.text_num_sentences?t.text_num_sentences:1,isPrevious:!0,url:e.articleUrl,value:parseInt((t.summary?t.summary.length:1)/(t.text_num_sentences?t.text_num_sentences:1)*100),saveProjectFirst:!0}})},s.openNotification=function(){s.setState({openNotificationUpload:!s.state.openNotificationUpload})},s.onClickBecomeAffliliate=function(){s.props.history.push(b.Z.BaseURL+y.Z.affiliate_become)},s.onClickAffliliateDashboard=function(){s.props.history.push({pathname:b.Z.BaseURL+y.Z.affiliate_Dashboard+"/"+s.props.affiliate.auth_token,state:{affiliate:s.props.affiliate}})},s.showAffiliateBanner=function(){var e,t,n,r,a,i=!0;return null!==(e=s.props)&&void 0!==e&&e.affiliate&&null!==(t=s.props)&&void 0!==t&&null!==(n=t.affiliate)&&void 0!==n&&n.showInApp&&"no"==(null===(r=s.props)||void 0===r||null===(a=r.affiliate)||void 0===a?void 0:a.showInApp)&&(i=!1),i},s.showBecomeAffiliate=function(){var e,t=!0;return null!==(e=s.props)&&void 0!==e&&e.affiliate&&(t=!1),t},s.showAffiliatDashboard=function(){var e,t,n,r,a,i=!0;return null!==(e=s.props)&&void 0!==e&&e.affiliate?null!==(t=s.props)&&void 0!==t&&null!==(n=t.affiliate)&&void 0!==n&&n.showInApp&&"no"==(null===(r=s.props)||void 0===r||null===(a=r.affiliate)||void 0===a?void 0:a.showInApp)&&(i=!1):i=!1,i},s.onEditorMouseDown=function(e){if(2===e.button){event.preventDefault();var t=s.ckEditorRef.editor.data.stringify(s.ckEditorRef.editor.model.getSelectedContent(s.ckEditorRef.editor.model.document.selection));t&&t.length?s.setState({isSETextSelected:!0}):s.setState({isSETextSelected:!1}),s.setState({seContextMenu:null===s.state.seContextMenu?{mouseX:event.clientX+2,mouseY:event.clientY-6}:null,selectionStart:0,selectionEnd:0})}},s.hideScriptEditorMenu=function(){s.setState({seContextMenu:null})},s.onSEHighlight=function(e){s.ckEditorRef.editor.commands.get("bold").execute(),s.hideScriptEditorMenu()},s.onSEDelete=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s.ckEditorRef.editor.commands.get("delete").execute()}catch(e){}s.hideScriptEditorMenu();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onSECopy=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=s.ckEditorRef.editor.data.stringify(s.ckEditorRef.editor.model.getSelectedContent(s.ckEditorRef.editor.model.document.selection)),navigator.clipboard.writeText(n)}catch(e){}s.hideScriptEditorMenu();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onSEPaste=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,a,i,o,c,l,u;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.hideScriptEditorMenu(),e.next=4,navigator.clipboard.read();case 4:t=e.sent,n="",r=0;case 7:if(!(r<t.length)){e.next=35;break}if(a=t[r],i="",!a.types.includes("text/html")){e.next=21;break}return e.next=13,a.getType("text/html");case 13:return i=e.sent,e.next=16,i.text();case 16:n=e.sent,n=(0,Se.Z)(n),o=s.ckEditorRef.editor.data.processor.toView(n),c=s.ckEditorRef.editor.data.toModel(o),s.ckEditorRef.editor.model.insertContent(c);case 21:if(n||!a.types.includes("text/plain")){e.next=32;break}return e.next=24,a.getType("text/plain");case 24:return i=e.sent,e.next=27,i.text();case 27:n=(n=e.sent).startsWith("<p>")?(0,Se.Z)(n):(0,xe.Z)(n),l=s.ckEditorRef.editor.data.processor.toView(n),u=s.ckEditorRef.editor.data.toModel(l),s.ckEditorRef.editor.model.insertContent(u);case 32:r++,e.next=7;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),console.log("Error in paste:"+e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,37]])}))),s.onLanguageSelect=function(e){var t=e.value,n=e.code;s.setState({language:n,languageValue:t})},s.savingStatusNotification=function(){return(0,E.jsxs)(h.Z,{sx:{minWidth:"150px",ml:2,mr:2,display:"flex",alignItems:"center",justifyContent:"end"},children:["Save"===s.state.saveButtonText&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(de.oe,{strokeColor:"#F0F0F0"})}),"Saving"===s.state.saveButtonText&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{color:"grey.400",children:"Saving changes  "}),(0,E.jsx)(de.oe,{isRotating:!0})]}),"Saved"===s.state.saveButtonText&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{color:"grey.400",children:"Saved  "}),(0,E.jsx)(de.Fn,{})]})]})},s.saveProjectDetails=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,a,i,o,c,l,u,d,p,h;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=s.state.originalText.length){e.next=2;break}return e.abrupt("return");case 2:if(s.setState({saveButtonText:"Saving"}),a=s.state.projectDetails,s.state.projectDetails){e.next=20;break}return a={cognito_id:s.state.user.username,email:s.state.user.attributes.email,saveDate:new Date,projectName:(0,te.A2)((0,te.av)(s.state.videoName)),project_id:Date.now(),isNewProject:!0,source:"script"},i=s.state.user.username+"/project/"+a.project_id+"/script.json",e.prev=7,e.next=10,s.props.uploadImage({filePath:i,file:s.state.originalText});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),e.t0;case 15:return"success"==s.props.uploadImageStatus&&(o=k.Z.Instance.GetUserUploadUrl(i,"public"),a.scriptTxtData=o,a.scriptTxtSceneSettings={autoVisualSelection:s.state.autoVisualSelection,autoHighlightKeywords:s.state.autoHighlightKeywords,selectedValueSceneBreakChar:s.state.selectedValueSceneBreakChar}),c={body:a},e.next=20,s.props.saveProject(c);case 20:if(a.projectName==s.state.videoName){e.next=31;break}return l=s.state.user.username+"/project/"+a.project_id+"/script.json",e.next=24,s.props.uploadImage({filePath:l,file:s.state.originalText});case 24:return a.projectName=(0,te.A2)((0,te.av)(s.state.videoName)),a.scriptTxtSceneSettings={autoVisualSelection:s.state.autoVisualSelection,autoHighlightKeywords:s.state.autoHighlightKeywords,selectedValueSceneBreakChar:s.state.selectedValueSceneBreakChar},u={body:a},e.next=29,s.props.saveProject(u);case 29:e.next=44;break;case 31:if((null===(t=a.scriptTxtSceneSettings)||void 0===t?void 0:t.autoVisualSelection)==s.state.autoVisualSelection&&(null===(n=a.scriptTxtSceneSettings)||void 0===n?void 0:n.autoHighlightKeywords)==s.state.autoHighlightKeywords&&(null===(r=a.scriptTxtSceneSettings)||void 0===r?void 0:r.selectedValueSceneBreakChar)==s.state.selectedValueSceneBreakChar){e.next=41;break}return d=s.state.user.username+"/project/"+a.project_id+"/script.json",e.next=35,s.props.uploadImage({filePath:d,file:s.state.originalText});case 35:return a.scriptTxtSceneSettings={autoVisualSelection:s.state.autoVisualSelection,autoHighlightKeywords:s.state.autoHighlightKeywords,selectedValueSceneBreakChar:s.state.selectedValueSceneBreakChar},p={body:a},e.next=39,s.props.saveProject(p);case 39:e.next=44;break;case 41:return h=s.state.user.username+"/project/"+a.project_id+"/script.json",e.next=44,s.props.uploadImage({filePath:h,file:s.state.originalText});case 44:s.setState({saveButtonText:"Saved",projectDetails:a,initialScriptNotSaved:!1});case 45:case"end":return e.stop()}}),e,null,[[7,12]])}))),s.playEOYVideo=function(){s.setState({addEOYVideo:!0,isEOYLoading:!1})},s.onScriptNameChange=function(e){clearTimeout(s.clearTimerRef.current),s.setState({videoName:e.target.value},(function(){s.clearTimerRef.current=setTimeout((0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.state.isAnyChange||s.setState({isAnyChange:!0});case 1:case"end":return e.stop()}}),e)}))),1500)}))},s.onDataChange=function(e){e&&e.replace(/<[^>]*>/g,"").replace(/&nbsp;/g,""),clearTimeout(s.clearTimerRef.current),s.setState({originalText:e,scriptError:""},(function(){s.clearTimerRef.current=setTimeout((0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.state.isAnyChange||s.setState({isAnyChange:!0});case 1:case"end":return e.stop()}}),e)}))),1500)}))},s.writingScriptScreen=function(){return s.props.classes,(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{style:{backgroundColor:"grey.400",width:"100%",paddingTop:"1rem",height:"calc(100vh - ".concat(s.props.headerHeight,"px)")},children:(0,E.jsx)("main",{className:" step-1 transparent-background",style:{height:"100%"},children:(0,E.jsx)("div",{className:"col",style:{height:"100%",width:"100vw",marginLeft:"auto",marginRight:"auto"},children:(0,E.jsxs)("div",{className:"vertical-flex flex-space-between-start padded-content pl-0 col-width-70",style:{height:"100%",marginLeft:"auto",marginRight:"auto",paddingTop:0,paddingRight:0},children:[(0,E.jsx)("div",{style:{position:"relative"},children:(0,E.jsxs)("div",{className:"left-column",children:[(0,E.jsx)(g.Z,{color:"primary",variant:"outlined",startIcon:(0,E.jsx)("i",{className:"fa fa-clone"}),onClick:s.onSEPaste,sx:{textTransform:"unset",width:"max-content",marginBottom:"20px"},children:"Paste from clipboard"}),(0,E.jsx)(W.Z,{title:"To help AI find better visuals",children:(0,E.jsx)(g.Z,{color:"primary",variant:"outlined",startIcon:(0,E.jsx)(Ce.W8,{width:"18px"}),onClick:function(){s.ckEditorRef.editor.commands.get("bold").execute()},children:"Highlight"})})]})}),(0,E.jsxs)("div",{className:"horizontal space-between-center full-width mb-3",children:[(0,E.jsx)(m.Z,{variant:"h4b",style:{color:"grey.500"},children:"Script editor"}),(0,E.jsx)("span",{children:(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[s.savingStatusNotification(),(0,E.jsxs)(z.Z,{children:[(0,E.jsx)(g.Z,{color:"primary",variant:"outlined",onClick:function(){return s.setState({writingScript:!1,videoName:"",originalText:""})},children:"Cancel"}),(0,E.jsx)(g.Z,{className:s.state.initialScriptNotSaved||"Saving"===s.state.saveButtonText?"disabled":"",color:"primary",variant:"contained",onClick:function(){return s.handleScriptEditorProceed()},children:"Proceed"})]})]})})]}),(0,E.jsx)("div",{className:"fill-width",style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px"},children:(0,E.jsxs)("div",{className:"scene-gen-settings-container on-hover-event",style:{right:0},children:[(0,E.jsx)("span",{className:"scene-gen-settings pointer",children:(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.900",children:[(0,E.jsx)(G.Z,{fontSize:"small"}),"  Scene settings  ",(0,E.jsx)(M.Z,{fontSize:"small"})]})}),(0,E.jsxs)("div",{className:"scene-gen-settings-box show-on-hover white-background rounded-border-large gray-box-shadow p-4",style:{zIndex:10},children:[(0,E.jsxs)("div",{className:"flex-row space-between-center pb-1",children:[(0,E.jsx)(m.Z,{variant:"body2_resp",children:"Auto highlight keywords"}),(0,E.jsx)("span",{className:"mr-0",children:(0,E.jsx)(J.Z,{checked:s.state.autoHighlightKeywords,onChange:function(e){return s.setState({autoHighlightKeywords:e.target.checked,isAnyChange:!0})}})})]}),(0,E.jsxs)("div",{className:"flex-row space-between-center pb-1",children:[(0,E.jsx)(m.Z,{variant:"body2_resp",children:"Auto visuals selection"}),(0,E.jsx)("span",{className:"mr-0",children:(0,E.jsx)(J.Z,{checked:s.state.autoVisualSelection,onChange:function(e){return s.setState({autoVisualSelection:e.target.checked,isAnyChange:!0})}})})]}),(0,E.jsxs)("div",{className:"flex-row space-between-center pr-1 mr-1 mt-1",children:[(0,E.jsx)(m.Z,{variant:"body2_resp",sx:{width:"max-content"},children:"Create new scenes on"}),(0,E.jsx)(Fe.Fj,{dropdownMenuList:Ce.Nj,selectedValue:s.state.selectedValueSceneBreakChar,onSelectFn:function(e){return s.setState({selectedValueSceneBreakChar:e,isAnyChange:!0})},className:"list-dropdown scene-gen-settings-list-dropdown",border:"rounded",fullWidth:!1,muiStyled:!0})]})]})]})}),(0,E.jsxs)("div",{className:"script-video-name",children:[(0,E.jsx)("input",{placeholder:"Enter your video name",className:"sortof-black",value:s.state.videoName||"",maxLength:100,onChange:function(e){return s.onScriptNameChange(e)}}),(0,E.jsx)("hr",{})]}),(0,E.jsx)(ge(),{id:"CKEditorId",data:s.state.originalText,editor:s.getModifiedDecoupledEditor(),config:{disallowedContent:"a",toolbar:[],placeholder:s.getSEPlaceholder()},onChange:function(e,t){var n=s.postCopyingFiltersForCKEditor(t.getData());s.onDataChange(n)},style:{height:"100%",width:"100%"},ref:function(e){if(s.ckEditorRef=e,s.ckEditorRef&&s.ckEditorRef.editor){var t=s.ckEditorRef.editor.ui.view.editable.element;t&&t.addEventListener("mousedown",s.onEditorMouseDown)}}}),(0,E.jsx)(re,{seContextMenu:s.state.seContextMenu,handleClose:s.handleClose,onSECopy:s.onSECopy,onSEPaste:s.onSEPaste,onSEDelete:s.onSEDelete,onSEHighlight:s.onSEHighlight,isSETextSelected:s.state.isSETextSelected}),s.state.scriptError?(0,E.jsx)("label",{className:"script-error-step-1",children:s.state.scriptError}):null,(0,E.jsxs)("div",{className:"horizontal flex-space-between-start full-width",style:{height:"18px"},children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:(0,E.jsx)(m.Z,{variant:"subtitle2b_resp",children:"Spell-check"})}),(0,E.jsx)("span",{children:(0,E.jsx)(m.Z,{variant:"subtitle2b_resp",color:"primary",children:"  YES"})})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:(0,E.jsx)(m.Z,{variant:"subtitle2b_resp",children:"Characters"})}),(0,E.jsx)("span",{children:(0,E.jsxs)(m.Z,{variant:"subtitle2b_resp",color:"primary",children:["  ",s.state.originalText?s.state.originalText.replace(/<[^>]*>/g,"").replace(/&nbsp;/g,"").length:0]})})]})]})]})})})})})},s.setTemplate=function(e,t){var n=pe.R3.find((function(e){return e.class===t}));n||(n={value:pe.Jb,class:pe.TJ,fractionValue:pe.Wi}),s.state.isRedirectToArrangeVisuals?s.setState({template:e,ratioClass:n.class,ratioValue:n.value,aspectRatioFractionValue:n.fractionValue}):s.setState({template:e},(function(){return s.gotoCreateVideoStep2ViaText(n.value,n.class,n.fractionValue)}))},s.onLongerVideoClick=function(){!1!==s.validateProjectQuota()&&(S().getInstance().logEvent("start-editing-long-videos-init"),s.setState({showMediaTranscription:!0}))},s.resetStep1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?s.setState({selectedWorkspace:e}):s.setState({redirectToAspectRatio:!1,writingScript:!1,showMediaTranscription:!1,showArrangeVisualsStep1:!1,isActive:!1})},s.handleContextMenu=function(e){e.preventDefault(),s.setState({contextMenu:null===s.state.contextMenu?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null})},s.handleClose=function(){s.setState({contextMenu:null,seContextMenu:null})},s.handleFileImport=function(e){e.preventDefault();var t=Array.from(e.target.files);s.props.history.push({pathname:b.Z.BaseURL+y.Z.myProjects,state:{filesToImport:t}})},s.showPictoryGPTLaunchBanner=function(){var e=s.state.showPictoryGPTBanner;return(s.state.writingScript||s.state.showMediaTranscription||s.state.showArrangeVisualsStep1||s.state.isActive)&&(e=!1),e},s.clearTimerRef=c.createRef(),s.EOYVideoRef=c.createRef(),s.playerRef=c.createRef(),s.vjsComponentRef=c.createRef(),s.state={saveButtonText:"Save",isNewSignUp:s.props.location.state&&s.props.location.state.isNewSignUp,showConfettiAfterQs:s.props.location.state&&s.props.location.state.showConfettiAfterQs,url:void 0!==(s.props.location.state&&s.props.location.state.url)?s.props.location.state.url:"",text:void 0!==(s.props.location.state&&s.props.location.state.text)&&void 0!==(s.props.location.state&&s.props.location.state.sendOriginalText)&&!0===s.props.location.state.sendOriginalText?s.props.location.state.text:"",originalText:void 0!==(s.props.location.state&&s.props.location.state.originalText)&&void 0!==(s.props.location.state&&s.props.location.state.sendOriginalText)&&!0===s.props.location.state.sendOriginalText?s.props.location.state.originalText:"",sentences:void 0!==(s.props.location.state&&s.props.location.state.sentences)?s.props.location.state.sentences:5,isPreviousButton:void 0!==(s.props.location.state&&s.props.location.state.isPreviousButton)&&s.props.location.state.isPreviousButton,sendOriginalText:void 0!==(s.props.location.state&&s.props.location.state.sendOriginalText)&&s.props.location.state.sendOriginalText,isActive:!1,articleError:"",documentFile:void 0!==(s.props.location.state&&s.props.location.state.documentFile)?s.props.location.state.documentFile:null,documentFileName:void 0!==(s.props.location.state&&s.props.location.state.documentFileName)?s.props.location.state.documentFileName:"",articleDocumentError:"",isDragSupported:be.Z.isDragToUploadSupported(),writingUrl:!1,writingScript:!1,showMediaTranscription:!1,showFileUploadErrorOverlay:!1,showArrangeVisualsStep1:!1,invalidFiles:[],validSelectedFiles:[],isActiveLongerVideoSummarisation:!1,showLongerVideoUploadDialog:!1,shouldShowLongerVideoUploadingIcon:!0,allSelectedFiles:[],autoHighlightKeywords:!s.props.location.state||void 0===s.props.location.state.autoHighlightKeywords||s.props.location.state.autoHighlightKeywords,autoVisualSelection:!s.props.location.state||void 0===s.props.location.state.autoVisualSelection||s.props.location.state.autoVisualSelection,selectedValueSceneBreakChar:s.props.location.state&&void 0!==s.props.location.state.selectedValueSceneBreakChar?s.props.location.state.selectedValueSceneBreakChar:"Both",projectDetails:s.props.location.state&&s.props.location.state.projectDetails,isAnyChange:!1,languageDetected:!1,contextMenuOpen:!1,seContextMenu:null,xPos:0,yPos:0,initialScriptNotSaved:!0,isSETextSelected:!1,showConfetti:!0,selectedWorkspace:s.props.location.state&&s.props.location.state.selectedWorkspace,hideEOYBar:"false"===localStorage.getItem("showEOY"),isEOYLoading:!0,addEOYVideo:!1,showPictoryGPTBanner:!1,showPictoryGPTTimer:!1},s.props.location.state&&s.props.location.state.scriptLanguage){s.state.languageDetected=!0,s.state.language=s.props.location.state.scriptLanguage;var a=Ce.Kb.find((function(e){return e.code===s.props.detectedLanguage}));s.state.languageValue=a&&(null==a?void 0:a.value)}return s.state.projectDetails&&(s.state.projectDetails.scriptTxtData&&(s.state.writingScript=!0,s.state.isActive=!1),s.state.projectDetails.scriptTxtSceneSettings||(s.state.projectDetails.scriptTxtSceneSettings={autoHighlightKeywords:s.state.autoHighlightKeywords,autoVisualSelection:s.state.autoVisualSelection,selectedValueSceneBreakChar:s.state.selectedValueSceneBreakChar}),s.redirectFromRecent(s.state.projectDetails)),s.state.sendOriginalText&&s.setState({originalText:s.props.location.state.originalText}),s.closeOverlay=c.createRef(),s}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){this.props.resetProjectName(),this.props.releaseAssetsObjectURLs(),this.props.releaseMediaResources(),this.restoreStateFromLocalStorage("create-video-step1-state")}},{key:"restoreStateFromLocalStorage",value:function(e){var t=this,n=C.Z.getItem(e),r=JSON.parse(n);this.setState(r),r&&setTimeout((function(){t.setState({isRedirectToArrangeVisuals:!0,redirectToAspectRatio:!0})}),10)}},{key:"isDragToUploadSupported",value:function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}},{key:"componentDidUpdate",value:function(e,t){var n,r=this;this.onGetAutoDetectedLanguageResultChanged(e),window.location&&window.location.hostname&&(window.location.hostname.startsWith("app")||window.location.hostname.startsWith("dev")),ie()('[data-toggle="tooltip"]').tooltip(),1==this.state.isAnyChange&&0==t.isAnyChange&&setTimeout((0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.saveProjectDetails();case 2:r.setState({isAnyChange:!1});case 3:case"end":return e.stop()}}),e)}))),100),this.props.isFetchingRecentProjects!==e.isFetchingRecentProjects&&!1===this.props.isFetchingRecentProjects&&(this.setState({projectFetchCompleted:!0}),(null===(n=this.props.recentVideos)||void 0===n?void 0:n.length)<=0&&(0,te.E3)()?this.setState({showImportProjectsButton:!0}):this.setState({showImportProjectsButton:!1}))}},{key:"componentWillReceiveProps",value:function(e){this.state.openingProject&&(!0===this.props.openingProject&&null===this.props.activeProject&&!1===e.openingProject&&null!==e.activeProject?(this.setState({openingProject:!1}),this.redirectFromRecent(e.activeProject)):!0===this.props.openingProject&&!1===this.props.projectOpenError&&!1===e.openingProject&&!0===e.projectOpenError&&this.setState({isActive:!1,openingProject:!1}))}},{key:"componentDidMount",value:function(){var e,t,n=this;if(this.props.showLoadingOverlayRequest({show:!0,message:"Please wait..."}),C.Z.getItem("create-video-step2-state")){var r=C.Z.getItem("create-video-step2-location-state"),s=JSON.parse(r);this.props.history.push("".concat("","/").concat(y.Z.stepTwo_articleToVideo),s)}else setTimeout((function(){n.setState({showConfetti:!1})}),4e3),C.Z.removeItem("lastUrl"),C.Z.setItem("lastUrl",y.Z.stepOne),v.g.currentAuthenticatedUser().then((function(e){n.setState({user:e},(function(){n.props.location.state&&n.props.location.state.isPreviousButton&&n.props.location.state.originalText&&n.openStartFromScriptEditor(!0)})),n.props.getMyVideos(e.username),n.props.getRecentVideos(e.username),n.props.hideLoadingOverlayRequest();var t=(0,te.E3)();t&&(n.setState({selectedWorkspace:{teamId:t}}),n.props.getTeamUsersRequest(t))})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this)),this.state.sendOriginalText&&null!==(e=this.props.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.originalText&&this.setState({originalText:this.props.location.state.originalText}),this.urtInputElement=document.getElementById("txtURL")}},{key:"onGetAutoDetectedLanguageResultChanged",value:function(e){var t=this;if(this.props.getAutoDetectedLanguageResult&&this.props.getAutoDetectedLanguageResult!==e.getAutoDetectedLanguageResult&&this.props.getAutoDetectedLanguageResult.success&&this.props.detectedLanguage){var n=Ce.Kb.find((function(e){return e.code===t.props.detectedLanguage}));n&&this.setState({language:this.props.detectedLanguage,languageValue:n&&(null==n?void 0:n.value)}),this.setState({languageDetected:!0}),console.log("Language detected:"+(null==n?void 0:n.value))}}},{key:"breakParagraphsLineBreakToParagraphs",value:function(e){var t=e.match(/(<p[a-zA-Z\-= "']*>.*(<br>|<br \/>|<br\/>).*<[ ]?\/p>)/g);return t?(t.forEach((function(t){var n=t.replace(/(<br>|<br \/>|<br\/>)/g,"</p><p>");e=e.replace(t,n)})),e):e}},{key:"postCopyingFiltersForCKEditor",value:function(e){return e.replace(/<strong>hashtag#/,"<strong>#")}},{key:"handleTemplateSelected",value:function(){this.state.writingScript&&this.setState({isRedirectToArrangeVisuals:!1}),C.Z.removeItem("create-video-step1-state"),this.setState({isActive:!1})}},{key:"setArticleDocument",value:function(e){this.setState({documentFile:e,documentFileName:e.name,articleDocumentError:""})}},{key:"render",value:function(){var e,t,n=this,r=this.props.classes;return(0,E.jsxs)(c.Fragment,{children:[this.state.showConfettiAfterQs&&this.state.showConfetti?(0,E.jsx)(ke(),{style:{width:"100vw",height:"100vh",left:0,right:0,position:"absolute"}}):(0,E.jsx)(E.Fragment,{}),this.state.showProjectQuotaUpgradeDialog?(0,E.jsx)(ye.Z,{planName:this.state.planName,projectQuotaExceeded:!0,onClose:this.closeProjectQuotaExceededModelDialog}):(0,E.jsx)(E.Fragment,{}),(0,E.jsx)("div",{className:"full-height",style:{display:this.state.redirectToAspectRatio?"none":"block"},children:(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(ue.Z,{active:this.state.isActive,spinner:!0,text:"Please wait..."}),(0,E.jsxs)(h.Z,{className:"PictoryGPTBanner",sx:{backgroundImage:"url(/images/gradient_banner_bg.png)"},children:[this.state.showPictoryGPTTimer&&(0,E.jsxs)(m.Z,{variant:"text_lg",sx:{fontWeight:"600"},children:["Start your video in ChatGPT with Pictory GPT.",(0,E.jsxs)(m.Z,{variant:"text_lg",className:"ProductHuntLink",sx:{fontWeight:"normal",marginLeft:"3px"},children:[" ","Learn more and chat with our founders on"," ",(0,E.jsx)("a",{href:"https://www.producthunt.com/products/pictory",target:"_blank",children:(0,E.jsx)("u",{children:"Product Hunt"})})]}),(0,E.jsxs)(m.Z,{variant:"text_lg",sx:{fontWeight:"normal",marginLeft:"3px"},children:["in"," "]})]}),(0,E.jsx)(mr.default,{showTimer:this.showFlipTimer,showBanner:this.showBanner}),!this.state.showPictoryGPTTimer&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{variant:"text_lg",sx:{fontWeight:"normal",marginLeft:"3px"},children:"Introducing Pictory GPT: Support our launch and chat with our founders on Product Hunt today!"}),(0,E.jsx)(g.Z,{variant:"contained",sx:{marginLeft:"10px"},children:(0,E.jsx)("a",{href:"https://www.producthunt.com/posts/pictory-gpt-for-videos",target:"_blank",children:"Go"})})]})]}),(0,E.jsx)(h.Z,{className:"EOY-Header-Wrapper",children:(0,E.jsx)(he.Z,{history:this.props.history,downloadTaskVideo:!0,shouldShowLongerVideoUploadingIcon:this.state.shouldShowLongerVideoUploadingIcon,closeWritingScript:function(){n.props.getRecentVideos(n.state.user.username),n.setState({writingScript:!1,showMediaTranscription:!1})},openNotificationUpload:this.state.openNotificationUpload,getRecentVideos:function(){return n.props.getRecentVideos(n.state.user.username)},resetStep1:this.resetStep1,updateWorkspaceDetails:function(e){return n.setState({selectedWorkspace:e})},showPictoryGPTBanner:this.state.showPictoryGPTBanner&&this.showPictoryGPTLaunchBanner(),showMediaTranscription:this.state.showMediaTranscription})}),(this.state.showFileUploadErrorOverlay||this.state.showArrangeVisualsStep1||this.state.showLongerVideoUploadDialog)&&(0,E.jsx)("div",{className:"focus-overlay-wrapper",children:" "}),(0,E.jsxs)("div",{className:"page-content d-flex align-items-stretch full-height",style:(0,o.Z)({height:"100vh",overflow:"hidden"},this.showPictoryGPTLaunchBanner()?{paddingTop:"100px"}:{}),children:[this.state.writingScript&&this.writingScriptScreen(),this.state.showMediaTranscription?(0,E.jsx)(Le.MediaTranscription,{onDemoVideoClick:this.openSampleVideo,currentUser:this.state.user,openNotification:this.openNotification,history:this.props.history,isAutoSummarize:this.state.isActiveLongerVideoSummarisation,validateProjectQuota:this.validateProjectQuota}):(0,E.jsx)(E.Fragment,{}),!this.state.writingScript&&!this.state.showMediaTranscription&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(D.Z,{sx:{width:"87%",marginLeft:"6.5%",height:"calc(100vh - var(--app-header-height) - 0px)",pt:"4.5vh"},children:[(0,E.jsxs)(h.Z,{children:[(0,E.jsxs)(D.Z,{direction:"row",sx:{width:"100%"},className:this.state.EOYVideoSrc?"EOY-User-Greeting":"",children:[(0,E.jsxs)(D.Z,{direction:"row",spacing:2,sx:{width:"45%",alignItems:"center"},className:"EOY-Username",children:[(0,E.jsx)("img",{src:"/icons/step1/wave_hand.png",alt:"hello",height:"36px",width:"36px",className:"hand"}),(0,E.jsxs)(m.Z,{variant:"text_3xl",children:["Hello, ",(0,te.x4)(this.state.user?this.state.user.username:"")||"There","!"," "]})]}),(0,E.jsx)("div",{className:"vertical-flex right-aligned-text",style:{width:"55%",alignItems:"flex-end"},children:(0,E.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"end",height:"85px"},children:[this.state.selectedWorkspace&&this.state.selectedWorkspace.teamId!=Ce.vn&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",height:"30px",marginBottom:"10px"},children:this.state.selectedWorkspace.name&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{variant:"text_sm",sx:{textWrap:"nowrap"},children:"Recent projects in"}),(0,E.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)(Vn.Z,{size:"xtra-small",name:this.state.selectedWorkspace.name,imgSrc:null,backgroundColor:"primary.light",sx:{position:"relative",mx:"8px"},labelfontSize:"12px"}),(0,E.jsxs)(m.Z,{variant:"text_sm",sx:{textWrap:"nowrap",color:"grey.800"},children:[" ",this.state.selectedWorkspace.name]})]})]})}),this.state.showImportProjectsButton&&(0,E.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,E.jsx)(m.Z,{sx:{fontSize:"27px !important",transform:"rotate(90deg)",mr:"14px"},children:"👆"}),(0,E.jsx)(g.Z,{variant:"outlined",sx:{boxShadow:"0px 0px 8px 0px #852CFF, 0px 0px 4px 0px #852CFF"},onClick:function(){return n.setState({openImportProjectsDialog:!0})},children:"Import my projects"})]})]}),this.state.selectedWorkspace&&this.state.selectedWorkspace.teamId==Ce.vn&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(m.Z,{variant:"subtitle2_resp",sx:{mr:"2px"},children:"Recent Projects"})}),!this.state.showImportProjectsButton&&(0,E.jsxs)(E.Fragment,{children:[this.props.isFetchingRecentProjects&&(0,E.jsx)("div",{className:"min-height-50 right-aligned-text font-size-4",children:(0,E.jsx)("img",{src:"/icons/step1/loading.png"})})||"",!this.props.isFetchingRecentProjects&&this.props.recentVideos&&this.props.recentVideos.length?(0,E.jsxs)("div",{className:"min-height-50 vertical-flex center-end",children:[this.props.recentVideos[0]&&(0,E.jsx)("span",{className:"font-size-4 mb-1 blue-links yellow-tag",style:{cursor:"pointer"},onClick:function(){n.openProject(n.props.recentVideos[0])},children:this.props.recentVideos[0].projectName}),this.props.recentVideos[1]&&(0,E.jsx)("span",{className:"font-size-4 mb-1 blue-links blue-tag",style:{cursor:"pointer"},onClick:function(){n.openProject(n.props.recentVideos[1])},children:this.props.recentVideos[1].projectName})]}):!this.props.isFetchingRecentProjects&&(0,E.jsx)("div",{className:"min-height-50 flex-centered  font-size-4",children:(0,E.jsx)("p",{className:"fill-width",children:"No projects found !"})})]})]})})]}),(0,E.jsx)("hr",{className:"fill-width divider-line",style:{margin:"6px"}})]}),(0,E.jsx)(h.Z,{sx:(0,o.Z)({},{"@media (min-height:600px)":{height:"6%"},"@media (min-height:720px)":{height:"6%"},"@media (min-height:768px)":{height:"6%"},"@media (min-height:800px)":{height:"6%"},"@media (min-height:900px)":{height:"7%"},"@media (min-height:2160px)":{height:"10%"}}),className:"EOY-Question-hide",children:(0,E.jsx)(m.Z,{variant:"h4sb_resp",sx:{color:"primary.main",width:"70%",marginLeft:"72px"},children:"Which content would you like to repurpose into videos?"})}),(0,E.jsxs)(D.Z,{direction:"row",sx:(0,o.Z)((0,o.Z)({},_r(!0)),{},{display:"flex",justifyContent:"center",background:"#fff",borderRadius:"20px"}),className:"staticCardContainer",children:[(0,E.jsxs)(D.Z,{direction:"column",sx:(0,o.Z)({},_r(!1)),children:[(0,E.jsxs)(D.Z,{className:"".concat(r.cardTwo," ").concat(r.cardBase," Feature-Card"),children:[(0,E.jsxs)(D.Z,{direction:"row",spacing:2,sx:{color:"grey.700",height:"25%",p:"0px 10px 0px 10px"},children:[(0,E.jsxs)(m.Z,{variant:"h5b",className:"card-title",sx:{width:"70%"},children:["Script ",(0,E.jsx)("br",{}),"to Video"]}),(0,E.jsx)(h.Z,{sx:{width:"30%",textAlign:"right"},children:(0,E.jsx)(pr.Z,{fontSize:"large"})})]}),(0,E.jsx)(h.Z,{sx:{height:"50%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,E.jsxs)(m.Z,{variant:"body3_resp",style:{color:"grey.700",textAlign:"center",maxWidth:"19ch"},children:["Start typing or",(0,E.jsx)("br",{})," Copy paste your script"]})}),(0,E.jsx)(h.Z,{sx:{display:"flex",justifyContent:"center",height:"25%",pb:"1rem"},children:(0,E.jsx)(g.Z,{type:"submit",variant:"contained",color:"primary",className:(r.cardButton||"")+" script-to-video-button",style:{display:"inline-block",alignSelf:"flex-end"},onClick:function(){return n.openStartFromScriptEditor()},children:"Proceed"})})]}),(0,E.jsxs)(D.Z,{direction:"column",className:"use-cases",style:{margin:"12px auto 8px auto"},children:[(0,E.jsx)(m.Z,{variant:"subtitle2b_resp",sx:{color:"grey.500",mb:"5px"},children:"Recommended for:"}),(0,E.jsxs)(m.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,E.jsx)(H.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Educational videos"]}),(0,E.jsxs)(m.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,E.jsx)(H.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Listicle videos"]}),(0,E.jsxs)(m.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,E.jsx)(H.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Coaching videos"]}),(0,E.jsxs)(m.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,E.jsx)(H.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Step by step guides"]})]})]}),(0,E.jsx)(D.Z,{direction:"column",sx:(0,o.Z)({},_r(!1)),children:(0,E.jsx)(Ue.Card4ArticleToVideo,{user:this.state.user,history:this.props.history,validateProjectQuota:this.validateProjectQuota,classes:r,language:this.state.language})}),(0,E.jsxs)(D.Z,{direction:"column",sx:(0,o.Z)({},_r(!1)),children:[(0,E.jsx)(D.Z,{direction:"row",sx:(0,o.Z)({},{"@media (min-width:600px)":{paddingRight:"15px"},"@media (min-width:900px)":{paddingRight:"18px"},"@media (min-width:1200px)":{paddingRight:"21px"},"@media (min-width:1440px)":{paddingRight:"24px"},"@media (min-width:1600px)":{paddingRight:"27px"},"@media (min-width:1920px)":{paddingRight:"30px"},"@media (min-width:2560px)":{paddingRight:"36px"},"@media (min-width:3840px)":{paddingRight:"50px"},"@media (min-width:4096px)":{paddingRight:"60px"}}),className:"VESuperContainer",children:(0,E.jsx)(m.Z,{sx:{display:"flex",justifyContent:"end"},variant:"body3_resp",onClick:this.openSampleVideo,className:["step-1-sample-video-text clickable"].join(" "),children:"Try with demo video"})}),(0,E.jsx)(Ue.Card4VideoEditing,{openNotification:this.openNotification,user:this.state.user,history:this.props.history,isAutoSummarize:this.state.isActiveLongerVideoSummarisation,validateProjectQuota:this.validateProjectQuota,onClick:this.onLongerVideoClick,classes:r})]}),(0,E.jsx)(D.Z,{direction:"column",sx:(0,o.Z)({},_r(!1)),children:(0,E.jsx)(Ue.Card4VisualsToVideo,{openVisualValidations:this.openVisualValidations,openVisualArrangements:this.openVisualArrangements,cancelFromInvalid:this.state.cancelFromInvalid,validateProjectQuota:this.validateProjectQuota,classes:r,fileValidations:null!==(e=this.state)&&void 0!==e&&e.user?(0,te.eF)(this.state.user.username):null})})]}),this.showAffiliateBanner()&&(0,E.jsxs)(D.Z,{direction:"row",sx:(0,o.Z)((0,o.Z)({display:"flex",alignItems:"center",height:"80px",justifySelf:"center",ml:"auto",mr:"auto"},{"@media (min-height:600px)":{mt:"8px"},"@media (min-height:720px)":{mt:"8px"},"@media (min-height:768px)":{mt:"3rem"},"@media (min-height:800px)":{mt:"3rem"},"@media (min-height:900px)":{mt:"3rem"}}),{},{borderRadius:"10px",backgroundColor:"#ffffff"}),className:"EOY-Affiliate-Container",children:[(0,E.jsx)("img",{src:Be,width:"170px",style:{padding:"0px 20px 0px 0px",position:"relative"},alt:"Pictory",title:"Pictory"}),(0,E.jsx)("div",{style:{padding:"0px 4px",background:"transparent",position:"relative",borderRadius:"10px",border:"none"},children:(0,E.jsxs)("div",{className:"horizontal-flex ",style:{display:"flex",alignItems:"center"},children:[(0,E.jsxs)("span",{children:[(0,E.jsx)(m.Z,{component:"div",variant:"h5sb_resp",sx:{color:"#000000",marginLeft:"-10px",marginRight:"30px",marginTop:"-5px"},children:"Earn commissions and cash bonuses PLUS get a FREE Pictory account for LIFE"}),(0,E.jsx)(m.Z,{component:"div",variant:"body1_resp",sx:{color:"grey.700",marginLeft:"-10px",marginTop:"4px",lineHeight:"1.1"},children:"Simply share the awesomeness of Pictory with your friends"})]}),this.showBecomeAffiliate()&&(0,E.jsx)(g.Z,{onClick:this.onClickBecomeAffliliate,variant:"contained",color:"primary",style:{cursor:"pointer",textTransform:"unset",marginLeft:"10px",marginRight:"30px",borderRadius:"20px",height:"40px",position:"relative",paddingLeft:"20px",paddingRight:"20px",border:"none"},children:"Become an affiliate today"}),this.showAffiliatDashboard()&&(0,E.jsx)(g.Z,{onClick:this.onClickAffliliateDashboard,variant:"contained",color:"primary",style:{cursor:"pointer",textTransform:"unset",marginLeft:"10px",marginRight:"30px",borderRadius:"20px",height:"40px",position:"relative",paddingLeft:"20px",paddingRight:"20px",border:"none"},children:"Affiliate dashboard"})]})})]})]}),(0,E.jsxs)(h.Z,{className:"EOY-Video-Wrapper",children:[this.state.EOYVideoSrc&&this.state.addEOYVideo&&(0,E.jsx)(hr.default,{src:this.state.EOYVideoSrc,poster:this.state.EOYThumbnail}),this.state.isEOYLoading&&(0,E.jsx)(m.Z,{variant:"h5b",className:"card-title",sx:{color:"white",marginTop:"25px",padding:"5px",position:"absolute",left:"37%",top:"70%"},children:"A 2023 worth remembering: it wouldn't have been the same without you."})]})]})]}),this.state.showArrangeVisualsStep1&&(0,E.jsx)(Oe,{loading:this.setLoadingFromVisuals,aspectRatioValue:this.state.ratioValue,aspectRatioFractionValue:this.state.aspectRatioFractionValue,aspectRatioClass:this.state.ratioClass,gotoAspectRatio:this.gotoAspectRatio,history:this.props.history,openVisualArrangements:this.openVisualArrangements,user:this.state.user,files:this.state.validSelectedFiles,template:this.state.template,fileValidations:null!==(t=this.state)&&void 0!==t&&t.user?(0,te.eF)(this.state.user.username):null}),this.state.showLongerVideoUploadDialog&&(0,E.jsxs)("div",{className:"absolute-centered focus-overlay-element small-wide-modal vertical-flex p-6",children:[(0,E.jsx)("span",{className:"mt-4 font-size-5",children:"Upload file for transcription"}),(0,E.jsxs)("p",{className:"mt-3 font-size-4 horizontal-flex flex-space-between",children:[(0,E.jsx)("span",{className:"blue bold",children:"Webinar_Pictory_2020"}),(0,E.jsx)("span",{className:"grey",children:"210Mb"})]}),(0,E.jsx)("p",{className:"mt-3 mb-2 font-size-4",children:"Select the language of the source video *"}),(0,E.jsxs)(le.Z,{className:"basic-dropdown",children:[(0,E.jsx)(le.Z.Toggle,{variant:"basic",id:"chose-longer-video-language",children:"🇱🇷  US English"}),(0,E.jsxs)(le.Z.Menu,{children:[(0,E.jsx)(le.Z.Item,{href:"",children:"🇱🇷  US English"}),(0,E.jsx)(le.Z.Item,{href:"",children:"🇮🇳  IN English"}),(0,E.jsx)(le.Z.Item,{href:"",children:"🇮🇸  UK English"})]})]}),(0,E.jsx)("p",{className:"mt-3 mb-3 font-size-4 grey",children:"Approx 10 min to transcribe. You can continue to work on other stuff"}),(0,E.jsxs)("div",{className:"horizontal-flex",children:[(0,E.jsx)("div",{className:"flex-filler",children:" "}),(0,E.jsx)("a",{className:"blue pointer button-margin",children:"Cancel"}),(0,E.jsx)("button",{className:"rounded-blue-button btn-submit btn pl-4 pr-4",children:"Submit"})]})]}),this.state.showFileUploadErrorOverlay&&(0,E.jsxs)("div",{className:"absolute-centered focus-overlay-element small-modal vertical-flex p-6",children:[(0,E.jsx)("span",{className:"font-size-45 bold ",children:"File upload"}),(0,E.jsxs)("p",{className:"mt-4 font-size-45",children:[(0,E.jsxs)("span",{className:"blue",children:[this.state.invalidFiles.length," of ",this.state.allSelectedFiles.length," files"]})," ","are larger than expected or in invalid format and cannot be uploaded."]}),this.state.allSelectedFiles.length!=this.state.invalidFiles.length?(0,E.jsx)("p",{className:"mt-2 mb-4 font-size-45",children:"Would you like to skip those and continue uploading the remaining files?"}):(0,E.jsx)("p",{className:"mt-2 mb-4 font-size-45",children:"Please select correct files and start again"}),(0,E.jsx)("div",{className:"dont-show-scrollbar",style:{maxHeight:"100px",overflow:"auto"},children:this.state.invalidFiles.map((function(e,t){return null!=e.size?(0,E.jsxs)("p",{className:"mt-0 mb-1 font-size-5 gray",children:[(0,E.jsx)("i",{className:"fa fa-exclamation-triangle red mr-2","aria-hidden":"true"}),e.name,(0,E.jsx)("span",{className:"min-width-100",children:" "}),(0,E.jsxs)("span",{children:[Math.floor(e.size)," Mb"]})," "]}):e.type?(0,E.jsxs)("p",{className:"mt-0 mb-1 font-size-5 gray",children:[(0,E.jsx)("i",{className:"fa fa-exclamation-triangle red mr-2","aria-hidden":"true"}),"Invalid file - ",e.name," "]}):void 0}))}),(0,E.jsx)("div",{className:"flex-filler",children:" "}),this.state.allSelectedFiles.length!=this.state.invalidFiles.length?(0,E.jsxs)("div",{className:"horizontal-flex flex-end-center mt-2 mb-4",children:[(0,E.jsx)("button",{type:"button",className:"btn btn-link black naked-link mr-3",onClick:function(){n.setState({cancelFromInvalid:!n.state.cancelFromInvalid})},children:"Cancel"}),(0,E.jsx)("button",{type:"button",className:"btn btn-primary blue-background",onClick:function(){return n.openVisualArrangements(n.state.validSelectedFiles)},children:"Skip and continue"})]}):(0,E.jsx)("div",{className:"horizontal-flex flex-end-center mt-2 mb-4",children:(0,E.jsx)("button",{type:"button",className:"btn btn-primary blue-background",onClick:function(){n.setState({cancelFromInvalid:!n.state.cancelFromInvalid})},children:"OK"})})]}),(0,E.jsx)(j.Z,{})]})}),this.state.openImportProjectsDialog&&(0,E.jsx)(dr,{open:this.state.openImportProjectsDialog,onClose:function(e,t){n.setState({openImportProjectsDialog:!1}),!0===e?n.props.getRecentVideos(n.state.user.username):!1===e&&((0,w.x2)("Project import failed. Please contact support."),S().getInstance().logEvent("project-import-fail",{response:t}))},handleFileImport:this.handleFileImport,history:this.props.history})]})}}]),n}(c.Component);Rr.prototypes={classes:ce().object.isRequired};var Pr=(0,se.Z)((function(e){return{cardBase:(0,o.Z)((0,o.Z)({},{"@media (min-width:600px)":{height:"101px",width:"101px",margin:"0 15px 0 15px"},"@media (min-width:900px)":{height:"151px",width:"151px",margin:"0 18px 0 18px"},"@media (min-width:1024px)":{height:"190px",width:"190px",margin:"0 16px 0 16px"},"@media (min-width:1152px)":{height:"210px",width:"210px",margin:"0 18px 0 18px"},"@media (min-width:1200px)":{height:"220px",width:"220px",margin:"0 21px 0 21px"},"@media (min-width:1440px)":{height:"242px",width:"242px",margin:"0 24px 0 24px"},"@media (min-width:1600px)":{height:"269px",width:"269px",margin:"0 27px 0 27px"},"@media (min-width:1920px)":{height:"323px",width:"323px",margin:"0 30px 0 30px"},"@media (min-width:2560px)":{height:"430px",width:"430px",margin:"0 42px 0 42px"},"@media (min-width:3840px)":{height:"645px",width:"645px",margin:"0 60px 0 60px"},"@media (min-width:4096px)":{height:"688px",width:"688px",margin:"0 65px 0 65px"}}),{},{color:"#000000",borderRadius:"20px",padding:"15px 10px 15px 10px",justifyContent:"center"}),cardBox:{display:"flex",justifyContent:"center"},cardOne:{background:null===Me.Z||void 0===Me.Z?void 0:Me.Z.cardcolors.one},cardTwo:{background:null===Me.Z||void 0===Me.Z?void 0:Me.Z.cardcolors.two},cardThree:{background:null===Me.Z||void 0===Me.Z?void 0:Me.Z.cardcolors.three},cardFour:{background:null===Me.Z||void 0===Me.Z?void 0:Me.Z.cardcolors.four},cardButton:{marginTop:"30px",color:"#fff",width:"105px",textDecoration:"",borderRadius:"8px"},input:{"&::placeholder":{textAlign:"center"}}}}))((0,d.EN)(function(e){return function(t){var n=Object.assign({},t),r=(0,je.Z)().loadingOverlay;return(0,E.jsx)(e,(0,o.Z)((0,o.Z)({},n),{},{loadingOverlay:r}))}}((0,l.$j)((function(e){var t,n;return{headerHeight:e.app.headerHeight,summary:e.createVideoSummary.data,uploadImageStatus:e.brandSettings.uploadImageStatus,documentUrl:e.createVideoStepOne.documentUrl,allVideos:e.myVideos.allVideos.videos,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject,recentVideos:null===(t=e.myVideos.recentVideos)||void 0===t||null===(n=t.videos)||void 0===n?void 0:n.Items,isFetchingProjects:e.myVideos.isFetchingProjects,isFetchingRecentProjects:e.myVideos.isFetchingRecentProjects,projectName:e.projectTitle.projectName,affiliate:e.subscription.currentSubscription&&e.subscription.currentSubscription.affiliate,getAutoDetectedLanguageResult:e.createVideoStepOne.getAutoDetectedLanguageResult,detectedLanguage:e.createVideoStepOne.detectedLanguage,teamUsers:e.teams.teamUsersResult}}),{getSummary:gr,saveProject:fr,projectOpened:wr,getDataFromResponseId:br,getProjectNameBegin:Zr,uploadImage:vr,resetProjectName:xr,saveDocumentBegin:Sr,getMyVideos:yr,openProject:jr,releaseAssetsObjectURLs:kr,releaseMediaResources:Cr,getCurrentSubscription:Ir,getRecentVideos:Tr,showLoadingOverlayRequest:we.showLoadingOverlayRequest,hideLoadingOverlayRequest:we.hideLoadingOverlayRequest,getAutoDetectedLanguage:Er,getTeamUsersRequest:Ar})(Rr)))),Nr=n(11018),Or=n.n(Nr),Dr=(n(11047),n(58626)),Ur=n.n(Dr),Lr=(n(27164),Z.Z.getSummary),Fr=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).callAPI=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,o,c,l,u,d,h,m,g,f,v,x,S,y,b,j,w,Z;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0===t.summarize?s.setState({isActive:!0,originalText:"",summaryText:""}):s.setState({isActive:!0,summaryText:""}),!0===n&&((r=s.state.editor).value=""),a="",""!==s.state.url?s.setState({sendOriginalText:!1}):s.setState({sendOriginalText:!0}),e.next=6,s.props.getSummary(t);case 6:if(!(i=s.props.summary)||at().isEmpty(i)){e.next=53;break}if("Article Parse Error"!==i.error){e.next=11;break}return s.setState({isActive:!1,isError:!0}),e.abrupt("return",!1);case 11:for(o="",c="",u="",null!==i.authors&&void 0!==i.authors&&""!==i.authors&&i.authors.length&&(o="By "+i.authors[0]),d="",c+="<h1>"+i.title+"</h1> <span class='author-name'>"+o+"</span>",l="<h1>"+i.title+"</h1> <span class='author-name'>"+o+"</span>",i.taglist.map((function(e,t){"img"!==e[2]?""!==e[3]&&"."!==e[3].charAt(e[3].length-1)&&"?"!==e[3].charAt(e[3].length-1)&&":"!==e[3].charAt(e[3].length-1)&&"!"!==e[3].charAt(e[3].length-1)?d+="<"+e[2]+">"+e[3]+".</"+e[2]+">":d+="<"+e[2]+">"+e[3]+"</"+e[2]+">":d+="<"+e[2]+' src="'+e[3]+'">'})),d=d.replace(/ü/g,"$#SpecialCharU$#").replace(/<p><\/p>/g,"").replace(/<p> <\/p>/g,""),u=d.replace(/i\.e\./g,"$#thatIswhatImeans$#").replace(/e\.g\./g,"$#Forexample$#").replace(/ü/g,"$#SpecialCharU$#").replace(/\“/g,'"').replace(/\”/g,'"'),h=d,m="",g=[],i.summary.map((function(e,t){var n=e.sentence.replace(/\\"/g,'"').replace(/i\.e\./g,"$#thatIswhatImeans$#");u=u.replace(n,"").replace(/i\.e\./g,"$#thatIswhatImeans$#").replace(/e\.g\./g,"$#Forexample$#").replace(/Dr\./g,"$#Doctor$#").replace(/ü/g,"$#SpecialCharU$#"),n=n.replace(/e\.g\./g,"$#Forexample$#").replace(/ü/g,"$#SpecialCharU$#");var r=d.indexOf(n),i=n.length;d.substring(r,r+i),a+=" "+n,e.keywords.map((function(e,t){var r=n.indexOf(e),s=e.length;n=n.substring(0,r)+"<strong>"+n.substring(r,r+s)+"</strong>"+n.substring(r+s)})),""===s.state.originalText&&-1!==r&&-1!==i&&(d=d.substring(0,r)+'<a class="btn-span orignalArticleText"><span class="orignalArticleHighlightText" id="span_highlight_'+t+'">'+e.sentence.replace(/\\"/g,'"')+'<span class="cross fa fa-close" id="span_'+t+'"></span></span></a>'+d.substring(r+i)),m+=h.indexOf(e.sentence.replace(/\\"/g,'"').replace(/i\.e\./g,"$#thatIswhatImeans$#").replace(/e\.g\./g,"$#Forexample$#").replace(/ü/g,"$#SpecialCharU$#"))+"#",h=h.replace(/\$\#thatIswhatImeans\$\#/g,"i.e.").replace(/\$\#Forexample\$\#/g,"e.g.").replace(/\$\#SpecialCharU\$\#/g,"ü"),c+="<p id='p_"+t+"'>"+n+"</p>";var o="";e.image.length>0&&(o=e.image[0]),e.sentence=n;var l={sentence:n,keywords:e.keywords,type:e.type,image:o,subsentences:e["sub-sentences"]};g.push(l)})),u=(u=(u='<a class="btn-span orignalArticleText">'+(u=(u=u.replace(/<p> <\/p>/g,"").replace(/<p><\/p>/g,"").replace(/<h2>.<\/h2>/g,"").replace(/<h2><\/h2>/g,"").replace(/<li><\/li>/g,"")).replace(/<img[^>]*>/g,"")).split(". ").join('.</a> <a class="btn-span orignalArticleText">').split("?").join('?</a> <a class="btn-span orignalArticleText">').split("!").join('!</a> <a class="btn-span orignalArticleText">').split(":.").join(':.</a> <a class="btn-span orignalArticleText">')).replace(/<a class=\"btn-span orignalArticleText\"><p>/g,'<p><a class="btn-span orignalArticleText">').replace(/<\/p><a class=\"btn-span orignalArticleText\">/g,"</p>").replace(/<\/a> <a class=\"btn-span orignalArticleText\"><\/p><p>/g,'</a></p><p><a class="btn-span orignalArticleText">')).replace(/\$\#thatIswhatImeans\$\#/g,"i.e.").replace(/\$\#Forexample\$\#/g,"e.g.").replace(/\$\#Doctor\$\#/g,"Dr."),d=(d=d.replace(/\$\#thatIswhatImeans\$\#/g,"i.e.")).replace(/\$\#Forexample\$\#/g,"e.g."),(f=document.createElement("span")).innerHTML=u,v=f.querySelectorAll("a"),x=0;x<v.length;x++)""!==v[x].innerHTML.trim()&&"."!==v[x].innerHTML.trim()&&(d=d.replace(v[x].innerText.trim().replace(/\&amp\;/g,"&").replace(/\&nbsp\;/g," "),'<a class="btn-span orignalArticleText">'+v[x].innerText.trim().replace(/\&amp\;/g,"&").replace(/\&nbsp\;/g," ")+"</a>"));for(c=(c=(c=c.replace(/\$\#thatIswhatImeans\$\#/g,"i.e.")).replace(/\$\#Forexample\$\#/g,"e.g.")).replace(/\$\#SpecialCharU\$\#/g,"ü"),S=0,y=0,b=0,""===s.state.originalText?((j={sentence:i.title,keywords:[],type:"summary",image:i.top_image,subsentences:[]}).keywords.push("$#ArticleURLTitleAddedDynamic$#"),g.splice(0,0,j),!1===n&&(S=Math.ceil(100*i.num_sentences/i.text_num_sentences),s.setState({value:S})),y=i.text_num_sentences,b=i.num_sentences):(S=100,s.setState({value:S}),y=i.summary.length,b=y),d=(d=l+d).replace(/\$\#SpecialCharU\$\#/g,"ü"),s.setState({summaryJson:g,summaryTextForCopy:a,summaryText:c,isActive:!1,originalText:d,sentences:i.num_sentences,totalLines:y,lines:b,number_of_sentences:i.num_sentences,allSummaryText:m,startingSummary:l,baseText:h,metaDescription:i.meta_description,articleKeywords:i.article_keywords}),!0===n?((r=s.state.editor).value=s.state.summaryText,s.setState({editor:r})):((r=new(Ur())("#txtSummaryEditor",{toolbar:!1,readonly:!0,showCharsCounter:!1,allowResizeY:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"46vh",width:"100%",placeholder:"Summary",disablePlugins:"paste"})).value=s.state.summaryText,s.setState({editor:r})),w=document.getElementById("orignalArticleDiv").getElementsByTagName("a"),Z=0;Z<w.length;Z++)w[Z].id="sentence_"+Z,w[Z].addEventListener("click",s.AddRemoveHighlightSentence.bind((0,p.Z)(s),"sentence_"+Z));e.next=54;break;case 53:s.setState({isActive:!1,isError:!0});case 54:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.AddRemoveHighlightSentence=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,a,i,o,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementsByClassName("jodit_wysiwyg")[0].innerHTML,s.setState({isActive:!0,summaryText:n}),r=0,-1!==document.getElementById(t).innerHTML.indexOf('class="orignalArticleHighlightText"')){e.next=10;break}return e.next=6,s.props.getSummary({summarize:!1,split_sentences:!1,sentences:[document.getElementById(t).innerHTML]});case 6:(a=s.props.summary)&&!at().isEmpty(a)&&(a.summary.map((function(e,n){var a=e.sentence.replace(/\\"/g,'"').replace("&amp;","&").replace(/ü/g,"$#SpecialCharU$#");s.state.articleKeywords.map((function(e,t){var n=a.indexOf(e),r=e.length;-1!==n&&(a=a.substring(0,n)+"<strong>"+a.substring(n,n+r)+"</strong>"+a.substring(n+r))}));var i=s.state.startingSummary+s.state.originalText.replace(s.state.startingSummary,"").replace(document.getElementById(t).innerText,'<span class="orignalArticleHighlightText" id="span_highlight_'+s.state.number_of_sentences+'">'+document.getElementById(t).innerHTML.replace(/\\"/g,'"').replace("&amp;","&")+'<span class="cross fa fa-close" id="span_'+s.state.number_of_sentences+'"></span></span>'),o=s.state.baseText.indexOf(document.getElementById(t).innerText),c=s.state.allSummaryText.split("#"),l="",u="",d=document.createElement("div");d.innerHTML=s.state.summaryText;for(var p=d.querySelectorAll("p"),h=0;h<p.length;h++)if(""!==c[y]){var m=p[h].id;if(""!==m.trim()&&void 0!==m.trim());else{c.splice(h,0,"-1");var g=document.createElement("span");g.innerHTML=p[h].innerHTML;for(var f=g.querySelectorAll("strong"),v=[],x=0;x<f.length;x++)v.push(f[x].innerHTML.trim());var S={sentence:p[h].innerHTML,keywords:v,type:"summary",image:"",subsentences:[]};s.state.summaryJson.splice(h+1,0,S)}l+=c[h]+"#"}s.setState({allSummaryText:l}),l="";for(var y=0;y<c.length;y++)if(""!==c[y])if("-1"!==c[y]){var b={sentence:a,keywords:s.state.articleKeywords,type:"summary",image:"",subsentences:e["sub-sentences"]};if(c[y]>o&&""!==o&&0===y){l=o+"#"+s.state.allSummaryText,s.state.summaryJson.splice(y+1,0,b),u=s.state.startingSummary+'<p id="p_'+y+'">'+a.replace(/\$\#SpecialCharU\$\#/g,"ü")+"</p>";for(var j=0;j<p.length;j++)u+='<p id="p_'+(j+1)+'">'+p[j].innerHTML+"</p>";r=0;break}if(c[y]>o&&""!==o){l=s.state.allSummaryText.replace("#"+c[y]+"#","#"+o+"#"+c[y]+"#"),s.state.summaryJson.splice(y+1,0,b),u=s.state.startingSummary+'<p id="p_0">'+p[0].innerHTML+"</p>";for(var w=!1,Z=1;Z<p.length+1;Z++)y===Z&&(u+='<p id="p_'+Z+'">'+a.replace(/\$\#SpecialCharU\$\#/g,"ü")+"</p>",r=Z,Z+=1,w=!0),u+=w?'<p id="p_'+Z+'">'+p[Z-1].innerHTML+"</p>":'<p id="p_'+Z+'">'+p[Z].innerHTML+"</p>";u.lastIndexOf("<br />")===parseInt(u.length-6)&&(u=u.substr(0,parseInt(u.length-6))),o="";break}l+=c[y]+"#"}else l+=c[y]+"#";l===s.state.allSummaryText&&(l=s.state.allSummaryText+o+"#",s.state.summaryJson.splice(y+1,0,b),u=s.state.summaryText+'<p id="p_'+(parseInt(c.length)-1)+'">'+a.replace(/\$\#SpecialCharU\$\#/g,"ü")+"</p>",r=parseInt(c.length)-1),s.setState({originalText:i,summaryText:u,number_of_sentences:s.state.number_of_sentences+1,allSummaryText:l,isActive:!1,lines:parseInt(s.state.lines)+1,value:Math.ceil(100*s.state.lines/s.state.totalLines)});var k=s.state.editor;k.value=s.state.summaryText,s.setState({editor:k})})),i=document.getElementById("p_"+r).offsetTop,document.getElementsByClassName("jodit_wysiwyg")[0].scrollTop=i-20),e.next=14;break;case 10:o=s.state.baseText.indexOf(document.getElementById(t).innerText.replace(/ü/g,"$#SpecialCharU$#")),c=s.state.allSummaryText.replace(o+"#",""),s.RemoveHighlight(document.getElementById(t).getElementsByTagName("span")[1].id,document.getElementById(t).getElementsByTagName("span")[0].id),s.setState({allSummaryText:c,isActive:!1,lines:parseInt(s.state.lines)-1,value:Math.ceil(100*s.state.lines/s.state.totalLines)});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.setTextRef=function(e){return s.jodit=e},s.handleChange=function(e){var t=e.target.name,n=e.target.value;s.setState((0,He.Z)({},t,n))},s.gotoCreateVideoStep3=function(e){var t=document.getElementsByClassName("jodit_wysiwyg")[0].querySelectorAll("p"),n=document.getElementsByClassName("jodit_wysiwyg")[0].innerHTML,r=[],a=[];a.push(s.state.summaryJson[0].sentence);var i={sentence:s.state.summaryJson[0].sentence,keywords:s.state.summaryJson[0].keywords,type:s.state.summaryJson[0].type,image:s.state.summaryJson[0].image,subsentences:a};r.push(i);for(var o=0;o<t.length;o++){var c=t[o].id,l=document.createElement("span");l.innerHTML=t[o].innerHTML;for(var u=l.querySelectorAll("strong"),d=[],p=0;p<u.length;p++)""!==u[p].innerHTML.trim()&&d.push(u[p].innerHTML.replace(/<strong>/g,"").replace(/<\/strong>/g,"").trim());if(""!==c.trim()&&void 0!==c.trim()){if(c.split("_").length>1){var h=parseInt(c.split("_")[1])+1;if(h<s.state.summaryJson.length){var m={sentence:t[o].innerHTML.replace(/<\/strong>/g,"</strong>"),keywords:d,type:void 0===s.state.summaryJson[h].type?"summary":s.state.summaryJson[h].type,image:void 0===s.state.summaryJson[h].image?"":s.state.summaryJson[h].image,subsentences:void 0===s.state.summaryJson[h].subsentences?[]:s.state.summaryJson[h].subsentences};r.push(m)}else m={sentence:t[o].innerHTML.replace(/<\/strong>/g,"</strong>"),keywords:d,type:"summary",image:"",subsentences:[]},r.push(m)}}else{if(""===d||0===d.length){t[o].innerHTML=t[o].innerHTML.replace(/<span style="font-weight: bolder;">/g,"<strong>").replace(/<span style="font-weight: 700;">/g,"<strong>").replace(/<\/span><span style="display: inline !important;">/g,'</strong><span style="display: inline !important;">').replace(/<span style="display: inline !important;">/g,"").replace(/<\/span>/g,"").replace(/&nbsp\;/g," ").replace(/<br>/g,"");var g=document.createElement("div");for(g.innerHTML=t[o].innerHTML,u=g.querySelectorAll("strong"),p=0;p<u.length;p++)""!==u[p].innerHTML.trim()&&d.push(u[p].innerHTML.replace(/<strong>/g,"").replace(/<\/strong>/g,"").trim())}m={sentence:t[o].innerHTML.replace(/<\/strong>/g,"</strong>").replace(/ <\/strong>/g,"</strong> ").replace("<br>",""),keywords:d,type:"summary",image:"",subsentences:[]},r.push(m)}}s.setState({summaryJson:r}),s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{summaryJson:r,url:s.state.url,sentences:s.state.lines,originalText:s.state.originalText,baseText:s.state.baseText,summaryText:n,allSummaryText:s.state.allSummaryText,imageURL:[],timePerFrame:[],isPrevious:!1,isSummaryOff:!1,lines:s.state.lines,totalLines:s.state.totalLines,value:s.state.value,sendOriginalText:s.state.sendOriginalText,isSkipStep2:!1,mainOriginalText:s.state.mainOriginalText,startingSummary:s.state.startingSummary,loadProject:!1,metaDescription:s.state.metaDescription,articleKeywords:s.state.articleKeywords}})},s.gotoCreateVideoStep1=function(e){s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepOne,state:{url:s.state.url,sentences:s.state.sentences,text:s.state.originalText,isPreviousButton:!0,originalText:s.state.mainOriginalText,sendOriginalText:s.state.sendOriginalText}})},s.BackURL=function(e){s.props.history.push(b.Z.BaseURL+y.Z.stepOne)},s.onCopytoClipboard=function(e){var t=s.state.editor;t.execCommand("selectAll"),t.execCommand("copy"),t.execCommand("unselect"),s.setState({copied:!0}),alert("Summary is copy to clipboard.")},s.RerunSummary=function(e){var t={summarize:!0,url:s.state.url,text:s.state.originalText,num_sentences:s.state.lines};s.callAPI(t,!0)},s.updateSummaryContent=function(e){s.setState({summaryText:e})},s.state={url:s.props.location.state.url,originalText:s.props.location.state.originalText,baseText:s.props.location.state.baseText,summaryJson:s.props.location.state.summaryJson,summaryText:s.props.location.state.summaryText,summaryTextForCopy:"",copied:!1,value:s.props.location.state.value,totalLines:s.props.location.state.totalLines,lines:s.props.location.state.lines,sentences:0,isActive:!1,isPrevious:s.props.location.state.isPrevious,number_of_sentences:0,allSummaryText:s.props.location.state.allSummaryText,sendOriginalText:s.props.location.state.sendOriginalText,GoClick:s.props.location.state.GoClick,startingSummary:s.props.location.state.startingSummary,mainOriginalText:s.props.location.state.mainOriginalText,editor:"",isError:!1,metaDescription:s.props.location.state.metaDescription,articleKeywords:s.props.location.state.articleKeywords,title:s.props.location.state.title},s}return(0,s.Z)(n,[{key:"RemoveHighlight",value:function(e,t){var n=document.getElementById(t),r=this.state.originalText.replace('<span class="orignalArticleHighlightText" id="'+t+'">'+n.innerHTML.replace("&amp;","&")+"</span>",n.innerHTML.replace(/<strong>/g,"").replace(/<\/strong>/g,"")).replace('<span class="cross fa fa-close" id="'+e+'"></span>',""),s=n.innerHTML.replace('<span class="cross fa fa-close" id="'+e+'"></span>',""),a=document.createElement("div");a.innerHTML=this.state.summaryText;for(var i=this.state.startingSummary,o=0,c=a.querySelectorAll("p"),l=0;l<c.length;l++)c[l].innerHTML.replace(/<strong>/g,"").replace(/<\/strong>/g,"")!==s&&(i+="<p id='p_"+o+"'>"+c[l].innerHTML+"</p>",o++);this.setState({originalText:r,summaryText:i});var u=this.state.editor;u.value=this.state.summaryText,this.setState({editor:u});var d=this.state.summaryJson.findIndex((function(t){return t.sentence.replace(/<strong>/g,"").replace(/<\/strong>/g,"")===n.innerHTML.replace('<span class="cross fa fa-close" id="'+e+'"></span>',"")}));void 0!==d&&this.state.summaryJson.splice(d,1)}},{key:"componentWillMount",value:function(){if(!this.state.isPrevious)if("URL"===this.state.GoClick){var e={summarize:!0,url:this.state.url};this.callAPI(e,!1)}else this.state.originalText.split("</p>"),e={summarize:!0,text:this.state.originalText},this.callAPI(e,!1)}},{key:"componentDidMount",value:function(){var e=this;if(C.Z.removeItem("lastUrl"),C.Z.setItem("lastUrl",y.Z.stepTwo),v.g.currentAuthenticatedUser().then((function(t){e.setState({user:t})})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this)),this.state.isPrevious){var t=new(Ur())("#txtSummaryEditor",{toolbar:!1,readonly:!0,showCharsCounter:!1,allowResizeY:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"46vh",width:"100%",placeholder:"Summary",disablePlugins:"paste"});t.value=this.state.summaryText,this.setState({editor:t});var n=document.createElement("span");n.innerHTML=this.state.summaryText;for(var r=n.querySelectorAll("p"),s=this.state.startingSummary,a=0;a<r.length;a++)s+='<p id="p_'+a+'">'+r[a].innerHTML+"</p>";this.setState({summaryText:s}),document.getElementsByClassName("jodit_wysiwyg")[0].innerHTML=s}var i=document.getElementById("orignalArticleDiv").getElementsByTagName("a");if(""!==i&&void 0!==i)for(var o=0;o<i.length;o++)i[o].id="sentence_"+o,i[o].addEventListener("click",this.AddRemoveHighlightSentence.bind(this,"sentence_"+o))}},{key:"update",value:function(){this.props.update(this.state)}},{key:"render",value:function(){var e=this;return this.state.originalText,(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"VideoProgressBar confirmation-box",id:"ErrorBox",style:{left:"0px",display:this.state.isError?"block":"none"},children:(0,E.jsx)("div",{className:"modal-dialog",children:(0,E.jsx)("div",{className:"modal-content",children:(0,E.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,E.jsxs)("div",{className:"modal-header",children:[(0,E.jsx)("h4",{className:"modal-title",children:"Sorry!"}),(0,E.jsx)("span",{className:"close",onClick:this.BackURL.bind(),children:"×"})]}),(0,E.jsxs)("div",{className:"modal-bodys",children:[(0,E.jsx)("span",{className:"d-block mb-3",children:"Unable to read your article"}),(0,E.jsx)("div",{className:"col-12 p-0 text-center bottom-box-btn",children:(0,E.jsx)("button",{className:"btn btn-default del-btn ml-2 btn-span",onClick:this.BackURL.bind(),children:"Try another?"})})]})]})})})}),(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(ue.Z,{active:this.state.isActive,spinner:!0,text:"Please wait..."}),(0,E.jsx)("div",{className:"page-content d-flex align-items-stretch step-2",children:(0,E.jsxs)("main",{className:"content-inner",children:[(0,E.jsxs)("section",{className:"container-fluid dashboard-counts",children:[(0,E.jsx)("div",{className:"container-fluid text-center p-3",children:(0,E.jsx)("h3",{className:"no-margin-bottom",children:"Step 2 - AI-driven article summary"})}),(0,E.jsx)("div",{className:"col-12 p-0 welcome-content h-100 justify-content-center",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"card card-block",children:[(0,E.jsx)("div",{className:"card-header text-left",children:(0,E.jsx)("h5",{className:"line-btm2",children:(0,E.jsx)("span",{className:"hd-bg",children:"Original article"})})}),(0,E.jsx)("div",{className:"card-body",children:(0,E.jsx)("div",{className:"content mCustomScrollbar",id:"orignalArticleDiv",children:(0,rt.ZP)(this.state.originalText)})})]})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"card card-block",children:[(0,E.jsx)("div",{className:"card-header text-left",children:(0,E.jsxs)("h5",{className:"line-btm2",children:[(0,E.jsx)("span",{className:"hd-bg",children:"Summary "}),(0,E.jsx)(Et.CopyToClipboard,{text:k.Z.Instance.GetVideoUrlFromCDN(this.state.articleSummaryTextForCopy),onCopy:this.onCopytoClipboard.bind(this),children:(0,E.jsx)("a",{className:"btn-span copy-text ml-auto",children:(0,E.jsx)("i",{className:"fa fa-clipboard",title:"Copy the summary"})})})]})}),(0,E.jsx)("div",{className:"card-body cbody-2",children:(0,E.jsx)("textarea",{className:"texeditor-right",id:"txtSummaryEditor",name:"summaryText",value:this.state.summaryText,cols:"73",rows:"16",style:{height:"46vh",width:"100%"}})})]})})]})})]}),(0,E.jsxs)("div",{className:"section-footer-top text-center align-items-center",children:[(0,E.jsxs)("ul",{className:"list-inline slide-list mt-3",children:[(0,E.jsx)("li",{children:"Choose the summary size"}),(0,E.jsx)("li",{className:"input-bar-container",children:(0,E.jsx)(Or(),{id:"txtRange",maxValue:100,minValue:0,value:this.state.value,onChange:function(t){return e.setState({value:t,lines:Math.ceil(e.state.totalLines*t/100)})},onAfterChange:this.update.bind(this)})}),(0,E.jsxs)("li",{children:[this.state.value,"%"]}),(0,E.jsxs)("li",{children:["(",this.state.lines," lines / ",this.state.totalLines,")"]})]}),(0,E.jsx)("div",{className:"col text-center col-btm",children:(0,E.jsx)("a",{className:"btn btn-submit btn-span",onClick:this.RerunSummary.bind(this),children:"Rerun summarizer"})})]}),(0,E.jsxs)("div",{className:"section-footer container-fluid btns-bottm text-right",children:[(0,E.jsxs)("a",{className:"btn-span",onClick:this.gotoCreateVideoStep1.bind(this),children:[(0,E.jsx)("span",{className:"icon-arrow-left pr-1"})," Previous"]}),(0,E.jsxs)("a",{className:"btn-span",onClick:this.gotoCreateVideoStep3.bind(this),children:["Next ",(0,E.jsx)("span",{className:"icon-arrow-right pl-1"})]})]})]})}),(0,E.jsx)(j.Z,{})]})]})}}]),n}(c.Component),Vr=((0,l.$j)((function(e){return{summary:e.createVideoSummary.data}}),{getSummary:Lr})(Fr),n(37762)),Br=n(80735),Mr=n(89973),Gr=n(92873),Wr=n(75694),zr=n(57775),Jr=Z.Z.getSummary,Hr=Z.Z.transcriptionSummaryInitiate,Kr=Z.Z.uploadImage,qr=Z.Z.saveProject,Yr=Z.Z.getMyVideos,Qr=Z.Z.getProjectNameBegin,Xr=Z.Z.getBrandSettings,$r=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s,a,i,c,l,u,d;return(0,r.Z)(this,n),(d=t.call(this,e)).callAPI=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n,r,s){var a,i,o;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.setState({isActive:!0,OverlayMessage:"Extracting key messages in the article..."}),!0===r&&(d.setState({readableHtml:void 0}),S().getInstance().logEvent("change-summary-size",{"article-link":d.state.url,"previous-value":d.state.previousValue,"new-value":d.state.value,"project-id":d.state.projectDetails.project_id}),d.setState({previousValue:d.state.value})),"transcribe"!==d.props.location.state.projectDetails.source){e.next=7;break}return e.next=5,d.props.transcriptionSummary(d.props.location.state.projectDetails.project_id,t.username,n,s);case 5:e.next=10;break;case 7:if("https://pictory.ai/blog/hollywood-vs-ai-how-artificial-intelligence-is-transforming-the-movie-industry"===n.url){e.next=10;break}return e.next=10,d.props.getSummary(t.username,n,s);case 10:if(!(a="https://pictory.ai/blog/hollywood-vs-ai-how-artificial-intelligence-is-transforming-the-movie-industry"!==n.url?d.props.summary:{summary:[{sentence:'They say "a picture is worth a thousand words".',keywords:[],sentence_index:0,type:"summary",image:[],before:[],"sub-sentences":['They say "a picture is worth a thousand words".']},{sentence:"Furthermore, Artificial Intelligence is majorly used to help build and execute visual effects.",keywords:[],sentence_index:7,type:"summary",image:[],before:[],"sub-sentences":["Furthermore, Artificial Intelligence is majorly used to help build and execute visual effects."]},{sentence:"Artificial Intelligence can also produce the music score for a certain scene based on the situation, tone, and dialogue.",keywords:[],sentence_index:9,type:"summary",image:[],before:[],"sub-sentences":["Artificial Intelligence can also produce the music score for a certain scene based on the situation, tone, and dialogue."]},{sentence:"Cinelytic uses Artificial Intelligence to help Warner Bros decide which movies to commission by determining the profitability of an actor and calculating how much money a film will earn.",keywords:[],sentence_index:13,type:"summary",image:[],before:[],"sub-sentences":["Cinelytic uses Artificial Intelligence to help Warner Bros decide which movies to commission by determining the profitability of an actor and calculating how much money a film will earn."]},{sentence:'As Paul Debevec, senior scientist at Google, states, "decades from now, an AI algorithm will make your movie simply from the text of the script".',keywords:[],sentence_index:17,type:"summary",image:[],before:[],"sub-sentences":['As Paul Debevec, senior scientist at Google, states, "decades from now, an AI algorithm will make your movie simply from the text of the script".']},{sentence:'Using our "Script to Video" feature, you’re able to upload or paste your script directly into Pictory.',keywords:[],sentence_index:19,type:"summary",image:[],before:[],"sub-sentences":['Using our "Script to Video" feature, you’re able to upload or paste your script directly into Pictory.']}],top_image:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%201200%20788%22%20width%3D%221200%22%20height%3D%22788%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3C%2Fsvg%3E",title:"Hollywood Vs AI: How Artificial Intelligence is Transforming the Movie Industry",html:'<div id="readability-page-1" class="page"><div><p><span>They say “a picture is worth a thousand words”. The film industry has been built on this idea as moving pictures actively communicate messages and tell stories to varied audiences. </span></p><p><span>At the forefront of the film industry, Hollywood has continuously pushed the boundaries of movie making, producing, and editing, with its most recent venture being Machine Learning and Artificial Intelligence (AI) as movie-making tools. </span></p><p><span>Hollywood uses Artificial Intelligence in a multitude of ways to enhance and expedite the movie-making process. </span></p><p><span>One way Artificial Intelligence is used is in overseeing the workflow of rendering animation and visual effects. </span></p><p><span>To paraphrase Rob Bredow, senior VP, executive creative director, and head of Industrial Light and Magic, artificial intelligence is used to <a href="https://www.hollywoodreporter.com/lists/how-artificial-intelligence-is-changing-hollywood-1293429/operations" target="_blank">schedule render jobs on the render farms to get workloads done every single night in a predictable fashion.</a></span></p><p>Another main use of Artificial Intelligence is in editing; AI is used to match dialogue in the script to its specific scene, making it easier and faster to edit, and AI also assists in reframing a video for different aspect ratios.</p><p><span>Furthermore, Artificial Intelligence is majorly used to help build and execute visual effects. </span></p><p><span>According to the <a href="https://www.globaltechcouncil.org/artificial-intelligence/how-is-ai-used-by-the-hollywood-industry/" target="_blank">Global Tech Council, AI can support movie editors</a>: “with facial recognition technology, the AI algorithm can recognize the main characters and help sort out those scenes for human editors”</span><span>. Artificial Intelligence can also produce the music score for a certain scene based on the situation, tone, and dialogue. </span></p><p><span>Artificial Intelligence is so adaptable and multi-faceted that it not only assists with movie production, but also with movie marketing, analytics, customer targeting, and future planning. </span></p><p><span>AI accelerates the process of reading scripts, deciding which movies are worth investment, and determining how successful a movie will be. </span></p><p><span>According to Forbes, Warner Bros. has signed a deal with Cinelytic, “which has developed an AI-powered system that can predict the likelihood of a film’s success based on such factors as actors, budget and brand”.</span></p><p><span><a href="https://www.forbes.com/sites/simonchandler/2020/01/10/hollywood-is-using-artificial-intelligence-to-pick-its-next-blockbuster/?sh=df6ccd575a5d" target="_blank"> Cinelytic uses Artificial Intelligence to help Warner Bros decide which movies to commission</a> by determining the profitability of an actor and calculating how much money a film will earn. </span></p><p><span>In terms of movie marketing, Artificial Intelligence is used to recommend where film studios should “arrange their promotions according to those places where the audience expects the highest interest” based on “the viewer base and the popularity of actors across the globe”, as stated by the <a href="https://www.globaltechcouncil.org/artificial-intelligence/how-is-ai-used-by-the-hollywood-industry/" target="_blank">Global Tech Council</a></span><span>. </span></p><p><span> AI is also utilized to analyze audience behavior, reviews, and box office trends to help better predict what each moviegoer would be interested in. </span></p><p><span>Most importantly (to us), Artificial Intelligence can be used to create its own movies. </span></p><p><span>As Paul Debevec, senior scientist at Google, states, “<a href="https://www.hollywoodreporter.com/lists/how-artificial-intelligence-is-changing-hollywood-1293429/how-about-a-movie-from-scratch/" target="_blank">decades from now, an AI algorithm will make your movie simply from the text of the script</a>”</span><span>. </span></p><p><span>Why wait decades when Pictory is already making movies from scripts using artificial intelligence? </span></p><p><span>Using our “Script to Video” feature, you’re able to upload or paste your script directly into Pictory. </span></p><p><span>Pictory will then use Artificial Intelligence to transcribe your script and assign videos and images that match with the words in the script. </span></p><p><span>You’ll then have a full video based on your script in just a few easy clicks! Check out our </span><a href="https://kb.pictory.ai/en/collections/6488838-script-to-video" target="_blank"><span>Script to Video Tutorial</span></a><span>. </span></p><p><span>This is how we are revolutionizing the content marketing industry here at Pictory through the power of Artificial Intelligence. </span></p><p><span>Just like Hollywood is using AI to enhance the production and success of their movies (and revenue), Pictory uses Artificial Intelligence to help you produce the highest-quality, content-rich, professional videos on an easy-to-use, intuitive platform. </span></p><p><span>You may feel that AI is out of reach for individual small creators, however, Pictory brings Artificial Intelligence to you for just a few dollars a month – and it’s taking the creator community by storm!</span></p><p>Want to watch this article instead? Check out our Pictory-generated, Script to Video example for this article:</p></div></div>',taglist:[[1,47,"p",'They say "a picture is worth a thousand words". The film industry has been built on this idea as moving pictures actively communicate messages and tell stories to varied audiences.'],[1,248,"p","At the forefront of the film industry, Hollywood has continuously pushed the boundaries of movie making, producing, and editing, with its most recent venture being Machine Learning and Artificial Intelligence (AI) as movie-making tools."],[1,505,"p","Hollywood uses Artificial Intelligence in a multitude of ways to enhance and expedite the movie-making process."],[1,637,"p","One way Artificial Intelligence is used is in overseeing the workflow of rendering animation and visual effects."],[1,770,"p","To paraphrase Rob Bredow, senior VP, executive creative director, and head of Industrial Light and Magic, artificial intelligence is used to schedule render jobs on the render farms to get workloads done every single night in a predictable fashion."],[1,1177,"p","Another main use of Artificial Intelligence is in editing; AI is used to match dialogue in the script to its specific scene, making it easier and faster to edit, and AI also assists in reframing a video for different aspect ratios."],[1,1415,"p","Furthermore, Artificial Intelligence is majorly used to help build and execute visual effects."],[1,1530,"p",'According to the Global Tech Council, AI can support movie editors: "with facial recognition technology, the AI algorithm can recognize the main characters and help sort out those scenes for human editors". Artificial Intelligence can also produce the music score for a certain scene based on the situation, tone, and dialogue.'],[1,2021,"p","Artificial Intelligence is so adaptable and multi-faceted that it not only assists with movie production, but also with movie marketing, analytics, customer targeting, and future planning."],[1,2230,"p","AI accelerates the process of reading scripts, deciding which movies are worth investment, and determining how successful a movie will be."],[1,2389,"p",'According to Forbes, Warner Bros. has signed a deal with Cinelytic, "which has developed an AI-powered system that can predict the likelihood of a film’s success based on such factors as actors, budget and brand".'],[1,2622,"p","Cinelytic uses Artificial Intelligence to help Warner Bros decide which movies to commission by determining the profitability of an actor and calculating how much money a film will earn."],[1,3003,"p",'In terms of movie marketing, Artificial Intelligence is used to recommend where film studios should "arrange their promotions according to those places where the audience expects the highest interest" based on "the viewer base and the popularity of actors across the globe", as stated by the Global Tech Council.'],[1,3479,"p","AI is also utilized to analyze audience behavior, reviews, and box office trends to help better predict what each moviegoer would be interested in."],[1,3648,"p","Most importantly (to us), Artificial Intelligence can be used to create its own movies."],[1,3756,"p",'As Paul Debevec, senior scientist at Google, states, "decades from now, an AI algorithm will make your movie simply from the text of the script".'],[1,4095,"p","Why wait decades when Pictory is already making movies from scripts using artificial intelligence?"],[1,4214,"p",'Using our "Script to Video" feature, you’re able to upload or paste your script directly into Pictory.'],[1,4337,"p","Pictory will then use Artificial Intelligence to transcribe your script and assign videos and images that match with the words in the script."],[1,4499,"p","You’ll then have a full video based on your script in just a few easy clicks! Check out our Script to Video Tutorial."],[1,4755,"p","This is how we are revolutionizing the content marketing industry here at Pictory through the power of Artificial Intelligence."],[1,4903,"p","Just like Hollywood is using AI to enhance the production and success of their movies (and revenue), Pictory uses Artificial Intelligence to help you produce the highest-quality, content-rich, professional videos on an easy-to-use, intuitive platform."],[1,5175,"p","You may feel that AI is out of reach for individual small creators, however, Pictory brings Artificial Intelligence to you for just a few dollars a month – and it’s taking the creator community by storm!"],[1,5398,"p","Want to watch this article instead? Check out our Pictory-generated, Script to Video example for this article:."]],text:'They say "a picture is worth a thousand words". The film industry has been built on this idea as moving pictures actively communicate messages and tell stories to varied audiences.\nAt the forefront of the film industry, Hollywood has continuously pushed the boundaries of movie making, producing, and editing, with its most recent venture being Machine Learning and Artificial Intelligence (AI) as movie-making tools.\nHollywood uses Artificial Intelligence in a multitude of ways to enhance and expedite the movie-making process.\nOne way Artificial Intelligence is used is in overseeing the workflow of rendering animation and visual effects.\nTo paraphrase Rob Bredow, senior VP, executive creative director, and head of Industrial Light and Magic, artificial intelligence is used to schedule render jobs on the render farms to get workloads done every single night in a predictable fashion.\nAnother main use of Artificial Intelligence is in editing; AI is used to match dialogue in the script to its specific scene, making it easier and faster to edit, and AI also assists in reframing a video for different aspect ratios.\nFurthermore, Artificial Intelligence is majorly used to help build and execute visual effects.\nAccording to the Global Tech Council, AI can support movie editors: "with facial recognition technology, the AI algorithm can recognize the main characters and help sort out those scenes for human editors". Artificial Intelligence can also produce the music score for a certain scene based on the situation, tone, and dialogue.\nArtificial Intelligence is so adaptable and multi-faceted that it not only assists with movie production, but also with movie marketing, analytics, customer targeting, and future planning.\nAI accelerates the process of reading scripts, deciding which movies are worth investment, and determining how successful a movie will be.\nAccording to Forbes, Warner Bros. has signed a deal with Cinelytic, "which has developed an AI-powered system that can predict the likelihood of a film’s success based on such factors as actors, budget and brand".\nCinelytic uses Artificial Intelligence to help Warner Bros decide which movies to commission by determining the profitability of an actor and calculating how much money a film will earn.\nIn terms of movie marketing, Artificial Intelligence is used to recommend where film studios should "arrange their promotions according to those places where the audience expects the highest interest" based on "the viewer base and the popularity of actors across the globe", as stated by the Global Tech Council.\nAI is also utilized to analyze audience behavior, reviews, and box office trends to help better predict what each moviegoer would be interested in.\nMost importantly (to us), Artificial Intelligence can be used to create its own movies.\nAs Paul Debevec, senior scientist at Google, states, "decades from now, an AI algorithm will make your movie simply from the text of the script".\nWhy wait decades when Pictory is already making movies from scripts using artificial intelligence?\nUsing our "Script to Video" feature, you’re able to upload or paste your script directly into Pictory.\nPictory will then use Artificial Intelligence to transcribe your script and assign videos and images that match with the words in the script.\nYou’ll then have a full video based on your script in just a few easy clicks! Check out our Script to Video Tutorial.\nThis is how we are revolutionizing the content marketing industry here at Pictory through the power of Artificial Intelligence.\nJust like Hollywood is using AI to enhance the production and success of their movies (and revenue), Pictory uses Artificial Intelligence to help you produce the highest-quality, content-rich, professional videos on an easy-to-use, intuitive platform.\nYou may feel that AI is out of reach for individual small creators, however, Pictory brings Artificial Intelligence to you for just a few dollars a month – and it’s taking the creator community by storm!\nWant to watch this article instead? Check out our Pictory-generated, Script to Video example for this article:.\n',article_sentences:['They say "a picture is worth a thousand words".'," The film industry has been built on this idea as moving pictures actively communicate messages and tell stories to varied audiences.","At the forefront of the film industry, Hollywood has continuously pushed the boundaries of movie making, producing, and editing, with its most recent venture being Machine Learning and Artificial Intelligence (AI) as movie-making tools.","Hollywood uses Artificial Intelligence in a multitude of ways to enhance and expedite the movie-making process.","One way Artificial Intelligence is used is in overseeing the workflow of rendering animation and visual effects.","To paraphrase Rob Bredow, senior VP, executive creative director, and head of Industrial Light and Magic, artificial intelligence is used to schedule render jobs on the render farms to get workloads done every single night in a predictable fashion.","Another main use of Artificial Intelligence is in editing; AI is used to match dialogue in the script to its specific scene, making it easier and faster to edit, and AI also assists in reframing a video for different aspect ratios.","Furthermore, Artificial Intelligence is majorly used to help build and execute visual effects.",'According to the Global Tech Council, AI can support movie editors: "with facial recognition technology, the AI algorithm can recognize the main characters and help sort out those scenes for human editors".',"Artificial Intelligence can also produce the music score for a certain scene based on the situation, tone, and dialogue.","Artificial Intelligence is so adaptable and multi-faceted that it not only assists with movie production, but also with movie marketing, analytics, customer targeting, and future planning.","AI accelerates the process of reading scripts, deciding which movies are worth investment, and determining how successful a movie will be.",'According to Forbes, Warner Bros. has signed a deal with Cinelytic, "which has developed an AI-powered system that can predict the likelihood of a film’s success based on such factors as actors, budget and brand".',"Cinelytic uses Artificial Intelligence to help Warner Bros decide which movies to commission by determining the profitability of an actor and calculating how much money a film will earn.",'In terms of movie marketing, Artificial Intelligence is used to recommend where film studios should "arrange their promotions according to those places where the audience expects the highest interest" based on "the viewer base and the popularity of actors across the globe", as stated by the Global Tech Council.',"AI is also utilized to analyze audience behavior, reviews, and box office trends to help better predict what each moviegoer would be interested in.","Most importantly (to us), Artificial Intelligence can be used to create its own movies.",'As Paul Debevec, senior scientist at Google, states, "decades from now, an AI algorithm will make your movie simply from the text of the script".',"Why wait decades when Pictory is already making movies from scripts using artificial intelligence?",'Using our "Script to Video" feature, you’re able to upload or paste your script directly into Pictory.',"Pictory will then use Artificial Intelligence to transcribe your script and assign videos and images that match with the words in the script.","You’ll then have a full video based on your script in just a few easy clicks!","Check out our Script to Video Tutorial.","This is how we are revolutionizing the content marketing industry here at Pictory through the power of Artificial Intelligence.","Just like Hollywood is using AI to enhance the production and success of their movies (and revenue), Pictory uses Artificial Intelligence to help you produce the highest-quality, content-rich, professional videos on an easy-to-use, intuitive platform.","You may feel that AI is out of reach for individual small creators, however, Pictory brings Artificial Intelligence to you for just a few dollars a month – and it’s taking the creator community by storm!","Want to watch this article instead?","Check out our Pictory-generated, Script to Video example for this article:"],authors:[],num_sentences:6,text_num_sentences:28,videos:[],keywords:["movie making","highest-quality, content-rich, professional videos","movie-making process","The film industry","movies","movie","movie production","movie-making tools","film industry","movie marketing"],article_keywords:["movie making","highest-quality, content-rich, professional videos","movie-making process","The film industry","movies","movie","movie production","movie-making tools","film industry","movie marketing"],meta_keywords:[""],meta_description:"Hollywood has continuously pushed the boundaries of movie making, producing, and editing, with its most recent venture being Machine Learning and Artificial Intelligence (AI) as movie-making tools.",meta_img:"https://mlrdjua3hhlu.i.optimole.com/rZrzvTA.8xy7~62621/w:auto/h:auto/q:mauto/https://pictory.ai/wp-content/uploads/2021/11/thumb-ai-vs-hollywood.jpg",images:["https://mlrdjua3hhlu.i.optimole.com/rZrzvTA.8xy7~62621/w:auto/h:auto/q:mauto/https://pictory.ai/wp-content/uploads/2021/11/thumb-ai-vs-hollywood.jpg"],projectName:"Hollywood Vs AI: How Artificial Intelligence is Transforming the Movie Industry",transcribe:!1,transcribe_sentences:[]})||at().isEmpty(a)){e.next=25;break}if("Article Parse Error"!==a.error){e.next=15;break}return d.setState({isActive:!1,isError:!0,isUploadVideoFirst:!1}),e.abrupt("return",!1);case 15:i=(0,Vr.Z)(a.summary);try{for(i.s();!(o=i.n()).done;)o.value.enabled=!0}catch(e){i.e(e)}finally{i.f()}d.parseSentences(a.html,a.article_sentences,a.summary,a.top_image,a.meta_img),d.createSummaryText(a,r),d.state.projectName||d.setState({projectName:(0,te.A2)(a.projectName)}),d.setState({data:a,title:a.title,isUploadVideoFirst:!1}),a.transcribe_sentences&&d.setState({transcribe_sentences:a.transcribe_sentences}),r||(d.setState({isNewProject:!0}),S().getInstance().logEvent("start-with-article",{"article-link":d.state.url,"project-id":d.state.projectDetails.project_id})),e.next=27;break;case 25:d.setState({isActive:!1,isError:!0,isUploadVideoFirst:!1}),S().getInstance().logEvent("failed-article",{"article-link":d.state.url,"project-id":d.state.projectDetails.project_id});case 27:d.estimateVideoDuration(),d.setState({isAnyChange:!0});case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),d.createSummaryJsonItem=function(e,t,n,r){var s=e.sentence.replace(/\\"/g,'"').replace(/i\.e\./g,"$#thatIswhatImeans$#");s=s.replace(/e\.g\./g,"$#Forexample$#"),r.articleSummaryTextForCopy+=" "+s,e.keywords.map((function(e,t){var n=s.indexOf(e),r=e.length;s=s.substring(0,n)+"<strong>"+s.substring(n,n+r)+"</strong>"+s.substring(n+r)})),r.articleSummaryText+="<p id='p_"+n+"'>"+s+"</p>";var a="";return e.image&&e.image.length>0&&(a=e.image[0]),{sentence:s,keywords:e.keywords,type:e.type||"summary",image:a,subsentences:e["sub-sentences"],uuid:(0,ct.Z)(),originalIndex:t}},d.createSummaryText=function(e,t,n,r){var s=e.title,a=e.top_image,i=e.num_sentences,o=e.text_num_sentences,c=e.summary,l=e.authors,u=(e.transcribe,(0,B.Z)(d.state.summaryJson));if("remove"===r){var p=u.findIndex((function(e){return e.originalIndex===n}));p>-1&&u.splice(p,1)}else if("add"===r){for(var h=c[n],m=d.createSummaryJsonItem(h,h.sentence_index,n,{articleSummaryText:"",articleSummaryTextForCopy:""}),g=1,f=0;f<n;f++)c[f].enabled&&g++;u.splice(g,0,m)}var v={articleSummaryText:"",articleSummaryTextForCopy:""};if(u&&u[0]?v.articleSummaryText="<h1>".concat(u[0].sentence,"</h1>"):v.articleSummaryText="<h1>".concat(s,"</h1>"),l&&l.length>0&&(v.articleSummaryText+="<span class='author-name'>By ".concat(l[0],"</span>")),v.articleSummaryText+='<hr style={{ marginRight: "15px" }} /></br>',u&&u.length>0)for(var x=1;x<u.length;x++)d.createSummaryJsonItem(u[x],n,x-1,v);else{u=[];var S,y=0,b=(0,Vr.Z)(c);try{for(b.s();!(S=b.n()).done;){var j=S.value;if(j.enabled){var w=d.createSummaryJsonItem(j,j.sentence_index,y,v);u.push(w),y++}}}catch(e){b.e(e)}finally{b.f()}}v.articleSummaryText=v.articleSummaryText.replace(/\$\#thatIswhatImeans\$\#/g,"i.e."),v.articleSummaryText=v.articleSummaryText.replace(/\$\#Forexample\$\#/g,"e.g."),v.articleSummaryText=v.articleSummaryText.replace(/\$\#SpecialCharU\$\#/g,"ü");var Z,k,C=0;if("add"!==r&&"remove"!==r){var I=!0;if(u&&u[0]&&u[0].keywords&&u[0].keywords[0]&&"$#ArticleURLTitleAddedDynamic$#"==u[0].keywords[0]&&(I=!1),I){var T={sentence:s,keywords:[],type:"summary",image:a,subsentences:[s],uuid:(0,ct.Z)()};T.keywords.push("$#ArticleURLTitleAddedDynamic$#"),u.splice(0,0,T)}}t?(t&&i!==d.state.lines||t&&5===d.state.lines)&&(C=Math.ceil(100*i/o),d.setState({value:C})):(C=Math.ceil(100*i/o),d.setState({value:C,previousValue:C})),Z=o,k=i,d.setState({summaryJson:u,summaryTextForCopy:v.articleSummaryTextForCopy,summaryText:v.articleSummaryText,isActive:!1,totalLines:Z,lines:k},(function(){if(n){var e=document.getElementById("p_"+n);e&&(e.className="orignalArticleHighlightText ",e.style="background-color: rgba(53,254,149,.43) !important;",setTimeout((function(){var e=document.getElementById("p_"+n);e?(e.className=" ",e.style=""):console.log("Element not found: ","p_"+n)}),1e3),e=e.offsetTop,document.getElementsByClassName("jodit_wysiwyg")[0].scrollTop=e-50)}}))},d.AddRemoveHighlightSentence=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,s,a,i,c,l,u,p,h,m,g,f,v,x,S,y,b,j,w,Z;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t&&t.currentTarget)&&r.attributes&&r.attributes["data-sentence-id"]||void 0!==n)){e.next=64;break}null==n&&(n=parseInt(r.attributes["data-sentence-id"].nodeValue)),s=d.state.documentFile?document.querySelector("#shadowDomDiv").shadowRoot.querySelectorAll("mark[data-sentence-id='".concat(n,"']")):document.querySelectorAll("mark[data-sentence-id='".concat(n,"']")),a="",i=!1,c=(0,Vr.Z)(s);try{for(c.s();!(l=c.n()).done;)u=l.value,a+=u.textContent,u.hasAttribute("data-highlight")&&"true"===u.getAttribute("data-highlight")&&(i=!0)}catch(e){c.e(e)}finally{c.f()}if(d.setState({isActive:!0,OverlayMessage:"Please wait..."}),!1!==i){e.next=60;break}if(p=d.state.data.summary,!((h=p.findIndex((function(e){return e.sentence_index===n})))>-1)){e.next=24;break}(m=(0,o.Z)({},p[h])).enabled=!0,p[h]=m,d.highlightMarkers(s),d.createSummaryText(d.state.data,!1,h,"add"),g=p.filter((function(e){return e.enabled})).length,d.setState({data:d.state.data,lines:g}),e.next=58;break;case 24:return e.next=26,d.props.getSummary(d.state.user.username,{summarize:!1,split_sentences:!0,sentences:[a]},!1);case 26:if(!(f=d.props.summary)){e.next=58;break}if(!(f.summary&&f.summary.length>0)){e.next=54;break}(v=f.summary[0]).enabled=!0,v.sentence_index=n,d.state.data.transcribe&&(x=d.state.data.transcribe_sentences.find((function(e){return e.sentence===d.state.data.article_sentences[n]})))&&(v.image=[x.url]),S=-1,y=0;case 35:if(!(y<d.state.data.summary.length)){e.next=43;break}if(!(d.state.data.summary[y].sentence_index>n)){e.next=40;break}return S=y,e.abrupt("break",43);case 40:y++,e.next=35;break;case 43:b=(0,B.Z)(d.state.data.summary),j=-1,-1===S?(b.push(v),j=b.length-1):(b.splice(S,0,v),j=S),(w=(0,o.Z)({},d.state.data)).summary=b,Z=b.filter((function(e){return e.enabled})).length,d.createSummaryText(w,!1,j,"add"),d.setState({data:w,lines:Z}),e.next=55;break;case 54:d.setState({isActive:!1});case 55:d.highlightMarkers(s),e.next=58;break;case 58:e.next=62;break;case 60:d.removehighlightMarkers(s),d.RemoveHighlight(n);case 62:d.setState({isAnyChange:!0}),d.estimateVideoDuration();case 64:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d.highlightMarkers=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.setAttribute("data-highlight","true");var r=n.parentElement.className.split(" ");if(r.splice(r.indexOf("orignalArticleText"),1),r.push("orignalArticleHighlightText"),n.parentElement.className=r.join(" "),t===e.length-1){var s=document.createElement("span");s.className="cross fa fa-close",n.parentElement.appendChild(s)}}},d.removehighlightMarkers=function(e){var t,n=(0,Vr.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.removeAttribute("data-highlight");var s=r.parentElement.className.split(" ");s.splice(s.indexOf("orignalArticleHighlightText"),1),s.push("orignalArticleText"),r.parentElement.className=s.join(" ");var a=r.parentElement.querySelector("span.cross");a&&r.parentElement.removeChild(a)}}catch(e){n.e(e)}finally{n.f()}},d.setTextRef=function(e){return d.jodit=e},d.uploadVideo=function(e,t,n,r){var s=d.state.fileTobeUploaded,a="".concat(e.username,"/videos/").concat(s.name.replace(/ /g,"_").replace(/[^0-9a-zA-Z_.]+/g,""));Te.Ke.put(a,s,{level:"public",ACL:"public-read",progressCallback:function(e){var t=Math.ceil(e.loaded/e.total*100);d.state.percent<t&&d.setState({percent:t})}}).then((function(s){var i=k.Z.Instance.GetUserUploadUrl(a,"public");t.url=i,d.setState({url:i}),t.split_sentences_period=!0,d.callAPI(e,t,n,r)})).catch((function(e){d.props.history.push("/")}))},d.estimateVideoDuration=function(){if(d.state.data&&d.state.data.summary&&d.state.data.summary.length>0){var e=0,t=(0,te.we)(d.state.user?d.state.user.username:""),n=t&&t.plan?t.plan.plan_code:"",r=601,s=t.data.plan&&t.data.plan.features&&t.data.plan.features.video&&t.data.plan.features.video.textToVideoDuration?t.data.plan.features.video.textToVideoDuration:720;s>120&&(r=s-120),(n===Ce.yj.freeTrial||n===Ce.yj.teamsFreeTrial)&&(e=6),d.props.brandSettings&&d.props.brandSettings.outroStyle&&d.props.brandSettings.outroStyle.showStyle&&(e+=5),d.props.brandSettings&&d.props.brandSettings.introStyle&&d.props.brandSettings.introStyle.showStyle&&(e+=5),d.state.data.summary.forEach((function(t){t.enabled&&t["sub-sentences"].forEach((function(t){e+=Math.ceil(.08*t.length*2)/2}))}));var a="Video duration has exceeded "+parseInt(r/60)+" minutes",i=be.Z.secondsToMinutesRepresentationHuman(e);d.setState({videoDuration:i,videoTotalDurationInSeconds:e,videoDurationLimit:r,videoDurationLimitexitWithGrace:s,videoDurationToolTip:a})}},d.estimateVideoDuration1=function(e){var t=0;d.props.brandSettings&&d.props.brandSettings.outroStyle&&d.props.brandSettings.outroStyle.showStyle&&(t+=5),d.props.brandSettings&&d.props.brandSettings.introStyle&&d.props.brandSettings.introStyle.showStyle&&(t+=5),e.forEach((function(e){t+=Math.ceil(.08*e.sentence.length*2)/2}));var n=be.Z.secondsToMinutesRepresentationHuman(t);d.setState({videoDuration:n,videoTotalDurationInSeconds:t})},d.saveProjectOnSaveButtonClick=(0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.saveProjectDetails(null);case 2:case"end":return e.stop()}}),e)}))),d.saveProjectDetails=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,s,a,i;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.setState({saveButtonText:"Saving",disableNextButton:!0}),r="",t){e.next=13;break}return r=d.state.user.username+"/project/"+d.state.projectDetails.project_id+"/summary.json",d.state.summaryJson&&d.state.summaryJson.length>0&&(d.state.data.savedSummaryJson=d.state.summaryJson,d.state.data.savedSceneSettings={autoHighlightKeywords:d.state.autoHighlightKeywords,autoVisualSelection:d.state.autoVisualSelection}),e.next=7,d.props.uploadImage({filePath:r,file:JSON.stringify(d.state.data)});case 7:if("success"===(n=d.props.uploadImageStatus)){e.next=13;break}return(0,w.x2)("Article upload failed. Please try again."),S().getInstance().logEvent("failed-article-upload",{"article-link":d.state.url,"project-id":d.state.projectDetails.project_id}),d.setState({saveButtonText:"Save"}),e.abrupt("return");case 13:if("success"!=n&&!t){e.next=36;break}if(s=k.Z.Instance.GetUserUploadUrl(r,"public"),(a=(0,o.Z)({},d.state.projectDetails)).projectName=d.state.projectName?d.state.projectName:"Untitled Project",t){e.next=21;break}a.step2TxtData=s,e.next=24;break;case 21:return e.next=23,d.props.getProjectNameBegin(d.state.user.username,a.projectName);case 23:a.projectName=d.props.projectName;case 24:return a.saveDate=new Date,a.isNewProject=!0,a.articleUrl||(a.articleUrl=d.state.url),d.state.transcribe_sentences.length>0&&(a.transcribe_sentences=d.state.transcribe_sentences),a.state&&(delete a.state,a.states=[]),C.Z.setItem("backup-save-json",JSON.stringify(a)),d.setState({projectDetails:a,saveDate:a.saveDate}),i={body:a},e.next=34,d.props.saveProject(i);case 34:"success"==d.props.saveProjectStatus?(C.Z.removeItem("backup-save-json"),d.setState({saveButtonText:"Saved"}),setTimeout((function(){d.setState({saveButtonText:"Save",disableNextButton:!1})}),500)):(0,te.Hw)();case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d.handleChange=function(e){var t=e.target.name,n=e.target.value;d.setState((0,He.Z)({},t,n))},d.gotoCreateVideoStep3=function(e,t,n){d.setState({redirectToAspectRatio:!1},(0,O.Z)((0,N.Z)().mark((function r(){var s,a,i,c;return(0,N.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=[],d.state.transcribe_sentences&&d.state.transcribe_sentences.length>0&&d.state.summaryJson.map((function(e){var t=e.image,n=5,r=d.state.transcribe_sentences.findIndex((function(e){return e.url==t}));if(-1!=r){var a=d.state.transcribe_sentences[r],i=a.end_time,o=a.start_time;i!=o&&(n=i-o)}s.push(parseFloat(n.toFixed(2)))})),S().getInstance().logEvent("next-button-pressed",{"article-link":d.state.url,"total-selected-sentences":d.state.lines,"project-id":d.state.projectDetails.project_id}),a=(0,o.Z)((0,o.Z)({},d.state.projectDetails),{},{isNewProject:!0,aspectRatioClass:t,aspectRatioValue:e,aspectRatioFractionValue:n,template:d.state.template}),i=d.state.summaryJson.reduce((function(e,t){return e+t.sentence+" "}),""),r.next=7,d.props.getAutoDetectedLanguage(i);case 7:c=d.props.detectedLanguage||"en",d.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{summaryJson:d.state.summaryJson,url:d.state.url,documentFile:d.state.documentFile,documentFileName:d.state.documentFileName,sentences:d.state.lines,originalText:d.state.data.text,summaryText:d.state.summaryJson.join(" "),imageURL:[],articleImages:d.state.data.images,timePerFrame:s,isPrevious:!1,isSummaryOff:!1,lines:d.state.lines,totalLines:d.state.totalLines,value:d.state.value,isSkipStep2:!1,loadProject:!1,metaDescription:d.state.data.meta_description,articleKeywords:d.state.data.article_keywords,step2Data:d.state.data,title:d.state.title,projectDetails:a,aspectRatioClass:t,aspectRatioValue:e,aspectRatioFractionValue:n,autoHighlightKeywords:d.state.autoHighlightKeywords,autoVisualSelection:d.state.autoVisualSelection,scriptLanguage:c}}),S().getInstance().logEvent("language-detected",{useCase:"article-to-video",language:c,projectId:d.state.projectDetails.project_id});case 10:case"end":return r.stop()}}),r)}))))},d.gotoBrandSettings=function(){d.props.history.push({pathname:b.Z.BaseURL+y.Z.brandSettings,state:{step2Data:d.state.data,documentFile:d.state.documentFile,documentFileName:d.state.documentFileName}})},d.gotoCreateVideoStep1=function(e){d.props.history.push({pathname:b.Z.BaseURL+y.Z.stepOne,state:{url:d.state.documentFile?"":d.state.url,isPreviousButton:!0,documentFile:d.state.documentFile,documentFileName:d.state.documentFileName}}),S().getInstance().logEvent("previous-button-pressed",{"article-link":d.state.url,"project-id":d.state.projectDetails.project_id})},d.BackURL=function(e){d.props.history.push(b.Z.BaseURL+y.Z.stepOne)},d.RerunSummary=function(e){d.sentence_index=0,d.word_index=0,d.previous_data_sentence_id=null;var t=!1,n={summarize:!0,num_sentences:d.state.lines,split_sentences_period:!0};d.state.url&&(n.url=d.state.url,t=!0),t&&d.callAPI(d.state.user,n,!0,!1)},d.parseSentences=function(e,t,n,r,s){if(e){var a=(new DOMParser).parseFromString(e,"text/html"),i=a.querySelector("#readability-page-1");if(!i){var o=a.body;if(o){(i=document.createElement("div")).style.position="sticky";for(var c=0,l=Array.from(o.children);c<l.length;c++){var u=l[c];i.appendChild(u)}}}if(d.parseDocument(i,t),s&&r===s&&0==i.querySelectorAll("img").length){var p=document.createElement("img");p.src=s,p.style["margin-top"]="1em",p.style["margin-bottom"]="1em",i.insertBefore(p,i.firstChild)}if(d.highlightSummarySentences(i,n),a.head&&d.state.documentFile){var h=document.createElement("style");h.type="text/css";var m,g=(0,Vr.Z)(a.head.children);try{for(g.s();!(m=g.n()).done;){var f=m.value;if("style"===f.localName){var v="\n.mark, mark{padding:0!important;background:transparent!important;}\n.orignalArticleText:hover{background-color: rgba(53, 254, 149, 0.43)!important;}\n.orignalArticleHighlightText {background-color: rgba(53, 254, 149, 0.43)!important;display: inline;background: rgba(53, 254, 149, 0.43)!important;padding-left: 0;padding-right: 0;\n-webkit-box-decoration-break: clone;-ms-box-decoration-break: clone;-o-box-decoration-break: clone;box-decoration-break: clone;position:relative;}\n.orignalArticleHighlightText:hover{background-color: rgba(53, 254, 149, 0.43)!important;}\n.cross{display:none;}\n.orignalArticleHighlightText:hover .cross{display:inline-block;}\n#orignalArticleDiv a{display: inline!important;}\n.highlightSentenceOnMouseOver{\n    background-color: rgba(53, 254, 149, 0.43)!important;\n}\n.btn-span{pointer: cursor;}\n"+f.innerText;h.appendChild(document.createTextNode(v));break}}}catch(e){g.e(e)}finally{g.f()}i.children&&i.children.length>0&&i.insertBefore(h,i.children[0])}d.setState({readableHtml:i.outerHTML})}else d.documentViewer&&d.documentViewer.documentContainer&&(d.parserDocumentViewerDocument(d.documentViewer.documentContainer,d.documentViewer.textElements,t),d.highlightDocumentViewerSummarySentences(d.documentViewer.documentContainer,n))},d.highlightSummarySentences=function(e,t){var n,r=(0,Vr.Z)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.enabled){var a,i=s.sentence_index,o=e.querySelectorAll("mark[data-sentence-id='".concat(i,"']")),c=0,l=(0,Vr.Z)(o);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.setAttribute("data-highlight","true"),c===o.length-1&&u.setAttribute("data-last-node","true"),c++}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){r.e(e)}finally{r.f()}},d.parserDocumentViewerDocument=function(e,t,n){d.parseChildDocuments(t,document,n);var r,s=e.querySelectorAll("mark"),a=(0,Vr.Z)(s);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.style.opacity=0;var o=document.createElement("span");o.setAttribute("data-sentence-id",i.getAttribute("data-sentence-id")),o.className=["btn-span","orignalArticleText"].join(" "),o.onclick=d.AddRemoveHighlightSentence,o.onmouseover=d.highlightSentenceOnMouseOver,i.parentNode.insertBefore(o,i),i.parentNode.removeChild(i),o.appendChild(i)}}catch(e){a.e(e)}finally{a.f()}},d.highlightDocumentViewerSummarySentences=function(e,t){var n,r=(0,Vr.Z)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.enabled){var a,i=s.sentence_index,o=e.querySelectorAll("mark[data-sentence-id='".concat(i,"']")),c=0,l=(0,Vr.Z)(o);try{for(l.s();!(a=l.n()).done;){var u=a.value,d=!1,p=u.parentNode.className.split(" ");p.splice(1,1),p.push("orignalArticleHighlightText"),u.setAttribute("data-highlight","true"),c===o.length-1&&(u.setAttribute("data-last-node","true"),d=!0),d&&(document.createElement("span").className="cross fa fa-close"),u.parentNode.className=p.join(" "),c++}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){r.e(e)}finally{r.f()}},d.parseDocument=function(e,t){d.parseChildDocuments(e.childNodes,e,t)},d.parseChildDocuments=function(e,t,n){var r,s=[],a=(0,Vr.Z)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.nodeType===i.TEXT_NODE&&i.textContent){var o={nodeToRemove:i,nodesToAdd:[]},c=document.createElement("mark");c.setAttribute("data-assigned","false"),o.nodesToAdd.push(c);for(var l=n[d.sentence_index],u=i.textContent.replace(/[\u201C\u201D]/g,'"'),p=0;p<u.length;p++){var h=u[p];l&&(d.word_index<l.length?("\n"===h&&d.word_index<l.length-1&&" "===l[d.word_index]&&(h=" "),h.toLowerCase()===l[d.word_index].toLowerCase()?(0==c.hasAttribute("data-sentence-id")&&(c=document.createElement("mark"),o.nodesToAdd.push(c)),c.innerHTML=c.innerHTML+h,c.setAttribute("data-sentence-id",d.sentence_index),c.setAttribute("data-sentence","true"),c.setAttribute("data-assigned","true"),!c.getAttribute("data-pictory-space-node")&&i.parentNode&&"true"===i.parentNode.getAttribute("data-pictory-space-node")&&c.setAttribute("data-pictory-space-node","true"),d.word_index++):[" ","\t"].includes(l[d.word_index])?(p--,d.word_index++):(c.hasAttribute("data-sentence-id")&&(c=document.createElement("mark"),o.nodesToAdd.push(c)),c.setAttribute("data-assigned","true"),c.innerHTML=c.innerHTML+h)):(d.sentence_index++,d.word_index=0,l=n[d.sentence_index],(c=document.createElement("mark")).setAttribute("data-assigned","false"),o.nodesToAdd.push(c),p--))}l&&d.word_index===l.length&&(d.word_index=0,d.sentence_index++),s.push(o)}else d.parseChildDocuments(i.childNodes,i,n)}}catch(e){a.e(e)}finally{a.f()}for(var m=0,g=s;m<g.length;m++){var f=g[m];if(f.nodesToAdd.length>0){var v,x=!1,S=(0,Vr.Z)(f.nodesToAdd);try{for(S.s();!(v=S.n()).done;){var y=v.value;"true"===y.getAttribute("data-assigned")&&(y.removeAttribute("data-assigned"),t.insertBefore(y,f.nodeToRemove),x=!0)}}catch(e){S.e(e)}finally{S.f()}x&&t.removeChild(f.nodeToRemove)}}},d.readabilityHtmlParserTransform=function(e,t){var n=!1;if("mark"===e.name&&e.attribs&&e.attribs["data-sentence"]&&"true"===e.attribs["data-sentence"]){var r=["btn-span","orignalArticleText"];e.attribs&&e.attribs["data-highlight"]&&"true"===e.attribs["data-highlight"]&&(r.splice(1,1),r.push("orignalArticleHighlightText"),e.attribs&&e.attribs["data-last-node"]&&"true"===e.attribs["data-last-node"]&&(n=!0));var s={display:"inline"};return"true"===e.attribs["data-pictory-space-node"]&&(s.paddingLeft="5px"),(0,E.jsxs)("span",{"data-sentence-id":e.attribs["data-sentence-id"],style:s,className:r.join(" "),onClick:d.AddRemoveHighlightSentence,onMouseLeave:d.unHighlightSentenceOnMouseOut,onMouseOver:d.highlightSentenceOnMouseOver,children:[(0,rt.MF)(e,t,d.readabilityHtmlParserTransform),n?(0,E.jsx)("span",{className:"cross fa fa-close"}):null]},t)}if("a"===e.name&&"tag"===e.type)return(0,E.jsx)("a",{target:"_blank",onClick:function(e){e.ctrlKey||e.preventDefault()},href:e.attribs.href,rel:"noreferrer",children:(0,rt.MF)(e,t,d.readabilityHtmlParserTransform)},t)},d.unHighlightSentenceOnMouseOut=function(e){if(!d.state.isActive){var t=e.currentTarget;if(t&&t.attributes&&t.attributes["data-sentence-id"]){var n=t.attributes["data-sentence-id"].nodeValue,r=d.state.data.summary,s=parseInt(n);if(r.filter((function(e){return e.sentence_index===s&&e.enabled})).length)return void d.highlightSentenceOnMouseOver(e);d.previous_data_sentence_id=n;var a,i=d.state.documentFile?document.querySelector("#shadowDomDiv").shadowRoot.querySelectorAll("mark[data-sentence-id='".concat(n,"']")):document.querySelectorAll("mark[data-sentence-id='".concat(n,"']")),o=(0,Vr.Z)(i);try{for(o.s();!(a=o.n()).done;){var c=a.value,l=c.parentNode.className.split(" ");l.indexOf("highlightSentenceOnMouseOver")>-1&&l.splice(l.indexOf("highlightSentenceOnMouseOver"),1),c.parentNode.className=l.join(" ")}}catch(e){o.e(e)}finally{o.f()}}}},d.highlightSentenceOnMouseOver=function(e){var t=e.currentTarget;if(t&&t.attributes&&t.attributes["data-sentence-id"]){var n=t.attributes["data-sentence-id"].nodeValue;if(null!==d.previous_data_sentence_id&&d.previous_data_sentence_id!==n){var r,s=d.state.documentFile?document.querySelector("#shadowDomDiv").shadowRoot.querySelectorAll("mark[data-sentence-id='".concat(d.previous_data_sentence_id,"']")):document.querySelectorAll("mark[data-sentence-id='".concat(d.previous_data_sentence_id,"']")),a=(0,Vr.Z)(s);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.parentNode.className.split(" ");o.indexOf("highlightSentenceOnMouseOver")>-1&&o.splice(o.indexOf("highlightSentenceOnMouseOver"),1),i.parentNode.className=o.join(" ")}}catch(e){a.e(e)}finally{a.f()}}d.previous_data_sentence_id=n;var c,l=d.state.documentFile?document.querySelector("#shadowDomDiv").shadowRoot.querySelectorAll("mark[data-sentence-id='".concat(n,"']")):document.querySelectorAll("mark[data-sentence-id='".concat(n,"']")),u=(0,Vr.Z)(l);try{for(u.s();!(c=u.n()).done;){var p=c.value,h=p.parentNode.className.split(" ");-1===h.indexOf("highlightSentenceOnMouseOver")&&h.push("highlightSentenceOnMouseOver"),p.parentNode.className=h.join(" ")}}catch(e){u.e(e)}finally{u.f()}}},d.removeAllMouseOverClass=function(e){if(d.previous_data_sentence_id){var t,n=d.state.documentFile?document.querySelector("#shadowDomDiv").shadowRoot.querySelectorAll("mark[data-sentence-id='".concat(d.previous_data_sentence_id,"']")):document.querySelectorAll("mark[data-sentence-id='".concat(d.previous_data_sentence_id,"']")),r=(0,Vr.Z)(n);try{for(r.s();!(t=r.n()).done;){var s=t.value,a=s.className.split(" ");a.indexOf("highlightSentenceOnMouseOver")>-1&&a.splice(a.indexOf("highlightSentenceOnMouseOver"),1),s.className=a.join(" ")}}catch(e){r.e(e)}finally{r.f()}}},d.getLinesCount=function(){return d.state.data&&d.state.data.summary?d.state.data.summary.length:d.state.lines},d.handleBlurProjectName=function(e,t){d.state.projectName!==e&&d.setState({projectName:(0,te.A2)(e),isAnyChange:!t})},d.onReadAllText=function(e){if(d.sentence_index=0,d.word_index=0,d.state.isPrevious||d.state.data)d.setState({isActive:!0}),d.parseSentences(d.state.data.html,d.state.data.article_sentences,d.state.data.summary,d.state.data.top_image,d.state.data.meta_img),d.createSummaryText(d.state.data,!1);else{var t={summarize:!0,text:e,split_sentences_period:!0};d.setState({documentText:e}),d.callAPI(d.state.user,t,!1,!0)}},d.getSourceArticleView=function(){if(d.state.url)return d.state.readableHtml&&(d.state.documentFile?(0,E.jsx)(Br.ZP.div,{id:"shadowDomDiv",onMouseLeave:d.removeAllMouseOverClass,children:(0,rt.ZP)(d.state.readableHtml,{transform:d.readabilityHtmlParserTransform})}):(0,E.jsxs)("div",{onMouseLeave:d.removeAllMouseOverClass,children:[(0,E.jsx)("h1",{children:d.state.data&&d.state.data.title}),d.state.data&&d.state.data.authors&&d.state.data.authors.length>0?(0,E.jsxs)("span",{className:"author-name",children:["By ",d.state.data.authors[0]]}):null,(0,E.jsx)("hr",{style:{marginRight:"15px"}}),(0,E.jsx)("br",{}),(0,rt.ZP)(d.state.readableHtml,{transform:d.readabilityHtmlParserTransform})]}))},d.saveEditorText=function(e){d.setState({editMode:!1});var t=(0,B.Z)(d.state.summaryJson),n=t.findIndex((function(e){return e.uuid===d.state.editIndex})),r=t[n],s=e.html;s!==r.sentence&&(t[n].sentence=s,d.estimateVideoDuration1(t),d.setState({summaryJson:t,isAnyChange:!0}))},d.onChangeAutoHighlightKw=function(e){d.setState({autoHighlightKeywords:e,isAnyChange:!0})},d.onChangeautoVisualSelection=function(e){d.setState({autoVisualSelection:e,isAnyChange:!0})},d.renderSentence=function(e,t){var n="Scene "+(t+1),r=d.state.editMode&&d.state.editIndex==e.uuid,s=e.sentence;return(0,E.jsx)("div",{className:"card p-1 full-width "+(r?"highlightSelectedScene":""),children:(0,E.jsxs)("div",{id:e.uuid,className:"sep-sent ",onClick:function(e){return d.setState({editMode:!0,editIndex:e.currentTarget.id})},children:[(0,E.jsxs)("h5",{className:"small",children:[(0,E.jsx)("span",{children:n}),t>0&&(0,E.jsx)("i",{className:"fa fa-trash floated-right",style:{transition:"none"},onClick:function(){return d.AddRemoveHighlightSentence(void 0,e.originalIndex)}})]}),(0,E.jsx)(Gr.w,{htmlText:s,onChangeFn:d.saveEditorText,className:"addRemoveHighlightPTag",innerSpanClassName:"all-sentences-editor-span",contentEditable:!!r,allowCtrlB:!0})]})})},d.arrayMove=function(e,t,n){var r=e[t];e.splice(t,1),e.splice(n,0,r)},d.onDragEnd=function(e){var t=e.destination,n=e.source,r=e.reason;if(t&&"CANCEL"!==r&&(d.state.data.title&&t.index++,t.droppableId!==n.droppableId||t.index!==n.index)){var s=(0,B.Z)(d.state.summaryJson);d.arrayMove(s,n.index,t.index),d.setState({summaryJson:s,isAnyChange:!0})}},d.setTemplate=function(e,t){var n=pe.R3.find((function(e){return e.class===t}));n||(n={value:pe.Jb,class:pe.TJ,fractionValue:pe.Wi}),d.setState({template:e},(function(){return d.gotoCreateVideoStep3(n.value,n.class,n.fractionValue)}))},d.state={url:d.props.location.state.url,summaryJson:null!==(s=d.props.location.state.step2Data)&&void 0!==s&&s.savedSummaryJson?null===(a=d.props.location.state.step2Data)||void 0===a?void 0:a.savedSummaryJson:[],summaryText:"",summaryTextForCopy:"",copied:!1,value:d.props.location.state.value,previousValue:d.props.location.state.value,totalLines:d.props.location.state.totalLines,lines:d.props.location.state.lines,sentences:0,isActive:!1,isPrevious:d.props.location.state.isPrevious,isError:!1,data:d.props.location.state.step2Data,OverlayMessage:"Extracting key messages in the article...",projectDetails:d.props.location.state&&d.props.location.state.projectDetails||{},isAnyChange:!1,saveButtonText:"Save",documentFile:d.props.location.state.documentFile,documentFileName:d.props.location.state&&d.props.location.state.documentFileName,documentText:"",title:d.props.location.state&&d.props.location.state.projectDetails.title||"",isUploadVideoFirst:d.props.location.state&&d.props.location.state.isUploadVideoFirst,fileTobeUploaded:d.props.location.state&&d.props.location.state.fileTobeUploaded,percent:0,transcribe_sentences:[],autoHighlightKeywords:null!==(i=d.props.location.state.step2Data)&&void 0!==i&&i.savedSceneSettings?null===(c=d.props.location.state.step2Data)||void 0===c?void 0:c.savedSceneSettings.autoHighlightKeywords:void 0===d.props.location.state.autoHighlightKeywords||d.props.location.state.autoHighlightKeywords,autoVisualSelection:null!==(l=d.props.location.state.step2Data)&&void 0!==l&&l.savedSceneSettings?null===(u=d.props.location.state.step2Data)||void 0===u?void 0:u.savedSceneSettings.autoVisualSelection:void 0===d.props.location.state.autoVisualSelection||d.props.location.state.autoVisualSelection},d.sentence_index=0,d.word_index=0,d.previous_data_sentence_id=null,d}return(0,s.Z)(n,[{key:"RemoveHighlight",value:function(e){var t=(0,o.Z)({},this.state.data),n=(0,B.Z)(t.summary),r=n.findIndex((function(t){return t.sentence_index===e}));if(r>-1){n[r]=(0,o.Z)((0,o.Z)({},n[r]),{},{enabled:!1}),this.createSummaryText(this.state.data,!1,e,"remove");var s=n.filter((function(e){return e.enabled})).length;t.summary=n,this.setState({data:t,lines:s})}}},{key:"componentWillReceiveProps",value:function(e){this.props.responseId!=e.responseId&&this.saveProjectDetails(e.responseId)}},{key:"componentWillMount",value:function(){var e=this;null===C.Z.getItem("create-video-step2-state")?v.g.currentAuthenticatedUser().then((function(t){if(e.setState({user:t}),e.state.projectDetails&&e.setState({transcribe_sentences:e.state.projectDetails.transcribe_sentences?e.state.projectDetails.transcribe_sentences:[],projectName:(0,te.A2)(e.state.projectDetails.projectName),saveDate:e.state.projectDetails.saveDate}),!e.state.isPrevious&&(e.state.url||e.state.isUploadVideoFirst)){var n={summarize:!0,url:e.state.url,split_sentences_period:!0};e.state.isUploadVideoFirst?e.uploadVideo(t,n,!1,!0):e.callAPI(t,n,!1,!0)}e.estimateVideoDuration()})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this)):this.restoreStateFromLocalStorage("create-video-step2-state")}},{key:"restoreStateFromLocalStorage",value:function(e){var t=this,n=C.Z.getItem(e),r=JSON.parse(n);this.setState(r),r&&setTimeout((function(){t.setState({isRedirectToArrangeVisuals:!0,redirectToAspectRatio:!0})}),10)}},{key:"componentDidMount",value:function(){var e=C.Z.getItem("lastUrl");"brandSettings"!=e&&"createvideo_step2"!=e||this.setState({OverlayMessage:"Please wait..."}),C.Z.removeItem("lastUrl"),C.Z.setItem("lastUrl","createvideo_step2"),this.state.isPrevious&&this.state.data&&this.state.url&&(this.setState({isActive:!0}),this.state.readableHtml||this.parseSentences(this.state.data.html,this.state.data.article_sentences,this.state.data.summary,this.state.data.top_image,this.state.data.meta_img),this.state.summaryText||this.createSummaryText(this.state.data,!1))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.isAnyChange&&this.setState({isAnyChange:!1},(function(){n.saveProjectDetails(null)}))}},{key:"update",value:function(){this.props.update(this.state)}},{key:"handleTemplateSelected",value:function(){C.Z.removeItem("create-video-step2-state"),C.Z.removeItem("create-video-step2-location-state")}},{key:"render",value:function(){var e=this;return(0,E.jsxs)(c.Fragment,{children:[(0,E.jsxs)("div",{className:"full-height",style:{display:this.state.redirectToAspectRatio||this.state.isUploadVideoFirst?"none":"block"},children:[(0,E.jsx)("div",{className:"VideoProgressBar confirmation-box",id:"ErrorBox",style:{left:"0px",display:this.state.isError?"block":"none"},children:(0,E.jsx)("div",{className:"modal-dialog",children:(0,E.jsx)("div",{className:"modal-content",children:(0,E.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,E.jsxs)("div",{className:"modal-header",children:[(0,E.jsx)("h4",{className:"modal-title",children:"Sorry!"}),(0,E.jsx)("span",{className:"close",onClick:this.BackURL.bind(),children:"×"})]}),(0,E.jsxs)("div",{className:"modal-bodys",children:[(0,E.jsx)("span",{className:"d-block mb-3",children:"Unable to read your article"}),(0,E.jsx)("div",{className:"col-12 p-0 text-center bottom-box-btn",children:(0,E.jsx)("button",{className:"btn btn-default del-btn ml-2 btn-span",onClick:this.BackURL.bind(),children:"Try another?"})})]})]})})})}),(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(ue.Z,{active:this.state.isActive&&!this.state.isUploadVideoFirst,spinner:!0,text:(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{children:this.state.OverlayMessage}),(0,E.jsx)("div",{children:void 0!==this.props.summarizationProgress?"".concat(this.props.summarizationProgress,"%"):null})]})}),(0,E.jsx)("div",{className:"page-content d-flex align-items-stretch step-2 have-calculated-filling-height",children:(0,E.jsx)("main",{className:"content-inner",style:{backgroundColor:"#F0F0F4"},children:(0,E.jsxs)("section",{className:"container-fluid dashboard-counts",children:[(0,E.jsx)(Mr.Z,{title:"",gotoCreateVideoStep1:this.gotoCreateVideoStep1.bind(this),gotoCreateVideoStep3:this.gotoCreateVideoStep3.bind(this),ProjectName:this.state.projectName,handleBlurProjectName:this.handleBlurProjectName,saveDate:this.state.saveDate,saveButtonText:this.state.saveButtonText,saveProjectDetails:this.saveProjectOnSaveButtonClick,projectId:this.state.projectDetails.project_id,isNewProject:this.state.isNewProject,disableNextButton:this.state.disableNextButton,username:this.state.user&&this.state.user.username,fetchNewProjectName:!0,showSceneSettings:!0,showEstimatedVideoDuration:!0,videoDuration:this.state.videoDuration,videoTotalDurationInSeconds:this.state.videoTotalDurationInSeconds,videoDurationLimit:this.state.videoDurationLimit,videoDurationLimitWithGrace:this.state.videoDurationLimitWithGrace,videoDurationToolTip:this.state.videoDurationToolTip,autoHighlightKeywords:this.state.autoHighlightKeywords,autoVisualSelection:this.state.autoVisualSelection,onChangeAutoHighlightKw:this.onChangeAutoHighlightKw,onChangeautoVisualSelection:this.onChangeautoVisualSelection,screen:"Step2_V3"}),(0,E.jsx)("div",{className:"col-12 welcome-content h-100 justify-content-center",children:(0,E.jsxs)("div",{className:"row",style:{height:"70vh"},children:[(0,E.jsxs)("div",{className:"col-md-6 pr-0 pl-0",children:[(0,E.jsx)(m.Z,{variant:"h6_resp",sx:{color:"grey.500",paddingLeft:"25px"},children:"Source article"}),(0,E.jsx)("div",{className:"card card-block article-block-left ml-4 mt-2 mr-3 rounded-border-xl",children:(0,E.jsx)("div",{className:"card-body cbody-1",children:(0,E.jsx)("div",{className:"content mCustomScrollbar",id:"orignalArticleDiv",children:this.getSourceArticleView()})})})]}),(0,E.jsxs)("div",{className:"col-md-6 pr-0 pl-0 fill-height",style:{position:"relative"},children:[(0,E.jsx)(m.Z,{variant:"h6_resp",sx:{color:"grey.500",paddingLeft:"45px"},children:"AI powered summary"}),(0,E.jsx)("div",{className:this.state.isActive&&!this.state.isUploadVideoFirst?"card card-block mr-4 mt-2 rounded-border-xl":"mr-4 mt-2 fill-height",children:(0,E.jsxs)("div",{className:"drag-sentences-container on-hover-event content mCustomScrollbar fill-height no-border-radius hover-only-scrollbar",children:[this.state.summaryJson&&this.state.summaryJson[0]&&this.state.data&&this.state.data.title&&(0,E.jsx)("div",{className:"",children:(0,E.jsxs)("div",{className:"flex-row sep-sent-container pt-0",children:[(0,E.jsx)("div",{children:(0,E.jsx)("span",{className:"sep-sent-drag-handle",children:(0,E.jsx)("i",{className:"fa fa-bars gray-colored mr-1"})})}),this.renderSentence(this.state.summaryJson[0],0)]},"title_"+this.state.summaryJson[0].uuid)}),(0,E.jsx)(Ae.Z5,{onDragEnd:this.onDragEnd,children:(0,E.jsx)(Ae.bK,{droppableId:"droppable",children:function(t,n){return(0,E.jsx)("div",(0,o.Z)((0,o.Z)({ref:t.innerRef},t.droppableProps),{},{children:e.state.summaryJson.map((function(t,n){return 0===n?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)(Ae._l,{draggableId:"scene_"+t.uuid,index:n,children:function(r,s){var a=(0,o.Z)({backgroundColor:s.isDragging||e.state.dragHandleHover===t.uuid?"#D8D8FF":""},r.draggableProps.style);return(0,E.jsxs)("div",(0,o.Z)((0,o.Z)({className:"flex-row visible-on-hover sep-sent-container",ref:r.innerRef},r.draggableProps),{},{style:a,children:[(0,E.jsx)("div",{children:(0,E.jsx)("span",(0,o.Z)((0,o.Z)({"data-tooltip":"Drag to reorder1","data-inverted":"","data-position":0===n?"bottom left":"top left"},r.dragHandleProps),{},{className:"sep-sent-drag-handle",onMouseEnter:function(){return e.setState({dragHandleHover:t.uuid})},onMouseLeave:function(){return e.setState({dragHandleHover:void 0})},children:(0,E.jsx)("i",{className:"fa fa-bars gray-colored mr-1"})}))}),e.renderSentence(t,n)]}))}},"scene_"+t.uuid)}))}))}})})]})})]})]})})]})})}),(0,E.jsx)(j.Z,{})]})]}),this.state.user&&this.state.redirectToAspectRatio&&(0,E.jsx)(Ve.ZP,{layout:Ve.SD.fullScreenWithHeader,setTemplate:this.setTemplate,displayTemplateGrid:this.state.redirectToAspectRatio,user:this.state.user,resetStep1:function(){return e.setState({redirectToAspectRatio:!1})},hideDuplicateTemplateButton:!0,source:this.props.location&&this.props.location.state&&this.props.location.state.projectDetails?this.props.location.state.projectDetails.source:null,project_id:this.state.projectDetails.project_id,onTemplateSelected:function(){return e.handleTemplateSelected()}}),(0,E.jsx)("div",{style:{display:this.state.isUploadVideoFirst?"block":"none"},children:(0,E.jsx)(Wr.Z,{progress:(parseInt(this.state.percent)+parseInt(isNaN(this.props.summarizationProgress)?0:this.props.summarizationProgress))/2,message:"Please be patient, the transcription of your video might take several minutes.",isStep2:!0,history:this.props.history,showInitialLoadingBar:this.state.isUploadVideoFirst})})]})}}]),n}(c.Component),es=(0,l.$j)((function(e,t){return{summary:"transcribe"===t.location.state.projectDetails.source?e.transcriptionSummary.data:e.createVideoSummary.data,summarizationProgress:"transcribe"===t.location.state.projectDetails.source?e.transcriptionSummary.summarizationProgress:e.createVideoSummary.summarizationProgress,responseId:e.createVideoSummary.responseId,uploadImageStatus:e.brandSettings.uploadImageStatus,saveProjectStatus:e.myVideos.duplicateProjectStatus,brandSettings:e.brandSettings.brandSettings,projectName:e.projectTitle.projectName,getAutoDetectedLanguageResult:e.createVideoStepOne.getAutoDetectedLanguageResult,detectedLanguage:e.createVideoStepOne.detectedLanguage}}),{getSummary:Jr,transcriptionSummary:Hr,getProjectNameBegin:Qr,uploadImage:Kr,saveProject:qr,getMyVideos:Yr,getBrandSettings:Xr,getAutoDetectedLanguage:zr.getAutoDetectedLanguageRequest})($r),ts=n(98165),ns=n(87881),rs=n(94728),ss=n(29584),as=n(62279),is=n(65425),os=n.n(is),cs=n(56620);n(20508);var ls=n.p+"static/media/data.98c3df284b15bb56c631c838899220fa.svg",us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAyCAIAAABu/zoEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVlJREFUeNrsmKGOg0AYhMulrg2yGDAV51ANBnmGpJ6gcU14BhR9iSZ9ARC1gCSEph5VcwoD/jQ3gRxpaFN3ydLOiM3sLIKPf/cnWalt29lr6WP2ciISkYhEJCIRiUhEIhKRiEQkIr050k+nwX93GpJe94koah/pq1Pvfd///FNRFEgwDkkURa1gelCl8/k8Mvv9/nq9YkySpGka13XjOEaS57ksy6IVaX4fXS6X3W7XG9M0YU6nU1mWKE4QBFmWOY6zXq+Rr1Yry7ImcJYOh8PIGIah6zo4sQmn1x7SNFVVtewEgylCTdNs295ut1VVbTabMAzRG5BjE/YPCN0ePM/Dgek9DKa37eF4PD5pD4IgSKNXwYfHCbmdLhaLuq7hl8vlsIT2jVBRFKyKViSJF8hEItK//GolSZocw6gdzJ8vc+MRiUhEIhKRiEQkIhGJSEQiEpEE1q8AAwCx73qOyhX+6AAAAABJRU5ErkJggg==",ds="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAyCAIAAABu/zoEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAzdJREFUeNpi/P//P8PwAkwMww6MemnUS6NeGvXSqJdGvTTqJZoCFqqbeOTo8a3bt0tJSb189YqBUGtLTEz01es3Dra2Ls6Og9dLBw4dYmFh8fPxkpeTI6j4ydOnK1ev3bF7NxW9RP2EF+Dvq6ujXdPQ9PPnT4KK2zq7ZWWkoyPCB3VeEhcVlZCQYGdj+/X7NzQqnjy5f/8BVsW/fv2SkpQUFxcb1F5avW7DgUOHSwoLuLm4ICIXL19NSE1fuHgppuLykuIz584vWrJsUHuJm5sLmOTOX7jw998/iIioiDCwVzZv4eL45NTDR4/+hsUeEFy+cuXz5898fLyD2kvxMdFAdOTY8W/fvkFE/v79CyT////38OHjmvrGffsPwhXv3X8gMjw0Kz1tUBfiq9etv3HjpoqyMicHB0SEmZkZSDIyMgoLC8XHRltZmsMV62prr167QUZGKjYqcvDG0ru37378+OHh5gosyiEir968BvonKMB/2aL5fj7evLyIZOboYM/ExPj48RNquuA/tcGDBw927t6TkJL++csXiMjdu/cvXLyEVXF6dt6uPXtv3b5DRQdQP+HBATMTNAkoKSngUgPOZv8ZGKlpLyPVR4jau3s+fviYGB+nrqZKUPHde/dWrl734eOHrraWwVs8mBoZnzx96tz5C5u3biMYXlKSEsC8ZGtlPahjabRzMeqlUS+hgK9gAGffAwO4CARgigwKgKvCcgIDCLu2tlYNBo4ePQoUAZJwkVWrVv0fTAB7LB07dgyN0dLScvPmTSC5Y8eOV69eJSYmbt++HShy+PBhPj6+ITD2cOLEiYyMDAjDysoKyFi3bt3ly5eBkdPc3Hzw4MHw8HAlJSXw4IGYu7v7EMhLM2fORGOYmprq6uoC/QlMhEOveNi5c6eMjMxlMAAygFygoKysbGhoqJeXF7DXbWxsvHLlSmDZAGplv3oFUTCoi4fs7GxghoGwgQwgF7l4mDNnDp7iYTD4AkuDCBjwwByCzOXm5n758iWQzcPDA5cCFt9AQXFxcaDsoIqk0TbeqJdGvUSzqpaRkXHIeQO5RGDBLz2a8Ea9NOqlUS+NemnUS6NeogwABBgA2Pr2UmrP+SUAAAAASUVORK5CYII=",ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAyCAIAAABu/zoEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAj1JREFUeNpi/P//P8PwAkwMww6MemnUS6NeGvXSqJdGvTTqpVEvjXpp1EujXhr10qiXRr00dAELFc06cvT41u3bpaSkXr56xUBoSENMTPTV6zcOtrYuzo6D10sHDh1iYWHx8/GSl5MjqPjJ06crV6/dsXs31b1EzYQX4O+rq6Nd09D08+dPgorbOrtlZaSjI8IHdV4SFxWVkJBgZ2P79fs3NCqePLl//wFWxb9+/ZKSlBQXFxvUXlq9bsOBQ4dLCgu4ubggIhcvX01ITV+4eCmm4vKS4jPnzi9asmxQe4mbmwuY5M5fuPD33z+IiKiI8P///+ctXByfnHr46NHfsNgDgstXrnz+/JmPj3dQeyk+JhqIjhw7/u3bN4jI379/geT///8ePnxcU9+4b/9BuOK9+w9EhodmpacN6kJ89br1N27cVFFW5uTggIgwMzMDSUZGRmFhofjYaCtLc7hiXW3t1Ws3yMhIxUZFDt5Yevf23Y8fPzzcXIFFOUTk1ZvXQP8EBfgvWzTfz8eblxeRzBwd7JmYGB8/fkL9uvY/9cCDBw927t6TkJL++csXiMjdu/cvXLyEVXF6dt6uPXtv3b7zn9qAhYEGgJkJGvlKSgq41ICz2X8GRurbzkjFyZj27p6PHz4mxsepq6kSVHz33r2Vq9d9+Pihq61l8BYPpkbGJ0+fOnf+wuat2wiGlJSkBDAv2VpZD+pYGu1cjHpp1EujXhr10qiXRr006qVRL416adRLo14a9dKgBgABBgC+cn8lGKX+lwAAAABJRU5ErkJggg==",hs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAWCAMAAAAYXScKAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFpQTFRF+vr6+Pj4/Pz8/////v7+8fHx7u7u9vb29/f38vLy+/v79fX19PT0/f39+/r0/v788PDw8/Pz/f3839i/9PLq+fn58O/u8PDv/Pv5+Pbu+vn5+ffz8/Hm+/v6eEJJLAAAAIdJREFUeJydj9kSwiAMRQNYUlKi0Lov//+b3ozo1EfKA2c4ySQXIuecDyF4kMCdkYYYI+M1ggkUcOiyU0qJRYTBDDpwsgWBUR9bn/WHLqttJreZNlt/Gbg77/7wsbmUwqrKYJ2XI4GZtBmrnMr5Uk1s+gX/2e15v7au8+r1djeSl/V5PF+4/Ruo0gzYaPPJrgAAAABJRU5ErkJggg==",ms=Z.Z.getBrandSettings,gs=Z.Z.saveBrandSettings,fs=Z.Z.uploadImage,vs=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).gotoLogout=function(e){v.g.signOut(),C.Z.clear(),s.props.history.push(b.Z.BaseURL),e&&e.preventDefault(),S().getInstance().logEvent("signout-goto-logout")},s.gotoBrandSetting=function(e){s.props.history.push(b.Z.BaseURL+y.Z.brandSettings)},s.gotoMyVideo=function(e){s.props.history.push(b.Z.BaseURL+y.Z.myProjects)},s.clearLogoImage=function(){s.setState({imagePreviewUrl:"",logoImageFileName:"",saveLogoFileName:"",logoFilePath:"",logoLocation:"",isDisplayClearLogo:"none"}),document.getElementById("file").value=""},s.callLogoFileBrowser=function(){document.getElementById("file").click()},s.clearOutroImage=function(e){e.stopPropagation(),s.setState({backgroundImagePreviewUrl:"",backgroundImageFileName:"",outroFilePath:"",backgroundFileName:"",saveOutroFileName:"",isDisplayClearOutroImage:"none",isActiveOutroMessage:!1,isDisableOutroSettingLeftStyle:!1}),document.getElementById("backgroundFile").value=null,s.changeLayout(s.state.layout)},s.handleCustomImageChange=function(e){e.preventDefault();var t=e.target.files[0],n=new FileReader;if(void 0===t)return e.target.value=null,!1;var r=!1;if((e.target.files[0].type.match("video.*")||e.target.files[0].type.match("image.*"))&&(r=!0),!r)return alert("Invalid file type"),!1;var a=t.name.replace(/ /g,"_").replace(/[^0-9a-zA-Z_.]+/g,"");n.onloadend=function(){s.setState({customIntroURL:n.result,customIntroFileName:a,customIntroFilePath:URL.createObjectURL(t)});var e=(0,o.Z)({},s.state.errors);e.customIntroFile&&(delete e.customIntroFile,s.setState({errors:e}))},n.readAsDataURL(t),s.setState({saveCustomIntroFileName:s.state.user.username+"_customIntro_"+a,customIntroFileToBeUpload:t})},s.updateContent=function(e){s.setState({outroMessage:e})},s.getObjectForAmplitude=function(e){return{"logo-uploaded":!!e.logoName,"logo-location":e.logoLocation?1==e.logoLocation?"Top-Left":"Top-Right":null,"intro-style-used":e.introStyle&&e.introStyle.showStyle,"intro-font-name":e.introStyle&&e.introStyle.showStyle&&e.introStyle.fontName?e.introStyle.fontName:null,"intro-font-size":e.introStyle&&e.introStyle.showStyle&&e.introStyle.fontSize?e.introStyle.fontSize:null,"scene-style-used":e.sceneStyle&&e.sceneStyle.showStyle,"scene-font-name":e.sceneStyle&&e.sceneStyle.showStyle&&e.sceneStyle.fontName?e.sceneStyle.fontName:null,"scene-font-size":e.sceneStyle&&e.sceneStyle.showStyle&&e.sceneStyle.fontSize?e.sceneStyle.fontSize:null,"outro-scene-used":e.outroStyle&&e.outroStyle.showStyle,"outro-layout-type":e.outroStyle&&e.outroStyle.showStyle?e.outroStyle.backgroundFileName?"Custom outro image or clip":e.outroStyle.layout:null}},s.uploadError=function(e,t){(0,w.x2)(e),setTimeout((function(){s.setState({SaveButtonText:"Save",OverlayMessage:""})}),1e3),S().getInstance().logEvent("brand-settings-error",{error:t})},s.saveBrandSetting=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,a,i,c,l,u,d,p,h,m,g,f,v,x,j,w,Z,I,T,E,A,_,R,P,O,D,U;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r="",a=(0,te.N$)(s.state.user?s.state.user.username:"")[Ce.R2.customIntroClip],(!s.state.brandName||s.state.brandName&&""==s.state.brandName.trim())&&(n.brandName="Please enter brand name",""==r&&(r="logo")),(s.state.isActiveIntroLogo||s.state.isActiveSceneLogo)&&""===s.state.logoImageFileName&&(n.logo="Please select a logo",""==r&&(r="logo")),s.state.isActiveCustomIntroSetting&&!s.state.customIntroFileName&&a&&(n.customIntroFile="Please select a image/video",""==r&&(r="intro")),"logotext"!=s.state.layout&&"text"!=s.state.layout||s.state.isDisabledOutroSettings||!s.state.checkedLogoText||(s.state.editorText?""==s.state.editorText.trim().replace(/<[^>]*>/g,"").replace(/&nbsp;/g,"")&&(n.editorText="Please enter some text",""==r&&(r="outro")):(n.editorText="Please enter some text",""==r&&(r="outro"))),"logotext"!=s.state.layout&&"logo"!=s.state.layout||""!==s.state.logoImageFileName||s.state.isDisabledOutroSettings||!s.state.checkedLogoText||(n.logo="Please select a logo",""==r&&(r="logo")),s.state.isDisabledOutroSettings||s.state.layout||s.state.checkedCustomOutro||(n.layout="Please select a layout",""==r&&(r="outro")),!s.state.checkedCustomOutro||s.state.backgroundImageFileName||s.state.isDisabledOutroSettings||(n.outroImage="Please select a image/video",""==r&&(r="outro")),at().isEmpty(n)){e.next=15;break}return s.setState({errors:n,activeTab:r}),e.abrupt("return",!1);case 15:if(s.setState({SaveButtonText:"Saving..."}),i=s.state.brandName,c=s.state.logoLocation,l=s.state.logoImageFileName,u=s.state.logoFilePath,d=s.state.saveLogoFileName,s.state.oldSaveLogoFileName,p=s.state.introFontName,h=s.state.introFontSize,m=s.state.sceneFontSize,g=s.state.sceneFontName,f=s.state.outroFontName,v=s.state.outroFontSize,x=s.state.outroMessage,j=s.state.backgroundImageFileName,w=s.state.outroFilePath,Z=s.state.customIntroFilePath,I=s.state.saveOutroFileName,s.state.oldSaveOutroFileName,T=s.state.logoFileToBeUpload,E=s.state.outroFileToBeUpload,""!==i&&null!=i){e.next=41;break}return s.setState((0,He.Z)({pleaseEnterBrandname:!0,SaveButtonText:"Save",disableSaveButton:!1},"disableSaveButton",!1)),e.abrupt("return",!1);case 41:s.setState({pleaseEnterBrandname:!1});case 42:if(""===s.state.imagePreviewUrl){e.next=47;break}if(""!==c&&null!=c){e.next=47;break}return alert("Please select valid logo location"),s.setState({SaveButtonText:"Save",disableSaveButton:!1}),e.abrupt("return",!1);case 47:if(!T||!d){e.next=59;break}return e.next=50,s.props.uploadImage({filePath:s.state.user.username+"/images/"+d,file:T});case 50:if("success"!==s.props.uploadImageStatus){e.next=57;break}A=k.Z.Instance.GetUserUploadUrl(s.state.user.username+"/images/"+d,"public"),s.setState({logoFilePath:A}),u=A,e.next=59;break;case 57:return s.uploadError("Failed to upload logo file. Please try again.","Failed to upload logo file: "+d),e.abrupt("return");case 59:if(!E||!I){e.next=71;break}return e.next=62,s.props.uploadImage({filePath:s.state.user.username+"/images/"+I,file:E});case 62:if("success"!==s.props.uploadImageStatus){e.next=69;break}_=k.Z.Instance.GetUserUploadUrl(s.state.user.username+"/images/"+I,"public"),s.setState({outroFilePath:_}),w=_,e.next=71;break;case 69:return s.uploadError("Failed to upload outro file. Please try again.","Failed to upload outro file: "+I),e.abrupt("return");case 71:if(!s.state.customIntroFileToBeUpload||!s.state.saveCustomIntroFileName){e.next=83;break}return e.next=74,s.props.uploadImage({filePath:s.state.user.username+"/images/"+s.state.saveCustomIntroFileName,file:s.state.customIntroFileToBeUpload});case 74:if("success"!==s.props.uploadImageStatus){e.next=81;break}R=k.Z.Instance.GetUserUploadUrl(s.state.user.username+"/images/"+s.state.saveCustomIntroFileName,"public"),s.setState({customIntroFilePath:R}),Z=R,e.next=83;break;case 81:return s.uploadError("Failed to upload intro file. Please try again.","Failed to upload intro file: "+s.state.saveCustomIntroFileName),e.abrupt("return");case 83:return P={brandName:i,cognito_id:s.state.user.username,introStyle:{showStyle:!1,showLogo:!1},sceneStyle:{showStyle:!1,showLogo:!1},outroStyle:{showStyle:!1},customIntro:{showStyle:!1}},c&&(P.logoLocation=c),d&&(P.saveLogoFileName=d),l&&(P.logoName=l),u&&(P.logoFilePath=u),s.state.isActiveIntroSetting&&(P.introStyle.showStyle=!0),p&&(P.introStyle.fontName=p),h&&(P.introStyle.fontSize=h),s.state.isActiveIntroLogo&&(P.introStyle.showLogo=!0),s.state.isActiveSceneSetting&&(P.sceneStyle.showStyle=!0),g&&(P.sceneStyle.fontName=g),m&&(P.sceneStyle.fontSize=m),s.state.isActiveSceneLogo&&(P.sceneStyle.showLogo=!0),s.state.layout&&(P.outroStyle.layout=s.state.layout),s.state.isActiveOutroSetting&&(P.outroStyle.showStyle=!0),f&&(P.outroStyle.fontName=f),v&&(P.outroStyle.fontSize=v),s.state.checkedCustomOutro?P.outroStyle.customOutro=!0:s.state.checkedLogoText&&(P.outroStyle.customOutro=!1),x&&(P.outroStyle.message=x),j&&(P.outroStyle.backgroundFileName=j),w&&(P.outroStyle.backgroundFilePath=w),I&&(P.outroStyle.saveOutroFileName=I),s.state.brandSetting.hasOwnProperty("recent")&&(P.recent=s.state.brandSetting.recent),s.state.brandSetting.hasOwnProperty("favourites")&&(P.favourites=s.state.brandSetting.favourites),s.state.brandSetting.hasOwnProperty("imageRecent")&&(P.imageRecent=s.state.brandSetting.imageRecent),s.state.brandSetting.hasOwnProperty("imageFavourites")&&(P.imageFavourites=s.state.brandSetting.imageFavourites),s.state.noIntroTextColor||(P.introStyle.fontColor="rgba(".concat(s.state.introTextcolor.r,", ").concat(s.state.introTextcolor.g,", ").concat(s.state.introTextcolor.b,", ").concat(s.state.introTextcolor.a,")")),s.state.noIntroTextBgColor||(P.introStyle.textBackgroundColor="rgba(".concat(s.state.sceneIntroTextBgColor.r,", ").concat(s.state.sceneIntroTextBgColor.g,", ").concat(s.state.sceneIntroTextBgColor.b,", ").concat(s.state.sceneIntroTextBgColor.a,")")),s.state.noIntroKeywordColor||(P.introStyle.keywordColor="rgba(".concat(s.state.introKeywordColor.r,", ").concat(s.state.introKeywordColor.g,", ").concat(s.state.introKeywordColor.b,", ").concat(s.state.introKeywordColor.a,")")),s.state.noIntroBgColor||(P.introStyle.backgroundColor="rgba(".concat(s.state.introScenebgColor.r,", ").concat(s.state.introScenebgColor.g,", ").concat(s.state.introScenebgColor.b,", ").concat(s.state.introScenebgColor.a,")")),s.state.noSceneTextColor||(P.sceneStyle.fontColor="rgba(".concat(s.state.sceneTextcolor.r,", ").concat(s.state.sceneTextcolor.g,", ").concat(s.state.sceneTextcolor.b,", ").concat(s.state.sceneTextcolor.a,")")),s.state.noSceneTextBgColor||(P.sceneStyle.textBackgroundColor="rgba(".concat(s.state.sceneTextBackroundColor.r,", ").concat(s.state.sceneTextBackroundColor.g,", ").concat(s.state.sceneTextBackroundColor.b,", ").concat(s.state.sceneTextBackroundColor.a,")")),s.state.noSceneKeywordColor||(P.sceneStyle.keywordColor="rgba(".concat(s.state.sceneKeywordColor.r,", ").concat(s.state.sceneKeywordColor.g,", ").concat(s.state.sceneKeywordColor.b,", ").concat(s.state.sceneKeywordColor.a,")")),s.state.noSceneBgColor||(P.sceneStyle.backgroundColor="rgba(".concat(s.state.sceneBgColor.r,", ").concat(s.state.sceneBgColor.g,", ").concat(s.state.sceneBgColor.b,", ").concat(s.state.sceneBgColor.a,")")),s.state.noOutroTextColor||(P.outroStyle.fontColor="rgba(".concat(s.state.color.r,", ").concat(s.state.color.g,", ").concat(s.state.color.b,", ").concat(s.state.color.a,")")),s.state.noOutroKeywordColor||(P.outroStyle.keywordColor="rgba(".concat(s.state.outroKeywordColor.r,", ").concat(s.state.outroKeywordColor.g,", ").concat(s.state.outroKeywordColor.b,", ").concat(s.state.outroKeywordColor.a,")")),s.state.noOutroBgColor||(P.outroStyle.backgroundColor="rgba(".concat(s.state.bgColor.r,", ").concat(s.state.bgColor.g,", ").concat(s.state.bgColor.b,", ").concat(s.state.bgColor.a,")")),s.state.isActiveCustomIntroSetting?(P.customIntro.showStyle=!0,P.customIntro.image=Z,P.customIntro.fileName=s.state.customIntroFileName):(P.customIntro.showStyle=!1,P.customIntro.image=Z,P.customIntro.fileName=s.state.customIntroFileName),(O=P.hasOwnProperty("imageRecent")?P.imageRecent:[]).length>0&&(O=O.slice(0,20)),P.imageRecent=O,D={body:P},e.next=127,s.props.saveBrandSettings(D);case 127:"success"===s.props.saveSettingsStatus?(S().getInstance().logEvent("brand-settings",s.getObjectForAmplitude(P)),s.setState({SaveButtonText:"Saved",disableSaveButton:!1}),setTimeout((function(){s.setState({SaveButtonText:"Save",OverlayMessage:"Please wait..."})}),1e3),C.Z.getItem("lastUrl").includes(y.Z.stepThree)?(U=s.props.location&&s.props.location.state?s.props.location.state:{},s.props.location.state&&s.props.location.state.isAnyChange?s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:(0,o.Z)((0,o.Z)({},U),{},{loadProject:!0,askBrandSettingChange:!0,isCanceled:!1})}):window.history.back()):s.props.location&&s.props.location.state&&s.props.location.state.videoEditingStep?s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:(0,o.Z)({},s.props.location&&s.props.location.state?s.props.location.state:{})}):window.history.back()):(s.setState({SaveButtonText:"Saved",disableSaveButton:!1}),setTimeout((function(){s.setState({SaveButtonText:"Save",OverlayMessage:"Please wait..."})}),1e3),s.setState({isShowOverlay:!1}));case 129:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleClick=function(){s.setState({displayColorPicker:!s.state.displayColorPicker})},s.handleClose=function(){s.setState({displayColorPicker:!1})},s.handleChange=function(e){s.setState({color:e.rgb,noOutroTextColor:!1})},s.handleBgClick=function(){s.setState({displayBgColorPicker:!s.state.displayBgColorPicker})},s.handleBgClose=function(){s.setState({displayBgColorPicker:!1})},s.handleBgChange=function(e){s.setState({bgColor:e.rgb,noOutroBgColor:!1})},s.handleIntroTextColorClick=function(){s.setState({displayIntroColorPicker:!s.state.displayIntroColorPicker})},s.handleIntroTextColorClose=function(){s.setState({displayIntroColorPicker:!1})},s.handleIntroTextColorChange=function(e){s.setState({introTextcolor:e.rgb,noIntroTextColor:!1})},s.handleSceneTextColorClick=function(){s.setState({displaySceneColorPicker:!s.state.displaySceneColorPicker})},s.handleSceneTextColorClose=function(){s.setState({displaySceneColorPicker:!1})},s.handleSceneTextColorChange=function(e){s.setState({sceneTextcolor:e.rgb,noSceneTextColor:!1})},s.handleSceneTextBgClick=function(){s.setState({displaySceneTextBgColorPicker:!s.state.displaySceneTextBgColorPicker})},s.handleSceneTextBgClose=function(){s.setState({displaySceneTextBgColorPicker:!1})},s.handleSceneTextBgChange=function(e){s.setState({sceneTextBackroundColor:e.rgb,noSceneTextBgColor:!1,TransparentSceneTextBgColor:!1})},s.closeSceneTextBgColorBox=function(){s.setState({displaySceneTextBgColorPicker:!1})},s.handleSceneBgClick=function(){s.setState({displaySceneBgColorPicker:!s.state.displaySceneBgColorPicker})},s.handleSceneBgClose=function(){s.setState({displaySceneBgColorPicker:!1})},s.handleSceneBgChange=function(e){s.setState({sceneBgColor:e.rgb,noSceneBgColor:!1})},s.closeSceneBgColorBox=function(){s.setState({displaySceneBgColorPicker:!1})},s.handleIntroTextBgClick=function(){s.setState({displayIntroTextBgColorPicker:!s.state.displayIntroTextBgColorPicker})},s.handleIntroTextBgClose=function(){s.setState({displayIntroTextBgColorPicker:!1})},s.handleIntroTextBgChange=function(e){s.setState({sceneIntroTextBgColor:e.rgb,noIntroTextBgColor:!1,TransparentIntroTextBgColor:!1})},s.handleIntroSceneBgClick=function(){s.setState({displayIntroSceneBgColorPicker:!s.state.displayIntroSceneBgColorPicker})},s.handleIntroSceneBgClose=function(){s.setState({displayIntroSceneBgColorPicker:!1})},s.handleIntroSceneBgChange=function(e){s.setState({introScenebgColor:e.rgb,noIntroBgColor:!1})},s.handleIntroKeywordClick=function(){s.setState({displayIntroKeywordColorPicker:!s.state.displayIntroKeywordColorPicker})},s.handleIntroKeywordClose=function(){s.setState({displayIntroKeywordColorPicker:!1})},s.handleIntroKewordChange=function(e){s.setState({introKeywordColor:e.rgb,noIntroKeywordColor:!1})},s.closeIntroKeywordColorBox=function(){s.setState({displayIntroKeywordColorPicker:!1})},s.handleSceneKeywordClick=function(){s.setState({displaySceneKeywordColorPicker:!s.state.displaySceneKeywordColorPicker})},s.handleSceneKeywordClose=function(){s.setState({displaySceneKeywordColorPicker:!1})},s.handleSceneKewordChange=function(e){s.setState({sceneKeywordColor:e.rgb,noSceneKeywordColor:!1})},s.closeSceneKeywordColorBox=function(){s.setState({displaySceneKeywordColorPicker:!1})},s.handleOutroKeywordClick=function(){s.setState({displayOutroKeywordColorPicker:!s.state.displayOutroKeywordColorPicker})},s.handleOutroKeywordClose=function(){s.setState({displayOutroKeywordColorPicker:!1})},s.handleOutroKewordChange=function(e){s.setState({outroKeywordColor:e.rgb,noOutroKeywordColor:!1})},s.closeOutroKeywordColorBox=function(){s.setState({displayOutroKeywordColorPicker:!1})},s.closeOutroTextColorBox=function(){s.setState({displayColorPicker:!1})},s.closeOutroBgColorBox=function(){s.setState({displayBgColorPicker:!1})},s.closeIntroTextColorBox=function(){s.setState({displayIntroColorPicker:!1})},s.closeIntroBgColorBox=function(){s.setState({displayIntroTextBgColorPicker:!1})},s.closeIntroSceneBgColorBox=function(){s.setState({displayIntroSceneBgColorPicker:!1})},s.closeSceneTextColorBox=function(){s.setState({displaySceneColorPicker:!1})},s.getBrandSettings=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var r,a,i;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.props.getBrandSettings(t);case 2:if(r=s.props.brandSettings)try{s.setState({brandSetting:r,brandName:r.brandName}),r.hasOwnProperty("logoName")&&s.setState({logoImageFileName:r.logoName,isDisplayClearLogo:"block"}),r.hasOwnProperty("logoLocation")&&s.setState({logoLocation:r.logoLocation}),r.introStyle.hasOwnProperty("fontName")&&s.setState({introFontName:r.introStyle.fontName}),r.introStyle.hasOwnProperty("fontSize")&&s.setState({introFontSize:r.introStyle.fontSize}),r.sceneStyle.hasOwnProperty("fontName")&&s.setState({sceneFontName:r.sceneStyle.fontName}),r.sceneStyle.hasOwnProperty("fontSize")&&s.setState({sceneFontSize:r.sceneStyle.fontSize}),r.outroStyle.hasOwnProperty("fontName")&&(a=n.getFrontFontName(r.outroStyle.fontName),s.setState({outroFontName:r.outroStyle.fontName,outroFontFamily:a.split(";")[0],outroFontWeight:a.split(";")[1]})),r.outroStyle.hasOwnProperty("fontSize")&&s.setState({outroFontSize:r.outroStyle.fontSize}),r.outroStyle.hasOwnProperty("message")&&s.setState({outroMessage:r.outroStyle.message}),r.outroStyle.hasOwnProperty("backgroundFileName")&&(s.setState({backgroundImageFileName:r.outroStyle.backgroundFileName,backgroundFileName:r.outroStyle.backgroundFileName,isDisplayClearOutroImage:"block",checkedCustomOutro:!0,checkedLogoText:!1}),s.config={toolbarSticky:!1,readonly:!0,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,toolbar:!1}),r.outroStyle.hasOwnProperty("backgroundFilePath")&&s.setState({outroFilePath:r.outroStyle.backgroundFilePath,checkedCustomOutro:!0,checkedLogoText:!1}),r.hasOwnProperty("saveOutroFileName")&&s.setState({saveOutroFileName:r.outroStyle.saveOutroFileName,oldSaveOutroFileName:r.outroStyle.saveOutroFileName,checkedCustomOutro:!0,checkedLogoText:!1}),r.hasOwnProperty("logoFilePath")&&s.setState({logoFilePath:r.logoFilePath}),r.hasOwnProperty("saveLogoFileName")&&s.setState({saveLogoFileName:r.saveLogoFileName,oldSaveLogoFileName:r.saveLogoFileName}),""!==s.state.backgroundImageFileName&&s.setState({isActiveOutroMessage:!0}),r.introStyle.showLogo&&s.setState({isActiveIntroLogo:!0}),r.introStyle.showStyle?s.setState({isActiveIntroSetting:!0,isDisabledIntroSettings:!1}):s.setState({isDisabledIntroSettings:!0}),i={},r.introStyle.hasOwnProperty("fontColor")&&(i=r.introStyle.fontColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noIntroTextColor:!0}):s.setState({noIntroTextColor:!1}),s.setState({introTextcolor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.introStyle.hasOwnProperty("backgroundColor")&&(i=r.introStyle.backgroundColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noIntroBgColor:!0}):s.setState({noIntroBgColor:!1}),s.setState({introScenebgColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.introStyle.hasOwnProperty("textBackgroundColor")&&(i=r.introStyle.textBackgroundColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noIntroTextBgColor:!0}):0===parseInt(i[3].replace(")",""))&&0===parseInt(i[0].replace("rgba(",""))?s.setState({TransparentIntroTextBgColor:!0,noIntroTextBgColor:!1}):s.setState({noIntroTextBgColor:!1}),s.setState({sceneIntroTextBgColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.introStyle.hasOwnProperty("keywordColor")&&(i=r.introStyle.keywordColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noIntroKeywordColor:!0}):s.setState({noIntroKeywordColor:!1}),s.setState({introKeywordColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.sceneStyle.showLogo&&(s.state.isActiveSceneLogo=!0),r.sceneStyle.showStyle?s.setState({isActiveSceneSetting:!0,isDisabledSceneSettings:!1}):s.setState({isDisabledSceneSettings:!0}),r.sceneStyle.hasOwnProperty("fontColor")&&(i=r.sceneStyle.fontColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noSceneTextColor:!0}):s.setState({noSceneTextColor:!1}),s.setState({sceneTextcolor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.sceneStyle.hasOwnProperty("backgroundColor")&&(i=r.sceneStyle.backgroundColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noSceneBgColor:!0}):s.setState({noSceneBgColor:!1}),s.setState({sceneBgColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.sceneStyle.hasOwnProperty("textBackgroundColor")&&(i=r.sceneStyle.textBackgroundColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noSceneTextBgColor:!0}):0===parseInt(i[3].replace(")",""))&&0===parseInt(i[0].replace("rgba(",""))?s.setState({TransparentSceneTextBgColor:!0,noSceneTextBgColor:!1}):s.setState({noSceneTextBgColor:!1}),s.setState({sceneTextBackroundColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.sceneStyle.hasOwnProperty("keywordColor")&&(i=r.sceneStyle.keywordColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noSceneKeywordColor:!0}):s.setState({noSceneKeywordColor:!1}),s.setState({sceneKeywordColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.outroStyle.showStyle?s.setState({isDisabledOutroSettings:!1,isActiveOutroSetting:!0}):(s.setState({isDisabledOutroSettings:!0}),s.config={toolbarSticky:!1,readonly:!1,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,toolbar:!1}),r.outroStyle.layout&&("logo"===r.outroStyle.layout?s.setState({display:"none"}):s.setState({display:"block"}),s.setState({layout:r.outroStyle.layout})),r.outroStyle.hasOwnProperty("fontColor")&&(i=r.outroStyle.fontColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noOutroTextColor:!0}):s.setState({noOutroTextColor:!1}),s.setState({color:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.outroStyle.hasOwnProperty("backgroundColor")&&(i=r.outroStyle.backgroundColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noOutroBgColor:!0}):s.setState({noOutroBgColor:!1}),s.setState({bgColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r.outroStyle.hasOwnProperty("keywordColor")&&(i=r.outroStyle.keywordColor.split(","),0===parseInt(i[3].replace(")",""))&&1===parseInt(i[0].replace("rgba(",""))?s.setState({noOutroKeywordColor:!0}):s.setState({noOutroKeywordColor:!1}),s.setState({outroKeywordColor:{r:i[0].replace("rgba(",""),g:i[1],b:i[2],a:i[3].replace(")","")}})),r&&r.outroStyle&&void 0!==r.outroStyle.customOutro&&0==r.outroStyle.customOutro&&(s.setState({checkedLogoText:!0,checkedCustomOutro:!1}),s.config={toolbarSticky:!1,readonly:!1,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,toolbar:!1}),r&&r.customIntro&&(r.customIntro.showStyle?s.setState({isActiveCustomIntroSetting:!0}):s.setState({isActiveCustomIntroSetting:!1,isDisabledCustomIntroSettings:!0}),s.setState({customIntroFileName:r.customIntro.fileName||"",customIntroFilePath:r.customIntro.image||""})),s.setState({isShowOverlay:!1,brandSettingLoaded:!0})}catch(e){s.setState({isShowOverlay:!1})}else s.setState({isShowOverlay:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.setSelectReference=function(e,t,n){e&&e.selectBox&&(s.selectOptions[t]={element:e,options:n},s.state[t]&&s.updateSelectedValue(t,s.state[t]))},s.updateSelectedValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};s.selectOptions[e]&&s.selectOptions[e].element.updateState({type:"INITIALISE",value:{name:"".concat(e,"Select"),options:s.selectOptions[e].options,selectedValue:t}},(function(e){n()}))},s.setTransparentBackground=function(e,t){switch(e){case"introTextBgColor":return void s.setState({TransparentIntroTextBgColor:!0,noIntroTextBgColor:!1,displayIntroTextBgColorPicker:!1,sceneIntroTextBgColor:{r:"0",g:"0",b:"0",a:"0"}});case"sceneTextBgColor":return void s.setState({TransparentSceneTextBgColor:!0,noSceneTextBgColor:!1,displaySceneTextBgColorPicker:!1,sceneTextBackroundColor:{r:"0",g:"0",b:"0",a:"0"}});case"outroTextBgColor":return void s.setState({TransparentOutroTextBgColor:!0,noOutroTextBgColor:!1,displayOutroTextBgColorPicker:!1,sceneOutroTextBgColor:{r:"0",g:"0",b:"0",a:"0"}})}},s.NoSelectionColor=function(e,t){switch(e){case"introTextColor":return void s.setState({noIntroTextColor:!0,displayIntroColorPicker:!1,introTextcolor:{r:"255",g:"255",b:"255",a:""}});case"introTextBgColor":return void s.setState({noIntroTextBgColor:!0,TransparentIntroTextBgColor:!1,displayIntroTextBgColorPicker:!1,sceneIntroTextBgColor:{r:"0",g:"0",b:"0",a:"0.65"}});case"introKeywordColor":return void s.setState({noIntroKeywordColor:!0,displayIntroKeywordColorPicker:!1,introKeywordColor:{r:"255",g:"255",b:"0",a:"1"}});case"introBgColor":return void s.setState({noIntroBgColor:!0,displayIntroSceneBgColorPicker:!1,introScenebgColor:{r:"1",g:"1",b:"1",a:"0"}});case"sceneTextColor":return void s.setState({noSceneTextColor:!0,displaySceneColorPicker:!1,sceneTextcolor:{r:"255",g:"255",b:"255",a:""}});case"sceneTextBgColor":return void s.setState({noSceneTextBgColor:!0,TransparentSceneTextBgColor:!1,displaySceneTextBgColorPicker:!1,sceneTextBackroundColor:{r:"0",g:"0",b:"0",a:"0.65"}});case"sceneKeywordColor":return void s.setState({noSceneKeywordColor:!0,displaySceneKeywordColorPicker:!1,sceneKeywordColor:{r:"255",g:"255",b:"0",a:"1"}});case"sceneBgColor":return void s.setState({noSceneBgColor:!0,displaySceneBgColorPicker:!1,sceneBgColor:{r:"1",g:"1",b:"1",a:"0"}});case"outroTextColor":return void s.setState({noOutroTextColor:!0,displayColorPicker:!1,color:{r:"1",g:"1",b:"1",a:"0"}});case"outroTextBgColor":return void s.setState({noOutroTextBgColor:!0,displayOutroTextBgColorPicker:!1,sceneOutroTextBgColor:{r:"1",g:"1",b:"1",a:"0"}});case"outroKeywordColor":return void s.setState({noOutroKeywordColor:!0,displayOutroKeywordColorPicker:!1,outroKeywordColor:{r:"255",g:"255",b:"0",a:"1"}});case"outroBgColor":return void s.setState({noOutroBgColor:!0,displayBgColorPicker:!1,bgColor:{r:"1",g:"1",b:"1",a:"0"}})}},s.handleValueChange=function(e){var t=e.target.name;if("brandName"==t){var n=(0,o.Z)({},s.state.errors);n.brandName&&(delete n.brandName,s.setState({errors:n}))}var r=e.target.value;s.setState((0,He.Z)({},t,r))},s.handleSelectChange=function(e){var t=n.getFrontFontName(e.value);s.setState({outroFontName:e.value,outroFontFamily:t.split(";")[0],outroFontWeight:t.split(";")[1]})},s.handleSceneFontNameChange=function(e){s.setState({sceneFontName:e.value})},s.handleIntroFontNameChange=function(e){s.setState({introFontName:e.value})},s.handleIntroFontSizeChange=function(e){s.setState({introFontSize:e.value})},s.handleSceneFontSizeChange=function(e){s.setState({sceneFontSize:e.value})},s.handleOutroFontSizeChange=function(e){var t=be.Z.unscaleLengthByContainerHeight(parseInt(be.Z.convertPttoPx(e.value)),350);s.setState({outroFontSize:e.value,OutroFontSizeForPreview:t})},s.openMyVideo=function(e){s.props.history.push(b.Z.BaseURL+y.Z.myProjects)},s.toggleOutroChange=function(e){var t=!s.state.isActiveOutroSetting;s.setState({isActiveOutroSetting:t}),t?(s.setState({isDisabledOutroSettings:!1}),"logo"!==s.state.layout&&"logotext"!==s.state.layout||""!==s.state.backgroundImageFileName||""!==s.state.logoImageFileName&&null!==s.state.logoImageFileName||s.setState({hasError:!0,popupVisible:!0}),"text"!==s.state.layout&&"logotext"!==s.state.layout||""!==s.state.backgroundImageFileName||""!==s.state.outroMessage&&null!==s.state.outroMessage||s.setState({hasOutroMessageError:!0})):s.setState({isDisabledOutroSettings:!0,hasOutroMessageError:!1,hasError:!1,popupVisible:!1})},s.toggleIntroChange=function(e){var t=!s.state.isActiveIntroSetting;s.setState({isActiveIntroSetting:t}),t?s.setState({isDisabledIntroSettings:!1}):s.setState({isDisabledIntroSettings:!0})},s.toggleCustomIntroChange=function(e){var t=!s.state.isActiveCustomIntroSetting;(0,te.N$)(s.state.user?s.state.user.username:"")[Ce.R2.customIntroClip]||!t?(s.setState({isActiveCustomIntroSetting:t}),t?s.setState({isDisabledCustomIntroSettings:!1}):s.setState({isDisabledCustomIntroSettings:!0})):s.setState({isIntro:!0},(function(){s.showUpgradeModal(e)}))},s.toggleSceneChange=function(e){var t=!s.state.isActiveSceneSetting;s.setState({isActiveSceneSetting:t}),t?s.setState({isDisabledSceneSettings:!1}):s.setState({isDisabledSceneSettings:!0})},s.config={toolbarSticky:!1,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,inline:!0,toolbar:!1},s.changeLayout=function(e,t){var n="block",r=!1,a=!1;"logo"===e?(n="none",""!==s.state.logoImageFileName&&null!==s.state.logoImageFileName||s.state.isDisabledOutroSettings||(r=!0)):"logotext"===e?(""!==s.state.logoImageFileName&&null!==s.state.logoImageFileName||s.state.isDisabledOutroSettings||(r=!0),""!==s.state.outroMessage&&null!==s.state.outroMessage||""===s.state.backgroundFileName||s.state.isDisabledOutroSettings||(a=!0)):"text"===e&&(""!==s.state.outroMessage&&null!==s.state.outroMessage||""===s.state.backgroundFileName||s.state.isDisabledOutroSettings||(a=!0)),s.setState({layout:e,display:n,hasError:r,hasOutroMessageError:a,popupVisible:r})},s.CloseConfirmationBox=function(e){s.setState({confirmationBox:"none"})},s.getExt=function(e,t){if(""===e||void 0===e)return null;var n=e.lastIndexOf(".");return n<0?"":e.substr(n+1)},s.playScene=function(e){var t=document.getElementById("animationContainer");as.Z.animateBrandSetting(t)},s.stopScene=function(e){},s.toggleToolTip=function(e,t){s.setState({isShowToolTip:e})},s.showUpgradeModal=function(e){e&&e.stopPropagation(),s.fixMorethanOnePopup(),ie()("#brand-settings-modal").modal("show"),document.body.appendChild(document.getElementById("brand-settings-modal"))},s.hideUpgradeModal=function(e,t){e.stopPropagation(),s.setState({isIntro:!1}),ie()("#brand-settings-modal").modal("hide"),t&&s.props.history.push("/"+y.Z.plansList)},s.clickOutroImage=function(e){e.preventDefault(),(0,te.N$)(s.state.user?s.state.user.username:"")[Ce.R2.customOutroClip]?document.getElementById("backgroundFile").click():document.getElementById("file-modal").click()},s.clickLogoTextRadio=function(){s.setState({checkedLogoText:!0,checkedCustomOutro:!1}),s.config={toolbarSticky:!1,readonly:!1,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,toolbar:!1}},s.clearCustomIntro=function(){s.setState({customIntroFileName:"",customIntroFilePath:"",customIntroURL:""})},s.checkedCustomOutro=function(){(0,te.N$)(s.state.user?s.state.user.username:"")[Ce.R2.customOutroClip]?s.setState({isDisplayClearOutroImage:"block",disableAddUrl:!0,addLinkCheckBox:!1,displayOutroCross:!0,disableOutroText:!0,hasOutroMessageError:!1,hasError:!1,popupVisible:!1,checkedCustomOutro:!0,checkedLogoText:!1}):document.getElementById("file-modal").click()},s.onChangeEditor=function(e){var t=(0,o.Z)({},s.state.errors);t.editorText&&(delete t.editorText,s.setState({errors:t})),s.setState({editorText:e})},s.checkIntroMenu=function(e){(0,te.N$)(s.state.user?s.state.user.username:"")[Ce.R2.customIntroClip]||s.showUpgradeModal(e)},s.customIntroClick=function(){(0,te.N$)(s.state.user?s.state.user.username:"")[Ce.R2.customIntroClip]?document.getElementById("customIntroFile").click():document.getElementById("intro-clip").click()},s.state={imagePreviewUrl:"",logoFileToBeUpload:"",outroFileToBeUpload:"",brandName:"",logoLocation:"",introFontName:"",introFontSize:"",logoImageFileName:"",sceneFontSize:"",sceneFontName:"",outroFontName:"",outroFontSize:20,outroMessage:"",oldFilePath:"",oldBackgroundFileName:"",file:"",backgroundImagePreviewUrl:"",backgroundImageFileName:"",displayColorPicker:!1,color:{r:"51",g:"51",b:"51",a:"1"},displayBgColorPicker:!1,bgColor:{r:"192",g:"192",b:"192",a:"1"},displayIntroColorPicker:!1,introTextcolor:{r:"255",g:"255",b:"255",a:""},displaySceneColorPicker:!1,sceneTextcolor:{r:"255",g:"255",b:"255",a:""},displayIntroTextBgColorPicker:!1,sceneIntroTextBgColor:{r:"0",g:"0",b:"0",a:"0.65"},displayIntroSceneBgColorPicker:!1,introScenebgColor:{r:"255",g:"255",b:"255",a:""},displayIntroKeywordColorPicker:!1,introKeywordColor:{r:"255",g:"255",b:"0",a:""},displaySceneKeywordColorPicker:!1,sceneKeywordColor:{r:"255",g:"255",b:"0",a:""},displayOutroKeywordColorPicker:!1,outroKeywordColor:{r:"255",g:"255",b:"0",a:"1"},displayBgSceneColorPicker:!1,sceneBgColor:{r:"255",g:"255",b:"255",a:"0"},displaySceneTextBgColorPicker:!1,sceneTextBackroundColor:{r:"0",g:"0",b:"0",a:"0.65"},displayOutroTextBgColorPicker:!1,sceneOutroTextBgColor:{r:"250",g:"250",b:"250",a:"1"},searchValue:"",isShowOverlay:!0,isActiveIntroSetting:!1,SaveButtonText:"Save",isActiveIntroLogo:!1,isDisabledIntroSettings:!0,isActiveOutroSetting:!1,isDisabledOutroSettings:!0,isActiveSceneSetting:!1,isActiveSceneLogo:!1,isDisabledSceneSettings:!0,isActiveOutroMessage:!1,isDisplayClearLogo:"none",isDisplayClearOutroImage:"none",noIntroTextColor:!0,noIntroTextBgColor:!0,noIntroKeywordColor:!0,noIntroBgColor:!0,noSceneTextColor:!0,noSceneTextBgColor:!0,noSceneKeywordColor:!0,noSceneBgColor:!0,noOutroTextColor:!0,noOutroTextBgColor:!0,noOutroKeywordColor:!0,noOutroBgColor:!0,TransparentIntroTextBgColor:!1,TransparentSceneTextBgColor:!1,TransparentOutroTextBgColor:!1,pleaseEnterBrandname:!1,layout:"",display:"none",activeTab:"logo",checkedLogoText:!0,customIntroFileName:"",errors:{}},s._handleImageChange=s._handleImageChange.bind((0,p.Z)(s)),s._handleBackgroundImageChange=s._handleBackgroundImageChange.bind((0,p.Z)(s)),s.goBack=s.goBack.bind((0,p.Z)(s)),s.gotoBrandSetting=s.gotoBrandSetting.bind((0,p.Z)(s)),s.gotoMyVideo=s.gotoMyVideo.bind((0,p.Z)(s)),s.gotoLogout=s.gotoLogout.bind((0,p.Z)(s)),s.sentenceAnimation=null,s.selectOptions={},s}return(0,s.Z)(n,[{key:"goBack",value:function(){if(this.props.location&&this.props.location.state&&this.props.location.state.videoEditingStep)this.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:(0,o.Z)({},this.props.location&&this.props.location.state?this.props.location.state:{})});else if(this.props.location&&this.props.location.state&&this.props.location.state.step2Data&&!C.Z.getItem("lastUrl").includes(y.Z.stepThree))this.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{isPrevious:!0,step2Data:this.props.location&&this.props.location.state&&this.props.location.state.step2Data&&(0,o.Z)({},this.props.location.state.step2Data)||{}}});else if(C.Z.getItem("lastUrl").includes(y.Z.stepThree))if(this.props.location.state.isAnyChange){var e=this.props.location&&this.props.location.state?this.props.location.state:{};this.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:(0,o.Z)((0,o.Z)({},e),{},{loadProject:!0,isCanceled:!0})})}else window.history.back();else window.history.back()}},{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault();var n=e.target.files[0],r=new FileReader,s=n.name.replace(/ /g,"_").replace(/[^0-9a-zA-Z_.]+/g,"");r.onloadend=function(){t.setState({imagePreviewUrl:r.result,logoImageFileName:s,showLogoCross:!0,logoLocation:t.state.logoLocation?t.state.logoLocation:"2",isDisplayClearLogo:"block",logoFilePath:URL.createObjectURL(n),hasError:!1,popupVisible:!1});var e=(0,o.Z)({},t.state.errors);e.logo&&(delete e.logo,t.setState({errors:e}))},r.readAsDataURL(n),this.setState({value:r,saveLogoFileName:this.state.user.username+"_logo_"+s,logoFileToBeUpload:n})}},{key:"_handleBackgroundImageChange",value:function(e){var t=this;e.preventDefault(),this.config={toolbarSticky:!1,readonly:!0,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,toolbar:!1};var n=e.target.files[0],r=new FileReader;if(void 0===n)return e.target.value=null,!1;var s=!1;if((e.target.files[0].type.match("video.*")||e.target.files[0].type.match("image.*"))&&(s=!0),!s)return this.setState({backgroundImagePreviewUrl:"",backgroundImageFileName:"",isDisplayClearOutroImage:"none",isDisableOutroSettingLeftStyle:!1,file:"",confirmationBox:"block",backgroundFileName:""}),e.target.value=null,this.config={toolbarSticky:!1,readonly:!1,enter:"br",disablePlugins:"addNewLine,backspace,cleanHtml,errorMessages,formatBlock,fullsize,iframe,indent,imageProcessor,imageProperties,inlinePopup,symbols,DragAndDrop,DragAndDropElement,xpath,stat,sticky,search,tableKeyboardNavigation,table,hotkeys,source,size,resizer,redoundo,orderedlist,mobile,limit,media,justify,link",showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,height:"80px",width:"100%",placeholder:"Enter your text here",askBeforePasteFromWord:!1,askBeforePasteHTML:!1,toolbar:!1},""!==this.state.outroMessage&&null!==this.state.outroMessage||this.setState({hasOutroMessageError:!0}),!1;var a=n.name.replace(/ /g,"_").replace(/[^0-9a-zA-Z_.]+/g,"");r.onloadend=function(){t.setState({backgroundImagePreviewUrl:r.result,backgroundImageFileName:a,isDisplayClearOutroImage:"block",disableAddUrl:!0,addLinkCheckBox:!1,displayOutroCross:!0,disableOutroText:!0,outroFilePath:URL.createObjectURL(n),backgroundFileName:n.name,hasOutroMessageError:!1,hasError:!1,popupVisible:!1});var e=(0,o.Z)({},t.state.errors);e.outroImage&&(delete e.outroImage,t.setState({errors:e}))},r.readAsDataURL(n),this.setState({isActiveOutroMessage:!0}),this.setState({saveOutroFileName:this.state.user.username+"_outro_"+a,outroFileToBeUpload:n})}},{key:"componentDidMount",value:function(){var e=this;k.Z.Instance.Configure(),v.g.currentAuthenticatedUser().then((function(t){e.setState({user:t}),e.getBrandSettings(e.state.user.username)})).catch(function(e){this.props.history.push(b.Z.BaseURL),this.setState({isShowOverlay:!1})}.bind(this));var t=document.getElementById("editor");t&&t.addEventListener("keydown",(function(t){var n=t&&t.key&&"v"===t.key.toLowerCase();(n&&t.ctrlKey||n&&t.metaKey)&&setTimeout((function(){e.state.editorText&&e.setState({outroMessage:e.state.editorText.replace(/<(?!\/?b>|\/?strong>|\/?br)[^>]+>/g,"").replace(/<b>/g,"<strong>").replace(/<\/b>/g,"</strong>")})}),1e3)}))}},{key:"componentDidUpdate",value:function(e,t,n){if(this.state.brandSettingLoaded&&t.brandSettingLoaded!==this.state.brandSettingLoaded)for(var r in this.selectOptions)this.state[r]&&this.updateSelectedValue(r,this.state[r])}},{key:"changeLogo",value:function(e,t){"intro"===e?this.setState({isActiveIntroLogo:!this.state.isActiveIntroLogo}):"scene"===e&&this.setState({isActiveSceneLogo:!this.state.isActiveSceneLogo})}},{key:"fixMorethanOnePopup",value:function(){var e=document.querySelectorAll("#brand-settings-modal");if(1!==e.length){var t=e[1];t.parentNode.removeChild(t)}}},{key:"render",value:function(){var e=this,t="div[disabled], span[disabled], li[disabled]{pointer-events: none; opacity: 0.6}";t+=".figure-prevv a{color: rgb(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,")!important}"),t+=".figure-prevv strong{color: rgb(".concat(this.state.outroKeywordColor.r,", ").concat(this.state.outroKeywordColor.g,", ").concat(this.state.outroKeywordColor.b,")!important}");var r={default:{color:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.color.a,")")},bgColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.bgColor.r,", ").concat(this.state.bgColor.g,", ").concat(this.state.bgColor.b,", ").concat(this.state.bgColor.a,")")},sceneColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.sceneTextcolor.r,", ").concat(this.state.sceneTextcolor.g,", ").concat(this.state.sceneTextcolor.b).concat(this.state.sceneTextcolor.a?", "+this.state.sceneTextcolor.a:"",")")},sceneTextBackroundColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.sceneTextBackroundColor.r,", ").concat(this.state.sceneTextBackroundColor.g,", ").concat(this.state.sceneTextBackroundColor.b).concat(this.state.sceneTextBackroundColor.a?", "+this.state.sceneTextBackroundColor.a:"",")")},sceneOutroTextBgColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.sceneOutroTextBgColor.r,", ").concat(this.state.sceneOutroTextBgColor.g,", ").concat(this.state.sceneOutroTextBgColor.b).concat(this.state.sceneOutroTextBgColor.a?", "+this.state.sceneOutroTextBgColor.a:"",")")},sceneBgColor:{width:"20px",height:"14px",borderRadius:"2px",background:""},introTextColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.introTextcolor.r,", ").concat(this.state.introTextcolor.g,", ").concat(this.state.introTextcolor.b," ").concat(this.state.introTextcolor.a?","+this.state.introTextcolor.a:"",")")},sceneIntroTextBgColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.sceneIntroTextBgColor.r,", ").concat(this.state.sceneIntroTextBgColor.g,", ").concat(this.state.sceneIntroTextBgColor.b).concat(this.state.sceneIntroTextBgColor.a?", "+this.state.sceneIntroTextBgColor.a:"",")")},sceneIntroSceneBgColor:{width:"20px",height:"14px",borderRadius:"2px",background:""},introKeywordColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.introKeywordColor.r,", ").concat(this.state.introKeywordColor.g,", ").concat(this.state.introKeywordColor.b," ").concat(this.state.introKeywordColor.a?","+this.state.introKeywordColor.a:"",")")},sceneKeywordColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.sceneKeywordColor.r,", ").concat(this.state.sceneKeywordColor.g,", ").concat(this.state.sceneKeywordColor.b).concat(this.state.sceneKeywordColor.a?", "+this.state.sceneKeywordColor.a:"",")")},outroKeywordColor:{width:"20px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.outroKeywordColor.r,", ").concat(this.state.outroKeywordColor.g,", ").concat(this.state.outroKeywordColor.b,", ").concat(this.state.outroKeywordColor.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2",right:"16px",top:"21px"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}},s=(0,ss.ZP)(r),a="\n\t\t\t#title-sample-text {\n\t\t\t\t".concat(n.getFrontFontStyle(this.state.introFontName),";\n\t\t\t\tfont-size: ").concat(this.state.introFontSize?this.state.introFontSize:"24","px;\n\t\t\t\tbackground-color: ").concat(r.default.sceneIntroSceneBgColor.background,";\n\t\t\t}\n\n\t\t\t#title-sample-text span {\n\t\t\t\tcolor: ").concat(r.default.introTextColor.background,";\n\t\t\t\tbackground-color: ").concat(r.default.sceneIntroTextBgColor.background,";\n\t\t\t}\n\n\t\t\t#title-sample-text strong {\n\t\t\t\tcolor: ").concat(r.default.introKeywordColor.background,";\n\t\t\t}\n\n\t\t\t#scenes-sample-text {\n\t\t\t\t").concat(n.getFrontFontStyle(this.state.sceneFontName),";\n\t\t\t\tfont-size: ").concat(this.state.sceneFontSize?this.state.sceneFontSize:"24","px;\n\t\t\t\tbackground-color: ").concat(r.default.sceneBgColor.background,";\n\t\t\t}\n\n\t\t\t#scenes-sample-text span {\n\t\t\t\tcolor: ").concat(r.default.sceneColor.background,";\n\t\t\t\tbackground-color: ").concat(r.default.sceneTextBackroundColor.background,";\n\t\t\t}\n\n\t\t\t#scenes-sample-text strong {\n\t\t\t\tcolor: ").concat(r.default.sceneKeywordColor.background,";\n\t\t\t}\n\n\t\t");return(0,E.jsxs)("div",{id:"main",className:"full-height",children:[(0,E.jsx)("style",{children:t}),(0,E.jsx)("style",{children:a}),(0,E.jsx)(ue.Z,{active:this.state.isShowOverlay,spinner:!0,text:"Please wait..."}),(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(he.Z,{history:this.props.history,gotoBrandSetting:this.gotoBrandSetting.bind(),gotoMyVideo:this.gotoMyVideo.bind(),gotoLogout:this.gotoLogout.bind(this)}),(0,E.jsxs)("div",{className:"page-content d-flex padded-page-content mt-75 pt-0 pb-0 pl-0 pr-2 expand-to-screen",id:"brand-settings",children:[(0,E.jsxs)("div",{className:"row ml-0",children:[(0,E.jsx)("div",{className:"width-20-forced right-border pt-4 pl-2",children:(0,E.jsx)(m.Z,{variant:"h4b",sx:{color:"grey.500",pt:"2rem"},children:"Brand settings"})}),(0,E.jsxs)("div",{className:"horizontal-flex width-80-forced space-between-center",children:[(0,E.jsx)("div",{className:"col-md-4 pt-4",children:(0,E.jsxs)(_e.Z.Group,{controlId:"brandname",className:["ml-8 only-bottom-border",this.state.brandNameHaveFocus?"have-focus":"no-focus",this.state.brandName&&""!==this.state.brandName?"have-value":"no-value","naked-unfocused"].join(" "),children:[(0,E.jsx)(_e.Z.Label,{className:"pb-0 mb-0",children:"Brand name"}),(0,E.jsxs)("div",{className:"horizontal-flex visible-on-hover",children:[(0,E.jsx)(_e.Z.Control,{type:"text",placeholder:"Enter your brand name",className:"ml-0 pl-0 ",defaultValue:this.state.brandName,name:"brandName",onFocus:function(){return e.setState({brandNameHaveFocus:!0})},onBlur:function(t){e.handleValueChange(t),e.setState({brandNameHaveFocus:!1})},style:{paddingLeft:"2px !important"},onChange:this.handleValueChange,autoComplete:"off"}),(0,E.jsx)("i",{className:"fa fa-pencil hovering-pencil-icon","aria-hidden":"true"})]}),(0,E.jsx)("p",{className:"error-message",children:this.state.errors.brandName||""})]})}),(0,E.jsx)("div",{className:"col-md-8 pt-4",children:(0,E.jsxs)("div",{className:"horizontal-flex flex-end",children:[(0,E.jsx)(g.Z,{variant:"outlined",className:"button-margin",onClick:this.goBack.bind(),children:"Cancel"}),(0,E.jsx)(g.Z,{variant:"contained",className:"wide-button",onClick:this.saveBrandSetting.bind(),children:this.state.SaveButtonText})]})})]})]}),(0,E.jsxs)("div",{className:"horizontal-flex row ml-0",style:{flex:"1 auto"},children:[(0,E.jsxs)("div",{className:"side-nav col-md-2 pt-2 pr-0 pl-0 right-border width-20-forced",children:[(0,E.jsxs)(m.Z,{variant:"h6a_resp",sx:{width:"100%"},className:["pl-2 section-header custom-padding pointer","logo"===this.state.activeTab?"active theme-color bold":""].join(" "),onClick:function(){return e.setState({activeTab:"logo"})},children:[(0,E.jsx)("span",{children:"Logo settings"}),(0,E.jsx)(m.Z,{variant:"caption_resp",sx:{color:"grey.400",lineHeight:"1.2"},className:"section-sub-header",children:"Add your logo and position it"})]}),(0,E.jsxs)(m.Z,{variant:"h6a_resp",sx:{width:"100%"},className:["pl-2 section-header custom-padding pointer mt-3 vertical-flex","intro"===this.state.activeTab?"active theme-color bold":""].join(" "),onClick:function(){return e.setState({activeTab:"intro"})},children:[(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:["Intro",(0,E.jsxs)("label",{className:"switch mb-0",children:[(0,E.jsx)("input",{type:"checkbox",checked:this.state.isActiveCustomIntroSetting,onChange:this.toggleCustomIntroChange}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsx)(m.Z,{variant:"caption_resp",sx:{color:"grey.400",lineHeight:"1.2"},className:"section-sub-header",children:"Add Intro scene with your branding. It will appear at the beginning in all the videos"})]}),(0,E.jsxs)(m.Z,{variant:"h6a_resp",sx:{width:"100%"},className:["pl-2 section-header custom-padding pointer mt-3 vertical-flex","title"===this.state.activeTab?"active theme-color bold":""].join(" "),onClick:function(){return e.setState({activeTab:"title"})},children:[(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:["Title",(0,E.jsxs)("label",{className:"switch mb-0",children:[(0,E.jsx)("input",{type:"checkbox",checked:this.state.isActiveIntroSetting,onChange:this.toggleIntroChange}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsx)(m.Z,{variant:"caption_resp",sx:{color:"grey.400",lineHeight:"1.2"},className:"section-sub-header",children:"The first scene after Intro is the Title scene. Edit its style here"})]}),(0,E.jsxs)(m.Z,{variant:"h6a_resp",sx:{width:"100%"},className:["pl-2 section-header custom-padding pointer mt-3 vertical-flex","scenes"===this.state.activeTab?"active theme-color bold":""].join(" "),onClick:function(){return e.setState({activeTab:"scenes"})},children:[(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:["Scenes",(0,E.jsxs)("label",{className:"switch mb-0",children:[(0,E.jsx)("input",{type:"checkbox",onChange:this.toggleSceneChange,checked:this.state.isActiveSceneSetting}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsx)(m.Z,{variant:"caption_resp",sx:{color:"grey.400",lineHeight:"1.2"},className:"section-sub-header",children:"All other scenes. Edit the style here"})]}),(0,E.jsxs)(m.Z,{variant:"h6a_resp",sx:{width:"100%"},className:["pl-2 section-header custom-padding pointer mt-3 vertical-flex","outro"===this.state.activeTab?"active theme-color bold":""].join(" "),onClick:function(){return e.setState({activeTab:"outro"})},children:[(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:["Outro",(0,E.jsxs)("label",{className:"switch mb-0",children:[(0,E.jsx)("input",{type:"checkbox",onChange:this.toggleOutroChange,checked:this.state.isActiveOutroSetting}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsx)(m.Z,{variant:"caption_resp",sx:{color:"grey.400",lineHeight:"1.2"},className:"section-sub-header",children:"Add branded Call to action (CTA) Outro scene. It will appear towards the end in all the videos"})]})]}),(0,E.jsxs)("div",{className:"nav-content col-md-10 pl-2 pt-2 width-80-forced",children:[(0,E.jsxs)("div",{className:["row logo-settings-content","logo"===this.state.activeTab?"":"hidden"].join(" "),children:[(0,E.jsxs)("div",{className:"col-md-3 ml-8",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"logolocation",children:[(0,E.jsx)(_e.Z.Label,{children:"Logo location"}),(0,E.jsxs)("div",{className:"inline-radio-container horizontal-flex flex-space-between",children:[(0,E.jsxs)("label",{className:"radio-inlinen",children:[(0,E.jsx)("input",{type:"radio",name:"logolocation",id:"ddlLogoLocation",checked:"1"===this.state.logoLocation,onClick:function(){return e.setState({logoLocation:"1"})}}),(0,E.jsx)(ns.Z,{className:["small","1"===this.state.logoLocation?"":"hidden"].join(" "),src:"/icons/logo-locations/topleftselected.png",rounded:!0}),(0,E.jsx)(ns.Z,{className:["small","1"===this.state.logoLocation?"hidden":""].join(" "),src:"/icons/logo-locations/topleftunselected.png",rounded:!0})]}),(0,E.jsxs)("label",{className:"radio-inline",children:[(0,E.jsx)("input",{type:"radio",name:"logolocation",checked:"2"===this.state.logoLocation,onClick:function(){return e.setState({logoLocation:"2"})}}),(0,E.jsx)(ns.Z,{className:["small","2"===this.state.logoLocation?"":"hidden"].join(" "),src:"/icons/logo-locations/toprightselected.png",rounded:!0}),(0,E.jsx)(ns.Z,{className:["small","2"===this.state.logoLocation?"hidden":""].join(" "),src:"/icons/logo-locations/toprightunselected.png",rounded:!0})]})]})]}),(0,E.jsxs)("div",{className:"form-check full-width horizontal-flex flex-space-between pl-0 mt-4",children:[(0,E.jsx)("label",{className:"form-check-label",htmlFor:"showlogoontitle",children:"Show logo on Title"}),(0,E.jsxs)("label",{className:["switch mb-0",""].join(" "),children:[(0,E.jsx)("input",{type:"checkbox",checked:this.state.isActiveIntroLogo,onChange:this.changeLogo.bind(this,"intro")}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsxs)("div",{className:"form-check full-width horizontal-flex flex-space-between pl-0 mt-4",children:[(0,E.jsx)("label",{className:"form-check-label",htmlFor:"showlogoontitle",children:"Show logo on Scenes"}),(0,E.jsxs)("label",{className:["switch mb-0",""].join(" "),children:[(0,E.jsx)("input",{type:"checkbox",checked:this.state.isActiveSceneLogo,onChange:this.changeLogo.bind(this,"scene")}),(0,E.jsx)("span",{className:"slider round"})]})]})]}),(0,E.jsxs)("div",{className:"col-md-6 ml-8",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"Upload-logo",children:[(0,E.jsx)(_e.Z.Label,{children:"Upload logo"}),(0,E.jsx)(_e.Z.Control,{className:["normal-input-width",this.state.hasError?"addError":""],ref:function(t){e.logoInput=t},type:"text",placeholder:"Upload your logo",onClick:this.callLogoFileBrowser.bind(),id:"txtImageUrl",name:"logoImageFileName",value:this.state.logoImageFileName,readOnly:!0,required:!!this.state.hasError}),this.state.logoImageFileName?(0,E.jsx)("div",{className:"append-to-form-control normal-input-width",children:(0,E.jsx)("i",{className:"fa fa-times darkgray",style:{cursor:"pointer"},onClick:function(t){e.clearLogoImage(t)},"aria-hidden":"true"})}):"",(0,E.jsx)("p",{className:"error-message",children:this.state.errors.logo})]}),(0,E.jsx)("input",{type:"file",style:{display:"none"},id:"file",onChange:this._handleImageChange.bind(),accept:"image/*"}),(0,E.jsxs)(_e.Z.Group,{controlId:"Upload logo",children:[(0,E.jsx)(_e.Z.Label,{children:"Logo preview"}),(0,E.jsx)("div",{className:"preview-big image-background",children:(0,E.jsx)(ns.Z,{className:["logo very-small","1"==this.state.logoLocation?"position-top-left":"position-top-right"].join(" "),src:this.state.logoFilePath,rounded:!0})})]})]})]}),(0,E.jsxs)("div",{className:["row intro-settings-content","intro"===this.state.activeTab?"":"hidden"].join(" "),disabled:this.state.isDisabledCustomIntroSettings,children:[(0,E.jsxs)("div",{className:"col-md-5 ml-8",children:[(0,E.jsx)("h3",{className:"section-header theme-color mb-3",children:"Intro clip"}),(0,E.jsxs)("div",{id:"diledropcontainer",className:"dotted-border vertical-flex flex-centered min-height-120",onClick:function(){e.customIntroClick()},children:[(0,E.jsx)("i",{className:"fa fa-cloud-upload big-grey"}),(0,E.jsx)("h3",{className:"input-instructions",children:"Upload custom intro image or video clip"}),(0,te.N$)(this.state.user?this.state.user.username:"")[Ce.R2.customIntroClip]?(0,E.jsx)("input",{type:"file",name:"customIntroFile",id:"customIntroFile",disabled:this.state.isDisabledCustomIntroSettings,onChange:this.handleCustomImageChange,style:{display:"none"}}):(0,E.jsx)("input",{style:{display:"none"},id:"intro-clip",onClick:function(t){e.setState({isIntro:!0}),e.showUpgradeModal(t)}}),(0,E.jsxs)("h3",{className:["input-instructions theme-color bold mt-1",this.state.customIntroFileName.length?"":"hidden"].join(" "),children:[this.state.customIntroFileName,"  ",(0,E.jsx)("i",{className:"fa fa-times darkgray",style:{cursor:"pointer"},onClick:function(t){t.stopPropagation(),e.clearCustomIntro()},"aria-hidden":"true"})]})]}),(0,E.jsx)("p",{className:"error-message",children:this.state.errors.customIntroFile})]}),(0,E.jsxs)("div",{className:"col-md-6 ml-4",children:[(0,E.jsx)("h3",{className:"section-header theme-color mb-3",children:"Preview"}),(0,E.jsx)("div",{className:"form-group",children:(0,E.jsx)("div",{className:"embed-responsive embed-responsive-16by9",disabled:this.state.isDisabledCustomIntroSettings,children:"png"===this.getExt(this.state.customIntroFileName)||"jpg"===this.getExt(this.state.customIntroFileName)||"jpeg"===this.getExt(this.state.customIntroFileName)||"bmp"===this.getExt(this.state.customIntroFileName)||"gif"===this.getExt(this.state.customIntroFileName)?(0,E.jsx)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100 fig-img-inner p-0",children:(0,E.jsx)("img",{src:this.state.customIntroFilePath,alt:this.state.customIntroFileName})}):(0,E.jsxs)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100 fig-img-inner video--outro p-0",children:[(0,E.jsx)("video",{muted:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},src:this.state.customIntroFilePath,alt:this.state.customIntroFileName})," ",(0,E.jsx)("span",{className:"btn--play",children:(0,E.jsx)("i",{className:"fa fa-play"})})]})})})]})]}),(0,E.jsxs)("div",{className:["row title-settings-content","title"===this.state.activeTab?"":"hidden"].join(" "),disabled:this.state.isDisabledIntroSettings,children:[(0,E.jsxs)("div",{className:"col-md-4 ml-8",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"title.fontface",className:"p-rel",children:[(0,E.jsx)(_e.Z.Label,{children:"Font type"}),(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"introFontName",Ce.pm)},name:"introFontNameSelect",options:Ce.pm,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.introFontName,onChange:this.handleIntroFontNameChange.bind()})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"title.textcolor",className:"horizontal-flex flex-space-between mt-4 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Text color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex colr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroTextColorClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroTextColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.introTextColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroTextColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introTextColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroTextColorClose}),(0,E.jsx)(rs.Ie,{color:this.state.introTextcolor,onChange:this.handleIntroTextColorChange})]}):null]})})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"title.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Text background color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroTextBgClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):this.state.TransparentIntroTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{title:"Transparent color",className:"no-color v2",children:(0,E.jsx)("img",{src:hs,alt:""})})}):(0,E.jsx)("div",{style:s.sceneIntroTextBgColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroTextBgColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introTextBgColor"),children:"No selection"}),(0,E.jsx)("button",{className:"transparent-text",onClick:this.setTransparentBackground.bind(this,"introTextBgColor"),children:"Transparent"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroTextBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneIntroTextBgColor,onChange:this.handleIntroTextBgChange})]}):null]})})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"title.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Keyword color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroKeywordClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroKeywordColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.introKeywordColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroKeywordColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroKeywordColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introKeywordColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroKeywordClose}),(0,E.jsx)(rs.Ie,{color:this.state.introKeywordColor,onChange:this.handleIntroKewordChange})]}):null]})})]})]}),(0,E.jsxs)("div",{className:"col-md-6 ml-4",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"title.fontface",className:"p-rel forced-default-fontfamily normal-input-width ",children:[(0,E.jsx)(_e.Z.Label,{children:"Font size"}),(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"introFontSize",Ce.z6)},name:"introFontSizeSelect",options:Ce.z6,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.introFontSize,onChange:this.handleIntroFontSizeChange.bind()})]}),(0,E.jsx)("div",{className:"dotted-border min-height-120 full-width horizontal-flex flex-centered",id:"title-sample-text",children:(0,E.jsxs)("span",{children:["Sample text with ",(0,E.jsx)("strong",{children:"keyword"})]})})]})]}),(0,E.jsxs)("div",{className:["row scenes-settings-content","scenes"===this.state.activeTab?"":"hidden"].join(" "),disabled:this.state.isDisabledSceneSettings,children:[(0,E.jsxs)("div",{className:"col-md-4 ml-8",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"title.fontface",className:"p-rel",children:[(0,E.jsx)(_e.Z.Label,{children:"Font type"}),(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"sceneFontName",Ce.pm)},name:"sceneFontNameSelect",options:Ce.pm,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.sceneFontName,onChange:this.handleSceneFontNameChange.bind()})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"title.textcolor",className:"horizontal-flex flex-space-between mt-4 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Text color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex colr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneTextColorClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneTextColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.sceneColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneTextColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneTextColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneTextColorClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneTextcolor,onChange:this.handleSceneTextColorChange})]}):null]})})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"title.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Text background color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneTextBgClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):this.state.TransparentSceneTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{title:"Transparent color",className:"no-color v2",children:(0,E.jsx)("img",{src:hs,alt:""})})}):(0,E.jsx)("div",{style:s.sceneTextBackroundColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneTextBgColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneTextBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneTextBgColor"),children:"No selection"}),(0,E.jsx)("button",{className:"transparent-text",onClick:this.setTransparentBackground.bind(this,"sceneTextBgColor"),children:"Transparent"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneTextBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneTextBackroundColor,onChange:this.handleSceneTextBgChange})]}):null]})})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"title.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Keyword color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneKeywordClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneKeywordColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.sceneKeywordColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneKeywordColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneKeywordColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneKeywordColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneKeywordClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneKeywordColor,onChange:this.handleSceneKewordChange})]}):null]})})]})]}),(0,E.jsxs)("div",{className:"col-md-6 ml-4",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"title.fontface",className:"p-rel forced-default-fontfamily normal-input-width ",children:[(0,E.jsx)(_e.Z.Label,{children:"Font size"}),(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"sceneFontSize",Ce.z6)},name:"sceneFontSizeSelect",options:Ce.z6,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.sceneFontSize,onChange:this.handleSceneFontSizeChange.bind()})]}),(0,E.jsx)("div",{className:"dotted-border min-height-120 full-width horizontal-flex flex-centered",id:"scenes-sample-text",children:(0,E.jsxs)("span",{children:["Sample text with ",(0,E.jsx)("strong",{children:"keyword"})]})})]})]}),(0,E.jsxs)("div",{className:["row outro -settings-content","outro"===this.state.activeTab?"":"hidden"].join(" "),children:[(0,E.jsxs)("div",{className:"col-md-5 ml-8 vertical-flex",children:[(0,E.jsxs)("div",{className:"horizontal-flex",onClick:function(){e.clickLogoTextRadio()},children:[(0,E.jsx)(_e.Z.Check,{type:"radio",name:"outro-type","aria-label":"Logo & Text",checked:this.state.checkedLogoText}),(0,E.jsx)("h5",{className:["pointer",this.state.checkedLogoText?"theme-color bold":""].join(" "),children:"Logo & Text"})]}),(0,E.jsxs)(_e.Z.Group,{className:"mt-2",children:[(0,E.jsx)(_e.Z.Label,{className:"mb-0",children:"Select a layout"}),(0,E.jsxs)("ul",{className:"list-inline radiobx-list",children:[(0,E.jsx)("li",{className:"text"===this.state.layout?"active":"",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onClick:this.changeLayout.bind(this,"text"),children:(0,E.jsx)("div",{className:"text-inner",children:(0,E.jsx)("img",{src:us,alt:"",className:"btnlist-img"})})}),(0,E.jsx)("li",{className:"logotext"===this.state.layout?"active":"",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onClick:this.changeLayout.bind(this,"logotext"),children:(0,E.jsx)("div",{className:"text-inner",children:(0,E.jsx)("img",{src:ds,alt:"",className:"btnlist-img"})})}),(0,E.jsx)("li",{className:"logo"===this.state.layout?"active":"",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onClick:this.changeLayout.bind(this,"logo"),children:(0,E.jsx)("div",{className:"text-inner",children:(0,E.jsx)("img",{src:ps,alt:"",className:"btnlist-img"})})})]}),(0,E.jsx)("p",{className:"error-message",children:this.state.errors.layout})]}),(0,E.jsx)("div",{id:"textpanel-1",className:"text_panel active",children:(0,E.jsxs)("div",{className:"panel-inside",style:{display:this.state.display},children:[(0,E.jsxs)(_e.Z.Group,{controlId:"outro.caption",className:"mb-0",children:[(0,E.jsx)(_e.Z.Label,{children:"Text"}),(0,E.jsx)("div",{id:"editor",className:["form-group text-center jodit-inline","mb-0",this.state.hasOutroMessageError?"error-editor-css":""].join(" "),disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onFocus:function(){e.setState({showTip:!0})},children:(0,E.jsx)(os(),{config:this.config,value:this.state.outroMessage,onChange:function(t){e.onChangeEditor(t)},onBlur:function(t){e.setState({outroMessage:t.replace(/<(?!\/?b>|\/?strong>|\/?br)[^>]+>/g,"").replace(/<b>/g,"<strong>").replace(/<\/b>/g,"</strong>"),hasOutroMessageError:""===t,showTip:!1})}})}),(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:[(0,E.jsx)("p",{className:"error-message",children:this.state.errors.editorText}),(0,E.jsx)("label",{className:"control-label mb-0",style:{fontSize:"12px",color:"darkgrey"},children:this.state.showTip?(0,E.jsxs)("span",{children:["Tip: Bold the keywords using"," ","MacOS"===(0,te.L9)()?"Cmd+B":"Unknown OS"===(0,te.L9)()?"Ctrl+B/Cmd+B":"Ctrl+B"]}):(0,E.jsx)("span",{children:" "})})]})]}),(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",children:[(0,E.jsxs)(_e.Z.Group,{controlId:"outro.fontface",style:{display:this.state.display,flex:4,marginRight:"10px"},disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,className:"p-rel",children:[(0,E.jsx)(_e.Z.Label,{children:"Font type"}),(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"outroFontName",Ce.pm)},name:"outroFontNameSelect",options:Ce.pm,className:"select-lookalike",caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.outroFontName,onChange:this.handleSelectChange.bind()})]}),(0,E.jsxs)(_e.Z.Group,{controlId:"outro.fontsize",style:{display:this.state.display,flex:1},className:"p-rel forced-default-fontfamily normal-input-width  ",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:[(0,E.jsx)(_e.Z.Label,{children:"Font size"}),(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"outroFontSize",Ce.z6)},name:"outroFontSizeSelect",options:Ce.z6,className:"select-lookalike",caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.outroFontSize,onChange:this.handleOutroFontSizeChange.bind()})]})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"outro.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Text color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",style:{display:this.state.display},children:(0,E.jsxs)("div",{className:"addi-cli d-flex colr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleClick,disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:this.state.noOutroTextColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.color,className:"entire-box",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro})}),this.state.displayColorPicker?(0,E.jsxs)("div",{className:"popbg",style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeOutroTextColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"outroTextColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleClose}),(0,E.jsx)(rs.Ie,{color:this.state.color,onChange:this.handleChange})]}):null]})})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"outro.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Keyword color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0",style:{display:this.state.display},children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleOutroKeywordClick,disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:this.state.noOutroKeywordColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.outroKeywordColor,className:"entire-box",disabled:this.state.isDisabledOutroSettings})}),this.state.displayOutroKeywordColorPicker?(0,E.jsxs)("div",{className:"popbg",style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeOutroKeywordColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"outroKeywordColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleOutroKeywordClose}),(0,E.jsx)(rs.Ie,{color:this.state.outroKeywordColor,onChange:this.handleOutroKewordChange})]}):null]})})]}),(0,E.jsxs)(_e.Z.Group,{conrolId:"outro.textcolor",className:"horizontal-flex flex-space-between mt-2 mb-0",children:[(0,E.jsx)(_e.Z.Label,{class:"mb-0",children:"Outro background color"}),(0,E.jsx)("div",{className:"form-group p-rel mb-0 last-fgroup mt-0",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("div",{style:s.swatch,onClick:this.handleBgClick,disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:this.state.noOutroBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.bgColor,className:"entire-box",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro})}),this.state.displayBgColorPicker?(0,E.jsxs)("div",{className:"popbg",style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeOutroBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"outroBgColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.bgColor,onChange:this.handleBgChange})]}):null]})})]})]})})]}),(0,E.jsxs)("div",{className:"col-md-5 ml-8 vertical-flex",disabled:this.state.isDisabledOutroSettings,children:[(0,E.jsxs)("div",{className:"horizontal-flex",onClick:function(){e.checkedCustomOutro()},children:[(0,E.jsx)(_e.Z.Check,{type:"radio",name:"outro-type","aria-label":"Outro clip",checked:this.state.checkedCustomOutro}),(0,E.jsx)("h5",{className:["pointer",this.state.checkedCustomOutro?"theme-color bold":""].join(" "),children:"Outro clip"})]}),(0,E.jsxs)(_e.Z.Group,{className:["mt-2",this.state.checkedCustomOutro?"":"disabled"].join(" "),controlId:"Upload logo",children:[(0,E.jsx)(_e.Z.Label,{children:"File upload"}),(0,E.jsxs)("div",{id:"diledropcontainer",className:"dotted-border vertical-flex flex-centered min-height-120",disabled:this.state.checkedLogoText,children:[(0,E.jsx)("i",{className:"fa fa-cloud-upload big-grey",onClick:function(t){e.clickOutroImage(t)}}),(0,E.jsx)("h3",{className:"input-instructions",onClick:function(t){e.clickOutroImage(t)},children:"Upload custom outro image or video clip"}),(0,E.jsx)("div",{style:{display:"none"},children:(0,te.N$)(this.state.user?this.state.user.username:"")[Ce.R2.customOutroClip]&&(0,E.jsx)("input",{type:"file",id:"backgroundFile",onChange:this._handleBackgroundImageChange.bind(),accept:"image/*, video/*",disabled:this.state.isDisabledOutroSettings})||(0,E.jsx)("input",{type:"file",id:"file-modal",onClick:function(t){t.preventDefault(),e.showUpgradeModal(t)}})}),(0,E.jsxs)("h3",{className:["input-instructions theme-color bold mt-1",this.state.backgroundFileName&&this.state.backgroundFileName.length?"":"hidden"].join(" "),children:[this.state.backgroundFileName,"  ",(0,E.jsx)("i",{className:"fa fa-times darkgray",style:{cursor:"pointer"},onClick:this.clearOutroImage.bind(this),"aria-hidden":"true"})]})]}),(0,E.jsx)("p",{className:"error-message",children:this.state.errors.outroImage})]}),(0,E.jsx)(_e.Z.Group,{controlId:"Upload logo",children:(0,E.jsx)(_e.Z.Label,{children:"Outro preview"})}),(0,E.jsx)("div",{className:"form-group",children:(0,E.jsx)("div",{className:"embed-responsive embed-responsive-16by9",children:this.state.checkedCustomOutro?"png"===this.getExt(this.state.backgroundFileName)||"jpg"===this.getExt(this.state.backgroundFileName)||"jpeg"===this.getExt(this.state.backgroundFileName)||"bmp"===this.getExt(this.state.backgroundFileName)||"gif"===this.getExt(this.state.backgroundFileName)?(0,E.jsx)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100 fig-img-inner p-0",children:(0,E.jsx)("img",{src:this.state.outroFilePath,alt:this.state.backgroundFileName})}):(0,E.jsxs)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100 fig-img-inner video--outro p-0",children:[(0,E.jsx)("video",{muted:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},src:this.state.outroFilePath,alt:this.state.backgroundFileName})," ",(0,E.jsx)("span",{className:"btn--play",children:(0,E.jsx)("i",{className:"fa fa-play"})})]}):(0,E.jsx)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100",style:{backgroundColor:this.state.noOutroBgColor?"#fff":"rgb(".concat(this.state.bgColor.r,", ").concat(this.state.bgColor.g,", ").concat(this.state.bgColor.b,")")},onMouseEnter:this.playScene.bind(),onMouseLeave:this.stopScene.bind(),children:(0,E.jsxs)("div",{className:"animate-container d-flex mx-auto",id:"animationContainer",children:[(0,E.jsxs)("div",{className:"sentences-bottom h-100 justify-content-center",children:["logo"!==this.state.layout&&"logotext"!==this.state.layout||""===this.state.logoFilePath||void 0===this.state.logoFilePath||null===this.state.logoFilePath?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)("div",{className:"btm__contact",children:(0,E.jsx)("img",{className:"mr-auto sml-logo-vid",src:this.state.logoFilePath})}),"text"===this.state.layout||"logotext"===this.state.layout?(0,E.jsx)("p",{className:"tag_line d-block",style:{color:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,")"),fontFamily:this.state.outroFontFamily,fontWeight:this.state.outroFontWeight,fontSize:this.state.OutroFontSizeForPreview},children:(0,rt.ZP)(this.state.outroMessage)}):(0,E.jsx)(E.Fragment,{})]}),(0,E.jsx)("span",{className:"btn--play",onMouseEnter:this.playScene.bind(),children:(0,E.jsx)("i",{className:"fa fa-play"})})]})})})})]})]})]})]})]}),(0,E.jsxs)("div",{className:"page-content d-flex align-items-stretch pb-0",id:"brand-settings-old",style:{display:"none !important"},children:[(0,E.jsxs)("div",{className:"section-header",children:[(0,E.jsx)("h3",{className:"section-header",children:"Brand settings"}),(0,E.jsxs)("div",{children:[(0,E.jsx)("a",{onClick:this.goBack.bind(),className:"btn btn-default del-btn ml-2 btn-span",children:"Cancel"}),(0,E.jsx)("a",{className:"btn btn-submit",onClick:this.saveBrandSetting.bind(),children:this.state.SaveButtonText})]})]}),(0,E.jsx)("main",{className:"content-inner tabs-panel settings-page",children:(0,E.jsx)("div",{className:"col-12 pl-0",children:(0,E.jsxs)("div",{className:"tab-content mt-0",id:"myTabContent",children:[(0,E.jsx)("div",{className:"tab-pane fade d-none",id:"h-tb1",role:"tabpanel",children:(0,E.jsx)("div",{className:"card grey-card",children:(0,E.jsx)("div",{className:"card-body",children:(0,E.jsx)("div",{className:"col-12 videos-gallery-outer"})})})}),(0,E.jsx)("div",{className:"tab-pane fade show active",id:"h-tb2",role:"tabpanel",children:(0,E.jsx)("div",{className:"setting-pcard",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col setting-left",children:(0,E.jsx)("ol",{className:"list-inline lefttb-list",children:(0,E.jsx)("li",{children:(0,E.jsx)("a",{className:"btn-span",children:this.state.brandName?this.state.brandName:"Brand name"})})})}),(0,E.jsx)("div",{className:"col setting-right pr-0",children:(0,E.jsx)("div",{className:"card",children:(0,E.jsx)("div",{className:"card-body settingcard-body",children:(0,E.jsx)("div",{className:"col-12 combo-box p-0",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col",children:(0,E.jsxs)("form",{className:"form",children:[(0,E.jsxs)("div",{className:"form-group has-feedback",children:[this.state.pleaseEnterBrandname&&(0,E.jsxs)("div",{className:"popover",role:"tooltip","data-placement":"top",children:[(0,E.jsx)("div",{className:"arrow"}),(0,E.jsx)("div",{className:"popover-content",children:"Please enter brand name"})]}),(0,E.jsx)("input",{type:"text",className:"form-control",placeholder:"Brand setting name",id:"txtBrandName",name:"brandName",value:this.state.brandName,onChange:this.handleValueChange,autoComplete:"off"}),(0,E.jsx)("div",{className:"form-control-feedback",children:(0,E.jsx)("i",{className:"fa fa-black-tie text-muted"})})]}),(0,E.jsxs)("div",{className:"has-feedback up-spice up-spice-next up-relative",children:[(0,E.jsxs)("div",{className:"form-group clicks-file",onClick:this.callLogoFileBrowser.bind(),children:[(0,E.jsx)("div",{className:"form-control-feedback",children:(0,E.jsx)("i",{className:"fa fa-cloud-upload text-muted","aria-hidden":"true"})}),(0,E.jsxs)("div",{className:"input input-file",children:[(0,E.jsx)("div",{className:"button-browse",children:"Browse"}),this.state.popupVisible&&(0,E.jsxs)("div",{className:"popover",role:"tooltip","data-placement":"top",children:[(0,E.jsx)("div",{className:"arrow"}),(0,E.jsx)("div",{className:"popover-content",children:"Upload your logo"})]}),(0,E.jsx)("input",{ref:function(t){e.logoInput=t},type:"text",placeholder:"Upload your logo",id:"txtImageUrl",name:"logoImageFileName",value:this.state.logoImageFileName,readOnly:!0,className:this.state.hasError?"addError":"",required:!!this.state.hasError})]}),(0,E.jsx)("input",{type:"file",id:"file",onChange:this._handleImageChange.bind(),accept:"image/*"})]}),(0,E.jsx)("span",{className:"res-btn",id:"clearLogo",onClick:this.clearLogoImage.bind(),style:{display:this.state.isDisplayClearLogo},children:"×"})]}),(0,E.jsxs)("div",{className:"form-group has-feedback p-rel",children:[(0,E.jsxs)("select",{className:"form-control",id:"ddlLogoLocation",name:"logoLocation",value:this.state.logoLocation,onChange:this.handleValueChange,children:[(0,E.jsx)("option",{value:"",children:"Logo location"}),(0,E.jsx)("option",{value:"1",children:"Top Left"}),(0,E.jsx)("option",{value:"2",children:"Top Right"})]}),(0,E.jsx)("i",{className:"fa fa-angle-down"}),(0,E.jsx)("div",{className:"form-control-feedback",children:(0,E.jsx)("i",{className:"fa fa fa-arrows-alt text-muted"})})]})]})}),(0,E.jsxs)("div",{className:"col",children:[(0,E.jsxs)("div",{className:"col-12 combine__box p-0",children:[(0,E.jsx)("h5",{className:"tbin-head pull-left",children:"Intro style "}),(0,E.jsx)("label",{className:"pull-right",children:(0,E.jsxs)("span",{className:"switch test-2",children:[(0,E.jsx)("input",{type:"checkbox",checked:this.state.isActiveIntroSetting,className:"inputdemo",onChange:this.toggleIntroChange}),(0,E.jsx)("div",{className:"slider round"})]})})]}),(0,E.jsxs)("div",{className:"col-12 p-0 btmm_panel",children:[(0,E.jsx)("div",{className:"form-group p-rel",disabled:this.state.isDisabledIntroSettings,children:(0,E.jsx)("div",{className:"col-12 p-0",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-9",children:(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"introFontName",Ce.pm)},name:"introFontNameSelect",options:Ce.pm,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.introFontName,onChange:this.handleIntroFontNameChange.bind()})}),(0,E.jsx)("div",{className:"col-md-3",children:(0,E.jsx)("div",{className:"form-group-col p-rel fsize-picker",disabled:this.state.isDisabledIntroSettings,children:(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"introFontSize",Ce.z6)},name:"introFontSizeSelect",options:Ce.z6,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.introFontSize,onChange:this.handleIntroFontSizeChange.bind()})})})]})})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex colr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Text color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroTextColorClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroTextColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.introTextColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroTextColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introTextColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroTextColorClose}),(0,E.jsx)(rs.Ie,{color:this.state.introTextcolor,onChange:this.handleIntroTextColorChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Text background color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroTextBgClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):this.state.TransparentIntroTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{title:"Transparent color",className:"no-color v2",children:(0,E.jsx)("img",{src:hs,alt:""})})}):(0,E.jsx)("div",{style:s.sceneIntroTextBgColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroTextBgColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introTextBgColor"),children:"No selection"}),(0,E.jsx)("button",{className:"transparent-text",onClick:this.setTransparentBackground.bind(this,"introTextBgColor"),children:"Transparent"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroTextBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneIntroTextBgColor,onChange:this.handleIntroTextBgChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Keyword color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroKeywordClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroKeywordColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.introKeywordColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroKeywordColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroKeywordColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introKeywordColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroKeywordClose}),(0,E.jsx)(rs.Ie,{color:this.state.introKeywordColor,onChange:this.handleIntroKewordChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Background color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleIntroSceneBgClick,disabled:this.state.isDisabledIntroSettings,children:this.state.noIntroBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.sceneIntroSceneBgColor,className:"entire-box",disabled:this.state.isDisabledIntroSettings})}),this.state.displayIntroSceneBgColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeIntroSceneBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"introBgColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleIntroSceneBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.introScenebgColor,onChange:this.handleIntroSceneBgChange})]}):null]})}),(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("span",{className:"pull-left head-lg",children:"Logo"}),(0,E.jsx)("label",{className:"pull-right",children:(0,E.jsxs)("span",{className:"switch ml-1",children:[(0,E.jsx)("input",{type:"checkbox",className:"inputdemo",checked:this.state.isActiveIntroLogo,onChange:this.changeLogo.bind(this,"intro"),disabled:this.state.isDisabledIntroSettings}),(0,E.jsx)("div",{className:"slider round",disabled:this.state.isDisabledIntroSettings})]})})]})]})]}),(0,E.jsxs)("div",{className:"col",children:[(0,E.jsxs)("div",{className:"col-12 combine__box p-0",children:[(0,E.jsx)("h5",{className:"tbin-head pull-left",children:"Scenes style"}),(0,E.jsx)("label",{className:"pull-right",children:(0,E.jsxs)("span",{className:"switch test-2",children:[(0,E.jsx)("input",{type:"checkbox",className:"inputdemo",onChange:this.toggleSceneChange,checked:this.state.isActiveSceneSetting}),(0,E.jsx)("div",{className:"slider round"})]})})]}),(0,E.jsxs)("div",{className:"col-12 p-0 btmm_panel",children:[(0,E.jsx)("div",{className:"form-group p-rel",disabled:this.state.isDisabledSceneSettings,children:(0,E.jsx)("div",{className:"col-12 p-0",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-9",children:(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"sceneFontName",Ce.pm)},name:"sceneFontNameSelect",options:Ce.pm,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.sceneFontName,onChange:this.handleSceneFontNameChange.bind()})}),(0,E.jsx)("div",{className:"col-md-3",children:(0,E.jsx)("div",{className:"form-group-col p-rel fsize-picker",disabled:this.state.isDisabledSceneSettings,children:(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"sceneFontSize",Ce.z6)},name:"sceneFontSizeSelect",options:Ce.z6,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.sceneFontSize,onChange:this.handleSceneFontSizeChange.bind()})})})]})})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex colr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Text color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneTextColorClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneTextColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.sceneColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneTextColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneTextColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneTextColorClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneTextcolor,onChange:this.handleSceneTextColorChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Text background color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneTextBgClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):this.state.TransparentSceneTextBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{title:"Transparent color",className:"no-color v2",children:(0,E.jsx)("img",{src:hs,alt:""})})}):(0,E.jsx)("div",{style:s.sceneTextBackroundColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneTextBgColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneTextBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneTextBgColor"),children:"No selection"}),(0,E.jsx)("button",{className:"transparent-text",onClick:this.setTransparentBackground.bind(this,"sceneTextBgColor"),children:"Transparent"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneTextBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneTextBackroundColor,onChange:this.handleSceneTextBgChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Keyword color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneKeywordClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneKeywordColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.sceneKeywordColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneKeywordColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneKeywordColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneKeywordColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneKeywordClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneKeywordColor,onChange:this.handleSceneKewordChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Background color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleSceneBgClick,disabled:this.state.isDisabledSceneSettings,children:this.state.noSceneBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.sceneBgColor,className:"entire-box",disabled:this.state.isDisabledSceneSettings})}),this.state.displaySceneBgColorPicker?(0,E.jsxs)("div",{style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeSceneBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"sceneBgColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleSceneBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.sceneBgColor,onChange:this.handleSceneBgChange})]}):null]})}),(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("span",{className:"pull-left head-lg",children:"Logo"}),(0,E.jsx)("label",{className:"pull-right",children:(0,E.jsxs)("span",{className:"switch ml-1",children:[(0,E.jsx)("input",{type:"checkbox",className:"inputdemo",checked:this.state.isActiveSceneLogo,onChange:this.changeLogo.bind(this,"scene"),disabled:this.state.isDisabledSceneSettings}),(0,E.jsx)("div",{className:"slider round",disabled:this.state.isDisabledSceneSettings})]})})]})]})]}),(0,E.jsxs)("div",{className:"col",children:[(0,E.jsxs)("div",{className:"col-12 combine__box p-0",children:[(0,E.jsx)("h5",{className:"tbin-head pull-left",children:"Outro style"}),(0,E.jsx)("label",{className:"pull-right",children:(0,E.jsxs)("span",{className:"switch test-2",children:[(0,E.jsx)("input",{type:"checkbox",className:"inputdemo",onChange:this.toggleOutroChange,checked:this.state.isActiveOutroSetting}),(0,E.jsx)("div",{className:"slider round"})]})})]}),(0,E.jsxs)("div",{className:"form-group clear-bx",children:[(0,E.jsx)("label",{className:"control-label cl-labeltxt",children:"Select the layout"}),(0,E.jsxs)("ul",{className:"list-inline radiobx-list",children:[(0,E.jsx)("li",{className:"text"===this.state.layout?"active":"",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onClick:this.changeLayout.bind(this,"text"),children:(0,E.jsx)("div",{className:"text-inner",children:(0,E.jsx)("img",{src:us,className:"btnlist-img"})})}),(0,E.jsx)("li",{className:"logotext"===this.state.layout?"active":"",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onClick:this.changeLayout.bind(this,"logotext"),children:(0,E.jsx)("div",{className:"text-inner",children:(0,E.jsx)("img",{src:ds,alt:"",className:"btnlist-img"})})}),(0,E.jsx)("li",{className:"logo"===this.state.layout?"active":"",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onClick:this.changeLayout.bind(this,"logo"),children:(0,E.jsx)("div",{className:"text-inner",children:(0,E.jsx)("img",{src:ps,alt:"",className:"btnlist-img"})})})]})]}),(0,E.jsx)("div",{className:"col-12 p-0 btmm_panel",children:(0,E.jsxs)("div",{id:"textpanel-1",className:"text_panel active",children:[(0,E.jsxs)("div",{className:"panel-inside",style:{display:this.state.display},children:[(0,E.jsx)("div",{id:"editor",className:["form-group","mb-0",this.state.hasOutroMessageError?"error-editor-css":""].join(" "),disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,onFocus:function(){e.setState({showTip:!0})},children:(0,E.jsx)(os(),{config:this.config,value:this.state.outroMessage,onChange:function(t){return e.setState({editorText:t})},onBlur:function(t){e.setState({outroMessage:t.replace(/<(?!\/?b>|\/?strong>|\/?br)[^>]+>/g,"").replace(/<b>/g,"<strong>").replace(/<\/b>/g,"</strong>"),hasOutroMessageError:""===t,showTip:!1})}})}),this.state.showTip?(0,E.jsxs)("label",{className:"control-label",style:{fontSize:"small",color:"darkgrey"},children:["Tip: Bold the keywords using"," ","MacOS"===(0,te.L9)()?"Cmd+B":"Unknown OS"===(0,te.L9)()?"Ctrl+B/Cmd+B":"Ctrl+B"]}):null,(0,E.jsx)("div",{className:"form-group p-rel",style:{display:this.state.display},disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:(0,E.jsx)("div",{className:"col-12 p-0",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-9",children:(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"outroFontName",Ce.pm)},name:"outroFontNameSelect",options:Ce.pm,selectedValue:this.state.outroFontName,onChange:this.handleSelectChange.bind()})}),(0,E.jsx)("div",{className:"col-md-3",children:(0,E.jsxs)("div",{className:"form-group-col p-rel fsize-picker",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:[(0,E.jsx)(cs.Ph,{ref:function(t){return e.setSelectReference(t,"outroFontSize",Ce.z6)},name:"outroFontSizeSelect",options:Ce.z6,caretIcon:(0,E.jsx)(cs.xY,{}),selectedValue:this.state.outroFontSize,onChange:this.handleOutroFontSizeChange.bind()})," "]})})]})})}),(0,E.jsx)("div",{className:"form-group p-rel",style:{display:this.state.display},children:(0,E.jsxs)("div",{className:"addi-cli d-flex colr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Text color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleClick,disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:this.state.noOutroTextColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.color,className:"entire-box",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro})}),this.state.displayColorPicker?(0,E.jsxs)("div",{className:"popbg",style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeOutroTextColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"outroTextColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleClose}),(0,E.jsx)(rs.Ie,{color:this.state.color,onChange:this.handleChange})]}):null]})}),(0,E.jsx)("div",{className:"form-group p-rel",style:{display:this.state.display},children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsxs)("label",{className:"control-label",children:["Keyword color"," ",(0,E.jsxs)("div",{className:"infom-txt",children:[(0,E.jsx)("i",{className:"fa fa-question-circle",onMouseEnter:this.toggleToolTip.bind(this,!0),onMouseLeave:this.toggleToolTip.bind(this,!1)}),this.state.isShowToolTip&&(0,E.jsxs)("div",{className:"tooltip bs-tooltip-bottom",role:"tooltip",children:[(0,E.jsx)("div",{className:"arrow"}),(0,E.jsx)("div",{className:"tooltip-inner",children:"Bold any keywords in the outro text. They will appear in this color."})]})]})]}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleOutroKeywordClick,disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:this.state.noOutroKeywordColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.outroKeywordColor,className:"entire-box",disabled:this.state.isDisabledOutroSettings})}),this.state.displayOutroKeywordColorPicker?(0,E.jsxs)("div",{className:"popbg",style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeOutroKeywordColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"outroKeywordColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleOutroKeywordClose}),(0,E.jsx)(rs.Ie,{color:this.state.outroKeywordColor,onChange:this.handleOutroKewordChange})]}):null]})})]}),(0,E.jsx)("div",{className:"form-group p-rel last-fgroup",children:(0,E.jsxs)("div",{className:"addi-cli d-flex bgcolr-bx",children:[(0,E.jsx)("label",{className:"control-label",children:"Outro background color"}),(0,E.jsx)("div",{style:s.swatch,onClick:this.handleBgClick,disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro,children:this.state.noOutroBgColor?(0,E.jsx)("div",{style:{width:"20px",height:"14px",borderRadius:"2px",background:"rgb(51, 51, 51) none repeat scroll 0% 0%"},className:"tr-colorbox",children:(0,E.jsx)("span",{className:"no-color v2",title:"No color selection",children:"×"})}):(0,E.jsx)("div",{style:s.bgColor,className:"entire-box",disabled:this.state.isDisabledOutroSettings||this.state.isDisableOutroSettingLeftStyle||this.state.checkedCustomOutro})}),this.state.displayBgColorPicker?(0,E.jsxs)("div",{className:"popbg",style:s.popover,children:[(0,E.jsx)("button",{className:"cls-bx",onClick:this.closeOutroBgColorBox,children:"×"}),(0,E.jsx)("button",{className:"no-selection",onClick:this.NoSelectionColor.bind(this,"outroBgColor"),children:"No selection"}),(0,E.jsx)("div",{style:s.cover,onClick:this.handleBgClose}),(0,E.jsx)(rs.Ie,{color:this.state.bgColor,onChange:this.handleBgChange})]}):null]})})]})})]}),(0,E.jsx)("div",{className:"col cl-centeral small-ht",disabled:this.state.isDisabledOutroSettings,children:(0,E.jsx)("div",{className:"col h-100",children:(0,E.jsx)("div",{className:"row align-items-center h-100",children:(0,E.jsxs)("div",{className:"jumbotron bg-transp h-100 w-100",children:[(0,E.jsx)("div",{className:"form-group text-center",children:(0,E.jsxs)("div",{className:"upload-snipet",children:[(0,te.N$)(this.state.user?this.state.user.username:"")[Ce.R2.customOutroClip]&&(0,E.jsx)("input",{type:"file",id:"backgroundFile",onChange:this._handleBackgroundImageChange.bind(),accept:"image/*, video/*",disabled:this.state.isDisabledOutroSettings})||(0,E.jsx)("input",{type:"file",onClick:function(t){t.preventDefault(),e.showUpgradeModal(t)}}),(0,E.jsx)("label",{children:(0,E.jsx)("img",{src:ls,alt:"",className:"editor-img w-100"})})]})}),(0,E.jsxs)("div",{className:"form-group text-center",children:[this.state.backgroundFileName?(0,E.jsx)("div",{className:"uploaded-imgpath",children:(0,E.jsx)("div",{className:"path_img",children:(0,E.jsxs)("p",{className:"src_name",children:[(0,E.jsx)("span",{className:"actual-path",children:this.state.backgroundFileName})," ",(0,E.jsx)("span",{className:"del-src",title:"remove-image",onClick:this.clearOutroImage.bind(this),children:"×"})]})})}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)("label",{className:"lbl-text",children:["Upload custom outro image ",(0,E.jsx)("br",{}),"or",(0,E.jsx)("br",{})," video clip"]})]})]})})})}),(0,E.jsxs)("div",{className:"col",disabled:this.state.isDisabledOutroSettings,children:[(0,E.jsx)("div",{className:"col-12 combine__box p-0",children:(0,E.jsx)("h5",{className:"tbin-head pull-left",children:"Outro preview"})}),(0,E.jsx)("div",{className:"form-group",children:(0,E.jsx)("div",{className:"embed-responsive embed-responsive-16by9",children:this.state.backgroundFileName?"png"===this.getExt(this.state.backgroundFileName)||"jpg"===this.getExt(this.state.backgroundFileName)||"jpeg"===this.getExt(this.state.backgroundFileName)||"bmp"===this.getExt(this.state.backgroundFileName)||"gif"===this.getExt(this.state.backgroundFileName)?(0,E.jsx)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100 fig-img-inner p-0",children:(0,E.jsx)("img",{src:this.state.outroFilePath,alt:this.state.backgroundFileName})}):(0,E.jsxs)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100 fig-img-inner video--outro p-0",children:[(0,E.jsx)("video",{muted:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},src:this.state.outroFilePath,alt:this.state.backgroundFileName})," ",(0,E.jsx)("span",{className:"btn--play",children:(0,E.jsx)("i",{className:"fa fa-play"})})]}):(0,E.jsx)("div",{className:"w-100 d-flex figure-prevv align-items-center h-100",style:{backgroundColor:this.state.noOutroBgColor?"#fff":"rgb(".concat(this.state.bgColor.r,", ").concat(this.state.bgColor.g,", ").concat(this.state.bgColor.b,")")},onMouseEnter:this.playScene.bind(),onMouseLeave:this.stopScene.bind(),children:(0,E.jsxs)("div",{className:"animate-container d-flex mx-auto",id:"animationContainer",children:[(0,E.jsxs)("div",{className:"sentences-bottom h-100 justify-content-center",children:["logo"!==this.state.layout&&"logotext"!==this.state.layout||""===this.state.logoFilePath||void 0===this.state.logoFilePath||null===this.state.logoFilePath?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)("div",{className:"btm__contact",children:(0,E.jsx)("img",{className:"mr-auto sml-logo-vid",src:this.state.logoFilePath})}),"text"===this.state.layout||"logotext"===this.state.layout?(0,E.jsx)("p",{className:"tag_line d-block",style:{color:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,")"),fontFamily:this.state.outroFontFamily,fontWeight:this.state.outroFontWeight,fontSize:this.state.OutroFontSizeForPreview},children:(0,rt.ZP)(this.state.outroMessage)}):(0,E.jsx)(E.Fragment,{})]}),(0,E.jsx)("span",{className:"btn--play",onMouseEnter:this.playScene.bind(),children:(0,E.jsx)("i",{className:"fa fa-play"})})]})})})})]})]})})})})})]})})}),(0,E.jsx)("div",{className:"tab-pane fade",id:"h-tb3",role:"tabpanel",children:(0,E.jsx)("div",{className:"card grey-card",children:(0,E.jsx)("div",{className:"card-body",children:(0,E.jsx)("div",{className:"col-12 combo-box",children:(0,E.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})})})})})]})})})]}),(0,E.jsx)(j.Z,{})]}),(0,E.jsx)("div",{className:"VideoProgressBar confirmation-box",id:"confirmationBox",style:{left:"0px",display:this.state.confirmationBox},children:(0,E.jsx)("div",{className:"modal-dialog",children:(0,E.jsx)("div",{className:"modal-content",children:(0,E.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,E.jsxs)("div",{className:"modal-header",children:[(0,E.jsx)("h4",{className:"modal-title",children:"Confirm"}),(0,E.jsx)("span",{className:"close",onClick:this.CloseConfirmationBox.bind(),children:"×"})]}),(0,E.jsxs)("div",{className:"modal-bodys",children:[(0,E.jsx)("span",{className:"d-block mb-3",children:"Supported file types are png, jpg, gif, bmp, svg, mp4, ogg, flv, ,m4a, m4v, f4v, f4a, m4b, m4r, f4b, mov, oga, ogv, ogx, ogm, avi, 3gp, wav."}),(0,E.jsx)("div",{className:"col-12 p-0 text-center bottom-box-btn",children:(0,E.jsx)("button",{className:"btn btn-submit btn-span",onClick:this.CloseConfirmationBox.bind(),children:"Ok"})})]})]})})})}),(0,E.jsx)("div",{id:"brand-settings-modal",className:"modal fade upgrade-modal",role:"dialog",children:(0,E.jsx)("div",{className:"modal-dialog",children:(0,E.jsxs)("div",{className:"modal-content",children:[(0,E.jsx)("div",{className:"modal-header",children:(0,E.jsxs)("h4",{className:"modal-title",children:["Upgrade to Professional!",(0,E.jsx)("span",{className:"close",onClick:this.hideUpgradeModal.bind(this),children:"×"})]})}),(0,E.jsxs)("div",{className:"modal-body",children:[(0,E.jsxs)("p",{children:["Add custom ",this.state.isIntro?"Intro":"outro"," video clip or ",(0,E.jsx)("br",{}),"an image with your branding"]}),(0,E.jsx)("div",{className:"button-container horizontal buttonsStep2head",children:(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",onClick:function(t){return e.hideUpgradeModal(t,!0)},children:"See plans"})})]})]})})})]})}}]),n}(c.Component);vs.getFrontFontStyle=function(e){var t=vs.getFrontFontName(e).split(";");return"font-family: ".concat(t[0],"; font-weight: ").concat(t[1])},vs.getFrontFontName=function(e){var t="700";return"Arial"===e?(e="Arial",t="400"):"Arial-Bold"===e?e="Arial":"Calibri"===e?(e="Calibri",t="400"):"Calibri-Bold"===e?e="Calibri":"Helvetica"===e?(e="'Helvetica';",t="400"):"HelveticaNeue-Medium"===e?e="Helvetica Neue":"Lato-Bold"===e?e="Lato":"Lato-Black"===e?(e="Lato",t="900"):"Merriweather-Bold"===e?e="Merriweather":"Montserrat-Bold"===e?e="Montserrat":"NotoSans"===e?(e="Noto Sans",t="400"):"NotoSans-Bold"===e?e="Noto Sans":"OpenSans"===e?(e="Open Sans",t="400"):"OpenSans-Bold"===e?e="Open Sans":"Poppins"===e?(e="Poppins",t="400"):"Poppins-Bold"===e?e="Poppins":"Poppins-ExtraBold"===e?(e="Poppins",t="900"):"Quicksand"===e?(e="Quicksand",t="400"):"Quicksand-Bold"===e?e="Quicksand":"Roboto"===e?(e="Roboto",t="400"):"Roboto-Bold"===e?e="Roboto":"Rokkitt"===e?(e="Rokkitt",t="400"):"Rokkitt-Bold"===e?e="Rokkitt":"SourceSansPro"===e?(e="Source Sans Pro",t="400"):"SourceSansPro-Bold"===e?e="Source Sans Pro":"Ubuntu"===e?(e="Ubuntu",t="400"):"Ubuntu-Bold"===e&&(e="Ubuntu"),e+";"+t};var xs=(0,d.EN)((0,l.$j)((function(e){return{brandSettings:e.brandSettings.brandSettings,saveSettingsStatus:e.brandSettings.saveSettingsStatus,uploadImageStatus:e.brandSettings.uploadImageStatus}}),{getBrandSettings:ms,saveBrandSettings:gs,uploadImage:fs})(vs)),Ss=function(e,t){return t.type===xn.USER_LOGGED_OUT&&(e=void 0),Zn(e,t)},ys=function(e){return(0,E.jsxs)("div",{children:[(0,E.jsx)(he.Z,(0,o.Z)({},e)),(0,E.jsx)("div",{style:{"margin-top":"150px","margin-left":"500px"},children:(0,E.jsx)("h3",{children:"Page not found"})})]})},bs=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).state={hasError:!1},s}return(0,s.Z)(n,[{key:"componentDidCatch",value:function(e,t){var n,r;S().getInstance().logEvent("app-crash-details",{"error-message":e.message,"error-stack":e.stack,"path-name":null===(n=window)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.pathname}),v.g.currentAuthenticatedUser().then((function(n){if(window&&window.location&&window.location.hostname&&!window.location.hostname.startsWith("localhost")){var r=e+"\n------\n"+t.componentStack+"\n------\n"+"Pathname:- ".concat(window.location.pathname),s="".concat(n.username,"/errors/application/").concat((new Date).getTime(),"-crash.txt");Te.Ke.put(s,r,{level:"public",ACL:"public-read"}).then((function(e){S().getInstance().logEvent("app-crash",{"error-info":k.Z.Instance.GetUserUploadUrl(s,"public"),"path-name":window.location.pathname})}))}window&&C.Z&&C.Z.getItem("backup-save-json")&&(0,te.Hw)(n.username)}))}},{key:"render",value:function(){return this.state.hasError?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(he.Z,{isError:!0}),(0,E.jsx)(h.Z,{sx:{height:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"grey.500"},children:(0,E.jsxs)(h.Z,{sx:{width:"450px"},children:[(0,E.jsx)(m.Z,{variant:"h1",sx:{lineHeight:1.2},children:"Something went wrong!"}),(0,E.jsx)(m.Z,{variant:"h5",children:"Try refreshing the page (press F5) and if the issue still persists contact customer support."})]})})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(c.Component),js=(0,d.EN)(bs),ws=n(48502),Zs=n(64164),ks=n(32415),Cs=n(35672),Is=n(58698),Ts=n(31929),Es=n(25685),As=n(36368),_s=n(47196),Rs=n(25328),Ps=n(13706),Ns=n(19259),Os=(n(23148),n(31172)),Ds=n(85585),Us=Z.Z.upgradeFromFreeTrial,Ls=Z.Z.changePlan,Fs=Z.Z.startPlanForExistingCustomer,Vs=Z.Z.renewSubscriptionRequest,Bs=Z.Z.getPlanByPlanCodeRequest,Ms=Z.Z.getCouponByCouponCodeRequest,Gs=Z.Z.getCurrentSubscriptionRequest,Ws=Z.Z.getSubscriptionCostRequest,zs=((0,Zs.ZP)(ks.Z)((function(e){var t=e.theme;return(0,o.Z)((0,o.Z)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),[{id:1,desc:"30 videos/month",subItems:[{desc:"Up to 10 minutes text-to-video"},{desc:"10 hrs of video transcription/month"}]},{id:1,desc:"1.5M+ Storyblocks visuals"},{id:2,desc:"Brand kit customization"},{id:3,desc:"Video format - 16:9, 1:1, 9:16"},{id:4,desc:"1080p video resolution"}]),Js=[{id:0,desc:"10M+ Getty visuals"},{id:1,desc:"Hyper-realistic AI voices by ElevenLabs"},{id:2,desc:"Automatic voiceover synchronisation"},{id:3,desc:"Upload your own music tracks"},{id:4,desc:"Bulk download short videos in CSV format"}],Hs=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s,a,i,c,l,u,d;if((0,r.Z)(this,n),(d=t.call(this,e)).showErrorDialog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={title:e,message:t,message2:n};d.setState({dialogWithButtonAndIcon:r,areErrors:!0})},d.logAddonPurchasedEvent=function(){var e=1;try{if(0==d.state.showPlanName){if(d.state.addonsLabelForImmediateCharges&&"ElevenLabs Minutes"==d.state.addonsLabelForImmediateCharges){var t,n,r,s,a=0;(0,te.hk)(null===(t=d.state)||void 0===t||null===(n=t.planDetails)||void 0===n?void 0:n.plan_code)===te.nX.professional?a=120:(0,te.hk)(null===(r=d.state)||void 0===r||null===(s=r.planDetails)||void 0===s?void 0:s.plan_code)===te.nX.team&&(a=240),e=a+=60*d.state.addonData.elevenLabsMinutes}else d.state.addonsLabelForImmediateCharges&&"Additional video hours"==d.state.addonsLabelForImmediateCharges?e=d.state.addonData.numberOfVideos:d.state.addonsLabelForImmediateCharges&&"Additional users"==d.state.addonsLabelForImmediateCharges?e=d.state.addonData.numberOfTeamMembers:d.state.addonsLabelForImmediateCharges&&"Getty Visual"==d.state.addonsLabelForImmediateCharges&&(e=1);S().getInstance().logEvent("add-ons-purchased",{"add-on-type":d.state.addonsLabelForImmediateCharges,number:e,"purchase-kind":"purchased",modification:d.state.isUp?"upgrade":d.state.isDowngrade||d.state.im_ch<=0?"downgrade":"upgrade"})}}catch(e){}},d.updatePlan=function(){var e,t,n=(null===(e=d.state.currentPlan)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.payment_method)&&!d.state.currentPlan.data.payment_method.exists,r=d.state,s=r.planDetails,a=r.currentPlan,i=a.subscription_id;if(d.state.isUserNotSubscribed){d.setState({isActive:!0});var o=d.state.user,c=o.attributes,l=o.username,u=["",""],p=u[0],h=u[u.length-1],m={plan_code:s.plan_code,customer:{display_name:u.join(" "),first_name:p,last_name:h?p==h?"":h:"",email:c.email,company_name:c.website},payment_success_redirect_url:(0,te.rv)(y.Z.orderStatus)};d.state.coupon_code&&(m.coupon_code=d.state.coupon_code),d.props.startPlanForExistingCustomer({userId:l,newPlan:m})}else if(d.state.isFreeTrial||!n||a&&(a.status===Ce.yG.canceled||a.status===Ce.yG.cancelled||a.status===Ce.yG.cancelled_from_dunning)){d.setState({isActive:!0});var g={plan_code:s.plan_code,payment_success_redirect_url:(0,te.rv)(y.Z.orderStatus),addons:d.state.addonbody};d.state.coupon_code&&(g.coupon_code=d.state.coupon_code),d.props.upgradeFromFreeTrial({subId:i,newPlan:g,userId:d.state.user.username})}else{var f;d.state.isDowngrade,d.state.im_charge_total<=0&&(d.state.im_charge_subtotal,d.state.currentPlan.sub_total),f={icon:(0,E.jsx)(_s.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",title:"Please Confirm!",message:(0,E.jsxs)(E.Fragment,{children:["The payment for this ",d.state.isDowngrade?"downgrade":"upgrade"," will be processed using your saved credit card ",d.state.isDowngrade?"when your current plan expires":"",". ",(0,E.jsx)("br",{}),"You can review the card details"," ",s.plan_code.toLowerCase().startsWith("teams")?(0,E.jsx)("a",{className:"blue",style:{cursor:"pointer"},onClick:function(){return d.props.history.push({pathname:b.Z.BaseURL+y.Z.userSettings,state:{leftMenuSelection:"BILLING"}})},children:"here"}):(0,E.jsx)("a",{className:"blue",style:{cursor:"pointer"},onClick:function(){return d.props.history.push({pathname:b.Z.BaseURL+y.Z.billingInfo})},children:"here"})]}),primaryButtonLabel:"Proceed",secondaryButtonLabel:"Cancel",primaryButtonOnClick:function(){return d.changePlan(!0)},secondaryButtonOnClick:function(){return d.changePlan(!1)}},d.setState({askForConfirmation:!0,dialogWithButtonAndIcon:f})}},d.handleMouseOver=function(e){d.setState({anchorEl:e.currentTarget,isOpen:!0})},d.handleMouseOver1=function(e){d.setState({anchorEl:e.currentTarget,isOpen1:!0})},d.handleMouseOver2=function(e){d.setState({anchorEl:e.currentTarget,isOpen2:!0})},d.handleMouseOver3=function(e){d.setState({anchorEl:e.currentTarget,isOpen3:!0})},d.handleMouseOver4=function(e){d.setState({anchorEl:e.currentTarget,isOpen4:!0})},d.handleMouseOver5=function(e){d.setState({anchorEl:e.currentTarget,isOpen5:!0})},d.handleMouseOver_Total_Im=function(e){d.setState({anchorEl:e.currentTarget,isOpen_Im:!0})},d.handleMouseOver_Total_Rec=function(e){d.setState({anchorEl:e.currentTarget,isOpen_Rec:!0})},d.handleClose=function(){d.setState({anchorEl:null,isOpen:!1,isOpen1:!1,isOpen2:!1,isOpen3:!1,isOpen4:!1,isOpen5:!1,isOpen_Im:!1,isOpen_Rec:!1})},d.changePlan=function(e){if(d.setState({askForConfirmation:!1}),e){d.setState({isActive:!0});var t=d.state,n=t.planDetails,r=t.currentPlan,s=r.subscription_id;if(r.status!==Ce.yG.non_renewing&&r.status!=Ce.yG.non_renewing2||n&&r.plan.plan_code!==n.plan_code){var a={plan_code:n.plan_code,addons:d.state.addonbody};d.logAddonPurchasedEvent(),d.state.coupon_code&&(a.coupon_code=d.state.coupon_code),d.props.changePlan({subId:s,newPlan:a,userId:d.state.user.username,planDetails:(0,o.Z)((0,o.Z)({},n),{},{price:d.getOrderPrice(!0)})})}else d.props.renewSubscription(s)}},d.showDowngradePopup=function(e){e.stopPropagation(),ie()("#downgrade-confirmation-modal").modal("show")},d.hideDowngradePopup=function(e){ie()("#downgrade-confirmation-modal").modal("hide")},d.handleChange=function(e){var t,n=e.target.name,r=e.target.value;d.setState((t={},(0,He.Z)(t,n,r),(0,He.Z)(t,"couponError",""),(0,He.Z)(t,"couponSuccess",""),(0,He.Z)(t,"bgColor","#ffffff"),t))},d.getOrderPrice=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d.props.subscriptionCost){for(var n=0,r=0;r<d.props.subscriptionCost.recurring_charge_items.length;r++)n+=d.props.subscriptionCost.recurring_charge_items[r].price;return e?n:d.state.coupon&&0==t?n+(d.props.subscriptionCost.recurring_applicable_coupons||[]).reduce((function(e,t){return e+t.discount_amount}),0):n}var s=0;if(s=d.state.isUpgrade&&(0,te.ZX)(d.state.planDetails,d.state.user?d.state.user.username:"")||d.state.planDetails.recurring_price,e&&0==t&&d.state.coupon)if("percentage"===d.state.coupon.discount_type){var a=s*(d.state.coupon.discount_value/100);s-=a}else s-=d.state.coupon.discount_value;return s.toFixed(2)},d.getOrderPrice1=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d.props.subscriptionCost){for(var n=0,r=0;r<d.props.subscriptionCost.recurring_charge_items.length;r++)n+=d.props.subscriptionCost.recurring_charge_items[r].price;return 1==t?(n=d.props.subscriptionCost.recurring_charge_total+d.props.subscriptionCost.recurring_discount).toFixed(2):e?n.toFixed(2):d.state.coupon&&0==t?(n+(d.props.subscriptionCost.recurring_applicable_coupons||[]).reduce((function(e,t){return e+t.discount_amount}),0)).toFixed(2):n.toFixed(2)}var s=0;if(s=d.state.isUpgrade&&(0,te.ZX)(d.state.planDetails,d.state.user?d.state.user.username:"")||d.state.planDetails.recurring_price,e&&0==t&&d.state.coupon)if("percentage"===d.state.coupon.discount_type){var a=s*(d.state.coupon.discount_value/100);s-=a}else s-=d.state.coupon.discount_value;return s.toFixed(2)},d.handleClearClick=function(){d.setState({coupon_code:"",couponError:"",fetchingCoupon:!1,couponSuccess:"",bgColor:"#ffffff",isBusy:!0}),d.state.addonbody?d.props.getSubscriptionCost(d.state.currentPlan.subscription_id,{planCode:d.state.planDetails.plan_code,addons:d.state.addonbody}):d.props.getSubscriptionCost(d.state.currentPlan.subscription_id,{planCode:d.state.planDetails.plan_code})},d.onClickApplyCouponCode=function(e){d.state.coupon_code&&d.state.coupon_code.length&&(d.setState({isBusy:!0,couponError:"",fetchingCoupon:!0,couponSuccess:"",bgColor:"#ffffff"}),d.props.getCouponByCouponCode(d.state.coupon_code))},d.isUnConfirmedSubscription=function(){return d.state.currentPlan&&d.state.currentPlan.data&&("NOT_CONFIRMED"===d.state.currentPlan.data.state||d.state.currentPlan.data.customer_state&&"NOT_CONFIRMED"===d.state.currentPlan.data.customer_state)},d.state={planDetails:d.props.location&&d.props.location.state&&d.props.location.state.planDetails,currentPlan:d.props.location&&d.props.location.state&&d.props.location.state.currentPlan,isFreeTrial:d.props.location&&d.props.location.state&&d.props.location.state.isFreeTrial,isUserNotSubscribed:d.props.location&&d.props.location.state&&d.props.location.state.isUserNotSubscribed,isUpgrade:d.props.location&&d.props.location.state&&d.props.location.state.isUpgrade,isDowngrade:d.props.location&&d.props.location.state&&d.props.location.state.isDowngrade,addonData:d.props.location&&d.props.location.state&&d.props.location.state.addonData,updateAddon:null===(s=d.props)||void 0===s||null===(a=s.location)||void 0===a||null===(i=a.state)||void 0===i?void 0:i.updateAddon,addonType:null===(c=d.props)||void 0===c||null===(l=c.location)||void 0===l||null===(u=l.state)||void 0===u?void 0:u.addonType,WhatYouGet:zs,WhatYouDonotGet:Js,couponError:"",coupon_code:"",couponSuccess:"",bgColor:"#ffffff",initial_discount:0,recurring_discount:0,im_Credits_Total:0,im_charge_subtotal:0,im_charge_total:0,recurring_charge_subtotal:0,recurring_charge_total:0,initial_charge_total:0,isBusy:!1,anchorEl:null,anchorEl_Rec:null,anchorEl_Im:null,anchorEl1:null,isOpen:null,isOpen_Im:null,isOpen_Rec:null,isOpen1:null,isOpen2:null,isOpen3:null,isOpen4:null,isOpen5:null,computingCost:!1},d.setPlanNameForImmediateCharges(),d.state&&d.props.location&&d.props.location.search){var p=Os.parse(d.props.location.search);p.plan&&(d.state.inputPlan=p.plan,d.state.inputCoupon=p.coupon,d.state.fetchingInputPlan=!0,d.state.isUpgrade=!0)}return d}return(0,s.Z)(n,[{key:"setPlanNameForImmediateCharges",value:function(){var e,t,n,r,s,a,i,o=null===(e=this.state)||void 0===e||null===(t=e.currentPlan)||void 0===t||null===(n=t.plan)||void 0===n||null===(r=n.plan_code)||void 0===r?void 0:r.toLowerCase(),c=null===(s=this.state)||void 0===s||null===(a=s.planDetails)||void 0===a||null===(i=a.plan_code)||void 0===i?void 0:i.toLowerCase(),l=!1,u="professionalannual",d="professionalmonthly",p="starterannual",h="startermonthly",m="Price reflects the cost of your selected plan.";if("teamsmonthly"!=c&&"teamsannual"!=c||(u="teamsannual",d="teamsmonthly"),o&&(o.includes("freetrial")&&(l=!0),0!=o.startsWith(u)||0!=o.startsWith(d)||1!=c.startsWith(u)&&1!=c.startsWith(d)?(1==o.startsWith(u)&&1==c.startsWith(d)||1==o.startsWith(d)&&1==c.startsWith(u)||1==o.startsWith(u)&&1==c.startsWith(d)||1==o.startsWith(d)&&1==c.startsWith(u))&&(l=!0):l=!0,(o.startsWith(u)&&1==c.startsWith(u)||o.startsWith(d)&&1==c.startsWith(d)||o.startsWith(p)&&1==c.startsWith(p)||o.startsWith(h)&&1==c.startsWith(h)||o.startsWith("app_sumo_pictory_tier")&&1==c.startsWith("app_sumo_pictory_tier"))&&this.state.addonData)){var g,f=0,v=0,x=!1,S=0;if(null!==(g=this.state.currentPlan)&&void 0!==g&&g.addons&&this.state.currentPlan.addons.length>0)for(var y=this.state.currentPlan.addons.length,b=this.state.currentPlan.addons,j=0;j<y;j++)if(this.state.updateAddon)"GettyVisuals"==b[j].addon_code&&(x=!0),"ELEVENLABS_MINUTES"==b[j].addon_code&&(S=b[j].quantity);else if("ADDITIONAL_VIDEO_HOURS"==b[j].addon_code)for(var w=b[j].item_custom_fields,Z=w.length,k=0;k<Z;k++)"cf_total_projects_per_month"==w[k].placeholder&&(f=parseInt(w[k].value));else if("TEAM_USERS"==b[j].addon_code)v=b[j].quantity;else if("ELEVENLABS_MINUTES"==b[j].addon_code)for(var C=b[j].item_custom_fields,I=C.length,T=0;T<I;T++)"cf_total_projects_per_month"==C[T].placeholder&&(f=parseInt(C[T].value));var E="",A=!1,_=!1;f!=this.state.addonData.numberOfVideos&&0!==f&&(l=!1,A=!0),v!=this.state.addonData.numberOfTeamMembers&&0!==v&&(l=!1,_=!0),this.state.addonData.gettyVisuals&&x!==this.state.addonData.gettyVisuals&&(l=!1),S!==this.state.addonData.elevenLabsMinutes&&(l=!1),!1===l&&(m="Price reflects the cost of your selected add-on, prorated for the remainder of your subscription term",c.includes("annual")||c.includes("app_sumo_pictory_tier"),this.state.updateAddon?E=this.state.addonType==te.n$.gettyVisuals?"Getty Visual":"ElevenLabs Minutes":(E="Additional video hours",_&&!1===A&&(E="Additional users"))),this.state.addonsLabelForImmediateCharges=E}this.state.tooltipForImmediateCharges=m,this.state.showPlanName=l}},{key:"componentDidMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then((function(t){if(e.setState({user:t}),e.logPageVisitedEvent(),e.state.inputPlan&&(e.setState({computingCost:!0,isBusy:!0}),e.props.getPlanByPlanCode(e.state.inputPlan),e.props.getCurrentSubscription()),e.state.inputCoupon&&(e.setState({fetchingCoupon:!0,isBusy:!0}),e.props.getCouponByCouponCode(e.state.inputCoupon)),e.state.currentPlan){e.setState({computingCost:!0,isBusy:!0});var n=[];if(e.state.addonData){var r=e.state.planDetails.plan_code.toLowerCase(),s=r.includes("annual")||r.includes("app_sumo_pictory_tier"),a=r.includes("starter")||r.includes("app_sumo_pictory_tier");if(e.state.addonData.gettyVisuals&&1==a&&n.push({addonCode:s?"GettyVisuals-USD-Yearly":"GettyVisuals-USD-Monthly",quantity:1}),e.state.addonData.elevenLabsMinutes&&n.push({addonCode:s?"ELEVENLABS_MINUTES-USD-Yearly":"ELEVENLABS_MINUTES",quantity:e.state.addonData.elevenLabsMinutes}),null!=e.state.addonData.additionalVideoHours){var i=[{label:"Total Projects Per Month",value:e.state.addonData.numberOfVideos},{label:"Text to Video Duration",value:(e.state.addonData.videoDuration+2)*e.state.addonData.baseNumberOfVideos}];n.push({addonCode:"ADDITIONAL_VIDEO_HOURS",quantity:e.state.addonData.additionalVideoHours,item_custom_fields:i})}"teamsannual"!=r&&"teamsmonthly"!=r||null!=e.state.addonData.numberOfTeamMembers&&n.push({addonCode:"TEAM_USERS",quantity:e.state.addonData.numberOfTeamMembers})}e.setState({addonbody:n}),e.props.getSubscriptionCost(e.state.currentPlan.subscription_id,{planCode:e.state.planDetails.plan_code,addons:n})}var o=(0,te.wo)(e.state.planDetails.name).toLowerCase();if("starter"==o)e.setState({WhatYouGet:zs,WhatYouDonotGet:Js});else if("teams"==o){var c=[{id:0,desc:"".concat(e.state.addonData.numberOfVideos," videos/month"),subItems:[{desc:"Up to ".concat(e.state.addonData.videoDuration," minutes text-to-video")},{desc:"20 hrs of video transcription/month"}]},{id:2,desc:"Team of ".concat(e.state.addonData.numberOfTeamMembers," users")},{id:2,desc:"Automatic voiceover synchronisation"},{id:3,desc:"Brand kit customization"},{id:4,desc:"60 AI voices"},{id:5,desc:"15000 music tracks"},{id:6,desc:"Video format - 16:9, 1:1, 9:16"},{id:7,desc:"1080p video resolution"},{id:8,desc:"Upload your own music tracks"},{id:9,desc:"Bulk download short videos in CSV format"},{id:10,desc:"Hyper-realistic AI voices by ElevenLabs"}];e.setState({WhatYouGet:c,WhatYouDonotGet:[]})}else{var l=[{id:0,desc:"".concat(e.state.addonData.numberOfVideos," videos/month"),subItems:[{desc:"Up to ".concat(e.state.addonData.videoDuration," minutes text-to-video")},{desc:"20 hrs of video transcription/month"}]},{id:2,desc:"Full access - Storyblocks, Getty visuals"},{id:3,desc:"Hyper-realistic AI voices by ElevenLabs"},{id:4,desc:"Automatic voiceover synchronisation"},{id:5,desc:"Brand kit customization"},{id:6,desc:"Video format - 16:9, 1:1, 9:16"},{id:7,desc:"1080p video resolution"},{id:8,desc:"Upload your own music tracks"},{id:9,desc:"Bulk download short videos in CSV format"}];e.setState({WhatYouGet:l,WhatYouDonotGet:[]})}})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.onUpgradePlanChanged(e),this.onChangePlanDataChanged(e),this.onRenewSubscriptionResultChanged(e),this.onGetPlanByPlanCodeResultChanged(e),this.onGetCouponByCouponCodeResultChanged(e),this.onGetCurrentSubscriptionResultChanged(e),this.onGetSubscriptionCostResultChanged(e)}},{key:"logPageVisitedEvent",value:function(){try{S().getInstance().logEvent("order-summary-page-visited",{"plan-selected-for-order":this.state.showPlanName?this.state.planDetails.name:this.state.addonsLabelForImmediateCharges})}catch(e){S().getInstance().logEvent("order-summary-page-visited")}}},{key:"onUpgradePlanChanged",value:function(e){this.props.upgradePlan!==e.upgradePlan&&(this.setState({isActive:!1}),e.upgradePlan.hostedPageURL?this.props.history.push({pathname:b.Z.BaseURL+y.Z.payment,state:{hostedPage:e.upgradePlan.hostedPageURL}}):"failed"===e.upgradePlan.status&&(0,w.x2)(e.upgradePlan.error&&e.upgradePlan.error.message||"An error occurred while updating the subscription. Please contact support"))}},{key:"onChangePlanDataChanged",value:function(e){if(!at().isEmpty(e.changePlanData)&&this.props.changePlanData!=e.changePlanData)if(this.setState({isActive:!1}),"failed"===e.changePlanData.status)(0,w.x2)(e.changePlanData.data.message||"An error occurred while updating the subscription. Please contact support");else{var t=this.state,n=t.planDetails,r=t.currentPlan;if(this.state.isDowngrade){S().getInstance().logEvent("plan-downgraded",{"current-plan":r&&r.plan?r.plan.name:"","downgraded-plan":n.name});var s=this.state.showPlanName?null:this.state.addonsLabelForImmediateCharges;this.props.history.push({pathname:b.Z.BaseURL+y.Z.orderSubscribed,state:{planName:(0,te.wo)(this.state.planDetails.name),addonsLabelForImmediateCharges:s,isDowngrade:!0}})}else this.state.isUpgrade?(S().getInstance().logEvent("plan-upgraded",{"current-plan":r&&r.plan?r.plan.name:"","downgraded-plan":n.name}),this.props.history.push({pathname:b.Z.BaseURL+y.Z.orderStatus,state:{paymentData:e.changePlanData.data}})):(S().getInstance().logEvent("plan-changed",{"current-plan":r&&r.plan?r.plan.name:"","changed-plan":n.name}),this.props.history.push({pathname:b.Z.BaseURL+y.Z.orderStatus,state:{paymentData:e.changePlanData.data}}))}}},{key:"onRenewSubscriptionResultChanged",value:function(e){if(e.renewSubscriptionResult!==this.props.renewSubscriptionResult&&e.renewSubscriptionResult.success){var t=this.state.currentPlan;this.setState({isActive:!1}),S().getInstance().logEvent("plan-renewed",{"renewed-plan":t&&t.plan?t.plan.name:""}),this.props.history.push({pathname:b.Z.BaseURL+y.Z.plansList})}}},{key:"onGetPlanByPlanCodeResultChanged",value:function(e){var t=this;e.getPlanByPlanCodeResult!==this.props.getPlanByPlanCodeResult&&(e.getPlanByPlanCodeResult.success?e.plan?(this.setState({planDetails:e.plan}),this.state.currentPlan&&this.setState({fetchingInputPlan:!1})):(0,w.x2)("The plan ".concat(this.state.inputPlan," not found"),(function(){t.props.history.push({pathname:b.Z.BaseURL+y.Z.plansList})})):(0,w.x2)(e.getPlanByPlanCodeResult.message,(function(){t.props.history.push({pathname:b.Z.BaseURL+y.Z.plansList})})))}},{key:"onGetCouponByCouponCodeResultChanged",value:function(e){if(e.getCouponByCouponCodeResult!==this.props.getCouponByCouponCodeResult){if(e.getCouponByCouponCodeResult.success)if(e.coupon)if(e.coupon.status==Ce.Fw.inactive||e.coupon.status==Ce.Fw.expired)this.setState({couponError:"Invalid coupon passed",isBusy:!1});else{var t=!0;if(e.coupon.plans){var n=e.coupon.plans.length,r=this.state.planDetails.plan_code.toLowerCase();t=!1;for(var s=0;s<n;s++)e.coupon.plans[s].plan_code.toLowerCase()==r&&(t=!0);0==t&&this.setState({couponError:"Invalid coupon passed",isBusy:!1})}1==t&&(this.setState({coupon:e.coupon,coupon_code:e.coupon.coupon_code,couponSuccess:"Coupon code has been applied!",bgColor:"success.lighter"}),this.state.addonbody?this.props.getSubscriptionCost(this.state.currentPlan.subscription_id,{planCode:this.state.planDetails.plan_code,couponCode:this.state.coupon_code,addons:this.state.addonbody}):this.props.getSubscriptionCost(this.state.currentPlan.subscription_id,{planCode:this.state.planDetails.plan_code,couponCode:this.state.coupon_code}))}else this.setState({couponError:"Invalid coupon code! Please try another.",isBusy:!1});else this.setState({couponError:"".concat(e.getCouponByCouponCodeResult.message),isBusy:!1});this.setState({fetchingCoupon:!1})}}},{key:"onGetCurrentSubscriptionResultChanged",value:function(e){var t=this;if(e.getCurrentSubscriptionResult!==this.props.getCurrentSubscriptionResult)if(e.getCurrentSubscriptionResult.success)if(e.currentSubscription){var n=e.currentSubscription.subscription;e.currentSubscription.currentQuota&&(n=(0,o.Z)((0,o.Z)({},n),{},{currentQuota:e.currentSubscription.currentQuota})),e.currentSubscription.billing_address&&(n.billing_address=e.currentSubscription.billing_address),e.currentSubscription.shipping_address&&(n.shipping_address=e.currentSubscription.shipping_address),e.currentSubscription.affiliate&&(n.affiliate=e.currentSubscription.affiliate),n=(0,o.Z)((0,o.Z)({},n),{},{data:e.currentSubscription}),this.props.getSubscriptionCost(n.subscription_id,{planCode:this.state.inputPlan,couponCode:this.state.inputCoupon}),this.setState({currentPlan:n}),this.state.planDetails&&this.setState({fetchingInputPlan:!1})}else(0,w.x2)("User's subscription not found.",(function(){t.props.history.push({pathname:b.Z.BaseURL+y.Z.plansList})}));else(0,w.x2)(e.getCurrentSubscriptionResult.message,(function(){t.props.history.push({pathname:b.Z.BaseURL+y.Z.plansList})}))}},{key:"onGetSubscriptionCostResultChanged",value:function(e){if(e.getSubscriptionCostResult!==this.props.getSubscriptionCostResult){if(console.log("getSubscriptionCostResult -1: "+JSON.stringify(e.getSubscriptionCostResult)),this.setState({computingCost:!1}),e.getSubscriptionCostResult&&0==e.getSubscriptionCostResult.success)return void this.showErrorDialog("Error","An error has occured while computing order charges",(e.getSubscriptionCostResult.code?e.getSubscriptionCostResult.code+": ":"")+e.getSubscriptionCostResult.message);var t=0,n=0;if(e.subscriptionCost){if(e.subscriptionCost.initial_applicable_coupons&&e.subscriptionCost.initial_applicable_coupons.length>0)for(var r=e.subscriptionCost.initial_applicable_coupons.length,s=0;s<r;s++)t+=e.subscriptionCost.initial_applicable_coupons[s].discount_amount;if(e.subscriptionCost.recurring_applicable_coupons&&e.subscriptionCost.recurring_applicable_coupons.length>0)for(var a=e.subscriptionCost.recurring_applicable_coupons.length,i=0;i<a;i++)n+=e.subscriptionCost.recurring_applicable_coupons[i].discount_amount;var o=e.subscriptionCost.initial_charge_subtotal+t,c=e.subscriptionCost.recurring_charge_subtotal+n;this.setState({im_Credits_Total:0==e.subscriptionCost.credits_total?"0":e.subscriptionCost.credits_total.toFixed(2),im_charge_subtotal:0==o?"0":o.toFixed(2),im_charge_total:0==e.subscriptionCost.initial_charge_amount?"0":e.subscriptionCost.initial_charge_amount.toFixed(2),initial_discount:0==t?0:t.toFixed(2),recurring_discount:0==n?0:n.toFixed(2),recurring_charge_subtotal:c,recurring_charge_total:0==e.subscriptionCost.recurring_charge_amount?"0":e.subscriptionCost.recurring_charge_amount.toFixed(2),initial_charge_total:0==e.subscriptionCost.initial_charge_total?"0":e.subscriptionCost.initial_charge_total.toFixed(2),isUpgrade:!!(this.state.addonbody&&this.state.addonbody.length>0&&o>this.state.currentPlan.sub_total)||this.state.isUpgrade,isBusy:!1})}}}},{key:"render",value:function(){var e=this,t=this.state,n=t.planDetails,r=t.currentPlan,s=t.isDowngrade,a=t.inputPlan;return n||a?(s&&r&&!at().isEmpty(r)&&(r.current_term_ends_at?r.current_term_ends_at:r.next_billing_at&&r.next_billing_at),this.state.fetchingInputPlan?(0,E.jsx)("div",{children:(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(ue.Z,{active:!0,spinner:!0,text:"Please wait..."}),(0,E.jsx)(he.Z,{history:this.props.history,isOrderSummaryPage:!0})]})}):(0,E.jsx)("div",{children:(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(ue.Z,{active:this.state.isActive,spinner:!0,text:"Please wait..."}),(0,E.jsx)(he.Z,{history:this.props.history,isOrderSummaryPage:!0}),this.isUnConfirmedSubscription()?(0,E.jsx)(Ue.Banner,{text:"Sorry! we have encountered a technical problem. Please try purchasing your subscription after sometime or contact us at support@pictory.ai",backgroundColor:"error.darkest",textColor:"error.darker"}):(0,E.jsx)(E.Fragment,{}),(0,E.jsx)(Ke.ZP,{sx:(0,o.Z)((0,o.Z)({top:"55px",position:"absolute",height:"calc(100vh - 50px)"},{"@media (min-height:600px)":{pt:"1rem"},"@media (min-height:720px)":{pt:"1rem"},"@media (min-height:768px)":{pt:"1rem"},"@media (min-height:800px)":{mt:"-2rem"}}),{},{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",zIndex:0},this.state.updateAddon?{backgroundColor:"transparent"}:{border:"1px solid #E0E0E0"}),children:(0,E.jsxs)(Ke.ZP,{container:!0,sx:(0,o.Z)((0,o.Z)({borderRadius:"10px"},{"@media (min-width:1024px)":{width:"90%"},"@media (min-width:1152px)":{width:"88%"},"@media (min-width:1280)":{width:"79%"},"@media (min-width:1360)":{width:"74%"},"@media (min-width:1400px)":{width:"72%"},"@media (min-width:1600px)":{width:"63%"},"@media (min-width:1920px)":{width:"63%"}}),{},{backgroundColor:"grey.0"},this.state.updateAddon?{border:0,backgroundColor:"transparent"}:{border:"1px solid #E0E0E0"}),children:[!this.state.updateAddon&&(0,E.jsxs)(Ke.ZP,{item:!0,sx:{width:"55%"},children:[(0,E.jsx)(Ke.ZP,{item:!0,sx:{borderBottom:"1px solid",borderColor:"grey.200",width:"auto",padding:"1rem 1rem 1rem 1rem",display:"flex",alignItems:"center"},children:(0,E.jsxs)(D.Z,{direction:"row",children:[(0,E.jsx)(qe.Z,{"aria-label":"delete",onClick:function(){return e.props.history.push(b.Z.BaseURL+y.Z.plansList)},size:"large",sx:{height:"35px"},children:(0,E.jsx)("img",{src:"/images/pc_back.svg",alt:"back"})}),(0,E.jsx)(m.Z,{variant:"text_2xl",color:"grey.900",children:"Order Summary"})]})}),(0,E.jsx)(Ke.ZP,{sx:(0,o.Z)({},{"@media (min-height:600px)":{padding:"10px 48px 16px 48px"},"@media (min-height:720px)":{padding:"10px 48px 16px 48px"},"@media (min-height:768px)":{padding:"10px 48px 16px 48px"},"@media (min-height:800px)":{padding:"24px 48px 24px 48px"}}),children:(0,E.jsxs)(Ke.ZP,{children:[" ",(0,E.jsxs)(D.Z,{direction:"column",children:["months"===n.interval_unit&&(0,E.jsxs)(D.Z,{direction:"row",sx:{display:"flex",justifyContent:"space-between",height:"45px",borderRadius:"8px",padding:"6px 16px",gap:"12px",alignItems:"center",backgroundColor:"info.lighter"},children:[(0,E.jsxs)(D.Z,{spacing:"6px",direction:"row",children:[(0,E.jsx)("img",{src:"/images/info-blue.svg"}),(0,E.jsx)(m.Z,{variant:"text_sm",color:"info.darker",sx:{marginLeft:"12px",color:"info.darker"},children:"Save more than 15% with Annual plan"})]}),(0,E.jsx)(g.Z,{variant:"contained",color:"info",sx:{height:"30px"},onClick:function(){return e.props.history.push(b.Z.BaseURL+y.Z.plansList)},children:"Switch to Annual"})]}),(0,E.jsxs)(D.Z,{direction:"row",sx:{mt:"8px",border:"1px solid",borderColor:"grey.200",borderRadius:"10px",width:"auto",marginTop:"1rem",zIndex:0},children:[(0,E.jsxs)(D.Z,{direction:"column",sx:{margin:"1rem 0rem 0rem 1rem"},children:[(0,E.jsx)(m.Z,{sx:{width:"130px"},variant:"text_2xl",color:"grey.900",children:(0,te.wo)(n.name)}),this.state.computingCost?(0,E.jsx)(m.Z,{variant:"text_6xl",color:"grey.400",sx:{lineHeight:"16px",ml:"6px"},children:"..."}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(m.Z,{variant:"text_xl",color:"grey.900",children:["$",this.state.recurring_charge_subtotal.toFixed(2),(0,E.jsxs)(m.Z,{variant:"text_sm",children:["/","months"===n.interval_unit?"month":"year"]})]}),(0,E.jsx)(m.Z,{variant:"text_xs",color:"grey.400",children:"months"===n.interval_unit?"Billed monthly":"Billed annually"})]})]}),(0,E.jsxs)(Ke.ZP,{spacing:1,sx:{borderLeft:"1px solid",borderColor:"grey.200",m:"1rem",width:"100%"},children:[(0,E.jsx)(m.Z,{sx:{width:"200px",ml:"1rem",mb:"0"},variant:"text_sm",color:"grey.500",children:"What you get:"}),(0,E.jsx)(Cs.Z,{dense:!0,children:this.state.WhatYouGet.map((function(e){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(Is.ZP,{sx:{ml:"1rem",p:"4px"},children:[(0,E.jsx)(Ts.Z,{children:(0,E.jsx)(Rs.Z,{color:"primary",sx:{strokeWidth:"3.3",width:"18px",height:"auto"}})}),(0,E.jsx)(Es.Z,{primary:e.desc,secondary:null,sx:{color:"grey.400"}})]}),e.subItems?e.subItems.map((function(e){return(0,E.jsxs)(D.Z,{direction:"row",sx:{ml:"3rem",p:"4px"},children:[(0,E.jsx)(Ps.Z,{color:"grey.400",sx:{width:"18px",height:"auto"}}),(0,E.jsx)(m.Z,{variant:"text_xs_13",sx:{ml:"0.6rem",color:"grey.400"},children:e.desc})]})})):""]})}))}),this.state.WhatYouDonotGet.length>0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(D.Z,{spacing:"16px",direction:"row",sx:{m:"1rem",mt:"0rem",mb:"0",p:"4px"},children:[(0,E.jsx)("img",{src:"/images/crown-yellow.svg"}),(0,E.jsx)(m.Z,{sx:{width:"200px"},variant:"text_sm",color:"grey.500",children:"What you won't get:"})]}),(0,E.jsx)(Cs.Z,{dense:!0,children:this.state.WhatYouDonotGet.map((function(e){return(0,E.jsxs)(Is.ZP,{sx:{ml:"1rem",p:"4px"},children:[(0,E.jsx)(Ts.Z,{children:(0,E.jsx)(Ds.Z,{color:"error",sx:{width:"18px",height:"auto"}})}),(0,E.jsx)(Es.Z,{primary:e.desc,secondary:null,sx:{color:"grey.400"}})]})}))})]}):""]})]}),(0,E.jsx)(D.Z,{direction:"row",sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem",borderRadius:"8px",height:"45px",padding:"6px 8px",gap:"12px",alignItems:"center",backgroundColor:"primary.lighter"},children:"Starter"==(0,te.wo)(this.state.planDetails.name)?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(D.Z,{spacing:"6px",direction:"row",sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)("img",{src:"/images/crown-purple.svg"}),(0,E.jsx)(m.Z,{variant:"text_sm",sx:{marginLeft:"12px",color:"primary.main"},children:"Get more features with Professional and Team Plan!"})]}),(0,E.jsx)(g.Z,{variant:"outlined",sx:{height:"30px"},onClick:function(){return e.props.history.push(b.Z.BaseURL+y.Z.plansList)},children:"Upgrade"})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(m.Z,{variant:"text_sm",sx:{marginLeft:"12px",color:"primary.main"},children:["You can customize your ",(0,te.wo)(n.name)," Plan"]}),(0,E.jsx)(g.Z,{variant:"outlined",sx:{height:"30px",alignSelf:"right"},onClick:function(){return e.props.history.push(b.Z.BaseURL+y.Z.plansList)},children:"Customize Plan"})]})})]})]})})]}),(0,E.jsxs)(Ke.ZP,{item:!0,sx:(0,o.Z)({width:"45%",backgroundColor:"grey.100",borderLeft:"1px solid #E0E0E0",display:"flex",justifyContent:"center",flexDirection:"column"},this.state.updateAddon?{margin:"0 auto",border:"0"}:{}),children:[(0,E.jsxs)(Ke.ZP,{item:!0,sx:{backgroundColor:"grey.0",margin:"24px 40px 24px 40px",gap:"12px",border:"1px solid #E0E0E0",borderRadius:"8px",position:"relative"},children:[this.state.updateAddon&&(0,E.jsxs)(D.Z,{direction:"row",sx:(0,o.Z)({},this.state.updateAddon?{position:"absolute",top:"-40px",margin:"0 0 0 -10px"}:{}),children:[(0,E.jsx)(qe.Z,{"aria-label":"delete",onClick:function(){return e.props.history.push(b.Z.BaseURL+y.Z.plansList)},size:"large",sx:{height:"35px"},children:(0,E.jsx)("img",{src:"/images/pc_back.svg",alt:"back"})}),(0,E.jsx)(m.Z,{variant:"text_2xl",color:"grey.900",children:"Order Summary"})]}),(0,E.jsxs)(D.Z,{spacing:"4px",sx:{margin:"1rem 2rem 0rem 2rem",height:"100px"},children:[0===this.state.couponSuccess.length?(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.900",children:"Coupon code"}):(0,E.jsx)(m.Z,{variant:"text_sm",color:"success.main",children:"Coupon code has been applied!"}),(0,E.jsxs)(D.Z,{horizontalSpacing:"6px",direction:"row",sx:{width:"100%",height:"45px",display:"flex",alignItems:"center"},children:[(0,E.jsx)(As.Z,{placeholder:"Type code here...",sx:{width:"100%",margin:"5px",marginLeft:"0px",border:"0",borderRadius:"8px",backgroundColor:this.state.bgColor},id:"coupon_code",name:"coupon_code",type:"text",value:this.state.coupon_code,onChange:this.handleChange,disabled:!!(this.state.inputPlan||this.state.couponSuccess.length>0)}),(0,E.jsx)(g.Z,{sx:{m:"3px",ml:"3px",backgroundColor:0==this.state.couponSuccess.length?"primary.lighter":"error.main",boxShadow:0,color:0==this.state.couponSuccess.length?"primary.main":"grey.0","&:hover":{backgroundColor:0==this.state.couponSuccess.length?"primary.light":"error.dark",color:"grey.0"}},color:"primary",variant:"contained",onClick:0==this.state.couponSuccess.length?this.onClickApplyCouponCode.bind(this):this.handleClearClick.bind(this),children:0==this.state.couponSuccess.length?"Apply":"Remove"})]}),1==this.state.fetchingCoupon?(0,E.jsx)(m.Z,{variant:"text-xs",color:"info",children:"Validating coupon..."}):"",this.state.couponError.length>0?(0,E.jsx)(m.Z,{variant:"text-xs",color:"error",children:this.state.couponError}):""]}),(0,E.jsx)(D.Z,{spacing:"6px",direction:"row",sx:{m:"0rem 1rem 0rem 1rem",borderTop:"1px solid #E0E0E0",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem 1rem 0.5rem 1rem"},children:(0,E.jsxs)(Ke.ZP,{container:!0,spacing:"6px",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,E.jsx)(Ke.ZP,{item:!0,xs:12,children:(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.900",children:[" ","Immediate charges"]})}),this.state.addonbody&&this.state.addonbody.length>0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.400",children:this.state.showPlanName?(0,te.Ff)(n.name):this.state.addonsLabelForImmediateCharges}),(0,E.jsx)(W.Z,{title:this.state.tooltipForImmediateCharges,placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})})]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_xl",color:"grey.400",sx:{lineHeight:"20px"},children:". . ."}):(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["$",this.state.im_charge_subtotal]})})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.400",children:(0,te.Ff)(n.name)}),(0,E.jsx)(W.Z,{title:this.state.tooltipForImmediateCharges,placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})})]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_xl",color:"grey.400",sx:{lineHeight:"20px"},children:". . ."}):(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["$",0==this.state.im_charge_subtotal?this.state.recurring_charge_subtotal:this.state.im_charge_subtotal]})})]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:(0,E.jsx)(D.Z,{direction:"column",children:(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["Credits available"," ",(0,E.jsx)(W.Z,{title:"Credits available from previous payment",placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})}),"`"]})})}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_xl",color:"grey.400",sx:{lineHeight:"20px"},children:". . ."}):(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["$",this.state.im_Credits_Total]})}),(0,E.jsxs)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.400",sx:{lineHeight:"20px"},children:"Discount applied"}),0!=this.state.initial_discount?(0,E.jsx)(W.Z,{title:"Discount: Your coupon code from current/previous purchase is valid for lifetime on this plan",placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})}):""]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_xl",color:"grey.400",sx:{lineHeight:"20px"},children:". . ."}):(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["$",this.state.initial_discount]})}),(0,E.jsxs)(Ke.ZP,{item:!0,xs:6,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_base",color:"grey.900",children:"Total"}),(0,E.jsx)(W.Z,{title:this.state.isUpgrade?"Price at checkout":this.state.isDowngrade||this.state.im_charge_total<=0?"This plan will activate at the end of your current plan’s cycle. Hence $0 will be charged at checkout now":"Price at checkout",placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})})]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:6,className:"horizontal-right",children:this.state.computingCost||this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_2xl",color:"grey.400",sx:{lineHeight:"28px",ml:"6px"},children:"..."}):(0,E.jsxs)(m.Z,{variant:"text_lg",color:"grey.900",sx:{ml:"6px"},children:["$",this.state.im_charge_total<0?"0.00":this.state.im_charge_total]})})]})}),(0,E.jsx)(D.Z,{spacing:"6px",direction:"row",sx:{m:"0rem 1rem 0rem 1rem",borderTop:"1px solid #E0E0E0",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem 1rem 0.5rem 1rem"},children:(0,E.jsxs)(Ke.ZP,{container:!0,spacing:"6px",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,E.jsx)(Ke.ZP,{item:!0,xs:12,children:(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.900",children:"Charges upon renewal"})}),(0,E.jsxs)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.400",children:(0,te.Ff)(n.name)}),(0,E.jsx)(W.Z,{title:"Reflects the price of your base plan and all add-ons",placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})})]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_xl",color:"grey.400",sx:{lineHeight:"20px"},children:". . ."}):(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["$",this.state.recurring_charge_subtotal.toFixed(2)]})}),(0,E.jsxs)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.400",children:"Discount applied"}),this.state.recurring_discount>0?(0,E.jsx)(W.Z,{title:"Discount: Your coupon code from current/previous purchase is valid for lifetime on this plan",placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})}):""]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_xl",color:"grey.400",sx:{lineHeight:"20px"},children:". . ."}):(0,E.jsxs)(m.Z,{variant:"text_sm",color:"grey.400",children:["$",this.state.recurring_discount]})}),(0,E.jsxs)(Ke.ZP,{item:!0,xs:8,className:"vertical-center",children:[(0,E.jsx)(m.Z,{variant:"text_base",color:"grey.900",children:"Total"}),(0,E.jsx)(W.Z,{title:"Total charge upon renewal",placement:"top-start",arrow:!0,children:(0,E.jsx)(qe.Z,{color:"inherit","aria-label":"info",children:(0,E.jsx)(_s.Z,{sx:{fontSize:"18px",color:"grey.400"}})})})]}),(0,E.jsx)(Ke.ZP,{item:!0,xs:4,className:"horizontal-right",children:this.state.computingCost||this.state.isBusy?(0,E.jsx)(m.Z,{variant:"text_2xl",color:"grey.400",sx:{lineHeight:"28px",ml:"6px"},children:"..."}):(0,E.jsxs)(m.Z,{variant:"text_lg",color:"grey.900",sx:{ml:"6px"},children:["$",this.state.recurring_charge_total,"/",(0,E.jsx)(m.Z,{variant:"text_sm",color:"grey.900",children:"months"===n.interval_unit?"month":"year"})]})})]})}),(0,E.jsx)(Ke.ZP,{item:!0,xs:12,sx:{m:"0rem 1rem 0rem 1rem",borderTop:"1px solid #E0E0E0",display:"flex",alignItems:"center",padding:"0.5rem 1rem 0.5rem 1rem"},children:this.isUnConfirmedSubscription()?(0,E.jsx)(g.Z,{variant:"contained",sx:{margin:"0.5rem",padding:"0.5rem",width:"100%",boxShadow:0},onClick:this.updatePlan,disabled:!0,children:"Proceed"}):(0,E.jsx)(g.Z,{variant:"contained",sx:{margin:"0.5rem",padding:"0.5rem",width:"100%",boxShadow:0},onClick:this.updatePlan,disabled:1==this.state.computingCost,children:"Proceed"})})]}),(0,E.jsx)(m.Z,{variant:"text_xs",sx:{color:"grey.400",m:"-15px 40px 5px 45px",textAlign:"left",display:"block",flexDirection:"column"},children:"Your subscription will automatically renew unless it is canceled at least 24 hours before the end of the current period."})]})]})}),this.state.askForConfirmation&&(0,E.jsx)(gt.default,{icon:this.state.dialogWithButtonAndIcon.icon,iconBgPaletteColor:this.state.dialogWithButtonAndIcon.iconBgPaletteColor,open:!!this.state.dialogWithButtonAndIcon,title:this.state.dialogWithButtonAndIcon.title,message:this.state.dialogWithButtonAndIcon.message,primaryButtonLabel:this.state.dialogWithButtonAndIcon.primaryButtonLabel,primaryButtonOnClick:this.state.dialogWithButtonAndIcon.primaryButtonOnClick,secondaryButtonLabel:this.state.dialogWithButtonAndIcon.secondaryButtonLabel,secondaryButtonOnClick:this.state.dialogWithButtonAndIcon.secondaryButtonOnClick,onClose:function(){return e.setState({askForConfirmation:!1})}}),this.state.areErrors?(0,E.jsx)(gt.default,{icon:(0,E.jsx)(Ns.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:this.state.areErrors,title:this.state.dialogWithButtonAndIcon.title,message:this.state.dialogWithButtonAndIcon.message,message2:this.state.dialogWithButtonAndIcon.message2,primaryButtonLabel:"OK",primaryButtonOnClick:function(){return e.setState({areErrors:!1})},primaryButtonColor:"error.main"}):(0,E.jsx)(E.Fragment,{}),(0,E.jsx)(j.Z,{})]})})):(0,E.jsx)(d.l_,{to:b.Z.BaseURL+y.Z.plansList})}}]),n}(c.Component),Ks=(0,d.EN)((0,l.$j)((function(e){return{upgradePlan:e.subscription.upgradePlan,changePlanData:e.subscription.changePlan,renewSubscriptionResult:e.subscription.renewSubscriptionResult,getPlanByPlanCodeResult:e.orderSummary.getPlanByPlanCodeResult,plan:e.orderSummary.plan,getCouponByCouponCodeResult:e.orderSummary.getCouponByCouponCodeResult,coupon:e.orderSummary.coupon,getCurrentSubscriptionResult:e.orderSummary.getCurrentSubscriptionResult,currentSubscription:e.orderSummary.currentSubscription,getSubscriptionCostResult:e.orderSummary.getSubscriptionCostResult,subscriptionCost:e.orderSummary.subscriptionCost}}),{upgradeFromFreeTrial:Us,changePlan:Ls,startPlanForExistingCustomer:Fs,renewSubscription:Vs,getPlanByPlanCode:Bs,getCouponByCouponCode:Ms,getCurrentSubscription:Gs,getSubscriptionCost:Ws})(Hs)),qs=n(37656),Ys=n(35593),Qs=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s,a,i,o,c,l,u,d,p;if((0,r.Z)(this,n),(p=t.call(this,e)).state={isDowngrade:null===(s=p.props.location)||void 0===s||null===(a=s.state)||void 0===a?void 0:a.isDowngrade,planName:null===(i=p.props.location)||void 0===i||null===(o=i.state)||void 0===o?void 0:o.planName,removeAddonMessage:null===(c=p.props.location)||void 0===c||null===(l=c.state)||void 0===l?void 0:l.removeAddonMessage,addonsLabelForImmediateCharges:null===(u=p.props.location)||void 0===u||null===(d=u.state)||void 0===d?void 0:d.addonsLabelForImmediateCharges,thankYouMsg:""},p.state.planName&&p.state.planName.length>0){var h,m=p.state.planName,g=p.state.planName.toLowerCase(),f=!1;g.includes("video")?(m="Additional video hours",f=!0):g.includes("getty")?(m="Getty visual",f=!0):g.includes("eleven")?(m="ElevenLabs minutes",f=!0):g.includes("starter")?m=g.includes("annual")?"Starter annual":"Starter  monthly":g.includes("professional")?m=g.includes("annual")?"Professional annual":"Professional  monthly":g.includes("teams")&&(m=g.includes("annual")?"Teams annual":"Teams monthly"),h=p.state.addonsLabelForImmediateCharges&&p.state.addonsLabelForImmediateCharges.length>0?"Thank you! Your "+p.state.addonsLabelForImmediateCharges+" add-on subscription on your plan has been updated.":f?"Thank you for purchasing "+m+" add-on! Your plan has been updated.":"Thank you! Your "+m+" plan has been updated",p.state.thankYouMsg=h}return p}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then((function(t){e.setState({user:t}),S().getInstance().logEvent("order-subscribed-page-visited")})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"render",value:function(){var e=this;return(0,E.jsx)("div",{children:(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(Ke.ZP,{sx:(0,o.Z)((0,o.Z)({top:"55px",position:"absolute",height:"calc(100vh - 50px)"},{"@media (min-height:600px)":{pt:"1rem"},"@media (min-height:720px)":{pt:"1rem"},"@media (min-height:768px)":{pt:"1rem"},"@media (min-height:800px)":{mt:"-2rem"}}),{},{backgroundColor:"grey.0",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:0}),children:(0,E.jsxs)(D.Z,{id:"alert-dialog-description",direction:"column",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"522px",border:"1px solid",borderColor:"grey.100",boxShadow:"0px 4px 4px rgba(172, 172, 172, 0.25)",borderRadius:"10px"},children:[(0,E.jsx)(qs.Z,{sx:{width:"100%"},cols:1,children:(0,E.jsx)(Ys.Z,{children:(0,E.jsx)("img",{src:"images/subcription-thankyou.svg",style:{width:"100%",borderTopRadius:"10px"}})},"img1")}),(0,E.jsx)(m.Z,{variant:"text_2xl",sx:{width:"65%",mt:"1.5rem",alignSelf:"center",textAlign:"center"},children:this.state.removeAddonMessage?this.state.removeAddonMessage:this.state.thankYouMsg}),this.state.isDowngrade?(0,E.jsx)(m.Z,{sx:{width:"60%",mt:"1rem",display:"flex",alignSelf:"center",textAlign:"center"},children:"Since you already have credit you will be charged from the next cycle."}):"",(0,E.jsx)(g.Z,{variant:"contained",autoFocus:!0,sx:{mt:"2rem",mb:"2rem",width:"150px",alignSelf:"center",textAlign:"center"},onClick:function(){return e.props.history.push("/"+y.Z.plansList)},children:"Okay"})]})}),(0,E.jsx)(j.Z,{})]})})}}]),n}(c.Component),Xs=(0,d.EN)((0,l.$j)((function(e){return{}}),{})(Qs)),$s=function(e){return e.location.state&&e.location.state.hostedPage?(0,E.jsxs)(c.Fragment,{children:[(0,E.jsx)(he.Z,{history:e.history}),(0,E.jsx)("iframe",{src:e.location.state.hostedPage,height:"850px",style:{marginTop:"50px"}})]}):(e.history.push("/plans"),(0,E.jsx)("div",{}))},ea=(n(1243),n(34862)),ta=n(98390),na=n(20140),ra=n(91977),sa=Z.Z.setupUserSocket,aa=Z.Z.socketConfigured,ia=Z.Z.checkIfReloginRequiredInitiater,oa=Z.Z.getTeamsRequest,ca=Z.Z.getCurrentSubscription,la=Z.Z.setAfterLoginRedirectUrlRequest;function ua(e,t,n){var u=function(c){(0,a.Z)(d,c);var l,u=(0,i.Z)(d);function d(e){var t;return(0,r.Z)(this,d),(t=u.call(this,e)).setUserDateOffset=(0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.g.currentUserCredentials();case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),t.state={validateHigherOrderComponent:!1},t}return(0,s.Z)(d,[{key:"componentWillMount",value:(l=(0,O.Z)((0,N.Z)().mark((function e(){var n,r,s,a,i,o,c,l,u,d,p,h,m,g,f,x,j,w,Z;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.props.location,r=n.pathname,s=n.state,a=n.search,r=r.replace("/",""),i=a?"".concat(r).concat(a):r,r===y.Z.stepThree_scriptToVideo&&a&&a.startsWith("?preview=")&&this.props.setAfterLoginRedirectUrl("".concat(r).concat(a)),this.props.redirectUrl&&(i=this.props.redirectUrl),e.next=8,v.g.currentAuthenticatedUser();case 8:return o=e.sent,ta.Z.Initialize(this.props.history),ta.Z.setContext(o),this.setState({user:o}),(0,te.$Y)({app_version:"e128d02bfa4aa471e853b4cb7e26bcc4a831e380"}),e.next=15,this.setUserDateOffset();case 15:if(r!=y.Z.stepOne&&r!=y.Z.myProjects){e.next=32;break}if(!(c=C.Z.getItem("user:".concat(o.username,"_LoginDate")))){e.next=32;break}return e.prev=18,e.next=21,this.props.checkIfReloginRequired(c);case 21:if(!(l=e.sent)||1!=l.status){e.next=28;break}return v.g.signOut(),C.Z.clear(),this.props.history.push("/"+y.Z.login),S().getInstance().logEvent("signout-checkIfReloginRequired"),e.abrupt("return");case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(18);case 32:if(u=!1,(d=(0,te.we)(o.username))&&d.data&&d.data,"chargebee"!=(null==d?void 0:d.data.organization_id)&&null!=d&&d.data.subscription.plan.plan_code.includes("FreeTrial")&&(u=!0),p=!0,"NotFound"!=(0,te.H8)(o.username)){e.next=45;break}return e.next=41,this.props.getCurrentSubscription(o.attributes.email);case 41:(h=e.sent)&&h.data&&(h.data,h.data.subscription&&(h.data.subscription.status?h.data.subscription.plan&&h.data.subscription.plan.plan_code===Ce.yj.hibernate?p=!1:(m=h.data.subscription.status)===Ce.yG.live||m===Ce.yG.trial||m===Ce.yG.non_renewing||m===Ce.yG.non_renewing2?p=!0:m!==Ce.yG.unpaid&&m!==Ce.yG.expired&&m!==Ce.yG.canceled&&m!==Ce.yG.cancelled&&m!==Ce.yG.trial_expired||(p=!1):p=!1,"chargebee"!=h.data.organization_id&&h.data.subscription.plan.plan_code.includes("FreeTrial")&&(u=!0))),e.next=46;break;case 45:(0,te.eb)(o.username)||t||(p=!1);case 46:return g="chargebee"===d.data.organization_id?"v2":"v1",f=d.data.country_code,e.next=50,(0,na.xx)(o);case 50:if(!1===(x=e.sent)&&(i=y.Z.VerifyEmail),"v2"!==g){e.next=62;break}if((0,te.E3)()){e.next=62;break}if(this.props.subscribedCustomer){e.next=62;break}return e.next=58,this.props.getCurrentSubscription(o.attributes.email);case 58:if(!this.props.subscribedCustomer){e.next=62;break}if(this.props.subscribedCustomer.teamId||this.props.subscribedCustomer.teamUser||!f||!1!==(0,te.bv)(f)||this.props.subscribedCustomer.payment_method){e.next=62;break}return this.props.history.push({pathname:b.Z.BaseURL+y.Z.cards,state:{redirectPath:i}}),e.abrupt("return");case 62:if(!1!==x){e.next=65;break}return r!==y.Z.VerifyEmail?this.props.history.push({pathname:b.Z.BaseURL+y.Z.VerifyEmail,state:{redirectedFrom:r}}):this.setState({validateHigherOrderComponent:!0}),e.abrupt("return");case 65:!1===p||!0===u?(j={},u?j.isZohoFT=!0:j.isExpired=!0,this.props.history.push({pathname:b.Z.BaseURL+y.Z.plansList,state:j})):(0==this.props.isUserSocketConfigured&&(this.props.setupUserSocket(o.username),this.props.socketConfigured(!0)),this.props.redirectUrl&&this.props.redirectUrl.startsWith("".concat(y.Z.stepThree_scriptToVideo,"?preview="))&&"".concat(r).concat(a)!==this.props.redirectUrl?(this.setState({validateHigherOrderComponent:!0}),this.props.history.push({pathname:"/"+this.props.redirectUrl,state:{loadProject:!0}}),this.props.setAfterLoginRedirectUrl("")):(r==y.Z.stepTwo&&s&&s.projectDetails?(w=s.projectDetails.source,(0,te.PW)(o.username)&&this.setState({ComposedComponentAlternative:!0}),"url"==w&&this.props.history.push({pathname:"/"+y.Z.stepTwo_articleToVideo,state:s})):r==y.Z.stepThree&&s&&s.projectDetails&&("url"==(Z=s.projectDetails.source)?this.props.history.push({pathname:"/"+y.Z.stepThree_articleToVideo,state:s}):"script"==Z?this.props.history.push({pathname:"/"+y.Z.stepThree_scriptToVideo,state:s}):"visuals"==Z&&this.props.history.push({pathname:"/"+y.Z.stepThree_visualsToVideo,state:s})),0==r.indexOf(y.Z.stepTwo)||0==r.indexOf(y.Z.stepThree)?this.props.location&&this.props.location.state?this.setState({validateHigherOrderComponent:!0}):(this.setState({validateHigherOrderComponent:!1}),this.props.history.push("/"+y.Z.stepOne)):this.setState({validateHigherOrderComponent:!0}))),t&&this.setState({validateHigherOrderComponent:!0}),this.props.getTeamsRequest(),e.next=73;break;case 70:e.prev=70,e.t1=e.catch(0),this.props.history.push("/"+y.Z.login);case 73:case"end":return e.stop()}}),e,this,[[0,70],[18,30]])}))),function(){return l.apply(this,arguments)})},{key:"render",value:function(){if(ea.tq)return(0,E.jsx)(ra.default,{});if(this.state.validateHigherOrderComponent)return(0,E.jsx)(E.Fragment,{children:this.state.ComposedComponentAlternative?(0,E.jsx)(n,(0,o.Z)({},this.props)):(0,E.jsx)(e,(0,o.Z)({},this.props))});if(this.props.location){var t=this.props.location.pathname;if((t=t.replace("/",""))===y.Z.VerifyEmail||t===y.Z.login||t===y.Z.signUp||t===y.Z.userQuestionnaire)return(0,E.jsx)(Ke.ZP,{sx:{backgroundImage:"url(".concat("https://pictory-static.pictorycontent.com/signupbg_1080p.jpg",")"),width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundSize:"100%",alignItems:"center",backgroundColor:"#15161c"},children:(0,E.jsx)(h.Z,{className:"dot-flashing"})})}return(0,E.jsx)("div",{})}}]),d}(c.Component);return(0,l.$j)((function(e){return{isUserSocketConfigured:e.userPushNotification.isUserSocketConfigured,reloginRequired:e.login.reloginRequired,currentSubscription:e.subscription.currentSubscription,subscribedCustomer:e.subscription.subscribedCustomer,cardAdded:e.userPaymentCard.cardAdded,redirectUrl:e.userLogin.redirectUrl}}),{setupUserSocket:sa,socketConfigured:aa,checkIfReloginRequired:ia,getTeamsRequest:oa,getCurrentSubscription:ca,setAfterLoginRedirectUrl:la})(u)}var da=Z.Z.getCurrentSubscription,pa=Z.Z.getHostedPageDetails,ha=Z.Z.updateCard,ma=Z.Z.changePlanDispatcher,ga=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).tryAgain=function(e){S().getInstance().logEvent("clicked-try-again",{"plan-name":s.state.paymentInfo.name}),s.props.history.push({pathname:b.Z.BaseURL+y.Z.orderSummary,state:{planDetails:s.state.paymentInfo,currentPlan:da(s.state.user.username),isFreeTrial:!1,isUserNotSubscribed:!1,isUpgrade:!0}})},s.editCard=function(){s.setState({loading:!0}),S().getInstance().logEvent("credit-card-updated");var e=(0,te.we)(s.state.user.username),t=e.subscription_id,n=s.state.user.username,r=null;"chargebee"==e.data.organization_id&&(r=e.customer_id),s.props.updateCard({subId:t,userId:n,redirectURL:{payment_success_redirect_url:(0,te.rv)(y.Z.plansList)},customer_id:r})},s.getPlanName=function(e,t,n){var r="";return e&&e.invoice_items&&e.invoice_items.length>0&&(e.invoice_items[0].code&&e.invoice_items[0].name||e.invoice_items[0].code&&e.invoice_items[0].description)?r=(0,te.Gz)(e.invoice_items[0].name||e.invoice_items[0].description):t&&t.subscription?r=(0,te.Gz)(t.subscription.name):n&&(r=(0,te.Gz)(n)),r},s.getPlanName_Legacy=function(e,t,n){var r="";return e&&e.invoice_items&&e.invoice_items.length>0&&e.invoice_items[0].code&&e.invoice_items[0].name?r=(0,te.pn)(e.invoice_items[0].name):t&&t.subscription?r=(0,te.pn)(t.subscription.name):n&&(r=(0,te.pn)(n)),r},s.logPaymentSuccessEvent=function(e,t,n){try{s.state.isPaymentSucces&&S().getInstance().logEvent("plan-purchased",{"plan-name":s.getPlanName_Legacy(e,t,n)})}catch(e){}},s.state={paymentInfo:s.props.location&&s.props.location.state&&s.props.location.state.paymentData||{},loading:!1,user:{},isPaymentSucces:!1},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then((function(t){e.setState({user:t}),S().getInstance().logEvent("order-status-page-visited"),e.props.getCurrentSubscription(t.username);var n=e.state.paymentInfo,r=n.message,s=n.customer,a=n.name;if(r&&""!=r?S().getInstance().logEvent("payment-failed",{reason:r,"plan-name":s&&s.subscription?(0,te.pn)(s.subscription.name):a?(0,te.pn)(a):""}):(e.setState({isPaymentSucces:!0}),S().getInstance().logEvent("payment-successful",{"plan-name":s&&s.subscription?(0,te.pn)(s.subscription.name):a?(0,te.pn)(a):""})),e.props.history&&e.props.history.location&&e.props.history.location.search){var i,o=new URLSearchParams(e.props.history.location.search),c=Object.fromEntries(o.entries());i=c.hostedpage_id?c.hostedpage_id:c.id,e.setState({hostedPageId:i,loading:!0}),e.props.getHostedPageDetails({userId:t.username,hostedPageId:i})}})).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.props.hostedPageURL!==e.hostedPageURL&&(this.setState({isActive:!1}),this.props.history.push({pathname:b.Z.BaseURL+y.Z.payment,state:{hostedPage:e.hostedPageURL}})),this.props.hostedPageDetails!==e.hostedPageDetails&&(this.props.changePlanDispatcher({data:e.hostedPageDetails.customer,status:"success"}),S().getInstance().logEvent("first-plan-purchased"),this.setState({paymentInfo:e.hostedPageDetails,loading:!1}))}},{key:"render",value:function(){var e,t=this,n=this.state.paymentInfo,r=n.message,s=n.customer,a=n.invoice,i=n.name,o=n.price,c="";null!=a&&a.invoice_number?c=null==a?void 0:a.invoice_number:null!=a&&a.invoice_id&&(c=null==a?void 0:a.invoice_id),null!=a&&a.payment_made?e=null==a?void 0:a.payment_made:null!=a&&a.amount_paid?e=null==a?void 0:a.amount_paid:null!=a&&a.total?e=null==a?void 0:a.total:o&&(e=o);var l=this.getPlanName(a,s,i),d=!0;return r&&""!=r&&(d=!1),(0,E.jsx)("div",{children:(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(ue.Z,{active:this.state.isActive,spinner:!0,text:"Please wait..."}),(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)("div",{className:"page-content d-flex align-items-stretch",children:(0,E.jsx)("main",{className:"content-inner",children:(0,E.jsx)("div",{className:"row align-items-center pt-8 wl-text m-0",children:(0,E.jsx)("div",{className:"col-md-6 fix-wide mx-auto",children:(0,E.jsx)("div",{className:"jumbotron p-0",children:(0,E.jsx)("div",{className:"row order-summary-container",children:(0,E.jsxs)("div",{className:"col col-md-8 card card-block",children:[(0,E.jsx)("div",{className:d?"green-line":"red-line"}),(0,E.jsxs)("div",{className:"branding-container",children:[(0,E.jsx)("img",{src:"/icons/logo-octopus.png",alt:"logo-octopus.png"}),(0,E.jsx)("span",{className:"text",children:r?"Payment failed":"Payment successful"})]}),(0,E.jsxs)("div",{className:"card-body text-center",children:[(0,E.jsxs)("div",{className:"order-summary-row",children:[(0,E.jsxs)("div",{className:"text left",children:[(0,E.jsx)("span",{className:"order-key",children:"Selected plan"}),(0,E.jsx)("span",{className:"order-value",children:l||(0,E.jsx)(Ue.PCircularProgress,{})})]}),(0,E.jsx)("div",{className:"text right",children:(0,E.jsx)("span",{className:"order-price",children:e?"$ "+e:""})})]}),(0,E.jsx)("div",{className:"order-summary-row",children:(0,E.jsxs)("div",{className:"text left",children:[(0,E.jsx)("span",{className:"order-key",children:"Payment date"}),(0,E.jsx)("span",{className:"order-value",children:Tt()().format("DD MMM YYYY")})]})}),!r&&(0,E.jsx)("div",{className:"order-summary-row",children:(0,E.jsxs)("div",{className:"text left",children:[(0,E.jsx)("span",{className:"order-key",children:"Invoice number"}),(0,E.jsx)("span",{className:"order-value",children:c})]})})||(0,E.jsx)("div",{className:"order-summary-row",children:(0,E.jsxs)("div",{className:"text left",children:[(0,E.jsx)("span",{className:"order-key",children:"reason"}),(0,E.jsx)("span",{className:"order-value negative",children:r})]})}),!r&&(0,E.jsxs)("div",{className:"order-summary-row have-buttons",children:[(0,E.jsx)("div",{className:"text left",children:(0,E.jsx)(g.Z,{variant:"outlined",sx:{width:"120px",height:"35px"},onClick:function(){S().getInstance().logEvent("clicked-print-button"),window.open(a?a.invoice_url:"")},disabled:!l,children:"Print"})}),(0,E.jsx)("div",{className:"text right",children:(0,E.jsx)(g.Z,{variant:"contained",sx:{width:"120px",height:"35px"},onClick:function(){t.logPaymentSuccessEvent(a,s,i),t.props.history.push({pathname:"/"+y.Z.orderSubscribed,state:{isDowngrade:!1,planName:t.getPlanName(a,s,i)}})},disabled:!l,children:"OK"})})]})||(0,E.jsxs)("div",{className:"order-summary-row have-buttons",children:[(0,E.jsx)("div",{className:"text left",children:(0,E.jsx)("button",{className:"cancel-button button",style:{width:"205px"},onClick:this.editCard,children:"Update Card"})}),(0,E.jsx)("div",{className:"text right",children:(0,E.jsx)("button",{className:"upgrade-button button",style:{width:"200px"},onClick:this.tryAgain,children:"Try Again"})})]})]})]})})})})})})}),(0,E.jsx)(j.Z,{})]})})}}]),n}(c.Component),fa=(0,d.EN)((0,l.$j)((function(e){return{hostedPageDetails:e.subscription.hostedPageDetails.data,hostedPageURL:e.subscription.upgradePlan.hostedPageURL,currentSubscription:e.subscription.currentSubscription}}),{getCurrentSubscription:da,getHostedPageDetails:pa,updateCard:ha,changePlanDispatcher:ma})(ga)),va=n(1583),xa=n(8512),Sa=(n(50933),Z.Z.hideAlertNotificationRequest),ya=function(e){return{toastNotification:e.pushNotification.toastNotification,notificationProps:e.alertNotification.notificationProps,overlayProps:e.loadingOverlay.overlayProps}},ba=function(e,t){return(0,l.$j)(ya,{hideAlertNotification:Sa})(function(e,t){ea.tq&&(t=!1);var n=function(n){(0,a.Z)(l,n);var c=(0,i.Z)(l);function l(){var t;(0,r.Z)(this,l);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=c.call.apply(c,[this].concat(s))).getComposedComponent=function(){window.userGuiding&&window.userGuiding.hideChecklist&&window.userGuiding.hideChecklist(14433);try{var n,r,s,a;if(null!==(n=(0,p.Z)(t))&&void 0!==n&&null!==(r=n.props)&&void 0!==r&&null!==(s=r.history)&&void 0!==s&&null!==(a=s.location)&&void 0!==a&&a.search){var i=new URLSearchParams(t.props.history.location.search).get("workspace");i&&(0,te.A)(i)}}catch(e){}return t.props.history&&t.props.history.location&&t.props.history.location.state&&t.props.history.location.state.reloadPage&&t.props.history.location.state.reloadKey?(0,E.jsx)(e,(0,o.Z)({},t.props),t.props.history.location.state.reloadKey):(0,E.jsx)(e,(0,o.Z)({},t.props))},t.onAlertClose=function(){t.props.hideAlertNotification()},t}return(0,s.Z)(l,[{key:"componentWillReceiveProps",value:function(e){e.toastNotification&&e.toastNotification!==this.props.toastNotification&&(e.toastNotification.message&&(0,w.JQ)(e.toastNotification.message),e.toastNotification.error&&(0,w.x2)(e.toastNotification.error))}},{key:"componentDidUpdate",value:function(e){t&&(t=!1)}},{key:"render",value:function(){return(0,E.jsxs)(E.Fragment,{children:[this.getComposedComponent(),(0,E.jsx)(Ue.AlertNotification,{show:this.props.notificationProps.showAlert,title:this.props.notificationProps.alertTitle,message:this.props.notificationProps.alertMessage,severity:this.props.notificationProps.alertSeverity,anchor:this.props.notificationProps.alertAnchor,onClose:this.onAlertClose}),(0,E.jsx)(ue.Z,{spinner:!0,active:!!t||this.props.overlayProps.show,text:"Please wait..."}),(0,E.jsx)(xa.Ix,{})]})}}]),l}(c.Component);return n}(e,t))},ja=n(14237),wa=Z.Z.forgotPassword,Za=Z.Z.forgotPasswordSubmit,ka=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).handleChange_newPwd=function(e){var t=(0,o.Z)({},s.state.error);if(e){var n;delete t.password;var r=e;s.setState((n={},(0,He.Z)(n,"password",r),(0,He.Z)(n,"error",t),n))}},s.handleChange_confPwd=function(e){var t=(0,o.Z)({},s.state.error);if(e){var n;delete t.confirmPassword;var r=e;s.setState((n={},(0,He.Z)(n,"confirmPassword",r),(0,He.Z)(n,"error",t),n))}},s.backToLogin=function(e){e&&e.preventDefault(),s.props.history.push("/")},s.verifyCode=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,a,i,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={},!s.state.resetingPassword){e.next=4;break}return e.abrupt("return");case 4:if(s.state.password?s.state.password.length>=8&&s.state.password.match(/[a-z]/)&&s.state.password.match(/[A-Z]/)&&s.state.password.match(/[^a-zA-Z0-9]/)?s.state.confirmPassword?s.state.confirmPassword!=s.state.password&&(n.confirmPassword="Password and confirm password does not match"):n.confirmPassword="Please re-enter password":n.password="Password should\n• be at least 8 characters long\n• contain uppercase & lowercase letters\n• contain 1 special character":n.password="Please enter new password",s.setState({error:n}),!(Object.keys(n).length>0)){e.next=8;break}return e.abrupt("return");case 8:return s.setState({resetingPassword:!0}),e.next=11,s.props.forgotPasswordSubmit({userName:s.state.username,verificationCode:s.state.code||s.state.verificationCode,newPassword:s.state.password});case 11:s.setState({resetingPassword:!1}),r=s.props.verificationStatus,a=r.code,i=r.message,"success"===a?s.backToLogin():((c=(0,o.Z)({},s.state.error)).verificationCode=i,s.setState({error:c}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={error:{},resetingPassword:!1,code:"",verificationCode:"",username:"",email:""},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then((function(t){e.props.history.push(b.Z.BaseURL+y.Z.stepOne)})).catch((function(e){}));var t=Os.parse(this.props.location.search);this.setState({code:t.code,verificationCode:t.verificationcode,username:t.username,email:t.email}),this.setState({bgImageLoaded:!0})}},{key:"getResetPwdForm",value:function(){return(0,E.jsx)(Ke.ZP,{sx:{mt:"15%",flexGrow:1,justifyContent:"center"},container:!0,children:(0,E.jsx)("form",{onSubmit:this.verifyCode,style:{position:"relative",width:"30%"},children:(0,E.jsxs)(D.Z,{spacing:3,sx:{width:"100%"},children:[(0,E.jsxs)(Ke.ZP,{container:!0,sx:{justifyContent:"center",height:"60px"},direction:"row",children:[(0,E.jsx)(m.Z,{variant:"h4",sx:{justifyContent:"center",mb:"20px"},children:"Reset Password"}),this.state.error.verificationCode?(0,E.jsx)("label",{style:{color:"red"},children:"Invalid verification code provided, please try again."===this.state.error.verificationCode?"Invalid verification code. Please try again":this.state.error.verificationCode}):""]}),(0,E.jsx)(Ke.ZP,{container:!0,sx:{width:"100%"},children:(0,E.jsx)(Ue.PasswordTextField,{value:this.state.password,onChange:this.handleChange_newPwd,validate:!1,label:"New password",id:"newpassword",name:"password"})}),(0,E.jsx)(Ke.ZP,{container:!0,sx:{width:"100%"},children:(0,E.jsx)(Ue.PasswordTextField,{value:this.state.confirmPassword,onChange:this.handleChange_confPwd,validate:!1,label:"Confirm password",id:"confirmPassword",name:"confirmPassword"})}),(0,E.jsx)(Ke.ZP,{container:!0,sx:{justifyContent:"center",height:"30px",mt:"10px"},direction:"row",children:(0,E.jsx)(g.Z,{type:"submit",variant:"contained",sx:{width:"170px",textTransform:"unset"},children:this.state.resetingPassword?"Reseting password...":"Save"})}),(0,E.jsx)("br",{}),this.state.error.password&&(0,E.jsx)("label",{className:"error",style:{color:"red",fontSize:"12px"},children:this.state.error.password}),this.state.error.confirmPassword&&(0,E.jsx)("label",{className:"error",style:{color:"red",fontSize:"12px"},children:this.state.error.confirmPassword})]})})})}},{key:"render",value:function(){return(0,E.jsx)(ja.Z,{injectFirst:!0,children:(0,E.jsx)(Ke.ZP,{container:!0,sx:{flexGrow:1,justifyContent:"center"},direction:"column",children:(0,E.jsx)(Ue.SplitLayoutPanel,{sx:{width:"100%",height:"100%",borderRadius:"5px"},showHeader:!0,header:(0,E.jsx)(Ue.HomeLogo,{}),mainContent:this.getResetPwdForm(),rightContent:(0,E.jsx)(Ke.ZP,{container:!0,sx:{"background-image":"url(/images/testimonial_background.png)","background-repeat":"no-repeat","background-position":"center","background-size":"cover",flexGrow:1,justifyContent:"center"},direction:"column",children:(0,E.jsx)(Ue.Testimonials,{sx:{ml:"16%",width:"60%"}})}),mainContentWidth:"60%",rightContentWidth:"40%"})})})}}]),n}(c.Component),Ca=(0,d.EN)((0,l.$j)((function(e){return{verificationStatus:e.login.verificationStatus}}),{forgotPassword:wa,forgotPasswordSubmit:Za})(ka));function Ia(e){var t=c.useState(),r=(0,Ie.Z)(t,2),s=r[0],a=r[1];return c.useEffect((function(){(0,O.Z)((0,N.Z)().mark((function e(){var t;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Promise.all([n.e(216),n.e(130)]).then(n.bind(n,68130));case 3:t=e.sent.default,e.next=9;break;case 6:return e.next=8,n.e(143).then(n.bind(n,27143));case 8:t=e.sent.default;case 9:a(t);case 10:case"end":return e.stop()}}),e)})))()}),[]),s?(0,E.jsx)(s,(0,o.Z)({},e)):(0,E.jsx)("div",{})}var Ta=n(72973),Ea=n(30194),Aa=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).onDocumentKeyDown=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.code||"space"!==t.code.toLowerCase()){e.next=11;break}if(!(n=t.srcElement||t.target).tagName||"body"!==n.tagName.toLowerCase()){e.next=11;break}if(!s.state.isPlaying){e.next=7;break}s.pause(),e.next=9;break;case 7:return e.next=9,s.play();case 9:return t.preventDefault&&t.preventDefault(),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.pause=function(){if(S().getInstance().logEvent("video-editing-pause-preview",{"media-url":s.props.src}),s.videoRef){s.onVideoPlaying=null,s.videoRef.pause(),s.props.onPausePreview();var e=s.videoRef.currentTime;s.setState({currentTime:e,isPaused:!0,isPlaying:!1,sentenceIndex:s.state.pausableIndex})}},s.play=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,a,i,o,c,l,u,d,p,h,m,g,f,v,x;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S().getInstance().logEvent("video-editing-play-preview",{"media-url":s.props.src}),s.onVideoPlaying=null,t={},n=s.props.getSentenceListAndWordIdentifiersForPreview(null,t),r=n.rootSentenceNode,a=n.lastSentenceNode,i=n.nextSentenceIndex,o=n.playOnlyHighlightSentence,c=!0,l=s.props.createTimeMarkersArrayForPreview(),u=l.timeMarkers,d=l.nextSentenceIndex,p=l.playOnlyHighlightSentence,h=!0,m=r,g=s.state.currentTime?s.state.currentTime:s.props.videoStartTime,f=m;case 17:if(!m){e.next=25;break}if(!(g>=m.sentence.startTime)){e.next=22;break}return f=m,m=m.next,e.abrupt("continue",17);case 22:return e.abrupt("break",25);case 25:if(m=f,!s.videoRef){e.next=36;break}return v=0,x=null,s.onVideoPlaying=(0,O.Z)((0,N.Z)().mark((function e(){var r,g,S,y,b;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h&&v===u.length-1||c&&m&&(!m.next||!m.next.next))){e.next=6;break}return s.videoRef.pause(),h&&v===u.length-1&&(l=s.props.createTimeMarkersArrayForPreview(d,p),p=l.playOnlyHighlightSentence,l.timeMarkers.length>0?(u=u.concat(l.timeMarkers),d=l.nextSentenceIndex):h=!1),!c||!m||m.next&&m.next.next||(n=s.props.getSentenceListAndWordIdentifiersForPreview(i,t,o),o=n.playOnlyHighlightSentence,n.rootSentenceNode?(a.next=n.rootSentenceNode,a=n.lastSentenceNode,i=n.nextSentenceIndex):c=!1),e.next=6,s.videoRef.play();case 6:if(r=parseFloat(s.videoRef.currentTime.toFixed(2)),!(g=t[parseInt(r)])){e.next=19;break}S=null,y=g.length-1;case 11:if(!(y>-1)){e.next=18;break}if(!(r>=g[y].start_time&&r<=g[y].end_time)){e.next=15;break}return S=g[y],e.abrupt("break",18);case 15:y--,e.next=11;break;case 18:S&&S!==x&&(" ".concat(S.word),s.state.isPlaying&&s.props.markCurrentSpeakingWord(S.word+"_"+S.wordIndex+"_"+S.sentenceIndex,S.wordIndex,S.sentenceIndex,S.start_time),x=S);case 19:if(!(s.videoRef.paused||u.length>0&&s.videoRef.currentTime>=u[u.length-1].end-.15)){e.next=25;break}return s.onVideoPlaying=null,s.videoRef.pause(),s.props.onPausePreview(),s.setState({isPaused:!0,isPlaying:!1,sentenceIndex:void 0,currentTime:null}),e.abrupt("return");case 25:if(!u[v]){e.next=51;break}if(!m){e.next=38;break}f=m,m=m.next;case 29:if(!m){e.next=37;break}if(!(s.videoRef.currentTime>=m.sentence.startTime)){e.next=34;break}return f=m,m=m.next,e.abrupt("continue",29);case 34:return e.abrupt("break",37);case 37:m=f;case 38:if(m&&s.videoRef.currentTime>=m.sentence.startTime&&(s.setState({selectedSubSentece:m.sentence}),m=m.next),!(s.videoRef.currentTime>=u[v].end-.15)){e.next=51;break}if(!(v<=u.length-1)){e.next=51;break}if(v++,"",b=u[v]?s.state.sentenceIndex?u[v].sentenceIndex>=s.state.sentenceIndex?u[v].sentenceIndex:s.state.sentenceIndex:u[v].sentenceIndex:u.length-1,s.setState({pausableIndex:b}),!(u[v]&&s.videoRef.currentTime<u[v].start)){e.next=51;break}return s.videoRef.pause(),s.videoRef.addEventListener("seeked",function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.isPaused){e.next=4;break}return e.next=3,s.videoRef.play();case 3:s.onVideoPlaying&&window.requestAnimationFrame(s.onVideoPlaying);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{once:!0}),s.videoRef.currentTime=u[v].start,e.abrupt("return");case 51:s.onVideoPlaying&&window.requestAnimationFrame(s.onVideoPlaying);case 52:case"end":return e.stop()}}),e)}))),s.videoRef.currentTime=g,s.setState({isPaused:!1,isPlaying:!0}),e.next=34,s.videoRef.play();case 34:u.length>0&&m&&(s.setState({selectedSubSentece:m.sentence,currentTime:null}),m=m.next),s.onVideoPlaying&&window.requestAnimationFrame(s.onVideoPlaying);case 36:case"end":return e.stop()}}),e)}))),s.getTotalVideoTime=function(){for(var e=0,t=0;t<s.props.timeMarkers.length;t++){var n=s.props.timeMarkers[t],r=n.end,a=n.start;r!=a&&(e+=r-a)}return be.Z.secondsToMinutesRepresentationHuman(e)},s.onSubtitleChange=function(e){s.setState({subtitle:e.target.checked},(function(){s.props.changeSubtitle(s.state.subtitle)}))},s.updateSelectedSubSentece=function(e,t,n){for(var r=s.props.getSubSentenceWords(e,t,!1).subSentenceWords,a=null,i=0;i<r.length;i++){var o=r[i];o[0].start_time<=n&&o[o.length-1].end_time>=n&&(a={words:o,startTime:o[0].start_time,endTime:o[o.length-1].end_time})}s.setState({selectedSubSentece:a})},s.getSentences=function(){if(s.state.selectedSubSentece&&s.state.selectedSubSentece.words){var e=s.props.getSubsentenceWordsLines(s.state.selectedSubSentece.words);return 1!==e.length||e[0]?e:[]}return[]},s.setAnimationContainerRef=function(e){s.animationContainerRef=e},s.getScaledFontSize=function(){var e=26;try{var t=window.getComputedStyle(s.animationContainerRef);return(e=be.Z.convertPttoPx(s.props.sceneStyle.fontSize||e))*(parseFloat(t.height)/s.props.videoHeight)}catch(e){}return e},s.state={currentTime:0,isPaused:!0,isPlaying:!1,subtitleType:"static",subtitle:!0,selectedSubSentece:null},s.onVideoPlaying=null,s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onDocumentKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onDocumentKeyDown)}},{key:"componentWillReceiveProps",value:function(e){if(e.sentenceIndex!=this.props.sentenceIndex||this.props.refreshSentence!=e.refreshSentence){var t=[];e.selectedSentences.map((function(e,n){t.push(e)}));var n=t[e.sentenceIndex];n&&(this.videoRef&&(this.videoRef.pause(),this.onVideoPlaying=null,this.props.removeSpeakingWord()),this.setState({sentenceIndex:e.sentenceIndex,currentTime:null,isPaused:!0,isPlaying:!1}),this.updateSelectedSubSentece(e.sentenceIndex,n,e.videoStartTime))}if(e.src!=this.props.src||e.subtitlesLineCount!==this.props.subtitlesLineCount){this.videoRef&&(this.videoRef.pause(),this.onVideoPlaying=null,this.props.removeSpeakingWord()),this.setState({currentTime:null,isPaused:!0,isPlaying:!1});var r=[];e.selectedSentences.map((function(e,t){r.push(e)}));var s=r[e.sentenceIndex];s&&this.updateSelectedSubSentece(e.sentenceIndex,s,e.videoStartTime)}}},{key:"render",value:function(){var e=this,t=this.props.getElementSceneStyle(),n=".sentences p {font-family: ".concat(t.fontName,"; color: ").concat(t.fontColor,"!important; font-weight: ").concat(t.fontWeight,"!important;}");n+=" .sentences p {background-image: linear-gradient(".concat(t.textBackgroundColor,", ").concat(t.textBackgroundColor,")!important;}"),n+=" .sentences p strong {color: ".concat(t.keywordColor,"!important;} "),this.props.timeMarkers&&this.props.timeMarkers[this.props.timeMarkers.length-1]&&this.props.timeMarkers[this.props.timeMarkers.length-1].end;var r=this.getSentences();return(0,E.jsxs)("div",{className:"col-md-6 fill-height p-4 white-background",children:[(0,E.jsx)("h5",{className:"black bold font-size-45 mt-2",children:"Video preview"}),(0,E.jsxs)("div",{className:"article-block-right white-background p-4",children:[(0,E.jsx)("style",{children:n}),(0,E.jsxs)("figure",{ref:this.setAnimationContainerRef,className:["figure-block","gray-box-shadow animation-container mb-0 no-bottom-border-radius",Ta.Z.className,this.props.aspectRatioClass].join(" "),style:{fontSize:this.getScaledFontSize()+"px",color:this.props.sceneStyle.fontColor,boxShadow:"none"},children:[(0,E.jsxs)("div",{className:"no-bottom-border-radius background from-search",children:[(0,E.jsx)("div",{className:"bg-mask no-bottom-border-radius"}),(0,E.jsx)("video",{controls:!1,className:"no-bottom-border-radius",style:{height:"100%",width:"100%"},ref:function(t){return e.videoRef=t},src:this.props.src+"#t="+(0===this.props.videoStartTime?.1:this.props.videoStartTime)})]}),"",this.props.isSubtitleEnabledValue&&this.state.selectedSubSentece&&this.state.selectedSubSentece.words&&this.state.selectedSubSentece.words.length>0&&r.length>0?(0,E.jsxs)("div",{className:["sentences","have-theme-coordinates"].join(" "),style:{width:"70%",position:"absolute"},children:[(0,E.jsx)("div",{className:"head-strokeline"}),r.map((function(e,t){return(0,E.jsx)("p",{children:(0,E.jsx)("span",{children:e})},t)}))]}):(0,E.jsx)(E.Fragment,{})]}),(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between mt-4",children:[!1,(0,E.jsxs)("div",{id:"subtitles-buttons",style:{display:"flex",flexDirection:"column",width:"200px"},children:[(0,E.jsxs)("span",{className:"bold",style:{marginBottom:"5px"},children:[(0,E.jsx)("span",{children:"Show subtitles"}),(0,E.jsxs)("label",{className:"switch mb-0 ml-1",children:[(0,E.jsx)("input",{type:"checkbox",checked:this.props.isSubtitleEnabledValue,onChange:function(t){return e.props.isSubtitleEnabled(t.target.checked)}}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsx)(Ea.Z,{max:5,min:1,value:this.props.subtitlesLineCount,onChange:this.props.onSubtitlesLineCountChange})]}),this.state.isPlaying&&(0,E.jsx)("a",{className:"play-button",onClick:this.pause,children:(0,E.jsx)("i",{className:"fa fa-pause black","aria-hidden":"true"})})||"",this.state.isPaused&&(0,E.jsx)("a",{className:"play-button",onClick:this.play,children:(0,E.jsx)("i",{className:"fa fa-play black","aria-hidden":"true"})}),(0,E.jsxs)("span",{className:"black bold font-size-3 right-aligned",children:[(0,E.jsx)("i",{className:"fa fa-clock-o gray mr-1 small","aria-hidden":"true"}),this.getTotalVideoTime()]})]})]})]})}}]),n}(c.Component),_a=Aa,Ra=n(31881),Pa=n.n(Ra),Na=n(76290),Oa=n(7211),Da=n(89554),Ua=Z.Z.getCurrentSubscription,La=Z.Z.transcriptionSummaryInitiate,Fa=Z.Z.uploadImage,Va=Z.Z.saveProject,Ba=Z.Z.getProjectNameBegin,Ma=Z.Z.getBrandSettings,Ga=Z.Z.downloadResources,Wa=Z.Z.storeUndoableTranscriptionData,za=Z.Z.undo,Ja=Z.Z.redo,Ha=Z.Z.getInProgressProjects,Ka=Z.Z.summarizeTranscription,qa=Z.Z.showErrorNotification,Ya=Z.Z.resetTranscriptionMedia,Qa=Z.Z.saveTranscriptionSummaryRequest,Xa=Z.Z.generateVideo,$a=10,ei=[".",",",":","!","?"],ti=function(e){(0,a.Z)(l,e);var t,n=(0,i.Z)(l);function l(e){var t;return(0,r.Z)(this,l),(t=n.call(this,e)).onDocumentMouseUp=function(e){if(!e.target.classList.contains("vertical-flex")&&!e.target.classList.contains("fa-times-circle")){if(t.showOnSelectMenuOptions){if(t.state.showHighlightedTab)return;t.showOnSelectMenuOptions=!1;var n=e.pageY,r=e.pageX;if(t.wordElementReferences&&t.state.selectedSentences&&t.state.selectedSentences.length>0){var s="".concat(0,"_",0),a="".concat(t.state.selectedSentences.length-1,"_").concat(t.state.selectedSentences[t.state.selectedSentences.length-1].words.length-1),i=t.wordElementReferences[s],o=t.wordElementReferences[a];if(o&&i){var c=i.getBoundingClientRect(),l=o.getBoundingClientRect();r<c.left?r=c.left:r>l.right&&(r=l.right),n<c.top?n=c.top:n>l.top&&(n=l.top)}}t.showFloatingOptionMenu(n,r,"selection")}t.hideInProgressTasks()}},t.hideInProgressTasks=function(){var e=document.querySelector("#notification-bell-dropdown.show");e&&e.classList.remove("show");var t=document.querySelector("#notification-bell-dropdown .dropdown-menu.show");t&&t.classList.remove("show")},t.onDocumentSelectionChanged=function(e){var n=window.getSelection(),r=n?n.toString():"";n&&r&&""!=r.trim()?t.showOnSelectMenuOptions=!0:t.showOnSelectMenuOptions=!1},t.onDocumentKeyUp=function(e){if(e.key&&"delete"===e.key.toLowerCase()){t.toggleMenu("hide");var n=e.srcElement||e.target;n.tagName&&"body"===n.tagName.toLowerCase()&&t.setDeleteTextAndDelete(e)}},t.setSentences=function(e,n){n&&n.length>0&&(n[0].uid||n.forEach((function(e){return e.uid=(0,ct.Z)()}))),t.setState({transcribe_sentences:e||[],projectName:(0,te.A2)(t.state.projectDetails.projectName),saveDate:t.state.projectDetails.saveDate,selectedSentences:n||[]},(function(){(t.state.transcribe_sentences.length<1||t.state.selectedSentences.length<1)&&t.setState({isTranscriptionEmpty:!0,isCheckingBackup:!1}),t.storeUndoableData(),t.createPercentageArray(),t.getFillerWords(),t.createTimeMarkersArray(!0),t.selectFirstWordOnLoad(),t.setState({areSilencesRemoved:t.checkSilencesRemoved(),showSilencePopup:!1,silencesErrorMsg:""}),t.props.location&&t.props.location.state&&t.props.location.state.saveProjectFirst&&t.setState({isAnyChange:!0,callNotificationAPI:!0})}))},t.getFillerWords=(0,O.Z)((0,N.Z)().mark((function e(){var n,r,s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ce.rD,e.prev=1,e.next=4,(0,Re.d)();case 4:return e.next=6,Te.Ke.get(t.fillerWordsURL,{level:"private",download:!0,cacheControl:"no-store, max-age=0"});case 6:return r=e.sent,e.next=9,new Response(r.Body).json();case 9:n=e.sent,e.next=19;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,(0,Re.d)();case 16:return e.next=18,Te.Ke.put(t.fillerWordsURL,JSON.stringify(n),{level:"private",contentType:"application/json",cacheControl:"no-store",expires:0});case 18:e.sent;case 19:s=n.reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{}),t.setState({fillerWords:s});case 21:case"end":return e.stop()}}),e,null,[[1,12]])}))),t.stopPropagation=function(e){e.stopPropagation()},t.onParentViewMouseDown=function(e){t.toggleMenu("hide")},t.saveProjectDetails_debounce=at().debounce((function(){return t.saveProjectDetails()}),1500),t.saveProjectDetails=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r,s,a,i,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setState({saveButtonText:"Saving",disableNextButton:!0}),n||t.state.selectPercentage||t.storeUndoableData(),(r=(0,o.Z)({},t.state.projectDetails)).projectName=t.state.projectName?t.state.projectName:"Untitled Project",r.inProgress=!1,r.currentState=Ce.yc.TRANSCRIBED,r.saveDate=new Date,r.isSubtitleEnabled=t.state.isSubtitleEnabled,r.isRemoveFillers=t.state.isRemoveFillers,r.isSummarized=t.state.isSummarized,r.summarizePercent=t.state.summarizePercent,r.isNewProject=!0,r.subtitlesLineCount=t.state.subtitlesLineCount,r.articleUrl||(r.articleUrl=t.state.url),delete r.transcribe_sentences,delete r.selectedSentences,r.scenes&&delete r.scenes,delete r.imageAssests,s={summaryResponse:t.state.data,project:r,value:t.state.value,totalLines:t.state.totalLines,lines:t.state.lines,transcribe_sentences:t.state.transcribe_sentences,selectedSentences:t.state.selectedSentences},a=t.props.saveTranscriptionSummary(t.state.user.username,t.state.projectDetails.project_id,s),i=t.state.user.username+"/project/"+t.state.projectDetails.project_id+"/summary.json",r.step2TxtData=k.Z.Instance.GetUserUploadUrl(i,"public"),C.Z.setItem("backup-save-json",JSON.stringify(r)),t.updateLocationState(s,r),c={body:r},e.next=28,t.props.saveProject(c);case 28:return e.next=30,a;case 30:if("success"!=t.props.saveProjectStatus){e.next=40;break}return t.setState({projectDetails:r,saveDate:r.saveDate}),t.state.callNotificationAPI&&(t.props.getInProgressProjects(t.state.user.username),t.setState({callNotificationAPI:!1})),C.Z.removeItem("backup-save-json"),t.setState({saveButtonText:"Saved"}),setTimeout((function(){t.setState({saveButtonText:"Save",disableNextButton:!1})}),500),e.abrupt("return",r);case 40:(0,w.x2)("Project save failed"),t.setState({saveButtonText:"Save",disableNextButton:!1}),(0,te.Hw)();case 43:e.next=49;break;case 45:e.prev=45,e.t0=e.catch(0),(0,w.x2)("Project save failed"),t.setState({saveButtonText:"Save",disableNextButton:!1});case 49:case"end":return e.stop()}}),e,null,[[0,45]])})));return function(t){return e.apply(this,arguments)}}(),t.updateLocationState=function(e,n){var r,s=at().cloneDeep(n),a=at().cloneDeep(e);a.transcribe_sentences&&(s.transcribe_sentences=a.transcribe_sentences),a.selectedSentences&&(s.selectedSentences=a.selectedSentences),s.speakers=a.speakers||(null===(r=a.summaryResponse)||void 0===r?void 0:r.speakers),a.summaryResponse&&t.props.history.replace({state:(0,o.Z)((0,o.Z)({},t.props.location.state),{},{projectDetails:s,step2Data:a.summaryResponse,lines:a.lines,totalLines:a.totalLines,value:a.value})})},t.saveSampleTranscriptionData=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r,s){var a,i,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="samples/projects/video-editing/sample_".concat(Date.now(),".json"),i=(0,o.Z)((0,o.Z)({},n),{},{transcribe_sentences:r,selectedSentences:s}),e.next=4,t.props.uploadImage({filePath:a,file:JSON.stringify(i)});case 4:return c=k.Z.Instance.GetUserUploadUrl(a,"public"),console.log(c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.createSubsentenceTimeMarkers=function(e){var t=[],n={};return e.map((function(r,s){isNaN(parseFloat(n.start))?n.start=r.start_time:r.start_time!=e[s-1].end_time&&(t.push(n),(n={}).start=r.start_time),n.end=r.end_time})),at().isEmpty(n)||t.push(n),t},t.getVideoName=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="";if(r){var a,i=(0,Vr.Z)(e);try{for(i.s();!(a=i.n()).done;){var o,c=a.value,l=c.sentence.split(" "),u=(0,Vr.Z)(l);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(!(s.length+d.length<30)){s=s.substring(0,s.length-1);break}s+=d+"_"}}catch(e){u.e(e)}finally{u.f()}if(s)break}}catch(e){i.e(e)}finally{i.f()}s||(s=t.state.projectDetails.projectName)}else s=t.state.projectDetails.projectName+(n?"_highlights":"");return s.replace(/ /g,"_").replace(/[^0-9a-zA-Z_]+/g,"")},t.executeAsyc=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r=arguments;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:100,e.abrupt("return",new Promise((function(e,r){setTimeout((0,O.Z)((0,N.Z)().mark((function n(){return(0,N.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t();case 3:e(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])}))),n)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getVideoDimensions=function(){var e=1280,n=720;if(t.state.editingVideoHeight&&t.state.editingVideoWidth)e=t.state.editingVideoWidth,n=t.state.editingVideoHeight;else if(t.state.aspectRatioFractionValue){var r=parseInt(t.state.videoResolution.replace(/[^0-9]/g,""));!1===isNaN(r)&&(t.state.aspectRatioFractionValue>=1?(n=r,e=Math.floor(n*t.state.aspectRatioFractionValue)):(e=r,n=Math.floor(e/t.state.aspectRatioFractionValue)))}return{videoWidth:e,videoHeight:n,heightCoefficient:n/be.Z.defaultHeight}},t.getSceneStyles=function(e){var n=t.getVideoDimensions().heightCoefficient,r=(0,o.Z)({},Ta.Z.getStyles());r.fontName=r.fontName.replace(/\'/g,"").replace(" ",""),r.fontWeight&&(r.fontName=r.fontName+"-"+r.fontWeight),e&&e.sceneStyle&&e.sceneStyle.showStyle&&(r=(0,o.Z)((0,o.Z)({},r),e.sceneStyle));var s=Math.round(n*parseFloat(r.fontSize));return r.fontSize=s,r},t.getVideoDuration=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("video")).preload="metadata",e.abrupt("return",new Promise((function(e,s){var a=setTimeout(e,2e4,n);r.onloadedmetadata=function(){clearTimeout(a),e(parseFloat(r.duration.toFixed(2)))},r.src=t})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.createTextAnimationContainer=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r,s,a,i,o,c,l,u,d){var p,h,m,g,f,v,x,S,y;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((p=document.createElement("div")).classList.add("animation-container"),p.classList.add(r.className),p.classList.add(t.state.aspectRatioClass),p.style.width="".concat(o,"px"),p.style.height="".concat(i,"px"),p.style.fontSize="".concat(be.Z.convertPttoPx(a),"px"),p.style.paddingTop="0",p.style.visibility="hidden",p=document.getElementsByTagName("body")[0].insertBefore(p,document.getElementsByTagName("body")[0].firstChild),h=be.Z.calculateHighlightedLines(n,[],r,s,!0),(m=document.createElement("div")).classList.add("sentences"),d?(m.classList.add("outro-scene"),m.style.top="0",m.style.width="100%",m.style["align-items"]="center",m.style.height="100%",m.style.display="flex",m.style["flex-direction"]="column",m.style["justify-content"]="center"):m.style.display="flex",m=p.appendChild(m),!c){e.next=19;break}return e.next=18,t.addLogo(m,u,d,l);case 18:d&&((g=document.createElement("div")).classList.add("head-strokeline"),m.appendChild(g));case 19:f=(0,Vr.Z)(h);try{for(f.s();!(v=f.n()).done;)x=v.value,(S=document.createElement("p")).style.fontSize="".concat(be.Z.convertPttoPx(a),"px"),S=m.appendChild(S),(y=document.createElement("span")).classList.add("content-line"),y.innerHTML=x,S.appendChild(y)}catch(e){f.e(e)}finally{f.f()}return e.abrupt("return",p);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o,c,l,u){return e.apply(this,arguments)}}(),t.addLogo=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r,s,a){var i,o,c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=14;break}({top:"7%",zIndex:"100"})[i=1==a?"left":"right"]="7%",(o=document.createElement("img")).classList.add("mr-auto"),o.classList.add("sml-brand"),o.style.top="7%",o.style.zIndex=100,o.style[i]="7%",o.src=r,n.appendChild(o),e.next=23;break;case 14:return(c=document.createElement("div")).classList.add("logo_box1"),c=n.appendChild(c),(l=document.createElement("img")).classList.add("mr-auto"),l.src=r,c.appendChild(l),e.next=23,t.waitForImageToLoad(l);case 23:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),t.waitForImageToLoad=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={maxSeconds:10},e.abrupt("return",new Promise((function(e,r){var s=setInterval((function(){t.width&&t.height?setTimeout((function(){window.clearInterval(s),e()}),2e3):0===n.maxSeconds?(window.clearInterval(s),e()):n.maxSeconds=n.maxSeconds-1}),1e3)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getFontSizeForAspectRatio=function(e,t,n){var r=n||("sixteen-nine"===t?1:.6154);r>1&&(r=1);var s=e*r;return Math.round(s)},t.getVoiceOverText=function(e){if(e){var t=document.createElement("span");return t.innerHTML=e,(t.textContent||t.innerText).replace(/(<([^>]+)>)/gi,"")}return e},t.gotoCreateVideoStep3=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r,s){var a;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state.projectDetails,t.state.projectDetails.step2TxtData){e.next=10;break}return t.saveProjectDetails_debounce.cancel(),e.next=5,t.saveProjectDetails(!1);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:e.next=12;break;case 10:return e.next=12,t.saveProjectDetails_debounce.flush();case 12:S().getInstance().logEvent("video-editing-next-button-pressed",{"article-link":t.state.url,"total-selected-sentences":t.state.lines,"project-id":a.project_id}),t.setState({disableNextButton:!0,creatingCustomizeScenes:!0,sceneCustomizationHeading:"Preparing for video customization",sceneCustomizationProgressMessage:"Subtitles",sceneCustomizationProgress:0,cancelPreparingGenerateVideoJson:!1,cancelPreparingVideoCustomization:!1},(0,O.Z)((0,N.Z)().mark((function e(){var i,c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getSelectedSentenceScenes(t.state.selectedSentences,t.state.isSummarized);case 3:if(i=e.sent,c=i.summaryJson,l=i.timePerFrame,!0!==t.state.cancelPreparingVideoCustomization){e.next=8;break}return e.abrupt("return");case 8:if(0!==c.length||!t.state.isSummarized){e.next=11;break}return(0,w.x2)("Highlights enabled but no highlighted text found for video creation."),e.abrupt("return");case 11:be.Z.cleanUpLineContainers(),t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{summaryJson:c,url:t.state.url,sentences:t.state.lines,originalText:t.state.data.text,summaryText:"",imageURL:[],articleImages:t.state.data.images,timePerFrame:l,isPrevious:!1,isSummaryOff:!1,lines:t.state.lines,totalLines:t.state.totalLines,value:t.state.value,isSkipStep2:!1,loadProject:!1,metaDescription:t.state.data.meta_description,articleKeywords:t.state.data.article_keywords,step2Data:t.state.data,title:t.state.title,projectDetails:(0,o.Z)((0,o.Z)({},a),{},{isNewProject:!0,isSubtitleEnabled:t.state.isSubtitleEnabled,isRemoveFillers:t.state.isRemoveFillers,isSummarized:t.state.isSummarized,summarizePercent:t.state.summarizePercent}),aspectRatioClass:r,aspectRatioValue:n,aspectRatioFractionValue:s,selectedSentences:t.state.selectedSentences,transcribe_sentences:t.state.transcribe_sentences,isSubtitleEnabled:t.state.isSubtitleEnabled,isRemoveFillers:t.state.isRemoveFillers,isSummarized:t.state.isSummarized,summarizePercent:t.state.summarizePercent,animationThemeName:Ta.Z.themeName,bgMusicVolPercent:ts.An}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),(0,w.x2)("Could not customize video. Please contact support.");case 18:return e.prev=18,t.setState({creatingCustomizeScenes:!1,sceneCustomizationHeading:"",sceneCustomizationProgressMessage:"",sceneCustomizationProgress:0,cancelPreparingVideoCustomization:!1,disableNextButton:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])}))));case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.getNavigationRouteHistoryLocationState=function(){var e=(0,o.Z)((0,o.Z)({},t.state.projectDetails),{},{isSubtitleEnabled:t.state.isSubtitleEnabled,isRemoveFillers:t.state.isRemoveFillers,isSummarized:t.state.isSummarized,summarizePercent:t.state.summarizePercent,selectedSentences:t.state.selectedSentences,transcribe_sentences:t.state.transcribe_sentences});return{url:t.state.projectDetails.articleUrl,lines:t.state.lines,totalLines:t.state.totalLines,value:t.state.value,projectDetails:e,step2Data:t.state.data,videoEditingStep:!0}},t.getSelectedSentenceScenes=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r){var s,a,i,o,c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],a=[],i=n.length,o=(0,N.Z)().mark((function e(o){var c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n[o],!(t.state.preparingGenerateVideoJson&&t.state.cancelPreparingGenerateVideoJson||t.state.creatingCustomizeScenes&&t.state.cancelPreparingVideoCustomization)){e.next=3;break}return e.abrupt("return",{v:{summaryJson:s,timePerFrame:a}});case 3:return e.next=5,t.executeAsyc((function(){var e=c.words.some((function(e){return!0===e.summary}));if(!r||r&&e){var n=t.getSubSentenceWords(o,c,r,!1).subSentenceWords;if(n.length>0)for(var i=[],l=[],u=[],d=0;d<n.length;d++){20===l.length&&(t.addSceneSentences(s,a,i,o,l,u,r),i=[],l=[],u=[]),i=i.concat(n[d]);var p=n[d].reduce((function(e,t){return t.word&&e.push(t.word),e}),[]).join(" ");l.push(p),u.push(t.createSubsentenceTimeMarkers(n[d])),d===n.length-1&&t.addSceneSentences(s,a,i,o,l,u,r)}}}),50);case 5:(l=parseInt((o+1)/i*100))>t.state.sceneCustomizationProgress&&t.setState({sceneCustomizationProgress:l});case 7:case"end":return e.stop()}}),e)})),c=0;case 5:if(!(c<n.length)){e.next=13;break}return e.delegateYield(o(c),"t0",7);case 7:if("object"!=typeof(l=e.t0)){e.next=10;break}return e.abrupt("return",l.v);case 10:c++,e.next=5;break;case 13:return e.abrupt("return",{summaryJson:s,timePerFrame:a});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.addSceneSentences=function(e,n,r,s,a,i,o){if(r.length>0){var c,l=t.createWordsTimeMarkersArray(r,s,o),u=r.reduce((function(e,t){return t.word&&e.push(t.word),e}),[]).join(" "),d=r[0].start_time,p=r[r.length-1].end_time,h=0,m=(0,Vr.Z)(l);try{for(m.s();!(c=m.n()).done;){var g=c.value;h+=g.end-g.start}}catch(e){m.e(e)}finally{m.f()}e.push({sentence:u,keywords:[],type:"summary",image:"",subsentences:a,startTime:d,endTime:p,transcription:!0,timeSegments:l,words:r,subSentenceSegments:i}),n.push(parseFloat(h.toFixed(2)))}},t.getWordsPauseInfo=function(e){var t,n=!0,r=0,s=(0,Vr.Z)(e);try{for(s.s();!(t=s.n()).done;){var a=t.value;if(!a.is_pause){n=!1;break}r+=a.end_time-a.start_time}}catch(e){s.e(e)}finally{s.f()}return{isPause:n,pauseTime:r}},t.getSentenceListAndWordIdentifiersForPreview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=null,a=null,i=r,o=0,c=0;if(null===e){if(t.state.selectedWord){var l=t.getWordAndSentenceIndex(t.state.selectedWord);at().isEmpty(l)||l.wordIndex>-1&&l.sentenceIndex>-1&&(o=l.wordIndex,c=l.sentenceIndex)}}else c=e;for(var u=c+$a;;){u>t.state.selectedSentences.length&&(u=t.state.selectedSentences.length);for(var d=c;d<u;d++){var p=t.state.selectedSentences[d],h=t.getSubSentenceWords(d,p,i),m=h.subSentenceWords,g=h.sentenceWordIdentifiers;if(!1===i&&(i=d===c?p.words.slice(o).some((function(e){return!0===e.summary})):p.words.some((function(e){return!0===e.summary}))),g)for(var f=Object.keys(g),v=0,x=f;v<x.length;v++){var S=x[v];n[S]?n[S]=n[S].concat(g[S]):n[S]=g[S]}if(m.length>0){var y,b=(0,Vr.Z)(m);try{for(b.s();!(y=b.n()).done;){var j=y.value,w={words:j,startTime:j[0].start_time,endTime:j[j.length-1].end_time};s?(a.next={sentence:w},a=a.next):a=s={sentence:w}}}catch(e){b.e(e)}finally{b.f()}}}if(s&&s.next&&s.next.next||u===t.state.selectedSentences.length)break;u=(c=u)+$a}return{rootSentenceNode:s,lastSentenceNode:a,nextSentenceIndex:u,playOnlyHighlightSentence:i}},t.getSubSentenceWords=function(e,n,r){for(var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[],i={},c=[],l=0,u=0;u<n.words.length;u++){var d=(0,o.Z)((0,o.Z)({},n.words[u]),{},{wordIndex:u,sentenceIndex:e}),p=parseInt(d.start_time);i[p]||(i[p]=[]),i[p].push(d);var h=parseInt(d.end_time);if(h>p&&(i[h]||(i[h]=[]),i[h].push(d)),r?d.isFiller||d.is_delete_icon||!d.summary||c.push(d):d.isFiller||d.is_delete_icon||(s&&c.length>0&&d.summary!==c[c.length-1].summary&&(a.push(c),c=[],l=0),c.push(d)),c.length>0)if(c[c.length-1].is_pause)l+=c[c.length-1].end_time-c[c.length-1].start_time;else if(l>2){var m=t.getPauseAndNonPauseWordSegments(c.slice(0,c.length-1));if(c=c.slice(c.length-1,c.length),l=0,m.length>0)for(var g=0;g<m.length;g++){var f=m[g];if(f.length>0)if(0===a.length)a.push(f);else if(f.length<3){var v=a[a.length-1].every((function(e){return!0===e.is_pause})),x=f.every((function(e){return!0===e.is_pause}));if(v&&x||!v&&!x){if(a[a.length-1].length>f.length){var S=Math.floor((a[a.length-1].length+f.length)/2);f=a[a.length-1].slice(S).concat(f),a[a.length-1]=a[a.length-1].slice(0,S)}a.push(f)}else a.push(f)}else a.push(f)}}else t.getSubsentenceWordsLines(c).length>t.state.subtitlesLineCount?(c.length>1?(a.push(c.slice(0,c.length-1)),c=c.slice(c.length-1,c.length)):(a.push(c),c=[]),l=0):l=0}if(c.length>0){var y=t.getPauseAndNonPauseWordSegments(c);if(y.length>0)for(var b=0;b<y.length;b++){var j=y[b];if(j.length>0)if(0===a.length)a.push(j);else if(j.length<3){var w=a.length-1,Z=a[w];if(s&&j[0].summary!==Z[Z.length-1].summary)a.push(j);else{var k=a[w].every((function(e){return!0===e.is_pause})),C=j.every((function(e){return!0===e.is_pause}));if(k&&C||!k&&!C){if(Z.length>j.length){var I=Math.floor((Z.length+j.length)/2);a[w]=Z.slice(0,I),j=Z.slice(I).concat(j)}a.push(j)}else a.push(j)}}else a.push(j)}}return{subSentenceWords:a,sentenceWordIdentifiers:i}},t.getSubsentenceWordsLines=function(e){var n=1280;t.state.editingVideoWidth&&(n=t.state.editingVideoWidth);var r=t.getElementSceneStyle();r.width=.69*n+"px",r.parentElementWidth=n;var s=e.reduce((function(e,t){return t.word&&e.push(t.word),e}),[]).join(" ");return be.Z.calculateHighlightedLines(s,[],Ta.Z,r,!0)},t.getElementSceneStyle=function(){var e=(0,o.Z)({},t.state.sceneStyle);e.fontName=t.getFrontFontName(e.fontName);var n=e.fontNamee&&e.fontName.split(";");if(n&&n.length>1&&n[1].trim().startsWith("font-weight")){var r=n[1].trim().split(":")[1].trim();e.fontWeight=r}return e.fontFamily=e.fontName,e.fontSize=be.Z.convertPttoPx(e.fontSize)+"px",e},t.getPauseAndNonPauseWordSegments=function(e){var t=Array(e.length).fill(0),n=[],r=-1;if(e.length>1){for(var s=0;s<e.length;s++)if(e[s].is_pause){var a=e[s].end_time-e[s].start_time;0===s||-1===t[s-1]?(t[s]=a,s>0&&-1===t[s-1]&&(r=s-1)):(t[s]=t[s-1]+a,t[s-1]=0)}else t[s]=-1,s>0&&(t[s-1]<=2||!e[s-1].is_pause?(t[s-1]>0&&r>-1&&(t[r]=0,r=-1),t[s-1]=0):e[s-1].is_pause&&(t[s-1]=-1,r=-1));for(var i=0,o=0;o<e.length;o++)o<e.length-1?-1===t[o]&&(n.push(e.slice(i,o+1)),i=o+1):n.push(e.slice(i,e.length))}else n.push(e);return n},t.gotoBrandSetting=function(){t.props.history.push({pathname:b.Z.BaseURL+y.Z.brandSettings,state:t.getNavigationRouteHistoryLocationState()})},t.gotoCreateVideoStep1=function(e){t.props.history.push({pathname:b.Z.BaseURL+y.Z.stepOne,state:{url:t.state.url,isPreviousButton:!0}}),S().getInstance().logEvent("video-editing-previous-button-pressed",{"article-link":t.state.url,"project-id":t.state.projectDetails.project_id})},t.BackURL=function(e){t.props.history.push(b.Z.BaseURL+y.Z.stepOne)},t.handleBlurProjectName=function(e,n){t.state.projectName!==e&&t.setState({projectName:(0,te.A2)(e),isAnyChange:!n})},t.editError=function(e){(0,w.x2)("Please select valid text to "+e),t.clearSelection(),t.setState({mergeText:"Merge",splitText:"Split",deleteText:"Delete from video"})},t.checkAlreadySummarizedWords=function(e){for(var n=0,r=0,s=e.firstWord,a=e.lastWord,i=e.firstSentenceIndex,o=e.lastSentenceIndex,c=i;c<=o;c++)for(var l=c===i?s:0,u=c===o?a:t.state.selectedSentences[c].words.length-1,d=l;d<=u;d++)if(t.state.selectedSentences[c].words[d].summary?n++:r++,n>0&&r>0)return null;return n>0&&0===r},t.summarizeWords=function(e){t.toggleMenu("hide");var n=t.getSelectionRange(),r=t.state.isSummarized;if(!at().isEmpty(n)){for(var s=n.firstWord,a=n.lastWord,i=n.firstSentenceIndex,c=n.lastSentenceIndex,l=(0,B.Z)(t.state.selectedSentences),u=[],d=i;d<=c;d++){var p=(0,o.Z)({},l[d]);l[d]=p,p.words=(0,B.Z)(p.words);var h=d===i?s:0,m=d===c?a:p.words.length-1;u.push((0,o.Z)((0,o.Z)({},p),{},{words:p.words.slice(h,m+1)}));for(var g=h;g<=m;g++)p.words[g].is_delete_icon||(p.words[g]=(0,o.Z)((0,o.Z)({},p.words[g]),{},{summary:e}))}var f=-1,v=-1;if(e)r=!0,f=i,v=s;else{for(var x=i-1;x>-1;){var y=l[x].words.findIndex((function(e){return!0===e.summary}));if(-1!==y){f=x,v=y;break}x--}if(-1===f)for(x=c+1;x<l.length;){var b=l[x].words.findIndex((function(e){return!0===e.summary}));if(-1!==b){f=x,v=b;break}x++}}t.setState({selectedSentences:l,isSummarized:r,summarizePercent:-1,isAnyChange:!0,sentenceIndex:-1!==f?f:t.state.sentenceIndex},(function(){if(-1!==f){var e=l[f].words[v];setTimeout((function(){t.seekTimeOnWord(e.start_time,f,v,e.word+"_"+v+"_"+f),t.setState({selectedWord:e.word+"_"+v+"_"+f})}),100)}t.toggleMenu("hide"),t.clearSelection(),t.createTimeMarkersArray(!0)})),S().getInstance().logEvent("video-editing-add-remove-to-summary",{"article-link":t.state.url,sentence:u,"project-id":t.state.projectDetails.project_id})}},t.generateVideoClip=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r,s,a,i,c,l,u,d,p,h;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.toggleMenu("hide"),e.next=4,t.verifyVideoQuota();case 4:if(!1!==e.sent){e.next=8;break}return t.clearSelection(),e.abrupt("return");case 8:if(r=[],s=!1,n)r=t.state.selectedSentences.filter((function(e){return t.state.selectedHighlightIds.includes(e.uid)})),t.selectMultipleHighlights(!1,null,!0),s=!0;else if(a=t.getSelectionRange(),!at().isEmpty(a)){for(i=a.firstWord,c=a.lastWord,l=a.firstSentenceIndex,u=a.lastSentenceIndex,d=l;d<=u;d++)p=d===l?i:0,h=d===u?c:t.state.selectedSentences[d].words.length-1,r.push((0,o.Z)((0,o.Z)({},t.state.selectedSentences[d]),{},{words:t.state.selectedSentences[d].words.slice(p,h+1)}));t.clearSelection()}if(0!=r.length){e.next=13;break}return e.abrupt("return");case 13:t.setState({preparingGenerateVideoJson:!0,cancelPreparingGenerateVideoJson:!1,generateVideoJsonHeading:"Preparing for video generation",generateVideoJsonProgressMessage:"Video scenes",sceneCustomizationProgressMessage:"Subtitles",generateVideoJsonStep:1,generateVideoJsonProgress:0,sceneCustomizationProgress:0,multipleVideoClips:n,isLastVideoGenerationClip:!1},(function(){t.setState({sceneCustomizationProgress:1}),setTimeout((0,O.Z)((0,N.Z)().mark((function e(){var a,i,o,c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=r.length;case 3:if(!(a>0)||t.state.cancelPreparingGenerateVideoJson){e.next=12;break}return n?(i=[r[r.length-a]],a--,t.setState({generateVideoJsonStep:1,sceneCustomizationProgress:1})):(i=r,a=0),e.next=8,t.generateVideoJSON(i,s,!0);case 8:(o=e.sent)&&!t.state.cancelPreparingGenerateVideoJson?(c=t.getVideoScenesDuration(o),l=Pa().CancelToken.source(),t.props.generateVideo({abortController:l,VideoCreationJson:o,isCSV:!1}),S().getInstance().logEvent("video-editing-generate-video-clip",{"video-url":t.state.url,"project-id":t.state.projectDetails.project_id,duration:c}),0===a&&t.setState({isLastVideoGenerationClip:!0})):(t.state.cancelPreparingGenerateVideoJson||(0,w.x2)("No selected text found in the summary"),t.setState({preparingGenerateVideoJson:!1})),e.next=3;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),(0,w.x2)("Preparing video clip failed."),t.setState({preparingGenerateVideoJson:!1});case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),10)})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),(0,w.x2)("Preparing video clip failed."),t.setState({preparingGenerateVideoJson:!1});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),t.generateVideo=(0,O.Z)((0,N.Z)().mark((function e(){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.toggleMenu("hide"),e.next=4,t.verifyVideoQuota();case 4:if(!1!==e.sent){e.next=8;break}return t.clearSelection(),e.abrupt("return");case 8:t.setState({preparingGenerateVideoJson:!0,cancelPreparingGenerateVideoJson:!1,generateVideoJsonHeading:"Preparing for video generation",generateVideoJsonProgressMessage:"Video scenes",sceneCustomizationProgressMessage:"Subtitles",generateVideoJsonStep:1,generateVideoJsonProgress:0,sceneCustomizationProgress:0},(function(){t.setState({sceneCustomizationProgress:1}),setTimeout((0,O.Z)((0,N.Z)().mark((function e(){var n,r,s;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.state.cancelPreparingGenerateVideoJson){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.generateVideoJSON(t.state.selectedSentences,t.state.isSummarized,!1);case 5:(n=e.sent)&&!t.state.cancelPreparingGenerateVideoJson?(r=t.getVideoScenesDuration(n),s=Pa().CancelToken.source(),t.props.generateVideo({abortController:s,VideoCreationJson:n,isCSV:!1}),S().getInstance().logEvent(t.state.isSummarized?"video-editing-generate-highlights-video":"video-editing-generate-video",{"video-url":t.state.url,"project-id":t.state.projectDetails.project_id,videoHighlight:t.state.isSummarized,duration:r})):(t.state.cancelPreparingGenerateVideoJson||(0,w.x2)(t.state.isSummarized?"No highlights found in the summary":"No text found in the summary"),t.setState({preparingGenerateVideoJson:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(0,w.x2)(t.state.isSummarized?"preparing video highlights failed":"Preparing video failed"),t.setState({preparingGenerateVideoJson:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),10)})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),(0,w.x2)(t.state.isSummarized?"preparing video highlights failed":"Preparing video failed"),t.setState({preparingGenerateVideoJson:!1});case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),t.generateVideoText=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.toggleMenu("hide"),S().getInstance().logEvent("video-editing-download-text-clicked",{"project-id":t.state.projectDetails.project_id}),t.setState({disableNextButton:!0,creatingCustomizeScenes:!0,sceneCustomizationHeading:"Preparing for video text",sceneCustomizationProgressMessage:"Subtitles",sceneCustomizationProgress:0,cancelPreparingGenerateVideoJson:!1,cancelPreparingVideoCustomization:!1},(0,O.Z)((0,N.Z)().mark((function e(){var r,s,a,i,o,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getSelectedSentenceScenes(t.state.selectedSentences,!1);case 3:if(r=e.sent,s=r.summaryJson,r.timePerFrame,!0!==t.state.cancelPreparingVideoCustomization){e.next=8;break}return e.abrupt("return");case 8:if(0!==s.length){e.next=11;break}return(0,w.x2)("No text available for the video."),e.abrupt("return");case 11:be.Z.cleanUpLineContainers(),a=t.getVideoName(s),i=[],[],o="txt"===n?s.map((function(e){return i.push({start:e.startTime,end:e.endTime}),e.sentence})):s.reduce((function(e,t){return i=i.concat(t.subSentenceSegments),e.concat(t.subsentences)}),[]),c=new Oa.Z(o,i,a),e.t0=n,e.next="srt"===e.t0?20:"vtt"===e.t0?22:"txt"===e.t0?24:26;break;case 20:return c.downloadSRT(),e.abrupt("break",26);case 22:return c.downloadVTT(),e.abrupt("break",26);case 24:return c.downloadText(),e.abrupt("break",26);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),(0,w.x2)("Could not download text. Please contact support.");case 31:return e.prev=31,t.setState({creatingCustomizeScenes:!1,sceneCustomizationHeading:"",sceneCustomizationProgressMessage:"",sceneCustomizationProgress:0,cancelPreparingVideoCustomization:!1,disableNextButton:!1}),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[0,28,31,34]])}))))}catch(e){(0,w.x2)("Could not download text. Please contact support."),t.setState({preparingGenerateVideoJson:!1})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.verifyVideoQuota=(0,O.Z)((0,N.Z)().mark((function e(){var n,r;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=(0,te.we)(t.state.user.username))&&n.plan&&n.plan.plan_code,r=n&&n.plan&&n.plan.name||"Free Trial",!(0,te.O3)(t.state.user.username)){e.next=6;break}return e.next=6,t.props.getCurrentSubscription(t.state.user.username);case 6:if(!1!==(0,te.O3)(t.state.user.username)){e.next=10;break}return S().getInstance().logEvent("video-editing-generate-clicked-after-exceeding-quota"),t.setState({showUpgradeModalDialog:!0,planName:r},(function(){ie()("#step-3-modal").modal("show")})),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)}))),t.closeUpgradeModalDialog=function(){t.setState({showUpgradeModalDialog:!1})},t.stopPreparingVideoGenerationJson=function(){1===t.state.generateVideoJsonStep?t.setState({sceneCustomizationProgressMessage:"Cancelling the operation..."}):t.setState({generateVideoJsonProgressMessage:"Cancelling the operation..."}),t.setState({cancelPreparingGenerateVideoJson:!0}),S().getInstance().logEvent(t.state.isSummarized?"video-editing-generate-highlights-video-cancelled":"video-editing-generate-video-cancelled",{"article-link":t.state.url,"project-id":t.state.projectDetails.project_id,videoHighlight:t.state.isSummarized})},t.stopPreparingVideoCustomization=function(){t.setState({sceneCustomizationProgressMessage:"Cancelling the operation..."}),t.setState({cancelPreparingVideoCustomization:!0}),S().getInstance().logEvent(t.state.isSummarized?"video-editing-customize-video-highlights-cancelled":"video-editing-customize-video-cancelled",{"article-link":t.state.url,"project-id":t.state.projectDetails.project_id,videoHighlight:t.state.isSummarized})},t.getVideoScenesDuration=function(e){var t=0;if(e&&e.scenes){var n,r=(0,Vr.Z)(e.scenes);try{for(r.s();!(n=r.n()).done;)t+=n.value.time}catch(e){r.e(e)}finally{r.f()}}return t},t.getSelectionRange=function(){try{var e=window.getSelection(),n=e.toString();if(e&&n&&""!=n.trim()){var r=e.getRangeAt(0).startContainer.parentNode.id,s=e.getRangeAt(0).endContainer.parentNode.id,a=-1,i=-1,o=-1,c=-1;if(r){var l=r.split("_");if(void 0!==l[2]&&"null"!=typeof l[2]){if(a=parseInt(l[2]),i=parseInt(l[1]),s){var u=s.split("_");void 0!==u[2]&&"null"!=typeof u[2]&&(o=parseInt(u[2]),c=parseInt(u[1]))}-1===o&&(o=t.state.selectedSentences.length-1,c=t.state.selectedSentences[o].words.length-1)}if(-1!==a&&-1!==o)return{firstWord:i,lastWord:c,firstSentenceIndex:a,lastSentenceIndex:o}}}}catch(e){}return{}},t.getWordAndSentenceIndex=function(e){try{if(e&&"string"==typeof e){var t=-1,n=-1,r=e.split("_");if(void 0!==r[2]&&"null"!=typeof r[2]&&(t=parseInt(r[2]),n=parseInt(r[1])),!1===isNaN(n)&&-1!==n&&!1===isNaN(t)&&-1!==t)return{wordIndex:n,sentenceIndex:t}}}catch(e){}return{}},t.onClickRemoveSilences=function(e){t.setState({showSilencePopup:e.target.checked,areSilencesRemoved:!e.target.checked,silencesErrorMsg:""}),e.target.checked||t.removeSilences(!0)},t.checkSilencesRemoved=function(){for(var e=t.state.selectedSentences.length-1;e>-1;e--)for(var n=t.state.selectedSentences[e],r=n.words.length-1;r>-1;r--){var s=n.words[r];if(s.is_delete_icon&&s.isDeletedPause)return!0}return!1},t.removeSilences=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!1,r=t.state.minSilenceDuration;r&&!isNaN(r)||(r=0);for(var s=(0,B.Z)(t.state.selectedSentences),a=s.length-1;a>-1;a--)for(var i=s[a],o=i.words.length-1;o>-1;o--){var c=i.words[o];c.is_delete_icon&&c.isDeletedPause&&(t.undoDelete(c.deleted_sentences,o,a,s),n=!0)}var l=!1,u=0;if(!e)for(var d=s.length-1;d>-1;d--)for(var p=s[d],h=[],m=p.words.length-1;m>-1;m--){var g=p.words[m];if(g.is_pause&&h.push({wordIndex:m,word:g}),(!g.is_pause||0===m)&&h.length>0){var f=h.reduce((function(e,t){return e+(t.word.end_time-t.word.start_time)}),0);if(f>=r){var v={firstWord:h[h.length-1].wordIndex,lastWord:h[0].wordIndex,firstSentenceIndex:d,lastSentenceIndex:d,isPause:!0,start_time:h[h.length-1].word.start_time,end_time:h[0].word.end_time};t.deleteMultipleWords(v,s),l=!0,u++}h=[]}}u&&(t.setState({silencesRemovedSuccessMsg:u+(u>1?" silences removed":" silence removed")}),setTimeout((function(){var e=document.querySelector("button.undo-delete.pause");e&&e.scrollIntoViewIfNeeded()}),500),setTimeout((function(){t.setState({silencesRemovedSuccessMsg:""})}),5e3));var x="Silences not found";l||n?t.setState({selectedSentences:s,isAnyChange:!0,refreshSentence:!t.state.refreshSentence,minSilenceDuration:r,showSilencePopup:!l,silencesErrorMsg:l||e?"":x},(function(){t.createTimeMarkersArray()})):t.setState({silencesErrorMsg:x})},t.deleteMultipleWords=function(e,n){try{var r=n||(0,B.Z)(t.state.selectedSentences),s=e||t.getSelectionRange();if(at().isEmpty(s)&&t.state.selectedWord){var a=t.state.selectedWord.split("_"),i=parseInt(a[2]),c=parseInt(a[1]);s={firstWord:c,lastWord:c,firstSentenceIndex:i,lastSentenceIndex:i}}if(at().isEmpty(s))t.editError("delete");else{for(var l=s,u=l.firstWord,d=l.lastWord,p=l.firstSentenceIndex,h=l.lastSentenceIndex,m=[],g=[],f=p;f<=h;f++)if(r[f].words&&r[f].words.length>0){var v=(0,o.Z)({},r[f]);r[f]=v,v.words=(0,B.Z)(v.words);var x=f===p?u:0,y=f===h?d:v.words.length-1;if(0==x&&y==v.words.length-1){m.push(f);var b=(0,o.Z)({},r[f]);b.full_sentence=!0,g.push(b)}else{var j=v.words.splice(x,y-x+1),w=(0,o.Z)((0,o.Z)({},v),{},{words:j});g.push(w)}}if(m.length>0)for(;m.length;)r.splice(m.pop(),1);var Z=g[0].words[0].start_time,k=g[g.length-1].words,C=k[k.length-1].end_time,I={uid:(0,te.DO)(),is_delete_icon:!0,word:"",start_time:Z,end_time:C,deleted_sentences:g,isDeletedPause:!!s.isPause,isDeletedFiller:!!s.isFiller};if(0==u&&r.length-1<p){var T=(0,o.Z)({},r[r.length-1]);T.words=(0,B.Z)(T.words),T.words.push(I),r[r.length-1]=T}else{var E=(0,B.Z)(r[p].words);E.splice(u,0,I),r[p].words=E}if(e&&n)return;var A=p<r.length?p:r.length-1;t.setVideoStartTime(r,A),t.setState({selectedSentences:r,isAnyChange:!0,deleteText:"Delete from video",refreshSentence:!t.state.refreshSentence,sentenceIndex:A},(function(){t.createTimeMarkersArray()})),t.clearSelection(),S().getInstance().logEvent("video-editing-delete-sentences",{"media-url":t.state.url,"deleted-sentences":t.getDisplayTextFromSentences(g),"project-id":t.state.projectDetails.project_id})}}catch(e){return void t.editError("delete")}},t.clearSelection=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),e&&t.setState({selectedWord:null})},t.setMergeTextAndMerge=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.showHighlightedTab){e.next=2;break}return e.abrupt("return");case 2:t.setState({mergeText:"Merging"},(function(){setTimeout((function(){t.mergeSentence(n)}),100)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.setSplitTextAndSplit=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({splitText:"Spliting"},(function(){setTimeout((function(){t.splitSentence(n)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.setDeleteTextAndDelete=function(e){e&&e.preventDefault(),t.setState({deleteText:"Deleting"},(function(){setTimeout((function(){t.deleteMultipleWords()}),100)}))},t.setVideoStartTime=function(e,n){if(e&&e[n]&&e[n].words&&e[n].words[0]){for(var r=e[n].words[0],s=0;e[n].words[s].is_delete_icon&&s<e[n].words.length-1;)s++,r=e[n].words[s];t.setState({videoStartTime:r.start_time})}},t.moveToFirstWord=function(e,n){if(e.words.length){var r=e.words[0];setTimeout((function(){t.seekTimeOnWord(r.start_time,n,0,r.word+"_0_"+n),t.setState({selectedWord:r.word+"_0_"+n})}),1)}},t.mergeSentence=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r,s,a,i,c,l,u,d,p,h,m,g;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,r=(0,B.Z)(t.state.selectedSentences),s=t.getSelectionRange(),at().isEmpty(s)){e.next=14;break}if(a=s.firstWord,i=s.lastWord,c=s.firstSentenceIndex,!((l=s.lastSentenceIndex)-c>50)){e.next=11;break}return(0,w.x2)("Maximum 50 sentences can be merged at a time"),t.setState({mergeText:"Merge"}),t.clearSelection(),e.abrupt("return");case 11:if(c!=l)!function(){var e=[];e.push(r[c]);var n=(0,o.Z)({},r[c]);r[c]=n;for(var s=n.words.some((function(e){return!0===e.summary})),a=c+1;a<=l;a++){var i=s;e.push(r[a]),n.words=n.words.concat(r[a].words.map((function(e){return!0===e.summary&&(s=!0),(0,o.Z)((0,o.Z)({},e),{},{summary:s})}))),!1===i&&!0===s&&n.words.forEach((function(e){return e.summary=!0}))}for(var u=l;u>c;u--)r.splice(u,1);t.setState({selectedSentences:r,isAnyChange:!0,mergeText:"Merge",refreshSentence:!t.state.refreshSentence,sentenceIndex:c},(function(){t.createTimeMarkersArray(),t.state.isSummarized&&n.words[0].summary||!t.state.isSummarized?(t.clearSelection(),t.moveToFirstWord(n,c)):t.clearSelection(!1)})),S().getInstance().logEvent("video-editing-merge-sentences",{"media-url":t.state.url,"merged-sentences":e,"project-id":t.state.projectDetails.project_id})}();else if(u=[],a!=i&&r[c]){if((d=(0,o.Z)({},r[c])).words&&d.words.length>0){for(r[c]=d,d.words=(0,B.Z)(d.words),p=(0,o.Z)({},d.words[a]),d.words[a]=p,u.push(p),h=!p.is_pause,m=a+1;m<=i;m++)u.push(d.words[m]),p.end_time=d.words[m].end_time,p.word+=d.words[m].word,!1===h&&(h=!d.words[m].is_pause);for(!0===h&&p.is_pause?(p.is_pause=!1,delete p.pause_size):p.is_pause&&("small"===p.pause_size?p.pause_size="medium":"medium"===p.pause_size&&(p.pause_size="large")),g=i;g>a;g--)d.words.splice(g,1);t.setVideoStartTime(r,c),t.setState({selectedSentences:r,isAnyChange:!0,mergeText:"Merge",refreshSentence:!t.state.refreshSentence,sentenceIndex:c},(function(){t.createTimeMarkersArray(),t.moveToFirstWord(d,c)})),t.clearSelection()}S().getInstance().logEvent("video-editing-merge-words",{"media-url":t.state.url,"merged-words":u,"sentence-index":c,"project-id":t.state.projectDetails.project_id})}else t.editError("merge");e.next=15;break;case 14:t.editError("merge");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),t.editError("merge");case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),t.splitCommonMethod=function(e,n,r){if(e==n&&r<t.state.selectedSentences[e].words.length){var s=(0,B.Z)(t.state.selectedSentences),a=(0,o.Z)({},s[e]),i=s[e].words[r];a.words=s[e].words.slice(0,r),a.end_time=a.words[a.words.length-1].end_time;var c=(0,o.Z)({},s[e]);c.uid=(0,ct.Z)(),c.words=s[e].words.slice(r,s[e].words.length),c.start_time=c.words[0].start_time,s[e]=a,s.splice(e+1,0,c),t.setVideoStartTime(s,e),t.setState({selectedSentences:s,isAnyChange:!0,splitText:"Split",refreshSentence:!t.state.refreshSentence,sentenceIndex:e},(function(){t.createTimeMarkersArray(),t.moveToFirstWord(c,e+1)})),t.clearSelection(),S().getInstance().logEvent("video-editing-split-sentence",{"media-url":t.state.url,"split-word":i,"sentence-index":e,"project-id":t.state.projectDetails.project_id})}else t.editError("split")},t.splitSentence=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n){var r,s,a,i,o,c,l;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),e.prev=1,r=t.getSelectionRange(),at().isEmpty(r)?t.state.selectedWord?(o=t.state.selectedWord.split("_"),c=parseInt(o[2]),l=parseInt(o[1]),t.splitCommonMethod(c,c,l)):t.editError("split"):(r.firstWord,s=r.lastWord,a=r.firstSentenceIndex,i=r.lastSentenceIndex,t.splitCommonMethod(a,i,s)),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),t.editError("split"),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),t.createTimeMarkersArray=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];return t.state.selectedSentences.map((function(e,r){var s=t.createWordsTimeMarkersArray(e.words,r,t.state.isSummarized);n=n.concat(s)})),t.setState({timeMarkers:n}),n.length>0&&e&&t.state.selectedSentences.length&&t.setState({videoStartTime:n[0].start}),0==n.length&&t.setState({isSummarized:!1}),t.removeSpeakingWord(),n},t.createTimeMarkersArrayForPreview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],s=n,a=0,i=0;if(null===e){if(t.state.selectedWord){var o=t.getWordAndSentenceIndex(t.state.selectedWord);at().isEmpty(o)||o.wordIndex>-1&&o.sentenceIndex>-1&&(a=o.wordIndex,i=o.sentenceIndex)}}else i=e;for(var c=i+$a;;){c>t.state.selectedSentences.length&&(c=t.state.selectedSentences.length);for(var l=i;l<c;l++){var u=t.state.selectedSentences[l],d=t.createWordsTimeMarkersArray(u.words,l,s,!0);!1===s&&(s=l===i?u.words.slice(a).some((function(e){return!0===e.summary})):u.words.some((function(e){return!0===e.summary}))),r=r.concat(d)}if(r.length>5||c===t.state.selectedSentences.length)break;c=(i=c)+$a}return{timeMarkers:r,nextSentenceIndex:c,playOnlyHighlightSentence:s}},t.createWordsTimeMarkersArray=function(e,n,r){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i={},o=!1,c=0;if(s&&t.state.selectedWord){var l=t.getWordAndSentenceIndex(t.state.selectedWord);at().isEmpty(l)||l.wordIndex>-1&&l.sentenceIndex>-1&&n===l.sentenceIndex&&(c=l.wordIndex)}for(var u=c;u<e.length;u++){var d=e[u];at().isEmpty(i)||void 0===i.end||void 0===i.start||i.end<parseFloat(d.start_time)&&(i.sentenceIndex=n,a.push(i),i={}),r||o?d.isFiller||d.is_delete_icon||!d.summary||(isNaN(parseFloat(i.start))&&(i.start=parseFloat(d.start_time),i.isHighlighted=!0),i.end=parseFloat(d.end_time)):d.isFiller||d.is_delete_icon?(at().isEmpty(i)||(i.sentenceIndex=n,a.push(i)),i={}):(s&&!1===o&&d.summary&&(o=!0,!at().isEmpty(i)&&(i.isHighlighted!==d.summary||a.length>0&&i.isHighlighted!==a[a.length-1].isHighlighted)&&(i.sentenceIndex=n,a.push(i),i={})),isNaN(parseFloat(i.start))&&(i.start=parseFloat(d.start_time),i.isHighlighted=d.summary),i.end=parseFloat(d.end_time))}return at().isEmpty(i)||(i.sentenceIndex=n,a.push(i)),a},t.seekTimeOnWord=function(e,n,r,s){t.setState({videoStartTime:e,sentenceIndex:n,selectedWord:s,refreshSentence:!t.state.refreshSentence}),t.removeSpeakingWord()},t.selectFirstWordOnLoad=function(){if(t.state.selectedSentences&&t.state.selectedSentences.length>0){var e,n=t.state.selectedSentences[0].words[0],r=(0,Vr.Z)(t.state.selectedSentences);try{for(r.s();!(e=r.n()).done;){var s,a=e.value,i=!1,o=(0,Vr.Z)(a.words);try{for(o.s();!(s=o.n()).done;){var c=s.value;if(!c.is_delete_icon){n=c,i=!0;break}}}catch(e){o.e(e)}finally{o.f()}if(i)break}}catch(e){r.e(e)}finally{r.f()}var l=0,u=0;if(t.state.isSummarized){var d,p=null,h=(0,Vr.Z)(t.state.selectedSentences);try{for(h.s();!(d=h.n()).done;){var m=d.value;u=0;var g,f=(0,Vr.Z)(m.words);try{for(f.s();!(g=f.n()).done;){var v=g.value;if(v.summary){p=v;break}u+=1}}catch(e){f.e(e)}finally{f.f()}if(p)break;l+=1}}catch(e){h.e(e)}finally{h.f()}p?n=p:(l=0,u=0)}var x=n.word+"_"+u+"_"+l;t.setState({videoStartTime:n.start_time,sentenceIndex:l,selectedWord:x})}},t.setEditword=function(e){e.preventDefault();try{var n=t.getSelectionRange();if(at().isEmpty(n))if(t.state.selectedWord){var r=t.getWordAndSentenceIndex(t.state.selectedWord);if(!at().isEmpty(r)){var s=r.wordIndex,a=r.sentenceIndex;if(t.state.selectedSentences[a].words[s].is_pause)return void t.editError("edit")}t.setState({editingWord:t.state.selectedWord,selectedWord:null},(function(){t.editingWord&&t.editingWord.focus()}))}else t.editError("edit");else{var i=n.firstWord,o=n.lastWord,c=n.firstSentenceIndex;if(c==n.lastSentenceIndex)if(i==o){if(t.state.selectedSentences[c].words[i].is_pause)return void t.editError("edit");var l=t.state.selectedSentences[c].words[i].word+"_"+i+"_"+c;t.setState({editingWord:l},(function(){t.editingWord&&t.editingWord.focus()}))}else t.editError("edit");else t.editError("edit")}}catch(e){t.editError("edit")}},t.onWordEditorKeyUp=function(e,n,r,s){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),e&&e.key&&("enter"===e.key.toLowerCase()||"return"===e.key.toLowerCase())&&t.editWord(n,r,s)},t.editWord=function(e,n,r){var s=(0,B.Z)(t.state.selectedSentences),a=(0,o.Z)({},s[e]);if(a.words&&a.words.length>0){var i=(0,B.Z)(a.words),c=(0,o.Z)({},i[n]),l=i[n];c.word=r,c.is_pause&&r&&r.length>1&&(delete c.is_pause,delete c.pause_size),i[n]=c,a.words=i,s[e]=a,t.setState({selectedSentences:s,editingWord:null,isAnyChange:!0,refreshSentence:!t.state.refreshSentence},(function(){t.createTimeMarkersArray()})),S().getInstance().logEvent("video-editing-edit-word",{"media-url":t.state.url,"old-value":l,"new-value":c,"sentence-index":e,"project-id":t.state.projectDetails.project_id})}else t.setState({editingWord:null})},t.openRightMenu=function(e,n,r,s,a){if(!t.state.showHighlightedTab){var i=e.pageY,o=e.pageX;e.preventDefault(),t.clearSelection(),t.setState({rightClickedWord:a,rightClickedNormalWord:s},(function(){t.showFloatingOptionMenu(i,o,"rightclick",t.state.selectedSentences[r].words[n])}))}},t.rightClickDelete=function(e){t.toggleMenu("hide"),t.setState({selectedWord:t.state.rightClickedWord},(function(){t.setDeleteTextAndDelete(e)}))},t.markAsFiller=(0,O.Z)((0,N.Z)().mark((function e(){var n,r,s,a,i,c,l,u;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toggleMenu("hide"),n="",t.state.rightClickedNormalWord?n=t.state.rightClickedNormalWord.toLowerCase():(r=t.getSelectionRange(),at().isEmpty(r)||(s=r.firstWord,a=r.lastWord,i=r.firstSentenceIndex,c=r.lastSentenceIndex,i===c&&s===a&&(n=t.state.selectedSentences[i].words[s].word.toLowerCase()))),""===n||!t.state.fillerWords){e.next=23;break}if(!t.isFillerWord(n)){e.next=15;break}return delete(l=(0,o.Z)({},t.state.fillerWords))[t.cleanFillerWord(n)],e.next=9,(0,Re.d)();case 9:return e.next=11,Te.Ke.put(t.fillerWordsURL,JSON.stringify(Object.keys(l)),{level:"private",contentType:"application/json",cacheControl:"no-store",expires:0});case 11:t.clearSelection(),t.setState({fillerWords:l},(function(){t.removeFillers({target:{checked:t.state.isRemoveFillers}})})),e.next=23;break;case 15:return(u=(0,o.Z)({},t.state.fillerWords))[t.cleanFillerWord(n)]=t.cleanFillerWord(n),e.next=19,(0,Re.d)();case 19:return e.next=21,Te.Ke.put(t.fillerWordsURL,JSON.stringify(Object.keys(u)),{level:"private",contentType:"application/json",cacheControl:"no-store",expires:0});case 21:t.clearSelection(),t.setState({fillerWords:u},(function(){t.removeFillers({target:{checked:t.state.isRemoveFillers}})}));case 23:case"end":return e.stop()}}),e)}))),t.removeFillers=function(e){var n=e.target.checked;S().getInstance().logEvent("video-editing-filler-click",{"media-url":t.state.url,"remove-filler":n,"project-id":t.state.projectDetails.project_id});for(var r=(0,B.Z)(t.state.selectedSentences),s=0;s<r.length;s++){r[s]=(0,o.Z)({},r[s]),r[s].words=(0,B.Z)(r[s].words);for(var a=0;a<r[s].words.length;a++){var i=r[s].words[a];i.is_delete_icon&&i.isDeletedFiller&&t.undoDelete(i.deleted_sentences,a,s,r);var c=!1;if(n&&(c=t.isFillerWord(i.word))){var l={firstWord:a,lastWord:a,firstSentenceIndex:s,lastSentenceIndex:s,isFiller:c};delete r[s].words[a].isFiller,t.deleteMultipleWords(l,r)}}}t.setState({selectedSentences:r,isAnyChange:!0,isRemoveFillers:n},(function(){t.createTimeMarkersArray()}))},t.removeSpeakingWord=function(){t.lastSpeakingWordElement&&(t.lastSpeakingWordElement.className=t.lastSpeakingWordElement.className.split(" ").filter((function(e){return"speaking"!==e})).join(" ")),t.setState({speakingWord:""})},t.onDoubleClickWord=function(e,n){e.stopPropagation(),t.setState({editingWord:n},(function(){t.toggleMenu("hide"),t.editingWord&&t.editingWord.focus()}))},t.isFillerWord=function(e){return!!(e&&t.state.fillerWords&&t.state.fillerWords[t.cleanFillerWord(e)])},t.cleanFillerWord=function(e){return e?e.toLowerCase().trim().replace(/[^A-Za-z0-9]/g,""):e},t.getTranscriptionDocumentView=function(){if(t.state.url&&t.state.selectedSentences){var e=t.state.transcriptionSearch.matches.map((function(e){return e.id})),n=t.state.transcriptionSearch.activeEls.map((function(e){return e.id}));return(0,E.jsxs)("div",{className:"mCustomScrollbar hover-only-scrollbar selectable",style:{height:"calc(100% - 48px)",overflowY:"auto",position:"absolute",backgroundColor:"white"},children:[!t.state.showHighlightedTab&&t.state.selectedSentences.reduce((function(r,s,a){var i=t.getTranscriptionWordElements(s,a,e,n);return i.length>0&&r.push((0,E.jsx)("p",{className:"transcription-text",id:"p_"+a,children:(0,E.jsx)("span",{className:["font-size-3 p-1 btn-span",t.state.isAutoSummarize?"orignalArticleText":"",t.state.isAutoSummarize?"orignalArticleHighlightText":""].join(" "),style:{backgroundColor:"#a1d9ec !important"},children:i})},s.uid)),r}),[]),(0,E.jsx)("br",{})," "]})}},t.getHighlightedDocumentView=function(e){if(t.state.url&&t.state.selectedSentences){var n=t.state.transcriptionSearch.matches.map((function(e){return e.id})),r=t.state.transcriptionSearch.activeEls.map((function(e){return e.id}));return(0,E.jsx)(E.Fragment,{children:t.state.showHighlightedTab&&(0,E.jsxs)("div",{className:"mCustomScrollbar hover-only-scrollbar selectable highlights-container",style:{height:"calc(100% - 48px)",overflowY:"auto",position:"absolute",backgroundColor:"white",padding:"0 10px 10px"},children:[e>0&&(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",position:"sticky",top:"0",paddingTop:"10px",backgroundColor:"white"},children:[(0,E.jsxs)("div",{style:{display:"flex",marginTop:"5px",marginBottom:"5px"},children:[(0,E.jsxs)("button",{type:"button",onClick:function(){return t.generateVideoClip(!0)},title:"Download video clips for selected highlights",className:"btn btn-default sortof-black",children:[(0,E.jsx)("i",{className:"fa fa-download blue","aria-hidden":"true",style:{marginRight:"10px"}}),"Download video clips"]}),(0,E.jsxs)("button",{type:"button",onClick:function(){return t.unhighlightSelectedIds()},title:"Unhighlight selected sentences",className:"btn btn-default sortof-black",children:[(0,E.jsx)("i",{className:"fa fa-minus-circle blue","aria-hidden":"true",style:{marginRight:"10px"}}),"Unhighlight"]})]}),(0,E.jsx)("input",{type:"checkbox",checked:t.state.isSelectAll,onChange:function(e){return t.selectMultipleHighlights(e.target.checked,null,!0)}})]}),0==e&&(0,E.jsxs)("div",{className:"msg-container",children:[(0,E.jsx)("div",{children:(0,E.jsx)("p",{className:"msg-heading",children:"No highlights found"})}),(0,E.jsxs)("p",{className:"sortof-black banner-msg",children:["Click Auto highlight or manually select sentences in the transcription and add them to highlights.",(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),"You can then generate multiple video clips of the highlights here."]})]}),t.state.selectedSentences.reduce((function(e,s,a){var i=t.getTranscriptionWordElements(s,a,n,r,!0),o=-1!=t.state.selectedHighlightIds.findIndex((function(e){return e==s.uid}));return i.length>0&&e.push((0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:"highlights-row",style:o?{backgroundColor:"#C2FFDF"}:{},children:[(0,E.jsx)("p",{className:"transcription-text highlights-row-text",id:"p_"+a,children:(0,E.jsx)("span",{className:["font-size-3 p-1 btn-span",t.state.isAutoSummarize?"orignalArticleText":"",t.state.isAutoSummarize?"orignalArticleHighlightText":""].join(" "),style:{backgroundColor:"#a1d9ec !important"},children:i})}),(0,E.jsx)("input",{type:"checkbox",checked:o,onChange:function(e){return t.selectMultipleHighlights(e.target.checked,s.uid,!1)}})]},s.uid),(0,E.jsx)("hr",{className:"dotted-line-hr"})]},a)),e}),[]),(0,E.jsx)("br",{})," "]})})}},t.selectMultipleHighlights=function(e,n,r){if(r){var s=[];return e&&t.state.selectedSentences.forEach((function(e){e.words.findIndex((function(e){return e.summary}))>-1&&s.push(e.uid)})),void t.setState({selectedHighlightIds:s,isSelectAll:e})}var a=(0,B.Z)(t.state.selectedHighlightIds);if(e)a.push(n),t.setState({selectedHighlightIds:a,isSelectAll:void 0});else{var i=a.findIndex((function(e){return e==n}));i>-1&&(a.splice(i,1),t.setState({selectedHighlightIds:a,isSelectAll:void 0}))}},t.unhighlightSelectedIds=function(){for(var e=(0,B.Z)(t.state.selectedHighlightIds),n=(0,B.Z)(t.state.selectedSentences),r=0;r<n.length&&0!=e.length;r++){var s=e.indexOf(n[r].uid);if(s>-1){e.splice(s,1),n[r]=(0,o.Z)({},n[r]),n[r].words=(0,B.Z)(n[r].words);for(var a=0;a<n[r].words.length;a++)n[r].words[a]=(0,o.Z)({},n[r].words[a]),n[r].words[a].summary=!1}}t.setState({isAnyChange:!0,selectedSentences:n,selectedHighlightIds:e,isSelectAll:!1,isSummarized:t.getHighlightedSentenceCount(n)>0})},t.getWordsPauseDisplayElement=function(e){return(0,E.jsx)(E.Fragment,{children:t.getWordsPauseDisplayText(e)})},t.getWordsPauseDisplayText=function(e){return e.is_pause?{large:"▪▪▪",medium:"▪▪",small:"▪"}[e.pause_size]||"■":""},t.getDisplayTextFromSentences=function(e){var n="";return e.forEach((function(e){var r="";e.words.forEach((function(e){e.is_pause?r+=t.getWordsPauseDisplayText(e)+" ":r+=e.word+" "})),n+=r+"\n"})),n},t.undoDelete=function(e,n,r){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=a||(0,B.Z)(t.state.selectedSentences),c=0,l=[],u=(0,B.Z)(e);if(u[0]&&!u[0].full_sentence&&(l=u.shift().words,c++),i[r]=(0,o.Z)({},i[r]),i[r].words=(0,B.Z)(i[r].words),(s=i[r].words).splice.apply(s,[n,1].concat((0,B.Z)(l))),u.length>0){var d=null;if(u[u.length-1].full_sentence||(d=u.pop()),u.length>0&&(n>0&&0==c&&c++,u.forEach((function(e){delete e.full_sentence})),i.splice.apply(i,[r+c,0].concat((0,B.Z)(u)))),d){var p,h=r+c+u.length;i[h]=(0,o.Z)({},i[h]),i[h].words=(0,B.Z)(i[h].words),(p=i[h].words).splice.apply(p,[0,0].concat((0,B.Z)(d.words)))}}if(!a){var m=r<i.length?r:i.length-1;t.setVideoStartTime(i,m),t.setState({selectedSentences:i,isAnyChange:!0,refreshSentence:!t.state.refreshSentence,sentenceIndex:r},(function(){t.createTimeMarkersArray()})),S().getInstance().logEvent("video-editing-undo-delete-sentences",{"media-url":t.state.url,"undo-deleted-sentences":t.getDisplayTextFromSentences(e),"project-id":t.state.projectDetails.project_id})}},t.getTranscriptionWordElements=function(e,n,r,s,a){return e.words.reduce((function(e,i,o){if(!(i.isFiller||i.is_pause&&"deleted"===i.state)){if(a&&!i.summary)return e;var c=i.word+"_"+o+"_"+n,l=o+"_"+n;if(t.state.showInlineUndoDelete&&i.is_delete_icon){var u=t.getDisplayTextFromSentences(i.deleted_sentences);e.push((0,E.jsx)("span",{ref:function(e){return t.addWordElementReferences(e,n,o)},id:c,children:(0,E.jsx)("button",{type:"button",onClick:function(){return t.undoDelete(i.deleted_sentences,o,n)},title:u,className:"btn btn-default undo-delete"+(i.isDeletedPause?" pause":""),children:(0,E.jsx)("i",{className:"fa fa-undo","aria-hidden":"true"})})},i.uid))}else i.is_pause&&t.state.editingWord!==c?e.push((0,E.jsxs)("span",{ref:function(e){return t.addWordElementReferences(e,n,o)},id:c,onDoubleClick:function(e){return t.onDoubleClickWord(e,c)},onContextMenu:function(e){return t.openRightMenu(e,o,n,i.word,c)},onClick:function(){return t.seekTimeOnWord(i.start_time,n,o,c)},title:"Looks like no one is speaking for ".concat((i.end_time-i.start_time).toFixed(2),"s"),className:["dark-green-hover",c==t.state.selectedWord?"selected":"",i.summary&&t.state.isSummarized?"summarized":"","grey "].join(" "),children:[t.getWordsPauseDisplayElement(i),(0,E.jsx)(E.Fragment,{children:" "})]},i.uid||c)):e.push(t.state.editingWord===c&&(t.state.showHighlightedTab&&a||!t.state.showHighlightedTab&&!a)?(0,E.jsx)("input",{type:"text",className:"naked-input",size:i.word.length,ref:function(e){return t.editingWord=e},defaultValue:i.word,onBlur:function(e){t.editWord(n,o,e.target.value)},onKeyUp:function(e){t.onWordEditorKeyUp(e,n,o,e.target.value)},onMouseOver:function(e){e.target.focus()}},i.uid||c):(0,E.jsxs)("span",{ref:function(e){return t.addWordElementReferences(e,n,o)},id:c,onDoubleClick:function(e){return t.onDoubleClickWord(e,c)},onContextMenu:function(e){return t.openRightMenu(e,o,n,i.word,c)},onClick:function(){return t.seekTimeOnWord(i.start_time,n,o,c)},title:t.isFillerWord(i.word)?"Filler word":"",className:["dark-green-hover",c==t.state.selectedWord?"selected":"",r.indexOf(c)>-1?"highlighted":"",s.indexOf(c)>-1?"main-highlighted":"",i.summary&&t.state.isSummarized?"summarized":"",t.isFillerWord(i.word)?"filler-word":"",t.state.speakingWord===l?"speaking":""].join(" "),children:[i.word,(0,E.jsx)(E.Fragment,{children:" "})]},i.uid||c))}return e}),[])},t.addWordElementReferences=function(e,n,r){e&&(t.wordElementReferences||(t.wordElementReferences={}),t.wordElementReferences["".concat(n,"_").concat(r)]=e)},t.formatePresentData=function(){t.setState({selectedSentences:t.state.present.selectedSentences||t.state.selectedSentences,summarizePercent:t.state.present.summarizePercent,isSubtitleEnabled:t.state.present.isSubtitleEnabled,isRemoveFillers:t.state.present.isRemoveFillers,isSummarized:t.state.present.isSummarized},(function(){t.createTimeMarkersArray()}))},t.storeUndoableData=function(){var e={selectedSentences:t.state.selectedSentences,summarizePercent:t.state.summarizePercent,isSubtitleEnabled:t.state.isSubtitleEnabled,isRemoveFillers:t.state.isRemoveFillers,isSummarized:t.state.isSummarized},n=at().cloneDeep(e),r=(0,B.Z)(t.state.past);r.length>20&&r.shift(),r.push((0,o.Z)({},t.state.present)),t.setState({past:r,future:[]},(function(){t.setState({present:n},(function(){t.createTimeMarkersArray()}))}))},t.undo=function(){S().getInstance().logEvent("video-editing-undo-click",{"media-url":t.state.url,"project-id":t.state.projectDetails.project_id});var e=t.state,n=e.past,r=e.present,s=e.future,a=(0,B.Z)(n),i=a.pop();t.setState({future:[r].concat((0,B.Z)(s)),past:a,present:i},(function(){t.formatePresentData()}))},t.redo=function(){S().getInstance().logEvent("video-editing-redo-click",{"media-url":t.state.url,"project-id":t.state.projectDetails.project_id});var e=t.state,n=e.past,r=e.present,s=e.future,a=(0,B.Z)(s);a.splice(0,1),t.setState({past:[].concat((0,B.Z)(n),[r]),present:s[0],future:a},(function(){t.formatePresentData()}))},t.hideUpgradeModal=function(e,n){e&&e.stopPropagation(),ie()(".modal").modal("hide"),n&&t.props.history.push({pathname:"/"+y.Z.plansList})},t.showUpgradeModal=function(e){e&&e.stopPropagation(),(0,te.TX)("step-3-modal"),ie()("#step-3-modal").modal("show"),document.body.appendChild(document.getElementById("step-3-modal"))},t.isSubtitleEnabled=function(e){S().getInstance().logEvent("video-editing-subtitle-clicked",{"media-url":t.state.url,"subtitle-enabled":e,"project-id":t.state.projectDetails.project_id}),t.setState({isSubtitleEnabled:e,isAnyChange:!0})},t.clearSummarizer=function(e){S().getInstance().logEvent("video-editing-summary-cleared",{"media-url":t.state.url,"project-id":t.state.projectDetails.project_id}),e||t.setState({isSummarized:!1,showLoader:!1,summarizePercent:0,estimatedTime:0});for(var n=(0,B.Z)(t.state.selectedSentences),r=0;r<n.length;r++)n[r]=(0,o.Z)({},n[r]),n[r].words=n[r].words.map((function(e){return e.summary?(0,o.Z)((0,o.Z)({},e),{},{summary:!1}):e}));var s=t.state.selectedSentences;return t.setState({selectedSentences:n,isAnyChange:!e,showLoader:!!e&&t.state.showLoader},(function(){e||t.createTimeMarkersArray(!0)})),s},t.createPercentageArray=function(){var e=(0,B.Z)(t.state.selectedSentences);if(e&&e.length){for(var n=0,r=0;r<e.length;r++)for(var s=e[r],a=0;a<s.words.length;a++){var i=s.words[a];if(!i.isFiller&&!i.is_delete_icon&&i.end_time!=i.start_time){var o=parseFloat(i.end_time)-parseFloat(i.start_time);n+=o}}var c=[];[5,10,25,50,75].map((function(e){c.push({percent:e,duration:parseFloat(parseFloat(n)*(e/100))})})),t.setState({percentageValues:c})}},t.summarize=function(){if(S().getInstance().logEvent("video-editing-summary-click",{"media-url":t.state.url,"project-id":t.state.projectDetails.project_id}),t.state.autoSummarizeEnabled)if((0,te.N$)(t.state.user?t.state.user.username:"")[Ce.R2.transcriptionSummarization])if(t.state.summarizePercent&&t.state.summarizePercent>0){if(t.state.selectedSentences&&t.state.selectedSentences.length){for(var e=0,n=t.clearSummarizer(!0),r=0;r<n.length;r++)for(var s=n[r],a=0;a<s.words.length;a++){var i=s.words[a];i.isFiller||i.is_delete_icon||i.end_time!=i.start_time&&(e+=parseFloat(i.end_time)-parseFloat(i.start_time))}t.setState({selectPercentage:!1,showLoader:!0,isSummarized:!0});var o={transcribe_sentences:n,duration:parseFloat(parseFloat(e)*(t.state.summarizePercent/100)),project_id:t.state.projectDetails.project_id};t.props.summarizeTranscription(o)}}else t.props.showErrorNotification("Please select a highlights percentage");else t.showUpgradeModal();else t.setState({selectPercentage:!1,isSummarized:!0})},t.showSummarizeData=function(e){if(e.summary_transcription&&e.summary_transcription.length>0){var n=e.transcribe_sentences;t.setState({selectedSentences:n,isAnyChange:!0,showLoader:!1},(function(){t.createTimeMarkersArray(!0),t.clearSelection()}))}else(0,w.x2)("Couldn't get highlights in the video"),t.setState({isSummarized:!1,showLoader:!1})},t.toggleMenu=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.floatingMenu&&(t.floatingMenu.style.display="show"===e?"block":"none",t.floatingMenu.style.left="".concat(r,"px"),t.floatingMenu.style.top="".concat(n,"px"),t.floatingMenuOptions&&"show"!==e))for(var s in t.floatingMenuOptions)t.floatingMenuOptions[s].style.display="none"},t.showFloatingOptionMenu=function(e,n,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=!1;if(t.floatingMenuOptions)for(var i in t.floatingMenuOptions)t.floatingMenuOptions[i].style.display="none";switch(r){case"selection":var o=t.getSelectionRange();if(t.floatingMenuOptions&&!at().isEmpty(o)){var c=o.firstWord,l=o.lastWord,u=o.firstSentenceIndex,d=o.lastSentenceIndex;if(u===d&&c===l){if(t.state.selectedSentences&&t.state.selectedSentences.length>0&&!t.state.selectedSentences[u].words[c].is_pause){var p=t.state.selectedSentences[u].words[c].word,h=t.isFillerWord(p);t.floatingMenuOptions[t.floatingMenuOptionNames.MARK_FILLER]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.MARK_FILLER].innerText=h?"Remove as filler word":"Mark as filler word",t.floatingMenuOptions[t.floatingMenuOptionNames.MARK_FILLER].style.display="block",a=!0)}}else if(t.state.isSummarized){var m=t.checkAlreadySummarizedWords(o);m?t.floatingMenuOptions[t.floatingMenuOptionNames.REMOVE_FROM_HIGHLIGHT]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.REMOVE_FROM_HIGHLIGHT].style.display="block",a=!0):null===m?(t.floatingMenuOptions[t.floatingMenuOptionNames.ADD_TO_HIGHLIGHT]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.ADD_TO_HIGHLIGHT].style.display="block",a=!0),t.floatingMenuOptions[t.floatingMenuOptionNames.REMOVE_FROM_HIGHLIGHT]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.REMOVE_FROM_HIGHLIGHT].style.display="block",a=!0)):t.floatingMenuOptions[t.floatingMenuOptionNames.ADD_TO_HIGHLIGHT]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.ADD_TO_HIGHLIGHT].style.display="block",a=!0)}else t.floatingMenuOptions[t.floatingMenuOptionNames.ADD_TO_HIGHLIGHT]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.ADD_TO_HIGHLIGHT].style.display="block",a=!0);t.floatingMenuOptions[t.floatingMenuOptionNames.DELETE_WORD]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.DELETE_WORD].style.display="block",a=!0),t.floatingMenuOptions[t.floatingMenuOptionNames.GENERATE_VIDEO]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.GENERATE_VIDEO].style.display="block",a=!0)}break;case"rightclick":if(s){var g=t.isFillerWord(s.word);t.floatingMenuOptions&&(s.is_pause||t.floatingMenuOptions[t.floatingMenuOptionNames.MARK_FILLER]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.MARK_FILLER].innerText=g?"Remove as filler word":"Mark as filler word",t.floatingMenuOptions[t.floatingMenuOptionNames.MARK_FILLER].style.display="block",a=!0),t.floatingMenuOptions[t.floatingMenuOptionNames.DELETE_WORD]&&(t.floatingMenuOptions[t.floatingMenuOptionNames.DELETE_WORD].style.display="block",a=!0))}}a&&t.toggleMenu("show",e,n)},t.clearSearchValue=function(){return t.searchRef.value="",t.replaceRef.value="",t.setState({transcriptionSearch:{query:"",activeEl:null,activeEls:[],activeElIndex:-1,matches:[],consecutiveMatchedWords:1}})},t.searchValueChanged=function(e,n){S().getInstance().logEvent("video-editing-search",{"media-url":t.state.url,value:e,"project-id":t.state.projectDetails.project_id});var r={query:e.toLowerCase(),activeEl:null,activeEls:[],activeElIndex:-1,matches:[],consecutiveMatchedWords:1};if(!e)return t.setState({transcriptionSearch:r});var s=r.query.trim().split(" ").reduce((function(e,t){return t&&t.trim()&&e.push(t.trim()),e}),[]),a=s[0],i=[];t.state.selectedSentences.forEach((function(e,n){var o=0;if(!1!==e.words.some((function(e){var t=e.word.toLowerCase(),n=o+1<s.length?t==s[o]:t.indexOf(s[o])>-1;return n&&o+1<s.length?(o++,!1):n})))for(var c=0;c<e.words.length;c++){var l=e.words[c];if(0===l.word.toLowerCase().indexOf(a)&&(i.push({id:l.word+"_"+c+"_"+n,word:l.word}),s.length>1)){if(i[i.length-1].word.toLowerCase()!==a.toLowerCase()){i.pop();continue}for(var u=1;u<s.length;u++){var d=s[u],p=c+1,h=e.words[p];if(!h){for(var m=u;m>0;)i.pop(),m--,c--;c+=1;break}if(u<s.length-1){if(!(h.word.toLowerCase()===d.toLowerCase()||t.wordEndsWithPunctuation(h.word)&&h.word.toLowerCase().substring(0,h.word.length-1)===d.toLowerCase())){for(var g=u;g>0;)i.pop(),g--,c--;c+=1;break}c=p,i.push({id:h.word+"_"+p+"_"+n,word:h.word}),r.consecutiveMatchedWords=s.length}else{if(0!==h.word.toLowerCase().indexOf(d)){for(var f=u;f>0;)i.pop(),f--,c--;c+=1;break}c=p,i.push({id:h.word+"_"+p+"_"+n,word:h.word}),r.consecutiveMatchedWords=s.length}}}}})),r.matches=i,i.length&&(r.activeEl=i[0],r.activeEls=i.slice(0,s.filter((function(e){return e&&e.length})).length),r.activeElIndex=0),t.setState({transcriptionSearch:r},(function(){i.length&&t.bringSearchedElementToFocus(n)}))},t.wordEndsWithPunctuation=function(e){return!(!e||!ei.includes(e[e.length-1]))},t.search=at().debounce((function(e){t.searchValueChanged(e)}),500),t.selectSummarizeValue=function(e){S().getInstance().logEvent("video-editing-summary-percentage",{"media-url":t.state.url,value:e,"project-id":t.state.projectDetails.project_id}),t.setState({selectPercentage:!0,summarizePercent:parseInt(e)},(function(){var e=(0,B.Z)(t.state.selectedSentences);if(e&&e.length){for(var n=0,r=0;r<e.length;r++)for(var s=e[r],a=0;a<s.words.length;a++){var i=s.words[a];i.isFiller||i.is_delete_icon||i.end_time!=i.start_time&&(n+=parseFloat(i.end_time)-parseFloat(i.start_time))}t.setState({estimatedTime:parseFloat(parseFloat(n)*(t.state.summarizePercent/100))})}}))},t.markCurrentSpeakingWord=function(e,n,r,s){if(t.setState({selectedWord:""}),t.lastSpeakingWordElement&&(t.lastSpeakingWordElement.className=t.lastSpeakingWordElement.className.split(" ").filter((function(e){return"speaking"!==e})).join(" "),t.lastSpeakingWord=null),t.wordElementReferences&&t.wordElementReferences["".concat(r,"_").concat(n)]){var a=t.wordElementReferences["".concat(r,"_").concat(n)],i=a.className.split(" ");i.push("speaking"),a.className=i.join(" "),a.scrollIntoViewIfNeeded(),t.lastSpeakingWordElement=a,t.lastSpeakingWord={wordIndex:n,sentenceIndex:r,start_time:s,uniqueWord:e}}},t.onPausePreview=function(){t.removeSpeakingWord(),t.lastSpeakingWord&&(t.seekTimeOnWord(t.lastSpeakingWord.start_time,t.lastSpeakingWord.sentenceIndex,t.lastSpeakingWord.wordIndex,t.lastSpeakingWord.uniqueWord),t.lastSpeakingWord=null)},t.BackURL=function(e){t.props.history.push(b.Z.BaseURL+y.Z.stepOne)},t.setFloatingMenu=function(e){t.floatingMenu=e},t.setFloatingMenuOptions=function(e,n){t.floatingMenuOptions||(t.floatingMenuOptions={}),t.floatingMenuOptions[e]=n},t.getHighlightedSentenceCount=function(e){var n=0;return e||(e=t.state.selectedSentences),e.forEach((function(e){e.words.findIndex((function(e){return e.summary}))>-1&&n++})),n},t.onSubtitlesLineCountChange=function(e){t.setState({subtitlesLineCount:e,isAnyChange:!0})},t.getIndexFromWordId=function(e){var t=e.split("_");return{word:t[0],sentenceIndex:parseInt(t[2]),wordIndex:parseInt(t[1])}},t.replaceSearched=function(e,n){var r=t.state.transcriptionSearch,s=r.activeEls;if(0!=s.length){var a=(0,B.Z)(t.state.selectedSentences),i=t.replaceRef.value.trim(),c=1;e&&(c=Math.ceil(r.matches.length/r.consecutiveMatchedWords));for(var l=0,u=0;u<c;u++){var d=void 0,p=void 0;if(e){var h=u*r.consecutiveMatchedWords;d=r.matches[h],p=r.matches[h+r.consecutiveMatchedWords-1]}else d=s[0],p=s[s.length-1];var m=t.getIndexFromWordId(d.id),g=m.sentenceIndex,f=m.wordIndex;if(0==u&&(l=g),a[g]=(0,o.Z)({},a[g]),a[g].words=(0,B.Z)(a[g].words),n){var v=t.getIndexFromWordId(p.id),x=v.sentenceIndex,y={firstWord:f,lastWord:v.wordIndex,firstSentenceIndex:x,lastSentenceIndex:x};t.deleteMultipleWords(y,a)}else{var b=(0,o.Z)({},a[g].words[f]);if(b.word=""==i?"":i,r.consecutiveMatchedWords>1){var j=t.getIndexFromWordId(p.id),w=j.sentenceIndex,Z=j.wordIndex,k=a[w].words[Z];b.end_time=k.end_time}a[g].words[f]=b,r.consecutiveMatchedWords>1&&a[g].words.splice(f+1,r.consecutiveMatchedWords-1)}}var C=l<a.length?l:a.length-1;t.setVideoStartTime(a,C),t.setState({selectedSentences:a,isAnyChange:!0,refreshSentence:!t.state.refreshSentence,sentenceIndex:l},(function(){t.createTimeMarkersArray();var e=r.activeEl.id,n=i+e.substring(e.indexOf("_"));t.setState({selectedWord:n});var a=r.matches.findIndex((function(e){return e.id==s[0].id})),o=Math.ceil(a/r.consecutiveMatchedWords);t.searchValueChanged(t.searchRef.value,o)})),S().getInstance().logEvent("video-editing-search-replace-words",{"media-url":t.state.url,"search-query":r.query,"searched-words":r.activeEls.reduce((function(e,t){return e.word+" "+t.word})),"replaced-with-words":i,"project-id":t.state.projectDetails.project_id})}},t.searchBox=function(){var e=Math.floor(t.state.transcriptionSearch.activeElIndex/t.state.transcriptionSearch.consecutiveMatchedWords);return(0,E.jsxs)("div",{className:"transcribe-search-container horizontal-flex space-between-center pr-1",style:{visibility:"visible"},children:[(0,E.jsx)("div",{className:"icon search-icon"}),(0,E.jsx)("input",{className:"search-box naked ml-1 mr-1 flex-filler",placeholder:t.state.showSearchReplaceBox?"Search ...":"Search and replace ...",name:"new-search-value",autoComplete:"off",ref:function(e){return t.searchRef=e},onChange:function(e){return t.search(e.target.value)},onFocus:function(){return t.setState({showSearchReplaceBox:!0})},style:{width:"156px"}}),(0,E.jsx)("span",{className:"grey easy result-line",children:t.state.transcriptionSearch&&t.state.transcriptionSearch.matches&&t.state.transcriptionSearch.matches.length?"".concat(e+1," of ").concat(Math.ceil(t.state.transcriptionSearch.matches.length/t.state.transcriptionSearch.consecutiveMatchedWords)," results"):""}),(0,E.jsx)("div",{className:["icon caret-down-icon",!t.state.transcriptionSearch.matches.length||e+1>=Math.ceil(t.state.transcriptionSearch.matches.length/t.state.transcriptionSearch.consecutiveMatchedWords)?"disabled":""].join(" "),onClick:function(){t.bringSearchedElementToFocus(1)}}),(0,E.jsx)("div",{className:["icon caret-up-icon",t.state.transcriptionSearch.matches.length&&e?"":"disabled"].join(" "),onClick:function(){t.bringSearchedElementToFocus(-1)}}),(0,E.jsx)("div",{className:"min-width-30",children:t.state.transcriptionSearch.query&&(0,E.jsx)("div",{className:"icon close-icon",onClick:t.clearSearchValue})})]})},t.state={url:t.props.location.state.url,value:t.props.location.state.value,previousValue:t.props.location.state.value,totalLines:t.props.location.state.totalLines,lines:t.props.location.state.lines,data:t.props.location.state.step2Data,OverlayMessage:"Extracting key messages in the article...",projectDetails:t.props.location.state&&t.props.location.state.projectDetails||{},isAnyChange:!1,saveButtonText:"Save",title:t.props.location.state&&t.props.location.state.projectDetails.title||"",isAutoSummarize:t.props.location.state&&t.props.location.state.isAutoSummarize,percent:0,transcribe_sentences:t.props.location.state&&t.props.location.state.transcribe_sentences?t.props.location.state.transcribe_sentences:[],selectedSentences:t.props.location.state&&t.props.location.state.selectedSentences?t.props.location.state.selectedSentences:[],timeMarkers:[],videoStartTime:0,mergeText:"Merge",deleteText:"Delete from video",splitText:"Split",present:{},past:[],future:[],isSubtitleEnabled:t.props.location.state.projectDetails.isSubtitleEnabled,isRemoveFillers:t.props.location.state.projectDetails.isRemoveFillers,isSummarized:t.props.location.state.projectDetails.isSummarized,autoSummarizeEnabled:!0,fillerWords:{},transcriptionSearch:{query:"",activeEl:null,activeEls:[],activeElIndex:-1,matches:[],consecutiveMatchedWords:1},selectPercentage:!1,summarizePercent:t.props.location.state.projectDetails.summarizePercent?t.props.location.state.projectDetails.summarizePercent:0,estimatedTime:0,percentageValues:[],loaderActive:!1,loaderMessage:"",videoResolution:"720p",aspectRatioFractionValue:pe.Wi,aspectRatioClass:pe.TJ,showInlineUndoDelete:!0,selectedHighlightIds:[],subtitlesLineCount:t.props.location.state&&t.props.location.state.projectDetails.subtitlesLineCount||1,minSilenceDuration:2},t.state.projectDetails&&(t.state.videoResolution=t.state.projectDetails.videoResolution||t.state.videoResolution,t.state.aspectRatioFractionValue=t.state.projectDetails.aspectRatioFractionValue||t.state.aspectRatioFractionValue,t.state.aspectRatioClass=t.state.projectDetails.aspectRatioClass||t.state.aspectRatioClass,t.state.editingVideoHeight=t.state.projectDetails.editingVideoHeight,t.state.editingVideoWidth=t.state.projectDetails.editingVideoWidth,t.state.sceneStyle=t.getSceneStyles(t.props.brandSettings)),t.props.location.state.projectDetails&&t.props.location.state.projectDetails.transcriptionLanguage&&!1===t.props.location.state.projectDetails.transcriptionLanguage.startsWith("en-")&&(t.state.autoSummarizeEnabled=!1),t.state.selectedSentences&&t.state.selectedSentences.length>0&&(t.state.selectedSentences[0].uid||t.state.selectedSentences.forEach((function(e){return e.uid=(0,ct.Z)()}))),t.introScene=null,t.outroScene=null,t.sentence_index=0,t.word_index=0,t.previous_data_sentence_id=null,t.fillerWordsURL="fillers/fillers.json",t.showOnSelectMenuOptions=!1,t.floatingMenuOptionNames={MARK_FILLER:"MARK_FILLER",DELETE_WORD:"DELETE_WORD",ADD_TO_HIGHLIGHT:"ADD_TO_HIGHLIGHT",REMOVE_FROM_HIGHLIGHT:"REMOVE_FROM_HIGHLIGHT",GENERATE_VIDEO:"GENERATE_VIDEO"},t}return(0,s.Z)(l,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mediaDownloadResult.videoURL&&e.mediaDownloadResult!==this.props.mediaDownloadResult&&e.mediaDownloadResult.project_id===this.state.projectDetails.project_id&&this.setState({downloadedVideoUrl:e.mediaDownloadResult.videoURL}),this.props.transcribeSummaryDetails.isChanged!=e.transcribeSummaryDetails.isChanged&&(e.transcribeSummaryDetails.isError?(this.setState({showLoader:!1,isSummarized:!1}),(0,w.x2)("Couldn't get highlights in the video")):this.showSummarizeData(e.transcribeSummaryDetails)),e.videoGenerationResponseId!==this.props.videoGenerationResponseId&&(this.setState({waitForInprogressTasks:!0}),this.state.multipleVideoClips?this.state.isLastVideoGenerationClip&&this.setState({preparingGenerateVideoJson:!1}):this.setState({preparingGenerateVideoJson:!1}),this.props.getInProgressProjects(this.state.user.username)),e.inProgressProjects&&e.inProgressProjects.length>0&&e.inProgressProjects!==this.props.inProgressProjects&&this.state.waitForInprogressTasks&&((0,w.s$)("Video generation is in progress",(function(){t.setState({openNotificationPanel:!t.state.openNotificationPanel})})),this.setState({waitForInprogressTasks:!1})),e.brandSettings!==this.props.brandSettings&&(be.Z.cleanUpLineContainers(),this.setState({sceneStyle:this.getSceneStyles(e.brandSettings)}))}},{key:"componentWillMount",value:function(){var e=this;be.Z.cleanUpLineContainers(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("selectionchange",this.onDocumentSelectionChanged),document.addEventListener("keyup",this.onDocumentKeyUp),v.g.currentAuthenticatedUser().then(function(){var t=(0,O.Z)((0,N.Z)().mark((function t(n){return(0,N.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({user:n}),e.setState({loaderMessage:"Please wait...",loaderActive:!0}),t.next=4,e.props.getBrandSettings(n.username);case 4:e.setState({loaderMessage:"",loaderActive:!1}),e.state.projectDetails&&e.state.projectDetails.transcribe_sentences&&e.state.projectDetails.selectedSentences&&e.state.projectDetails.transcribe_sentences.length&&e.state.projectDetails.selectedSentences.length&&e.setSentences(e.state.projectDetails.transcribe_sentences,e.state.projectDetails.selectedSentences);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentWillUnmount",value:function(){be.Z.cleanUpLineContainers(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("selectionchange",this.onDocumentSelectionChanged),document.removeEventListener("keyup",this.onDocumentKeyUp),this.props.resetTranscriptionMedia()}},{key:"componentDidMount",value:function(){var e=C.Z.getItem("lastUrl");"brandSettings"!=e&&"createvideo_step2"!=e||this.setState({OverlayMessage:"Please wait..."}),C.Z.removeItem("lastUrl"),C.Z.setItem("lastUrl","createvideo_step2"),this.state.projectDetails&&this.state.projectDetails.articleUrl&&this.props.downloadResources(this.state.projectDetails.project_id,this.state.projectDetails.articleUrl)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.isAnyChange&&this.setState({isAnyChange:!1},(function(){n.saveProjectDetails_debounce()})),this.state.selectedSentences!==t.selectedSentences&&this.setState({areSilencesRemoved:this.checkSilencesRemoved()})}},{key:"generateVideoJSON",value:(t=(0,O.Z)((0,N.Z)().mark((function e(t,n,r){var s,a,i,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return e},e.next=3,this.getSelectedSentenceScenes(t,n);case 3:if(s=e.sent,a=s.summaryJson,s.timePerFrame,!0!==this.state.cancelPreparingGenerateVideoJson){e.next=8;break}return e.abrupt("return",null);case 8:if(0!==a.length){e.next=10;break}return e.abrupt("return",null);case 10:this.setState({generateVideoJsonStep:2}),i=(0,te.we)(this.state.user.username),c=i&&i.plan?i.plan.plan_code:"",l=c===Ce.yj.freeTrial||c===Ce.yj.teamsFreeTrial,d=this.getVideoDimensions(),p=d.videoWidth,h=d.videoHeight,m=d.heightCoefficient,g=this.getVideoName(a,n,r),f={audio:{},output:{width:p,height:h,format:"mp4",name:g+".mp4",title:this.state.projectDetails.projectName,description:""},scenes:[],projectId:this.state.projectDetails.project_id},v={},f.audio=v,x=5,S=5,this.props.brandSettings.customIntro&&this.props.brandSettings.customIntro.showStyle&&a.unshift({sentence:"",sceneType:"Custom Intro Scene",keywords:[],type:"summary",image:"",subsentences:[""],startTime:0,endTime:x,transcription:!1,timeSegments:[{start:0,end:x}],words:[],subSentenceSegments:[[{start:0,end:x}]]}),this.props.brandSettings.outroStyle&&this.props.brandSettings.outroStyle.showStyle&&(y="",!1!==this.props.brandSettings.outroStyle.customOutro||"logotext"!==this.props.brandSettings.outroStyle.layout&&"text"!==this.props.brandSettings.outroStyle.layout||(y=this.props.brandSettings.outroStyle.message||""),a.push({sentence:y,sceneType:"Outro Scene",keywords:[],type:"summary",image:"",subsentences:[y],startTime:0,endTime:S,transcription:!1,timeSegments:[{start:0,end:S}],words:[],subSentenceSegments:[[{start:0,end:S}]]})),b=!1,j=!1,w=!1,this.props.brandSettings.logoFilePath&&(this.props.brandSettings.introStyle&&this.props.brandSettings.introStyle.showLogo&&(b=!0),this.props.brandSettings.sceneStyle&&this.props.brandSettings.sceneStyle.showLogo&&(j=!0),this.props.brandSettings.outroStyle&&this.props.brandSettings.outroStyle.showStyle&&!1===this.props.brandSettings.outroStyle.customOutro&&("logotext"===this.props.brandSettings.outroStyle.layout||"logo"===this.props.brandSettings.outroStyle.layout)&&(w=!0)),Z=a.length,k=(0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.executeAsyc((0,O.Z)((0,N.Z)().mark((function e(){var n,s,i,c,l,d,g,v,y,Z,k,C,I,E,A,_,R,P,O,D,U,L,F,V,B,M,G,W,z,J,H,K,q,Y,Q,X,$,ee,ne,re,se,ae,ie,oe,ce,le,ue,de,pe,he,me,ge,fe;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,s=!1,i=!1,c=!1,l=a[t],d=T.state.isSubtitleEnabled,g=Ta.Z,(v=(0,o.Z)({},g.getStyles())).fontName=v.fontName.replace(/\'/g,"").replace(" ",""),v.fontWeight&&(v.fontName=v.fontName+"-"+v.fontWeight),y=T.state.projectDetails.articleUrl,"Custom Intro Scene"!==l.sceneType){e.next=26;break}if(!T.introScene){e.next=15;break}return f.scenes.push(T.introScene),e.abrupt("return");case 15:if(s=!0,y=T.props.brandSettings.customIntro.image,"video"!==(0,te.Q5)(y)){e.next=24;break}return e.next=20,T.getVideoDuration(y,S);case 20:S=e.sent,l.endTime=S,l.timeSegments[0].end=S,l.subSentenceSegments[0][0].end=S;case 24:e.next=55;break;case 26:if("Outro Scene"!==l.sceneType){e.next=53;break}if((Z=(0,o.Z)({},T.props.brandSettings.outroStyle)).fontColor||(Z.fontColor="rgb(0, 0 , 0)"),Z.backgroundColor||(Z.backgroundColor="rgb(255, 255 , 255)"),n=!0,!T.outroScene){e.next=34;break}return f.scenes.push(T.outroScene),e.abrupt("return");case 34:if(d=!0,g=Na.Z,v=(0,o.Z)({},g.getStyles()),y=Z.backgroundFilePath,!0===w&&(y=""),v=(0,o.Z)((0,o.Z)({},v),Z),(k=(0,o.Z)({},Ta.Z.getStyles())).fontName=k.fontName.replace(/\'/g,"").replace(" ",""),k.fontWeight&&(k.fontName=k.fontName+"-"+k.fontWeight),v.fontName=k.fontName,"video"!==(0,te.Q5)(y)){e.next=51;break}return e.next=47,T.getVideoDuration(y,x);case 47:x=e.sent,l.endTime=x,l.timeSegments[0].end=x,l.subSentenceSegments[0][0].end=x;case 51:e.next=55;break;case 53:0===t||1===t&&"Custom Intro Scene"===a[0].sceneType?i=!0:c=!0,i&&!1===r?T.props.brandSettings.introStyle&&T.props.brandSettings.introStyle.showStyle&&(v=(0,o.Z)((0,o.Z)({},v),T.props.brandSettings.introStyle)):T.props.brandSettings.sceneStyle&&T.props.brandSettings.sceneStyle.showStyle&&(v=(0,o.Z)((0,o.Z)({},v),T.props.brandSettings.sceneStyle));case 55:C=v.fontName,I=Math.round(m*parseFloat(v.fontSize)),v.fontSize=I,E=v.fontColor,A=v.textBackgroundColor,_=v.backgroundColor,R=v.keywordColor,C=C.replace(" ","")+".ttf",l.transcription&&T.state.projectDetails.transcriptionLanguage&&(["ja-JP","ko-KR"].includes(T.state.projectDetails.transcriptionLanguage)?C="arial-unicode-ms.ttf":"hi-IN"===T.state.projectDetails.transcriptionLanguage&&(C="Mangal-Regular.ttf")),P=E.split(","),E=")"===(E=(P[0].replace("rgba(","rgb(")+","+P[1]+","+P[2]).trim())[E.length-1]?T.parseColorForVideoAPI(E):T.parseColorForVideoAPI(E+")"),A=T.parseColorForVideoAPI(A),P=R.split(","),R=")"===(R=(P[0].replace("rgba(","rgb(")+","+P[1]+","+P[2]).trim())[R.length-1]?T.parseColorForVideoAPI(R):T.parseColorForVideoAPI(R+")"),O=[],D={url:y,asset_id:"",type:(0,te.Q5)(y),library:"",mode:""},U=(0,Vr.Z)(l.timeSegments);try{for(U.s();!(L=U.n()).done;)F=L.value,(V=(0,o.Z)({},D)).start=parseFloat(F.start),V.end=parseFloat(F.end),V.mute=!1,O.push(V)}catch(e){U.e(e)}finally{U.f()}if(0==O.length&&O.push(D),B={background:{src:O},time:0,keywords:[],sub_scenes:[],sentences:[],music:!1,tts:!1,subtitle:d},""!==_&&null!=_&&(B.background.color=T.parseColorForVideoAPI(_)),!0===n&&!1===T.props.brandSettings.outroStyle.customOutro&&(B={background:{src:[{url:"",asset_id:"",type:"image",library:""}]},time:0,keywords:[],sub_scenes:[]},""!==_&&null!=_&&(P=_.split(","),_=")"===(_=(P[0].replace("rgba(","rgb(")+","+P[1]+","+P[2]).trim())[_.length-1]?T.parseColorForVideoAPI(_):T.parseColorForVideoAPI(_+")"),B.background.color=_)),v.bgMask&&!1===n?(B.background.bg_mask={side:v.bgMaskSide,area:v.bgMaskArea,color:T.parseColorForVideoAPI(v.bgMaskColor)},B.background.bg_animation={animation:v.bgAnimation}):!1===n&&(B.background.bg_animation={animation:v.bgAnimation}),M=!1,G="",W="",(i&&b||c&&j||n&&w)&&(M=!0,G=parseInt(T.props.brandSettings.logoLocation),W=T.props.brandSettings.logoFilePath),M&&!1===n&&!1===s&&(B.background.logo={src:W,location:1===G?"top-left":"top-right"}),v.fontName=T.getFrontFontName(v.fontName),v.fontFamily=v.fontName,v.fontSize=be.Z.convertPttoPx(v.fontSize)+"px",v.width=.69*p+"px",v.parentElementWidth=p,!0!==n){e.next=102;break}if("logo"!==T.props.brandSettings.outroStyle.layout&&"logotext"!==T.props.brandSettings.outroStyle.layout||!1!==T.props.brandSettings.outroStyle.customOutro){e.next=102;break}return z=T.state.aspectRatioFractionValue>=1.7?20:T.state.aspectRatioFractionValue>=1?16:10,e.next=95,T.createTextAnimationContainer(l.sentence,g,v,I,h,p,M,G,W,n);case 95:J=e.sent,H=J.getBoundingClientRect(),K=J.querySelector("img").getBoundingClientRect(),q=parseInt(K.top-H.top)/parseInt(H.height),B.background.logo={src:W,location:"center",size:.25,location_y:parseInt(h*q+z),logoPadding:z},B.background.logo_animation={animation:"expand-out",speed:1},J.remove();case 102:Y=0;case 103:if(!(Y<l.subsentences.length)){e.next=130;break}return Q=d?l.subsentences[Y]:"",X={time:0,location:{},text_lines:[],subtitle:""},e.next=108,T.createTextAnimationContainer(Q,g,v,I,h,p,M,G,W,n);case 108:for($=e.sent,ee=$.querySelector(".sentences"),ne=ee.querySelectorAll("p > span").length,re=0,se=0,ae=0,ne>0&&(ie=be.Z.convertPttoPx(I),re=ie*v.lineHeightRelatedToSentence,se=h*(1-v.textBottomAlignPercent/100),ae=p/2),X.font=!1===n?{name:C,size:I,line_spacing:v.lineSpacing,color:E,backcolor:A,keycolor:R,line_height:re}:{name:C,size:I,line_spacing:1,color:E,backcolor:"none",keycolor:R,line_height:null},!0===n?"logotext"!==T.props.brandSettings.outroStyle.layout&&"text"!==T.props.brandSettings.outroStyle.layout||!1!==T.props.brandSettings.outroStyle.customOutro||(oe=$.getBoundingClientRect(),ce=$.querySelector("p").getBoundingClientRect(),le=parseInt(ce.top-oe.top)/parseInt(oe.height),X.location.start_y=parseInt(h*le),B.background&&B.background.logo&&B.background.logo.logoPadding&&(X.location.start_y+=B.background.logo.logoPadding)):(X.location.center_x=ae,X.location.end_y=se),!0===n?(X.time=x,B.time+=parseFloat(X.time)):!0===s?(X.time=S,B.time+=parseFloat(X.time)):function(){var e=l.subSentenceSegments[Y],t=0;e.map((function(e,n){var r=e.start,s=e.end;r=parseFloat(r),s=parseFloat(s),t+=s-r})),X.time=parseFloat(t.toFixed(2)),B.time+=parseFloat(X.time),B.time=parseFloat(B.time.toFixed(2))}(),!1===n&&B.sentences.push({time:X.time,text:l.subsentences[Y]?T.getVoiceOverText(l.subsentences[Y]):""}),0===(ue=Array.from(ee.querySelectorAll("p > span")).map((function(e){return e.innerHTML}))).length&&ue.push(""),de=[],v.strokeLine&&ue.length>0&&(pe={stroke_color:v.strokeColor,stroke_width:v.strokeWidth,text_animation:[{animation:v.strokeAnimation,speed:v.strokeAnimationSpeed}]},de.push(pe)),he=0;he<ue.length;he++)me=(me=(me=(me=ue[he]).replace("⏎","")).replace("↵","")).replace("<br/>",""),ge={},fe={},!1===n?(ge={animation:v.textAnimation,speed:v.textAnimationSpeed+v.textStagger*he},fe={animation:v.textBgAnimation,speed:v.textBgAnimationSpeed+v.textBgStagger*he}):(ge={animation:"expand-out",speed:1},fe={animation:"expand-out",speed:1}),de.push({text_animation:[ge],text_bg_animation:[fe],text:u(unescape(be.Z.removeBrTag(me.replace("↵","").replace("⏎","").replace(/\r?\n|\r/g,""))))||""});X.text_lines=de,B.sub_scenes.push(X),$.remove();case 127:Y++,e.next=103;break;case 130:s?T.introScene=B:n&&(T.outroScene=B),f.scenes.push(B);case 132:case"end":return e.stop()}}),e)}))),50);case 2:if((n=parseInt((t+1)/Z*100))>T.state.generateVideoJsonProgress&&T.setState({generateVideoJsonProgress:n}),!T.state.cancelPreparingGenerateVideoJson){e.next=6;break}return e.abrupt("return",{v:null});case 6:case"end":return e.stop()}}),e)})),C=0;case 32:if(!(C<a.length)){e.next=40;break}return e.delegateYield(k(C),"t0",34);case 34:if("object"!=typeof(I=e.t0)){e.next=37;break}return e.abrupt("return",I.v);case 37:C++,e.next=32;break;case 40:try{l||this.props.brandSettings.outroStyle&&this.props.brandSettings.outroStyle.showStyle&&(f.scenes[f.scenes.length-1]["music-fade-out"]=!0)}catch(e){}return f.video_editing=!0,f.use_moviepy=!0,f.video_generation_task=!0,f.task_name=g,(0,te.Lv)(this.state.user.username)&&(f.next_generation_video=!0),e.abrupt("return",f);case 47:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"parseColorForVideoAPI",value:function(e){var t=(e=e.trim()).match(/rgba?/g),n=e.match(/[\d\.]+/g);return null==t?"none":"rgb"==t[0]?e:"rgba"==t[0]?(n[3]=Math.round(255*parseFloat(n[3])),"rgba("+n.join(",")+")"):"none"}},{key:"getFrontFontName",value:function(e){return"Arial-Bold"===e?e="Arial; font-weight: bold":"Calibri-Bold"===e?e="Calibri; font-weight: bold":"Helvetica"===e||"Helvetica-Regular"===e?e="'Helvetica'; font-weight: normal":"HelveticaNeue-Medium"===e?e="Helvetica Neue; font-weight: bold":"Lato-Bold"===e?e="Lato; font-weight: bold":"Lato-Black"===e?e="Lato; font-weight: 900":"Merriweather-Bold"===e?e="Merriweather; font-weight: bold":"Montserrat-Bold"===e?e="Montserrat; font-weight: bold":"NotoSans"===e?e="Noto Sans":"NotoSans-Bold"===e?e="Noto Sans; font-weight: bold":"OpenSans"===e?e="Open Sans":"OpenSans-Bold"===e?e="Open Sans; font-weight: bold":"Poppins"===e?e="Poppins":"Poppins-Bold"===e?e="Poppins; font-weight: bold":"Poppins-ExtraBold"===e?e="Poppins; font-weight: 900":"Quicksand"===e?e="Quicksand":"Quicksand-Bold"===e?e="Quicksand; font-weight: bold":"Roboto"===e?e="Roboto":"Roboto-Bold"===e?e="Roboto; font-weight: bold":"Rokkitt"===e?e="Rokkitt":"Rokkitt-Bold"===e?e="Rokkitt; font-weight: bold":"SourceSansPro"===e?e="Source Sans Pro":"SourceSansPro-Bold"===e?e="Source Sans Pro; font-weight: bold":"Ubuntu"===e?e="Ubuntu":"Ubuntu-Bold"===e?e="Ubuntu; font-weight: bold":"Anton"===e?e="Anton":"Barlow"===e?e="Barlow":"BarlowBlack"===e||"Barlow Black"===e?e="Barlow; font-weight: 900":"BebasNeue"===e?e="Bebas Neue":"Caprasimo"===e?e="Caprasimo":"Capriola"===e?e="Capriola":"CarterOne"===e?e="Carter One":"ChakraPetch"===e?e="Chakra Petch":"Chewy"===e?e="Chewy":"Comfortaa"===e?e="Comfortaa":"Dangrek"===e?e="Dangrek":"DeliusUnicase"===e?e="Delius Unicase":"Gruppo"===e?e="Gruppo":"JuliusSansOne"===e||"Julius Sans One"==e||"JuliusSans One"==e?e="Julius Sans One":"PatuaOne"===e?e="Patua One":"Raleway"===e?e="Raleway":"RalewayBlack"===e||"Raleway Black"===e?e="Raleway; font-weight: 900":"RalewayThin"===e||"Raleway Thin"===e?e="Raleway; font-weight: 100":"RussoOne"===e?e="Russo One":"Satisfy"===e?e="Satisfy":"SpecialElite"===e?e="Special Elite":"TitilliumWeb"===e?e="Titillium Web":"TitilliumWebBlack"===e||"Titillium Web Black"===e?e="Titillium Web; font-weight: 900":"Unbounded"===e&&(e="Unbounded"),e}},{key:"update",value:function(){this.props.update(this.state)}},{key:"bringSearchedElementToFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.state.transcriptionSearch&&this.state.transcriptionSearch.matches.length){var t=this.state.transcriptionSearch.activeElIndex+e*this.state.transcriptionSearch.consecutiveMatchedWords,n=this.state.transcriptionSearch.matches[t],r=this.state.transcriptionSearch.query.split(/[^A-Za-z0-9]+/g);if(n){var s=this.state.transcriptionSearch;s.activeElIndex=this.state.transcriptionSearch.activeElIndex+e*this.state.transcriptionSearch.consecutiveMatchedWords,s.activeEls=this.state.transcriptionSearch.matches.slice(s.activeElIndex,s.activeElIndex+r.filter((function(e){return e&&e.length})).length),s.activeEl=n,this.setState({transcriptionSearch:s},(function(){try{document.querySelector("#"+CSS.escape(n.id)).scrollIntoViewIfNeeded()}catch(e){}}))}}}},{key:"getAspectRatioCss",value:function(){var e=window.innerHeight-400;e<200&&(e=200);var t=.225*window.innerWidth;e>t&&(e=t);var n=.128440367*e,r=window.innerHeight-130,s=parseInt(this.state.videoResolution);s>0&&r>s&&(r=s);var a=r*this.state.aspectRatioFractionValue;return a>window.innerWidth&&(r=(a=window.innerWidth-40)/this.state.aspectRatioFractionValue),".step-2 figure.animation-container.".concat(this.state.aspectRatioClass,", .step-2 .showcase #AllSceneSection .").concat(this.state.aspectRatioClass,", #main-div-step-2 div#previewDiv .modal-content .").concat(this.state.aspectRatioClass," { padding-top: 0; margin-top: 0; margin-left: auto; margin-right: auto;}\n\t\t.step-2 figure.animation-container.").concat(this.state.aspectRatioClass,", .step-2 .figure.animation-container.").concat(this.state.aspectRatioClass," { height: ").concat(e,"px; width: ").concat(e*this.state.aspectRatioFractionValue,"px;}\n\t\t.step-2 .block-footer.").concat(this.state.aspectRatioClass," { width: ").concat(e*this.state.aspectRatioFractionValue,"px; margin-left: auto !important; margin-right: auto !important; }\n\t\t.step-2 .showcase #AllSceneSection .animation-container.").concat(this.state.aspectRatioClass," { height: ").concat(n,"px; width: ").concat(n*this.state.aspectRatioFractionValue,"px;}\n\t\t#main-div-step-2 div#previewDiv .modal-content .animation-container.").concat(this.state.aspectRatioClass," { height: ").concat(r,"px; width: ").concat(a,"px;}\n\t\t.wrap-ovcontent-noframe { height: 100%; }\n\t\t.wrap-ovcontent-noframe .animation-container.").concat(this.state.aspectRatioClass," { height: 100%; width: 100%;}")}},{key:"render",value:function(){var e=this,t=this.state,n=(t.past,t.present,t.future,this.getHighlightedSentenceCount()),r=this.state.transcriptionSearch&&this.state.transcriptionSearch.matches&&this.state.transcriptionSearch.matches.length?"".concat(Math.ceil(this.state.transcriptionSearch.matches.length/this.state.transcriptionSearch.consecutiveMatchedWords)):"",s=this.state.showHighlightedTab?{cursor:"not-allowed"}:{},a=this.state.showHighlightedTab?{title:"Click on Transcription tab to merge text"}:{};return(0,E.jsxs)(c.Fragment,{children:[this.state.preparingGenerateVideoJson?(0,E.jsx)(Da.Z,{steps:2,step:this.state.generateVideoJsonStep,heading:this.state.generateVideoJsonHeading,step1ProgressMessage:this.state.sceneCustomizationProgressMessage,step2ProgressMessage:this.state.generateVideoJsonProgressMessage,step1Progress:this.state.sceneCustomizationProgress,step2Progress:this.state.generateVideoJsonProgress,onStopProgress:this.stopPreparingVideoGenerationJson}):(0,E.jsx)(E.Fragment,{}),this.state.creatingCustomizeScenes?(0,E.jsx)(Da.Z,{heading:this.state.sceneCustomizationHeading,step1ProgressMessage:this.state.sceneCustomizationProgressMessage,step1Progress:this.state.sceneCustomizationProgress,onStopProgress:this.stopPreparingVideoCustomization}):(0,E.jsx)(E.Fragment,{}),this.state.isTranscriptionEmpty&&(0,E.jsx)("div",{className:"VideoProgressBar confirmation-box",id:"ErrorBox",style:{left:"0px",display:"block"},children:(0,E.jsx)("div",{className:"modal-dialog",children:(0,E.jsx)("div",{className:"modal-content",children:(0,E.jsxs)("div",{className:"VideoProgressBar-overlay-content wrap-ovcontent myConfirmationBox",children:[(0,E.jsxs)("div",{className:"modal-header",children:[(0,E.jsx)("h4",{className:"modal-title",children:"Sorry!"}),(0,E.jsx)("span",{className:"close",onClick:this.BackURL.bind(),children:"×"})]}),(0,E.jsxs)("div",{className:"modal-bodys",children:[(0,E.jsx)("span",{className:"d-block mb-3",children:"We could'nt find any spoken words in the video"}),(0,E.jsx)("div",{className:"col-12 p-0 text-center bottom-box-btn",children:(0,E.jsx)("button",{className:"btn btn-default del-btn ml-2 btn-span",onClick:this.BackURL.bind(),children:"Upload a new video"})})]})]})})})})||"",this.state.showUpgradeModalDialog?(0,E.jsx)(ye.Z,{planName:this.state.planName,quotaExceeded:!0,onClose:this.closeUpgradeModalDialog}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)("div",{onMouseDown:this.onParentViewMouseDown,className:"full-height unselectable",style:{display:"block"},children:[(0,E.jsx)("div",{className:"floating-fixed-menu",onMouseDown:this.stopPropagation,style:{display:"none"},ref:function(t){return e.setFloatingMenu(t)},children:(0,E.jsxs)("ul",{className:"menu",children:[(0,E.jsx)("li",{className:"menu-options",style:{display:"none"},onClick:this.markAsFiller,ref:function(t){return e.setFloatingMenuOptions(e.floatingMenuOptionNames.MARK_FILLER,t)},children:"Remove as filler word"}),(0,E.jsx)("li",{className:"menu-options",style:{display:"none"},onClick:function(){return e.summarizeWords(!0)},ref:function(t){return e.setFloatingMenuOptions(e.floatingMenuOptionNames.ADD_TO_HIGHLIGHT,t)},children:"Add to highlights"}),(0,E.jsx)("li",{className:"menu-options",style:{display:"none"},onClick:function(){return e.summarizeWords(!1)},ref:function(t){return e.setFloatingMenuOptions(e.floatingMenuOptionNames.REMOVE_FROM_HIGHLIGHT,t)},children:"Remove from highlights"}),(0,E.jsx)("li",{className:"menu-options",style:{display:"none"},onClick:this.rightClickDelete,ref:function(t){return e.setFloatingMenuOptions(e.floatingMenuOptionNames.DELETE_WORD,t)},children:"Delete from video"}),(0,E.jsx)("li",{className:"menu-options",style:{display:"none"},onClick:function(){return e.generateVideoClip()},ref:function(t){return e.setFloatingMenuOptions(e.floatingMenuOptionNames.GENERATE_VIDEO,t)},children:"Generate video"})]})}),(0,E.jsx)(ue.Z,{active:this.state.showLoader,spinner:!0,text:this.state.isCheckingBackup?(0,E.jsx)("div",{children:"Please wait.."}):(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{children:"Creating video highlights"}),(0,E.jsx)("div",{children:void 0!==this.props.transcribeSummaryProgress?"".concat(this.props.transcribeSummaryProgress,"%"):null})]})}),(0,E.jsx)(ue.Z,{active:this.state.loaderActive,spinner:!0,text:this.state.loaderMessage}),(0,E.jsxs)(u.VK,{forceRefresh:!1,children:[(0,E.jsx)(he.Z,{history:this.props.history,openNotificationPanel:this.state.openNotificationPanel,gotoBrandSetting:this.gotoBrandSetting}),(0,E.jsxs)("div",{className:"page-content d-flex align-items-stretch step-2 have-calculated-filling-height",style:{position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},children:[(0,E.jsx)("style",{children:this.getAspectRatioCss()}),(0,E.jsx)("main",{ref:function(t){return e.mainElement=t},className:"content-inner step-2",children:(0,E.jsxs)("section",{className:"container-fluid dashboard-counts white-background fill-height",children:[(0,E.jsx)(Mr.Z,{displayMsg:"",gotoCreateVideoStep1:this.gotoCreateVideoStep1.bind(this),gotoCreateVideoStep3:this.gotoCreateVideoStep3.bind(this),generateVideoText:this.generateVideoText.bind(this),nextButtonLabel:this.state.isSummarized?"Customize Highlights Video":"Customize Video",generateTranscriptionVideo:this.generateVideo,generateTranscriptionVideoLabel:this.state.isSummarized?"Download highlights video":"Download video",ProjectName:this.state.projectName,handleBlurProjectName:this.handleBlurProjectName,saveDate:this.state.saveDate,saveButtonText:this.state.saveButtonText,saveProjectDetails:this.saveProjectDetails,projectId:this.state.projectDetails.project_id,isNewProject:this.state.isNewProject,disableNextButton:this.state.disableNextButton||!this.state.transcribe_sentences||0===this.state.transcribe_sentences.length,username:this.state.user&&this.state.user.username,fetchNewProjectName:!0,backgroundClass:"white-background"}),(0,E.jsx)("div",{className:"gray-strip pl-4 pr-3",children:(0,E.jsxs)("ul",{className:"horizontal-flex space-between-center transcription-buttons-bar light-gray-background p-1 mb-0 fill-width",children:[(0,E.jsxs)("div",{className:"horizontal-flex space-around-center mr-4",style:{flex:"2 auto"},children:[(0,E.jsxs)("div",{className:"btn-group btn-group-sm sticking",role:"group","aria-label":"Large button group",children:[(0,E.jsx)("button",{type:"button",className:"btn btn-default naked-circle-button",onClick:this.undo,disabled:this.state.past.length<=2,children:(0,E.jsx)("i",{className:"fa fa-undo","aria-hidden":"true"})}),(0,E.jsx)("button",{type:"button",className:"btn btn-default naked-circle-button",onClick:this.redo,disabled:this.state.future.length<=0,children:(0,E.jsx)("i",{className:"fa fa-repeat","aria-hidden":"true"})})]}),(0,E.jsx)("li",(0,o.Z)((0,o.Z)({style:(0,o.Z)({minWidth:"62px",textAlign:"center"},s),ref:function(t){return e.mergeButton=t},onMouseDown:this.setMergeTextAndMerge},a),{},{children:this.state.mergeText})),(0,E.jsx)("li",{onMouseDown:this.setSplitTextAndSplit,children:this.state.splitText}),(0,E.jsx)("li",{onMouseDown:this.setEditword,children:"Edit word"}),(0,E.jsx)("li",{style:{minWidth:"129px",textAlign:"center"},onMouseDown:this.setDeleteTextAndDelete,children:this.state.deleteText}),(0,E.jsxs)("li",{className:"bold",children:["Remove filler words",(0,E.jsxs)("label",{className:"switch mb-0 ml-1",children:[(0,E.jsx)("input",{type:"checkbox",onChange:function(t){return e.removeFillers(t)},checked:this.state.isRemoveFillers}),(0,E.jsx)("span",{className:"slider round"})]})]}),(0,E.jsxs)("li",{className:"bold",style:{position:"relative"},onMouseEnter:function(){return document.getElementById("silence-checkbox").checked&&!e.state.showSilencePopup&&e.setState({showSilencePopup:!0})},children:["Remove silences",(0,E.jsxs)("label",{className:"switch mb-0 ml-1",children:[(0,E.jsx)("input",{type:"checkbox",id:"silence-checkbox",onClick:this.onClickRemoveSilences,checked:this.state.areSilencesRemoved}),(0,E.jsx)("span",{className:"slider round"})]}),this.state.showSilencePopup&&(0,E.jsxs)("span",{className:"silence-popup",children:[(0,E.jsx)("span",{className:"close",onClick:function(){return e.setState({areSilencesRemoved:e.checkSilencesRemoved(),showSilencePopup:!1,silencesErrorMsg:""})},children:"×"}),(0,E.jsxs)("div",{className:"flex-centered",children:[(0,E.jsx)("span",{children:"More than  "}),(0,E.jsxs)("span",{className:"silence-duration flex-vertical-align-top",children:[(0,E.jsx)("span",{children:(0,E.jsx)("i",{className:"fa fa-caret-up",onClick:function(){return e.setState({minSilenceDuration:e.state.minSilenceDuration<99?parseInt(e.state.minSilenceDuration)+1:99})}})}),(0,E.jsx)("input",{value:this.state.minSilenceDuration,maxLength:2,onChange:function(t){return e.setState({minSilenceDuration:parseFloat(t.target.value)>=1?parseInt(t.target.value):0})}}),(0,E.jsx)("span",{children:(0,E.jsx)("i",{className:"fa fa-caret-up fa-flip-vertical",onClick:function(){return e.setState({minSilenceDuration:e.state.minSilenceDuration>1?parseInt(e.state.minSilenceDuration)-1:0})}})})]}),(0,E.jsx)("span",{children:"  secs"}),(0,E.jsx)("span",{children:(0,E.jsx)("button",{type:"button",onClick:function(){return e.removeSilences()},className:"btn btn-default sortof-black ml-2 mt-0 button-rounded",children:"Ok"})})]}),(0,E.jsx)("div",{className:"err-msg",children:this.state.silencesErrorMsg})]})]}),!1]}),(0,E.jsxs)("div",{className:"search-replace-flex-item",children:[(0,E.jsx)("div",{className:"search-replace-open-icon",onClick:function(){return e.setState({showSearchReplaceBox:!e.state.showSearchReplaceBox})},children:(0,E.jsx)("i",{className:"fa fa-caret-right ".concat(this.state.showSearchReplaceBox?"fa-rotate-90":""),"aria-hidden":"true"})}),(0,E.jsxs)("div",{className:"search-replace-box",style:this.state.showSearchReplaceBox?{visibility:"visible"}:{visibility:"hidden"},children:[this.searchBox(),this.state.showSearchReplaceBox&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"transcribe-search-container horizontal-flex space-between-center pr-1 mt-1",style:{flex:"2 auto"},children:(0,E.jsx)("input",{className:"search-box naked ml-1 mr-1 flex-filler",placeholder:"Replace ...",name:"new-replace-value",autoComplete:"off",ref:function(t){return e.replaceRef=t}})}),(0,E.jsxs)("div",{style:{display:"flex",height:"30px",margin:"10px -5px 0"},children:[(0,E.jsx)("button",{type:"button",onClick:function(){return e.replaceSearched()},title:"Remove text from transcription one-by-one",className:"btn btn-default sortof-black",children:"Replace"}),(0,E.jsxs)("button",{type:"button",onClick:function(){return e.replaceSearched(!0)},title:"Remove all occurrences of text from transcription",className:"btn btn-default sortof-black",children:["Replace all ",r?"(".concat(r,")"):""]}),(0,E.jsxs)("button",{type:"button",onClick:function(){return e.replaceSearched(!0,!0)},title:"Remove all occurrences of text from transcription as well as video",className:"btn btn-default sortof-black",children:["Delete all ",r?"(".concat(r,")"):""]})]})]})]})]})]})}),(0,E.jsx)("div",{className:"col-12 welcome-content justify-content-center",style:{height:"calc(100% - 152px)",borderTop:"solid 1px lightgray"},children:(0,E.jsxs)("div",{className:"row fill-height",children:[(0,E.jsxs)("div",{className:"col-md-6 fill-height light-gray-background pl-0 pr-0",children:[(0,E.jsx)("div",{className:"absolute-fill font-size-4 ml-4 mt-2 blue",children:this.state.silencesRemovedSuccessMsg&&this.state.silencesRemovedSuccessMsg}),(0,E.jsx)("div",{className:"article-block-left fill-height white-background rounded-corners p-4",style:{borderRight:"1px solid #DDDEE6"},children:(0,E.jsxs)("div",{className:"content fill-height",id:"orignalArticleDiv",style:{overflow:"hidden"},children:[(0,E.jsxs)("div",{className:"horizontal-flex flex-space-between",style:{flexWrap:"wrap",marginBottom:"5px"},children:[(0,E.jsxs)("h5",{className:"bold font-size-45 mt-2 pl-1 tab-bar",style:{alignSelf:"baseline"},children:[this.state.showHighlightedTab&&(0,E.jsx)("span",{className:"light-grey naked-link",onClick:function(){return e.setState({showHighlightedTab:!1})},children:"Transcription"}),!this.state.showHighlightedTab&&(0,E.jsx)("span",{className:"sortof-black",children:"Transcription"}),!this.state.showHighlightedTab&&(0,E.jsxs)("span",{className:"light-grey naked-link",style:{marginLeft:"10px"},onClick:function(){return e.setState({showHighlightedTab:!0})},children:["Highlights ",n>0?"(".concat(n,")"):""]}),this.state.showHighlightedTab&&(0,E.jsxs)("span",{className:"sortof-black",style:{marginLeft:"10px"},children:["Highlights ",n>0?"(".concat(n,")"):""]})]}),(0,E.jsx)("div",{className:"vertical-flex",children:(0,E.jsx)("div",{className:"horizontal-flex flex-end-center select-summary-size",children:this.state.autoSummarizeEnabled?(0,E.jsxs)("div",{className:"m-button-group horizontal-flex center-center",children:[(0,E.jsxs)("div",{className:"m-button-left horizontal-flex space-around-center pt-1 pb-1 pr-1",children:[this.state.summarizePercent&&this.state.summarizePercent>0?(0,E.jsx)("i",{className:"fa fa-times-circle","aria-hidden":"true",onClick:function(){return e.clearSummarizer()}}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)(le.Z,{onSelect:this.selectSummarizeValue,className:["naked-dropdown horizontal-flex center-center"].join(" "),children:[(0,E.jsx)(le.Z.Toggle,{id:"dropdown-custom-components",children:(0,E.jsxs)("span",{className:"",children:[this.state.summarizePercent&&this.state.summarizePercent>0?"".concat(this.state.summarizePercent,"%"):"  --  ",(0,E.jsx)("i",{className:"fa fa-caret-down ml-2","aria-hidden":"true"})]})}),(0,E.jsx)(le.Z.Menu,{className:"longer-video-languages",children:this.state.percentageValues.map((function(e){return(0,E.jsxs)(le.Z.Item,{eventKey:e.percent,value:e.percent,children:[e.percent,"% ",5===e.percent?(0,E.jsx)("span",{children:"  "}):""," "," ",(0,E.jsxs)("span",{className:"gray smaller-font",children:["(",e.duration?be.Z.secondsToMinutesRepresentationHuman(e.duration):"",")"]})]},e.percent)}))})]})]}),(0,E.jsx)("div",{className:["m-button-right minimal-blue summarize-right-button left-blue-border",this.state.isSummarized&&this.state.summarizePercent>0?"applied":""].join(" "),onClick:this.summarize,children:"Auto highlight"})]}):(0,E.jsx)(E.Fragment,{})})})]}),this.state.preparingGenerateVideoJson||this.state.creatingCustomizeScenes?(0,E.jsx)(E.Fragment,{}):this.getTranscriptionDocumentView(),this.state.preparingGenerateVideoJson||this.state.creatingCustomizeScenes?(0,E.jsx)(E.Fragment,{}):this.getHighlightedDocumentView(n)]})})]}),(0,E.jsx)(_a,{aspectRatioClass:this.state.aspectRatioClass,sceneStyle:this.state.sceneStyle,changeSubtitle:this.isSubtitleEnabled,refreshSentence:this.state.refreshSentence,sentenceIndex:this.state.sentenceIndex,isPlayDisabled:this.state.disableNextButton||!this.state.transcribe_sentences||0===this.state.transcribe_sentences.length,videoStartTime:this.state.videoStartTime,selectedSentences:this.state.selectedSentences,src:this.state.downloadedVideoUrl||this.state.url||this.state.projectDetails&&this.state.projectDetails.articleUrl,timeMarkers:this.state.timeMarkers,markCurrentSpeakingWord:this.markCurrentSpeakingWord,removeSpeakingWord:this.removeSpeakingWord,onPausePreview:this.onPausePreview,isSubtitleEnabled:this.isSubtitleEnabled,isSubtitleEnabledValue:this.state.isSubtitleEnabled,getSubSentenceWords:this.getSubSentenceWords,getSubsentenceWordsLines:this.getSubsentenceWordsLines,getElementSceneStyle:this.getElementSceneStyle,getSentenceListAndWordIdentifiersForPreview:this.getSentenceListAndWordIdentifiersForPreview,createTimeMarkersArrayForPreview:this.createTimeMarkersArrayForPreview,videoHeight:this.state.editingVideoHeight||720,subtitlesLineCount:this.state.subtitlesLineCount,onSubtitlesLineCountChange:this.onSubtitlesLineCountChange})]})})]})})]}),(0,E.jsx)(j.Z,{})]})]}),(0,E.jsx)("div",{id:"step-3-modal",className:"upgrade-modal modal fade",role:"dialog",children:(0,E.jsx)("div",{className:"modal-dialog",children:(0,E.jsxs)("div",{className:"modal-content",children:[(0,E.jsx)("div",{className:"modal-header",children:(0,E.jsxs)("h4",{className:"modal-title",children:["Upgrade plan!",(0,E.jsx)("span",{className:"close",onClick:this.hideUpgradeModal.bind(this),children:"×"})]})}),(0,E.jsxs)("div",{className:"modal-body",children:[(0,E.jsxs)("p",{children:["Create video highlights ",(0,E.jsx)("br",{}),"with a Professional plan"]}),(0,E.jsx)("div",{className:"button-container horizontal buttonsStep2head",children:(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",onClick:function(t){return e.hideUpgradeModal(t,!0)},children:"See plans"})})]})]})})})]})}}]),l}(c.Component),ni=(0,l.$j)((function(e,t){var n=0;return e.transcriptionSummary.transcribeSummaryProgress&&e.transcriptionSummary.transcribeSummaryProgress.progress&&(n=e.transcriptionSummary.transcribeSummaryProgress.progress),{summary:e.transcriptionSummary.data,responseId:e.createVideoSummary.responseId,uploadImageStatus:e.brandSettings.uploadImageStatus,saveProjectStatus:e.myVideos.duplicateProjectStatus,brandSettings:e.brandSettings.brandSettings,projectName:e.projectTitle.projectName,mediaDownloadResult:e.transcriptionSummary.mediaDownloadResult,presentState:e.transcribeUndoRedo.present,canRedo:e.transcribeUndoRedo.future.length>0,canUndo:e.transcribeUndoRedo.past.length>1,pastState:e.transcribeUndoRedo.past,futureState:e.transcribeUndoRedo.future,transcribeSummaryDetails:e.transcriptionSummary.transcribeSummaryDetails,transcribeSummaryProgress:n,videoGenerationResponseId:e.createVideoStepThree.videoGenerationResponseId,inProgressProjects:e.myVideos.inProgressProjects,activeProject:e.myVideos.activeProject}}),{transcriptionSummary:La,getProjectNameBegin:Ba,uploadImage:Fa,saveProject:Va,getBrandSettings:Ma,downloadResources:Ga,storeUndoableData:Wa,undo:za,redo:Ja,getCurrentSubscription:Ua,generateVideo:Xa,getInProgressProjects:Ha,summarizeTranscription:Ka,showErrorNotification:qa,resetTranscriptionMedia:Ya,saveTranscriptionSummary:Qa})(ti),ri=n(86508),si=n(46171),ai=n(50661),ii=n(56712),oi=n(75821),ci=n(31306),li=n(59491),ui=n(6020),di=function(e){var t=e.show,n=e.error,r=e.onClose;return t?(0,E.jsxs)("div",{children:[(0,E.jsx)("style",{children:ui.Z}),(0,E.jsxs)(ci.Z,{centered:!0,visible:t,width:"30vw",footer:null,onCancel:r,closable:!0,children:[(0,E.jsx)(ii.Z,{justify:"center",className:"bottom-space-row",gutter:[16,24],children:(0,E.jsx)(oi.Z,{className:"gutter-row content-center-align",span:24,children:(0,E.jsx)(ai.Z,{style:{color:"red",fontSize:"xxx-large"}})})}),(0,E.jsx)(ii.Z,{justify:"center",className:"bottom-space-row",gutter:[16,24],children:(0,E.jsx)(oi.Z,{className:"gutter-row content-center-align",span:24,children:(0,E.jsx)("h3",{children:"Transcription failed!"})})}),n&&n.error_code&&"FILE_UPLOAD_FAILED"===n.error_code?(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(ii.Z,{justify:"center",className:"bottom-space-row",gutter:[16,24],children:(0,E.jsx)(oi.Z,{className:"gutter-row content-center-align",span:24,children:(0,E.jsx)("h5",{children:"File upload failed. Please try again."})})})}):(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(ii.Z,{justify:"center",className:"bottom-space-row",gutter:[16,24],children:(0,E.jsx)(oi.Z,{className:"gutter-row content-center-align",span:24,children:(0,E.jsx)("h5",{children:"A system error occurred while transcribing media. Please contact support."})})})}),(0,E.jsx)(ii.Z,{justify:"center",gutter:[16,24],children:(0,E.jsx)(oi.Z,{className:"gutter-row content-center-align",span:24,children:(0,E.jsx)(li.Z,{shape:"round",size:"large",onClick:r,children:"Close"})})})]})]}):(0,E.jsx)(E.Fragment,{})},pi=Z.Z.openProject,hi=Z.Z.getDataFromResponseId,mi=Z.Z.showErrorNotification,gi=Z.Z.resetTranscriptionMediaStatus,fi=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).handleTranscriptionError=function(e){s.setState({showTranscriptionError:!0,transcriptionError:e}),S().getInstance().logEvent("transcription-error",{"transcription-error":e.message})},s.onTranscriptionErrorClose=function(){s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepOne})},s.beginButtonMovingAnimation=function(){var e=document.querySelector(".floating-blue-box");e&&e.parentElement.removeChild(e);var t=document.querySelector("#GenerateVideoPopuptext1 #progress-bar"),n=t.getBoundingClientRect(),r=document.querySelector("#notification-bell-dropdown").getBoundingClientRect(),s=document.createElement("div");s.classList.add("floating-blue-box"),s.innerHTML=t.outerHTML,s.style.left=parseInt(n.left)+"px",s.style.top=parseInt(n.top)+"px",s.style.width=parseInt(n.width)+"px",s.style.height=parseInt(n.height)+"px",s.style.display="block",(0,ri.Z)({targets:s,translateX:r.x-1.13*n.x,translateY:r.y-n.y,scaleX:r.width/n.width,scaleY:r.height/n.height,duration:750,easing:"easeOutQuint",complete:function(){s.style.display="none"}}),document.body.appendChild(s)},s.getProject=function(e,t){s.props.openProject(e,Ce.vY.OpenProject,t)},s.openProject=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.states[0].responseId,e.next=3,s.props.getDataFromResponseId(r);case 3:a=s.props.transcribeDataFromId,S().getInstance().logEvent("open-edit-video-project",{"aspect-ratio":n.aspectRatioClass,resolution:n.videoResolution}),a?(a=a.data,i=[],a.transcribe_sentences.map((function(e,t){var n=(0,o.Z)((0,o.Z)({},e),{},{before:null,enabled:!0,image:[e.url],keywords:[],sentence:e.sentence,sentence_index:t,type:"summary",isSelected:!0});i.push(n)})),(c=(0,o.Z)((0,o.Z)({},n),{},{title:n.projectName,withSummaryAnalysis:!0})).transcribe_sentences=a.transcribe_sentences,c.selectedSentences=i,s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:c,projectList:s.state.projectList,step2Data:a,lines:0,totalLines:20,isPrevious:!0,saveProjectFirst:!0,url:c.articleUrl,value:0}})):s.setState({isShowOverlay:!1},(function(){(0,w.JQ)("Transcription is still under process")}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.state={isRedirecting:!1},s}return(0,s.Z)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.projectId!=this.props.projectId&&this.setState({isRedirecting:!0},(function(){var n;t.getProject(e.projectId,e.username?e.username:null==e||null===(n=e.activeProject)||void 0===n?void 0:n.cognito_id)})),!0===this.props.openingProject&&null===this.props.activeProject&&!1===e.openingProject&&null!==e.activeProject?this.openProject(e.activeProject.project_id,e.activeProject):!0===this.props.openingProject&&!1===this.props.projectOpenError&&!1===e.openingProject&&!0===e.projectOpenError&&this.setState({isShowOverlay:!1})}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){this.props.transcribeResponse&&e.transcribeResponse!==this.props.transcribeResponse&&this.props.transcribeResponse.error&&this.handleTranscriptionError(this.props.transcribeResponse.error)}},{key:"componentWillUnmount",value:function(){this.props.resetTranscriptionMediaStatus()}},{key:"render",value:function(){var e=this;return(0,E.jsxs)("div",{id:"main-div-step-3",className:"full-height",children:[(0,E.jsx)(di,{show:this.state.showTranscriptionError,error:this.state.transcriptionError,onClose:this.onTranscriptionErrorClose}),(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsxs)(h.Z,{className:"transcribe-waiting-page page-content d-flex padded-page-content  pt-0 pb-0 pl-2 pr-2 expand-to-screen text-center vertical-flex flex-centered have-gradient-background",id:"GenerateVideoPopuptext1",children:[this.state.isRedirecting?(0,E.jsx)("h1",{className:"font-size-2 bold sortof-black pt-0 mt-0 pb-4",children:"Transcription is completed."}):(0,E.jsxs)("div",{children:[(0,E.jsx)("h1",{className:"font-size-2 bold sortof-black pt-0 mt-2 mb-2",children:this.props.transcriptionMediaStatus.message}),"UPLOADING_MEDIA"===this.props.transcriptionMediaStatus.status?(0,E.jsx)("div",{id:"progress-bar",className:"progress mt-3 mb-3",style:{borderRadius:"20px",width:"30%"},children:(0,E.jsx)("div",{id:"dynamic",className:"progress-bar progress-bar-success progress-bar-striped active",role:"progressbar","aria-valuenow":this.props.transcriptionMediaStatus.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.props.transcriptionMediaStatus.progress+"%"},children:(0,E.jsx)("span",{id:"current-progress"})})}):(0,E.jsx)("div",{id:"progress-bar",className:"progress mt-3 mb-3",style:{borderRadius:"20px",width:"30%"},children:(0,E.jsx)("div",{id:"dynamic",className:"progress-bar progress-bar-success progress-bar-striped active",role:"progressbar","aria-valuenow":100,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"},children:(0,E.jsx)("span",{id:"current-progress"})})}),(0,E.jsx)("h2",{className:"font-size-2 bold sortof-black pt-0 mt-2",children:"It may take several minutes. You will be notified once completed."}),(0,E.jsxs)("h2",{className:"font-size-2 bold sortof-black pt-0 mt-2",children:[" ","To continue to work on other projects click below"]})]}),(0,E.jsx)("h2",{className:"font-size-3 blue bold",style:{cursor:"pointer"},onClick:function(){e.beginButtonMovingAnimation(),setTimeout((function(){e.props.history.push("/"+y.Z.stepOne)}),700)},children:this.state.isRedirecting?(0,E.jsx)(si.Wave,{text:"Redirecting...",effect:"stretch",effectChange:1.5,speed:4}):"Home"})]})]})}}]),n}(c.Component),vi=(0,l.$j)((function(e){return{projectId:e.transcriptionSummary.projectId,projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,transcribeResponse:e.transcriptionSummary.data,transcriptionMediaStatus:e.uploadImage.transcriptionMediaStatus,username:e.transcriptionSummary.username}}),{openProject:pi,getDataFromResponseId:hi,showErrorNotification:mi,resetTranscriptionMediaStatus:gi})(fi),xi=Z.Z.openProject,Si=Z.Z.getDataFromResponseId,yi=Z.Z.showErrorNotification,bi=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).openProject=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n){var r,a,i,c;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n.scenes&&n.scenes.length>0)){e.next=5;break}"transcribe"===n.source?s.openTranscribeStep3(t,n):setTimeout((function(){s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:t,projectDetails:n,projectList:s.props.allVideos,isCanceled:!0,title:n.title?n.title:null}})}),100),e.next=14;break;case 5:if(!n.step2TxtData){e.next=9;break}s.getText(n.step2TxtData,t,(function(e,t){var r=(0,o.Z)({},n);"transcribe"===n.source?s.openTranscribeStep2(r,e):(r.title=e.title,s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:r,projectList:s.props.allVideos,step2Data:e,lines:e.summary.length,totalLines:e.text_num_sentences,isPrevious:!0,url:n.articleUrl,value:parseInt(e.summary.length/e.text_num_sentences*100),saveProjectFirst:t}}))})),e.next=14;break;case 9:return r=n.states&&n.states[0]&&n.states[0].responseId,e.next=12,s.props.getDataFromResponseId(r);case 12:(a=s.props.transcribeDataFromId)?(a=a.data,i=[],a.transcribe_sentences.map((function(e,t){var n=(0,o.Z)((0,o.Z)({},e),{},{before:null,enabled:!0,image:[e.url],keywords:[],sentence:e.sentence,sentence_index:t,"sub-sentences":[e.sentence],type:"summary",isSelected:!0});i.push(n)})),(c=(0,o.Z)((0,o.Z)({},n),{},{title:n.projectName})).transcribe_sentences=a.transcribe_sentences,c.selectedSentences=i,s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:c,projectList:s.props.allVideos,step2Data:a,lines:0,totalLines:20,isPrevious:!0,saveProjectFirst:!0,url:c.articleUrl,value:0}})):s.setState({isActive:!1},(function(){s.props.showErrorNotification("Transcription is still under process")}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),s.props.showErrorNotification("The link is not valid"),setTimeout((function(){s.props.history.push("/")}),1e3);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),s.getText=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t,n,r){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t,{method:"GET",headers:{"cache-control":"no-store, max-age=0"}}).then((function(e){return e.json()})).then((function(e){r(e,!0)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s.openTranscribeStep3=function(e,t){t.step2TxtData&&s.getText(t.step2TxtData,t.project_id,(function(n,r){n.summaryResponse?s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:e,projectDetails:t,projectList:s.props.allVideos,isCanceled:!0,title:t.title?t.title:null,originalText:n.summaryResponse.text,summaryText:n.summaryResponse.html,imageURL:[],articleImages:n.summaryResponse.images,isPrevious:!1,isSummaryOff:!1,lines:n.lines,totalLines:n.totalLines,value:n.value,metaDescription:n.summaryResponse.meta_description,articleKeywords:n.summaryResponse.article_keywords,step2Data:n.summaryResponse,selectedSentences:n.selectedSentences,transcribe_sentences:n.transcribe_sentences,isSubtitleEnabled:n.project.isSubtitleEnabled,isRemoveFillers:n.project.isRemoveFillers,isSummarized:n.project.isSummarized,summarizePercent:n.project.summarizePercent}}):s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:{loadProject:!0,project_id:e,projectDetails:t,projectList:s.props.allVideos,isCanceled:!0,title:t.title?t.title:null}})}))},s.openTranscribeStep2=function(e,t){var n;t.summaryResponse?e.title=t.summaryResponse.title:e.title=t.title,t.transcribe_sentences&&(e.transcribe_sentences=t.transcribe_sentences),t.selectedSentences&&(e.selectedSentences=t.selectedSentences),e.speakers=t.speakers||(null===(n=t.summaryResponse)||void 0===n?void 0:n.speakers),t.summaryResponse?s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:e,projectList:s.props.allVideos,step2Data:t.summaryResponse,lines:t.lines,totalLines:t.totalLines,isPrevious:!0,url:e.articleUrl,value:t.value,saveProjectFirst:!0}}):s.props.history.push({pathname:b.Z.BaseURL+y.Z.stepTwo,state:{projectDetails:e,projectList:s.props.allVideos,step2Data:t,lines:t.summary?t.summary.length:1,totalLines:t.text_num_sentences?t.text_num_sentences:1,isPrevious:!0,url:e.articleUrl,value:parseInt((t.summary?t.summary.length:1)/(t.text_num_sentences?t.text_num_sentences:1)*100),saveProjectFirst:!0}})},s}return(0,s.Z)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.projectAction===Ce.vY.OpenProject&&(!0===this.props.openingProject&&null===this.props.activeProject&&!1===e.openingProject&&null!==e.activeProject?this.openProject(this.props.match.params.projectId,e.activeProject):!0===this.props.openingProject&&!1===this.props.projectOpenError&&!1===e.openingProject&&!0===e.projectOpenError&&(this.props.showErrorNotification("The link is not valid"),setTimeout((function(){t.props.history.push("/")}),1e3)))}},{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params&&this.props.match.params.projectId?this.props.openProject(this.props.match.params.projectId,Ce.vY.OpenProject):(this.props.showErrorNotification("The link is not valid"),setTimeout((function(){e.props.history.push("/")}),1e3))}},{key:"render",value:function(){return(0,E.jsxs)("div",{className:"full-height",children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(ue.Z,{active:!0,spinner:!0,text:"Please wait..."})]})}}]),n}(c.PureComponent),ji=(0,l.$j)((function(e){return{projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,projectAction:e.myVideos.projectAction}}),{openProject:xi,getDataFromResponseId:Si,showErrorNotification:yi})(bi),wi=Z.Z.openProject,Zi=Z.Z.getDataFromResponseId,ki=Z.Z.showErrorNotification,Ci=Z.Z.getVideoProgress,Ii=Z.Z.downloadGeneratedVideo,Ti=function(e){(0,a.Z)(o,e);var t,n=(0,i.Z)(o);function o(e){var t;return(0,r.Z)(this,o),(t=n.call(this,e)).openProject=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(n,r){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.setState({showLoader:!0},(0,O.Z)((0,N.Z)().mark((function e(){var n,s,a,i;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.states?r.states.reverse():[],s=n.findIndex((function(e){return e.name===Ce.yc.VIDEO_GENERATING&&e.responseId})),a="",-1!=s?a=n[s].responseId:r.videoGenerationResponseId&&(a=r.videoGenerationResponseId),""==a){e.next=19;break}return e.next=7,t.props.getVideoProgress({responseId:a});case 7:if(!(i=t.props.videoProgress)||at().isEmpty(i)||!i.message){e.next=17;break}if("completed"!==i.message.status&&"complete"!==i.message.status){e.next=15;break}return e.next=12,t.props.downloadGeneratedVideo(r.project_id,a,i.message.output,i.message.share_output,!1);case 12:t.props.history.push({pathname:b.Z.BaseURL+y.Z.myProjects,state:{videoGenData:{videoURL:i.message.output,shareVideoURL:i.message.share_output,project_id:r.project_id,projectName:r.projectName,srtFile:i.message.srt,txtFile:i.message.text,vttFile:i.message.vtt,previewJson:i.message.preview,videoThumbnail:i.message.thumbnail,audioURL:i.message.audioURL}}}),e.next=17;break;case 15:t.props.showErrorNotification("The video is generating"),setTimeout((function(){t.props.history.push("/")}),1e3);case 17:e.next=21;break;case 19:t.props.history.push(b.Z.BaseURL+y.Z.myProjects),setTimeout((function(){t.props.showErrorNotification("The link is not valid")}),1e3);case 21:case"end":return e.stop()}}),e)}))))}catch(e){t.props.showErrorNotification("The link is not valid"),setTimeout((function(){t.props.history.push("/")}),1e3)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t}return(0,s.Z)(o,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.projectAction===Ce.vY.OpenProject&&(!0===this.props.openingProject&&null===this.props.activeProject&&!1===e.openingProject&&null!==e.activeProject?this.openProject(this.props.match.params.projectId,e.activeProject):!0===this.props.openingProject&&!1===this.props.projectOpenError&&!1===e.openingProject&&!0===e.projectOpenError&&(this.props.showErrorNotification("The link is not valid"),setTimeout((function(){t.props.history.push("/")}),1e3)))}},{key:"componentDidMount",value:(t=(0,O.Z)((0,N.Z)().mark((function e(){var t=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.match&&this.props.match.params&&this.props.match.params.projectId)){e.next=5;break}return e.next=3,v.g.currentAuthenticatedUser().then((function(e){t.props.openProject(t.props.match.params.projectId,Ce.vY.OpenProject)})).catch((function(e){t.props.showErrorNotification("Please login to proceed")}));case 3:e.next=7;break;case 5:this.props.showErrorNotification("The link is not valid"),setTimeout((function(){t.props.history.push("/")}),1e3);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return(0,E.jsxs)("div",{className:"full-height",children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(ue.Z,{active:!0,spinner:!0,text:"Please wait..."})]})}}]),o}(c.PureComponent),Ei=(0,l.$j)((function(e){return{projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,projectAction:e.myVideos.projectAction,videoProgress:e.createVideoStepThree.videoProgress,projectUpdated:e.myVideos.projectUpdated}}),{openProject:wi,getDataFromResponseId:Zi,showErrorNotification:ki,downloadGeneratedVideo:Ii,getVideoProgress:Ci})(Ti),Ai=Z.Z.openVideoDownloadTaskRequest,_i=function(e){(0,a.Z)(o,e);var t,n=(0,i.Z)(o);function o(e){return(0,r.Z)(this,o),n.call(this,e)}return(0,s.Z)(o,[{key:"componentDidMount",value:(t=(0,O.Z)((0,N.Z)().mark((function e(){var t=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.match&&this.props.match.params&&this.props.match.params.projectid&&this.props.match.params.taskid)){e.next=5;break}return e.next=3,v.g.currentAuthenticatedUser().then((function(e){t.props.openVideoDownloadTask(e.username,t.props.match.params.projectid,t.props.match.params.taskid)})).catch((function(e){(0,w.x2)("Please login to proceed",(function(){return t.props.history.push("/")}))}));case 3:e.next=6;break;case 5:(0,w.x2)("The link is not valid",(function(){return t.props.history.push("/")}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t,n){var r=this;this.props.videoDownloadTaskResult!==e.videoDownloadTaskResult&&(this.props.videoDownloadTaskResult.success&&this.props.videoDownloadTask?"REQUIRED"===this.props.videoDownloadTask.action?"SUCCESSFUL"===this.props.videoDownloadTask.state?this.props.videoDownloadTask.output&&this.props.videoDownloadTask.output.videoURL?this.props.history.push("/"):(0,w.x2)("Video could not be downloaded at this moment. Please try again later.",(function(){return r.props.history.push("/")})):"FAILED"===this.props.videoDownloadTask.state&&(0,w.x2)("Video generation failed. Please contact support.",(function(){return r.props.history.push("/")})):(0,w.x2)("Video generation is in progress. Please try again later.",(function(){return r.props.history.push("/")})):(0,w.x2)("Video could not be downloaded at this moment. Please try again later.",(function(){return r.props.history.push("/")})))}},{key:"render",value:function(){return(0,E.jsxs)("div",{className:"full-height",children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(ue.Z,{active:!0,spinner:!0,text:"Please wait..."})]})}}]),o}(c.PureComponent),Ri=(0,l.$j)((function(e){return{videoDownloadTaskResult:e.header.videoDownloadTaskResult,videoDownloadTask:e.header.videoDownloadTask}}),{openVideoDownloadTask:Ai})(_i),Pi=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).loginErrored=function(){window.opener&&window.opener.onHootSuiteLoginError&&window.opener.onHootSuiteLoginError()},s.loginSuccessful=function(){window.opener&&window.opener.onHootSuiteLogin&&window.opener.onHootSuiteLogin()},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then((function(t){if(e.props.location.search){var n=Os.parse(e.props.location.search);n&&n.code?e.props.getVideoPostAuthToken(n.code,t.username):e.loginErrored()}else e.loginErrored()})).catch((function(t){e.loginErrored()}))}},{key:"componentDidUpdate",value:function(){"failed"===this.props.authCodeStatus?this.loginErrored():this.props.authCode&&this.loginSuccessful()}},{key:"render",value:function(){return(0,E.jsx)("div",{className:"full-height",children:(0,E.jsx)(ue.Z,{active:!0,spinner:!0,text:"Please wait while we complete the login..."})})}}]),n}(c.PureComponent),Ni=(0,l.$j)((function(e,t){return{authCode:e.videoPosts.authCode,authCodeStatus:e.videoPosts.authCodeStatus}}),(function(e){return{getVideoPostAuthToken:function(t,n){return e(Z.Z.getVideoPostAuthToken(t,n))}}}))(Pi),Oi=n(465),Di=n(61378),Ui=n.n(Di),Li=n(77280),Fi=n(30835),Vi=function(e){(0,a.Z)(c,e);var t,n=(0,i.Z)(c);function c(e){var t,s,a;return(0,r.Z)(this,c),(a=n.call(this,e)).loadProject=function(){a.props.openProject(a.state.projectDetails.project_id,null,a.state.projectDetails.cognito_id)},a.getTimeOptions=function(e){for(var t=Tt()(),n=Tt()(e),r=a.getOneHourAhead(),s=n.isSame(t,"day"),i=[],o=0;o<24;o++)s&&o<r||(12===o?i.push({name:"12:00 PM",value:12}):o<12?i.push({name:"".concat(o,":00 AM"),value:o}):i.push({name:"".concat(o-12,":00 PM"),value:o}));return i},a.getOneHourAhead=function(){return Tt()().add(2,"hours").endOf("hour").hour()},a.createVideoPostRows=function(){if(a.state.videoProgress){a.isOverlayShown(!1);var e=a.getVideoPostsRows(a.state.videoProgress.message.video_posts),t=e.map((function(e){return{}}));a.setState({videoPostsRows:e,videoPostsRowsError:t,videoProgress:null})}},a.verifyProgressProjects=function(e){var t=a.state.projectDetails.states.findIndex((function(e){return e.name===Ce.yc.VIDEO_POSTING&&e.responseId}));return!!(e.videoGenerationProgress&&e.videoGenerationProgress.project_id===a.state.projectDetails.project_id&&a.state.projectDetails.inProgress&&a.state.projectDetails.currentState===Ce.yc.VIDEO_POSTING&&a.state.projectDetails.states&&a.state.projectDetails.states.length>0&&a.state.projectDetails.states[t]&&a.state.projectDetails.states[t].responseId===e.videoGenerationProgress.response_id)},a.resetProjectState=(0,O.Z)((0,N.Z)().mark((function e(){var t,n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(0,o.Z)({},a.state.projectDetails)).currentState=Ce.yc.READY,t.inProgress=!1,t.saveDate=new Date,t.states&&(n=t.states.findIndex((function(e){return e.name===Ce.yc.VIDEO_POSTING})))>-1&&t.states.splice(n,1),a.setState({projectDetails:t}),e.next=8,a.props.saveProject({body:t});case 8:if("success"!==a.props.saveProjectStatus){e.next=12;break}return e.next=12,a.props.openProject(a.state.projectDetails.project_id,null,a.state.projectDetails.cognito_id);case 12:a.props.removeProjectFromBellIconNotification(t.project_id);case 13:case"end":return e.stop()}}),e)}))),a.updateVideoPostsCSVOutput=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(0,o.Z)({},a.state.projectDetails)).saveDate=new Date,n.videoPostsCSVFile=t,a.setState({projectDetails:n}),e.next=6,a.props.saveProject({body:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.goToPreviousStep=function(e){e.preventDefault&&e.preventDefault(),a.goToStep3(a.state.projectDetails)},a.generateVideoPosts=function(e){e.preventDefault&&e.preventDefault(),a.isOverlayShown(!0);var t=(0,o.Z)({},a.state.projectDetails),n=(0,o.Z)({},a.state.scheduleData);n.date=new Date(n.date.getFullYear(),n.date.getMonth(),n.date.getDate(),parseInt(n.time)),n.time_zone_offset=(new Date).getTimezoneOffset(),delete n.time;var r=[];t.states&&(r=t.states.reduce((function(e,t){return t.name!==Ce.yc.VIDEO_POSTING&&t.name!==Ce.yc.VIDEO_POSTED&&e.push(t),e}),[])),r.splice(0,0,(0,o.Z)((0,o.Z)({},n),{},{video_post:a.state.videoCreationJson.video_post,name:Ce.yc.VIDEO_POSTING})),t.states=r,t.currentState=Ce.yc.VIDEO_POSTING,t.inProgress=!0,t.saveDate=new Date,a.props.initiateGenerateVideoPosts(a.state.videoCreationJson,t,a.state.user.username),a.setState({projectDetails:t})},a.discardVideoPosting=function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault&&t.preventDefault(),a.isOverlayShown(!0),e.next=4,a.resetProjectState();case 4:a.isOverlayShown(!1),a.props.location&&a.props.location.state&&a.props.location.state.prevPath&&a.props.location.state.prevPath===y.Z.stepThree?a.goToPreviousStep(t):window.history.back();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.goToStep3=function(e){var t=a.props.location&&a.props.location.state?a.props.location.state:{};delete t.videoCreationJson,a.props.history.push({pathname:b.Z.BaseURL+y.Z.stepThree,state:(0,o.Z)((0,o.Z)({},t),{},{loadProject:!0,project_id:e.project_id,askBrandSettingChange:!1,projectDetails:e})})},a.isOverlayShown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please wait...";a.setState({isShowOverlay:e,overlayMessage:t})},a.setScheduleDataFieldValue=function(e,t){var n=(0,o.Z)({},a.state.videoPostError);delete n[e];var r=(0,o.Z)({},a.state.scheduleData);if(r[e]=t,"date"===e){var s=a.getTimeOptions(t),i=Tt()(t),c=Tt()();i.isSame(c,"day")&&r.time<s[0].value&&(r.time=s[0].value),a.setState({timeOptions:s,scheduleData:r,videoPostError:n})}else a.setState({scheduleData:r,videoPostError:n})},a.getVideoPostsRows=function(e){var t=[],n=a.state.projectDetails.states.findIndex((function(e){return e.name===Ce.yc.VIDEO_POSTING&&e.responseId})),r=Tt()(),s=Tt()(a.state.projectDetails.states[n].date);s.isBefore(r,"day")&&(s=r);for(var i=0;i<(null==e?void 0:e.length);i++){if(t.length>0)switch(a.state.projectDetails.states[n].frequency){case"every2Hours":s.add(2,"hours");break;case"every4Hours":s.add(4,"hours");break;case"every6Hours":s.add(6,"hours");break;case"every8Hours":s.add(8,"hours");break;case"every10Hours":s.add(10,"hours");break;case"every12Hours":s.add(12,"hours");break;case"daily":s.add(1,"days");break;case"weekly":s.add(7,"days");break;case"monthly":s.add(1,"months")}var o=a.state.projectDetails.states[n].prelude||"";if(a.state.projectDetails.scenes&&a.state.projectDetails.scenes.length>0){var c=i;if("Custom Intro Scene"===a.state.projectDetails.scenes[0].sceneId&&(c+=1),c<a.state.projectDetails.scenes.length&&a.state.projectDetails.scenes[c]){var l=a.state.projectDetails.scenes[c];if("Outro Scene"!==l.sceneId){var u="",d=l.lines;d.length>0&&(u=d.reduce((function(e,t){var n=t.text;return n&&e.push(n.replace(/(<([^>]+)>)/gi,"")),e}),[]).join(" ")),u||(u=(l.sentence||"").replace(/(<([^>]+)>)/gi,"")),o="".concat(o,"\n").concat(u)}}}"url"===a.state.projectDetails.source&&a.state.projectDetails.articleUrl&&(o="".concat(o,"\n").concat(a.state.projectDetails.articleUrl)),a.state.projectDetails.states[n].hashtags&&(o="".concat(o,"\n").concat(a.state.projectDetails.states[n].hashtags)),t.push({selected:!0,date:s.toDate(),time:s.hours(),timeOptions:a.getTimeOptions(s.toDate()),videoUrl:e[i].video_url,share_output:e[i].share_output||"",prelude:o,excluded:!1,mediaId:e[i].media_id});var p=t[t.length-1];s.isSame(r,"day")&&p.time<p.timeOptions[0].value&&(p.time=p.timeOptions[0].value)}return t},a.schedulePosts=at().debounce(function(){var e=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,s,i,c,l,u,d,p,h;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault&&t.preventDefault(),!(a.state.videoPostsRows&&a.state.videoPostsRows.length>0)){e.next=38;break}return a.isOverlayShown(!0,"Scheduling posts..."),e.next=5,(0,te._v)(1e3);case 5:if(0!==(n=a.getSelectedSocialProfiles().map((function(e){return e.id}))).length){e.next=13;break}return(0,w.x2)("Please correct validation errors."),(r=(0,o.Z)({},a.state.videoPostError)).socialProfiles="Please select social profile(s)",a.setState({videoPostError:r}),a.isOverlayShown(!1),e.abrupt("return");case 13:s=[],i=(0,B.Z)(a.state.videoPostsRowsError),c=(0,B.Z)(a.state.videoPostsRows),l=!1,u=0;case 18:if(!(u<c.length)){e.next=31;break}if(d=(0,o.Z)({},c[u]),c[u]=d,!d.selected){e.next=28;break}if(d.prelude){e.next=25;break}return d.selected=!1,e.abrupt("continue",28);case 25:d.prelude.length>500&&(d.prelude=d.prelude.substring(0,501)),p={socialProfiles:n,message:d.prelude,scheduledDateTime:new Date(d.date.getFullYear(),d.date.getMonth(),d.date.getDate(),parseInt(d.time)).toISOString(),mediaId:d.excluded?null:d.mediaId},s.push(p);case 28:u++,e.next=18;break;case 31:if(a.setState({videoPostsRows:c}),!l){e.next=37;break}return(0,w.x2)("Please correct validation errors."),a.isOverlayShown(!1),a.setState({videoPostsRowsError:i}),e.abrupt("return");case 37:s.length>0?(a.props.scheduleMessageInitiate(a.state.user.username,s),h=a.state.videoPostsRowsError.map((function(e){return{}})),a.setState({videoPostsRowsError:h})):(a.isOverlayShown(!1),(0,w.x2)("There are no messages to schedule"));case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),a.generateCSV=(0,O.Z)((0,N.Z)().mark((function e(){var t,n,r,s,i,c,l,u,d,p;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.isOverlayShown(!0,"Creating video posts CSV"),a.state.projectDetails.currentState===Ce.yc.READY){e.next=5;break}return e.next=5,a.resetProjectState();case 5:t=[{name:"DateTime",value:"dateTime"},{name:"Message",value:"message"},{name:"Link",value:"link"}],n=(0,B.Z)(a.state.videoPostsRowsError),r=(0,B.Z)(a.state.videoPostsRows),s=!1,i=[],c=0;case 11:if(!(c<r.length)){e.next=26;break}if(l=(0,o.Z)({},r[c]),r[c]=l,!l.selected){e.next=23;break}if(l.prelude){e.next=18;break}return l.selected=!1,e.abrupt("continue",23);case 18:l.prelude.length>500&&(l.prelude=l.prelude.substring(0,501)),u=new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),parseInt(l.time)),d={dateTime:"".concat(u.toLocaleDateString()," ").concat(u.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})),message:l.prelude},l.excluded?d.link="":d.link=l.share_output,i.push(d);case 23:c++,e.next=11;break;case 26:if(a.setState({videoPostsRows:r}),!s){e.next=32;break}return(0,w.x2)("Please correct validation errors."),a.isOverlayShown(!1),a.setState({videoPostsRowsError:n}),e.abrupt("return");case 32:i.length>0?(p=a.state.videoPostsRowsError.map((function(e){return{}})),a.setState({videoPostsRowsError:p,closeButtonText:"Close"}),a.downloadCSV(t,i)):(a.isOverlayShown(!1),(0,w.x2)("There are no messages to download")),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),(0,w.x2)("An error occurred while creating video posts CSV.");case 38:return e.prev=38,a.isOverlayShown(!1),e.finish(38);case 41:case"end":return e.stop()}}),e,null,[[0,35,38,41]])}))),a.downloadCSV=function(e,t){var n,r="",s=(0,Vr.Z)(t);try{for(s.s();!(n=s.n()).done;){var i,o=n.value,c="",l=(0,Vr.Z)(e);try{for(l.s();!(i=l.n()).done;)c+='"'+o[i.value.value]+'",'}catch(e){l.e(e)}finally{l.f()}c.slice(0,c.length-1),r+=c+"\r\n"}}catch(e){s.e(e)}finally{s.f()}if(""!==r){a.props.uploadVideoPostsCSV(r,a.state.user.username,a.state.projectDetails.project_id,a.state.responseId);var u=document.createElement("a");u.id="lnkDwnldLnk",document.body.appendChild(u);var d=new Blob([r],{type:"text/csv"}),p=window.webkitURL.createObjectURL(d),h="".concat(a.state.projectDetails.projectName,".csv");ie()("#lnkDwnldLnk").attr({download:h,href:p}),ie()("#lnkDwnldLnk")[0].click(),document.body.removeChild(u)}else(0,w.x2)("Invalid data")},a.getSelectedSocialProfiles=function(){var e,t=[],n=(0,Vr.Z)(a.props.socialProfiles.personalSociaProfiles);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.selected&&t.push(r)}}catch(e){n.e(e)}finally{n.f()}var s,i=(0,Vr.Z)(a.props.socialProfiles.companySocialProfiles);try{for(i.s();!(s=i.n()).done;){var o=s.value;o.selected&&t.push(o)}}catch(e){i.e(e)}finally{i.f()}return t},a.showScheduledPostResult=function(){var e=0,t=(0,B.Z)(a.state.videoPostsRows),n=a.getSelectedSocialProfiles();if(a.state.scheduleMessageStatus)for(var r=0;r<t.length;r++){var s=(0,o.Z)({},t[r]);if(t[r]=s,s.selected){var i=[],c=[];if(a.state.scheduleMessageStatus.status[e].success)i=n.map((function(e){return{imageSrc:e.accountImage,text:e.name}})),s.selected=!1;else if(a.state.scheduleMessageStatus.status[e].errors){var l,u=(0,Vr.Z)(n);try{var d=function(){var t=l.value,n=a.state.scheduleMessageStatus.status[e].errors.find((function(e){return e.socialProfile===t.id}));if(n){var r=n.errors.reduce((function(e,t){return"INTERNAL_ERROR"===t.code?e?"".concat(e,"; Message could not be scheduled"):"Message could not be scheduled":e?"".concat(e,"; ").concat(t.message):t.message}),"");c.push({imageSrc:t.accountImage,text:t.name,errMsg:r})}else i.push({imageSrc:t.accountImage,text:t.name})};for(u.s();!(l=u.n()).done;)d()}catch(e){u.e(e)}finally{u.f()}}s.successfulAccountPosts=i,s.failedAccountPosts=c,e++}}a.setState({videoPostsRows:t,scheduleMessageStatus:null,showPostConfirmation:!1,schedulePostResultMessage:"",closeButtonText:"Close"})},a.onPersonalSocialProfileClicked=function(e,t){var n=(0,o.Z)({},a.state.videoPostError);delete n.socialProfiles,a.setState({videoPostError:n}),a.props.selectPersonalSocialProfile(e,t)},a.onCompanySocialProfileClicked=function(e,t){var n=(0,o.Z)({},a.state.videoPostError);delete n.socialProfiles,a.setState({videoPostError:n}),a.props.selectCompanySocialProfile(e,t)},a.onVideoPostRowChange=function(e,t,n){var r=(0,B.Z)(a.state.videoPostsRows);if(r[e]=(0,o.Z)({},r[e]),"date"===t){var s=a.getTimeOptions(n);r[e].timeOptions=s;var i=Tt()(n),c=Tt()();i.isSame(c,"day")&&r[e].time<s[0].value&&(r[e].time=s[0].value)}r[e][t]=n;var l=(0,B.Z)(a.state.videoPostsRowsError),u=(0,o.Z)({},l[e]);delete u[t],l[e]=u,a.setState({videoPostsRows:r,videoPostsRowsError:l})},a.state={projectDetails:null!==(t=a.props.location.state)&&void 0!==t&&t.projectDetails?(0,o.Z)({},a.props.location.state.projectDetails):{},videoCreationJson:null===(s=a.props.location.state)||void 0===s?void 0:s.videoCreationJson,isShowOverlay:!0,overlayMessage:"Please wait...",step:1,loading:!1,loadingText:"Please wait. \nGenerating video snippets for social sharing",postToDropdownVisible:!1,timeOptions:[],videoPostsRows:[],videoPostsRowsError:[],defaultTextAreaValue:"Hear from the Product Marketing expert",scheduleData:{date:new Date,time:a.getOneHourAhead(),prelude:"",hashtags:"",frequency:"daily"},progress:0,generatingPost:!1,videoPostError:{},showPostConfirmation:!1,schedulePostResultMessage:"",scheduleMessageStatus:null,closeButtonText:"Discard"},a.state.timeOptions=a.getTimeOptions(a.state.scheduleData.date),a}return(0,s.Z)(c,[{key:"componentWillMount",value:function(){var e=this;v.g.currentAuthenticatedUser().then(function(){var t=(0,O.Z)((0,N.Z)().mark((function t(n){return(0,N.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({user:n},e.loadProject);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(e){this.props.history.push(b.Z.BaseURL)}.bind(this))}},{key:"componentDidMount",value:function(){C.Z.removeItem("lastUrl"),C.Z.setItem("lastUrl",y.Z.videoPosts)}},{key:"componentWillUnmount",value:function(){C.Z.getItem("lastUrl")===y.Z.videoPosts&&C.Z.removeItem("lastUrl"),this.props.stopVideoGeneration()}},{key:"componentWillReceiveProps",value:(t=(0,O.Z)((0,N.Z)().mark((function e(t){var n,r,s,a,i,o,c,l,u,d,p,h;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.openingProject===t.openingProject||t.openingProject){e.next=22;break}if(!t.activeProject){e.next=19;break}if(t.activeProject.currentState!==Ce.yc.VIDEO_POSTING||!1!==t.activeProject.inProgress){e.next=14;break}return this.isOverlayShown(!0),n=t.activeProject.states,r=n.findIndex((function(e){return e.name===Ce.yc.VIDEO_POSTING&&e.responseId})),n[r].video_post&&this.props.getSocialProfiles(this.state.user.username),s=n[r].responseId,e.next=10,this.props.getVideoProgress(s);case 10:(a=this.props.videoProgress)?(this.setState({projectDetails:t.activeProject,video_post:n[r].video_post,videoProgress:a,responseId:s,step:2,progress:0,generatingPost:!1},this.createVideoPostRows),this.props.removeProjectFromBellIconNotification(t.activeProject.project_id)):(this.isOverlayShown(!1),this.setState({video_post:n[r].video_post,projectDetails:t.activeProject})),e.next=16;break;case 14:this.isOverlayShown(!1),this.setState({projectDetails:t.activeProject});case 16:return e.abrupt("return");case 19:return(0,w.x2)("Unable to open project"),setTimeout((function(){return window.history.back()}),3e3),e.abrupt("return");case 22:if(this.state.projectDetails.currentState!==Ce.yc.VIDEO_POSTING){e.next=63;break}if(this.props.generateVideoPostsStatus===t.generateVideoPostsStatus||this.props.generateVideoPostsStatus.status===t.generateVideoPostsStatus.status){e.next=30;break}if("failed"!==t.generateVideoPostsStatus.status){e.next=29;break}return(0,w.x2)("Generate video posts failed."),e.next=28,this.resetProjectState();case 28:this.isOverlayShown(!1);case 29:"success"===t.generateVideoPostsStatus.status&&(this.isOverlayShown(!1),this.setState({step:0,projectDetails:t.generateVideoPostsStatus.projectDetails||this.state.projectDetails,generatingPost:!0,process:0}));case 30:if(!this.verifyProgressProjects(t)){e.next=63;break}if(this.props.videoGenerationProgress===t.videoGenerationProgress||this.props.videoGenerationProgress.progress===t.videoGenerationProgress.progress||!1!==t.videoGenerationProgress.progress){e.next=36;break}return(0,w.x2)(t.videoGenerationProgress.generateVideoStatusMessage||"Video generation failed."),this.setState({step:1,progress:0,generatingPost:!1}),e.next=36,this.resetProjectState();case 36:if(this.props.videoGenerationProgress===t.videoGenerationProgress||this.props.videoGenerationProgress.progress===t.videoGenerationProgress.progress&&this.props.videoGenerationProgress.status===t.videoGenerationProgress.status||!1!==Number.isNaN(parseFloat(t.videoGenerationProgress.progress))){e.next=63;break}if("completed"!==t.videoGenerationProgress.status&&"complete"!==t.videoGenerationProgress.status){e.next=58;break}return i=this.state.projectDetails.states,o=i.findIndex((function(e){return e.name===Ce.yc.VIDEO_POSTING&&e.responseId})),i[o].video_post&&this.props.getSocialProfiles(this.state.user.username),c=this.state.projectDetails.states[o].responseId,e.next=44,this.props.getVideoProgress(c);case 44:if(!(l=this.props.videoProgress)){e.next=52;break}u=this.getVideoPostsRows(l.message.video_posts),d=u.map((function(e){return{}})),this.setState({video_post:i[o].video_post,responseId:c,step:2,progress:100*Math.floor(this.state.progress/100)+t.videoGenerationProgress.progress,generatingPost:!1,videoPostsRows:u,videoPostsRowsError:d}),this.props.removeProjectFromBellIconNotification(this.state.projectDetails.project_id),e.next=56;break;case 52:return(0,w.x2)("Video generation failed."),e.next=55,this.resetProjectState();case 55:this.setState({step:1,progress:0,generatingPost:!1});case 56:e.next=63;break;case 58:this.isOverlayShown(!1),p=0,this.state.progress>0&&0===t.videoGenerationProgress.progress&&(p=1),h=100*(Math.floor(this.state.progress/100)+p)+t.videoGenerationProgress.progress,this.setState({step:0,progress:h,generatingPost:!0});case 63:if(!t.scheduleMessageStatus||this.props.scheduleMessageStatus===t.scheduleMessageStatus){e.next=69;break}return e.next=66,this.resetProjectState();case 66:this.isOverlayShown(!1),this.setState({scheduleMessageStatus:t.scheduleMessageStatus}),t.scheduleMessageStatus.success?this.setState({showPostConfirmation:!0,schedulePostResultMessage:"All the posts have been successfully scheduled."}):this.setState({showPostConfirmation:!0,schedulePostResultMessage:"Few posts have failed to schedule on Hootsuite."});case 69:if(!t.uploadVideoPostsCSVResult||this.props.uploadVideoPostsCSVResult===t.uploadVideoPostsCSVResult){e.next=73;break}if(!0!==t.uploadVideoPostsCSVResult.success){e.next=73;break}return e.next=73,this.updateVideoPostsCSVOutput(t.videoPostsCSVUrl);case 73:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Li.a,{open:this.state.showPostConfirmation,title:"Scheduled posts via Hootsuite",okButtonText:"See details",onOk:this.showScheduledPostResult,onClose:function(){return e.setState({showPostConfirmation:!1,schedulePostResultMessage:""})},children:this.state.schedulePostResultMessage}),(0,E.jsx)(ue.Z,{active:this.state.isShowOverlay&&!this.props.generateVideoPostsStatus.inProgress,spinner:!0,text:this.state.overlayMessage}),(0,E.jsxs)("div",{className:"plans-page",id:"hootsuite",onClick:function(){e.state.postToDropdownVisible&&e.setState({postToDropdownVisible:!1})},children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsxs)("div",{className:["horizontal-flex fill-width space-between-center pl-3 pt-2",this.state.step?"":"hidden"].join(" "),style:{marginTop:"var(--app-header-height)"},children:[(0,E.jsxs)("div",{className:"vertical-flex",children:[(0,E.jsx)("h3",{className:"section-header bold mb-0",children:"Generate video posts"}),(0,E.jsx)("h4",{className:"blue font-size-3",children:this.state.projectDetails.projectName})]}),(0,E.jsxs)("div",{className:"horizontal-flex buttonsStep2head",children:[1===this.state.step&&(0,E.jsx)("a",{className:"btn btn-outline-default btn--prevs2 mr-2",id:"btnPrevious",onClick:this.goToPreviousStep,children:"Previous"}),1===this.state.step&&(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",id:"btnNext",onClick:this.generateVideoPosts,children:"Next"}),2===this.state.step&&(0,E.jsx)("a",{className:"btn btn-outline-default btn--prevs2 mr-2",id:"btnDiscard",onClick:this.discardVideoPosting,children:this.state.closeButtonText}),2===this.state.step&&(this.state.video_post?(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",id:"btnSchedule",onClick:this.schedulePosts,children:"Schedule on Hootsuite"}):(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",id:"btnSchedule",onClick:this.generateCSV,children:"Download CSV"}))]})]}),(0,E.jsxs)("div",{className:["vertical-flex have-gradient-background center-center mt-56 fill-height",this.state.generatingPost?"visible":"hidden"].join(" "),children:[this.state.loadingText.split("\n").map((function(e){return(0,E.jsx)("h1",{className:"font-size-2 sortof-black pt-0 mt-0 mb-0",children:e})})),(0,E.jsx)("div",{id:"progress-bar",className:"progress mt-4 mb-3",style:{borderRadius:"20px",width:"30%"},children:(0,E.jsx)("div",{id:"dynamic",className:"progress-bar progress-bar-success progress-bar-striped active",role:"progressbar","aria-valuenow":Math.ceil(this.state.progress/3),"aria-valuemin":"0","aria-valuemax":"100",style:{width:Math.ceil(this.state.progress/3)+"%"},children:(0,E.jsx)("span",{id:"current-progress"})})})]}),(0,E.jsxs)("div",{className:["vertical-flex start-start",2===this.state.step?"":"hidden",this.state.loading?"hidden":""].join(" "),children:[this.state.video_post?(0,E.jsxs)("div",{className:"horizontal-flex start-center flex-fill pl-3 mt-4",children:[(0,E.jsx)("h3",{className:"font-size-3 bold mb-0 mt-0",children:"Post to"}),(0,E.jsxs)("div",{className:"relative ml-4 pointer",onClick:function(){e.setState({postToDropdownVisible:!e.state.postToDropdownVisible})},children:[(0,E.jsx)(_e.Z.Control,{type:"text",placeholder:"Select accounts",value:"Select accounts",className:"blue blue-placeholder padding-fix",isInvalid:!!this.state.videoPostError.socialProfiles}),this.state.videoPostError.socialProfiles?(0,E.jsx)(_e.Z.Control.Feedback,{type:"invalid",children:this.state.videoPostError.socialProfiles}):(0,E.jsx)(E.Fragment,{}),(0,E.jsx)("i",{className:"fa fa-caret-down floated-arrow mr-3","aria-hidden":"true"}),this.state.postToDropdownVisible&&(0,E.jsxs)("div",{className:"floating-dropdown vertical-flex start white-background",onClick:function(e){e.stopPropagation()},children:[(0,E.jsxs)("span",{className:"small gray bold ml-2 mt-2",children:["Personal ",this.props.socialProfiles.personalSociaProfiles.length]}),this.props.socialProfiles.personalSociaProfiles.map((function(t,n){return(0,E.jsxs)("div",{className:"horizontal-flex space-around-center mt-1 mb-1",children:[(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox ml-2",checked:t.selected,onChange:function(t){return e.onPersonalSocialProfileClicked(n,t.currentTarget.checked)}}),(0,E.jsxs)("div",{className:["overlapping-image relative",t.avatarUrl?"have-master":"no-master"].join(" "),children:[(0,E.jsx)("img",{src:t.avatarUrl,className:"master"}),(0,E.jsx)("img",{src:t.accountImage,className:"slave"})]}),(0,E.jsx)("span",{className:"font-size-3 ellipsis-font-142 mr-3",children:t.name}),(0,E.jsx)("i",{className:"fa mr-2 fa-star-o","aria-hidden":"true"})]},t.id)})),(0,E.jsxs)("span",{className:"small gray bold ml-2 mt-2 mt-3",children:["Business ",this.props.socialProfiles.companySocialProfiles.length]}),this.props.socialProfiles.companySocialProfiles.map((function(t,n){return(0,E.jsxs)("div",{className:"horizontal-flex space-around-center mt-1 mb-1",children:[(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox ml-2",checked:t.selected,onChange:function(t){return e.onCompanySocialProfileClicked(n,t.currentTarget.checked)}}),(0,E.jsxs)("div",{className:["overlapping-image relative",t.avatarUrl?"have-master":"no-master"].join(" "),children:[(0,E.jsx)("img",{src:t.avatarUrl,className:"master"}),(0,E.jsx)("img",{src:t.accountImage,className:"slave"})]}),(0,E.jsx)("span",{className:"font-size-3 mr-3",children:t.name}),(0,E.jsx)("i",{className:"fa mr-2 fa-star-o","aria-hidden":"true"})]},t.id)}))]})]}),(0,E.jsx)("div",{className:"horizontal-flex",children:this.props.socialProfiles.personalSociaProfiles.concat(this.props.socialProfiles.companySocialProfiles).filter((function(e){return e.selected})).map((function(e){return(0,E.jsxs)("div",{className:"horizontal-flex start-center selected-account",children:[(0,E.jsxs)("div",{className:["overlapping-image relative",e.avatarUrl?"have-master":"no-master"].join(" "),children:[(0,E.jsx)("img",{src:e.avatarUrl,className:"master"}),(0,E.jsx)("img",{src:e.accountImage,className:"slave"})]}),(0,E.jsx)("span",{className:"font-size-3 mr-3 ml-2",children:e.name})]})}))})]}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)(Oi.Z,{className:"invisible-borders ml-4 mt-4 width-95",children:[(0,E.jsx)("thead",{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{style:{width:"5%"},children:"Select"}),(0,E.jsx)("th",{style:{width:"25%"},children:"Date and time"}),(0,E.jsx)("th",{style:{width:"50%"},children:"Text"}),(0,E.jsx)("th",{style:{width:"20%"},children:"Media"})]})}),(0,E.jsx)("tbody",{children:this.state.videoPostsRows.map((function(t,n){return(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"center-aligned",children:(0,E.jsx)(_e.Z.Check,{type:"checkbox",class:"black-checkbox",checked:t.selected,onChange:function(t){return e.onVideoPostRowChange(n,"selected",t.currentTarget.checked)}})}),(0,E.jsxs)("td",{children:[(0,E.jsxs)("div",{className:"horizontal-flex start-center",children:[(0,E.jsxs)("div",{className:"relative mr-3 min-width-168",children:[(0,E.jsx)(Ui(),{minDate:new Date,selected:t.date,className:"form-control padding-fix max-width-168 blue",onChange:function(t){return e.onVideoPostRowChange(n,"date",t)},showDisabledMonthNavigation:!0}),(0,E.jsx)("i",{className:"fa fa-caret-down floated-arrow","aria-hidden":"true"})]}),(0,E.jsx)("div",{className:"relative mr-2",children:(0,E.jsx)(_e.Z,{children:(0,E.jsx)(_e.Z.Group,{controlId:"exampleForm.SelectCustom",className:"mb-0 min-width-168",children:(0,E.jsx)(_e.Z.Control,{as:"select",custom:!0,className:"blue",value:t.time,onChange:function(t){return e.onVideoPostRowChange(n,"time",t.target.value)},children:t.timeOptions.map((function(e){return(0,E.jsx)("option",{value:e.value,children:e.name})}))})})})})]}),(0,E.jsxs)("div",{children:[t.successfulAccountPosts&&t.successfulAccountPosts.length>0?(0,E.jsx)(Fi.q,{listItems:t.successfulAccountPosts,width:"200px",children:(0,E.jsxs)("div",{className:"green-txt itallic",children:[(0,E.jsx)("span",{className:"bold",children:"✓"}),"  Scheduled on ",(0,E.jsxs)("u",{children:[t.successfulAccountPosts.length," accounts"]})]})}):(0,E.jsx)(E.Fragment,{}),t.failedAccountPosts&&t.failedAccountPosts.length>0?(0,E.jsx)(Fi.q,{listItems:t.failedAccountPosts,width:"350px",children:(0,E.jsxs)("div",{className:"red itallic",children:[(0,E.jsx)("span",{className:"bold",children:"✖"}),"  Failed to schedule on ",(0,E.jsxs)("u",{children:[t.failedAccountPosts.length," accounts"]})]})}):(0,E.jsx)(E.Fragment,{})]})]}),(0,E.jsxs)("td",{children:[(0,E.jsx)(_e.Z.Control,{as:"textarea",rows:5,value:t.prelude,onChange:function(t){return e.onVideoPostRowChange(n,"prelude",t.target.value)},isInvalid:!!(e.state.videoPostsRowsError&&e.state.videoPostsRowsError.length>0&&e.state.videoPostsRowsError[n]&&e.state.videoPostsRowsError[n].prelude)}),(0,E.jsx)("span",{className:"gray right-aligned small fill-width",children:"500 characters"}),e.state.videoPostsRowsError&&e.state.videoPostsRowsError.length>0&&e.state.videoPostsRowsError[n]&&e.state.videoPostsRowsError[n].prelude?(0,E.jsx)(_e.Z.Control.Feedback,{type:"invalid",children:e.state.videoPostsRowsError[n].prelude}):(0,E.jsx)(E.Fragment,{})]}),(0,E.jsxs)("td",{children:["video"==(0,te.Q5)(t.videoUrl)?(0,E.jsx)("video",{autoPlay:!0,muted:!0,src:t.videoUrl,className:"thumb-image rounded-corners",style:{height:"100px"}}):(0,E.jsx)("img",{className:"no-border-radius",src:t.videoUrl,style:{height:"100px"}}),(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox mt-2",label:"Exclude video",checked:t.excluded,onChange:function(t){return e.onVideoPostRowChange(n,"excluded",t.currentTarget.checked)}})]})]})}))})]})]}),(0,E.jsxs)("div",{className:["horizontal-flex width-80-centered","start-start",1===this.state.step?"":"hidden",this.state.loading?"hidden":""].join(" "),children:[(0,E.jsxs)("div",{className:"vertical-flex flex-fill pl-3 mt-4 mr-4 ml-4",children:[(0,E.jsx)("h3",{className:"font-size-3 bold",children:"Enter the text to be entered in your bulk social content"}),(0,E.jsxs)(_e.Z.Group,{className:"italic-placeholder mt-2 mr-4 fill-width",children:[(0,E.jsx)(_e.Z.Label,{children:(0,E.jsx)("span",{className:"bold black font-size-4 ml-1",children:"Prelude"})}),(0,E.jsx)(_e.Z.Control,{isInvalid:!!this.state.videoPostError.prelude,required:!0,as:"textarea",rows:3,placeholder:'Eg: "Hear the marketing guru speak"',value:this.state.scheduleData.prelude,onChange:function(t){return e.setScheduleDataFieldValue("prelude",t.target.value)}}),this.state.videoPostError.prelude?(0,E.jsx)(_e.Z.Control.Feedback,{type:"invalid",children:this.state.videoPostError.prelude}):(0,E.jsx)(E.Fragment,{})]}),(0,E.jsxs)(_e.Z.Group,{className:"italic-placeholder mt-2 mr-4 fill-width",children:[(0,E.jsx)(_e.Z.Label,{children:(0,E.jsx)("span",{className:"bold black font-size-4 ml-1",children:"Hashtags"})}),(0,E.jsx)(_e.Z.Control,{as:"textarea",rows:3,placeholder:"Eg: #digitalmarketing #marketing",value:this.state.scheduleData.hashtags,onChange:function(t){return e.setScheduleDataFieldValue("hashtags",t.target.value)}})]})]}),(0,E.jsxs)("div",{className:"vertical-flex flex-fill mt-4 ml-4 mr-4",children:[(0,E.jsx)("h3",{className:"font-size-3 bold",children:"Select start date and time"}),(0,E.jsxs)("div",{className:"horizontal-flex start-center",children:[(0,E.jsxs)("div",{className:"relative mr-3",children:[(0,E.jsx)(Ui(),{minDate:new Date,selected:this.state.scheduleData.date,className:"form-control padding-fix max-width-168 blue",onChange:function(t){return e.setScheduleDataFieldValue("date",t)},showDisabledMonthNavigation:!0}),(0,E.jsx)("i",{className:"fa fa-caret-down floated-arrow","aria-hidden":"true"})]}),(0,E.jsx)("div",{className:"relative mr-2",children:(0,E.jsx)(_e.Z,{children:(0,E.jsx)(_e.Z.Group,{controlId:"exampleForm.SelectCustom",className:"mb-0 min-width-168",children:(0,E.jsx)(_e.Z.Control,{as:"select",custom:!0,className:"blue",value:this.state.scheduleData.time,onChange:function(t){return e.setScheduleDataFieldValue("time",t.target.value)},children:this.state.timeOptions.map((function(e){return(0,E.jsx)("option",{value:e.value,children:e.name})}))})})})})]}),(0,E.jsxs)("div",{className:"horizontal-flex start-center mt-56",children:[(0,E.jsx)("h3",{className:"font-size-3 bold min-width-168 mr-3 mb-0 mt-0",children:"Select post frequency"}),(0,E.jsx)(_e.Z,{children:(0,E.jsx)(_e.Z.Group,{controlId:"exampleForm.SelectCustom",className:"mb-0 min-width-168",children:(0,E.jsxs)(_e.Z.Control,{as:"select",custom:!0,className:"blue",value:this.state.scheduleData.frequency,onChange:function(t){return e.setScheduleDataFieldValue("frequency",t.target.value)},children:[(0,E.jsx)("option",{value:"every2Hours",children:"Every 2 hours"}),(0,E.jsx)("option",{value:"every4Hours",children:"Every 4 hours"}),(0,E.jsx)("option",{value:"every6Hours",children:"Every 6 hours"}),(0,E.jsx)("option",{value:"every8Hours",children:"Every 8 hours"}),(0,E.jsx)("option",{value:"every10Hours",children:"Every 10 hours"}),(0,E.jsx)("option",{value:"every12Hours",children:"Every 12 hours"}),(0,E.jsx)("option",{value:"daily",children:"Daily once"}),(0,E.jsx)("option",{value:"weekly",children:"Weekly once"}),(0,E.jsx)("option",{value:"monthly",children:"Monthly once"})]})})})]})]})]})]})]})}}]),c}(c.Component),Bi=(0,l.$j)((function(e,t){var n={generateVideoPostsStatus:e.videoPosts.generateVideoPostsStatus,videoGenerationProgress:e.createVideoStepThree.videoGenerationProgress,videoProgress:e.createVideoStepThree.videoProgress,socialProfiles:e.videoPosts.socialProfiles,scheduleMessageStatus:e.videoPosts.scheduleMessageStatus,saveProjectStatus:e.myVideos.duplicateProjectStatus,activeProject:e.myVideos.activeProject,projectOpenError:e.myVideos.projectOpenError,openingProject:e.myVideos.openingProject,uploadVideoPostsCSVResult:e.videoPosts.uploadVideoPostsCSVResult,videoPostsCSVUrl:e.videoPosts.videoPostsCSVUrl};return!0!==n.generateVideoPostsStatus.inProgress||"completed"!==n.videoGenerationProgress.status&&"complete"!==n.videoGenerationProgress.status||(n.generateVideoPostsStatus.inProgress=!1),n}),(function(e){return{initiateGenerateVideoPosts:function(t,n,r){return e(Z.Z.initiateGenerateVideoPosts(t,n,r))},saveProject:function(t){return e(Z.Z.saveProject(t))},removeProjectFromBellIconNotification:function(t){return e(Z.Z.removeProjectFromReducer(t))},getVideoProgress:function(t){return e(Z.Z.getVideoProgress({responseId:t}))},getSocialProfiles:function(t){return e(Z.Z.getSocialProfiles(t))},scheduleMessageInitiate:function(t,n){return e(Z.Z.scheduleMessageInitiate(t,n))},selectPersonalSocialProfile:function(t,n){return e(Z.Z.selectPersonalSocialProfile(t,n))},selectCompanySocialProfile:function(t,n){return e(Z.Z.selectCompanySocialProfile(t,n))},setActiveProject:function(t){return e(Z.Z.projectOpened({projectOpenError:!1,project:t,projectAction:Ce.vY.OpenProject}))},openProject:function(t,n,r){return e(Z.Z.openProject(t,Ce.vY.OpenProject,r))},stopVideoGeneration:function(){return e(Z.Z.stopVideoGeneration())},uploadVideoPostsCSV:function(t,n,r,s){return e(Z.Z.uploadVideoPostsCSVRequest(t,n,r,s))}}}))(Vi),Mi=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).setFieldValue=function(e,t){},s.state={step:0,loading:!1,loadingText:"Please wait. \nGenerating video snippets for social sharing",defaultDate:new Date,defaultOption:"5:00 PM",postToDropdownVisible:!1,timeOptions:[],rows:[]},s}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(e,t,n){}},{key:"componentDidMount",value:function(){for(var e=[],t=1;t<13;t++)e.push("".concat(t,":00 AM"));for(var n=1;n<13;n++)e.push("".concat(n,":00 PM"));this.setState({timeOptions:e}),this.setState({step:2,loading:!1,rows:[1,2],defaultTextAreaValue:"Hear from the Product Marketing expert"})}},{key:"render",value:function(){var e=this;return(0,E.jsxs)("div",{className:"plans-page",id:"hootsuite",onClick:function(){e.state.postToDropdownVisible&&e.setState({postToDropdownVisible:!1})},children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsxs)("div",{className:["horizontal-flex fill-width space-between-center pl-3 pt-2",this.state.step?"":"hidden"].join(" "),style:{marginTop:"var(--app-header-height)"},children:[(0,E.jsxs)("div",{className:"vertical-flex",children:[(0,E.jsx)("h3",{className:"section-header bold mb-0",children:"Generate video posts"}),(0,E.jsx)("h4",{className:"blue font-size-3",children:"Apple 4"})]}),(0,E.jsxs)("div",{className:"horizontal-flex buttonsStep2head",children:[1===this.state.step&&(0,E.jsx)("a",{className:"btn btn-outline-default btn--prevs2 mr-2",id:"btnPrevious",children:"Previous"}),1===this.state.step&&(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",id:"btnNext",children:"Next"}),2===this.state.step&&(0,E.jsx)("a",{className:"btn btn-outline-default btn--prevs2 mr-2",id:"btnDiscard",children:"Discard"}),2===this.state.step&&(0,E.jsx)("a",{className:"btn btn--nexts2 btn-submit",id:"btnSchedule",children:"Schedule on Hootsuite"})]})]}),(0,E.jsxs)("div",{className:["vertical-flex center-center mt-56 fill-height",this.state.loading?"visible":"hidden"].join(" "),children:[this.state.loadingText.split("\n").map((function(e){return(0,E.jsx)("h1",{className:"font-size-2 sortof-black pt-0 mt-0 mb-0",children:e})})),(0,E.jsx)("div",{id:"progress-bar",className:"progress mt-4 mb-3",style:{borderRadius:"20px",width:"30%"},children:(0,E.jsx)("div",{id:"dynamic",className:"progress-bar progress-bar-success progress-bar-striped active",role:"progressbar","aria-valuenow":60,"aria-valuemin":"0","aria-valuemax":"60",style:{width:"60%"},children:(0,E.jsx)("span",{id:"current-progress"})})})]}),(0,E.jsxs)("div",{className:["vertical-flex start-start",2===this.state.step?"":"hidden",this.state.loading?"hidden":""].join(" "),children:[(0,E.jsxs)("div",{className:"horizontal-flex start-center flex-fill pl-3 mt-4",children:[(0,E.jsx)("h3",{className:"font-size-3 bold mb-0 mt-0",children:"Post to"}),(0,E.jsxs)("div",{className:"relative ml-4 pointer",onClick:function(){e.setState({postToDropdownVisible:!e.state.postToDropdownVisible})},children:[(0,E.jsx)(_e.Z.Control,{type:"text",placeholder:"Select accounts",value:"Select accounts",className:"blue blue-placeholder padding-fix"}),(0,E.jsx)("i",{className:"fa fa-caret-down floated-arrow mr-3","aria-hidden":"true"}),this.state.postToDropdownVisible&&(0,E.jsxs)("div",{className:"floating-dropdown vertical-flex start white-background",onClick:function(e){e.stopPropagation()},children:[(0,E.jsx)("span",{className:"small gray bold ml-2 mt-2",children:"Personal (2)"}),(0,E.jsxs)("div",{className:"horizontal-flex space-around-center mt-1 mb-1",children:[(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox ml-2"}),(0,E.jsxs)("div",{className:"overlapping-image relative",children:[(0,E.jsx)("img",{src:"/images/hootsuite/svg/profile1.svg",alt:"First Profile pic",className:"master"}),(0,E.jsx)("img",{src:"/images/hootsuite/svg/facebook.svg",alt:"social media icon",className:"slave"})]}),(0,E.jsx)("span",{className:"font-size-3 mr-3",children:"John Appleseed"}),(0,E.jsx)("i",{className:"fa mr-2 fa-star-o","aria-hidden":"true"})]}),(0,E.jsxs)("div",{className:"horizontal-flex space-around-center mt-1 mb-1",children:[(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox ml-2"}),(0,E.jsxs)("div",{className:"overlapping-image relative",children:[(0,E.jsx)("img",{src:"/images/hootsuite/svg/profile2.svg",alt:"First Profile pic",className:"master"}),(0,E.jsx)("img",{src:"/images/hootsuite/svg/twitter.svg",alt:"social media icon",className:"slave"})]}),(0,E.jsx)("span",{className:"font-size-3 mr-3",children:"John Appleseed"}),(0,E.jsx)("i",{className:"fa mr-2 fa-star golden","aria-hidden":"true"})]}),(0,E.jsx)("span",{className:"small gray bold ml-2 mt-2 mt-3",children:"Business (3)"}),(0,E.jsxs)("div",{className:"horizontal-flex space-around-center mt-1 mb-1",children:[(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox ml-2"}),(0,E.jsxs)("div",{className:"overlapping-image relative",children:[(0,E.jsx)("img",{src:"/images/hootsuite/svg/profile2.svg",alt:"First Profile pic",className:"master"}),(0,E.jsx)("img",{src:"/images/hootsuite/svg/twitter.svg",alt:"social media icon",className:"slave"})]}),(0,E.jsx)("span",{className:"font-size-3 mr-3",children:"AMA Corp"}),(0,E.jsx)("i",{className:"fa mr-2 fa-star golden","aria-hidden":"true"})]})]})]})]}),(0,E.jsxs)(Oi.Z,{className:"invisible-borders ml-4 mt-4 width-90",children:[(0,E.jsx)("thead",{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{style:{width:"5%"},children:"Select"}),(0,E.jsx)("th",{style:{width:"20%"},children:"Date and time"}),(0,E.jsx)("th",{style:{width:"45%"},children:"Text"}),(0,E.jsx)("th",{style:{width:"18%"},children:"Media"})]})}),(0,E.jsx)("tbody",{children:this.state.rows.map((function(t){return(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"center-aligned",children:(0,E.jsx)(_e.Z.Check,{type:"checkbox",class:"black-checkbox"})}),(0,E.jsx)("td",{children:(0,E.jsx)("span",{className:"blue",children:"10/01/2021 5:00 PM"})}),(0,E.jsxs)("td",{children:[(0,E.jsx)(_e.Z.Control,{as:"textarea",rows:5,value:e.state.defaultTextAreaValue||""}),(0,E.jsx)("span",{className:"gray right-aligned small fill-width",children:"131 characters"}),(0,E.jsxs)("span",{className:"red right-aligned small fill-width hidden",children:[(0,E.jsx)("i",{className:"fa fa-exclamation-circle red mr-1 pt-1","aria-hidden":"true"}),"Invalid URL, failed to process"]})]}),(0,E.jsxs)("td",{children:[(0,E.jsx)("img",{src:"/images/samplelandscape.jpg",alt:"Sample iamge",className:"fill-width"}),(0,E.jsx)(_e.Z.Check,{type:"checkbox",className:"black-checkbox mt-2",label:"Exclude video"})]})]})}))})]})]}),(0,E.jsxs)("div",{className:["horizontal-flex","start-start",1===this.state.step?"":"hidden",this.state.loading?"hidden":""].join(" "),children:[(0,E.jsxs)("div",{className:"vertical-flex flex-fill pl-3 mt-4",children:[(0,E.jsx)("h3",{className:"font-size-3 bold",children:"Enter the text to be entered in your bulk social content"}),(0,E.jsxs)(_e.Z.Group,{className:"italic-placeholder mt-2 mr-4 width-60",children:[(0,E.jsx)(_e.Z.Label,{children:(0,E.jsx)("span",{className:"bold black font-size-4 ml-1",children:"Prelude"})}),(0,E.jsx)(_e.Z.Control,{as:"textarea",rows:3,placeholder:'Eg: "Hear the marketing guru speak"'})]}),(0,E.jsxs)(_e.Z.Group,{className:"italic-placeholder mt-2 mr-4 width-60",children:[(0,E.jsx)(_e.Z.Label,{children:(0,E.jsx)("span",{className:"bold black font-size-4 ml-1",children:"Hashtags"})}),(0,E.jsx)(_e.Z.Control,{as:"textarea",rows:3,placeholder:"Eg: #digitalmarketing #marketing"})]})]}),(0,E.jsxs)("div",{className:"vertical-flex flex-fill mt-4",children:[(0,E.jsx)("h3",{className:"font-size-3 bold",children:"Select start date and time"}),(0,E.jsxs)("div",{className:"horizontal-flex start-center",children:[(0,E.jsxs)("div",{className:"relative mr-3",children:[(0,E.jsx)(Ui(),{selected:this.state.defaultDate,className:"form-control padding-fix max-width-168 blue",onChange:function(t){return e.setFieldValue("date",t)}}),(0,E.jsx)("i",{className:"fa fa-caret-down floated-arrow","aria-hidden":"true"})]}),(0,E.jsx)("div",{className:"relative mr-2",children:(0,E.jsx)(_e.Z,{children:(0,E.jsx)(_e.Z.Group,{controlId:"exampleForm.SelectCustom",className:"mb-0 min-width-168",children:(0,E.jsx)(_e.Z.Control,{as:"select",custom:!0,className:"blue",children:this.state.timeOptions.map((function(e){return(0,E.jsx)("option",{children:e})}))})})})})]}),(0,E.jsxs)("div",{className:"horizontal-flex start-center mt-56",children:[(0,E.jsx)("h3",{className:"font-size-3 bold min-width-168 mr-3 mb-0 mt-0",children:"Select post frequency"}),(0,E.jsx)(_e.Z,{children:(0,E.jsx)(_e.Z.Group,{controlId:"exampleForm.SelectCustom",className:"mb-0 min-width-168",children:(0,E.jsxs)(_e.Z.Control,{as:"select",custom:!0,className:"blue",children:[(0,E.jsx)("option",{value:"daily",children:"Daily once"}),(0,E.jsx)("option",{value:"weekly",children:"Weekly once"}),(0,E.jsx)("option",{value:"monthly",children:"Monthly once"})]})})})]})]})]})]})}}]),n}(c.PureComponent),Gi=(0,l.$j)((function(e,t){return{}}),(function(e){return{}}))(Mi),Wi=n(43794),zi=Z.Z.openProject,Ji=function(e){(0,a.Z)(o,e);var t,n=(0,i.Z)(o);function o(){return(0,r.Z)(this,o),n.apply(this,arguments)}return(0,s.Z)(o,[{key:"componentDidMount",value:(t=(0,O.Z)((0,N.Z)().mark((function e(){var t=this;return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.match&&this.props.match.params&&this.props.match.params.projectid)){e.next=5;break}return e.next=3,v.g.currentAuthenticatedUser().then((function(e){t.props.openProject(t.props.match.params.projectid,Ce.vY.OpenProject)})).catch((function(e){(0,w.x2)("Please login to proceed",(function(){return t.props.history.push("/")}))}));case 3:e.next=6;break;case 5:(0,w.x2)("The link is not valid",(function(){return t.props.history.push("/")}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t,n){var r=this;this.props.activeProject!==e.activeProject&&(this.props.activeProject?-1!==this.props.activeProject.states.findIndex((function(e){return e.name===Ce.yc.VIDEO_POSTING&&e.responseId}))?this.props.history.push({pathname:b.Z.BaseURL+y.Z.videoPosts,state:{projectDetails:this.props.activeProject}}):(0,w.x2)("The link is expired.",(function(){return r.props.history.push("/")})):this.props.projectOpenError&&(0,w.x2)("Project could not be opened at this moment. Please try again later.",(function(){return r.props.history.push("/")})))}},{key:"render",value:function(){return(0,E.jsxs)("div",{className:"full-height",children:[(0,E.jsx)(he.Z,{history:this.props.history}),(0,E.jsx)(ue.Z,{active:!0,spinner:!0,text:"Please wait..."})]})}}]),o}(c.PureComponent),Hi=(0,l.$j)((function(e){return{projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject,projectAction:e.myVideos.projectAction}}),{openProject:zi})(Ji),Ki=n(50471),qi=n(30690),Yi=n(45917),Qi=n(63346),Xi=(0,l.$j)((function(e){return{appPushNotificationData:e.app.appPushNotificationData}}),(function(e){return{getInitialAppNotification:function(t){return e(Z.Z.getInitialAppNotificationRequest(t))}}}))((function(e){var t=e.children,n=e.appPushNotificationData,r=e.getInitialAppNotification;(0,c.useEffect)((function(){r("AppPushNotificationMsg")}),[]);var s,a=function(e){return e&&(e=(e=e.replace("<startDatetime>",(0,te.FY)(null==n?void 0:n.startDatetime)||"")).replace("<endDatetime>",(0,te.FY)(null==n?void 0:n.endDatetime)||""))||""},i=null==n?void 0:n.appDown,o=null==n?void 0:n.appNotification;return(0,E.jsxs)(E.Fragment,{children:[!i&&(0,E.jsxs)(E.Fragment,{children:[o&&(s=(0,E.jsx)(h.Z,{sx:{p:2},children:(0,Qi.ZP)(a(null==n?void 0:n.msg))}),(0,E.jsx)(h.Z,{className:"absolute app-notification",sx:{zIndex:1001,left:"450px",top:0},children:(0,E.jsx)(W.Z,{title:s,children:(0,E.jsx)(h.Z,{sx:{p:"4px 16px",borderRadius:"0 0 8px 8px",background:"rgba(0,0,0,.1)",cursor:"pointer"},children:(0,E.jsx)(Yi.Z,{color:"error"})})})})),t]}),i&&(0,E.jsx)(qi.y,{msg:a(null==n?void 0:n.msg)})]})})),$i=function(){var e=(0,fn.ZP)(),t=(0,bn.MT)(Ss,(0,bn.qC)((0,bn.md)(e),(0,bn.md)((0,vn.ZP)()),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return e.run(En),t}(),eo=function(e){if(e.location&&e.location.search){var t=Os.parse(e.location.search);return t.code&&t.state?(0,E.jsx)(Ue.HomePage,(0,o.Z)({},e)):(e.history.push("/"+y.Z.login,{query:t}),(0,E.jsx)("div",{}))}return e.history.push("/"+y.Z.login),(0,E.jsx)("div",{})},to=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,E.jsx)(l.zt,{store:$i,children:(0,E.jsx)(u.VK,{children:(0,E.jsx)(js,{children:(0,E.jsx)(Xi,{children:(0,E.jsxs)(d.rs,{children:[(0,E.jsx)(d.AW,{exact:!0,path:"".concat("","/").concat(y.Z.plansListEmbed),component:Wi.Z}),(0,E.jsx)(d.AW,{exact:!0,path:"".concat("","/"),component:ba((0,Ue.CookieHOC)(eo))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.login),component:ba((0,Ue.CookieHOC)(Ue.HomePage))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.signUp),component:ba((0,Ue.CookieHOC)(Ue.UserSignupPage))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.VerifyEmail),component:ba(Ue.EmailVerificationPage,!1)}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.userQuestionnaire),component:ba(Ue.UserQuestionnairePage,!1)}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.resetPassword),component:ba(Ca)}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.affiliate_become),component:ba(ua(P,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.affiliate_Dashboard,"/:id"),component:ba(ua(V,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.stepOne),component:ba(ua(Pr,!1),!0)}),(0,E.jsx)(d.AW,{exact:!0,path:"".concat("","/").concat(y.Z.stepTwo_articleToVideo),component:ba(ua(es,!1))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.stepTwo),component:ba(ua(ni,!1,Ia))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.stepThree),component:ba(ua(ts.ZP,!1))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.brandSettings),component:ba(ua(xs,!1))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.myProjects),component:ba(ua(or,!1),!0)}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.plansList),component:ba(ua(ws.ZP,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.hootsuiteIntegration),component:ba(ua(Gi,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.orderSummary),component:ba(ua(Ks,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.orderSubscribed),component:ba(ua(Xs,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.payment),component:ba(ua($s,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.cards),component:ba(Ue.UserPaymentCardsPage)}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.orderStatus),component:ba(ua(fa,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.userSettings),component:ba(ua(va.Z,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.billingInfo),component:ba(ua(va.Z,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.signupProfile),component:ba(ua(va.Z,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.chooseAspectRatio),component:ba(ua(De,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.progress),component:ba(ua(vi,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.transcriptionRedirect,"/:projectId"),component:ba(ua(ji,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.videoGenerationRedirect,"/:projectId"),component:ba(ua(Ei,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.taskVideoGenerationRedirect),component:ba(ua(Ri,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.videoPostsRedirect),component:ba(ua(Hi,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.hootsuiteAppUrl),component:ua(Ni)}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.videoPosts),component:ba(ua(Bi,!0))}),(0,E.jsx)(d.AW,{path:"".concat("","/").concat(y.Z.branding),component:ba(ua(Ki.default,!1))}),(0,E.jsx)(d.AW,{render:function(e){return(0,E.jsx)(ys,(0,o.Z)({},e))}})]})})})})})}}]),n}(c.Component)},37536:function(e,t,n){"use strict";var r=n(93433),s=n(1413),a=n(37762),i=n(4942),o=n(74165),c=n(15861),l=n(15671),u=n(43144),d=n(97326),p=n(60136),h=n(29388),m=n(24873),g=n(42669),f=n(80699),v=n(18765),x=n(77449),S=n(51443),y=n.n(S),b=(n(17999),n(16031)),j=n.n(b),w=n(70816),Z=n.n(w),k=n(47313),C=n(92641),I=n(73048),T=n(93298),E=n(16390),A=n(76657),_=n.n(A),R=n(1084),P=n(39254),N=n.n(P),O=n(79048),D=n(10770),U=n(87074),L=n(78896),F=n(91104),V=n(47439),B=n(45610),M=n(69473),G=n(42599),W=(n(79155),n(61382),n(82436),n(86836)),z=n(11198),J=n(90794),H=n(76045),K=n(33834),q=n(46417),Y=L.Z.saveVisualsFavAndRecents,Q=L.Z.deleteVisualsFavAndRecents,X=L.Z.getSearchSuggestionsBegin,$=L.Z.similarSearchBegin,ee=function(e){var t=e.title;return(0,q.jsx)("div",{children:(0,E.ZP)(t)})},te=function(e){(0,p.Z)(b,e);var t,n,S=(0,h.Z)(b);function b(e){var t;return(0,l.Z)(this,b),(t=S.call(this,e)).wrapWithTooltip=function(e,t,n){return t?(0,q.jsx)(W.C,{history:n,children:e}):e},t.setSearchCategoryFilter=function(e,n){var r="All";try{if(e&&n){var s=Object.values(n);if(s.length>0){var a=s.find((function(t){return t===e}));a&&(r=a)}}}catch(n){y().getInstance().logEvent("failed-search-category-assignment",{article_category:e,"project-id":t.props.project_id})}t.setState({searchCategoryFilter:r})},t.handleResultSelect=function(e,n){var r=n.result.title.replace("<b>","").replace("</b>","");t.setState({imageCategoryText:r},(0,c.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchCategoryImages(e);case 2:case"end":return n.stop()}}),n)}))))},t.handleSearchValueChange=function(e){t.setState({imageCategoryText:e.target.value})},t.handleSearchChange=function(e,n){var r=n.value;e.preventDefault(),t.setState({imageCategoryText:r,suggestionMenuOpen:r.length>0}),r&&r.length>0&&t.props.getSearchSuggestionsBegin(r)},t.handleChange=function(e){var n=e.target.name,r=e.target.value;t.setState((0,i.Z)({},n,r))},t.loadDefaultImages=function(e){e>1?(t.setState({loadMoreAssets:!1,loadingMore:!0}),(0,F._v)(2e3).then((function(n){t.showDefaultImages(e)}))):(t.setState({loadingMore:!0,initialSearch:!0}),(0,F._v)(1e3).then((function(n){t.showDefaultImages(e)})))},t.showDefaultImages=function(e){var n=t.getDefaultImages(e);t.setState({categoryImages:1===e?n:t.state.categoryImages.concat(n),loadingMore:!1,loadMoreAssets:n.length>0,initialSearch:!1})},t.keywordImageSearch_async=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){var r,s,a,i,c,l,u,d,p,h,m,g,f,v,x=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.length>1&&void 0!==x[1]?x[1]:t.state.searchOnly,0!==t.state.imageCategoryText.length||null!==t.state.selectedSimilarAsset){e.next=5;break}t.loadDefaultImages(n),e.next=46;break;case 5:if(t.setState({loadMoreAssets:!1,loadingMore:!0}),s=t.state.searchKeyword||t.state.imageCategoryText,a=t.state.premiumVideosPage||n,t.state.standardImagesPage,i=t.state.keywordCombinations,1===n&&(t.setState({premiumVideosPage:n,standardImagesPage:n,searchKeyword:t.state.imageCategoryText,keywordCombinations:""}),s=t.state.imageCategoryText,a=n,i=""),c="keywords=".concat(s,"&aspectratio=").concat((0,F.Sk)(t.props.aspectRatio),"&plancode=").concat(t.state.plan_code),"All"!=t.state.searchCategoryFilter&&(c="".concat(c,"&assets_category=").concat(t.state.searchCategoryFilter)),t.props.language&&(c="".concat(c,"&language=").concat(t.props.language)),i&&(c="".concat(c,"&combinations=").concat(encodeURIComponent(i))),l=(0,F.E3)(),e.prev=17,p=G.Z.searchAssets,l&&(p=G.Z.searchAssetsTeams.format(l)),"All"!==r&&"Videos"!==r){e.next=27;break}return c="".concat(c,"&search_type=premium&resource_type=video"),console.log("add videos / all request from visuallibrary.js"+Z()().toISOString()+"_"+c),e.next=25,M.Z.get("".concat(p,"?").concat(c,"&page=").concat(a));case 25:u=e.sent,console.log("add videos / all Success from visuallibrary.js"+Z()().toISOString());case 27:if("Images"!==r){e.next=34;break}return console.log("add imdgaes request from visuallibrary.js"+Z()().toISOString()+"_"+c),c="".concat(c,"&search_type=standard&resource_type=image"),e.next=32,M.Z.get("".concat(p,"?").concat(c,"&page=").concat(a));case 32:d=e.sent,console.log("add imdgaes Success from visuallibrary.js"+Z()().toISOString());case 34:m=[],u&&(h=(parseInt(u.data[0].page)||n)+1,m=t.showSearchResult_new(u,"premium-videos",t.state.imageCategoryText,n)),f=[],d&&(g=(parseInt(d.data[0].page)||n)+1,f=t.showSearchResult_new(d,"standard-images",t.state.imageCategoryText,n)),y().getInstance().logEvent("asset-searched",{"search-term":t.state.imageCategoryText,"search-type":r,"project-id":t.props.project_id}),v=u||d,t.setState({categoryImages:t.state.categoryImages.concat(m).concat(f),premiumVideosPage:h||t.state.premiumVideosPage,standardImagesPage:g||t.state.standardImagesPage,loadingMore:!1,initialSearch:!1,searchKeyword:v.data[0].keywords[0]||keyword,keywordCombinations:v.data[0].combinations||"",loadMoreAssets:m.length>0||f.length>0}),e.next=46;break;case 43:e.prev=43,e.t0=e.catch(17),t.setState({loadMoreAssets:!1,loadingMore:!1});case 46:case"end":return e.stop()}}),e,null,[[17,43]])})));return function(t){return e.apply(this,arguments)}}(),t.handleBrandVisualUpload=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState((0,i.Z)({},"brand-visual-".concat(n.id),"loading")),n.isAddedFromLibrary=!0,e.prev=2,e.next=5,t.props.handleUpload(n,!0);case 5:t.setState((0,i.Z)({},"brand-visual-".concat(n.id),"success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.setState((0,i.Z)({},"brand-visual-".concat(n.id),"error"));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),t.removeBrandVisual=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState((0,i.Z)({},"brand-visual-".concat(n.id),"loading")),e.prev=1,e.next=4,t.props.handleUpload(n,!1);case 4:t.setState((0,i.Z)({},"brand-visual-".concat(n.id),"success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.setState((0,i.Z)({},"brand-visual-".concat(n.id),"error"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),t.closeDisclaimer=function(){t.setState({showUnsplashTooltip:!1})},t.similarSearch=function(e){var n={asset:e};n.params={aspectratio:(0,F.Sk)(t.props.aspectRatio)},n.article=t.props.originalText&&t.props.originalText.replace(/<[^>]*>?/gm," ").replace(/\s+/g," "),t.setState({categoryImages:[],page:1,initialSearch:!0,loadingMore:!0,suggestionMenuOpen:!1,selectedSimilarAsset:e,imageCategoryText:""}),t.props.similarSearchBegin(n)},t.showSearchResult_new=function(e,n,r,i){var o,c=[],l={},u=(0,a.Z)(e.data[0].data);try{for(u.s();!(o=u.n()).done;){var d=o.value;"image"===d.media_type?(c.push((0,s.Z)({url:d.large},d)),l[d.large]=d):"video"===d.media_type&&(c.push((0,s.Z)({url:d.preview},d)),l[d.preview]=d)}}catch(e){u.e(e)}finally{u.f()}t.props.updateAllAssets(l);for(var p=[],h=0;h<c.length;h++){var m=(0,s.Z)({url:c[h].thumb_jpg?c[h].thumb_jpg:c[h].thumb},c[h]),g=m.url;g=(0,F.QD)(g),t.state.favoriteVisualsDict[g]?(m.fav=!0,m.favVisualId=t.state.favoriteVisualsDict[g].id):(m.fav=!1,m.favVisualId=null),p.push(m)}return p},t.showSmiliarSearchResult=function(e){var n=e.data,r=e.keywords;if(t.state.selectedSimilarAsset){var i,o=[],c={},l=(0,a.Z)(n);try{for(l.s();!(i=l.n()).done;){var u=i.value;"image"===u.media_type?(o.push((0,s.Z)({url:u.large},u)),c[u.large]=u):"video"===u.media_type&&(o.push((0,s.Z)({url:u.preview},u)),c[u.preview]=u)}}catch(e){l.e(e)}finally{l.f()}t.props.updateAllAssets(c);for(var d=[],p=0;p<o.length;p++){var h=(0,s.Z)({url:o[p].thumb_jpg?o[p].thumb_jpg:o[p].thumb},o[p]),m=o[p].url;m=(0,F.QD)(m),t.state.favoriteVisualsDict[m]?(h.fav=!0,h.favVisualId=t.state.favoriteVisualsDict[m].id):(h.fav=!1,h.favVisualId=null),d.push(h)}var g=t.state.selectedSimilarAsset;g.keywords=r?r.split(","):[],t.setState({selectedSimilarAsset:g,categoryImages:d,loadingMore:!1,initialSearch:!1,imageCategoryText:r,loadMoreAssets:n.length>0})}},t.getAssetsLoader=function(){return(0,q.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"absolute",left:"46%",zIndex:"2",top:t.hideGettyBanner?"100px":"250px"},children:(0,q.jsx)(N(),{size:35,loading:!0,color:"#ADB4B3"})})},t.changeSearchTypeSelect=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.changeSearchType(n.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.changeSearchType=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.state.imageCategoryText.length>0)){e.next=7;break}return t.setState({categoryImages:[],page:1,initialSearch:!0,loadingMore:!1,searchOnly:n,isCloseDropDown:!0}),e.next=5,t.keywordImageSearch_async(1,n);case 5:e.next=8;break;case 7:t.setState({searchOnly:n,isCloseDropDown:!0});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.openDropDown=function(e){var n=!t.state.isCloseDropDown;t.setState({isCloseDropDown:n})},t.hideClass=function(e){t.setState({isCloseDropDown:!1})},t.changeSearchCategory=function(e){t.setState({searchCategoryFilter:e.target.value},(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.state.imageCategoryText.length>0)){e.next=5;break}return t.setState({categoryImages:[],page:1,initialSearch:!0,loadingMore:!1,isCloseDropDown:!0}),e.next=5,t.keywordImageSearch_async(1,t.state.searchOnly);case 5:case"end":return e.stop()}}),e)}))))},t.creditClick=function(e,t){t.userhtml&&(e.preventDefault&&e.preventDefault(),window.open(t.userhtml,"_blank","noreferrer"))},t.state={imageCategoryText:"",categoryImages:[],brandSetting:t.props.brandSetting,myImages:[],loadMoreAssets:!1,page:1,initialSearch:!1,loadingMore:!1,isCloseDropDown:!1,searchOnly:"All",isImageLoaded:!1,suggestionMenuOpen:!1,selectedSimilarAsset:null,searchCategoryFilter:"All",favoriteVisualsDict:{},showUnsplashTooltip:!1,hideGettyBanner:!1,selectedVisualId:null,isTeamWorkspace:!1},t._onFocus=t._onFocus.bind((0,d.Z)(t)),t._onBlur=t._onBlur.bind((0,d.Z)(t)),t.changeSearchType=t.changeSearchType.bind((0,d.Z)(t)),t}return(0,u.Z)(b,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e,t,n,r,s,a,i=(0,F.we)(this.props.username),o=null==i||null===(e=i.data)||void 0===e||null===(t=e.plan)||void 0===t||null===(n=t.features)||void 0===n||null===(r=n.video)||void 0===r?void 0:r.gettyVisuals;this.setState({plan_code:(null==i||null===(s=i.plan)||void 0===s?void 0:s.plan_code)||"",isTeamWorkspace:!(null==i||null===(a=i.data)||void 0===a||!a.teamId)}),this.getImageLibrary(this.props.favoriteVisuals),this.setState({hideGettyBanner:J.Z.getItem("hideGettyBanner"),isGettyEnabled:o})}},{key:"componentWillReceiveProps",value:function(e){e.similarSearchResult!==this.props.similarSearchResult&&this.showSmiliarSearchResult(e.similarSearchResult),e.favoriteVisuals!==this.props.favoriteVisuals&&this.getImageLibrary(e.favoriteVisuals),e.deleteVisualStatus!=this.props.deleteVisualStatus&&"success"==e.deleteVisualStatus.status&&this.updateDeleteFav(e.deleteVisualStatus)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.refresh;n.id,e.refresh!==r&&this.getImageLibrary(this.props.favoriteVisuals),(t.imageCategoryText.length>0&&0===this.state.imageCategoryText.length&&null===this.state.selectedSimilarAsset||null!==t.selectedSimilarAsset&&null===this.state.selectedSimilarAsset)&&(this.setState({page:1}),this.loadDefaultImages(1))}},{key:"getImageLibrary",value:(n=(0,c.Z)((0,o.Z)().mark((function e(t){var n,r,i,c,l,u,d,p,h,m=this;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.isImageLoaded,this.setState({isImageLoaded:!0}),r={},t&&t.length>0){i=(0,a.Z)(t);try{for(i.s();!(c=i.n()).done;)l=c.value,r[(0,F.QD)(l.url)]=l}catch(e){i.e(e)}finally{i.f()}}for(u=[],d=0;d<(this.props.defaultImages&&this.props.defaultImages.length);d++)this.props.defaultImages[d]!==V.FS&&"object"==typeof this.props.defaultImages[d]&&(p=(0,s.Z)({url:this.props.defaultImages[d].thumb_jpg?this.props.defaultImages[d].thumb_jpg:this.props.defaultImages[d].thumb},this.props.defaultImages[d]),h=(0,F.QD)(p.url),r[h]?(p.fav=!0,p.favVisualId=r[h].id):(p.fav=!1,p.favVisualId=null),(0,F.Kp)(p)&&(p.deprecated=!0),u.push(p));this.setState({myImages:u,favoriteVisualsDict:r},(function(){n||0!==m.state.imageCategoryText.length||null!==m.state.selectedSimilarAsset||m.loadDefaultImages(m.state.page),m.state.imageCategoryText.length>0&&m.getCategoryImageLibrary()}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getCategoryImageLibrary",value:function(){for(var e=[],t=(0,r.Z)(this.state.categoryImages),n=0;n<t.length;n++)if(t[n].url!==V.FS){var a=(0,s.Z)({url:t[n].thumb_jpg?t[n].thumb_jpg:t[n].thumb},t[n]),i=(0,F.QD)(t[n].url);this.state.favoriteVisualsDict[i]?(a.fav=!0,a.favVisualId=this.state.favoriteVisualsDict[i].id):(a.fav=!1,a.favVisualId=null),e.push(a)}this.setState({categoryImages:e})}},{key:"fetchCategoryImages",value:(t=(0,c.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({categoryImages:[],page:1,initialSearch:!0,loadingMore:!1,suggestionMenuOpen:!1}),e.next=5,this.keywordImageSearch_async(1,this.state.searchOnly);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"updateDeleteFav",value:function(e){var t=(0,r.Z)(this.state.categoryImages),n=t&&t.findIndex((function(t){return t.favVisualId===e.visualId}));if(n>-1){var a=(0,s.Z)({},t[n]);a.fav=!1,a.favVisualId=null,t[n]=a,this.setState({categoryImages:t})}}},{key:"AddRemoveFav",value:function(e,t,n){n&&n.stopPropagation();var a=(0,r.Z)(this.state.categoryImages);if(a[t]){var i=(0,s.Z)({},a[t]);if(i.favVisualId)this.props.deleteVisualsFavAndRecents({username:this.props.username,id:i.favVisualId}),i.fav=!1,i.favVisualId=null;else{var o={id:(0,F.DO)(),url:(0,F.QD)(e),category:"favorite",active:!1,cognito_id:this.props.username,date:new Date},c=e;"image"===a[t].media_type?c=a[t].large:"video"===a[t].media_type&&(c=a[t].preview),this.props.allAssets[c]&&(o.imageMetadata=this.props.allAssets[c]);var l={body:o};y().getInstance().logEvent("image-favorited",{"image-url":e,source:"Visual Library","project-id":this.props.project_id}),this.props.saveVisualsFavAndRecents(l),i.fav=!0,i.favVisualId=o.id}a[t]=i,this.setState({categoryImages:a})}}},{key:"updateImage",value:function(e,t,n){if(n.stopPropagation(),this.setState({selectedVisualId:null}),t.deprecated||"getty"===t.library&&(0,H.m)(this.state.plan_code,this.state.isTeamWorkspace,this.props.username)===H.h.prohibited)t.deprecated||this.setState({selectedVisualId:null==t?void 0:t.id});else if(t.url&&""!=t.url&&null!=t.url){0===this.state.imageCategoryText.length?this.state.myImages:this.state.categoryImages;var r,s=t.thumb_jpg?t.preview||t.preview_jpg:t.large?t.large:t.url,a="Scene_-4_-1",i=this.props.imageURL;document.querySelectorAll(".showHideEditScene[style]").forEach((function(e){"block"===e.style.display&&(a=e.id)}));var o=(null===(r=document.querySelector(".drag-and-resize-box.sentences>#editor-box>p>span"))||void 0===r?void 0:r.innerText)||"",c=a.split("_"),l=c[1],u=c[2];if(this.props.isOutroScene(l))return!1;if(this.props.isCustomIntroScene(l))return!1;a=l-1;var d=!1,p=!0;try{var h;if(((null===(h=this.state.imageCategoryText)||void 0===h?void 0:h.length)>0||this.state.selectedSimilarAsset)&&(p=!1),i&&i[a]&&this.state.myImages){var m,g=i[a];(null===(m=this.state.myImages.filter((function(e){return e.large==g||e.preview_jpg==g||e.preview==g||e.url==g})))||void 0===m?void 0:m[0])&&(d=!0)}}catch(e){}y().getInstance().logEvent("image-replaced",{"old-image":i[a],"new-image":s,"scene-text":o,source:"Visual Library","project-id":this.props.project_id,"Auto-search-asset-added":p,"Auto-search-asset-removed":d}),i[a]=s,this.setState({imageURL:i});for(var f=1;null!=document.getElementById("Image_"+l+"_"+f);f++)document.getElementById("Image_"+l+"_"+f).src=s;document.getElementById("figure_"+l+"_"+u).style["background-image"]='url("'+s+'")',this.props.hideShowOverlay(l,s,!0,t,!0)}}},{key:"getDefaultImages",value:function(e){var t=[V.FS,V.Ty,V.pS];return this.state.myImages.filter((function(e,n,r){return!(t.includes(e.url)||e.library&&"transcriptionVideoThumbnails"===e.library)})).slice(20*(e-1),20*e)}},{key:"_onFocus",value:function(e){this.setState({showMessage:!0})}},{key:"_onBlur",value:function(e){0===this.state.imageCategoryText.length&&this.setState({showMessage:!1})}},{key:"render",value:function(){var e=this;return(0,q.jsx)("div",{className:"card block-1 fill-height",children:(0,q.jsxs)("div",{className:["card-body pr-0 vertical-flex",this.state.selectedSimilarAsset&&this.state.selectedSimilarAsset.url?"pt-0":""].join(" "),children:[this.state.selectedSimilarAsset?(0,q.jsx)("div",{id:"tbinner-2 flex-auto similar-image-container mb-2",style:{height:"70px",minHeight:"70px",overflow:"hidden",borderRadius:"8px",boxShadow:"0px 6px 8px 0px lightgrey",marginBottom:"12px",marginRight:"16px"},children:(0,q.jsxs)("div",{className:"container p-0 pr-3 horizontal-flex inherited-height",children:[(0,q.jsx)("div",{className:"image-video-background inherited-height",style:{maxWidth:"180px"},children:this.state.selectedSimilarAsset.thumb_jpg?(0,q.jsx)("img",{alt:"image-search-alt text",className:"",src:this.state.selectedSimilarAsset.thumb_jpg}):(0,q.jsx)("video",{muted:!0,autoPlay:!0,disablePictureInPicture:!0,poster:this.state.selectedSimilarAsset.thumb,src:this.state.selectedSimilarAsset.thumb})}),(0,q.jsxs)("div",{className:"ml-2 mt-1 mb-1 vertical-flex flex-auto",children:[(0,q.jsx)("h4",{className:"blue bold mb-0",style:{fontSize:"16px"},children:"Search for similar visuals"}),this.state.selectedSimilarAsset.keywords&&this.state.selectedSimilarAsset.keywords.length?(0,q.jsx)("h5",{className:"capitalize mt-1",children:this.state.selectedSimilarAsset.keywords.slice(0,2).map((function(e){return'"'+e+'"'})).join(", ")}):null]}),(0,q.jsx)("span",{className:"close-icon floating-right-top darkgray",children:(0,q.jsx)("i",{className:"fa fa-close",title:"Close",onClick:function(){return e.setState({selectedSimilarAsset:null,imageCategoryText:"",initialSearch:!1,loadingMore:!1})}})})]})}):(0,q.jsxs)(m.Z,{children:[!this.state.hideGettyBanner&&!(0,F.b1)(this.props.username)&&(this.props.buyAddonEnabled&&this.state.isGettyEnabled||!this.props.buyAddonEnabled)&&(0,q.jsx)(m.Z,{pr:"20px",children:(0,q.jsx)(m.Z,{class:"rotating-border voice-over-banner",sx:{margin:"0 !important",width:"100% !important"},children:(0,q.jsxs)(m.Z,{sx:{display:"flex",height:"100%"},children:[(0,q.jsx)(z.Z,{onClick:function(){e.setState({hideGettyBanner:!0}),J.Z.setItem("hideGettyBanner",!0)},sx:{position:"absolute",right:"10px",top:"9px",fontSize:"18px",cursor:"pointer"}}),(0,q.jsx)(m.Z,{sx:{width:"30px",margin:"0 4px 0 0"},children:(0,q.jsx)("img",{src:"/images/sparkles 1_getty.svg"})}),(0,q.jsxs)(m.Z,{sx:{paddingRight:"10px"},children:[(0,q.jsx)(g.Z,{color:"primary.main",sx:{fontSize:"16px !important",fontWeight:"600 !important ",margin:"0 !important"},children:"Your library just got 10x larger!"}),(0,q.jsx)(m.Z,{children:(0,q.jsx)(g.Z,{sx:{fontSize:"13px !important",marginTop:"5px !important"},children:"You talked, we listened. We are partnering with Getty to make your content pop with 10M more videos."})})]})]})})}),(0,q.jsxs)("form",{className:"img-search-form pb-0",onSubmit:this.fetchCategoryImages.bind(this),children:[(0,q.jsxs)("div",{className:"imgsearch-panel",children:[(0,q.jsx)("span",{className:"fa fa-search"}),(0,q.jsx)(O.Z,{open:this.state.suggestionMenuOpen,loading:!1,onResultSelect:this.handleResultSelect,onSearchChange:j().debounce(this.handleSearchChange,500,{leading:!0}),showNoResults:!1,results:this.state.imageCategoryText&&this.state.imageCategoryText.length?this.props.suggestions:[],value:this.state.imageCategoryText,resultRenderer:ee,icon:null,input:(0,q.jsx)("input",{className:"form-control",type:"search"}),onChange:this.handleSearchValueChange,onMouseDown:function(){return e.setState({suggestionMenuOpen:e.state.imageCategoryText.length>0})},placeholder:"Search images and videos","aria-label":"Search",style:{width:"100%"},autoComplete:"off",onFocus:function(){e.setState({suggestionMenuOpen:!0}),e._onFocus.bind()},onBlur:function(){e.setState({suggestionMenuOpen:!1}),e._onBlur()},disabled:!this.state.isImageLoaded&&!this.props.fromBranding})]}),(0,q.jsxs)("div",{className:"horizontal-flex",children:[(0,q.jsx)(C.Z.Group,{controlId:"choose.resourceType",className:"mr-4 mb-0",children:(0,q.jsxs)(C.Z.Control,{as:"select",onChange:this.changeSearchTypeSelect,className:"no-bottom-border pl-0",children:[(0,q.jsx)("option",{value:"All",children:"All types"}),(0,q.jsx)("option",{value:"Images",children:"Images"}),(0,q.jsx)("option",{value:"Videos",children:"Videos"})]})}),(0,q.jsx)(C.Z.Group,{controlId:"choose.categories",className:"mb-0",children:(0,q.jsx)(C.Z.Control,{as:"select",onChange:this.changeSearchCategory,className:"no-bottom-border pl-0",children:j().map(this.props.searchCategories,(function(t,n){return(0,q.jsx)("option",{value:t,selected:t===e.state.searchCategoryFilter,children:"All"===n?"All categories":n},n)}))})})]}),(0,q.jsx)("h6",{className:["pby-text",this.state.showMessage?"pby-text-show":""].join(" "),children:(0,q.jsx)("small",{children:"Powered by Storyblocks, Pixabay"})})]})]}),this.state.loadingMore||!this.state.isImageLoaded?this.getAssetsLoader():null,Array.isArray(this.props.sentenceKeywordSuggestions)&&this.props.sentenceKeywordSuggestions.length>0?(0,q.jsx)(I.Z,{className:"button-tags-container mb-2",children:this.props.sentenceKeywordSuggestions.map((function(t){return(0,q.jsx)(T.Z,{size:"sm",variant:"outline-secondary",onClick:function(n){return e.setState({imageCategoryText:t},(0,c.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCategoryImages(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))))},children:t})}))}):(0,q.jsx)("span",{className:"music-result-text",children:"No keywords displayed"}),(0,q.jsx)("div",{id:"visual-div",style:{overflowX:"hidden"},className:"content mCustomScrollbar hover-only-scrollbar pr-3 flex-auto",ref:function(t){return e.scrollParentRef=t},children:!1===this.state.initialSearch?(0,q.jsx)(_(),{pageStart:this.state.page,initialLoad:!1,loadMore:this.keywordImageSearch_async,hasMore:this.state.loadMoreAssets,useWindow:!1,getScrollParent:function(){return e.scrollParentRef},children:(0,q.jsx)("div",{className:"container-box mt-4 p-0 pr-1",children:this.state.categoryImages.length>0?(0,q.jsx)("div",{className:"row",style:{margin:0},children:this.state.categoryImages.map((function(t,n){var r,s,a;return t.url&&""!=t.url&&null!=t.url&&(0,q.jsx)("div",{className:"col-6 p-1",children:(0,q.jsxs)(m.Z,{className:"img-fav hover-for-add-remove-buttons",style:{position:"relative",overflow:"hidden",borderRadius:"8px"},sx:{"& .tooltip":{opacity:"1",zIndex:"4"}},children:["getty"===t.library&&(0,q.jsxs)(q.Fragment,{children:[(0,H.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===H.h.permittedWithCrown||(0,H.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===H.h.prohibited?(0,q.jsx)(f.Z,{placement:"bottom-start",title:(0,H.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)===H.h.permittedWithCrown?(0,q.jsx)(m.Z,{sx:{maxWidth:"150px"},children:"Enjoy this Professional Plan asset during your trial period!"}):"",children:(0,q.jsx)(m.Z,{className:"getty-image",sx:{position:"absolute",top:"0",left:"0",zIndex:"4"},children:(0,q.jsxs)(m.Z,{className:"getty-icon-hover ".concat(e.state.selectedVisualId===(null==t?void 0:t.id)?"getty-icon-expanded":""),children:[(0,q.jsx)(m.Z,{className:"hover-getty-icon",children:(0,q.jsx)("img",{src:"/images/premium-crown.svg",width:"14px"})}),(0,q.jsx)(g.Z,{color:"cardcolors.one",className:"getty-permium-label",sx:{fontSize:"10px !important",color:"#fff !important",margin:"0"},children:"Premium"})]})})}):(0,q.jsx)(m.Z,{sx:{position:"absolute",left:"5px",right:"unset",top:"5px",backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:"9",width:"56px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px"},children:(0,q.jsx)("img",{src:"/images/getty-watermark.svg",id:"getty-icon"})}),e.state.selectedVisualId===t.id&&(0,q.jsx)(v.Z,{onClickAway:function(){e.setState({selectedVisualId:null})},children:(0,q.jsxs)(m.Z,{className:"upgrade-getty",sx:{padding:"0 10px"},children:[(0,q.jsxs)(g.Z,{color:"grey.0",variant:"text_xs",pl:"10px",pr:"10px",children:["Access to Getty visuals is limited to ",(0,q.jsx)("br",{})," Professional and Teams Plan."]}),(0,q.jsx)(T.Z,{variant:"outlined",fontSize:"text_sm",onClick:function(){return e.props.history.push(U.Z.BaseURL+B.Z.plansList)},children:"Upgrade or buy add-on"})]})})]}),(0,q.jsxs)("a",{className:"btn-span outer-link w-100",children:[(0,q.jsxs)("div",{className:"change-img",onClick:e.updateImage.bind(e,n,t),children:[t.deprecated?(0,q.jsx)("span",{className:"vid-alert",title:"This visual is not available anymore. Please choose another one",children:(0,q.jsx)("i",{className:"fa fa-exclamation-triangle"})}):(0,q.jsx)(q.Fragment,{}),t.url&&""!=t.url&&null!=t.url?"video"===(0,F.Q5)(t.thumb)?(0,q.jsxs)("div",{className:"vid-blocksearch d-flex h-100",onMouseOver:function(){e.setState((0,i.Z)({},"show-duration-".concat(n),!0))},onMouseOut:function(){e.setState((0,i.Z)({},"show-duration-".concat(n),!1))},children:[(0,q.jsx)("span",{className:"vid-playbtn",children:(0,q.jsx)("i",{className:"fa fa-play"})}),t.duration&&e.state["show-duration-".concat(n)]&&(0,q.jsx)("span",{className:"vid-duration",children:D.Z.secondsToMinutesRepresentationHuman(t.duration,!0)})||"",!e.state["showVideo-".concat(n)]&&t.thumb_jpg&&(0,q.jsx)("div",{className:"figure-block hide-on-hover",style:{backgroundImage:"url(".concat(t.thumb_jpg,")"),backgroundSize:"nine-sixteen"==e.props.aspectRatio?"auto 100%":"100% auto",backgroundRepeat:"no-repeat",backgroundColor:"black",backgroundPosition:"center",width:"100%"},onMouseEnter:function(){return e.setState((0,i.Z)({},"showVideo-".concat(n),!0))},onMouseLeave:function(){return e.setState((0,i.Z)({},"showVideo-".concat(n),!1))},children:" "})||null,(e.state["showVideo-".concat(n)]||!t.thumb_jpg||e.props.fromBranding)&&(0,q.jsx)("video",{className:"figure-block import-video-branding",autoPlay:!!t.thumb_jpg,loop:!0,muted:!0,disablePictureInPicture:!0,poster:t.thumb_jpg,controlsList:"nodownload nofullscreen",onMouseEnter:function(e){return t.thumb_jpg?"":e.target.play()},onMouseLeave:function(r){return t.thumb_jpg?e.setState((0,i.Z)({},"showVideo-".concat(n),!1)):r.target.pause()},style:{backgroundImage:"url(".concat(t.thumb_jpg,")")},children:(0,q.jsx)("source",{src:t.thumb})})||null]}):t.thumb&&t.thumb.split(" ").length>1?(0,q.jsx)("img",{src:t.thumb,className:"figure-block"}):(0,q.jsx)("div",{style:{backgroundImage:"url(".concat(t.thumb||t.thumb_jpg,")"),backgroundSize:"nine-sixteen"==e.props.aspectRatio?"auto 100%":"100% auto",backgroundRepeat:"no-repeat",backgroundColor:"black",backgroundPosition:"center"},className:"w-100 absolute-fill",children:" "}):(0,q.jsx)(q.Fragment,{})]}),t.user&&(0,q.jsxs)("div",{className:"credit-controls",children:[" ",(0,q.jsx)(x.Z,{href:"javascript:;",underline:"hover",variant:"text_xs",onClick:function(n){return e.creditClick(n,t)},children:t.user})]}),t.url&&""!=t.url&&null!=t.url&&!e.props.fromBranding&&("getty"===t.library&&(0,H.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)!==H.h.prohibited||"getty"!==t.library)&&(0,q.jsxs)("div",{className:"img-controls img-controls2",children:[(0,q.jsx)(m.Z,{sx:{width:"23px",height:"23px",position:"relative",float:"right",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",marginBottom:"3px"},children:(0,q.jsx)("i",{className:"fa fa-clone","aria-hidden":"true",title:"Search similar",onClick:function(){return e.similarSearch(t)},style:{fontSize:"12px !important",color:"#fff",zoom:"0.8"}})}),(0,q.jsxs)(m.Z,{className:"fav-ico",sx:{width:"27px",height:"27px",position:"relative",float:"right",borderRadius:"6px",padding:"11px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:[(0,q.jsx)("input",{type:"checkbox",name:"fav1",title:t.fav?"Remove from favourite":"Add to favourite",id:"chk_"+n,onClick:e.AddRemoveFav.bind(e,t.url,n),checked:t.fav}),(0,q.jsx)("label",{})]})]}),t.url&&""!=t.url&&null!=t.url&&e.props.fromBranding&&("getty"===t.library&&(0,H.m)(e.state.plan_code,e.state.isTeamWorkspace,e.props.username)!==H.h.prohibited||"getty"!==t.library)&&(0,q.jsx)("div",{className:"img-controls add-visual-from-library",children:0===(null===(r=e.props.visualList)||void 0===r?void 0:r.length)||0===(null===(s=e.props.visualList)||void 0===s||null===(a=s.filter((function(e){return e.url===t.url})))||void 0===a?void 0:a.length)?(0,q.jsx)(T.Z,{variant:"contained",id:null==t?void 0:t.id,className:"add-remove-visual add-visual-button",sx:{width:"60px",backgroundColor:"primary.main"},disabled:"loading"===e.state["brand-visual-".concat(t.id)],onClick:function(n){return e.handleBrandVisualUpload(t)},children:(0,q.jsx)(g.Z,{variant:"text_xs",sx:{color:"grey.0"},children:"loading"===e.state["brand-visual-".concat(t.id)]?(0,q.jsx)(K.oe,{isRotating:!0}):"Add"})}):(0,q.jsx)(T.Z,{id:null==t?void 0:t.id,variant:"contained",className:"add-remove-visual remove-visual-button",sx:{width:"63px",backgroundColor:"primary.main"},disabled:"loading"===e.state["brand-visual-".concat(t.id)],onClick:function(n){return e.removeBrandVisual(t)},children:(0,q.jsx)(g.Z,{variant:"text_xs",sx:{color:"grey.0"},children:"loading"===e.state["brand-visual-".concat(t.id)]?(0,q.jsx)(K.oe,{isRotating:!0}):"Remove"})})})]})]})},n)||""}))}):(0,q.jsx)("span",{className:"music-result-text",children:this.props.fromBranding?"Add keywords in the search bar above to get started.":"No matches found. Try searching for other keywords."})})}):null})]})})}}]),b}(k.Component);t.Z=(0,R.$j)((function(e){return{suggestions:e.visualsSearch.suggestions,similarSearchResult:e.visualsSearch.similarSearchResult,deleteVisualStatus:e.favouriteAndRecents.deleteVisualStatus,deleteImageStatus:e.uploadImage.deleteImageStatus}}),{saveVisualsFavAndRecents:Y,deleteVisualsFavAndRecents:Q,getSearchSuggestionsBegin:X,similarSearchBegin:$})(te)},57308:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r=n(4942),s=n(37762),a=n(93433),i=n(1413),o=n(15671),c=n(43144),l=n(60136),u=n(29388),d=n(47313),p=n(1084),h=n(11018),m=n.n(h),g=n(56620),f=n(90794),v=n(47439),x=n(87074),S=n(45610),y=n(11198),b=n(74165),j=n(15861),w=n(97326),Z=n(51443),k=n.n(Z),C=(n(17999),n(78896)),I=n(91104),T=(n(79155),n(61382),n(62463)),E=n(18104),A=n(42669),_=n(80699),R=n(24873),P=n(605),N=n(34207),O=(n(14108),n(48755)),D=n(46417),U=C.Z.saveBrandSettings,L=C.Z.saveAudioFavAndRecents,F=C.Z.deleteAudioFavAndRecents,V=C.Z.deleteVoiceOverTrackRequest,B=function(e){(0,l.Z)(i,e);var t,n,r,s=(0,u.Z)(i);function i(e){var t;return(0,o.Z)(this,i),(t=s.call(this,e)).playVoiceOver=function(e,n,r,s,a){a?t.setState({voiceOverPlayId:n}):t.setState({voiceOverPlayId:null});var i=(0,w.Z)(t);if(s.stopPropagation(),null==t.state.voiceOverPlayId)document.getElementById("myMusicTrackPlay").src=e,document.getElementById("myMusicTrackPlay").currentTime=0,document.getElementById("myMusicTrackPlay").play(),document.getElementById("myMusicTrackPlay").addEventListener("ended",(function(e){i.setState({voiceOverPlayId:null})}),!1);else{document.getElementById("myMusicTrackPlay").pause(),document.getElementById("myAudioPlay").pause(),document.getElementById("myPreviewAudioPlayForEdit").pause(),document.getElementById("myPreviewVoiceOverPlayForEdit").pause();var o=document.getElementsByClassName("voicePlayStop"),c=o.length;c=(o=document.getElementsByClassName("playStop")).length;for(var l=0;l<c;l++)o[l].className="playStop fa fa-play";for(c=(o=document.getElementsByClassName("recentPlayStop")).length,l=0;l<c;l++)o[l].className="recentPlayStop fa fa-play";for(c=(o=document.getElementsByClassName("pausePreviewButton")).length,l=0;l<c;l++)o[l].className="pausePreviewButton icon-play-right";c=(o=document.getElementsByClassName("voiceOverMusicTrack")).length,n&&t.state.voiceOverPlayId!==n&&(document.getElementById("myMusicTrackPlay").src=e,document.getElementById("myMusicTrackPlay").currentTime=0,document.getElementById("myMusicTrackPlay").play(),document.getElementById("myMusicTrackPlay").addEventListener("ended",(function(e){i.setState({voiceOverPlayId:null})}),!1)),k().getInstance().logEvent("voice-sample-played",{name:r,country:t.props.category,"project-id":t.props.project_id})}},t.cancelVOApplying=function(){var e=(0,j.Z)((0,b.Z)().mark((function e(n){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),t.props.cancelingAudioStatus(!0),e.next=4,t.props.deleteVoiceOverTrackRequest(t.state.applyingTrackResponseID);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.goToPlanList=function(){try{k().getInstance().logEvent("upgrade-button-clicked",{"button-clicked-from":"Voice over tab"})}catch(e){k().getInstance().logEvent("log-failed",{"event-name":"upgrade-button-clicked"})}t.props.history.push(x.Z.BaseURL+S.Z.plansList)},t.addTrackToBrand=function(e){var n=(0,a.Z)(t.props.brandingAIVoiceoverList||[]),r=0==n.length||void 0,s={trackId:e.trackId,service:e.service,url:e.trackUrl,name:e.name,gender:e.gender,type:e.type,category:e.category,isDefault:r};n.push(s),t.props.onUpdateBrandingAIVoiceoverList(n)},t.removeTrackFromBrand=function(e){var n=(0,a.Z)(t.props.brandingAIVoiceoverList||[]),r=n.findIndex((function(t){return t.trackId==e.trackId}));r>-1&&(n.splice(r,1),t.props.onUpdateBrandingAIVoiceoverList(n))},t.state={trackList:[],voiceOverTracks:t.props.voiceOverTracks,brandSetting:t.props.brandSetting,favouriteTracks:[],recentTracks:[],project_id:t.props.project_id,applyingVOTrackID:null,applyingTrackResponseID:null},t}return(0,c.Z)(i,[{key:"componentWillReceiveProps",value:function(e){var t,n=this.props,r=(n.refresh,n.id,n.favouriteTracks,n.recentTracks);if(e.voiceOverTracks!==this.props.voiceOverTracks&&this.setState({voiceOverTracks:e.voiceOverTracks}),null!==(t=e.favouriteTracks)&&void 0!==t&&t.length&&this.setState({favouriteTracks:e.favouriteTracks}),e.recentTracks.length!==r.length){var s=e.recentTracks.sort((function(e,t){return new Date(t.date)-new Date(e.date)}));this.setState({recentTracks:s})}}},{key:"componentDidUpdate",value:function(e,t){this.props.voiceOverDataResponseID!==e.voiceOverDataResponseID&&this.setState({applyingTrackResponseID:this.props.voiceOverDataResponseID})}},{key:"AddRemoveVoiceOverTrackToFavourite",value:(r=(0,j.Z)((0,b.Z)().mark((function e(t,n,r,s,a,i,o){var c,l,u,d=this;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.stopPropagation(),!((l=this.props.favouriteTracks).findIndex((function(e){return e.trackId===t}))<0)){e.next=15;break}return c={id:(0,I.DO)(),trackId:t,name:n+", "+r,type:"voiceover",url:s,library:a,category:"favorite",cognito_id:this.props.username,date:new Date},l.splice(0,0,c),document.getElementById("AddVoiceOverToFavourite"+t).title="Remove from favourite",u={body:c},this.setState({favouriteTracks:l}),e.next=11,this.props.saveAudioFavAndRecents(u);case 11:"success"===this.props.saveAudioStatus&&(this.props.UpdateRecent(),this.props.UpdateFavourite(),this.props.UpdateVoiceOver(),k().getInstance().logEvent("voice-favorited",{name:n+", "+r,country:this.props.category,"project-id":this.props.project_id})),e.next=18;break;case 15:l.splice(l.findIndex((function(e){return e.trackId===t})),1),document.getElementById("AddVoiceOverToFavourite"+t).title="Add to favourite",this.setState({favouriteTracks:l},(0,j.Z)((0,b.Z)().mark((function e(){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.props.deleteAudioFavAndRecents({username:d.props.username,id:i});case 2:"success"===d.props.deleteAudioStatus&&(d.props.UpdateRecent(),d.props.UpdateVoiceOver(),d.props.UpdateFavourite());case 4:case"end":return e.stop()}}),e)}))));case 18:case"end":return e.stop()}}),e,this)}))),function(e,t,n,s,a,i,o){return r.apply(this,arguments)})},{key:"startApplyVoiceOver",value:(n=(0,j.Z)((0,b.Z)().mark((function e(t,n,r,s,a,i,o,c,l){var u;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&l.stopPropagation(),!(this.props.textToSpeechDurationValue<=0&&"Eleven Labs"===o)){e.next=4;break}return this.props.openVoiceoverChangePopup(),e.abrupt("return");case 4:if(!this.props.applyingVO){e.next=6;break}return e.abrupt("return");case 6:return this.setState({applyingTrackResponseID:null}),e.next=9,this.props.startApplyVoiceOver({trackId:n,trackUrl:r,trackType:s,trackName:a,gender:i,Category:o});case 9:u=e.sent,this.setState({applyingTrackResponseID:null}),null!=u&&u.success&&this.makeActiveVoiceTrack(n,r,s,a,i,o,c,l);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,r,s,a,i,o,c,l){return n.apply(this,arguments)})},{key:"makeActiveVoiceTrack",value:(t=(0,j.Z)((0,b.Z)().mark((function e(t,n,r,s,i,o,c,l){var u,d,p,h,m,g;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&l.stopPropagation(),t==f.Z.getItem("voiceOverTrackId")){e.next=31;break}for(f.Z.setItem("voiceOverTrackType",r),f.Z.setItem("voiceOverTrackActive",n),f.Z.setItem("voiceOverTrackId",t),f.Z.setItem("voiceOverTrackName",s+", "+i),f.Z.setItem("voiceOverTrackCategory",o),this.props.reloadScene(),u=(0,a.Z)(this.props.recentTracks),d=0;d<u.length;d++)u[d].type===r&&(u[d].active=!1,u[d].type);if(p={},h=u.findIndex((function(e){return e.trackId===t&&e.type===r})),!(h<0)){e.next=17;break}p={id:(0,I.DO)(),trackId:t,name:s+", "+i,type:"voiceover",url:n,category:"recent",library:o,cognito_id:this.props.username,date:new Date},u.splice(0,0,p),e.next=25;break;case 17:return m=u[h].id,e.next=20,this.props.deleteAudioFavAndRecents({username:this.props.username,id:m});case 20:if("success"===this.props.deleteAudioStatus){e.next=22;break}return e.abrupt("return");case 22:u.splice(h,1),p={id:(0,I.DO)(),date:new Date,trackId:t,name:s+", "+i,type:"voiceover",url:n,library:o,category:"recent",cognito_id:this.props.username},u.splice(0,0,p);case 25:return this.setState({recentTracks:u}),g={body:p},e.next=29,this.props.saveAudioFavAndRecents(g);case 29:"success"===this.props.saveAudioStatus&&(this.props.UpdateIsActiveVoiceOver(t,!0),this.props.UpdateRecent(),this.props.UpdateFavourite(),this.props.UpdateVoiceOver(),this.props.getVoiceOverQuota(!0),this.props.logEventVoiceSelected(s,this.props.category,o,c));case 31:case"end":return e.stop()}}),e,this)}))),function(e,n,r,s,a,i,o,c){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("ol",{className:"list-inline tracklink-list",children:this.state.voiceOverTracks.map((function(t,n){if(t.category==e.props.category.tag&&!I.Tf.includes(null==t?void 0:t.trackId)){t.trackId;var r,s,a,i,o,c,l,u,d,p,h,m="voiceOverTrack"+t.trackId,g="btn-span trk-link",v="voiceTrack"+t.trackId,x="AddVoiceOverToFavourite"+t.trackId,S=!1,b="Add to favourite",j=f.Z.getItem("voiceOverTrackId");j&&j==t.trackId&&(g="btn-span trk-link active");var w=e.state.favouriteTracks.findIndex((function(e){return e.trackId===t.trackId}));w>=0&&(S=!0,b="Remove from favourite");var Z=e.props.textToSpeechDurationValue<=0&&"Eleven Labs"===t.category,k=null===(r=e.props.brandingAIVoiceoverList)||void 0===r?void 0:r.find((function(e){return e.trackId==t.trackId}));return(0,D.jsx)("li",{style:{marginBottom:"5px"},children:(0,D.jsxs)("a",{className:[g,"on-hover-event"].join(" "),id:v,style:{paddingLeft:"8px",paddingRight:"16px"},children:[(0,D.jsxs)(T.Z,{direction:"row",sx:{alignItems:"center"},children:[(0,D.jsxs)("span",{className:"play-outer",children:[e.state.voiceOverPlayId!==t.trackId&&(0,D.jsx)(E.Z,{sx:{padding:"0",mr:"6px"},disableRipple:!0,onClick:function(n){return e.playVoiceOver(t.trackUrl,t.trackId,t.name,n,!0)},children:(0,D.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,D.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20V20C35 28.285 28.285 35 20 35V35C11.715 35 5 28.285 5 20V20C5 11.715 11.715 5 20 5V5C28.285 5 35 11.715 35 20Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,D.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.2353 15.097L24.7053 18.9237C25.5236 19.407 25.5236 20.592 24.7053 21.0754L18.2353 24.902C17.402 25.3954 16.3486 24.7937 16.3486 23.8254V16.1737C16.3486 15.2054 17.402 14.6037 18.2353 15.097Z",fill:"#424242"})]})}),e.state.voiceOverPlayId==t.trackId&&(0,D.jsx)(E.Z,{disableRipple:!0,sx:{padding:"0",mr:"6px","&:hover":{backgroundColor:"transparent"}},onClick:function(n){return e.playVoiceOver(t.trackUrl,t.trackId,t.name,n,!1)},children:(0,D.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,D.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35 20C35 28.285 28.285 35 20 35C11.715 35 5 28.285 5 20C5 11.715 11.715 5 20 5C28.285 5 35 11.715 35 20Z",fill:"#424242",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,D.jsx)("rect",{x:"15",y:"15",width:"10",height:"10",rx:"2",fill:"white"})]})})]}),(0,D.jsxs)(T.Z,{component:"span",sx:{marginTop:"5px",marginLeft:"-8px"},children:[(0,D.jsxs)(A.Z,{className:"track-hd",variant:"text_sm",color:"grey.9999",sx:{display:"flex"},children:[t.name,", ",t.gender,k&&!e.props.fromBranding&&(0,D.jsx)(_.Z,{title:"Part of your applied brand",placement:"top",arrow:!0,children:(0,D.jsx)(O.Z,{sx:{color:"primary.main",marginLeft:"15px",fontSize:"18px"}})})]}),(0,D.jsxs)(A.Z,{className:"track-hd",variant:"text_xs",color:"#757575 !important",children:[t.description?(C=t.description,U="",C.trim().split("").forEach((function(e,t){U+=0===t?e.toUpperCase():e})),U):"",t.usecase?", "+t.usecase:""]})]})]}),(0,D.jsx)(R.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"row-reverse"},children:(0,D.jsxs)(D.Fragment,{children:[!e.props.fromBranding&&(!e.props.restrictUsers||"Eleven Labs"!==(null==t?void 0:t.category))&&(0,D.jsxs)("span",{className:"fav-bx",style:{marginTop:"2px"},children:[(0,D.jsx)("input",{type:"checkbox",id:x,checked:S,title:b,onClick:e.AddRemoveVoiceOverTrackToFavourite.bind(e,t.trackId,t.name,t.gender,t.trackUrl,t.category,e.state.favouriteTracks[w]?e.state.favouriteTracks[w].id:"")}),(0,D.jsxs)(R.Z,{className:"favorite-icon",children:[(0,D.jsx)("svg",{className:"favorite-removed",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,D.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",stroke:"#424242","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,D.jsx)("svg",{className:"favorite-added",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,D.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.67647C8.65979 2.92205 9.64105 2.49011 10.6722 2.50017C12.9617 2.50017 14.5 4.54889 14.5 6.45667C14.5 10.4448 9.28411 13.5 8 13.5C6.71589 13.5 1.5 10.4448 1.5 6.45667C1.5 4.54889 3.03833 2.50017 5.32778 2.50017C6.35895 2.49011 7.34021 2.92205 8 3.67647Z",fill:"#424242"})})]})]}),(0,D.jsxs)(R.Z,{className:"apply-box voice-over-apply d-flex",sx:{alignItems:"center"},children:[e.props.fromBranding&&(0,D.jsx)(R.Z,{children:e.props.restrictUsers&&"Eleven Labs"===(null==t?void 0:t.category)?(0,D.jsx)(R.Z,{children:(0,D.jsx)(P.Z,{variant:"contained",color:"primary",className:"show-on-hover rounded-border-elliptical",onClick:function(t){t.stopPropagation(),e.goToPlanList()},children:e.props.isAppSumouser?"Buy Add-on":"Upgrade"})}):(0,D.jsxs)(R.Z,{children:[!k&&(0,D.jsx)(P.Z,{variant:"contained",color:"primary",className:"show-on-hover rounded-border-elliptical",onClick:function(n){n.stopPropagation(),e.addTrackToBrand(t)},children:"Add"}),k&&(0,D.jsx)(P.Z,{variant:"contained",color:"error",className:"rounded-border-elliptical",onClick:function(n){n.stopPropagation(),e.removeTrackFromBrand(t)},children:"Remove"})]})}),!e.props.fromBranding&&(0,D.jsxs)(D.Fragment,{children:[(!(null!==(s=e.props)&&void 0!==s&&s.applyingVO)||(null===(a=e.props)||void 0===a?void 0:a.applyingVO)===(null==t?void 0:t.trackId))&&(0,D.jsx)("span",{style:{fontSize:"13px",backgroundColor:"#852CFF",border:"0 !important"},className:"apply ml-3 ".concat(null!==(i=e.props)&&void 0!==i&&i.applyingVO?(null===(o=e.props)||void 0===o?void 0:o.applyingVO)!==(null==t?void 0:t.trackId)?"disable":"d-flex":"show-on-hover"),onClick:Z?e.goToPlanList:e.startApplyVoiceOver.bind(e,!0,t.trackId,t.trackUrl,t.type,t.name,t.gender,t.category,t.language),children:(null===(c=e.props)||void 0===c?void 0:c.applyingVO)===(null==t?void 0:t.trackId)?(0,D.jsx)(R.Z,{sx:{display:"flex",minWidth:"50px",alignItems:"center",justifyContent:"center"},children:e.props.cancelingVO?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(A.Z,{component:"span",sx:{mr:"5px",display:"inline-block"},children:"Canceling"}),(0,D.jsx)(N.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important"}})]}):e.state.applyingTrackResponseID&&"Eleven Labs"===t.category?(0,D.jsxs)(A.Z,{variant:"text_sm",component:"div",color:"grey.0",children:[e.props.voiceoverprogressStatus,"%"]}):(0,D.jsx)(N.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})}):Z?e.props.isAppSumouser?"Buy Add-on":"Upgrade":"Apply"}),(null===(l=e.props.durationUpdated)||void 0===l||null===(u=l.sceneIds)||void 0===u?void 0:u.length)>0||null!==(d=e.props.durationUpdated)&&void 0!==d&&d.isSceneDeleted?(0,D.jsx)(R.Z,{className:["applied hide-on-hover","".concat(e.props.durationUpdated.loading?"disable":"")].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 5px 0 0 !important",ml:"1rem",cursor:"pointer"},children:(0,D.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 6px 0 0 !important",height:"33px",overflow:"hidden",background:"#852CFF !important",minWidth:"100px"},children:[(null===(p=e.props)||void 0===p?void 0:p.applyingVO)===(null==t?void 0:t.trackId)?(0,D.jsx)(R.Z,{sx:{display:"flex",minWidth:"50px",alignItems:"center",justifyContent:"center"},children:e.props.cancelingVO?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(A.Z,{component:"span",sx:{mr:"5px",display:"inline-block",color:"grey.0 !important"},children:"Canceling"}),(0,D.jsx)(N.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})]}):e.state.applyingTrackResponseID?(0,D.jsxs)(A.Z,{variant:"text_sm",component:"div",sx:{position:"absolute",color:"grey.0"},color:"text.secondary",children:[e.props.voiceoverprogressStatus,"%"]}):(0,D.jsx)(N.Z,{className:"cancel-apply-progress",size:15,thickness:6,sx:{color:"#fff  !important",m:"0 !important"}})}):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(A.Z,{onClick:e.startApplyVoiceOver.bind(e,!0,t.trackId,t.trackUrl,t.type,t.name,t.gender,t.category,t.language),sx:{m:"1px 5px 0 3px !important",fontSize:"13px !important",color:"grey.0",height:"100%",display:"flex",alignItems:"center",padding:"1px 10px 0 20px",margin:"0 0px 0 -4px !important","&:hover":{background:"#6C00FF !important"}},children:"Apply Changes"})}),(null===(h=e.props)||void 0===h?void 0:h.applyingVO)!==(null==t?void 0:t.trackId)&&(0,D.jsx)(E.Z,{sx:{height:"100%",borderRadius:"0",background:"#852CFF",padding:"10px 10px 10px 4px",margin:"0px -7px 0 0px !important","&:hover":{background:"#6C00FF !important"}},onClick:function(t){var n,r;null==t||t.stopPropagation(),null===(n=(r=e.props).removeVoiceOverTrackFromStorage)||void 0===n||n.call(r)},children:(0,D.jsx)(y.Z,{sx:{fontSize:"20px",marginLeft:"5px",color:"grey.0"}})})]})}):(0,D.jsx)(R.Z,{className:["applied hide-on-hover"].join(" "),sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 5px 0 0 !important",ml:"1rem"},children:(0,D.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",borderRadius:"25px",padding:"0 2px 0 10px !important",height:"33px",overflow:"hidden",background:"#fff !important",border:"1px solid #852CFF",minWidth:"95px","&:hover":{}},children:[(0,D.jsx)(A.Z,{sx:{m:"0px 5px 0 3px !important",fontSize:"13px !important",color:"#852CFF"},children:"Applied"}),(0,D.jsx)(E.Z,{id:m,onClick:function(t){var n,r;null==t||t.stopPropagation(),null===(n=(r=e.props).removeVoiceOverTrackFromStorage)||void 0===n||n.call(r)},sx:{padding:"0 7px 0 3px",height:"100%",borderRadius:"0",margin:"0 -3px 0 0px","&:hover":{background:"#F0E9FC"}},children:(0,D.jsx)(y.Z,{sx:{fontSize:"20px",marginLeft:"5px",color:"#852CFF"}})})]})})]})]})]})})]})},n)}var C,U}))})})}}]),i}(d.Component),M=(0,p.$j)((function(e){return{saveSettingsStatus:e.brandSettings.saveSettingsStatus,saveAudioStatus:e.favouriteAndRecents.saveAudioStatus,deleteAudioStatus:e.favouriteAndRecents.deleteAudioStatus,isGeneratingVO:e.createVideoStepThree.isGeneratingVO,voiceOverDataResponseID:e.createVideoStepThree.voiceOverDataResponseID,voiceOverDeleteResult:e.createVideoStepThree.voiceOverDeleteResult}}),{saveBrandSettings:U,saveAudioFavAndRecents:L,deleteAudioFavAndRecents:F,deleteVoiceOverTrackRequest:V})(B),G=n(77449),W=(n(91466),n(49664)),z=n(84084),J=n(5261),H=n(71581),K=n(66823),q=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,c,l;return(0,o.Z)(this,n),(l=t.call(this,e)).detectLanguage=function(){var e;return l.isTranscriptionLanguageVOSupported()?null===(e=l.props.transcriptionLanguage)||void 0===e?void 0:e.split("-")[0]:l.props.filterLanguage||l.props.detectedLanguage||"en"},l.sortTracks=function(e){var t=l.props.brandingAIVoiceoverList;e.sort((function(e,n){if(null!=t&&t.find((function(t){return t.trackId==e.trackId}))&&(null==t||!t.find((function(e){return e.trackId==n.trackId}))))return-1;if(null!=t&&t.find((function(e){return e.trackId==n.trackId}))&&(null==t||!t.find((function(t){return t.trackId==e.trackId}))))return 1;var r=e.name.toUpperCase(),s=n.name.toUpperCase();return r<s?-1:r>s?1:0}))},l.filterVoicesByLanguage=function(e,t){return null==e?void 0:e.filter((function(e){return e.language.startsWith(t)||"Eleven Labs"===e.tag}))},l.documentClickListener=function(e){e.target.closest("#speed-container-span")||l.state.speedContainer&&l.setState({speedContainer:!1})},l.expandVoiceOverList=function(){l.setState({isVoiceListCollapsed:!l.state.isVoiceListCollapsed})},l.onLanguageSelect=function(e){var t=e.value,n=e.code,r=n||"en",s=l.detectLanguage(),a=l.filterAccentsByLanguage(n||s||"en"),i=l.generateCategoryOptions(a);l.setCategoryInSearchParams(a,r),l.state.language!==r&&(r!==s&&v.Yd.includes(s)&&l.setState({showAlertNotification:"Changing AI-detected language may impact the accuracy of voiceover narration.",alertSeverity:"error"}),l.updateSelectFilter("category",i,l.state.searchParams.category,(function(){l.filterVoiceOverTracks(l.state.searchParams,r)})),l.setState({language:r,languageValue:t,voiceOverCategoriesOptions:i}))},l.setFilterReference=function(e,t){e&&e.selectBox&&(l.filterElements[t]=e)},l.handleChange=function(e){var t=(0,i.Z)({},l.state.searchParams);t[e.target.name]=e.target.value,l.filterVoiceOverTracks(t),l.setState({searchParams:t},(function(){return l.saveToLocalStorage(t)}))},l.addSelectedFilterOptions=function(e,t){if(t&&t.value){var n=(0,i.Z)({},l.state.searchParams),r=(0,a.Z)(n[e]);r.push(t.value),n[e]=r,l.filterVoiceOverTracks(n),l.setState({searchParams:n},(function(){return l.saveToLocalStorage(n)}))}},l.removeSelectedFilterOptions=function(e,t){if(t&&t.value){var n=(0,i.Z)({},l.state.searchParams),r=n[e].filter((function(e){return e!==t.value}));n[e]=r,l.filterVoiceOverTracks(n),l.setState({searchParams:n},(function(){return l.saveToLocalStorage(n)}))}},l.clearCategoryFilter=function(){var e=(0,i.Z)({},l.state.searchParams);e.category=[],l.setState({searchParams:e},(function(){l.updateSelectFilter("category",l.state.voiceOverCategoriesOptions,l.state.searchParams.category,(function(){l.filterVoiceOverTracks(l.state.searchParams)})),l.updateSelectFilter("age",l.state.voiceOverAgeOptions,l.state.searchParams.age,(function(){l.filterVoiceOverTracks(l.state.searchParams)})),l.updateSelectFilter("usecase",l.state.voiceOverUsecaseOptions,l.state.searchParams.usecase,(function(){l.filterVoiceOverTracks(l.state.searchParams)})),l.saveToLocalStorage(e)}))},l.saveToLocalStorage=function(e){e.query="",f.Z.setItem("voiceOverSearchParams",JSON.stringify(e))},l.filterVoiceOverTracks=function(e,t){var n=e.query,r=e.category,i=e.gender,o=e.age,c=e.usecase,u=t||l.state.language||l.props.filterLanguage||"en",d=[],p=(0,a.Z)(l.props.voiceOverTracks);l.sortTracks(p);var h,m=l.filterVoicesByLanguage(p,u),g=(0,s.Z)(m);try{var f=function(){var e,t,s=h.value,a=!1;if(n){for(var l in s)if(["name","gender","category","age","usecase"].includes(l)&&s[l].toLowerCase().indexOf(n.toLowerCase())>-1){a=!0;break}}else a=!0;a&&r.length>0&&(a=r.findIndex((function(e){return e.toLowerCase()===s.languageLabel.toLowerCase()||"en"!==u&&"Eleven Labs"===s.tag}))>-1),a&&i.length>0&&(a=i.findIndex((function(e){return e.toLowerCase()===s.gender.toLowerCase()}))>-1),a&&o.length>0&&(a=!(null===(e=s.age)||void 0===e||!e.length)&&o.findIndex((function(e){return e.toLowerCase()===s.age.toLowerCase()}))>-1),a&&c.length>0&&(a=!(null===(t=s.usecase)||void 0===t||!t.length)&&c.findIndex((function(e){return e.toLowerCase()===s.usecase.toLowerCase()}))>-1),a&&d.push(s)};for(g.s();!(h=g.n()).done;)f()}catch(e){g.e(e)}finally{g.f()}l.showVoiceOverTracks(d)},l.updateSelectFilter=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};l.filterElements[e].updateState({type:"INITIALISE",value:{options:t,selectedValues:n,name:"".concat(e,"-dropdown"),multiselect:!0,disabled:!1}},(function(t){l.addClearAndApplyOptionInFilter(e),r()}))},l.addClearAndApplyOptionInFilter=function(e){var t=l.filterElements[e];if(t){var n=null,r=null;switch(e){case"category":n="#rrs-category-dropdown-menu",r=l.clearCategoryFilter;break;case"gender":n="#rrs-gender-dropdown-menu",r=l.clearGenderFilter}if(n){var s=t.selectBox.querySelector('[class="rrs__option clear-filter"]'),a=t.selectBox.querySelector(n);!s&&a&&((s=document.createElement("span")).setAttribute("class","rrs__option clear-filter"),s.innerText="Clear",s.style.width="95%",s.style.borderTop="1px solid #F3F3F3",s.style.marginTop="20px",s.addEventListener("click",r),a.appendChild(s))}}},l.applySearchFilter=function(e,t){},l.searchVoiceOverTracks=function(e){e&&e.preventDefault&&e.preventDefault()},l.isTranscriptionLanguageVOSupported=function(){if(l.props.transcriptionLanguage){var e=v.Kb.filter((function(e){var t;return e.code===(null===(t=l.props.transcriptionLanguage)||void 0===t?void 0:t.split("-")[0])}))[0];if(e&&v.Yd.includes(e.code))return!0}return!1},l.redirectToPlanning=function(){l.props.history.push({pathname:x.Z.BaseURL+S.Z.plansList,openElevenLabsPopup:!0})},l.state={voiceOverCategories:[],voiceOverCategoriesOptions:[],voiceOverAgeOptions:[],voiceOverUsecaseOptions:[],searchParams:{query:"",category:[],age:[],gender:[],usecase:[]},languageValue:l.props.filterLanguage||l.props.detectedLanguage||l.props.transcriptionLanguage?null===(r=l.props.transcriptionLanguage)||void 0===r?void 0:r.split("-")[0]:"en-US",language:l.props.transcriptionLanguage?null===(c=l.props.transcriptionLanguage)||void 0===c?void 0:c.split("-")[0]:l.props.filterLanguage||l.props.detectedLanguage,hideElevenLabsBanner:!0,hideElevenLabsBannerstd:!0,isVoiceListCollapsed:!0},l.filterElements={},l}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=(0,a.Z)(this.props.voiceOverTracks);this.sortTracks(t);var n=t.map((function(e){return e.languageLabel})),r=this.props.hideElevenLabs?[]:[{title:"Premium voices",subTitle:"by ElevenLabs",tag:"Eleven Labs",catId:"PremVoices"}],s=[].concat(r,[{title:"Standard Voices",subTitle:"",tag:"AI voices",catId:"StdVoices"}]),i=(0,a.Z)(new Set(s)),o=(0,a.Z)(new Set(n)),c=this.filterAccentsByLanguage(this.detectLanguage()),l=this.generateCategoryOptions(c),u=this.props.hideElevenLabs?[]:[{value:"any",text:""},{value:"young",text:"Young",markup:(0,D.jsx)(g.JA,{text:"Young"})},{value:"middle aged",text:"Middle aged",markup:(0,D.jsx)(g.JA,{text:"Middle aged"})},{value:"old",text:"Old",markup:(0,D.jsx)(g.JA,{text:"Old"})}],d=this.props.hideElevenLabs?[]:[{value:"any",text:""},{value:"audiobook",text:"Audiobook",markup:(0,D.jsx)(g.JA,{text:"Audiobook"})},{value:"ASMR",text:"ASMR",markup:(0,D.jsx)(g.JA,{text:"ASMR"})},{value:"children's stories",text:"Children's stories",markup:(0,D.jsx)(g.JA,{text:"Children's stories"})},{value:"conversational",text:"Conversational",markup:(0,D.jsx)(g.JA,{text:"Conversational"})},{value:"interactive",text:"Interactive",markup:(0,D.jsx)(g.JA,{text:"Interactive"})},{value:"meditation",text:"Meditation",markup:(0,D.jsx)(g.JA,{text:"Meditation"})},{value:"narration",text:"Narration",markup:(0,D.jsx)(g.JA,{text:"Narration"})},{value:"news",text:"News",markup:(0,D.jsx)(g.JA,{text:"News"})},{value:"news presenter",text:"News presenter",markup:(0,D.jsx)(g.JA,{text:"News presenter"})},{value:"raspy",text:"Raspy",markup:(0,D.jsx)(g.JA,{text:"Raspy"})},{value:"video games",text:"Video games",markup:(0,D.jsx)(g.JA,{text:"Video games"})}];this.setCategoryInSearchParams(c),this.updateSelectFilter("category",l,this.state.searchParams.category,(function(){e.filterVoiceOverTracks(e.state.searchParams)})),this.props.hideElevenLabs||(this.updateSelectFilter("age",u,this.state.searchParams.age,(function(){e.filterVoiceOverTracks(e.state.searchParams)})),this.updateSelectFilter("usecase",d,this.state.searchParams.usecase,(function(){e.filterVoiceOverTracks(e.state.searchParams)}))),this.setState({voiceOverCategories:i,voiceOverCategoriesOptions:l,voiceOverAgeOptions:u,voiceOverUsecaseOptions:d,voiceOverTracks:t,accentFilter:o}),document.addEventListener("click",this.documentClickListener),this.props.getVoiceOverQuota(),this.setState({hideElevenLabsBanner:f.Z.getItem("hideElevenLabsBanner"),hideElevenLabsBannerstd:f.Z.getItem("hideElevenLabsBannerstd")})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.documentClickListener)}},{key:"generateCategoryOptions",value:function(e){return[{value:"any",text:""}].concat((0,a.Z)(e.map((function(e){return{value:e,text:e,markup:(0,D.jsx)(g.JA,{text:e})}}))))}},{key:"filterAccentsByLanguage",value:function(e){var t=this.props.voiceOverTracks.map((function(e){return e.languageLabel})),n=v.gX.filter((function(t){return t.language===e}))[0];return(0,a.Z)(new Set(t)).filter((function(e){var t;return e.trim().startsWith(null==n||null===(t=n.category)||void 0===t?void 0:t.trim())}))}},{key:"componentDidUpdate",value:function(e,t,n){e.voiceOverTracks!==this.props.voiceOverTracks&&this.filterVoiceOverTracks(this.state.searchParams)}},{key:"setCategoryInSearchParams",value:function(e,t){var n=this,r=null,s="",a=[],i=v.gX;t||this.state.language?r=i.find((function(e){return e.language==(t||n.state.language)})):this.props.filterLanguage&&(r=i.find((function(e){return e.language==n.props.filterLanguage}))),r&&(s=r.language,(a=e.filter((function(e){return e.startsWith(s)})))&&(this.state.searchParams.category=a))}},{key:"showVoiceOverTracks",value:function(e){var t=e.map((function(e){return e.languageLabel})),n=(0,a.Z)(new Set(t)),r=this.props.hideElevenLabs?[]:[{title:"Premium voices",subTitle:"by ElevenLabs",tag:"Eleven Labs",catId:"PremVoices"}],s=[].concat(r,[{title:"Standard voices",subTitle:"",tag:"AI Voices",catId:"StdVoices"}]),i=(0,a.Z)(new Set(s));this.setState({voiceOverCategories:i,voiceOverTracks:e,accentFilter:n,categoriesFilter:t})}},{key:"render",value:function(){var e=this,t="AI Voices"===f.Z.getItem("voiceOverTrackCategory")&&!!f.Z.getItem("voiceOverTrackId");return(0,D.jsxs)("div",{className:"card fill-height",children:[!this.props.restrictUsers&&!this.state.hideElevenLabsBanner&&!this.props.hideElevenLabs&&(0,D.jsx)(R.Z,{class:"rotating-border voice-over-banner",children:(0,D.jsxs)(R.Z,{sx:{display:"flex",height:"100%"},children:[(0,D.jsx)(y.Z,{sx:{position:"absolute",right:"10px",top:"9px",fontSize:"18px",cursor:"pointer"},onClick:function(){e.setState({hideElevenLabsBanner:!0}),f.Z.setItem("hideElevenLabsBanner",!0)}}),(0,D.jsx)(R.Z,{sx:{margin:"-2px 8px 0 0",minWidth:"24px",width:"24px"},children:(0,D.jsx)("img",{src:"/images/sparkles 1_getty.svg",style:{width:"100%"}})}),(0,D.jsxs)(R.Z,{sx:{paddingRight:"10px"},children:[(0,D.jsx)(A.Z,{color:"grey.9999",sx:{fontSize:"16px !important",margin:"-3px 0 0 0 !important",display:"flex",alignItems:"center"},children:"Realistic AI voices for your videos"}),(0,D.jsx)(R.Z,{children:(0,D.jsxs)(A.Z,{variant:"text_sm",sx:{margin:"5px 0 0 0 !important",display:"inline-block",lineHeight:"20px",color:"#615077"},children:[(0,D.jsx)(A.Z,{sx:{mr:"5px",display:"initial"},children:"We have partnered with ElevenLabs to give you better AI voices. Professional users now get 2 hours of voice generation per month at no additional cost."}),(0,D.jsx)(G.Z,{sx:{color:"#852CFF !important",cursor:"pointer",textDecoration:"underline !important",fontSize:"15px",margin:"0 0 0 -1px"},onClick:function(){return window.open("https://kb.pictory.ai/en/articles/8468950-what-does-voiceover-quota-mean")},children:"Check out this guide."})]})})]})]})}),this.props.restrictUsers&&!this.state.hideElevenLabsBannerstd&&!this.props.hideElevenLabs&&(0,D.jsx)(R.Z,{class:"rotating-border voice-over-banner",sx:{backgroundColor:"#EAF4FD !important"},children:(0,D.jsxs)(R.Z,{sx:{display:"flex",height:"100%"},children:[(0,D.jsx)(y.Z,{onClick:function(){e.setState({hideElevenLabsBannerstd:!0}),f.Z.setItem("hideElevenLabsBannerstd",!0)},sx:{position:"absolute",right:"10px",top:"9px",fontSize:"18px",cursor:"pointer"}}),(0,D.jsx)(R.Z,{sx:(0,r.Z)({width:"unset",margin:"-2px 8px 0 0"},"width","34px"),children:(0,D.jsx)(J.Z,{sx:{color:"#2D57C6"}})}),(0,D.jsxs)(R.Z,{sx:{paddingRight:"10px"},children:[(0,D.jsxs)(A.Z,{sx:{fontSize:"16px !important",margin:"0 0 0 0 !important"},children:["Realistic AI voices are here!"," "]}),(0,D.jsx)(R.Z,{children:(0,D.jsxs)(A.Z,{variant:"text_sm",sx:{margin:"5px 0 0 0 !important !important",color:"#4D6274"},children:["We have partnered with ElevenLabs to bring you better AI voices. To explore the new integration, upgrade your account."," ",(0,D.jsx)(G.Z,{sx:{color:"#852CFF !important",cursor:"pointer",textDecoration:"underline !important",fontSize:"15px",margin:"0 0 0 3px"},onClick:function(){return e.props.history.push(x.Z.BaseURL+S.Z.plansList)},children:"Upgrade now!"})]})})]})]})}),0===this.props.textToSpeechDurationValue&&!this.props.restrictUsers&&!this.props.hideElevenLabs&&(0,D.jsx)(R.Z,{class:"rotating-border voice-over-banner ai-voice-consumed",sx:{},children:(0,D.jsxs)(R.Z,{sx:{display:"flex",height:"100%"},children:[(0,D.jsx)(y.Z,{sx:{position:"absolute",right:"10px",top:"9px",fontSize:"18px",cursor:"pointer"}}),(0,D.jsx)(R.Z,{sx:(0,r.Z)({minWidth:"unset",margin:"-2px 8px 0 0"},"minWidth","24px"),children:(0,D.jsx)(W.Z,{sx:{color:"rgba(249, 180, 77, 1)",fontSize:"30px"}})}),(0,D.jsxs)(R.Z,{sx:{paddingRight:"10px"},children:[(0,D.jsx)(A.Z,{color:"primary.main",sx:{fontSize:"16px !important",margin:"0 0 0 0 !important",color:"grey.800"},children:"AI voice quota reached"}),(0,D.jsx)(R.Z,{children:(0,D.jsxs)(A.Z,{variant:"text_sm",sx:{margin:"5px 0 0 0 !important",display:"inline-block",lineHeight:"20px",color:"#787450"},children:["We will reset your quota at the beginning of the month. In the meantime, you can apply standard voices for free.",(0,D.jsx)(G.Z,{sx:{color:"#852CFF !important",cursor:"pointer",textDecoration:"underline !important",fontSize:"15px",margin:"0 0 0 2px"},onClick:this.redirectToPlanning,children:"Get more voice-over minutes."})]})})]})]})}),(0,D.jsx)(R.Z,{className:"card-body pr-3 pl-3 pb-3 pt-0",sx:{marginBottom:"0",zIndex:"99"},children:(0,D.jsxs)("form",{className:"img-search-form mb-3",ref:function(t){return e.formEl=t},onSubmit:this.searchVoiceOverTracks,children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("input",{className:"form-control",name:"query",type:"search",placeholder:"Search voices","aria-label":"Search",style:{width:"98%",marginLeft:"10px"},autoComplete:"off",onChange:this.handleChange}),(0,D.jsx)("span",{className:"fa fa-search"})]}),(0,D.jsxs)("div",{className:"music-track-filter",style:{justifyContent:"unset"},children:[(0,D.jsx)(R.Z,{id:"category-container-span",sx:{maxWidth:"97px"},children:(0,D.jsx)(g.Ph,{ref:function(t){return e.setFilterReference(t,"category")},multiselect:!0,name:"category-dropdown",selectedValues:this.state.searchParams.category,options:this.state.voiceOverCategoriesOptions,customLabelRenderer:function(e){return"Accent"},caretIcon:(0,D.jsx)(g.xY,{}),onSelect:function(t){return e.addSelectedFilterOptions("category",t)},onDeselect:function(t){return e.removeSelectedFilterOptions("category",t)}})}),!this.props.hideElevenLabs&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(R.Z,{id:"age-container-span",sx:{maxWidth:"80px"},children:(0,D.jsx)(g.Ph,{name:"age-dropdown",ref:function(t){return e.setFilterReference(t,"age")},multiselect:!0,selectedValues:this.state.searchParams.age,options:this.state.voiceOverAgeOptions,customLabelRenderer:function(e){return"Age"},caretIcon:(0,D.jsx)(g.xY,{}),onSelect:function(t){return e.addSelectedFilterOptions("age",t)},onDeselect:function(t){return e.removeSelectedFilterOptions("age",t)}})}),(0,D.jsx)(R.Z,{id:"usecase-container-span",sx:{maxWidth:"105px"},children:(0,D.jsx)(g.Ph,{name:"usecase-dropdown",ref:function(t){return e.setFilterReference(t,"usecase")},multiselect:!0,selectedValues:this.state.searchParams.usecase,options:this.state.voiceOverUsecaseOptions,customLabelRenderer:function(e){return"Purpose"},caretIcon:(0,D.jsx)(g.xY,{}),onSelect:function(t){return e.addSelectedFilterOptions("usecase",t)},onDeselect:function(t){return e.removeSelectedFilterOptions("usecase",t)}})})]}),(0,D.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center",minWidth:"unset",padding:"0px",mt:"5px"},className:"rrs__button rrs",style:{maxWidth:"140px",padding:"0px"},children:[(0,D.jsxs)("span",{className:"gender-checkbox mr-3",children:[(0,D.jsx)("input",{type:"checkbox",checked:this.state.searchParams.gender.includes("male"),onChange:function(t){return t.target.checked?e.addSelectedFilterOptions("gender",{value:"male"}):e.removeSelectedFilterOptions("gender",{value:"male"})}}),(0,D.jsx)("span",{children:"  Male"})]}),(0,D.jsxs)("span",{className:"gender-checkbox",children:[(0,D.jsx)("input",{type:"checkbox",checked:this.state.searchParams.gender.includes("female"),onChange:function(t){return t.target.checked?e.addSelectedFilterOptions("gender",{value:"female"}):e.removeSelectedFilterOptions("gender",{value:"female"})}}),(0,D.jsx)("span",{children:"  Female"})]})]})]})]})}),(0,D.jsx)(R.Z,{className:"card-body pl-1 ov-right content hover-only-scrollbar mCustomScrollbar fill-height voice-over-tabs",children:(0,D.jsx)(R.Z,{className:"rows p-2",children:(0,D.jsx)("div",{className:"",children:this.state.voiceOverCategories.map((function(n){return(0,D.jsx)("div",{id:"accordion",className:"track-links",role:"tablist","aria-multiselectable":"true",children:(0,D.jsxs)("div",{className:"card",children:[(0,D.jsxs)(R.Z,{className:"card-header accordian-background",role:"tab",id:"headingOne",sx:{display:"flex",justifyContent:"space-between",backgroundColor:"grey.0",position:"sticky",top:"-5",zIndex:9},style:{paddingLeft:"8px",paddingRight:"16px"},children:[(0,D.jsx)(T.Z,{className:"mb-0",direction:"row",sx:{alignItems:"center"},children:(0,D.jsx)("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+n.catId,"aria-expanded":"false","aria-controls":"collapseOne"+n.catId,className:"",children:(0,D.jsxs)(A.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,D.jsxs)(A.Z,{variant:"text_base",sx:{color:"#000 !important",fontWeight:"600",paddingLeft:"8px"},style:{fontSize:"15px"},children:[" ",n.title," (",e.state.voiceOverTracks.filter((function(e){return e.tag.startsWith(n.tag)&&!I.Tf.includes(e.trackId)})).length,")"]})," ",(0,D.jsx)(A.Z,{className:"hide-on-small-screen",sx:{ml:"8px",color:"grey.400"},variant:"text_sm_resp",children:n.subTitle})]})})}),(0,D.jsxs)(R.Z,{sx:{display:"flex"},children:["Eleven Labs"===n.tag&&!e.props.hideElevenLabs&&(0,D.jsx)(T.Z,{direction:"row",sx:{margin:"0 10px 0 0",display:"flex",alignItems:"center"},children:(0,D.jsx)(_.Z,{title:"Premium voices are fluent in all supported languages including EN, FR, ES and DE. Learn more.",arrow:!0,placement:"top",children:(0,D.jsx)(G.Z,{className:"multiLingualTagStyle",onClick:function(){return window.open("https://kb.pictory.ai/en/articles/8679976-what-languages-do-you-support")},children:"Multilingual"})})}),"Eleven Labs"===n.tag&&!e.props.restrictUsers&&!e.props.hideElevenLabs&&(0,D.jsxs)(T.Z,{direction:"row",sx:{m:" 0 -17px 0 0 !important",display:"flex",alignItems:"center"},children:[(0,D.jsx)(A.Z,{variant:"text_sm",sx:{m:"0 0 0 5px !important",color:"#000 !important"},children:"Quota"})," ",e.props.textToSpeechDurationValue<=0&&!isNaN(e.props.daysRemainingTillResetDate)?(0,D.jsxs)(A.Z,{variant:"text_sm",sx:{color:"warning.dark",m:"0 0 0 5px !important"},children:["Available in ",e.props.daysRemainingTillResetDate," days"]}):(0,D.jsx)(A.Z,{variant:"text_sm",sx:{color:e.props.textToSpeechDurationValue<=20?"warning.dark":"grey.400",m:"0 0 0 5px !important"},children:e.props.textToSpeechDuration}),(0,D.jsx)(_.Z,{title:"Learn how quotas work",arrow:!0,placement:"top",children:(0,D.jsx)(E.Z,{sx:{m:"0 4px 0 5px",p:"0"},children:(0,D.jsx)(z.Z,{sx:{color:"#b3b3b3",fontSize:"20px"},onClick:function(){return window.open("https://kb.pictory.ai/en/articles/8468951-how-is-my-voiceover-quota-calculated")}})})})]}),"Eleven Labs"!==n.tag&&(0,D.jsx)(_.Z,{title:t?"":"Apply a standard voice to control speed",arrow:!0,placement:"right",children:(0,D.jsxs)(R.Z,{id:"speed-container-span",sx:{display:"flex",position:"relative",minWidth:"max-content !important",marginRight:"-10px",marginTop:"7px !important"},children:[(0,D.jsx)(H.default,{onSelect:e.onLanguageSelect,selectedLanguageValue:e.state.languageValue,languages:v.Kb,title:"Language:",defaultLanguage:e.detectLanguage()}),(0,D.jsx)(R.Z,{className:"rrs__button rrs "+(e.state.speedContainer?" rrs--options-visible ":"")+(100!==e.props.speedValue?" rrs--has-changed":""),onClick:function(){return e.setState({speedContainer:!e.state.speedContainer&&t})},sx:{boxShadow:"none !important",lineHeight:"initial !important",background:"transparent !important",marginTop:"-3px"},children:(0,D.jsxs)(R.Z,{className:"rrs__label speed-text",sx:{padding:"0 !important",background:"transparent !important"},children:[(0,D.jsxs)(A.Z,{style:{padding:"0 !important",paddingRight:"5px"},children:[(0,D.jsx)(A.Z,{component:"span",variant:"text_sm",sx:{color:"#000 !important",p:"0 !important"},children:"Speed"})," ",(0,D.jsx)(A.Z,{variant:"text_sm",sx:{color:"grey.400"},children:100===e.props.speedValue?"normal":e.props.speedValue+"%"})]}),(0,D.jsx)(R.Z,{className:"speed-caret-icon",children:(0,D.jsx)(g.xY,{sx:{position:"relative",paddingTop:"10px"}})})]})}),e.state.speedContainer&&(0,D.jsx)("div",{className:"speed-container",children:(0,D.jsx)("div",{className:"col-12 p-0 tabs-slider input-bar-container",style:{width:"200px"},children:(0,D.jsx)(m(),{id:"txtSpeedRange",maxValue:200,minValue:50,formatLabel:function(e){return"".concat(e,"%")},value:e.props.speedValue,onChange:e.props.onChange,onChangeComplete:e.props.onChangeComplete})})})]})})]})]}),(0,D.jsxs)("div",{id:"collapseOne"+n.catId,className:"collapse show",role:"tabpanel","aria-labelledby":"headingOne"+n.catId,"aria-expanded":"false",children:[(0,D.jsx)("div",{className:"card-block",style:{height:"".concat("Eleven Labs"===n.tag&&e.props.restrictUsers&&e.state.isVoiceListCollapsed?"250px":"auto"),overflow:"".concat("Eleven Labs"===n.tag&&e.props.restrictUsers&&e.state.isVoiceListCollapsed?"hidden":"none")},children:(0,D.jsx)(M,{reloadScene:e.props.reloadScene,project_id:e.props.project_id,category:n,username:e.props.username,refresh:e.props.refresh,voiceOverTracks:e.state.voiceOverTracks,UpdateFavourite:e.props.UpdateFavourite,UpdateRecent:e.props.UpdateRecent,UpdateVoiceOver:e.props.UpdateVoiceOver,UpdateIsActiveVoiceOver:e.props.UpdateIsActiveVoiceOver,brandSetting:e.props.brandSetting,getAudioFavouritesAndRecent:e.props.getAudioFavouritesAndRecent,favouriteTracks:e.props.favouriteTracks,recentTracks:e.props.recentTracks,removeVoiceOverTrackFromStorage:e.props.removeVoiceOverTrackFromStorage,startApplyVoiceOver:e.props.startApplyVoiceOver,restrictUsers:e.props.restrictUsers,applyingAudioStatus:e.props.applyingAudioStatus,history:e.props.history,durationUpdated:e.props.durationUpdated,updateVideoduration:e.props.updateVideoduration,applyingVO:e.props.applyingVO,getVoiceOverQuota:e.props.getVoiceOverQuota,videoTotalDurationInSeconds:e.props.videoTotalDurationInSeconds,textToSpeechDurationValue:e.props.textToSpeechDurationValue,daysRemainingTillResetDate:e.props.daysRemainingTillResetDate,hideElevenLabs:e.props.hideElevenLabs,fromBranding:e.props.fromBranding,brandingAIVoiceoverList:e.props.brandingAIVoiceoverList,onUpdateBrandingAIVoiceoverList:e.props.onUpdateBrandingAIVoiceoverList,cancelingVO:e.props.cancelingVO,cancelingAudioStatus:e.props.cancelingAudioStatus,videoDuration:e.props.videoDuration,logEventVoiceSelected:e.props.logEventVoiceSelected,voiceoverprogressStatus:e.props.voiceoverprogressStatus,buyAddonEnabled:e.props.buyAddonEnabled,openVoiceoverChangePopup:e.props.openVoiceoverChangePopup,isAppSumouser:e.props.isAppSumouser})}),"Eleven Labs"===n.tag&&e.props.restrictUsers&&(0,D.jsx)(R.Z,{sx:{textAlign:"center",width:"100%",display:"flex",alignItems:"flex-end",justifyContent:"center",height:"15px"},children:(0,D.jsxs)("a",{style:{color:"#999",fontSize:"14px",cursor:"pointer"},onClick:e.expandVoiceOverList,children:["Show ",e.state.isVoiceListCollapsed?"all":"less"]})})]})]})})}))})})}),(0,D.jsx)(K.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,severity:this.state.alertSeverity?this.state.alertSeverity:"success",onClose:function(){return e.setState({showAlertNotification:void 0})}})]})}}]),n}(d.Component),Y=(0,p.$j)((function(e){return{detectedLanguage:e.createVideoStepOne.detectedLanguage}}))(q)},87074:function(e,t,n){"use strict";var r=n(43144),s=n(15671),a=(0,r.Z)((function e(){(0,s.Z)(this,e),this.BaseURL="/",this.YetToImplement="Yet to be implemented.",this.proxyURL="",this.GoogleSearchAPIKey="AIzaSyC6zVJAQeOQqhxj7d1p_q52iyXgms9D-7w",this.GoogleSearchCSEId="005177925176348517012:pc74kmzztl5",this.superAdminEmail="admin@pictory.ai"}));t.Z=new a},30835:function(e,t,n){"use strict";n.d(t,{k:function(){return l},q:function(){return c}});var r=n(76666),s=n.n(r),a=(n(47313),n(3643)),i=n(45610),o=n(46417),c=function(e){var t={};return e.width&&(t.width=e.width),e.align&&"center"===e.align&&(t.transform="translateX(-50%)"),e.fontSize&&(t.fontSize=e.fontSize),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("span",{className:["user-profile dropdown position-relative",e.fullWidth?"full-width":""].join(" "),children:[e.children,e.component&&(0,o.jsx)("ul",{className:"dropdown-menu popover-container absolute-left-aligned",children:e.component}),(e.listItems||e.msg)&&(0,o.jsxs)("ul",{className:"dropdown-menu popover-container",style:t,children:[e.listItems&&e.listItems.map((function(e,t){return(0,o.jsx)("li",{children:(0,o.jsxs)("div",{className:"mt-5px mb-5px",children:[(0,o.jsxs)("div",{className:"font-size-7 sortof-black ellipsis-font-142",children:[e.imageSrc?(0,o.jsx)("img",{src:e.imageSrc,className:"image-square"}):(0,o.jsx)("span",{className:"initials-in-circle",children:e.text?e.text.charAt(0):""}),e.text]}),e.errMsg&&(0,o.jsxs)("div",{className:"list-error-message",children:[(0,o.jsx)("span",{className:"initials-in-circle-small",children:"!"}),e.errMsg]})]})})})),e.msg&&(0,o.jsx)("span",{children:e.msg})]})]})})},l=function(e){var t=(0,a.k6)();return(0,o.jsx)("div",{id:e.id,className:"upgrade-modal modal fade",role:"dialog",children:(0,o.jsx)("div",{className:"modal-dialog",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsx)("div",{className:"modal-header",children:(0,o.jsxs)("h4",{className:"modal-title",children:["Upgrade to Professional!",(0,o.jsx)("span",{className:"close",onClick:function(){s()(".modal.show").modal("hide")},children:"×"})]})}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("p",{children:e.msgHtml}),(0,o.jsx)("div",{className:"button-container horizontal buttonsStep2head",children:(0,o.jsx)("a",{className:"btn btn--nexts2 btn-submit",onClick:function(e){e.stopPropagation(),s()(".modal.show").modal("hide"),t.push("/"+i.Z.plansList)},children:"See plans"})})]})]})})})}},30194:function(e,t,n){"use strict";n(47313);var r=n(46417);t.Z=function(e){var t=e.max,n=e.min,s=e.value,a=e.onChange,i={transform:"rotate(180deg)",color:"black",cursor:"pointer"},o={color:"black",cursor:"pointer"};return s<=n&&(i.color="lightgray",i.cursor="not-allowed"),s>=t&&(o.color="lightgray",o.cursor="not-allowed"),(0,r.jsxs)("span",{className:"bold",style:{minWidth:"200px"},children:[(0,r.jsx)("span",{children:"Max number of lines"}),(0,r.jsxs)("label",{className:"switch mb-0 ml-1",style:{width:"unset",top:"unset"},children:[(0,r.jsx)("i",{className:"fa fa-play","aria-hidden":"true",style:i,onClick:function(){s>n&&a&&a(s-1)}}),(0,r.jsx)("label",{style:{marginLeft:"5px",marginRight:"5px"},children:s}),(0,r.jsx)("i",{className:"fa fa-play","aria-hidden":"true",style:o,onClick:function(){s<t&&a&&a(s+1)}})]})]})}},89554:function(e,t,n){"use strict";var r=n(605),s=(n(47313),n(46417));t.Z=function(e){var t=e.steps,n=void 0===t?1:t,a=e.heading,i=e.step1ProgressMessage,o=e.step1Progress,c=e.onStopProgress,l=e.step,u=void 0===l?1:l,d=e.step2ProgressMessage,p=void 0===d?"":d,h=e.step2Progress,m=void 0===h?0:h,g=e.transparentBackground,f=void 0!==g&&g,v=e.image,x=e.onButtonClick,S=e.buttonText,y=void 0===S?"Ok":S,b=e.errorMsgStep1,j=e.errorMsgStep2,w={display:"block",backgroundImage:"url(/images/backgroundgradientpattern.png)"};return!0===f&&delete w.backgroundImage,(0,s.jsx)("div",{className:"VideoProgressBar new-progress-bar-ui",id:"GenerateVideo",style:w,children:(0,s.jsx)("div",{className:"modal-dialog",children:(0,s.jsxs)("div",{className:"modal-content",children:[v&&(0,s.jsx)("div",{className:"flex-centered mt-3",children:(0,s.jsx)("div",{className:"modal-image-box",children:(0,s.jsx)("img",{src:v})})}),c&&(0,s.jsx)("button",{type:"button",className:"close mt-3",onClick:function(){return c&&c()},"data-dismiss":"modal",children:"×"}),(0,s.jsx)("div",{className:"modal-header",children:(0,s.jsx)("h4",{className:"modal-title",children:a||"Operation in Progress"})}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsx)("div",{className:"container-fluid p-0",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsxs)("div",{className:"vertical-flex center-center",children:[(0,s.jsxs)("div",{className:["horizontal-flex video-generation-progress-container",1===u?"partial":""].join(" "),children:[n>1&&(0,s.jsxs)("div",{className:["circle horizontal-flex center-center",b?"error":u>1||100===o?"completed":"uncomplete"].join(" "),children:[!b&&(0,s.jsx)("span",{className:"number",children:"1"}),(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("i",{className:b?"fa fa-exclamation":"fa fa-check","aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"vertical-flex space-between-start flex-filler pl-1 position-relative",children:[b&&(0,s.jsx)("label",{className:"error sub-text-right-aligned",children:b}),(0,s.jsx)("span",{className:"ml-2",children:i}),(0,s.jsx)("div",{className:"progress ml-2 mt-1",children:(0,s.jsx)("div",{id:"dynamic",className:["progress-bar progress-bar-success progress-bar-striped",o<100?"active":""].join(" "),role:"progressbar","aria-valuenow":100,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(o||0,"%")},children:(0,s.jsx)("span",{id:"current-progress"})})}),!b&&(0,s.jsx)("h6",{className:"dynamic-width-text",children:"".concat(parseInt(o||0),"%")})]})]}),n>1&&(0,s.jsxs)("div",{className:["horizontal-flex video-generation-progress-container",2===u?"partial":""].join(" "),children:[(0,s.jsxs)("div",{className:["circle horizontal-flex center-center",j?"error":u>2||100===m?"completed":"uncomplete"].join(" "),children:[!j&&(0,s.jsx)("span",{className:"number",children:"2"}),(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("i",{className:j?"fa fa-exclamation":"fa fa-check","aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"vertical-flex space-between-start flex-filler pl-1 position-relative",children:[j&&(0,s.jsx)("label",{className:"error sub-text-right-aligned",children:j}),(0,s.jsx)("span",{className:"ml-2",children:p}),(0,s.jsx)("div",{className:"progress ml-2 mt-1",children:(0,s.jsx)("div",{id:"dynamic",className:["progress-bar progress-bar-success progress-bar-striped",m<100?"active":""].join(" "),role:"progressbar","aria-valuenow":100,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(m||0,"%")},children:(0,s.jsx)("span",{id:"current-progress"})})}),!j&&(0,s.jsx)("h6",{className:"dynamic-width-text",children:"".concat(parseInt(m||0),"%")})]})]})]})})})}),(b||j)&&(0,s.jsx)("div",{children:(0,s.jsx)(r.Z,{variant:"outlined",onClick:x,sx:{mb:2},children:y})})]})})})}},30715:function(e,t,n){"use strict";n.d(t,{A2:function(){return _},DV:function(){return T},Fj:function(){return j},ML:function(){return E},_v:function(){return Z},bJ:function(){return R},lf:function(){return I},q$:function(){return w},r:function(){return A},uO:function(){return k},yR:function(){return C}});var r=n(45987),s=n(29439),a=n(1413),i=n(10383),o=n(88905),c=n(42669),l=n(81962),u=n(24873),d=n(93523),p=n(68097),h=n(47313),m=n(58890),g=n(78061),f=n(47439),v=n(46417),x=["onChangeFn","selectedValue","list","elementList","className","multiSelect","size"],S=["onChangeFn","selectedValue"],y=["onChangeFn","selectedValue"],b=["onChangeFn","selectedValue"],j=function(e){var t=e.dropdownMenuList,n=e.selectedValue,r=e.onSelectFn,s=e.className,i=e.border,o=e.fullWidth,c=e.fillHeight,l=e.useFontStyle,u=e.muiStyled?g.Z.primary.main:"#3756C0",d=function(e){if(e){var t=(0,f.fj)(e).split(";");return{style:{fontFamily:t[0]?t[0]:"Arial",fontWeight:t[1]?t[1].split(":")[1]:"normal"}}}return{}};n&&(n=isNaN(n)?n.replace(/'/g,""):n.toString());var p=n&&t.find((function(e){return e.value==n||e.text==n||isNaN(n)&&e.value.indexOf(n)>-1}));s===f.d1&&n&&!p&&(p={text:n,value:n}),p||(p=t[0]);var h={};return l&&p.value&&(h=d(p.value)),(0,v.jsxs)(m.Z,{onSelect:r,className:[s||"",c?"fill-height":""].join(" "),children:["rounded"===i&&(0,v.jsx)("style",{children:"\n\t\t\t\t#dropdown-custom-components.border-rounded {border: solid 1px ".concat(u," !important; border-radius: 100px !important;}\n\t\t\t\t#dropdown-custom-components span {color: ").concat(u," !important;}\n\t\t\t\t.list-dropdown a.active {color: ").concat(u," !important;}\n\t\t\t")}),o&&(0,v.jsx)("style",{children:"#dropdown-custom-components.full-width {width: 100% !important; min-width: 100% !important; text-align: left;}"}),(0,v.jsx)(m.Z.Toggle,{id:"dropdown-custom-components",className:["rounded"===i?"border-rounded":"",o?"full-width":"",c?"fill-height":""].join(" "),children:(0,v.jsx)("span",(0,a.Z)((0,a.Z)({},h),{},{children:p.text}))}),(0,v.jsx)(m.Z.Menu,{children:t.map((function(e){h={},l&&e.value&&(h=d(e.value));var t=p.value==e.value?{className:"active"}:{};if(e.value)return(0,v.jsx)(m.Z.Item,(0,a.Z)((0,a.Z)((0,a.Z)({eventKey:e.value,value:e.value},h),t),{},{children:e.text}),e.value)}))})]})},w=function(e){var t=e.selectedValue,n=e.onSelectFn,r=(e.border,e.fullWidth),s=(e.fillHeight,function(e){if(e){var t=(0,f.fj)(e).split(";");return{fontFamily:t[0]?t[0]:"Arial",fontWeight:t[1]?t[1].split(":")[1]:"normal"}}return{}});return(0,v.jsx)(i.Z,{fullWidth:r,children:(0,v.jsx)(o.Z,{value:t,onChange:function(e){return n(e.target.value)},renderValue:function(e){var t;return(0,v.jsx)(c.Z,{sx:s(e),children:null===(t=f.ZO.find((function(t){return t.value===e})))||void 0===t?void 0:t.text})},children:f.ZO.map((function(e){return!(t&&!e.value)&&(0,v.jsx)(l.Z,{value:e.value,sx:s(e.value),children:e.text},e.value)}))})})},Z=function(e){var t=e.selectedValue,n=e.onSelectFn,r=(e.border,e.fullWidth);return e.fillHeight,(0,v.jsx)(i.Z,{fullWidth:r,children:(0,v.jsx)(o.Z,{value:t,onChange:function(e){return n(e.target.value)},children:f.z6.map((function(e){return!(t&&!e.value)&&(0,v.jsx)(l.Z,{value:e.value,children:e.text},e.value)}))})})},k=function(e){var t=e.selectedValue,n=e.onSelectFn,r=(e.border,e.fullWidth);return e.fillHeight,(0,v.jsx)(i.Z,{fullWidth:r,children:(0,v.jsx)(o.Z,{value:t,onChange:function(e){return n(e.target.value)},onClick:function(e){e.stopPropagation(),e.preventDefault()},MenuProps:{disablePortal:!0},children:f.Od.map((function(e){return!(t&&!e.value)&&(0,v.jsx)(l.Z,{value:e.value,children:e.text},e.value)}))})})},C=function(e){var t=e.selectedValue,n=e.onSelectFn,r=(e.border,e.fullWidth);return e.fillHeight,(0,v.jsx)(i.Z,{fullWidth:r,children:(0,v.jsx)(o.Z,{value:t,onChange:function(e){return n(e.target.value)},onClick:function(e){e.stopPropagation(),e.preventDefault()},MenuProps:{disablePortal:!0},children:f.Il.map((function(e){return!(t&&!e.value)&&(0,v.jsx)(l.Z,{value:e.value,children:e.text},e.value)}))})})},I=function(e){var t=e.onChangeFn,n=e.selectedValue,r=e.isIcon,i=void 0!==r&&r,o=e.classNames,c=void 0===o?"":o,l=e.style,d=void 0===l?{}:l,p=e.disabled,m=void 0!==p&&p,g=(0,h.useState)(n),x=(0,s.Z)(g,2),S=x[0],y=x[1];return(0,h.useEffect)((function(){y(n)}),[n]),(0,v.jsx)("span",{className:"full-width",children:(0,v.jsx)(u.Z,{className:["style-position-element",i?"ico":"",m?"style-position-element--disabled":"",c].join(" "),sx:(0,a.Z)({backgroundColor:"grey.lighten4",border:"1px solid",borderColor:"grey.300"},d),children:f.IR.map((function(e,n){return(0,v.jsx)(u.Z,(0,a.Z)((0,a.Z)({id:e,className:["position-preset square-box",e,i?"ico":"",e===S?"default-cursor":""].join(" ")},e===S?{}:{onClick:function(e){y(e.target.id),t&&!m&&t(e)}}),{},{sx:{backgroundColor:e!==S||m?"grey.300":"primary.main"}}),n)}))})})},T=function(e){var t=e.onChangeFn,n=e.selectedValue,r=(e.isIcon,e.classNames),i=void 0===r?"":r,o=e.style,c=void 0===o?{}:o,l=e.disabled,d=void 0!==l&&l,p=(0,h.useState)(n),m=(0,s.Z)(p,2),g=m[0],x=m[1];return(0,h.useEffect)((function(){void 0!==n&&x(n)}),[n]),(0,v.jsx)("span",{className:"full-width",children:(0,v.jsx)(u.Z,{className:["style-position-element",d?"style-position-element--disabled":"",i].join(" "),sx:(0,a.Z)({px:1,border:"1px solid",borderColor:"grey.300"},c),children:(0,v.jsx)(u.Z,{sx:{position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},children:f.eX.map((function(e,n){return(0,v.jsx)(u.Z,(0,a.Z)((0,a.Z)({id:e,className:"rectangle-box-rounded"},e===g?{}:{onClick:function(e){x(e.target.id),t&&!d&&t(e)}}),{},{sx:e!==g||d?{backgroundColor:"grey.300",cursor:"pointer"}:{backgroundColor:"primary.main",cursor:"default"}}),n)}))})})})},E=function(e){var t=e.onChangeFn,n=e.selectedValue,i=e.list,o=e.elementList,c=e.className,l=e.multiSelect,u=e.size,m=(0,r.Z)(e,x),g=(0,h.useState)(l&&"string"==typeof n?[n]:n),f=(0,s.Z)(g,2),S=f[0],y=f[1];return(0,h.useEffect)((function(){void 0!==n&&y(n)}),[n]),i.length<2||i.length!=o.length?(0,v.jsx)(v.Fragment,{}):(l&&"string"==typeof n&&(n=[n]),(0,v.jsx)(d.Z,(0,a.Z)((0,a.Z)({value:S,color:"primary",exclusive:!l,className:["small"===u?"button-group-small":"button-group-medium",c].join(" "),onChange:function(e,n){y(n),t(n)}},m),{},{children:o.map((function(e,t){return(0,v.jsx)(p.Z,{value:i[t],sx:{borderRadius:"4px"},children:e},i[t])}))})))},A=function(e){var t=e.onChangeFn,n=e.selectedValue,s=(0,r.Z)(e,S),i=[(0,v.jsx)("strong",{children:"B"}),(0,v.jsx)("i",{children:"I"}),(0,v.jsx)("u",{children:"U"}),(0,v.jsx)("s",{children:"S"})];return(0,v.jsx)(E,(0,a.Z)({onChangeFn:t,selectedValue:n,list:["decor-bold","decor-italics","decor-underline","decor-linethrough"],elementList:i,multiSelect:!0},s))},_=function(e){var t=e.onChangeFn,n=e.selectedValue,s=(0,r.Z)(e,y),i=[(0,v.jsx)("span",{children:"AG"}),(0,v.jsx)("span",{children:"ag"}),(0,v.jsx)("span",{children:"Ag"}),(0,v.jsx)("span",{style:{fontVariant:"small-caps"},children:"Ag"})];return(0,v.jsx)(E,(0,a.Z)({onChangeFn:t,selectedValue:n,list:["case-uppercase","case-lowercase","case-capitalize","case-smallcapitalize"],elementList:i,className:"button-group-text-transform-none"},s))},R=function(e){var t=e.onChangeFn,n=e.selectedValue,s=(0,r.Z)(e,b),i=[(0,v.jsx)("i",{className:"fa fa-align-left"},0),(0,v.jsx)("i",{className:"fa fa-align-center"},1),(0,v.jsx)("i",{className:"fa fa-align-right"},2)];return(0,v.jsx)(E,(0,a.Z)({onChangeFn:t,selectedValue:n,list:["left","center","right"],elementList:i},s))}},44533:function(e,t,n){"use strict";n.d(t,{x:function(){return s}}),n(47313);var r=n(46417),s=function(e){return(0,r.jsx)("div",{className:"card no-border fill-height",children:(0,r.jsx)("div",{className:"card-body ov-right hover-only-scrollbar pt-1 pl-0 pr-0",children:(0,r.jsx)("div",{className:"content hover-only-scrollbar fill-height ",children:(0,r.jsx)("div",{className:"col-12 vertical-style-library"+(e.isInnerTab?" pl-1 pr-1":" pl-4 pr-4"),style:{height:"calc(100% - 2px)"},children:e.children})})})})}},92873:function(e,t,n){"use strict";n.d(t,{H:function(){return x},w:function(){return S}});var r=n(1413),s=n(74165),a=n(15861),i=n(29439),o=n(45987),c=n(24873),l=n(10770),u=n(63346),d=n(47313),p=n(47439),h=n(18248),m=n(91104),g=n(46417),f=["defaultTextObj","onChangeFn","closeEditorFn","hideTip","innerSpanProps","contentEditable","forceResetText","allowCtrlB"],v=["htmlText","onChangeFn","onSelect","innerSpanClassName"],x=(0,d.forwardRef)((function(e,t){var n,v=e.defaultTextObj,x=e.onChangeFn,S=e.closeEditorFn,y=e.hideTip,b=e.innerSpanProps,j=e.contentEditable,w=void 0===j||j,Z=e.forceResetText,k=e.allowCtrlB,C=(0,o.Z)(e,f),I=function(){return"editor_"+(0,h.Z)()},T=(0,d.useState)((null==v?void 0:v.html)||""),E=(0,i.Z)(T,2),A=E[0],_=E[1],R=(0,d.useState)(!1),P=(0,i.Z)(R,2),N=P[0],O=P[1],D=(0,d.useState)(I()),U=(0,i.Z)(D,2),L=U[0],F=U[1],V=(0,d.useRef)(null);(0,d.useEffect)((function(){v&&v.html!==A&&_(v.html)}),[v]),(0,d.useEffect)((function(){Z&&(F(I()),_(Z))}),[Z]),(0,d.useEffect)((function(){var e;w?setTimeout((function(){V.current&&V.current.focus()}),500):null===(e=window.getSelection())||void 0===e||e.empty()}),[w]);var B=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=S,!e.t0){e.next=4;break}return e.next=4,S();case 4:if(!(t=M())||!x){e.next=8;break}return e.next=8,x(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useImperativeHandle)(t,(function(){return{getEditorTextObj:M,saveText:B}}));var M=function(){var e=document.getElementById(L);if(e){for(var t=e.innerText,n=e.innerHTML,r=[],s=e.querySelectorAll("strong"),a=0;a<s.length;a++)r.push(s[a].innerHTML.trim());s=e.querySelectorAll("b");for(var i=0;i<s.length;i++)r.push(s[i].innerHTML.trim());n=n.replace(/<b>/g,"<strong>").replace(/<\/b>/g,"</strong>");var o={text:t,html:n=l.Z.sanatizeString(n,!1,!1),keywords:r};if(F(I()),O(!1),(null==o?void 0:o.html)!==((null==v?void 0:v.html)||""))return o}};C.sx=(0,r.Z)({maxWidth:"100%",width:"100% !important",border:"1px solid",borderColor:"grey.300",borderRadius:"10px",p:2},C.sx),b=(0,r.Z)({key:L,id:L,style:(0,r.Z)({width:"100%",minHeight:"60px",display:"inline-block"},null===(n=b)||void 0===n?void 0:n.style),onFocus:function(e){A===p.Ss&&window.getSelection().selectAllChildren(e.target),O(!0)},contentEditable:w,suppressContentEditableWarning:!0,onKeyDown:function(e){var t=k?["b","c","v","x","a"]:["c","v","x","a"];!e.ctrlKey&&!e.metaKey||t.includes(e.key)||e.preventDefault(),e.stopPropagation()},onPaste:function(e){var t=e.clipboardData.getData("text/plain"),n=window.getSelection();if(!n.rangeCount)return!1;n.deleteFromDocument();var r=n.getRangeAt(0);t=t.replace(/\r/g,""),r.insertNode(document.createTextNode(t)),n.removeAllRanges(),e.preventDefault()},onBlur:B,onDragStart:function(e){return e.preventDefault()}},b);var G=function(){return(0,g.jsx)(c.Z,(0,r.Z)((0,r.Z)({},C),{},{children:(0,g.jsx)("span",(0,r.Z)((0,r.Z)({ref:V},b),{},{children:A&&(0,u.ZP)(l.Z.sanatizeString(A,!0))||""}))}))};return(0,g.jsxs)(g.Fragment,{children:[y&&G(),!y&&(0,g.jsxs)("div",{children:[G(),(0,g.jsx)("div",{className:"horizontal-flex flex-space-between",children:(0,g.jsx)("label",{className:"control-label mb-0",style:{fontSize:"12px",color:"darkgrey"},children:N?(0,g.jsxs)("span",{children:["Tip: Highlight the keywords using"," ","MacOS"===(0,m.L9)()?"Cmd+B":"Unknown OS"===(0,m.L9)()?"Ctrl+B/Cmd+B":"Ctrl+B"]}):(0,g.jsx)("span",{children:" "})})})]})]})})),S=(0,d.forwardRef)((function(e,t){var n=e.htmlText,s=e.onChangeFn,a=e.onSelect,i=e.innerSpanClassName,c=(0,o.Z)(e,v);return(0,g.jsx)(x,(0,r.Z)((0,r.Z)({defaultTextObj:{html:n},onChangeFn:s,component:"p",onMouseDown:function(e){return"P"===e.target.tagName&&e.preventDefault()},innerSpanProps:{className:"editor-container "+(i||""),style:{minHeight:"10px"},onSelect:a},sx:{border:0,borderRadius:0,p:0},hideTip:!0},c),{},{ref:t}))}))},45749:function(e,t,n){"use strict";var r=n(1413),s=n(45987),a=n(42669),i=n(24873),o=n(62463),c=n(605),l=n(52927),u=(n(47313),n(3643)),d=n(45610),p=n(46417),h=["planName","quotaExceeded","trimVideoNotAllowed","transitionsNotAllowed","musicTrackNotAllowed","projectQuotaExceeded","onClose","history"];t.Z=(0,u.EN)((function(e){var t=e.planName,n=e.quotaExceeded,u=e.trimVideoNotAllowed,m=e.transitionsNotAllowed,g=e.musicTrackNotAllowed,f=e.projectQuotaExceeded,v=e.onClose,x=e.history,S=(0,s.Z)(e,h),y=function(){return(0,p.jsx)(a.Z,{variant:"text_2xl",component:"div",color:"secondary",children:t})};return(0,p.jsx)(l._c,(0,r.Z)((0,r.Z)({title:(0,p.jsx)(i.Z,{sx:{textAlign:"center"},children:n?"Video limit reached!":"Upgrade to Premium!"}),open:!0,onClose:v,fullWidth:!0,actions:(0,p.jsx)(o.Z,{direction:"row",spacing:1.5,children:(0,p.jsx)(c.Z,{type:"submit",variant:"contained",onClick:function(){v(),x.push("/"+d.Z.plansList)},children:"See plans"})}),actionsSx:{justifyContent:"center"}},S),{},{children:(0,p.jsx)(a.Z,{variant:"text_base",component:"div",sx:{textAlign:"center"},children:n?(0,p.jsxs)(p.Fragment,{children:["Your have reached the video limit of your current",y(),(0,p.jsx)("br",{}),"Please upgrade to generate more videos"]}):u?(0,p.jsxs)(p.Fragment,{children:["Trim video clips ",(0,p.jsx)("br",{}),"with a Professional plan"]}):m?(0,p.jsxs)(p.Fragment,{children:["Add scene transitions ",(0,p.jsx)("br",{}),"with a Professional plan"]}):g?(0,p.jsxs)(p.Fragment,{children:["Apply custom music tracks ",(0,p.jsx)("br",{}),"with a Professional plan"]}):f?(0,p.jsxs)(p.Fragment,{children:["Your have reached the project limit of your current",y(),(0,p.jsx)("br",{}),"Please upgrade to create unlimited projects"]}):(0,p.jsxs)(p.Fragment,{children:["Create HD 1080p videos ",(0,p.jsx)("br",{}),"with a Professional plan"]})})}))}))},10366:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(1413),s=n(19259),a=n(605),i=n(61166),o=n(12741),c=n(47313),l=n(74165),u=n(15861),d=n(15671),p=n(43144),h=n(60136),m=n(29388),g=n(51443),f=n.n(g),v=n(92145),x=n(1084),S=n(78896),y=n(47439),b=n(96161),j=n(45610),w=n(87074),Z=n(46417),k=S.Z.getDataFromResponseId,C=S.Z.openProject,I=function(e){(0,h.Z)(n,e);var t=(0,m.Z)(n);function n(e){var s;return(0,d.Z)(this,n),(s=t.call(this,e)).getText=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(t,n,r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t,{method:"GET",headers:{"cache-control":"no-store, max-age=0"}}).then((function(e){return e.json()})).then((function(e){r(e,!0)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s.onOpenProject=function(){s.setState({isBusy:!0,openingProject:!0}),s.props.openProject(s.props.projectId,y.vY.OpenProject)},s.openProject=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(t){var n,a,i,o,c,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,f().getInstance().logEvent("saved-video-opened",{"project-name":n.projectName,"project-category":n.projectCategory}),!(n.scenes&&n.scenes.length>0)){e.next=6;break}"transcribe"===n.source?s.openTranscribeStep3(t.project_id,n):(s.setState({isBusy:!1,openingProject:!1}),a=s.props.history.location.pathname.startsWith("/".concat(j.Z.stepThree)),s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepThree,state:{reloadPage:a,reloadKey:a?Date.now():null,loadProject:!0,project_id:t.project_id,projectDetails:n,projectList:s.props.allVideos,isCanceled:!0,title:n.title?n.title:null}})),e.next=15;break;case 6:if(!n.step2TxtData){e.next=10;break}s.getText(n.step2TxtData,n.project_id,(function(e,t){var a=(0,r.Z)({},n);"transcribe"===n.source?s.openTranscribeStep2(a,e):(s.setState({isBusy:!1,openingProject:!1}),a.title=e.title,s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepTwo,state:{projectDetails:a,projectList:s.props.allVideos,step2Data:e,lines:e.summary.length,totalLines:e.text_num_sentences,isPrevious:!0,url:n.articleUrl,value:parseInt(e.summary.length/e.text_num_sentences*100),saveProjectFirst:t}}))})),e.next=15;break;case 10:return i=n.states&&n.states[0]&&n.states[0].responseId,e.next=13,s.props.getDataFromResponseId(i);case 13:(o=s.props.transcribeDataFromId)?(o=o.data,c=[],o.transcribe_sentences.map((function(e,t){var n=(0,r.Z)((0,r.Z)({},e),{},{before:null,enabled:!0,image:[e.url],keywords:[],sentence:e.sentence,sentence_index:t,"sub-sentences":[e.sentence],type:"summary",isSelected:!0});c.push(n)})),(u=(0,r.Z)((0,r.Z)({},n),{},{title:n.projectName})).transcribe_sentences=o.transcribe_sentences,u.speakers=o.speakers,u.selectedSentences=c,s.setState({isBusy:!1,openingProject:!1}),s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepTwo,state:{projectDetails:u,projectList:s.props.allVideos,step2Data:o,lines:0,totalLines:20,isPrevious:!0,saveProjectFirst:!0,url:u.articleUrl,value:0}})):s.setState({isActive:!1},(function(){(0,b.JQ)("Transcription is still under process")}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.openTranscribeStep3=function(e,t){t.step2TxtData&&s.getText(t.step2TxtData,t.project_id,(function(n,r){if(n.summaryResponse){s.setState({isBusy:!1,openingProject:!1});var a=s.props.history.location.pathname.startsWith("/".concat(j.Z.stepThree));s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepThree,state:{reloadPage:a,reloadKey:a?Date.now():null,loadProject:!0,project_id:e,projectDetails:t,projectList:s.props.allVideos,isCanceled:!0,title:t.title?t.title:null,originalText:n.summaryResponse.text,summaryText:n.summaryResponse.html,imageURL:[],articleImages:n.summaryResponse.images,isPrevious:!1,isSummaryOff:!1,lines:n.lines,totalLines:n.totalLines,value:n.value,metaDescription:n.summaryResponse.meta_description,articleKeywords:n.summaryResponse.article_keywords,step2Data:n.summaryResponse,selectedSentences:n.selectedSentences,transcribe_sentences:n.transcribe_sentences,isSubtitleEnabled:n.project.isSubtitleEnabled,isRemoveFillers:n.project.isRemoveFillers,isSummarized:n.project.isSummarized,summarizePercent:n.project.summarizePercent}})}else{s.setState({isBusy:!1,openingProject:!1});var i=s.props.history.location.pathname.startsWith("/".concat(j.Z.stepThree));s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepThree,state:{reloadPage:i,reloadKey:i?Date.now():null,loadProject:!0,project_id:e,projectDetails:t,projectList:s.props.allVideos,isCanceled:!0,title:t.title?t.title:null}})}}))},s.openTranscribeStep2=function(e,t){var n;t.summaryResponse?e.title=t.summaryResponse.title:e.title=t.title,t.transcribe_sentences&&(e.transcribe_sentences=t.transcribe_sentences),t.selectedSentences&&(e.selectedSentences=t.selectedSentences),e.speakers=t.speakers||(null===(n=t.summaryResponse)||void 0===n?void 0:n.speakers),t.summaryResponse?(s.setState({isBusy:!1,openingProject:!1}),s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepTwo,state:{projectDetails:e,projectList:s.props.allVideos,step2Data:t.summaryResponse,lines:t.lines,totalLines:t.totalLines,isPrevious:!0,url:e.articleUrl,value:t.value,saveProjectFirst:!0}})):(s.setState({isBusy:!1,openingProject:!1}),s.props.history.push({pathname:w.Z.BaseURL+j.Z.stepTwo,state:{projectDetails:e,projectList:s.props.allVideos,step2Data:t,lines:t.summary?t.summary.length:1,totalLines:t.text_num_sentences?t.text_num_sentences:1,isPrevious:!0,url:e.articleUrl,value:parseInt((t.summary?t.summary.length:1)/(t.text_num_sentences?t.text_num_sentences:1)*100),saveProjectFirst:!0}}))},s.state={},s}return(0,p.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.state.openingProject&&(!0===this.props.openingProject&&null===this.props.activeProject&&!1===e.openingProject&&null!==e.activeProject?this.openProject(e.activeProject):e.projectOpenError&&this.props.projectOpenError!==e.projectOpenError&&((0,b.x2)("Project could not be opened. Please contact support."),this.setState({isBusy:!1,openingProject:!1}),this.props.projectOpenCallBack&&this.props.projectOpenCallBack()))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t={onClick:function(){e.onOpenProject()},openingProject:this.state.openingProject};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{active:this.state.isBusy,spinner:!0,text:"Please wait..."}),this.props.render(t)]})}}]),n}(c.Component),T=(0,x.$j)((function(e){return{allVideos:e.myVideos.allVideos.videos,transcribeDataFromId:e.transcriptionSummary.transcribeDataFromId,projectOpenError:e.myVideos.projectOpenError,activeProject:e.myVideos.activeProject,openingProject:e.myVideos.openingProject}}),{getDataFromResponseId:k,openProject:C})(I),E=function(e){var t=e.history,n=e.projectId,c=e.show,l=e.error,u=e.onClose,d=e.title,p=void 0===d?"Video generation failed!":d;return c?(0,Z.jsx)(i.default,{icon:(0,Z.jsx)(s.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:!0,title:p||"Video generation failed!",message1:function(){if(!l||!l.error_code)return"A system error occurred.";switch(l.error_code){case"BACKGROUND_VISUALS_DOWNLOAD_FAILED":case"BACKGROUND_VISUALS_RATE_LIMIT_REACHED":case"NO_AUDIO_IN_VIDEO":case"SCENE_BACKGROUND_VIDEO_NOT_FOUND":case"NOT_ABLE_TO_LOAD_SCENE_RESOURCES":case"SCENE_TIME_OUT":case"SCENE_GENERATION_TIMEOUT":return"An error has occured on ".concat(l.scene,":");case"SYSTEM_EXCEPTION":return l.scene&&l.scene>0?"A system error has occured on ".concat(l.scene,":"):"A system error has occured";case"TOO_LONG_SENTENCE":return"Text on a scene is too long for AI voice over.";default:return"A system error occurred."}}(),message2:function(){if(l&&l.error_code)switch(l.error_code){case"BACKGROUND_VISUALS_DOWNLOAD_FAILED":return"Background visual failed to load";case"BACKGROUND_TRACK_DOWNLOAD_FAILED":return"Background music failed to load";case"BACKGROUND_VISUALS_RATE_LIMIT_REACHED":return"Could not process scene due to heavy load.";case"NO_AUDIO_IN_VIDEO":return"Could not read audio from the video";case"SCENE_BACKGROUND_VIDEO_NOT_FOUND":return"Background video not found";case"NOT_ABLE_TO_LOAD_SCENE_RESOURCES":return"Either element or uploaded visual on the scene could be broken";case"VIDEO_CLIPS_TRANSITION_FAILED":return"Could not able to generate video with scene transitions";case"SCENE_TIME_OUT":return"Scene generation timed out";case"SCENE_GENERATION_TIMEOUT":return"Could not able to allocate resources";case"VIDEO_TRANSITIONS_TIME_OUT":return"Adding scene transitions timed out.";case"APPLY_SCENE_TRANSITIONS_TIMEOUT":return"Resources not available for adding scene transitons";case"SYSTEM_OUT_OF_MEMORY_ERROR":return l.scene&&l.scene>0?"System ran out of memory while rendering scene ".concat(l.scene):"System ran out of memory while rendering video";case"SYSTEM_EXCEPTION":return l.scene&&l.scene>0?"A system error occurred while rendering":"A system error occurred.";case"TOO_LONG_SENTENCE":return(0,Z.jsx)(Z.Fragment,{children:l.sentence&&l.sentence.split("\n").reduce((function(e,t){return t&&e.push((0,Z.jsx)("p",{children:t})),e}),[])});default:return"<></>"}}(),message2Title:"",message2Icon:(0,Z.jsx)(o.Z,{color:"error"}),remedies:function(){if(l&&l.error_code)switch(l.error_code){case"BACKGROUND_VISUALS_DOWNLOAD_FAILED":return"Please replace the visual and try again.";case"BACKGROUND_TRACK_DOWNLOAD_FAILED":return"Please replace the background music and try again.";case"BACKGROUND_VISUALS_RATE_LIMIT_REACHED":return"Please try video generation after sometime.";case"NO_AUDIO_IN_VIDEO":return"Please correct the video encoding and try again.";case"SCENE_BACKGROUND_VIDEO_NOT_FOUND":return"Please change the background video and try again.";case"NOT_ABLE_TO_LOAD_SCENE_RESOURCES":return"Please replace the broken element and try again.";case"SCENE_TIME_OUT":case"VIDEO_TRANSITIONS_TIME_OUT":return"Please try again.";case"SCENE_GENERATION_TIMEOUT":case"APPLY_SCENE_TRANSITIONS_TIMEOUT":return"Please try after sometime.";case"TOO_LONG_SENTENCE":return"Please add periods (.) or rephrase your text into shorter sentences.";default:return(0,Z.jsx)(Z.Fragment,{})}}(),primaryButtonLabel:n?null:"Close",primaryButtonOnClick:u,actionButtons:n?function(){return(0,Z.jsx)(T,{history:t,projectId:n,render:function(e){return(0,Z.jsx)(a.Z,(0,r.Z)((0,r.Z)({disabled:!0===e.openingProject,variant:"contained",sx:{backgroundColor:"grey.500",color:"grey.0",boxShadow:"none","&:hover":{backgroundColor:"grey.700"}}},e),{},{children:e.openingProject?"Opening project...":"Go to project"}))},projectOpenCallBack:u})}:null,showCloseIcon:!!n}):(0,Z.jsx)(Z.Fragment,{})}},50096:function(e,t,n){"use strict";var r=n(1413),s=n(4942),a=n(74165),i=n(15861),o=n(15671),c=n(43144),l=n(60136),u=n(29388),d=n(80699),p=n(605),h=n(42669),m=n(92484),g=n(24873),f=n(34207),v=n(82821),x=n(62463),S=n(51443),y=n.n(S),b=(n(17999),n(40009)),j=n(54034),w=n(76666),Z=n.n(w),k=n(16031),C=n.n(k),I=n(70816),T=n.n(I),E=n(47313),A=n(1084),_=n(28303),R=n(3643),P=n(78896),N=n(91104),O=n(47439),D=n(45610),U=(n(79155),n(61382),n(87074)),L=n(48502),F=n(46417),V=P.Z.updateCard,B=P.Z.updateCustomer,M=P.Z.getCurrentSubscription,G=P.Z.cancelSubscription,W=P.Z.showAlertNotificationRequest,z=P.Z.getScheduledChangesRequest,J=P.Z.getTeamsRequest,H=["non_renewing","non-renewing","cancelled","canceled","cancelled_from_dunning"],K=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var c;return(0,o.Z)(this,n),(c=t.call(this,e)).isCurrentUserTeamAdmin=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,o,l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,s=!1,e.prev=2,e.next=5,c.props.getTeamsRequest();case 5:r=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:return r&&(null===(i=r.teamsResult)||void 0===i||null===(o=i.Items)||void 0===o?void 0:o.length)>0&&(l=r.teamsResult.Items,(u=l.filter((function(e){return e.teamId==n})))&&u.length>0&&(s=u[0].adminUserEmail==t)),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),c.editCard=function(e){y().getInstance().logEvent("credit-card-updated"),e.preventDefault(),c.setState({isActive:!0});var t=(0,N.we)(c.props.user.username),n=t.subscription_id,r=c.props.user.username,s=null;"chargebee"==t.data.organization_id&&(s=t.customer_id),c.props.updateCard({subId:n,userId:r,redirectURL:{payment_success_redirect_url:(0,N.rv)(D.Z.userSettings)},customer_id:s})},c.onChange=function(e){c.setState((0,s.Z)({},e.target.name,e.target.value))},c.onSumbit=function(e){e.preventDefault();var t=(0,N.we)(c.props.user.username);c.setState({isActive:!0});var n={};t&&null!=t&&!C().isEmpty(t)&&t.data&&(n={display_name:t.data.display_name,first_name:t.data.first_name,last_name:t.data.last_name,company_name:t.data.company_name,phone:t.data.phone});var s=(0,r.Z)((0,r.Z)({},n),{},{billing_address:{street:c.state.streetBilling,city:c.state.cityBilling,state:c.state.stateBilling,country:c.state.countryBilling,zip:c.state.zipBilling},shipping_address:{street:c.state.streetShipping,city:c.state.cityShipping,state:c.state.stateShipping,country:c.state.countryShipping,zip:c.state.zipShipping}});c.props.updateCustomer({userId:c.props.user.username,postData:s})},c.duplicatedAddress=function(e){c.setState({checked:!c.state.checked},(function(){c.state.checked&&c.setState({streetShipping:c.state.streetBilling,cityShipping:c.state.cityBilling,stateShipping:c.state.stateBilling,countryShipping:c.state.countryBilling,zipShipping:c.state.zipBilling})}))},c.showSubscriptionCancelModal=function(e){e.stopPropagation(),Z()("#subscription-cancel-modal").modal("show"),document.body.appendChild(document.getElementById("subscription-cancel-modal"))},c.hideSubscriptionCancelModal=function(e){e&&e.stopPropagation(),Z()("#subscription-cancel-modal").modal("hide")},c.checkOtherReasonCheckbox=function(e){e.stopPropagation(),Z()("#other-reasons-checkbox").attr("checked",!0)},c.cancelSub=function(){var e=(0,N.we)(c.props.user.username);c.setState({loading:!0}),y().getInstance().logEvent("cancel-subscription"),c.props.cancelSubscription({subId:e.subscription_id,userId:c.props.user.username})},c.renderCancelButton=function(e){var t=!1;return e&&e.status!==O.yG.non_renewing&&e.status!==O.yG.non_renewing2&&e.status!==O.yG.canceled&&e.status!==O.yG.cancelled&&e.plan.plan_code!==O.yj.freeTrial&&e.plan.plan_code!==O.yj.teamsFreeTrial&&(t=!0),!0===t&&1==c.state.isTeamPlan&&0==c.state.isAdminAndTeamOwner?(0,F.jsx)(d.Z,{title:"Only admin can make changes to the purchase of Teams plan",arrow:!0,children:(0,F.jsx)("div",{style:{cursor:"not-allowed",display:"inline-block"},children:(0,F.jsx)(p.Z,{variant:"standard",sx:{backgroundColor:"grey.300"},disabled:!0,children:"Cancel"})})}):1==t?(0,F.jsx)(p.Z,{variant:"standard",sx:{color:"#ff0000",textTransform:"unset"},onClick:function(){return c.renderCancelDialog()},children:"Cancel"}):""},c.renderUpdateButton=function(e){var t=!0;return e.status!==O.yG.non_renewing&&e.status===O.yG.non_renewing2&&e.status!==O.yG.canceled&&e.status!==O.yG.cancelled||(t=!1,e.plan.plan_code!==O.yj.freeTrial&&e.plan.plan_code!==O.yj.teamsFreeTrial&&(t=!0)),1==c.state.isTeamPlan&&0==c.state.isAdminAndTeamOwner?(0,F.jsx)(d.Z,{title:"Only admin can make changes to the purchase of Teams plan",arrow:!0,children:(0,F.jsx)("div",{style:{cursor:"not-allowed",display:"inline-block"},children:(0,F.jsx)(p.Z,{variant:"outlined",sx:{backgroundColor:"grey.300",textTransform:"unset"},disabled:!0,children:t?"Upgrade":"Buy"})})}):(0,F.jsx)(p.Z,{variant:"outlined",sx:{textTransform:"unset"},onClick:function(){return c.props.history.push("/"+D.Z.plansList)},children:t?"Upgrade":"Buy"})},c.renderCancelDialog=function(){c.setState({beginCancelSubscription:!0})},c.onCloseCancelSubscription=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result;if(t)switch(t){case"SUBSCRIPTION_CANCELLED":c.props.showAlertNotification({showAlert:!0,alertTitle:"Subscription is cancelled",alertMessage:"Your subscription plan has been cancelled!",alertSeverity:"error"});break;case"SUBSCRIPTION_HIBERNATED":c.props.showAlertNotification({showAlert:!0,alertTitle:"Subscription plan changed",alertMessage:"Account has been paused.",alertSeverity:"success"});break;case"SUBSCRIPTION_HELP_SEND":c.props.showAlertNotification({showAlert:!0,alertTitle:"Subscription help email sent.",alertMessage:"An email has been sent to Pictory support to help with your subscription.",alertSeverity:"info"});break;case"DISCOUNT_APPLIED":c.props.showAlertNotification({showAlert:!0,alertTitle:"20% discount applied",alertMessage:"The subscription plan is updated with a special 20% discount.",alertSeverity:"success"});break;case"DISCOUNT_ALREADY_APPLIED":c.props.showAlertNotification({showAlert:!0,alertTitle:"20% discount already applied",alertMessage:"A special 20% discount is already applied to the subscription plan. Our support team will reach out to you.",alertSeverity:"warning"})}c.setState({beginCancelSubscription:!1})},c.state={cardDetails:{},user:{},checked:!1,beginCancelSubscription:!1},c}return(0,c.Z)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.hostedPageURL!==e.hostedPageURL&&(this.setState({isActive:!1}),this.props.history.push({pathname:U.Z.BaseURL+D.Z.payment,state:{hostedPage:e.hostedPageURL}})),this.props.updateCustomerDetails.isChanged!=e.updateCustomerDetails.isChanged&&(this.setState({isActive:!1}),this.props.getCurrentSubscription(this.props.user.username),this.props.redirect())}},{key:"componentDidMount",value:function(){var e=this,t=(0,N.we)(this.props.user.username);t&&!C().isEmpty(t)&&(this.setState({fetchingScheduledChanges:!0}),this.props.getScheduledChanges(t.subscription_id),this.setState({cardDetails:t.card?t.card:{}}),C().map(t.billing_address,(function(t,n){e.setState((0,s.Z)({},"".concat(n,"Billing"),t))})),C().map(t.shipping_address,(function(t,n){e.setState((0,s.Z)({},"".concat(n,"Shipping"),t))})))}},{key:"componentWillMount",value:function(){var e=this;b.g.currentAuthenticatedUser().then(function(){var t=(0,i.Z)((0,a.Z)().mark((function t(n){var r,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!1,!(s=(0,N.E3)())){t.next=6;break}return t.next=5,e.isCurrentUserTeamAdmin(n.attributes.email,s);case 5:r=t.sent;case 6:e.setState({isAdminAndTeamOwner:r,isTeamPlan:!!s});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentDidUpdate",value:function(e,t,n){this.onGetScheduledChangesResultChanged(e)}},{key:"onGetScheduledChangesResultChanged",value:function(e){this.props.getScheduledChangesResult&&this.props.getScheduledChangesResult!==e.getScheduledChangesResult&&this.setState({fetchingScheduledChanges:!1})}},{key:"render",value:function(){var e=this,t=this.state.cardDetails,n=(0,N.we)(this.props.user.username),r=n?"months"===n.interval_unit:"",s=!1,a=!1,i=!1;if(n){if(s=n.plan.plan_code===O.yj.freeTrial||n.plan.plan_code===O.yj.teamsFreeTrial){var o=T()().startOf("day");if(n.current_term_ends_at){var c=T()(n.current_term_ends_at,"YYYY-MM-DD");T().duration(c.diff(o)).asDays()<0&&(i=!0)}}a=H.includes(n.status&&n.status.toLowerCase())}return(0,F.jsxs)(_.VK,{forceRefresh:!0,children:[this.state.beginCancelSubscription&&(0,F.jsx)(j.CancelSubscription,{user:this.props.user,opened:this.state.beginCancelSubscription,onClose:this.onCloseCancelSubscription,redirect:this.props.redirect}),(0,F.jsxs)("form",{onSubmit:this.onSumbit,className:"vertical",children:[(0,F.jsx)(h.Z,{variant:"h5a_resp",sx:{m:"10px 20px 0px 20px"},children:"Subscription plan"}),(0,F.jsx)(m.Z,{sx:{display:"block",height:this.props.scheduledSubscription?"220px":"170px",m:"10px 20px"},children:(0,F.jsx)(g.Z,{sx:{display:"flex",flexDirection:"column",height:"100%",alignItems:this.state.fetchingScheduledChanges?"center":"unset",justifyContent:this.state.fetchingScheduledChanges?"center":"unset"},children:this.state.fetchingScheduledChanges?(0,F.jsx)(f.Z,{}):this.props.scheduledSubscription?(0,F.jsxs)(v.Z,{sx:{flex:"1 0 auto"},children:[(0,F.jsx)(h.Z,{variant:"h5b",children:null!=n&&n.plan?(0,N.Gz)(n.plan.name):""}),(0,F.jsxs)(h.Z,{variant:"body3_resp",component:"p",children:["Active until"," ",(0,F.jsx)("span",{className:"black",children:T()(null==n?void 0:n.current_term_ends_at).format("DD MMM YYYY")})]}),(0,F.jsx)("br",{}),(0,F.jsx)(h.Z,{variant:"h5b",children:(0,N.Gz)(this.props.scheduledSubscription.plan.name)}),(0,F.jsxs)(h.Z,{variant:"body3_resp",component:"p",children:["months"===this.props.scheduledSubscription.interval_unit?"$".concat((this.props.scheduledSubscription.amount||0).toString(),"/user/month, billed monthly"):"$".concat((this.props.scheduledSubscription.amount/12).toFixed(2),"/user/month, billed yearly"),(0,F.jsx)("br",{}),(0,F.jsxs)(F.Fragment,{children:["Will be activated on"," ",(0,F.jsx)("span",{className:"black",children:T()(this.props.scheduledSubscription.current_term_ends_at).format("DD MMM YYYY")})]})]}),(0,F.jsxs)(x.Z,{direction:"row",spacing:2,sx:{mt:"1rem"},children:[!(0,L.jG)(null==n?void 0:n.plan.plan_code)&&(0,F.jsx)(p.Z,{variant:"outlined",sx:{textTransform:"unset"},onClick:function(){return e.props.history.push("/"+D.Z.plansList)},children:"Upgrade"}),1==this.state.isTeamPlan&&0==this.state.isAdminAndTeamOwner?"":n&&!a&&!1===s?(0,F.jsx)(p.Z,{variant:"standard",sx:{color:"#ff0000",textTransform:"unset"},onClick:function(){return e.renderCancelDialog()},children:"Cancel subscription"}):""]})]}):(0,F.jsxs)(v.Z,{sx:{flex:"1 0 auto"},children:[(0,F.jsxs)(h.Z,{variant:"h5b",component:"p",children:[n?(0,N.WE)(n.plan.plan_code):""," ",(0,F.jsx)(h.Z,{variant:"body3_resp",children:n.status!==O.yG.non_renewing&&n.status!==O.yG.non_renewing2||!1!==s?"":" - Cancelled"})]}),!(0,L.jG)(null==n?void 0:n.plan.plan_code)&&(0,F.jsxs)(h.Z,{variant:"body3_resp",component:"p",children:["$",r?null==n?void 0:n.amount.toFixed(2):((null==n?void 0:n.amount)/12).toFixed(2),s?"/user":r?"/user/month, billed monthly":"/user/month, billed yearly",(0,F.jsx)("br",{}),n&&n.status!==O.yG.non_renewing&&n.status!==O.yG.non_renewing2&&n.status!==O.yG.canceled&&n.status!==O.yG.cancelled&&!1===s?(0,F.jsxs)(F.Fragment,{children:["Auto renews on"," ",(0,F.jsx)("span",{className:"black smaller-font",children:T()(n.next_billing_at).format("DD MMM YYYY")})]}):"",!n||n.status!=O.yG.non_renewing&&n.status!=O.yG.non_renewing2||i?"":(0,F.jsxs)(F.Fragment,{children:["You can access the product till"," ",(0,F.jsx)("span",{className:"black",children:T()(n.current_term_ends_at).format("DD MMM YYYY")})]}),n&&n.status!==O.yG.expired&&n.expires_at&&n.plan.plan_code===O.yj.freeTrial?(0,F.jsxs)(F.Fragment,{children:["Your trial will be expired at"," ",(0,F.jsx)("span",{className:"black",children:T()(n.expires_at?n.expires_at:"").format("DD MMM YYYY")})]}):"",n&&(n.status===O.yG.expired&&n.expires_at||i)&&s?(0,F.jsxs)(F.Fragment,{children:["Your trial expired on"," ",(0,F.jsx)("span",{className:"black",children:n.expires_at?T()(n.expires_at).format("DD MMM YYYY"):n.current_term_ends_at?T()(n.current_term_ends_at).format("DD MMM YYYY"):""})]}):"",(0,F.jsx)("br",{})]}),(0,F.jsxs)(x.Z,{direction:"row",spacing:2,sx:{mt:"1rem"},children:[n&&!(0,L.jG)(null==n?void 0:n.plan.plan_code)&&this.renderUpdateButton(n),n&&this.renderCancelButton(n)]})]})})}),(null==n?void 0:n.plan.plan_code)===O.yj.freeTrial||n.plan.plan_code===O.yj.teamsFreeTrial||(0,L.jG)(null==n?void 0:n.plan.plan_code)?"":(0,F.jsx)(m.Z,{sx:{display:"block",height:"200px",m:"10px 20px"},children:(0,F.jsx)(g.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,F.jsxs)(v.Z,{sx:{flex:"1 0 auto"},children:[(0,F.jsx)(h.Z,{variant:"h5b",children:"Card details"}),(0,F.jsxs)(x.Z,{direction:"row",sx:{mt:"10px"},children:[(0,F.jsxs)(x.Z,{direction:"row",sx:{marginRight:"30px",width:"180px"},children:[(0,F.jsx)("input",{style:{border:0,borderBottom:"1px solid grey",p:0,width:"5ch"},type:"text",readOnly:!0,value:"****"}),(0,F.jsx)("input",{style:{border:0,borderBottom:"1px solid grey",p:0,width:"5ch"},type:"text",readOnly:!0,value:"****"}),(0,F.jsx)("input",{style:{border:0,borderBottom:"1px  solid grey",p:0,width:"5ch"},type:"text",readOnly:!0,value:"****"}),(0,F.jsx)("input",{style:{border:0,borderBottom:"1px  solid grey",p:0,width:"8ch"},type:"text",readOnly:!0,value:t.last_four_digits})]}),(0,F.jsxs)(x.Z,{direction:"row",sx:{marginRight:"30px",width:"100px"},children:[(0,F.jsx)("input",{type:"text",readOnly:!0,style:{border:0,borderBottom:"1px  solid grey",p:0,width:"3ch"},value:t.expiry_month}),(0,F.jsx)("span",{children:" / "}),(0,F.jsx)("input",{type:"text",readOnly:!0,style:{border:0,borderBottom:"1px  solid grey",p:0,width:"5ch"},value:t.expiry_year})]}),(0,F.jsx)("input",{type:"text",value:"***",readOnly:!0,style:{border:0,borderBottom:"1px  solid grey",p:0,width:"4ch"}})]}),(0,F.jsxs)(x.Z,{direction:"row",sx:{mt:"10px"},children:[(0,F.jsx)("label",{style:{marginRight:"30px",width:"180px",color:"#888888"},children:"Credit card number"}),(0,F.jsx)("label",{style:{marginRight:"30px",width:"100px",color:"#888888"},children:"Exp date"}),(0,F.jsx)("label",{style:{color:"#888888"},children:"CVV"})]}),(0,F.jsx)(p.Z,{variant:"outlined",sx:{mt:"1rem"},onClick:this.editCard,children:"Edit card"})]})})}),(0,F.jsxs)("div",{className:"my-info-section ",style:{margin:"10px 20px"},children:[(0,F.jsx)("h3",{className:"info-header",children:"Invoice email ID"}),(0,F.jsx)("div",{className:"input-field",style:{maxWidth:"60ch",color:"black",border:0,borderBottom:"1px solid lightgrey",marginTop:"0px",fontSize:"14px"},children:(0,F.jsxs)("span",{children:[" ",this.props.user&&this.props.user.attributes?this.props.user.attributes.email:"",this.props.email?this.props.email:""]})})]}),(0,F.jsx)("div",{className:"my-info-section mt-4 mb-4"})]}),(0,F.jsx)("div",{id:"subscription-cancel-modal",className:"confirmation-dialog negative modal fade",role:"dialog",children:(0,F.jsx)("div",{className:"modal-dialog",children:(0,F.jsx)("div",{className:"modal-content",children:(0,F.jsxs)("div",{className:"modal-body",children:[(0,F.jsx)("h4",{className:"blue",children:"Cancel subscription?"}),(0,F.jsx)("p",{children:"Reasons to cancel my subscription"}),(0,F.jsxs)("div",{className:"checkbox-container",children:[(0,F.jsx)("div",{className:"checkbox",children:(0,F.jsxs)("label",{children:[(0,F.jsx)("input",{type:"checkbox",value:""}),"Price is too high"]})}),(0,F.jsx)("div",{className:"checkbox",children:(0,F.jsxs)("label",{children:[(0,F.jsx)("input",{type:"checkbox",value:""}),"Not satisfied with the product"]})}),(0,F.jsx)("div",{className:"checkbox",children:(0,F.jsxs)("label",{children:[(0,F.jsx)("input",{type:"checkbox",value:"",id:"other-reasons-checkbox"}),(0,F.jsx)("input",{type:"text",placeholder:"Other reasons",className:"naked",onClick:this.checkOtherReasonCheckbox.bind(this)})]})})]}),(0,F.jsxs)("div",{className:"buttons-container",children:[(0,F.jsx)("a",{type:"button",className:"btn btn-default upgrade-button header-links",onClick:this.hideSubscriptionCancelModal,children:"No"}),(0,F.jsx)("button",{className:"upgrade-button button",onClick:this.cancelSub,children:"Yes, cancel"})]})]})})})})]})}}]),n}(E.Component);t.Z=(0,A.$j)((function(e){return{hostedPageURL:e.subscription.upgradePlan.hostedPageURL,updateCustomerDetails:e.subscription.updateCustomer.data,cancelSubStatus:e.subscription.cancelSubStatus,getScheduledChangesResult:e.subscription.getScheduledChangesResult,scheduledSubscription:e.subscription.scheduledSubscription}}),{updateCard:V,updateCustomer:B,getCurrentSubscription:M,cancelSubscription:G,showAlertNotification:W,getScheduledChanges:z,getTeamsRequest:J})((0,R.EN)(K))},48502:function(e,t,n){"use strict";n.d(t,{_h:function(){return xe},ZP:function(){return Fe},jG:function(){return De}});var r,s=n(93433),a=n(4942),o=n(30168),c=n(1413),l=n(74165),u=n(15861),d=n(15671),p=n(43144),h=n(60136),m=n(29388),g=n(24873),v=n(80699),x=n(605),S=n(75958),y=n(62463),b=n(42669),j=n(82315),w=n(79136),Z=n(18104),k=n(20777),C=n(2517),I=n(40009),T=n(76666),E=n.n(T),A=n(16031),_=n.n(A),R=n(70816),P=n.n(R),N=n(47313),O=(n(16390),n(92145)),D=n(1084),U=n(78896),L=n(45610),F=n(87074),V=n(52740),B=n(8586),M=n(90119),G=n(51443),W=n.n(G),z=n(91104),J=n(90794),H=n(47439),K=n(43794),q=n(33834),Y=n(47196),Q=n(49664),X=n(19259),$=n(93012),ee=n(14108),te=n(51690),ne=n(96161),re=n(28303),se=(n(76045),n(29439)),ae=n(45987),ie=n(10383),oe=n(88905),ce=n(81962),le=n(46417),ue=["open","currentPlan","updateAddon","removeAddon","onClose","username","scheduledElevenlabsMins"];!function(e){e[e.upgrade=0]="upgrade",e[e.downgrade=1]="downgrade",e[e.current=2]="current"}(r||(r={}));var de,pe,he,me,ge,fe,ve=function(e){var t=e.open,n=e.currentPlan,s=e.updateAddon,a=e.removeAddon,i=e.onClose,o=e.username,c=e.scheduledElevenlabsMins,l=((0,ae.Z)(e,ue),function(){var e,t=null==n?void 0:n.plan_code,r=(null==t?void 0:t.toLowerCase().includes("annual"))||(null==t?void 0:t.toLowerCase().includes("app_sumo_pictory_tier"));return(0,z.hk)(t)===z.nX.starter?e=r?z.JX:z.ze:(0,z.hk)(t)===z.nX.professional?e=r?z.Df:z.dk:(0,z.hk)(t)===z.nX.appSumo?e=z.JX:(0,z.hk)(t)===z.nX.team&&(e=r?z.XX:z.kU),e}()),u=(0,N.useState)(0),d=(0,se.Z)(u,2),p=d[0],h=d[1],m=(0,N.useState)(0),f=(0,se.Z)(m,2),v=f[0],S=f[1],j=(0,N.useState)(0),w=(0,se.Z)(j,2),k=w[0],I=w[1],T=(0,N.useState)("Total minutes with add on"),E=(0,se.Z)(T,2),A=E[0],_=E[1],R=(0,z.hk)(null==n?void 0:n.plan_code)===z.nX.professional&&120===p||(0,z.hk)(null==n?void 0:n.plan_code)===z.nX.team&&240===p||((0,z.hk)(null==n?void 0:n.plan_code)===z.nX.starter||(0,z.hk)(null==n?void 0:n.plan_code)===z.nX.appSumo)&&0===p;(0,N.useEffect)((function(){if(o){var e,t,n,r,s=(0,z.we)(o);h(((null==s||null===(e=s.data)||void 0===e||null===(t=e.plan)||void 0===t||null===(n=t.features)||void 0===n||null===(r=n.video)||void 0===r?void 0:r.totalTextToSpeechDurationPerMonth)||0)/60)}}),[o]),(0,N.useEffect)((function(){var e=(null==l?void 0:l.length)>0?l.findIndex((function(e){return(null==e?void 0:e.duration)===p})):-1;if(e>=0){var t=e<l.length-1?e+1:e;S(l[t].duration),P(l[t].duration)}else(null==l?void 0:l.length)>0&&(S(l[0].duration),P(l[0].duration))}),[p]);var P=function(e){e>p?(I(r.upgrade),_("Total minutes after upgrade")):e<p?(I(r.downgrade),_("Total minutes after downgrade")):(I(r.current),_("Total minutes with add on")),S(e)};return(0,le.jsx)(C.Z,{open:t,onClose:i,maxWidth:"sm",PaperProps:{sx:{maxWidth:"431px",height:"431px",overflow:"hidden",borderRadius:"12px"}},children:(0,le.jsxs)(g.Z,{className:"add-on-banner-elevenlabs",children:[(0,le.jsx)("img",{src:"images/add-on-banner-elevenlabs.png"}),(0,le.jsx)(Z.Z,{onClick:i,sx:{position:"absolute",right:"10px",top:"17px"},children:(0,le.jsx)(B.Z,{})}),(0,le.jsxs)(y.Z,{direction:"column",spacing:2,sx:{padding:"24px"},children:[p>0&&(0,le.jsxs)(b.Z,{variant:"text_sm",sx:{display:"flex"},children:["Your plan currently has"," ",(0,le.jsxs)(b.Z,{variant:"text_sm",sx:{fontWeight:"600",marginLeft:"6px"},children:[p," minutes per month"]})]}),(0,le.jsxs)(g.Z,{sx:{border:"1px solid #D1D1DB",borderRadius:"8px"},children:[(0,le.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"17px",borderBottom:"1px solid #D1D1DB"},children:[(0,le.jsx)(b.Z,{sx:{width:"40%"},variant:"text_sm",children:"Premium AI Voices"}),(0,le.jsx)(ie.Z,{sx:{m:1,width:"max-content"},variant:"standard",className:"modal-minute-selector",children:(0,le.jsx)(oe.Z,{defaultValue:v,onChange:function(e){var t;P(null==e||null===(t=e.target)||void 0===t?void 0:t.value)},children:null==l?void 0:l.map((function(e){return(0,le.jsxs)(ce.Z,{value:e.duration,sx:{display:"flex",justifyContent:"space-between"},onChange:function(){S(e.duration)},selected:e.duration===p,children:[(0,le.jsxs)(b.Z,{variant:"text_sm",sx:{},children:[e.duration," mins"]}),(0,le.jsx)(b.Z,{variant:"text_sm",sx:{marginLeft:"18px"},children:e.duration===p?"Current Plan":e.duration===c?"Scheduled":e.price})]})}))})})]}),(0,le.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"17px",height:"45px",backgroundColor:"#F7F7F8"},children:[(0,le.jsx)(b.Z,{sx:{width:"50%"},variant:"text_sm",children:A}),(0,le.jsxs)(b.Z,{variant:"text_sm",sx:{marginRight:"17px",fontWeight:"600"},children:[v," mins/mo"]})]})]}),(0,le.jsx)(x.Z,{variant:"contained",disabled:k===r.current||c===v,sx:{backgroundColor:"#5939A2",width:"100%",height:"40px"},onClick:function(){s(z.n$.elevenLabs,n,!0,v,p)},children:p>0?k===r.upgrade?"Upgrade Add-on":k===r.downgrade?"Downgrade Add-on":"Current Plan":"Buy Add-on"}),(0,le.jsxs)(b.Z,{variant:"text_xs",sx:{color:"#6C6C6C"},children:["You will be charged for your selections on a recurring basis, according to your primary plan's billing cycle.",(0,le.jsx)(x.Z,{variant:"text",onClick:a,disabled:R,className:R?"disable":"",sx:{padding:"0",marginTop:"-4px",marginLeft:"5px","&:hover":{backgroundColor:"transparent"}},children:(0,le.jsx)(b.Z,{variant:"text_xs",sx:{color:"#6C6C6C",textDecoration:"underline"},children:"Remove Add-on"})})]})]})]})})},xe="Appsumo",Se="default",ye=(U.Z.getTeamsRequest,W().getInstance()),be=[{name:"Tier 1",plan_code:"app_sumo_pictory_tier1",plan_code_type:"Appsumo",price:"$59",orig_price:"$588",price_feature:"One time purchase"},{name:"Tier 2",plan_code:"app_sumo_pictory_tier2",plan_code_type:"Appsumo",price:"$119",orig_price:"$1176",price_feature:"One time purchase"},{name:"Tier 3",plan_code:"app_sumo_pictory_tier3",plan_code_type:"Appsumo",price:"$259",orig_price:"$2352",price_feature:"One time purchase"}],je=[{index:1,desc:"<span>1.5M+ Storyblocks visuals</span>",isHtml:!0},{index:2,desc:"<span>34 standard voices</span>",isHtml:!0},{index:3,desc:"<span>30 videos/month</span>",isHtml:!0},{index:4,desc:"<span>Up to 10 minutes text-to-video</span>",isHtml:!0},{index:5,desc:"<span>10 hrs of video transcription/month</span>",isHtml:!0},{index:6,desc:"<span>1 custom Brand Kit</span>",isHtml:!0},{index:7,desc:"<span>5000 music tracks</span>",isHtml:!0},{index:8,desc:"<span>Video formats - 16:9, 1:1, 9:16</span>",isHtml:!0}],we=[{index:1,desc:"<span>10M+ Storyblocks and <b>Getty</b> visuals</span>",isHtml:!0},{index:2,desc:"<span>48 hyper-realistic AI voices by <b>Elevenlabs</b></span>",isHtml:!0},{index:3,desc:"<span>Automatic voiceover synchronization</span>",isHtml:!0},{index:4,desc:"<span>20 hrs of video transcription/month</span>",hasInfoToolTip:!0,isHtml:!0},{index:5,desc:"<span>15000 music tracks</span>",isHtml:!0},{index:6,desc:"<span>5 custom Brand Kits</span>",isHtml:!0},{index:7,desc:"<span>60 standard voices</span>",isHtml:!0},{index:8,desc:"<span>Video resolution - 720p, 1080p</span>",isHtml:!0},{index:9,desc:"<span>Video formats - 16:9, 1:1, 9:16</span>",isHtml:!0}],Ze=[{index:1,desc:"<span>Includes all Professional Plan features</span>",isHtml:!0},{index:2,desc:"<span>10 custom Brand Kits</span>",isHtml:!0},{index:3,desc:"<span>Collaborate and seamlessly share assets with your team</span>",isHtml:!0}],ke=[{plan_code:"TeamsMonthly",plan_id:"2231452000003832010",name:"Teams Monthly",billing_mode:"prepaid",description:"",status:"active",product_id:"2231452000000069147",is_taxable:!0,tax_exemption_id:"",tax_exemption_code:"",trial_period:0,setup_fee:0,setup_fee_account_id:"2231452000000000388",setup_fee_account_name:"Sales",account_id:"2231452000000000388",account:"Sales",recurring_price:59,pricing_scheme:"unit",pricing_scheme_formatted:"Unit",price_brackets:[{price:59}],unit:"pcs",interval:1,interval_unit:"months",billing_cycles:-1,product_type:"none",show_in_widget:!1,store_description:"",store_markup_description:"",url:"https://subscriptions.zoho.com/subscribe/eced2606b22bad4876b6d98f532903652d1433f07e0c1f74ad482bf477cf719e/TeamsMonthly",shipping_interval:1,shipping_interval_unit:"months",created_time:"2023-04-27T22:00:27-0800",created_time_formatted:"27 Apr 2023 10:00:27 PM",updated_time:"2023-05-12T04:19:30-0800",updated_time_formatted:"12 May 2023 04:19:30 AM",addons:[{name:"Video marketing ebook",addon_code:"VMBOOK"},{name:"Additional Projects",addon_code:"ADDITIONAL_PROJECTS"},{name:"Additional Transcription Hours",addon_code:"ADDITIONAL_TRANSCRIPTION_HOURS"},{name:"ADDITIONAL VIDEO HOURS",addon_code:"ADDITIONAL_VIDEO_HOURS"},{name:"TEAM_USERS",addon_code:"TEAM_USERS"}],custom_fields:[]},{plan_code:"TeamsAnnual",plan_id:"2231452000003832019",name:"Teams Annual",billing_mode:"prepaid",description:"",status:"active",product_id:"2231452000000069147",is_taxable:!0,tax_exemption_id:"",tax_exemption_code:"",trial_period:0,setup_fee:0,setup_fee_account_id:"2231452000000000388",setup_fee_account_name:"Sales",account_id:"2231452000000000388",account:"Sales",recurring_price:468,pricing_scheme:"unit",pricing_scheme_formatted:"Unit",price_brackets:[{price:468}],unit:"pcs",interval:1,interval_unit:"years",billing_cycles:-1,product_type:"none",show_in_widget:!1,store_description:"",store_markup_description:"",url:"https://subscriptions.zoho.com/subscribe/eced2606b22bad4876b6d98f532903652d1433f07e0c1f74ad482bf477cf719e/TeamsAnnual",shipping_interval:1,shipping_interval_unit:"months",created_time:"2023-04-27T22:01:33-0800",created_time_formatted:"27 Apr 2023 10:01:33 PM",updated_time:"2023-04-27T22:01:33-0800",updated_time_formatted:"27 Apr 2023 10:01:33 PM",addons:[{name:"Video marketing ebook",addon_code:"VMBOOK"},{name:"Additional Projects",addon_code:"ADDITIONAL_PROJECTS"},{name:"Additional Transcription Hours",addon_code:"ADDITIONAL_TRANSCRIPTION_HOURS"},{name:"ADDITIONAL VIDEO HOURS",addon_code:"ADDITIONAL_VIDEO_HOURS"},{name:"TEAM_USERS",addon_code:"TEAM_USERS"}],custom_fields:[]}],Ce=[{name:"ADDITIONAL VIDEO HOURS",product_name:"Pictory",addon_code:"ADDITIONAL_VIDEO_HOURS",addon_id:"2231452000002805623",description:"ADDITIONAL_VIDEO_HOURS",status:"active",status_formatted:"Active",unit_name:"pcs",product_id:"2231452000000069147",is_taxable:!0,tax_exemption_id:"",tax_exemption_code:"",applicable_to_all_plans:!0,product_type:"none",show_in_widget:!1,store_description:"",store_markup_description:"",type:"recurring",type_formatted:"Recurring",interval_unit:"monthly",interval_unit_formatted:"Monthly",created_time:"2022-11-07T21:04:00-0800",created_at:"2022-11-07",updated_time:"2022-11-15T21:24:12-0800",pricing_scheme:"unit",pricing_scheme_formatted:"Unit",price_brackets:[{price:3}],plans:[]},{name:"TEAM_USERS",product_name:"Pictory",addon_code:"TEAM_USERS",addon_id:"2231452000003951299",description:"TEAM_USERS",status:"active",status_formatted:"Active",unit_name:"pcs",product_id:"2231452000000069147",is_taxable:!0,tax_exemption_id:"",tax_exemption_code:"",applicable_to_all_plans:!0,product_type:"none",show_in_widget:!1,store_description:"",store_markup_description:"",type:"recurring",type_formatted:"Recurring",interval_unit:"monthly",interval_unit_formatted:"Monthly",created_time:"2023-05-11T05:02:00-0800",created_at:"2023-05-11",updated_time:"2023-05-12T03:28:59-0800",pricing_scheme:"unit",pricing_scheme_formatted:"Unit",price_brackets:[{price:10}],plans:[]}],Ie={starter:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},professional:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},team:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"}},Te={starter:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},professional:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},team:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"}},Ee={starter:{headerColor:"grey.0",bodyColor:"#F1EDFA",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},professional:{headerColor:"grey.0",bodyColor:"#F1EDFA",iconColor:"#5939A2",buttonTextColor:"grey.900",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},team:{headerColor:"grey.0",bodyColor:"#F1EDFA",iconColor:"#5939A2",buttonTextColor:"grey.900",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"error.light",linkColor:"warning.dark"}},Ae={starter:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},professional:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"},team:{headerColor:"#F1EDFA",bodyColor:"grey.0",iconColor:"#5939A2",buttonTextColor:"grey.0",innerboxBackgroundColor:"grey.0",innerboxHighlightColor:"warning.dark",linkColor:"warning.dark"}},_e=function(e){return be.find((function(t){return t.plan_code==e}))},Re=[{value:60,label:"60"},{value:80},{value:100},{value:120},{value:140,label:"140"},{value:160},{value:180},{value:200},{value:220,label:"220"}],Pe=[{value:60,label:"60"},{value:90},{value:120},{value:150,label:"150"},{value:180},{value:210},{value:240,label:"240"}],Ne=[{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"},{value:30,label:"30"},{value:40},{value:50},{value:60,label:"60"}],Oe=[{value:2,label:"2"},{value:3},{value:4},{value:5},{value:6},{value:7},{value:8},{value:9},{value:10,label:"10"},{value:11},{value:12},{value:13},{value:14},{value:15},{value:16},{value:17},{value:18},{value:19},{value:20,label:"20"}],De=function(e){return null!=_e(e)},Ue=["non_renewing","non-renewing","cancelled","canceled","cancelled_from_dunning"],Le=function(e){(0,h.Z)(r,e);var t,n=(0,m.Z)(r);function r(e){var t;return(0,d.Z)(this,r),(t=n.call(this,e)).getCurrentSubscription=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){var r,s,a,i,o,c,u,d,p;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.getCurrentSubscription(n);case 2:if(!((r=e.sent)&&r.data&&r.data.subscription)){e.next=16;break}if(t.props.getScheduledChanges(r.data.subscription.subscription_id),c="https://appsumo.com/account/redemption/<invoice_item_uuid>#change-plan".replace("<invoice_item_uuid>",r.data.app_sumo_invoice_item_uuid),u=r.data.subscription.plan.plan_code,!De(u)){e.next=10;break}return t.setState({planCodeType:xe,planChangeUrl:c}),e.abrupt("return");case 10:d=r.data.subscription.interval_unit,p=!1,(u===H.yj.freeTrial||u===H.yj.teamsFreeTrial)&&null!=r&&null!==(s=r.data)&&void 0!==s&&null!==(a=s.subscription)&&void 0!==a&&a.remaining_billing_cycles&&(null==r||null===(i=r.data)||void 0===i||null===(o=i.subscription)||void 0===o?void 0:o.remaining_billing_cycles)>1e3&&(p=!0),"weeks"!==d?t.setState({planType:d,billingTypeYearly:"years"===d,planCodeType:Se,isZohoSubscriptionFT:p}):t.setState({planType:"years",billingTypeYearly:!0,planCodeType:Se,isZohoSubscriptionFT:p}),e.next=17;break;case 16:t.setState({});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.setPlanType=function(e){t.setState({planType:e})},t.redirectToPayment=function(e){var n,r;null!=e&&null!==(n=e.upgradePlan)&&void 0!==n&&n.hostedPageURL?t.props.history.push({pathname:F.Z.BaseURL+L.Z.payment,state:{hostedPage:e.upgradePlan.hostedPageURL}}):"failed"===(null===(r=e.upgradePlan)||void 0===r?void 0:r.status)&&(0,ne.x2)(e.upgradePlan.error&&e.upgradePlan.error.message||"An error occurred while updating the subscription. Please contact support")},t.updateAddon=function(e,n){var r,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,c=t.state.plansProperties,l=c.findIndex((function(e){return(null==e?void 0:e.plan_code)===(null==n?void 0:n.plan_code)}));if(l>=0)if(e===z.n$.gettyVisuals)r=s?"downgrade":"upgrade",c[l].gettyVisuals=!0;else if(e===z.n$.elevenLabs){var u=0;(0,z.hk)(c[l].plan_code)===z.nX.professional?u=120:(0,z.hk)(c[l].plan_code)===z.nX.team&&(u=240),r=i>a?"downgrade":"upgrade",a-=u,c[l].elevenLabsMinutes=a/60}o?t.removeAddon(e,c):t.setState({plansProperties:c},(function(){t.changePlan(n,r,"downgrade"===r,e)}))},t.removeAddon=function(e){var n=t.props,r=n.currentSubscription,s=n.currentPlan,a=r.subscription_id,i=r.addons.map((function(e){var t=e.addon_code;return delete e.addon_code,(0,c.Z)((0,c.Z)({},e),{},{addonCode:t})}));if(e===z.n$.gettyVisuals){var o=i.findIndex((function(e){return e.addonCode.includes("GettyVisuals")}));if(i.splice(o,1),-1===o)return}else if(e===z.n$.elevenLabs){var l=i.findIndex((function(e){return e.addonCode.includes("ELEVENLABS_MINUTES")}));if(i.splice(l,1),-1===l)return}W().getInstance().logEvent("add-ons-purchased",{"add-on-type":e===z.n$.elevenLabs?"ElevenLabs Minutes":"Getty Visual",number:0,"purchase-kind":"modification",modification:"removed"});var u={plan_code:s.plan_code,addons:i};t.setState({removingAddon:!0}),t.props.changePlan({subId:a,newPlan:u,userId:t.state.user.username,planDetails:(0,c.Z)((0,c.Z)({},s),{},{price:0})})},t.changePlan=function(e,n,r,s){var a;if((0,z.E3)()&&"Teams"!=t.state.plansProperties.filter((function(t){return t.plan_code==e.plan_code}))[0].planLabel)t.setState({showSwitchToPersonalWS:!0});else if("downgrade"==n&&void 0===s)t.showDowngradePopup(e);else{var i,o,c,l;t.hideDowngradePopup(),t.props.isFreeTrial?ye.logEvent("clicked-buy-from-freeTrial",{"current-plan":t.props.currentPlan.name,"upgrade-to-plan":e.name}):r?ye.logEvent("downgrade-button-clicked",{"current-plan":t.props.currentPlan.name,"downgrade-to-plan":e.name}):ye.logEvent("upgrade-button-clicked",{"current-plan":t.props.currentPlan.name,"upgrade-to-plan":e.name});var u={},d=null===(i=t.state.plansProperties)||void 0===i?void 0:i.filter((function(t){return t.plan_code==e.plan_code}));if((null===(o=t.props.currentPlan)||void 0===o||null===(c=o.plan_code)||void 0===c?void 0:c.toLowerCase())!=(null==e||null===(l=e.plan_code)||void 0===l?void 0:l.toLowerCase())&&d&&d.length>0&&(delete d[0].gettyVisuals,delete d[0].elevenLabsMinutes),d&&d.length>0&&(null!=d[0].numberOfVideos||null!=d[0].videoDuration||null!=d[0].gettyVisuals||null!=d[0].elevenLabsMinutes)&&(u=d[0],a=s===z.n$.gettyVisuals||s===z.n$.elevenLabs,u.numberOfVideos&&u.videoDuration)){var p=Math.floor(u.numberOfVideos*u.videoDuration/d[0].baseNumberOfVideos)>d[0].baseVideoMins?Math.floor(u.numberOfVideos*u.videoDuration/d[0].baseNumberOfVideos):d[0].baseVideoMins;210!=u.numberOfVideos&&240!=u.numberOfVideos||28!=p||(p=30),u.additionalVideoHours=p-d[0].baseVideoMins,u.numberOfTeamMembers=d[0].numberOfTeamMembers}t.props.history.push({pathname:F.Z.BaseURL+L.Z.orderSummary,state:{planDetails:e,currentPlan:t.props.currentSubscription,isFreeTrial:t.props.isFreeTrial||De(t.props.currentPlan.plan_code)&&0==t.updateAddon,isUserNotSubscribed:t.props.currentPlan.plan_code===H.yj.userNotSubscribed,isUpgrade:"upgrade"===n,isDowngrade:r,addonData:u,updateAddon:a,addonType:s}})}},t.changeCheckedValue=function(e){t.setState({billingTypeYearly:!t.state.billingTypeYearly},(function(){t.setState({planType:t.state.billingTypeYearly?"years":"months"})}))},t.showDowngradePopup=function(e){t.setState({plan:e}),E()("#downgrade-confirmation-modal").modal("show")},t.hideDowngradePopup=function(e){E()("#downgrade-confirmation-modal").modal("hide")},t.redirectToPictoryAboutus=function(){window.open("https://pictory.ai/pictory-ai-about-html/","_blank")},t.enterpriseLicenseContactUs=(0,u.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({openEnquiryForm:!0});case 1:case"end":return e.stop()}}),e)}))),t.getTeamUsersQuota=function(e,t){var n,r,s,a=null==e||null===(n=e.currentQuota)||void 0===n?void 0:n.totalUsers,i=null==t||null===(r=t.features)||void 0===r||null===(s=r.teams)||void 0===s?void 0:s.totalUsers,o=parseInt(i)-parseInt(a);return void 0===a||void 0===i?"Not Available":"".concat(o," / ").concat(i)},t.getMyBrandsQuota=function(e,t){var n,r,s,a=null==e||null===(n=e.currentQuota)||void 0===n?void 0:n.brands,i=null==t||null===(r=t.features)||void 0===r||null===(s=r.video)||void 0===s?void 0:s.totalBrands,o=parseFloat(i)-parseFloat(a);return void 0===a||void 0===i?"Not Available":"".concat(o," / ").concat(i)},t.getMyTemplatesQuota=function(e,t){var n,r,s,a=null==e||null===(n=e.currentQuota)||void 0===n?void 0:n.templates,i=null==t||null===(r=t.features)||void 0===r||null===(s=r.video)||void 0===s?void 0:s.totalTemplates,o=parseFloat(i)-parseFloat(a);return void 0===a||void 0===i?"Not Available":"".concat(o," / ").concat(i)},t.getNumberOfProjectsQuota=function(e,t){if(e&&t&&t.plan_code){if(H.rJ.includes(t.plan_code.toLowerCase()))return"Unlimited";var n=parseInt(t.features.video.totalProjectsPerMonth)-parseInt(e.currentQuota.projectsPerMonth);return"".concat(n," / ").concat(t.features.video.totalProjectsPerMonth)}return"Not Available"},t.getNumberOfVideosQuota=function(e,t){return e&&t&&t.plan_code?"".concat(e.currentQuota.videos," / ").concat(t.features.video.totalVideos):"Not Available"},t.getTranscriptionQuota=function(e,t){return e&&e.currentQuota&&void 0!==e.currentQuota.transcriptionDurationPerMonth&&t&&t.features&&t.features.video&&void 0!==t.features.video.transcriptionTotalDurationPerMonth?"".concat(((t.features.video.transcriptionTotalDurationPerMonth-e.currentQuota.transcriptionDurationPerMonth)/60).toFixed(2).replace(/[.]0+$/,"")," / ").concat((t.features.video.transcriptionTotalDurationPerMonth/60).toFixed(2).replace(/[.]0+$/,"")):"Not Available"},t.getElevenlabsQuota=function(){var e,n,r=(0,z.we)((null===(e=t.state)||void 0===e||null===(n=e.user)||void 0===n?void 0:n.username)||"");if(r){var s,a,i,o,c,l,u=null==r||null===(s=r.data)||void 0===s||null===(a=s.plan)||void 0===a||null===(i=a.features)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.totalTextToSpeechDurationPerMonth,d=null==r||null===(c=r.data)||void 0===c||null===(l=c.currentQuota)||void 0===l?void 0:l.textToSpeechDurationPerMonth,p=parseInt(u)-parseInt(d);return"".concat(Math.floor((p>=0?p:0)/60)," / ").concat(parseInt(Math.floor((u||0)/60)))}},t.getCardUiParams=function(e,t,n,r,s){var a={},i=!1,o=!1,c=!1;return t.includes("Starter")?i=!0:t.toLowerCase().includes("team")?o=!0:c=!0,(a=r?s?i?Te.starter:c?Te.professional:Te.team:i?Ie.starter:c?Ie.professional:Ie.team:t===n?i?Ee.starter:c?Ee.professional:Ee.team:i?Ae.starter:c?Ae.professional:Ae.team).isStarter=i,a.isProfessional=c,a.isTeam=o,i?(a.title="Starter",a.subTitle="A basic toolkit for new creators. Boost your plan by adding individual premium features."):o?(a.title="Teams",a.subTitle="Designed for collaboration. Customize a plan to fit your team.",a.numberOfVideosMarks=Pe,a.numberOfVideosMarksMin=Pe[0].value,a.numberOfVideosMarksMax=Pe[Pe.length-1].value,a.numberOfVideosMarksStep=30):c&&(a.title="Professional",a.subTitle="Best for professional creators. Access all our AI features in one convenient package.",a.numberOfVideosMarks=Re,a.numberOfVideosMarksMin=Re[0].value,a.numberOfVideosMarksMax=Re[Re.length-1].value,a.numberOfVideosMarksStep=20),a},t.setSelectedWorkspaceInState=function(e){var n;H.vn;var r,s,a,i=null===(n=t.props.teams)||void 0===n?void 0:n.find((function(t){return t.teamId===e}));i?(i.isAdmin=i.adminUserId===t.state.user.username,r=i):r={teamId:H.vn,name:getUserDisplayname(t.state.user.username),email:null===(s=t.state.user)||void 0===s||null===(a=s.attributes)||void 0===a?void 0:a.email},(0,z.A)(r.teamId)},t.calculatePrice=function(e,n,r,s,a){var i,o,c,l,u,d=t.state.plansProperties;if("numberOfVideos"==a){var p=Math.floor(1200/n);if(d[r].videoDuration<p){var h="months"===s.interval_unit?s.recurring_price:s.recurring_price/12;return t.setState({showAlertNotification:!0,showAlertNotificationMessage:"Sorry! You can't go below the base price of "+d[r].planLabel+" plan $"+h}),!1}d[r].numberOfVideos=n}else"videoDuration"==a?d[r].videoDuration=d[r].videoDurationMarks[n].durationValue:"numberOfTeamMembers"==a?d[r].numberOfTeamMembers=n:"getty"==a?d[r].getty=n:"elevenlabs"==a?d[r].elevenlabs=n:"copilot"==a&&(d[r].copilot=n);var m=null===(i=t.props.addonsList)||void 0===i||null===(o=i.filter((function(e){return"ADDITIONAL_VIDEO_HOURS"==e.addon_code})))||void 0===o||null===(c=o[0])||void 0===c||null===(l=c.price_brackets)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.price,g=Math.floor(d[r].numberOfVideos*d[r].videoDuration/60),f=((g=g>d[r].baseVideoMins?g:d[r].baseVideoMins)-d[r].baseVideoMins)*m;"Teams"==d[r].planLabel&&(210!=d[r].numberOfVideos&&240!=d[r].numberOfVideos||28!=g||(g=30),f=(g-d[r].baseVideoMins)*m+10*d[r].numberOfTeamMembers),d[r].price=("months"===s.interval_unit?s.recurring_price:s.recurring_price/12)+f,ye.logEvent("numberOfVideos"==a?"videos-slider-moved":"video-length-slider-moved",{plansProperties:d[r]}),t.setState({plansProperties:d})},t.calculateVideoDuration=function(e,n,r,s){var a=t.state.plansProperties;a[r].numberOfVideos=n,"Teams"==a[r].planLabel?a[r].videoDuration=Math.floor(1800/n):a[r].videoDuration=Math.floor(1200/n),t.setState({plansProperties:a})},t.changeVideoLength=function(e,n){var r=t.state.plansProperties;r[n].isNumberOfVideosFixed=!0;var s=[],a=0,o=1200;"Teams"==r[n].planLabel&&(o=1800);var c=Math.floor(o/r[n].numberOfVideos);"Teams"==r[n].planLabel&&60==r[n].numberOfVideos&&(c=20),s.push({value:a,durationValue:c,label:0==a||i==Ne.length-1?c:""}),a+=1;for(var l=r[n].videoDuration,u=function(e){var t=Ne[e],n=e+1<Ne.length?Ne[e+1]:null;l>t.value&&null!=n&&l<n.value&&l!=c&&(s.push({value:a,durationValue:l,label:0==a||e==Ne.length-1?l:""}),a+=1),c<=t.value&&!s.filter((function(e){return e.durationValue==t.value})).length>0&&(s.push({value:a,durationValue:t.value,label:0==a||e==Ne.length-1?t.value:""}),a+=1)},d=0;d<Ne.length;d++)u(d);r[n].videoDurationMarks=s,r[n].minIndex=0,r[n].maxVideoDuration=a-1,r[n].currentVideoDurationIndex=s.filter((function(e){return e.durationValue==l}))[0].value,ye.logEvent("video-length-slider-moved",{plansProperties:r[n]}),t.setState({plansProperties:r})},t.changeNumberOfVideos=function(e,n,r){var s=t.state.plansProperties;s[n].isNumberOfVideosFixed=!1,t.setState({plansProperties:s})},t.resetCurrentSubscriptionData=function(e,n,r){var s=t.state.plansProperties;if(r.plan_code===t.props.currentPlan.plan_code&&H.rJ.includes(t.props.currentPlan.plan_code.toLowerCase())){s[n].isNumberOfVideosFixed=!1,s[n].videoDuration=20,s[n].numberOfVideos=60;var a=1;t.props.currentPlan.name.toLowerCase().includes("team")?(a=3,s[n].planLabel="Teams"):s[n].planLabel="Professional",s[n].numberOfTeamMembers=a,s[n].numberOfVideos=60,s[n].baseNumberOfVideos=60,s[n].videoDuration=20,s[n].baseVideoMins=20;var i=0;"Teams"==s[n].planLabel&&(i=(videoHours-s[n].baseVideoMins)*costPerVideoHours+10*s[n].numberOfTeamMembers),s[n].price=("months"===r.interval_unit?r.recurring_price:r.recurring_price/12)+i}else{var o,c,l,u,d;s[n].isNumberOfVideosFixed=!1,s[n].videoDuration=t.props.currentPlan.features.video.textToVideoDuration/60-2,s[n].numberOfVideos=t.props.currentPlan.features.video.totalProjectsPerMonth;var p=null===(o=t.props.addonsList)||void 0===o||null===(c=o.filter((function(e){return"ADDITIONAL_VIDEO_HOURS"==e.addon_code})))||void 0===c||null===(l=c[0])||void 0===l||null===(u=l.price_brackets)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.price,h=Math.floor(s[n].numberOfVideos*s[n].videoDuration/60);"Teams"==s[n].planLabel&&(s[n].baseVideoMins,s[n].numberOfTeamMembers),s[n].price=("months"===r.interval_unit?r.recurring_price:r.recurring_price/12)+(h>20?(h-20)*p:0),t.setState({plansProperties:s})}},t.buyTranscriptionAnchor=function(){return(0,le.jsx)(g.Z,{className:"underline-anchor",children:(0,le.jsxs)("p",{style:{fontSize:"12px",fontWeight:"400",padding:"0px",margin:"0px"},children:["Buy extra transcription hours at",(0,le.jsx)("br",{}),"$1/hour of video."," ",(0,le.jsx)("a",{style:{color:"#2196F3"},href:"javascript:;",onClick:t.enterpriseLicenseContactUs,children:"Contact support"}),"."]})})},t.renderFeaturesListForPlan=function(e,n,r){var s=null;return s=e.includes("Starter")||e.includes("Standard")?je:e.toLowerCase().includes("team")?Ze:we,(0,le.jsx)(g.Z,{className:"checkbox-menu",children:s.map((function(e){return(0,le.jsxs)("p",{style:{display:"flex",gap:"5px"},children:[(0,le.jsx)(q.Fn,{strokeColor:r})," ",e.isHtml?(0,le.jsx)("span",{dangerouslySetInnerHTML:{__html:e.desc},sx:{minWidth:"20px"}}):e.desc,e.hasInfoToolTip&&(0,le.jsxs)(le.Fragment,{children:[" ",(0,le.jsx)(v.Z,{title:t.buyTranscriptionAnchor(),placement:"top-start",arrow:!0,children:(0,le.jsx)("span",{children:(0,le.jsx)(q.ep,{width:"16px",height:"16px",strokeColor:"#607D8B"})})})]})]})}))})},t.getElevenlabsScheduledMinutes=function(e){var t,n,r,s,a,i,o=0,c=null==e||null===(t=e.data)||void 0===t||null===(n=t.subscription)||void 0===n?void 0:n.addons,l=null==e||null===(r=e.data)||void 0===r?void 0:r.scheduledAddons,u=null==e||null===(s=e.data)||void 0===s||null===(a=s.subscription)||void 0===a||null===(i=a.plan)||void 0===i?void 0:i.plan_code;if(c&&l){var d,p,h,m,g=(null==c||null===(d=c.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ELEVENLABS_MINUTES")})))||void 0===d||null===(p=d[0])||void 0===p?void 0:p.quantity)||0,f=(null==l||null===(h=l.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ELEVENLABS_MINUTES")})))||void 0===h||null===(m=h[0])||void 0===m?void 0:m.quantity)||0;f<g&&(o=0,(0,z.hk)(u)===z.nX.professional?o=120:(0,z.hk)(u)===z.nX.team&&(o=240),o+=60*f)}return o},t.getPlanPriceLabel=function(e){var n,r,s,a,i,o=t.state.planProps,c=null===(n=t.props.addonsList)||void 0===n||null===(r=n.filter((function(e){return"ADDITIONAL_VIDEO_HOURS"==e.addon_code})))||void 0===r||null===(s=r[0])||void 0===s||null===(a=s.price_brackets)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.price,l=Math.floor(o[e].numberOfVideos*o[e].videoDuration/60),u=((l=l>o[e].baseVideoMins?l:o[e].baseVideoMins)-o[e].baseVideoMins)*c;return"Teams"==o[e].planLabel&&(u=(l-o[e].baseVideoMins)*c+10*o[e].numberOfTeamMembers),("months"===plan.interval_unit?plan.recurring_price:plan.recurring_price/12)+u},t.renderRenewButton=function(e,n,r){var s="onlyButton",a=(0,z.Ib)(t.state.user?t.state.user.username:"");return a&&0==e.isTeam&&(s="onlyButton"),1==e.isTeam?s=t.state.isAdminAndTeamOwner?"buttonWithClickEvent":"buttonWithTooltip":0==a&&(s="buttonWithClickEvent"),"onlyButton"==s?(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:e.iconColor,color:e.buttonTextColor},children:"Renew"}):"buttonWithClickEvent"==s?(0,le.jsx)(x.Z,{className:"upgrade-button button",onClick:function(){return t.changePlan(n)},sx:{backgroundColor:e.iconColor,color:e.buttonTextColor},children:["cancelled","canceled","cancelled_from_dunning"].includes(r.status&&r.status.toLowerCase())?"Renew":"Buy now"}):"buttonWithTooltip"===s?(0,le.jsx)(v.Z,{title:"Only the owner can make changes to the Teams subscription",arrow:!0,children:(0,le.jsx)("div",{style:{cursor:"not-allowed",display:"inline-block"},children:(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:"grey.300"},disabled:!0,children:"Renew"})})}):void 0},t.renderActiveCurrentPlanButton=function(e,n,r,s,a){var i="buttonWithClickEvent";return 1==(!n.plan_code.includes("Starter")&&t.state.plansProperties[s].numberOfVideos&&r.features.video.totalProjectsPerMonth!=t.state.plansProperties[s].numberOfVideos||t.state.plansProperties[s].videoDuration&&r.features.video.textToVideoDuration/60-2!=t.state.plansProperties[s].videoDuration||t.state.plansProperties[s].numberOfTeamMembers&&a!=t.state.plansProperties[s].numberOfTeamMembers)?!0===e.isTeam&&0==t.state.isAdminAndTeamOwner&&(i="buttonWithTooltip"):i="buttonOnly","buttonOnly"===i?(0,le.jsx)(x.Z,{variant:"outlined",disabled:!0,sx:{width:"276px",height:"40px"},children:"Current Plan"}):"buttonWithClickEvent"===i?(0,le.jsx)(x.Z,{className:"upgrade-button button",onClick:function(){return t.changePlan(n)},sx:{backgroundColor:e.iconColor,color:e.buttonTextColor},children:"Buy Now"}):(0,le.jsx)(v.Z,{title:"Only the owner can make changes to the Teams subscription",arrow:!0,children:(0,le.jsx)("div",{style:{cursor:"not-allowed",display:"inline-block"},children:(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:"grey.300"},disabled:!0,children:"Buy Now"})})})},t.renderCardHeader=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return(0,le.jsxs)(g.Z,{sx:{width:"grey.0"==t.headerColor?"100%":"101%",borderRadius:"10px 10px 0px 0px",backgroundColor:t.headerColor,minHeight:"140px"},children:[s===n?(0,le.jsx)(g.Z,{style:{position:"absolute",right:"10px",top:"10px"},children:(0,le.jsx)(S.Z,{label:"Current",color:"success",size:"small",variant:"outlined"})}):(r?t.isTeam:t.isProfessional)&&s.toLowerCase().includes("annual")?(0,le.jsx)(g.Z,{style:{position:"absolute",right:"10px",top:"10px"},children:(0,le.jsx)(S.Z,{label:"Best value",color:"primary",size:"small"})}):"",(0,le.jsxs)(y.Z,{direction:"column",sx:(0,c.Z)({},{"@media (min-height:600px)":{m:"20px 40px"},"@media (min-height:720px)":{m:"20px 40px"},"@media (min-height:768px)":{m:"20px 40px"},"@media (min-height:800px)":{m:"20px 40px"},"@media (min-height:900px)":{m:"20px 40px"},"@media (min-height:960px)":{m:"40px"},"@media (min-height:1200px)":{m:"40px"},"@media (min-height:1392)":{m:"40px"},"@media (min-height:1440px)":{m:"40px"},"@media (min-height:1520px)":{m:"40px"},"@media (min-height:1600px)":{m:"40px"},"@media (min-height:2160px)":{m:"40px"}}),children:[(0,le.jsx)(b.Z,{variant:"text_xl",color:"grey.900",sx:{textAlign:"center"},children:t.title}),(0,le.jsx)(b.Z,{variant:"text_base",color:"grey.500",sx:{mt:"0",textAlign:"center"},children:t.subTitle})]})]})},t.isCurrentUserTeamAdmin=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n,r){var s,a,i,o,c,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,a=!1,e.prev=2,e.next=5,t.props.getTeamsRequest();case 5:s=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:return s&&(null===(i=s.teamsResult)||void 0===i||null===(o=i.Items)||void 0===o?void 0:o.length)>0&&(c=s.teamsResult.Items,(u=c.filter((function(e){return e.teamId==r})))&&u.length>0&&(a=u[0].adminUserEmail==n)),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.findTeamOnTeamsBuy=(0,u.Z)((0,l.Z)().mark((function e(){var n,r,s,a,i,o,c;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({findTeaminProgress:!0}),n=null,r=null,e.prev=3,e.next=6,t.props.getTeamsRequest();case 6:n=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:n&&(null===(s=n.teamsResult)||void 0===s||null===(a=s.Items)||void 0===a?void 0:a.length)>0&&(i=t.state.user.attributes.email,o=n.teamsResult.Items,(c=o.filter((function(e){return e.adminUserEmail==i})))&&c.length>0&&(r=c[0].teamId)),r?t.setState({findTeaminProgress:!1,teamId:r,showSwitchToTeamWS:!0}):t.setState({findTeaminProgress:!1,teamId:null,showSwitchToCreateTeamWS:!0});case 13:case"end":return e.stop()}}),e,null,[[3,9]])}))),t.switchTeam=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,z.A)(t),window.location.reload(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.showAlertNotification=function(){return(0,le.jsx)(j.Z,{open:!!t.state.showAlertNotification,autoHideDuration:5e3,onClose:function(e,n){"clickaway"!=n&&t.setState({showAlertNotification:void 0})},anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{backgroundColor:"#FFFFFF",borderRadius:"5px",color:"#FFFFFF"}},children:(0,le.jsxs)(w.Z,{severity:"info",sx:{alignItems:"center",backgroundColor:"#ED6C02",color:"#FFFFFF"},icon:!1,action:(0,le.jsx)(Z.Z,{size:"small",color:"inherit",onClick:function(){return t.setState({showAlertNotification:!1})},sx:{verticalAlign:"middle"},children:(0,le.jsx)(B.Z,{fontSize:"small"})}),children:[(0,le.jsx)(q.ep,{width:"20px",height:"20px",strokeColor:"#FFFFFF"})," ",(0,le.jsx)("span",{style:{verticalAlign:"middle"},children:t.state.showAlertNotificationMessage})]})})},t.onElevenLabsDialogClose=function(){t.setState({elevenLabsAddon:!1})},t.onElevenLabsDialogClose=function(){t.setState({elevenLabsAddon:!1})},t.openElevenLabDialog=function(){t.setState({elevenLabsAddon:!0})},t.getDowngradeBanner=function(e){var n,r,s,a,i,o,c,l,u,d,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C="",I=0;if(!t.props.scheduledSubscription)return"";if(b=null==e||null===(n=e.data)||void 0===n||null===(r=n.subscription)||void 0===r||null===(s=r.plan)||void 0===s?void 0:s.plan_code,null!==(a=t.props.scheduledSubscription)&&void 0!==a&&null!==(i=a.plan)&&void 0!==i&&i.plan_code&&null!=e&&null!==(o=e.data)&&void 0!==o&&null!==(c=o.subscription)&&void 0!==c&&null!==(l=c.plan)&&void 0!==l&&l.plan_code&&(null===(Z=y=null===(j=t.props.scheduledSubscription)||void 0===j||null===(w=j.plan)||void 0===w?void 0:w.plan_code)||void 0===Z?void 0:Z.length)>0&&(null===(k=b)||void 0===k?void 0:k.length)>0&&y.toLowerCase()!=b.toLowerCase())return"Your ".concat((0,z.Gz)(e.data.subscription.plan.name)," plan will downgrade to ").concat((0,z.Gz)(t.props.scheduledSubscription.plan.name)," on ").concat(P()(t.props.scheduledSubscription.current_term_ends_at).format("Do of MMMM, YYYY"));var T,E,A,_,R=null!=e&&null!==(u=e.data)&&void 0!==u&&null!==(d=u.scheduledAddons)&&void 0!==d&&d.length?e.data.scheduledAddons.length:0,N=null!=e&&null!==(p=e.data)&&void 0!==p&&null!==(h=p.subscription)&&void 0!==h&&null!==(m=h.addons)&&void 0!==m&&m.length?e.data.subscription.addons.length:0,O=null==e||null===(g=e.data)||void 0===g||null===(f=g.subscription)||void 0===f?void 0:f.addons,D=null==e||null===(v=e.data)||void 0===v?void 0:v.scheduledAddons;if(R<N)0==C.length&&(x=null==O||null===(T=O.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("GettyVisuals")})))||void 0===T?void 0:T[0],S=null==D||null===(E=D.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("GettyVisuals")})))||void 0===E?void 0:E[0],x&&!S&&(C="Your Getty images add-on subscription ends on ".concat(P()(t.props.scheduledSubscription.current_term_ends_at).format("Do of MMMM, YYYY")))),0==C.length&&(x=null==O||null===(A=O.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ELEVENLABS_MINUTES")})))||void 0===A?void 0:A[0],S=null==D||null===(_=D.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ELEVENLABS_MINUTES")})))||void 0===_?void 0:_[0],x&&!S&&(I=0,(0,z.hk)(b)===z.nX.professional?I=120:(0,z.hk)(b)===z.nX.team&&(I=240),C=0==I?"Your ElevenLabs add-on subscription ends on ".concat(P()(t.props.scheduledSubscription.current_term_ends_at).format("Do of MMMM, YYYY")):"Your ElevenLabs add-on subscription will downgrade to ".concat(I," mins/mo on ").concat(P()(t.props.scheduledSubscription.current_term_ends_at).format("Do of MMMM, YYYY"))));else if(R==N){var U,L,F,V,B,M,G,W,J,H,K,q;0==C.length&&(U=(null==O||null===(F=O.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ELEVENLABS_MINUTES")})))||void 0===F||null===(V=F[0])||void 0===V?void 0:V.quantity)||0,(L=(null==D||null===(B=D.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ELEVENLABS_MINUTES")})))||void 0===B||null===(M=B[0])||void 0===M?void 0:M.quantity)||0)<U&&(I=0,(0,z.hk)(b)===z.nX.professional?I=120:(0,z.hk)(b)===z.nX.team&&(I=240),C="Your ElevenLabs add-on subscription will downgrade to ".concat(I+=60*L," mins/mo on ").concat(P()(t.props.scheduledSubscription.current_term_ends_at).format("Do of MMMM, YYYY")))),0==C.length&&(U=(null==O||null===(G=O.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ADDITIONAL_VIDEO_HOURS")})))||void 0===G||null===(W=G[0])||void 0===W?void 0:W.quantity)||0,(L=(null==D||null===(J=D.filter((function(e){var t;return null===(t=e.addon_code)||void 0===t?void 0:t.includes("ADDITIONAL_VIDEO_HOURS")})))||void 0===J||null===(H=J[0])||void 0===H?void 0:H.quantity)||0)<U&&(C="Your new quota, ".concat(null===(K=D.filter((function(e){return"ADDITIONAL_VIDEO_HOURS"==e.addon_code}))[0].item_custom_fields.filter((function(e){return"Total Projects Per Month"==e.label})))||void 0===K?void 0:K[0].value," videos of ").concat((null===(q=e.data.scheduledAddons.filter((function(e){return"ADDITIONAL_VIDEO_HOURS"==e.addon_code}))[0].item_custom_fields.filter((function(e){return"Text to Video Duration"==e.label})))||void 0===q?void 0:q[0].value)/60-2," minutes each, is scheduled to activate on ").concat(P()(t.props.scheduledSubscription.current_term_ends_at).format("Do of MMMM, YYYY"))))}return C},t.getStatusLabel=function(e,n,r){return e&&t.props.isCBSubscription?"non_renewing"!==n&&"non-renewing"!==n&&Ue.includes(n&&n.toLowerCase())?"Canceled":r+" days left":Ue.includes(n&&n.toLowerCase())?"Canceled":"live"==n?"Active":n},t.render11LabsBuyButton=function(e,n,r,s,a){var i="",o=!1;if(n&&(i="Requires plan subscription"),e)return(0,z.hk)(e)==z.nX.team&&(r||(i="Only the owner can make changes to the Teams subscription",o=!0)),Ue.includes(a&&a.toLowerCase())&&(o=!0),1==o?(0,le.jsx)(v.Z,{title:i,arrow:!0,children:(0,le.jsx)("div",{style:{cursor:"not-allowed",display:"inline-block"},children:(0,le.jsx)(x.Z,{sx:{backgroundColor:"grey.300"},disabled:!0,children:(0,le.jsxs)(b.Z,{variant:"text_sm",children:[s?"Modify":"Buy"," Add-on"]})})})}):(0,le.jsx)(v.Z,{title:i,arrow:!0,children:(0,le.jsx)("div",{children:(0,le.jsx)(x.Z,{variant:s?"outlined":"contained",disabled:(0,z.hk)(e)===z.nX.freeTrial||(0,z.hk)(e)===z.nX.teamFreeTrail,onClick:t.openElevenLabDialog,children:(0,le.jsxs)(b.Z,{variant:"text_sm",children:[s?"Modify":"Buy"," Add-on"]})})})})},t.renderLocaleTime=function(){return new Date(Date.UTC(2024,0,1,9,0,0)).toLocaleString(void 0,{hour:"numeric",minute:"numeric"})+" local time"},t.state={user:{},planType:"months",billingTypeYearly:!1,isExpired:t.props.history&&t.props.history.location&&t.props.history.location.state&&t.props.history.location.state.isExpired||!1,isZohoFT:t.props.history&&t.props.history.location&&t.props.history.location.state&&t.props.history.location.state.isZohoFT||!1,showSuccessMessage:!1,findTeaminProgress:!1,teamId:null,isActive:!0,fetchPlansInProgress:!0,fetchScheduleChangesInProgress:!0,isAdminAndTeamOwner:!1,onRemoveAddon:!1,removeAddonType:null,removeAddonTitle:"",removeAddonMessage:"",removingAddon:!1,isZohoSubscriptionFT:!1},t}return(0,p.Z)(r,[{key:"componentWillMount",value:function(){var e=this;J.Z.setItem("lastUrl",L.Z.plansList),I.g.currentAuthenticatedUser().then(function(){var t=(0,u.Z)((0,l.Z)().mark((function t(n){var r,s,a,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({user:n}),e.props.history&&e.props.history.location&&e.props.history.location.search&&(e.props.history.location.search,e.setState({showSuccessMessage:!0})),W().getInstance().logEvent("subscription-page-visited"),e.setState({isActive:!0}),a=!1,!(i=(0,z.E3)())){t.next=10;break}return t.next=9,e.isCurrentUserTeamAdmin(n.attributes.email,i);case 9:a=t.sent;case 10:return e.setState({isAdminAndTeamOwner:a,isTeamPlan:!!i}),t.next=13,e.props.getPlansList(n.username);case 13:return t.next=15,e.props.getAddons();case 15:return t.next=17,e.getCurrentSubscription(n.username);case 17:e.setState({elevenLabsAddon:(null===(r=e.props.history)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.openElevenLabsPopup)||!1});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){J.Z.clear(),e.props.history.push("/")}))}},{key:"componentDidMount",value:function(){(this.state.isExpired||this.state.isZohoFT)&&(this.state.isZohoFT?this.setState({blockUser:!0}):this.setState({planExpired:!0}))}},{key:"componentDidUpdate",value:function(e,t){t.onRemoveAddon===this.state.onRemoveAddon||this.state.onRemoveAddon||this.setState({removeAddonTitle:"",removeAddonMessage:""})}},{key:"componentWillReceiveProps",value:(t=(0,u.Z)((0,l.Z)().mark((function e(t){var n,r,s,a,i,o,c,u,d,p,h,m,g,f,v;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.getScheduledChangesResult&&this.props.getScheduledChangesResult!==t.getScheduledChangesResult&&(0==this.state.fetchPlansInProgress?this.setState({isActive:!1}):this.setState({fetchScheduleChangesInProgress:!1})),t.plansList&&t.plansList.length>0&&t.currentSubscription&&"pending"!==t.currentSubscription.status&&t.currentPlan&&"pending"!==t.currentPlan.status&&t.addonsList&&"pending"!==t.addonsList.status&&!this.state.plansProperties){for(n=[],r=0;r<t.plansList.length;r++)s=t.plansList[r],(a={}).price="months"===(null==s?void 0:s.interval_unit)?null==s?void 0:s.recurring_price:(null==s?void 0:s.recurring_price)/12,a.plan_code=s.plan_code,a.videoDurationMarks=[],a.planLabel="Starter",a.gettyVisuals=!1,a.elevenLabsMinutes=0,((0,z.hk)(s.plan_code)!==z.nX.freeTrial||(0,z.hk)(currentPlanCode)===z.nX.teamFreeTrail&&s.plan_code==t.currentPlan.plan_code)&&(a.totalTextToSpeechDurationPerMonth=t.currentPlan.features.video.totalTextToSpeechDurationPerMonth,a.premiumVisualContent=t.currentPlan.features.video.premiumVisualContent),t.currentPlan.features.video.elevenLabsMinutes&&(a.elevenLabsMinutes=t.currentPlan.features.video.elevenLabsMinutes/60),t.currentPlan.features.video.gettyVisuals&&(a.gettyVisuals=t.currentPlan.features.video.gettyVisuals),(s.plan_code.toLowerCase().includes("professional")||s.plan_code.toLowerCase().includes("team"))&&(i=20,o=1,s.name.toLowerCase().includes("team")?(i=20,a.numberOfVideos=90,a.videoDuration=20,o=3,a.planLabel="Teams",c=(c=Math.floor(a.numberOfVideos*a.videoDuration/60))>i?c:i,a.price=a.price+3*(c-i)+10*o):(a.numberOfTeamMembers=1,a.planLabel="Professional",a.numberOfVideos=60,a.videoDuration=20),a.numberOfTeamMembers=o,a.baseNumberOfVideos=60,a.baseVideoMins=i,a.isNumberOfVideosFixed=!1,s.plan_code!=t.currentPlan.plan_code||s.plan_code===t.currentPlan.plan_code&&H.rJ.includes(t.currentPlan.plan_code.toLowerCase())||(a.numberOfVideos=t.currentPlan.features.video.totalProjectsPerMonth,a.videoDuration=t.currentPlan.features.video.textToVideoDuration/60-2,g=null===(u=this.props.addonsList)||void 0===u||null===(d=u.filter((function(e){return"ADDITIONAL_VIDEO_HOURS"==e.addon_code})))||void 0===d||null===(p=d[0])||void 0===p||null===(h=p.price_brackets)||void 0===h||null===(m=h[0])||void 0===m?void 0:m.price,1==s.name.toLowerCase().includes("team")?(a.numberOfTeamMembers=t.currentPlan.features.teams.totalUsers,f=(f=Math.floor(a.numberOfVideos*a.videoDuration/60))>i?f:i,210!=a.numberOfVideos&&240!=a.numberOfVideos||28!=f||(f=30),a.price=3*(f-i)+10*a.numberOfTeamMembers,a.price=a.price+("months"===(null==s?void 0:s.interval_unit)?null==s?void 0:s.recurring_price:(null==s?void 0:s.recurring_price)/12)):(v=Math.floor(a.numberOfVideos*a.videoDuration/60),a.price=a.price+(v>a.baseVideoMins?(v-a.baseVideoMins)*g:0)))),n.push(a);0==this.state.fetchScheduleChangesInProgress?this.setState({isActive:!1,plansProperties:n}):this.setState({fetchPlansInProgress:!1,plansProperties:n})}t.reset&&(I.g.signOut(),J.Z.clear(),window.location.assign("/login")),t&&this.redirectToPayment(t),this.onChangePlanDataChanged(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onChangePlanDataChanged",value:function(e){if(!_().isEmpty(e.changePlanData)&&this.props.changePlanData!=e.changePlanData)if(this.setState({isActive:!1}),"failed"===e.changePlanData.status)(0,ne.x2)(e.changePlanData.data.message||"An error occurred while updating the subscription. Please contact support"),this.setState({removingAddon:!1});else{var t=this.state,n=t.currentSubscription,r=t.currentPlan;W().getInstance().logEvent("plan-changed",{"current-plan":r&&null!=r&&r.plan?r.plan.name:"","changed-plan":null==n?void 0:n.name}),this.setState({removingAddon:!1}),this.props.history.push({pathname:F.Z.BaseURL+L.Z.orderSubscribed,state:{paymentData:e.changePlanData.data,removeAddonMessage:"Thank you. You have now removed ".concat(this.state.removeAddonType===z.n$.elevenLabs?"ElevenLabs minutes":"Getty visuals"," add-on from your plan.")}})}}},{key:"getPlanChangeModalText",value:function(){switch((0,z.Mi)(this.props.currentSubscription?this.props.currentSubscription:{},this.state.plan?this.state.plan:{})){case"month-month":return""(pe||(pe=(0,o.Z)(["\nYou would not be able to use Professional plan features - HD resolution, custom Outro video, double video quota. Are you sure you want to switch? \n\n\nYour plan will be revised from the next billing date\n\n      "],["\nYou would not be able to use Professional plan features - HD resolution, custom Outro video, double video quota. Are you sure you want to switch? \\n\\n\nYour plan will be revised from the next billing date\\n\n      "])))(de||(de=(0,o.Z)([""])));case"year-month":return""(me||(me=(0,o.Z)(["\nThe monthly plan is 33% expensive than yearly plan. Are you sure you want to switch?\nour plan will be revised from the next billing date\n\n      "],["\nThe monthly plan is 33% expensive than yearly plan. Are you sure you want to switch?\nour plan will be revised from the next billing date\\n\n      "])))(he||(he=(0,o.Z)([""])));default:return""(fe||(fe=(0,o.Z)(["\nWould you like to switch from Professional to \n\nStarter plan? You would lose the features like \n\nHD quality video downloads, more video downloads and \n\nlots of customisation options.\n\n\n\n\nYour payment will be revised from the next billing date.\n\n\n      "],["\nWould you like to switch from Professional to \\n\nStarter plan? You would lose the features like \\n\nHD quality video downloads, more video downloads and \\n\nlots of customisation options.\n\\n\n\\n\nYour payment will be revised from the next billing date.\n\\n\n      "])))(ge||(ge=(0,o.Z)([""])))}}},{key:"render",value:function(){var e,t,n,r,s,i,o,c,l,u,d,p,h,m,S,j,w,I,T,E,A,_,R,N,D,U,G,W,J=this,ne=this.props,se=ne.currentSubscription,ae=ne.currentPlan,ie=ae.plan_code,oe=(null==ie?void 0:ie.toLowerCase().includes("annual"))||(null==ie?void 0:ie.toLowerCase().includes("app_sumo_pictory_tier")),ce=0,ue=this.props.isFreeTrial,de=((0,z.we)(this.state.username?this.state.username:""),!(null==ae||null===(e=ae.features)||void 0===e||null===(t=e.video)||void 0===t||!t.totalTextToSpeechDurationPerMonth)>0||!(null==ae||null===(n=ae.features)||void 0===n||null===(r=n.video)||void 0===r||!r.elevenLabsMinutes)),pe=!((null==ae||null===(s=ae.features)||void 0===s||null===(i=s.video)||void 0===i||!i.gettyVisuals)&&(0,z.hk)(ie)!==z.nX.professional&&(0,z.hk)(ie)!==z.nX.team||ue);if(ie&&(ie===H.yj.freeTrial||ie===H.yj.teamsFreeTrial)&&null!=se&&null!==(o=se.data)&&void 0!==o&&null!==(c=o.subscription)&&void 0!==c&&c.current_term_ends_at){var he=P()().startOf("day"),me=P()(se.data.subscription.current_term_ends_at,"YYYY-MM-DD");ce=(ce=P().duration(me.diff(he)).asDays())<0?0:ce}var ge=null;this.state.planCodeType==xe&&(-1===(ge=be.findIndex((function(e){return e.plan_code===ie})))?ge=null:ge+=5);var fe=Se;ie&&(ue||ie.indexOf("LimitedUse")>-1)&&(fe="limitedDefault");var ye=[];if(ie===H.yj.freeTrial&&this.state.planExpired&&0==this.state.isZohoSubscriptionFT&&null!=se&&null!==(l=se.data)&&void 0!==l&&l.subscription){var je=P()(se.data.subscription.current_term_ends_at),we=P()(se.data.subscription.current_term_ends_at).add(14,"days"),Ze=P()().startOf("day"),ke=P().duration(we.diff(Ze)).asDays();ke>=0?ye.push("Your free trial expired on ".concat(je.format("MMM-DD, YYYY"),", and your data will be erased 14 days after expiry (").concat(ke," days left).")):ye.push("Your free trial expired on ".concat(je.format("MMM-DD, YYYY"),", and your data was erased 14 days after expiry.")),ye.push("Please buy one of the plans to continue using Pictory and prevent your data from erasing.")}var Ce=1;null!=ae&&null!==(u=ae.features)&&void 0!==u&&null!==(d=u.teams)&&void 0!==d&&d.totalUsers&&(Ce=ae.features.teams.totalUsers);var Ie="";return se&&(this.props.scheduledSubscription||null!=se&&null!==(p=se.data)&&void 0!==p&&p.scheduledAddons)&&(Ie=this.getDowngradeBanner(se)),(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(V.Z,{history:this.props.history,openCreateTeamPopup:this.state.openCreateTeamPopup,resetOpenCreateTeamPopup:function(){J.setState({openCreateTeamPopup:!1})}}),this.state.showAlertNotification&&this.showAlertNotification(),this.props.scheduledSubscription?(0,le.jsx)(le.Fragment,{children:se&&Ie&&Ie.length>0&&(0,le.jsx)(te.Banner,{backgroundColor:"primary.lighter",textColor:"primary.darker",text:Ie})}):(0,le.jsx)(le.Fragment,{}),(0,le.jsxs)(g.Z,{className:"plansScrollbar",children:[(0,le.jsxs)(g.Z,{className:"container plans-content",style:{marginTop:"calc(1.7 * var(--app-header-height))"},children:[ie!==H.yj.userNotSubscribed&&(0,le.jsx)(g.Z,{className:"current-plan-container",children:(0,le.jsxs)(g.Z,{className:"current-plan col-md-12 self-centered",sx:{padding:"0 0 0 26px"},children:[(0,le.jsx)("h5",{className:"my-subscription-title",children:"Subscription Plan"}),(0,le.jsxs)("h5",{className:"my-subscription-name",children:[this.state.planCodeType==xe&&_e(ie).name,se.data.teamId&&"Free Trial"===(0,z.Gz)(se.name)?"Teams ":"",this.state.planCodeType==Se&&(0,z.Ff)(se.name)]}),(0,le.jsxs)(g.Z,{className:"vertical-points",children:[(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:"Status"}),(0,le.jsx)("h5",{className:"vertical-point-value",style:{textTransform:"none"},children:this.getStatusLabel(ue,se.status,ce)})]}),ue&&(null==se||null===(h=se.data)||void 0===h||null===(m=h.subscription)||void 0===m?void 0:m.current_term_ends_at)&&(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:"Plan End Date"}),(0,le.jsx)("h5",{className:"vertical-point-value",children:P()(null==se||null===(S=se.data)||void 0===S||null===(j=S.subscription)||void 0===j?void 0:j.current_term_ends_at).format("DD MMM YYYY")})]})||"",!ue&&(se.status==H.yG.non_renewing||se.status==H.yG.non_renewing2||se.status==H.yG.canceled||se.status==H.yG.cancelled||se.status==H.yG.cancelled_from_dunning)&&(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:"Plan End Date"}),(0,le.jsx)("h5",{className:"vertical-point-value ",children:P()(null==se||null===(w=se.data)||void 0===w||null===(I=w.subscription)||void 0===I?void 0:I.current_term_ends_at).format("DD MMM YYYY")}),(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:function(){J.props.history.push({pathname:F.Z.BaseURL+L.Z.billingInfo})},children:"Go to Billing"})]})||"",this.state.planCodeType==xe&&(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:" "}),(0,le.jsx)("h5",{className:"vertical-point-value",children:"Lifetime Access"}),(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:function(){J.props.history.push({pathname:F.Z.BaseURL+L.Z.billingInfo})},children:"Go to Billing"})]}),this.state.planCodeType==Se&&se.status!==H.yG.non_renewing&&se.status!==H.yG.non_renewing2&&se.status!==H.yG.canceled&&se.status!==H.yG.cancelled&&se.status!==H.yG.cancelled_from_dunning&&0==ue&&(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:this.props.scheduledSubscription?"Valid until":"Next Billing Cycle"}),(0,le.jsx)("h5",{className:"vertical-point-value",children:this.props.scheduledSubscription?P()(se.current_term_ends_at).format("DD MMM YYYY"):P()(se.next_billing_at).format("DD MMM YYYY")}),(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:function(){J.props.history.push({pathname:F.Z.BaseURL+L.Z.billingInfo})},children:"Go to Billing"})]})||"",(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:"Videos Used"}),(0,le.jsx)("h5",{className:"vertical-point-value",children:ie!==H.yj.hibernate?this.getNumberOfProjectsQuota(se,ae):(0,le.jsx)(le.Fragment,{children:"n/a"})}),(0,le.jsxs)(g.Z,{className:"vertical-point-button-with-info",children:[(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:function(){var e;null===(e=document.querySelector("#select-plan"))||void 0===e||e.scrollIntoView()},children:"Upgrade"}),(0,le.jsx)(v.Z,{title:"Upgrade your plan to get more videos",placement:"bottom",arrow:!0,children:(0,le.jsx)(Q.Z,{sx:{cursor:"pointer",color:"#d1d1d1",width:"16px",height:"16px","&:hover":{color:"#6F47CB"}}})})]})]}),(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:" Workspace Users"}),(0,le.jsx)("h5",{className:"vertical-point-value",children:this.state.isTeamPlan?this.getTeamUsersQuota(se,ae):"1 / 1"}),!this.state.isTeamPlan&&(!(null!=ae&&null!==(T=ae.features)&&void 0!==T&&T.teams)||(null==ae||null===(E=ae.features)||void 0===E||null===(A=E.teams)||void 0===A?void 0:A.totalUsers)<20)&&(0,le.jsx)(g.Z,{className:"vertical-point-button-with-info",children:(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:this.findTeamOnTeamsBuy,children:"Add More"})}),this.state.isTeamPlan&&(0,le.jsx)(g.Z,{className:"vertical-point-button-with-info",children:(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:function(){var e;null===(e=document.querySelector("#select-plan"))||void 0===e||e.scrollIntoView()},children:"Add More"})})]}),(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsx)("h5",{className:"vertical-point-title",children:"Transcription Hrs Used"}),(0,le.jsx)("h5",{className:"vertical-point-value",children:ie!==H.yj.hibernate?this.getTranscriptionQuota(se,ae):(0,le.jsx)(le.Fragment,{children:"n/a"})})]}),(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsxs)("h5",{className:"vertical-point-title",children:[this.state.isTeamPlan?"Team Brand Kits Used":"Brand Kits Used"," "]}),(0,le.jsx)("h5",{className:"vertical-point-value",children:this.getMyBrandsQuota(se,ae)})]}),(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsxs)("h5",{className:"vertical-point-title",children:["ElevenLabs Voiceover Minutes"," "]}),(0,z.hk)(ie)===z.nX.freeTrial||(0,z.hk)(ie)===z.nX.teamFreeTrail?(0,le.jsx)(g.Z,{className:"vertical-point-button-with-info",children:(0,le.jsx)(x.Z,{variant:"outlined",sx:{border:"1px solid #D1D1D1"},onClick:function(){var e;null===(e=document.querySelector("#select-plan"))||void 0===e||e.scrollIntoView()},children:(0,le.jsx)(b.Z,{variant:"text_base",sx:{color:"grey.900",fontWeight:"600"},children:"Buy Plan"})})}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("h5",{className:"vertical-point-value",children:de?this.getElevenlabsQuota():"Disabled"}),!Ue.includes(null==se||null===(_=se.status)||void 0===_?void 0:_.toLowerCase())&&(0,le.jsx)(g.Z,{children:de?(0,le.jsx)(g.Z,{className:"vertical-point-button-with-info",children:(0,le.jsx)(v.Z,{title:this.state.isTeamPlan&&!this.state.isAdminAndTeamOwner?"Only the owner can make changes to the Teams subscription":"",arrow:!0,children:(0,le.jsx)(g.Z,{children:(0,le.jsx)(x.Z,(R={className:this.state.isTeamPlan&&!this.state.isAdminAndTeamOwner?"disabled":"",variant:"text"},(0,a.Z)(R,"className","vertical-point-button"),(0,a.Z)(R,"onClick",this.openElevenLabDialog),(0,a.Z)(R,"disabled",this.state.isTeamPlan&&!this.state.isAdminAndTeamOwner),(0,a.Z)(R,"children","Modify"),R))})})}):(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:this.openElevenLabDialog,children:"Buy Add-on"})})]})]}),(0,le.jsxs)(g.Z,{className:"vertical-point",children:[(0,le.jsxs)("h5",{className:"vertical-point-title",children:["Getty Images"," "]}),(0,z.hk)(ie)===z.nX.freeTrial||(0,z.hk)(ie)===z.nX.teamFreeTrail?(0,le.jsx)(x.Z,{variant:"outlined",sx:{border:"1px solid #D1D1D1"},onClick:function(){var e;null===(e=document.querySelector("#select-plan"))||void 0===e||e.scrollIntoView()},children:(0,le.jsx)(b.Z,{variant:"text_base",sx:{color:"grey.900",fontWeight:"600"},children:"Buy Plan"})}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("h5",{className:"vertical-point-value",children:pe?"Enabled":"Disabled"}),pe||Ue.includes(null==se||null===(N=se.status)||void 0===N?void 0:N.toLowerCase())||(0,z.hk)(ie)!==z.nX.starter&&(0,z.hk)(ie)!==z.nX.appSumo?"":(0,le.jsx)(x.Z,{variant:"text",className:"vertical-point-button",onClick:function(){J.props.currentPlan&&J.updateAddon(z.n$.gettyVisuals,J.props.currentPlan,pe)},children:"Buy Add-on"})]})]}),(0,le.jsxs)(b.Z,{variant:"text_xs",sx:{color:"#6C6C6C",m:"4px",width:"100%",textAlign:"left",display:"block"},children:["Quotas reset on the 1st of every month at 9 AM GMT (",this.renderLocaleTime(),")."]})]})]})})||"",(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(g.Z,{className:"choose-billing-container",children:[(0,le.jsx)(g.Z,{className:"switch-container",children:(0,le.jsx)(g.Z,{sx:{display:"flex"},children:(0,le.jsxs)(g.Z,{className:"mask-box",children:[(0,le.jsx)(g.Z,{className:"mask",style:{transform:"translateX(".concat(this.state.billingTypeYearly?"75px":0,")")}}),(0,le.jsx)(x.Z,{disableRipple:!0,variant:"text",disableElevation:!0,sx:{color:this.state.billingTypeYearly?"#282828":"#ffffff",backgroundColor:this.state.billingTypeYearly?"#ffffff !important":"#6F47CB !important",fontWeight:"600 !important"},style:{backgroundColor:"transparent",boxShadow:"none"},onClick:function(){return J.changeCheckedValue()},children:"Monthly"}),(0,le.jsx)(x.Z,{disableRipple:!0,variant:"text",disableElevation:!0,sx:{color:this.state.billingTypeYearly?"#ffffff":"#282828",backgroundColor:this.state.billingTypeYearly?"#6F47CB !important":"#ffffff !important",fontWeight:"600 !important"},style:{backgroundColor:"transparent",boxShadow:"none"},onClick:function(){return J.changeCheckedValue()},children:"Yearly"})]})})}),(0,le.jsxs)(g.Z,{className:"switch-container",style:{marginRight:"50px"},children:[(0,le.jsx)("span",{className:"red small-font",style:{fontSize:"12px",margin:"0px"},children:"SAVE MORE THAN 15%"}),(0,le.jsx)("span",{style:{margin:"1px"},children:(0,le.jsx)(q.y4,{})})]})]}),this.state.planCodeType===xe&&(!this.props.scheduledSubscription||!this.props.scheduledSubscription.plan||this.props.scheduledSubscription.plan.plan_code!==H.yj.hibernate)&&ie!==H.yj.hibernate&&!1===Ue.includes(se.status&&se.status.toLowerCase())&&(0,le.jsx)(g.Z,{className:"row select-plan",children:be.map((function(e,t){var n;return e.plan_code!==ie?(0,le.jsx)(le.Fragment,{}):(0,le.jsxs)(g.Z,{className:"plan",sx:{backgroundColor:"grey.0",borderRadius:"16px"},children:[(0,le.jsxs)(g.Z,{sx:{padding:"24px"},children:[(0,le.jsx)(b.Z,{variant:"text_2xl",sx:{fontWeight:"600"},children:e.name}),(0,le.jsxs)(b.Z,{className:"price",sx:{display:"flex",flexDirection:"column",textAlign:"left !important"},children:[(0,le.jsx)(b.Z,{variant:"text_base",sx:{textDecoration:"line-through",color:"grey.600",fontWeight:"600",margin:"6px 0 0 0 !important"},children:e.orig_price}),(0,le.jsxs)(b.Z,{variant:"text_5xl",sx:{fontWeight:"600",display:"flex",alignItems:"baseline"},children:[e.price,"/",(0,le.jsx)(b.Z,{variant:"text_base",className:"price-feature",sx:{color:"grey.600"},children:e.price_feature})]})]})]}),(0,le.jsx)(g.Z,{sx:{padding:"24px 24px 24px 24px",borderTop:"1px solid",borderColor:"grey.200"},children:Ue.includes(se.status&&se.status.toLowerCase())?(0,le.jsx)("a",{href:J.state.planChangeUrl,children:(0,le.jsx)(x.Z,{className:"upgrade-button button",children:"Buy Now"})}):e.plan_code===ie?(0,le.jsx)(x.Z,{disabled:!0,className:"upgrade-button button",sx:{backgroundColor:e.plan_code.includes("Starter")?"secondary.lighter":"warning.light",color:J.getCardUiParams(e.name,e.plan_code,ie,ue,!(null==se||null===(n=se.data)||void 0===n||!n.teamId)).buttonTextColor},children:"Current plan"}):(0,le.jsx)("a",{href:J.state.planChangeUrl,children:(0,le.jsx)(x.Z,{className:"upgrade-button button",children:"Buy Now"})})})]},t)}))}),(0,le.jsxs)(y.Z,{className:"row select-plan",spacing:2,horizontalSpacing:3,orientation:"row",sx:{position:"relative"},children:[(0,le.jsx)(g.Z,{id:"select-plan",sx:{position:"absolute",top:"-60px"}}),this.state.plansProperties&&this.props.plansList.map((function(e,t){var n,r,s,i=J.getCardUiParams(e.name,e.plan_code,ie,ue,!(null==se||null===(n=se.data)||void 0===n||!n.teamId));if(e.interval_unit===J.state.planType&&!De(e.plan_code))return(0,le.jsxs)(g.Z,{className:"col-md-3 plan",sx:{width:"340px !important",maxWidth:"340px !important",height:"max-content",backgroundColor:i.bodyColor,borderColor:e.plan_code===ie?i.iconColor:i.headerColor,borderWidth:"2px",borderStyle:"solid"},children:[J.renderCardHeader(ue,i,ie,!(null==se||null===(r=se.data)||void 0===r||!r.teamId),e.plan_code),(0,le.jsxs)("p",{className:"price",children:["$",J.state.plansProperties[t].price," / month"]}),i.isStarter||e.plan_code===ie&&Ue.includes(se.status&&se.status.toLowerCase())?(0,le.jsx)(le.Fragment,{}):(0,le.jsxs)(g.Z,{style:{width:"276px"},children:[!J.state.plansProperties[t].isNumberOfVideosFixed&&(0,le.jsxs)(g.Z,{children:[(0,le.jsx)(b.Z,{variant:"text_sm",sx:{m:"0px",color:"grey.900"},children:"Number of videos / month"}),(0,le.jsx)(k.ZP,{min:i.numberOfVideosMarksMin,max:i.numberOfVideosMarksMax,step:i.numberOfVideosMarksStep,marks:i.numberOfVideosMarks,valueLabelDisplay:"auto",sx:{color:i.iconColor,width:"100%"},"aria-label":"videos",value:J.state.plansProperties[t].numberOfVideos,onChange:e.plan_code===ie?function(n,r){return J.calculatePrice(n,r,t,e,"numberOfVideos")}:function(n,r){J.calculateVideoDuration(n,r,t,e),J.calculatePrice(n,r,t,e,"numberOfVideos")}})]}),!J.state.plansProperties[t].isNumberOfVideosFixed&&(0,le.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px",backgroundColor:i.innerboxBackgroundColor,borderRadius:"4px",paddingBottom:"6px",paddingTop:"6px",border:"1px solid",borderColor:"grey.200"},children:[(0,le.jsx)(v.Z,{title:"Applies to script or article to video only",placement:"top-start",arrow:!0,children:(0,le.jsx)("span",{style:{margin:"7px",minWidth:"18px"},children:(0,le.jsx)(Y.Z,{sx:{margin:"7px",width:"20px",height:"20px",color:"#5939A2"}})})}),(0,le.jsxs)("span",{style:{fontSize:"12px",marginRight:"7px",minWidth:"228px"},children:["You'll be able to create each video of up",(0,le.jsx)("br",{})," ","to ",(0,le.jsxs)("span",{style:{fontWeight:"700"},children:[J.state.plansProperties[t].videoDuration+" minutes. ",(0,le.jsx)("span",{className:"increase-video-length-anchor",children:(0,le.jsx)("a",{href:"javascript:void(0)",onClick:function(e){return J.changeVideoLength(e,t)},style:{fontWeight:"700",color:i.linkColor},children:(0,le.jsx)(re.rU,{href:"javascript:;",children:(0,le.jsx)(b.Z,{variant:"text_xs",sx:{fontWeight:"700",color:"#5939A2",textDecoration:"underline","&:hover":{textDecoration:"underline"}},children:"Change video length"})})})})]})]})]}),J.state.plansProperties[t].isNumberOfVideosFixed&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(g.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px",backgroundColor:i.innerboxBackgroundColor,borderRadius:"4px",paddingBottom:"6px",paddingTop:"6px",border:"1px solid",borderColor:"grey.200"},children:(0,le.jsxs)(g.Z,{style:{marginRight:"12px",marginLeft:"12px",flexDirection:"row",display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[(0,le.jsx)(b.Z,{variant:"text_sm",children:"Number of Videos"}),(0,le.jsx)(b.Z,{variant:"text_sm",children:J.state.plansProperties[t].numberOfVideos})]})}),i.isTeam&&(0,le.jsx)(g.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px",backgroundColor:i.innerboxBackgroundColor,borderRadius:"4px",paddingBottom:"6px",paddingTop:"6px",border:"1px solid",borderColor:"grey.200"},children:(0,le.jsxs)(g.Z,{style:{marginRight:"12px",marginLeft:"12px",flexDirection:"row",display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[(0,le.jsx)(b.Z,{variant:"text_sm",children:"Number of team members"}),(0,le.jsx)(b.Z,{variant:"text_sm",children:J.state.plansProperties[t].numberOfTeamMembers})]})})]}),J.state.plansProperties[t].isNumberOfVideosFixed&&(0,le.jsxs)(g.Z,{sx:{display:"block"},children:[(0,le.jsx)(b.Z,{variant:"text_sm",sx:{m:"0px",color:"grey.900"},children:"Video length"}),(0,le.jsx)($.default,{min:J.state.plansProperties[t].minVideoDuration,max:J.state.plansProperties[t].maxVideoDuration,step:1,marks:J.state.plansProperties[t].videoDurationMarks,valueLabelDisplay:"auto",sx:{color:i.iconColor,width:"100%"},valueLabelFormat:function(e){var n,r,s=null===(n=J.state.plansProperties[t])||void 0===n||null===(r=n.videoDurationMarks)||void 0===r?void 0:r[e];return null==s?void 0:s.durationValue},"aria-label":"videoDuration",value:J.state.plansProperties[t].currentVideoDurationIndex,onChange:function(n,r){return J.calculatePrice(n,r,t,e,"videoDuration")}})]}),i.isTeam&&0==J.state.plansProperties[t].isNumberOfVideosFixed&&(0,le.jsxs)(g.Z,{children:[(0,le.jsx)(b.Z,{variant:"text_sm",sx:{m:"0px",color:"grey.900"},children:"Number of team members"}),(0,le.jsx)(k.ZP,{min:2,max:20,step:1,marks:Oe,valueLabelDisplay:"auto",sx:{color:i.iconColor},"aria-label":"members",value:J.state.plansProperties[t].numberOfTeamMembers,onChange:function(n,r){return J.calculatePrice(n,r,t,e,"numberOfTeamMembers")}})]})]}),J.state.plansProperties[t].isNumberOfVideosFixed&&(0,le.jsx)("a",{href:"javascript:;",onClick:function(){var e=J.state.plansProperties;e[t].isNumberOfVideosFixed=!1,J.setState({plansProperties:e})},children:(0,le.jsxs)(g.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"4px",marginTop:"12px"},children:[(0,le.jsx)("span",{style:(s={minWidth:"18px",paddingRight:"5px"},(0,a.Z)(s,"minWidth","17px"),(0,a.Z)(s,"paddingRight","5px"),(0,a.Z)(s,"marginTop","-3px"),s),children:(0,le.jsx)(q.$E,{width:"19px",height:"19px",fillColor:i.iconColor})}),(0,le.jsx)("span",{style:{fontSize:"13px",marginRight:"12px",flexDirection:"row",display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",color:i.iconColor,marginLeft:"-2px"},children:"Back"})]})}),J.renderFeaturesListForPlan(e.plan_code,ie,i.iconColor),(0,le.jsx)(g.Z,{sx:{display:"flex",alignItems:"end",height:"100%"},children:i.isTeam&&J.props.showDummyTeamCard?(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:i.iconColor,f:f},onClick:function(){J.findTeamOnTeamsBuy()},children:J.state.findTeaminProgress?(0,le.jsx)("div",{class:"dot-flashing"}):"Buy Now"}):e.plan_code===ie?Ue.includes(se.status&&se.status.toLowerCase())?J.renderRenewButton(i,e,se):J.renderActiveCurrentPlanButton(i,e,ae,t,Ce):1==J.state.isAdminAndTeamOwner?(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:i.iconColor,color:i.buttonTextColor},onClick:function(){return J.changePlan(e,se&&se.plan&&ae&&0==ue&&(!De(ae.plan_code)&&se.plan.price>e.recurring_price?"downgrade":"upgrade"))||!1},children:se&&se.plan&&0==ue&&(De(ae.plan_code)||se.plan.price>e.recurring_price||["cancelled","canceled","cancelled_from_dunning"].includes(se.status&&se.status.toLowerCase())?"Buy Now":"Upgrade")||"Buy Now"}):i.isTeam?(0,le.jsx)(v.Z,{title:"Only the owner can make changes to the Teams subscription",arrow:!0,children:(0,le.jsx)("div",{style:{cursor:"not-allowed",display:"inline-block"},children:(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:"grey.300"},disabled:!0,children:"Buy Now"})})}):(0,le.jsx)(x.Z,{className:"upgrade-button button",sx:{backgroundColor:i.iconColor,color:i.buttonTextColor},onClick:function(){return J.changePlan(e,se&&se.plan&&ae&&!1===ue&&(!De(ae.plan_code)&&se.plan.price>e.recurring_price?"downgrade":"upgrade"))||!1},children:se&&se.plan&&!1===ue&&(De(ae.plan_code)||se.plan.price>e.recurring_price||["cancelled","canceled","cancelled_from_dunning"].includes(se.status&&se.status.toLowerCase())?"Buy Now":"Upgrade")||"Buy Now"})})]},t)}))]})]})]}),(0,le.jsx)(g.Z,{style:{textAlign:"center",margin:"15px"},className:"see-all-features-anchor",children:(0,le.jsx)(re.rU,{onClick:function(){document.getElementById("planDetails").scrollIntoView()},children:"See all features"})}),(0,le.jsx)(g.Z,{className:"current-plan-container w-100",sx:{padding:"0 20px 0 24px",marginTop:"80px !important",marginBottom:"80px"},children:(0,le.jsxs)(y.Z,{direction:"row",spacing:2,className:"w-100 row",children:[(0,le.jsx)(g.Z,{className:"col-md-4 pl-1 m-0 pr-1 col-sm",children:(0,le.jsxs)(y.Z,{direction:"column",gap:2.5,children:[(0,le.jsx)(b.Z,{variant:"text_2xl",sx:{display:"block",fontWeight:"600"},children:"Add-ons"}),(0,le.jsx)(b.Z,{variant:"text_3xl",sx:{color:"#5939A2",display:"block",padding:"0 40px 0 0"},children:"Boost your plan when you add on these premium features:"}),(0,le.jsx)(b.Z,{variant:"text_sm",sx:{border:"1px solid",borderColor:"grey.200",padding:"1em",display:"block",width:"max-content",borderRadius:"8px",color:"grey.600"},children:"Included with Professional and Teams plans"})]})}),(0,le.jsx)(g.Z,{className:"col-md-4 pl-1 m-0 pr-1",children:(0,le.jsxs)(g.Z,{className:"add-on-card-container",children:[pe&&(0,le.jsx)(b.Z,{variant:"text_sm",sx:{backgroundColor:"#EEFBF4",color:"#17663A",position:"absolute",right:"16px",top:"14px",padding:"4px 8px",borderRadius:"8px"},children:"Active"}),(0,le.jsx)(g.Z,{className:"add-on-getty-bg"}),(0,le.jsxs)(g.Z,{sx:{padding:"16px 24px 24px 24px"},children:[(0,le.jsx)(b.Z,{variant:"text_xl",sx:(D={fontWeight:"600"},(0,a.Z)(D,"fontWeight","600"),(0,a.Z)(D,"marginBottom","10px"),(0,a.Z)(D,"display","block"),D),children:"Getty Images Stock Visuals"}),(0,le.jsx)(b.Z,{sx:{display:"block",color:"grey.600",marginBottom:"10px"},children:"Access 10 million premium stock visuals from Getty Images."}),(0,le.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,le.jsxs)(b.Z,{variant:"text_sm",children:[oe?"$8":"$10","/month unlimited use"]}),(0,z.hk)(ie)!==z.nX.professional&&(0,z.hk)(ie)!==z.nX.team&&!Ue.includes(null==se||null===(U=se.status)||void 0===U?void 0:U.toLowerCase())&&(0,le.jsx)(v.Z,{title:(0,z.hk)(ie)===z.nX.freeTrial||(0,z.hk)(ie)===z.nX.teamFreeTrail?"Requires plan subscription":"",arrow:!0,children:(0,le.jsx)("div",{children:pe?(0,le.jsx)(x.Z,{variant:"outlined",onClick:function(){return J.setState({onRemoveAddon:!0,removeAddonType:z.n$.gettyVisuals,removeAddonTitle:"Remove Gettyimages subscription",removeAddonMessage:"You will no longer be able to access 10M+ premium visuals from Getty Images by the term end date. You can resubscribe at any time to regain access."})},children:(0,le.jsx)(b.Z,{variant:"text_sm",children:"Remove Add-on"})}):(0,le.jsx)(x.Z,{variant:"contained",onClick:function(){return J.updateAddon(z.n$.gettyVisuals,ae,pe)},disabled:(0,z.hk)(ie)===z.nX.freeTrial||(0,z.hk)(ie)===z.nX.teamFreeTrail,children:(0,le.jsx)(b.Z,{variant:"text_sm",children:"Buy Add-on"})})})})]})]})]})}),(0,le.jsx)(g.Z,{className:"col-md-4 pl-1 m-0 pr-1",children:(0,le.jsxs)(g.Z,{className:"add-on-card-container",children:[de&&(0,le.jsx)(b.Z,{variant:"text_sm",sx:{backgroundColor:"#EEFBF4",color:"#17663A",position:"absolute",right:"16px",top:"14px",padding:"4px 8px",borderRadius:"8px"},children:"Active"}),(0,le.jsx)(g.Z,{className:"add-on-eleven-labs-bg"}),(0,le.jsxs)(g.Z,{sx:{padding:"16px 24px 24px 24px"},children:[(0,le.jsx)(b.Z,{variant:"text_xl",sx:(G={fontWeight:"600"},(0,a.Z)(G,"fontWeight","600"),(0,a.Z)(G,"marginBottom","10px"),(0,a.Z)(G,"display","block"),G),children:"Elevenlabs Premium AI Voices"}),(0,le.jsx)(b.Z,{sx:{display:"block",color:"grey.600",marginBottom:"10px"},children:"Generate voiceover using 48 hyper-realistic AI voices in 29 languages."}),(0,le.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,le.jsxs)(b.Z,{variant:"text_sm",children:[oe?"$8":"$10","/month for 60 min"]}),this.render11LabsBuyButton(ie,ue,this.state.isAdminAndTeamOwner,de,null==se?void 0:se.status)]})]})]})})]})}),(0,le.jsx)(g.Z,{sx:{backgroundColor:"grey.0",padding:"42px 45px 72px 54px"},children:(0,le.jsx)(g.Z,{className:"current-plan-container w-100",sx:{padding:"0 20px"},children:(0,le.jsxs)(y.Z,{direction:"row",spacing:2,className:"w-100",children:[(0,le.jsx)(g.Z,{className:"col-md-4 pl-1 pr-1",children:(0,le.jsxs)(y.Z,{direction:"column",gap:2.5,children:[(0,le.jsx)(b.Z,{variant:"text_2xl",children:"All plans include"}),(0,le.jsx)(b.Z,{variant:"text_3xl",sx:{color:"#5939A2",fontWeight:"400",lineHeight:"40px"},children:"Pictory's best-in-class video platform comes packed with powerful features, including:"})]})}),(0,le.jsxs)(g.Z,{className:"col-md-8 row pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:"row pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:"col-md-4 pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:" flex-center-column  mb-5",sx:{width:"80%",margin:"0 auto"},children:[(0,le.jsx)(q.Z9,{}),(0,le.jsx)(b.Z,{variant:"text_base",sx:{color:"grey.600"},children:"Convert scripts, blogs, and web pages to video"})]})," "]}),(0,le.jsxs)(g.Z,{className:"col-md-4 pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:" flex-center-column  mb-5",sx:{width:"80%",margin:"0 auto",marginTop:"10px"},children:[(0,le.jsx)(q.gL,{}),(0,le.jsxs)(b.Z,{variant:"text_base",sx:{color:"grey.600"},children:["Automatically transcribe and caption videos"," "]})]})," "]}),(0,le.jsxs)(g.Z,{className:"col-md-4 pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:" flex-center-column  mb-5",sx:{width:"80%",margin:"0 auto"},children:[(0,le.jsx)(q.t9,{}),(0,le.jsx)(b.Z,{variant:"text_base",sx:{color:"grey.600"},children:"Generate conversational AI voiceover"})]})," "]})]}),(0,le.jsxs)(g.Z,{className:"row pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:"col-md-4 pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:" flex-center-column ",sx:{width:"80%",margin:"0 auto"},children:[(0,le.jsx)(q.Oi,{}),(0,le.jsxs)(b.Z,{variant:"text_base",sx:{color:"grey.600"},children:["Edit video recordings with text and create highlights"," "]})]})," "]}),(0,le.jsxs)(g.Z,{className:"col-md-4 pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:" flex-center-column ",sx:{width:"80%",margin:"0 auto"},children:[(0,le.jsx)(q.yF,{}),(0,le.jsx)(b.Z,{variant:"text_base",sx:{color:"grey.600"},children:"Access millions of stock videos and images"})]})," "]}),(0,le.jsxs)(g.Z,{className:"col-md-4 pl-1 pr-1",children:[(0,le.jsxs)(g.Z,{className:" flex-center-column ",sx:{width:"80%",margin:"0 auto"},children:[(0,le.jsx)(q.B3,{}),(0,le.jsx)(b.Z,{variant:"text_base",sx:{color:"grey.600"},children:"Repurpose video for multiple platforms at 1080p"})]})," "]})]})]})]})})}),(0,le.jsx)(ve,{open:this.state.elevenLabsAddon,updateAddon:this.updateAddon,currentPlan:ae,scheduledElevenlabsMins:this.getElevenlabsScheduledMinutes(se),username:(null===(W=this.state.user)||void 0===W?void 0:W.username)||"",onClose:this.onElevenLabsDialogClose,removeAddon:function(){J.setState({onRemoveAddon:!0,removeAddonType:z.n$.elevenLabs,removeAddonTitle:"Remove Elevenlabs subscription",removeAddonMessage:"You will lose access to Premium AI voiceover generation by the term end date. You can resubscribe at any time to regain access."})}}),(0,le.jsx)(g.Z,{id:"planDetails",sx:{mb:"4rem"}}),(0,le.jsx)(K.Z,{inputPlanColumnNumber:ge,planCodeType:fe}),(0,le.jsx)(g.Z,{sx:{height:"3rem"}})]}),(0,le.jsx)(g.Z,{id:"downgrade-confirmation-modal",className:"confirmation-dialog negative modal fade",role:"dialog",children:(0,le.jsx)(g.Z,{className:"modal-dialog",children:(0,le.jsx)(g.Z,{className:"modal-content",children:(0,le.jsxs)(g.Z,{className:"modal-body",children:[(0,le.jsx)("h4",{className:"blue",children:"Plan change confirmation!"}),(0,le.jsx)("p",{}),(0,le.jsxs)(g.Z,{className:"buttons-container",children:[(0,le.jsx)("a",{type:"button",className:"btn btn-default upgrade-button header-links",onClick:this.hideDowngradePopup,children:"No"}),(0,le.jsx)(x.Z,{className:"upgrade-button button",onClick:function(){J.changePlan(J.state.plan,!1,!0)},children:"Yes, switch"})]})]})})})}),this.state.planExpired&&0==this.state.isZohoSubscriptionFT?(0,le.jsx)(ee.default,{icon:(0,le.jsx)(X.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",open:!!this.state.showSwitchToPersonalWS,title:ue?"Your Free Trial has expired":ie!==H.yj.hibernate||Ue.includes(se.status&&se.status.toLowerCase())?"Your subscription has been cancelled":"Your subscription has been paused",message:ue?ye[0]:ie!==H.yj.hibernate||Ue.includes(se.status&&se.status.toLowerCase())?"Please buy one of the plans to continue using Pictory":"Please upgrade to continue using Pictory",message2:ue?ye[1]:null,primaryButtonLabel:"See plans",primaryButtonOnClick:function(){J.setState({planExpired:!1})}}):(0,le.jsx)(le.Fragment,{}),this.state.blockUser?(0,le.jsx)(ee.default,{icon:(0,le.jsx)(X.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",open:!0,title:ue?"Your Free Trial has expired":ie!==H.yj.hibernate||Ue.includes(se.status&&se.status.toLowerCase())?"Your subscription has been cancelled":"Your subscription has been paused",message:ue?"You can extend your free trial for 14 more days by clicking on the button below. You will be logged out as a part of this process.":ie!==H.yj.hibernate||Ue.includes(se.status&&se.status.toLowerCase())?"Please buy one of the plans to continue using Pictory":"Please upgrade to continue using Pictory",message2:null,primaryButtonLabel:"Extend Free Trial",primaryButtonOnClick:function(){J.props.extendFreeTrial()}}):(0,le.jsx)(le.Fragment,{}),(0,le.jsx)(C.Z,{maxWidth:"lg",open:this.state.openEnquiryForm,children:(0,le.jsxs)(g.Z,{sx:{minWidth:"1000px",minHeight:"500px"},children:[(0,le.jsx)(Z.Z,{sx:{position:"absolute",right:"25px",top:"10px"},onClick:function(){return J.setState({openEnquiryForm:!1})},children:(0,le.jsx)(B.Z,{})}),(0,le.jsx)("iframe",{frameBorder:"0",style:{height:"90vh",width:"100%",border:"none"},src:"https://forms.zohopublic.com/pictorycorp/form/EnterpriseEnquiryForm/formperma/tECSU-199Jf75RYaBOBebXSLqbHxjx1rX70gnJzvEdw"})]})}),this.state.showSwitchToPersonalWS?(0,le.jsx)(ee.default,{icon:(0,le.jsx)(X.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",open:!!this.state.showSwitchToPersonalWS,title:"Hold On!",message:"You can purchase Starter and Professional plans only on your personal workspace",primaryButtonLabel:"Switch to Personal Workspace",primaryButtonOnClick:function(){J.switchTeam(H.vn),J.setState({showSwitchToPersonalWS:!1})},secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){return J.setState({showSwitchToPersonalWS:!1})}}):(0,le.jsx)(le.Fragment,{}),this.state.showSwitchToCreateTeamWS?(0,le.jsx)(ee.default,{icon:(0,le.jsx)(Y.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",open:!!this.state.showSwitchToCreateTeamWS,title:"Hold On!",message:"We will be creating a new teams workspace for you, to upgrade to teams plan.",primaryButtonLabel:"Confirm",primaryButtonOnClick:function(){J.setState({openCreateTeamPopup:!0}),J.setState({showSwitchToCreateTeamWS:!1})},secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){return J.setState({showSwitchToCreateTeamWS:!1})}}):(0,le.jsx)(le.Fragment,{}),this.state.showSwitchToTeamWS?(0,le.jsx)(ee.default,{icon:(0,le.jsx)(Y.Z,{color:"warning"}),iconBgPaletteColor:"warning.lighter",open:!!this.state.showSwitchToTeamWS,title:"Hold On!",message:"We noticed that you already have your own team. You can make your subscriptions changes there.",primaryButtonLabel:"Take me to my team",primaryButtonOnClick:function(){J.switchTeam(J.state.teamId),J.setState({showSwitchToPersonalWS:!1})},secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){return J.setState({showSwitchToTeamWS:!1})}}):(0,le.jsx)(le.Fragment,{}),this.state.onRemoveAddon&&(0,le.jsx)(ee.default,{icon:(0,le.jsx)(M.Z,{color:"error"}),primaryButtonColor:"error.main",iconBgPaletteColor:"error.lighter",open:this.state.onRemoveAddon,title:this.state.removeAddonTitle,message:this.state.removeAddonMessage,primaryButtonLabel:"Remove add-on",primaryLoading:this.state.removingAddon,primaryButtonOnClick:function(){J.removeAddon(J.state.removeAddonType,se,J.state.removeAddonType,null,!0)},secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){return J.setState({onRemoveAddon:!1})}}),(0,le.jsx)(O.Z,{active:this.state.isActive,spinner:!0,text:"Please wait..."})]})}}]),r}(N.Component),Fe=(0,D.$j)((function(e){var t,n,r=[],a={},i={},o=!0,c=[],l=!1,u=!1;if(e.subscription.plansList&&"success"==e.subscription.plansList.status){var d=e.subscription.plansList.list,p=!1,h=!1;d.map((function(e){"app_sumo_pictory_tier1"==e.plan_code||"app_sumo_pictory_tier2"==e.plan_code||"app_sumo_pictory_tier3"==e.plan_code?p=!0:"teams monthly"!=e.name.toLowerCase()&&"teams annual"!=e.name.toLowerCase()||(h=!0)})),0==h&&(d=[].concat((0,s.Z)(e.subscription.plansList.list),ke),c=Ce,l=!0);var m=-1;0==p?r=[null,null,null,null,null,null]:(r=[null,null,null,null,null,null,null],m=0),d.map((function(e){var t=e.plan_code.toLowerCase(),n=e.interval_unit;"app_sumo_pictory_tier1"==t||"app_sumo_pictory_tier2"==t||"app_sumo_pictory_tier3"==t?r[m]=e:t.includes("starter")&&"years"!=n?r[m+1]=e:t.includes("starter")&&"years"==n?r[m+2]=e:t.includes("professional")&&"years"!=n?r[m+3]=e:t.includes("professional")&&"years"==n?r[m+4]=e:t.includes("team")&&"years"!=n?r[m+5]=e:t.includes("team")&&"years"==n&&(r[m+6]=e)})),o=!1}else o=!e.subscription.plansList||"failed"!=e.subscription.plansList.status;return e.subscription.addonsList&&"success"==e.subscription.addonsList.status&&(c=e.subscription.addonsList.list,o=!1),e.subscription.currentSubscription&&!_().isEmpty(e.subscription.currentSubscription)?null!==(t=a=e.subscription.currentSubscription)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.organization_id&&(u="chargebee"===a.data.organization_id):(e.subscription.currentSubscription&&_().isEmpty(e.subscription.currentSubscription),o=!1),e.subscription.currentPlan&&!_().isEmpty(e.subscription.currentPlan)&&(i=e.subscription.currentPlan),{showDummyTeamCard:l,plansList:r,addonsList:c,currentSubscription:a,loader:o,currentPlan:i,isFreeTrial:e.subscription.isFreeTrial,isCBSubscription:u,getScheduledChangesResult:e.subscription.getScheduledChangesResult,scheduledSubscription:e.subscription.scheduledSubscription,teams:e.teams.teamsResult,changePlanData:e.subscription.changePlan,reset:e.subscription.reset}}),{getPlansList:U.Z.getPlansList,getAddons:U.Z.getAddons,getCurrentSubscription:U.Z.getCurrentSubscription,cancelSubscription:U.Z.cancelSubscription,getScheduledChanges:U.Z.getScheduledChangesRequest,subscriptionHelp:U.Z.subscriptionHelpRequest,showAlertNotification:U.Z.showAlertNotificationRequest,getTeamsRequest:U.Z.getTeamsRequest,changePlan:U.Z.changePlan,extendFreeTrial:U.Z.extendFreeTrial})(Le)},43794:function(e,t,n){"use strict";var r=n(47313),s=n(48502),a=n(33834),i=n(80699),o=n(24873),c=n(46417);t.Z=function(e){r.useEffect((function(){var e=window.top,t={height:document.body.scrollHeight};e.postMessage(t,"*")}),[]);var t=(0,c.jsx)(a.Wd,{}),n=(0,c.jsx)(a.Wh,{}),d=(a.PC,l.colNumsLimitedDefaultPlan);e.planCodeType==s._h&&(d=l.colNumsAppsumoPlan);var p=function(s){var o=s.rowData,l=s.isHeading;return o.filter((function(t,n){return!(!e.inputPlanColumnNumber||e.inputPlanColumnNumber!==n)||d.includes(n)})).map((function(e,s){return(0,c.jsxs)(r.Fragment,{children:[l&&(0,c.jsx)("th",{scope:"col",children:e}),!l&&0==s&&(0,c.jsx)("th",{scope:"row",children:e}),!l&&0!=s&&!e.includes("*")&&(0,c.jsx)("td",{children:"TRUE"==e?t:"FALSE"==e?n:e}),!l&&0!=s&&e.includes("*")&&(0,c.jsxs)("td",{children:["TRUE"==e?t:"FALSE"==e?n:e.replace("*"," "),(0,c.jsx)(i.Z,{title:"You can customize this",placement:"top",arrow:!0,children:(0,c.jsx)("span",{children:e.includes("*")&&(0,c.jsx)(a.ep,{height:"16px",width:"16px",strokeColor:"#607D8B"})})})]})]},"".concat(s,"__"))}))},h=0;return(0,c.jsx)(o.Z,{className:"plan-features",children:(0,c.jsxs)("div",{className:"compare-plans",children:[(0,c.jsx)("h3",{className:"compare-plan",style:{textAlign:"left",fontWeight:"700"},children:"Compare Plans"}),u.filter((function(e,t){return l.headingRowNums.includes(t)})).map((function(e,t){var n=l.headingRowNums[h];h++;var r=l.headingRowNums[h];return(0,c.jsxs)("table",{className:"table plans-table",children:[(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{children:(0,c.jsx)(p,{rowData:e,isHeading:!0})})}),(0,c.jsx)("tbody",{children:u.slice(n+1,r).map((function(e,t){var n=!1,r=e.indexOf("DELETE",d[1]);return r>-1&&r<=d[d.length-1]&&(n=!0),(0,c.jsx)("tr",{style:n?{display:"none"}:{},children:(0,c.jsx)(p,{rowData:e})},t)}))})]},t)}))]})})};var l={headingRowNums:[0,5,13,15,20,25,32,36],colNumsDefaultPlan:[0,1,2,3,6],colNumsAppsumoPlan:[0,7,8,9],colNumsLimitedDefaultPlan:[0,1,4,5,6]},u=[["","Free trial","Starter","Professional","Starter","Professional","Teams","Tier 1","Tier 2","Tier 3"],["Generate Video from Script or URL","","","","","","","","",""],["Number of videos","3","Unlimited","Unlimited","30/mon","60/mon*","90/mon*","30/mon","60/mon","Unlimited"],["Maximum video length","10 mins","10 mins","20 mins","10 mins","20 mins*","30 mins*","20 mins","20 mins","20 mins"],["Pictory branding","TRUE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE"],["Edit Videos Using Text ","","","","","","","","",""],["Video transcription hours","1 hours","10 hrs/mon","50 hrs/mon","10 hrs/mon","20 hrs/mon","20 hrs/mon","10 hrs/mon","50 hrs/mon","100 hrs/mon"],["Maximum video length","60 mins","60 mins","180 mins","60 mins","180 mins","180 mins","60 mins","90 mins","180 mins"],["Maximum video file size ","1 GB","1 GB","5 GB","1 GB","5 GB","5 GB","1 GB","2 GB","5 GB"],["Automatic subtitles","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Automatic video highlights","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Add B-roll","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Export subtitles (.srt, .vtt, txt)","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Branding","","","","","","","","",""],["Maximum custom Brand Kits","1","3","10","1","5","10","3","5","10"],["Media","","","","","","","","",""],["Premium videos and images","Storyblocks, Getty","Unlimited","Unlimited","Storyblocks","Storyblocks, Getty","Storyblocks, Getty","Unlimited","Unlimited","Unlimited"],["Premium music tracks","5000","5000","15000","5000","15000","15000","5000","10000","15000"],["Upload your own music tracks","TRUE","FALSE","TRUE","FALSE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Trim video","TRUE","FALSE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Voiceover","","","","","","","","",""],["Standard AI voices","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Hyper-realistic AI voices","FALSE","TRUE","TRUE","FALSE","2 hours/mon","4 hours/mon","TRUE","TRUE","TRUE"],["Record and upload voiceover scene-by-scene","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Upload voiceover and automatically sync to video","TRUE","FALSE","TRUE","FALSE","TRUE","TRUE","FALSE","TRUE","TRUE"],["Video export options","","","","","","","","",""],["Maximum resolution","720p","720p","1080p","1080p","1080p","1080p","1080p","1080p","1080p"],["Landscape (16:9)","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Portrait (9:16)","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Square (1:1)","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Bulk download short videos  in CSV format","TRUE","FALSE","TRUE","FALSE","TRUE","TRUE","FALSE","TRUE","TRUE"],["Integration with Hootsuite","TRUE","FALSE","TRUE","FALSE","TRUE","TRUE","FALSE","TRUE","TRUE"],["Customer support","","","","","","","","",""],["Email support","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],["Priority support","N/A","FALSE","TRUE","FALSE","TRUE","TRUE","FALSE","FALSE","FALSE"]]},58399:function(e,t,n){"use strict";n.d(t,{Z:function(){return ne},g:function(){return $}});var r=n(74165),s=n(15861),a=n(15671),i=n(43144),o=n(60136),c=n(29388),l=n(87038),u=n(80493),d=n(77449),p=n(42669),h=n(34940),m=n(605),g=n(86315),f=n(51987),v=n(79859),x=n(23938),S=n(16031),y=n.n(S),b=n(47313),j=n(30715),w=n(33834),Z=n(1413),k=n(47196),C=n(62463),I=n(46123),T=n.n(I),E=n(46417);function A(e){var t=e.label,n=e.closeLabel,r=e.open,s=void 0===r||r,a=e.onClose,i=e.className,o=e.sx;return s?(0,E.jsxs)(C.Z,{className:T()("pinline-snackbar",i),direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:(0,Z.Z)((0,Z.Z)({},o),{},{px:"8px",py:"6px",border:"1px solid",borderColor:"primary.lighter",borderRadius:"10px",background:"#F3EBFF",color:"primary.main",height:" 28px"}),children:[(0,E.jsxs)(C.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:.5,children:[(0,E.jsx)(k.Z,{sx:{fontSize:"16px",color:"primary.main"}}),(0,E.jsx)(p.Z,{variant:"text_sm",sx:{color:"primary.main"},children:t})]}),(0,E.jsx)(m.Z,{size:"small",onClick:function(){a&&a()},children:(0,E.jsx)(p.Z,{variant:"text_sm",sx:{color:"primary.main",textDecoration:"underline"},children:n})})]}):null}var _=n(93433),R=n(29439),P=n(90794),N=n(62986),O=b.forwardRef((function(e,t){var n,r,s,a,i,o,c,l,u=e.notificationId,d=e.label,p=e.className,h=e.sx,m=(0,N.K)(),g=(n=u,r=null==m?void 0:m.getUsername(),a=(0,P.j)(n),i=(0,R.Z)(a,3),o=i[0],c=i[1],l=i[2],{visible:r&&!(null!=o&&null!==(s=o.includes)&&void 0!==s&&s.call(o,r)),hide:function(){var e;o?null!==(e=o.includes)&&void 0!==e&&e.call(o,r)||c([].concat((0,_.Z)(Array.isArray(o)?o:[o]),[r])):c([r])},clear:l}),f=g.visible,v=g.hide,x=g.clear;return b.useImperativeHandle(t,(function(){return{clear:x}})),(0,E.jsx)(A,{className:p,sx:h,open:f,label:d,closeLabel:"Don’t show again",onClose:v})})),D=n(2983),U=n(93012),L=n(47439),F=n(61711),V=function(){return(0,E.jsx)("div",{className:"row",children:y().times(4,(function(){return(0,E.jsx)("div",{className:"col-6 p-3",style:{aspectRatio:"3"},children:(0,E.jsx)(D.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",borderRadius:"5px"}})})}))})},B=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).onValueChange=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(0,Z.Z)({},i.props.style),(0,F.F)(o,t,n),i.props.saveStyleValues(o,s,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),i.onChangeAnimation=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.state.textEntryAnimation,i.state.textExitAnimation,"start"===s?(t&&(i.state.textEntryAnimation.animation=t),n?i.state.textEntryAnimation.speed=n:t&&(i.state.textEntryAnimation.speed=i.getSelectedOptionSpeed(L.Od,t).avgSpeed),i.state.textEntryAnimation.type="start",i.state.textEntryAnimation.source="templates",i.state.textBgEntryAnimation=y().cloneDeep(i.state.textEntryAnimation)):"end"===s&&(t&&(i.state.textExitAnimation.animation=t),n?i.state.textExitAnimation.speed=n:t&&(i.state.textExitAnimation.speed=i.getSelectedOptionSpeed(L.Il,t).avgSpeed),i.state.textExitAnimation.type="end",i.state.textExitAnimation.source="templates",i.state.textBgExitAnimation=y().cloneDeep(i.state.textExitAnimation)),a=[i.state.textEntryAnimation,i.state.textExitAnimation],o=[i.state.textBgEntryAnimation,i.state.textBgExitAnimation],c={text_animation:a,text_bg_animation:o},e.next=8,i.props.playScenePreviewNew(null,null,!1,!0);case 8:i.onValueChange("animation",c,null,s+"-animation-updated");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),i.getSelectedOptionSpeed=function(e,t){t=t&&t.animation?t.animation:"";var n=e.find((function(e){return e.value===t}));return n?{minSpeed:n.minSpeed,maxSpeed:n.maxSpeed,avgSpeed:(n.minSpeed+n.maxSpeed)/2}:{minSpeed:0,maxSpeed:1,avgSpeed:.5}},i.getAnimationDataFromProps=function(e){var t=e.styleData.animation||{},n=t.text_animation||[],r=n.find((function(e){return"start"===e.type}))||{},s=r.speed||.5,a=n.find((function(e){return"end"===e.type}))||{},o=a.speed||.5,c=t.text_bg_animation||[],l=c.find((function(e){return"start"===e.type}))||{},u=c.find((function(e){return"end"===e.type}))||{};i.setState({animation:t,text_animation:n,textEntryAnimation:r,textExitAnimation:a,text_bg_animation:c,textBgEntryAnimation:l,textBgExitAnimation:u,textEntryAnimationSpeed:s,textExitAnimationSpeed:o})},i.state={},i.getAnimationDataFromProps(i.props.style),i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.getAnimationDataFromProps(this.props.style)}},{key:"componentDidUpdate",value:function(e,t){this.props.style!==e.style&&this.getAnimationDataFromProps(this.props.style)}},{key:"render",value:function(){var e=this;if(!this.props.style)return(0,E.jsx)(V,{});var t=this.getSelectedOptionSpeed(L.Od,this.state.textEntryAnimation),n=t.minSpeed,r=t.maxSpeed,s=t.avgSpeed,a=this.getSelectedOptionSpeed(L.Il,this.state.textExitAnimation),i=a.minSpeed,o=a.maxSpeed,c=a.avgSpeed;return(0,E.jsx)("div",{className:"fill-height",children:this.state.animation&&(0,E.jsxs)("ul",{className:"row ml-0 list-inline upnewbttn-list",children:[(0,E.jsxs)("li",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Entry animation"}),(0,E.jsx)(j.uO,{selectedValue:this.state.textEntryAnimation.animation,onSelectFn:function(t){e.onChangeAnimation(t,e.state.textEntryAnimationSpeed,"start")},border:"rounded",fullWidth:!0})]}),(0,E.jsxs)("li",{className:"col-6 pb-2",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Entry speed"}),(0,E.jsxs)("div",{className:"pl-1 pr-1",children:[(0,E.jsx)(U.default,{value:10*(r-(this.state.textEntryAnimationSpeed||this.state.textEntryAnimation.speed||s)),sx:{width:"calc(100% - 15px)"},min:10*n,max:10*(r-.1),onChange:function(t,n){return e.setState({textEntryAnimationSpeed:r-n/10})},onChangeCommitted:function(t,n){return e.onChangeAnimation(e.state.textEntryAnimation.animation,r-n/10,"start")}}),(0,E.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Slow"}),(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Fast"})]})]})]}),(0,E.jsxs)("li",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Exit animation"}),(0,E.jsx)(j.yR,{selectedValue:this.state.textExitAnimation.animation,onSelectFn:function(t){e.onChangeAnimation(t,e.state.textExitAnimationSpeed,"end")},border:"rounded",fullWidth:!0})]}),(0,E.jsxs)("li",{className:"col-6 pb-2",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Exit speed"}),(0,E.jsxs)("div",{className:"pl-1 pr-1",children:[(0,E.jsx)(U.default,{value:10*(o-(this.state.textExitAnimationSpeed||this.state.textExitAnimation.speed||c)),sx:{width:"calc(100% - 15px)"},min:10*i,max:10*(o-.1),onChange:function(t,n){return e.setState({textExitAnimationSpeed:o-n/10})},onChangeCommitted:function(t,n){return e.onChangeAnimation(e.state.textExitAnimation.animation,o-n/10,"end")}}),(0,E.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Slow"}),(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Fast"})]})]})]})]})})}}]),n}(b.Component),M=B,G=n(24873),W=n(94728),z=function(){return(0,E.jsx)("div",{className:"row",children:y().times(4,(function(){return(0,E.jsx)("div",{className:"col-6 p-3",style:{aspectRatio:"0.8"},children:(0,E.jsx)(D.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",borderRadius:"5px"}})})}))})},J=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).onValueChange=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,Z.Z)({},i.props.style),(0,F.F)(o,t,n),e.next=4,i.props.saveStyleValues(o,s,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),i.getRGBAString=function(e){var t=e.rgb;return"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")},i.state={style:i.props.style},i}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;if(!this.props.style)return(0,E.jsx)(z,{});var t=this.props.style.styleData.format||{};return(0,E.jsx)("div",{className:"fill-height",children:(0,E.jsxs)("ul",{className:"row ml-0 list-inline upnewbttn-list",children:[(0,E.jsxs)("li",{className:"col-6 pb-2",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Text color"}),(0,E.jsx)("div",{className:"color-picker-container hide-preset-colors hide-alpha",children:(0,E.jsx)(W.xS,{color:t.fontColor,onChangeComplete:function(t){return e.onValueChange("format",{fontColor:e.getRGBAString(t)},null,"text-color-updated")},disableAlpha:!0})})]}),(0,E.jsxs)("li",{className:"col-6 pb-2",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Background color"}),(0,E.jsx)("div",{className:"color-picker-container hide-preset-colors",children:(0,E.jsx)(W.xS,{color:t.textBackgroundColor,onChangeComplete:function(t){return e.onValueChange("format",{textBackgroundColor:e.getRGBAString(t)},null,"background-color-updated")}})})]}),(0,E.jsxs)("li",{className:"col-6 pb-2",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Highlight color"}),(0,E.jsx)("div",{className:"color-picker-container hide-preset-colors hide-alpha",children:(0,E.jsx)(W.xS,{color:t.keywordColor,onChangeComplete:function(t){return e.onValueChange("format",{keywordColor:e.getRGBAString(t)},null,"highlight-color-updated")},disableAlpha:!0})})]}),(0,E.jsxs)("li",{className:"col-6 pb-2",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Text shadow color"}),(0,E.jsxs)("div",{className:"color-picker-container hide-preset-colors",children:[(0,E.jsx)(W.xS,{color:t.textShadowColor,onChangeComplete:function(t){return e.onValueChange("format",{textShadowColor:e.getRGBAString(t)},null,"textshadow-color-updated")}}),(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500"},children:"Text shadow"}),(0,E.jsxs)(G.Z,{sx:{pl:1,pr:2},children:[(0,E.jsx)(U.default,{defaultValue:100*t.textShadowWidthFr||0,sx:{width:"calc(100% - 10px)"},min:0,max:20,onChangeCommitted:function(t,n){return e.onValueChange("format",{textShadowWidthFr:n/100},null,"textshadow-width-updated")}}),(0,E.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Off"}),(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Max"})]})]})]})]})]})})}}]),n}(b.Component),H=J,K=n(92873),q=n(27811),Y=function(){return(0,E.jsx)("div",{className:"row",children:y().times(8,(function(){return(0,E.jsx)("div",{className:"col-6 p-3",style:{aspectRatio:"3"},children:(0,E.jsx)(D.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",borderRadius:"5px"}})})}))})},Q=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).onValueChange=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,Z.Z)({},i.props.style),(0,F.F)(o,t,n),e.next=4,i.props.saveStyleValues(o,s,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),i.onChangeText=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.onValueChange("format",{displayText:t},null,"text-updated");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.onChangePositionPreset=function(e){var t=(0,Z.Z)({},i.props.style),n=e.target.id,r=n.split("-")[1],s=(0,Z.Z)((0,Z.Z)({},t.styleData),{},{format:(0,Z.Z)((0,Z.Z)({},t.styleData.format),{},{textAlign:r}),position:(0,Z.Z)((0,Z.Z)({},t.styleData.position),{},{preset:n,leftCoordinate:void 0,topCoordinate:void 0})});i.onValueChange(null,s,null,"positionPreset-updated")},i.state={},i}return(0,i.Z)(n,[{key:"render",value:function(){var e,t,n,r,s=this;if(!this.props.style)return(0,E.jsx)(Y,{});var a=this.props.style.styleData,i=a.format||{},o=a.position||{};return(0,E.jsx)("div",{className:"fill-height pt-3",children:(0,E.jsxs)("div",{className:"row ml-0",children:[(0,E.jsxs)("div",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Title font"}),(0,E.jsx)(j.q$,{selectedValue:i.fontName,onSelectFn:function(e){return s.onValueChange("format",{fontName:e},null,"fontfamily-updatd")},fullWidth:!0})]}),(0,E.jsxs)("div",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Decoration"}),(0,E.jsx)(j.r,{selectedValue:i.decoration,onChangeFn:function(e){var t=e.findIndex((function(e){return"decor-none"===e}));t>-1&&e.splice(t,1),s.onValueChange("format",{decoration:e})}})]}),(0,E.jsxs)("div",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Font size"}),(0,E.jsx)(j._v,{selectedValue:i.fontSize,onSelectFn:function(e){return s.onValueChange("format",{fontSize:e},null,"fontsize-updated")},fullWidth:!0})]}),(0,E.jsxs)("div",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Case"}),(0,E.jsx)(j.A2,{selectedValue:i.case,onChangeFn:function(e){s.onValueChange("format",{case:e})}})]}),(0,E.jsxs)("div",{className:"col-6 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Text position"}),(0,E.jsx)(j.lf,{selectedValue:o.preset,onChangeFn:this.onChangePositionPreset,disabled:null==a||null===(e=a.position)||void 0===e?void 0:e.fullWidth})]}),(0,E.jsxs)("div",{className:"col-6 pb-4",children:[(0,E.jsxs)(G.Z,{sx:{mb:2},children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Alignment"}),(0,E.jsx)(j.bJ,{selectedValue:i.textAlign,onChangeFn:function(e){s.onValueChange("format",{textAlign:e},null,"alignment-updated")}})]}),(0,E.jsxs)(G.Z,{sx:{mr:1},children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Text width"}),(0,E.jsx)(U.default,{defaultValue:parseFloat((null==a||null===(t=a.position)||void 0===t?void 0:t.paragraphWidth)||90),min:30,max:90,onChangeCommitted:function(e,t){s.onValueChange("position",{paragraphWidth:t+"%"},null,"width-updated")},disabled:null==a||null===(n=a.position)||void 0===n?void 0:n.fullWidth}),(0,E.jsxs)("div",{className:"flex-row flex-space-between small",children:[(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Min"}),(0,E.jsx)(p.Z,{variant:"caption",sx:{color:"grey.500"},children:"Max"})]})]}),(0,E.jsx)(G.Z,{sx:{mt:2.5,mr:1},children:(0,E.jsx)(q.h,{label:"Full width",fullWidth:!0,checked:null==a||null===(r=a.position)||void 0===r?void 0:r.fullWidth,onChange:function(e){return s.onValueChange("position",{fullWidth:e})}})})]}),this.props.allowEditGlobal&&(0,E.jsxs)("div",{className:"col-12 pb-4",children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Template preview text"}),(0,E.jsx)(K.H,{defaultTextObj:i.displayText,onChangeFn:this.onChangeText,allowCtrlB:!0})]})]})})}}]),n}(b.Component),X=Q,$=(n(17717),b.Component,"style-editor"),ee=["heading","subheading","bodytext"],te=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).onEditSaveStyleName=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=i.state.currentStyle).metaData.name!==t){e.next=3;break}return e.abrupt("return");case 3:return n.metaData.name=t,i.props.canEditStyle(i.state.currentStyle)||i.setState({isStyleUpdatedExternally:!0}),e.next=7,i.props.customizeStyle(n,!1,null,!1,"style-name-changed");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.onEditSaveStyleAttribute=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=i.state.currentStyle).metaData.displayTextStyleType!==t){e.next=3;break}return e.abrupt("return");case 3:return n.metaData.displayTextStyleType=t,e.next=6,i.props.customizeStyle(n,!1,null,!1,"style attribute displayTextStyleType changed: "+t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.saveStyleValues=function(e){var t;i.props.canEditStyle(i.state.currentStyle)?i.setState({currentStyle:e}):i.setState({isStyleUpdatedExternally:!0});for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(t=i.props).saveStyleValues.apply(t,[e].concat(r))},i.state={currentStyle:y().cloneDeep(i.props.currentStyle),styleEditorTabValue:0},i}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(e,t){e.currentStyle!==this.props.currentStyle&&this.state.isStyleUpdatedExternally&&this.setState({currentStyle:y().cloneDeep(this.props.currentStyle),isStyleUpdatedExternally:!1}),e.styleDuplicated!==this.props.styleDuplicated&&this.props.styleDuplicated&&(this.styleNameRef&&this.styleNameRef.focus(),this.props.setStyleDuplicatedValue(!1))}},{key:"render",value:function(){var e=this,t=this.props.isSuperUser;return this.props.hasTemplateAccess,this.props.isStyleInTemplate,(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(v.default,{className:this.state.isStyleUpdatedExternally?"disabled":"",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)(u.Z,{separator:(0,E.jsx)(l.Z,{fontSize:"small"}),sx:{backgroundColor:"transparent"},children:[(0,E.jsx)(d.Z,{variant:"body500_resp",className:"on-hover-show-pointer",underline:"hover",sx:{color:"grey.500"},onClick:this.props.showStylesListTabs,children:"Styles"}),(0,E.jsx)("div",{children:(0,E.jsx)(p.Z,{variant:"body500_resp",sx:{color:"common.black",mr:2},children:"Edit style"})})]}),(0,E.jsx)(h.Z,{light:!0,sx:{ml:"-100px",mr:"-24px",mt:2,mb:3}}),(0,E.jsx)(O,{notificationId:$,label:"Any changes will apply to current scene only.",sx:{mb:" 10px",mt:"-10px"}}),(0,E.jsxs)("div",{className:"mb-2 flex-row space-between-center",children:[(0,E.jsx)("span",{className:"bold pr-1",style:{position:"relative",minHeight:"40px",width:"100%",minWidth:"150px",maxWidth:"260px"},children:(0,E.jsx)(x.default,{id:"edit-style-name",label:"Style",inputRef:function(t){return e.styleNameRef=t},required:!0,errorMsgWhenBlank:"Style name is required",externalChangeText:"This style name already exists",value:this.state.currentStyle.metaData.name,validationsList:this.props.validationsList,onEditSaveText:this.onEditSaveStyleName})}),(0,E.jsx)("span",{style:{width:"50%",minWidth:"350px"},children:(0,E.jsx)(m.Z,{color:"primary",variant:"outlined",size:"small",onClick:function(){return e.props.applyCurrentStyleToAllScenes()},sx:{ml:2,mt:1},startIcon:(0,E.jsx)(w.Te,{strokeColor:"#852CFF",width:"20px"}),children:"Apply to all scenes"})})]}),t&&(0,E.jsxs)("div",{children:[(0,E.jsx)(p.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Default display text type"}),(0,E.jsx)(j.ML,{onChangeFn:this.onEditSaveStyleAttribute,selectedValue:this.state.currentStyle.metaData.displayTextStyleType,list:ee,elementList:ee})]}),(0,E.jsxs)(g.Z,{id:"style-editor-tabs",variant:"fullWidth",value:this.state.styleEditorTabValue,onChange:function(t,n){return e.setState({styleEditorTabValue:n})},children:[(0,E.jsx)(f.Z,{id:"text",label:"Text"}),(0,E.jsx)(f.Z,{id:"color",label:"Color"}),(0,E.jsx)(f.Z,{id:"animation",label:"Animations"})]})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{hidden:this.state.styleEditorTabValue,id:"text-tab-container",children:(0,E.jsx)(X,{style:this.state.currentStyle,saveStyleValues:this.saveStyleValues,allowEditGlobal:t})}),(0,E.jsx)("div",{hidden:1!==this.state.styleEditorTabValue,id:"color-tab-container",children:(0,E.jsx)(H,{style:this.state.currentStyle,saveStyleValues:this.saveStyleValues})}),(0,E.jsx)("div",{hidden:2!==this.state.styleEditorTabValue,id:"animation-tab-container",children:(0,E.jsx)(M,{style:this.state.currentStyle,saveStyleValues:this.saveStyleValues,playScenePreviewNew:this.props.playScenePreviewNew})})]})]})})}}]),n}(b.Component),ne=te},51175:function(e,t,n){"use strict";n.d(t,{Fg:function(){return qe},pk:function(){return Ye},Pf:function(){return Qe},SD:function(){return Xe},O7:function(){return Ke},ZP:function(){return it}});var r=n(37762),s=n(93433),a=n(74165),i=n(15861),o=n(15671),c=n(43144),l=n(60136),u=n(29388),d=n(1413),p=n(59919),h=n(64009),m=n(8586),g=n(24873),f=n(2983),v=n(605),x=n(80699),S=n(18104),y=n(42669),b=n(95352),j=n(86315),w=n(51987),Z=n(82315),k=n(79136),C=n(51443),I=n.n(C),T=(n(1243),n(79859)),E=n(23938),A=n(16031),_=n.n(A),R=n(47313),P=n(1084),N=n(98165),O=n(90794),D=n(33834),U=n(45610),L=n(18248),F=n(70494),V=n(10770),B=n(78896),M=n(91104),G=n(96161),W=n(66423),z=n(44533),J=n(28862),H=n(92873),K=n(39954),q=n(98495),Y=n(62463),Q=n(65804),X=n(47439),$=n(46417);function ee(e){var t=e.visual,n=void 0===t?{}:t,r=e.sceneTypeTextCapitalized,a=e.allowEditGlobal,i=e.pickVisualFromScene,o=e.sceneType,c=e.username,l=e.project_id,u=e.onValueChange,d=e.selectTemplateVisual;return(0,$.jsxs)("div",{className:"rounded-border-large light-gray-border p-3 mb-3",children:[(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,$.jsx)(y.Z,{variant:"subtitle1",sx:{color:"grey.500",mb:1},component:"div",children:(0,$.jsxs)($.Fragment,{children:[r," visual"]})}),a&&(0,$.jsx)(v.Z,{variant:"outlined",size:"small",sx:{mb:1},onClick:function(){return i(o)},children:"Pick visual from open scene"})]}),(0,$.jsxs)(Y.Z,{direction:"row",sx:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,$.jsxs)(Y.Z,{direction:"row",sx:{display:"flex",gap:".5rem",flexWrap:"nowrap",flex:2},children:[(0,$.jsx)(g.Z,{sx:{flex:1,position:"relative"},children:(0,$.jsx)(Q.p,{fileName:n.fileName,uploadText:"Upload video clip or image",allowedFileTypes:[].concat((0,s.Z)(X.tP.video),(0,s.Z)(X.tP.image)),validationMsgs:{imageUploadMaxSize:"Image - JPG, JPEG, PNG, SVG, WEBP",videoUploadMaxSize:"Video - MP4, MOV, WEBM"},allowedFileSize:(0,M.eF)(c),size:"small",onUpload:function(e,t,n){return u("",{visualUrl:e,visualType:t,fileName:n,isUploadedVideo:"video"==t},!1,!1)},filePath:c+"/project/"+l})}),(0,$.jsx)(g.Z,{sx:{ml:0,color:"grey.400"},className:"flex-centered small",children:"OR"}),(0,$.jsx)(g.Z,{sx:{flex:1,width:"150px",height:"120px"},children:(0,$.jsx)(g.Z,{component:"span",sx:{height:"90%",minHeight:"100px",backgroundColor:"#ECEFF140",border:"1px solid",borderColor:"transparent",color:"grey.400"},className:"p-1 pointer rounded-border-large flex-centered small",onClick:function(){return d(o)},children:(0,$.jsxs)(g.Z,{sx:{width:"80%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,$.jsx)(K.Z,{}),(0,$.jsx)("span",{style:{height:"30px",marginTop:"8px"},children:"Import from visuals"})]})})}),"backgroundColor"===n.visualType&&(0,$.jsxs)(g.Z,{sx:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ECEFF140",borderRadius:"10px",border:"1px dashed",borderColor:"#C0C0C0",height:"90%"},children:[(0,$.jsx)(g.Z,{sx:{width:"80%",height:"60%",border:"solid 1px lightgrey",borderRadius:"5px",backgroundColor:n.backgroundColor,position:"absolute"},component:"span"}),(0,$.jsx)(q.Z,{fontSize:"small",sx:{position:"absolute",right:"1px",top:"2px",color:"rgba(0, 0, 0, 0.54)",cursor:"pointer"},onClick:function(){return u("",{backgroundColor:void 0,visualType:void 0},!1,!1)}})]})]}),n.visualUrl&&(0,$.jsx)(Q.p,{sx:{flex:1},defaultUrl:n.visualUrl,fileName:n.fileName,uploadText:"Upload video clip or image",validationMsgs:{imageUploadMaxSize:"Image - JPG, JPEG, PNG, SVG, WEBP",videoUploadMaxSize:"Video - MP4, MOV, WEBM"},allowedFileTypes:[].concat((0,s.Z)(X.tP.video),(0,s.Z)(X.tP.image)),allowedFileSize:(0,M.eF)(c),size:"small",closeBtn:!0,showVisualAfterUpload:!0,onUpload:function(e,t,n){return u("",{visualUrl:e,visualType:t,fileName:n,isUploadedVideo:"video"==t},!1,!1)},filePath:c+"/project/"+l})]})]})}var te=n(61711),ne=n(93012),re=n(30715);function se(e){var t=e.logoVisual,n=e.allowEditGlobal,r=e.saveVisualValues,o=e.sceneType,c=e.username,l=e.project_id,u=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s,i,c){var l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=(0,d.Z)({},t))||(l={}),delete l.showLogo,l.isLogo=!0,!n&&""===s&&i.hasOwnProperty("visualUrl")&&(l.userModified=!0),l.userModified||(c=!0),(l=(0,te.D)(l,s,i)).position.preset||(l.position.preset="center-center"),l.position.width||(l.position.width="10%"),l.visualUrl!==t.visualUrl&&l.visualUrl&&l.isLogo&&(l.opacity=1),e.next=12,r(l,c,!0,o,"logo");case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=t||{},h=p&&p.position||{};return(0,$.jsxs)(Y.Z,{direction:"row",sx:{gap:".5rem",flexWrap:"wrap"},children:[(0,$.jsxs)(Y.Z,{direction:"row",sx:{gap:".5rem",flex:1},children:[(0,$.jsxs)(g.Z,{sx:{flex:1},children:[(0,$.jsx)(y.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:" "}),(0,$.jsx)(Q.p,{fileName:p.fileName,uploadText:"Upload logo",validationMsgs:{imageUploadMaxSize:"Image - JPG, JPEG, PNG, SVG, WEBP"},allowedFileTypes:X.tP.image,allowedFileSize:(0,M.eF)(c),size:"small",onUpload:function(e,t,n){return u("",{visualUrl:e,visualType:t,fileName:n},!1)},filePath:c+"/project/"+l})]}),p.visualUrl&&(0,$.jsxs)(g.Z,{sx:{flex:1},children:[(0,$.jsx)(y.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:" "}),(0,$.jsx)(Q.p,{defaultUrl:p.visualUrl,fileName:p.fileName,uploadText:"Upload video clip or image",validationMsgs:{imageUploadMaxSize:"Image - JPG, JPEG, PNG, SVG, WEBP",videoUploadMaxSize:"Video - MP4, MOV, WEBM"},allowedFileTypes:[].concat((0,s.Z)(X.tP.video),(0,s.Z)(X.tP.image)),allowedFileSize:(0,M.eF)(c),size:"small",closeBtn:!0,showVisualAfterUpload:!0,onUpload:function(e,t,n){return u("",{visualUrl:e,visualType:t,fileName:n,isUploadedVideo:"video"==t},!1)},filePath:c+"/project/"+l})]})]}),p.visualUrl&&(0,$.jsxs)(Y.Z,{direction:"row",sx:{gap:".5rem",flex:1},children:[(0,$.jsxs)(g.Z,{children:[(0,$.jsx)(y.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Logo position"}),(0,$.jsx)(re.lf,{selectedValue:h.preset,style:{height:"108px"},classNames:"aspect-ratio-1",onChangeFn:function(e){return u("position",{preset:e.target.id,leftCoordinate:void 0,topCoordinate:void 0},!1)}})]}),(0,$.jsxs)(g.Z,{sx:{minWidth:"80px",flex:1},children:[(0,$.jsx)(y.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Logo size"}),(0,$.jsx)(ne.default,{value:parseInt(h.width||"10%"),sx:{width:"calc(100% - 10px)",ml:1},min:5,max:50,onChange:function(e,t){return u("position",{width:t+"%"},!0)},onChangeCommitted:function(e,t){return u("position",{width:t+"%"},!1)}}),(0,$.jsx)(y.Z,{variant:"captionB",sx:{color:"grey.500",mb:1,mt:2},component:"div",children:"Logo opacity"}),(0,$.jsx)(ne.default,{value:100*(p.opacity||1),sx:{width:"calc(100% - 10px)",ml:1},min:10,max:100,onChange:function(e,t){return u("",{opacity:t/100},!0)},onChangeCommitted:function(e,t){return u("",{opacity:t/100},!1)}})]})]})]})}var ae=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).onValueChange=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,s,i){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=i?(0,d.Z)({},r.state.logoVisual):(0,d.Z)({},r.state.visual))||(o={}),i&&(o.isLogo=!0),o=(0,te.D)(o,t,n),i?r.setState({logoVisual:o}):r.setState({visual:o}),e.next=7,r.props.saveVisualValues(o,s,i,r.props.sceneType,i?"logo":"visual");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),r.onChangeText=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({text:t}),e.next=3,r.props.saveVisualValues(t,!1,!1,r.props.sceneType,"text");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={visual:_().cloneDeep(r.props.visual),logoVisual:_().cloneDeep(r.props.logoVisual),text:_().cloneDeep(r.props.text)},r}return(0,c.Z)(n,[{key:"componentDidUpdate",value:function(e,t){this.props.isTemplateUpdatedExternally&&(this.props.visual!==e.visual&&this.setState({visual:_().cloneDeep(this.props.visual)}),this.props.logoVisual!==e.logoVisual&&this.setState({logoVisual:_().cloneDeep(this.props.logoVisual)}),this.props.text!==e.text&&this.setState({text:_().cloneDeep(this.props.text)}))}},{key:"render",value:function(){var e=this,t=this.state.visual||{},n=(0,$.jsx)("span",{style:{textTransform:"capitalize"},children:this.props.sceneType});return(0,$.jsxs)("div",{children:[(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:1,mb:2,paddingY:1},className:"rounded-border-large light-gray-border",children:[(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,$.jsxs)(y.Z,{variant:"subtitle1",sx:{color:"grey.500",mb:"4px",mr:2,pl:2},children:["Enable ",n," scene"]}),!this.props.isEnabled&&(0,$.jsx)(x.Z,{title:"You need to enable your ".concat(this.props.sceneType," scene to use the editing options."),placement:"right",arrow:!0,children:(0,$.jsx)(J.Z,{color:"primary"})})]}),(0,$.jsx)(b.Z,{checked:this.props.isEnabled,onChange:this.props.switchStatus})]}),(0,$.jsxs)("div",{className:this.props.isEnabled?"":"disabled",children:[(0,$.jsx)(ee,{visual:t,sceneTypeTextCapitalized:n,allowEditGlobal:this.props.allowEditGlobal,pickVisualFromScene:this.props.pickVisualFromScene,sceneType:this.props.sceneType,onValueChange:this.onValueChange,selectTemplateVisual:this.props.selectTemplateVisual,username:this.props.username,project_id:this.props.project_id}),(0,$.jsxs)("div",{className:"rounded-border-large light-gray-border p-3 mb-3",children:[(0,$.jsxs)(y.Z,{variant:"subtitle1",sx:{color:"grey.500",mb:1},component:"div",children:[n," logo"]}),(0,$.jsx)(se,{logoVisual:this.state.logoVisual,sceneType:this.props.sceneType,saveVisualValues:function(t){var n;e.setState({logoVisual:t});for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];(n=e.props).saveVisualValues.apply(n,[t].concat(s))},username:this.props.username,project_id:this.props.project_id,allowEditGlobal:this.props.allowEditGlobal})]}),(0,$.jsxs)("div",{className:"rounded-border-large light-gray-border p-3 mb-3",children:[(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,$.jsxs)(y.Z,{variant:"subtitle1",sx:{color:"grey.500",mb:1},component:"div",children:[n," text"]}),(0,$.jsx)(v.Z,{variant:"text",size:"small",sx:{mb:1},onClick:function(){return e.props.openStylesListTab()},children:"Change style"})]}),(0,$.jsx)(H.H,{defaultTextObj:this.state.text,onChangeFn:this.onChangeText,allowCtrlB:!0})]})]})]})}}]),n}(R.Component),ie=ae,oe=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).onValueChange=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,s,i){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=i?(0,d.Z)({},r.state.logoVisual):(0,d.Z)({},r.state.visual))||(o={}),i&&(o.isLogo=!0),o=(0,te.D)(o,t,n),i?r.setState({logoVisual:o}):r.setState({visual:o}),e.next=7,r.props.saveVisualValues(o,s,i,qe.scenes.name,i?"logo":"visual");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),r.state={visual:r.props.visual,logoVisual:r.props.logoVisual},r}return(0,c.Z)(n,[{key:"componentDidUpdate",value:function(e,t){this.props.isTemplateUpdatedExternally&&(this.props.visual!==e.visual&&this.setState({visual:this.props.visual}),this.props.logoVisual!==e.logoVisual&&this.setState({logoVisual:this.props.logoVisual}))}},{key:"render",value:function(){var e=this,t=this.state.visual||{},n=this.state.logoVisual||{},r=(0,$.jsx)("span",{style:{textTransform:"capitalize"},children:this.props.sceneType});return(0,$.jsxs)("div",{children:[this.props.allowEditGlobal&&(0,$.jsx)(ee,{visual:t,sceneTypeTextCapitalized:r,allowEditGlobal:this.props.allowEditGlobal,pickVisualFromScene:this.props.pickVisualFromScene,sceneType:this.props.sceneType,onValueChange:this.onValueChange,selectTemplateVisual:this.props.selectTemplateVisual,username:this.props.username,project_id:this.props.project_id}),(0,$.jsxs)("div",{className:"rounded-border-large light-gray-border p-3 mb-3",children:[(0,$.jsx)(y.Z,{variant:"subtitle1",sx:{color:"grey.500",mb:1},component:"div",children:"Scene logo"}),(0,$.jsx)(se,{logoVisual:n,sceneType:this.props.sceneType,saveVisualValues:function(t){var n;e.setState({logoVisual:t});for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];(n=e.props).saveVisualValues.apply(n,[t].concat(s))},username:this.props.username,project_id:this.props.project_id})]})]})}}]),n}(R.Component),ce=oe,le=n(58399),ue=n(4942),de=n(98967);n.p;var pe=n.p+"static/media/apply_to_all_scenes_small.3434f6e008770595811a35be20e507f4.svg";n.p,n.p;var he=n.p+"static/media/tick_green.a70c74186a36dd73e442aeface7eb4fd.svg",me=n(51577),ge=n(42599),fe=n(96217),ve=function(e){(0,l.Z)(r,e);var t,n=(0,u.Z)(r);function r(e){var t,s,c,l,u,d,p;(0,o.Z)(this,r),(p=n.call(this,e)).runPreview=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.videoJson&&p.videoPreviewRef.current&&(p.videoPreviewRef.current.handleClose(),p.videoPreviewRef.current.playvid(0));case 1:case"end":return e.stop()}}),e)}))),p.closePreview=function(){p.videoJson&&p.videoPreviewRef.current&&(p.videoPreviewRef.current.handleClose(),p.videoPreviewRef.current.playvid(0,!1))},p.videoPreviewComponentNew=function(e,t){return(0,$.jsx)(me.Z,{ref:p.videoPreviewRef,forceCanvas:!0,width:t,height:e,videoJson:p.videoJson,recordVideo:!1,ApiRequest:ge.Z,singleScenePreview:!0,isTemplatePreview:!0,isTemplateGridPreview:!0,hasVideoEndedNew:function(){p.closePreview()}},p.state.previewPlayerKey)},p.onCardClick=function(e){p.props.isActiveSceneStyle||p.props.applyStyleToScene(p.props.style,void 0,void 0,void 0,void 0,!1)},p.onClickMoreButton=function(e,t){t.includes("removeStyle")?p.props.removeStyleFromTemplate&&p.props.removeStyleFromTemplate(p.props.id):t.includes("deleteStyle")?p.props.customizeStyle&&p.props.allowEdit&&!p.props.existsInCurrentTemplate&&p.props.customizeStyle(p.props.style,void 0,void 0,!0,"default-style-changed"):p.props.setAsDefaultStyle(p.props.id,t)},p.state={},p.videoPreviewRef=R.createRef();var h=null==e||null===(t=e.style)||void 0===t||null===(s=t.styleData)||void 0===s?void 0:s.format,m=null==e||null===(c=e.style)||void 0===c||null===(l=c.styleData)||void 0===l?void 0:l.animation,g=null==e||null===(u=e.style)||void 0===u||null===(d=u.styleData)||void 0===d?void 0:d.position;return p.createStylePreviewJson(m,h,g),p}return(0,c.Z)(r,[{key:"createStylePreviewJson",value:function(e,t,n){var r={start_y:170,preset:"center-center",center_x:340};"left"==t.textAlign?r={start_y:170,preset:"center-center",start_x:120}:"right"==t.textAlign&&(r={start_y:170,preset:"center-center",end_x:610}),this.videoJson={output:{width:720,height:720},scenes:[{sub_scenes:[{location:r,time:3,text_lines:[{text_animation:null==e?void 0:e.text_animation,text_bg_animation:null==e?void 0:e.text_bg_animation,text:"Text"},{text_animation:null==e?void 0:e.text_animation,text_bg_animation:null==e?void 0:e.text_bg_animation,text:"Styles"}],showSceneNumber:"Scene 1",font:{keycolor:null==t?void 0:t.keywordColor,line_height:105,textShadowWidthFr:null==t?void 0:t.textShadowWidthFr,size:70,color:null==t?void 0:t.fontColor,line_spacing:1.2,backcolor:null==t?void 0:t.textBackgroundColor,name:(null==t?void 0:t.fontName.replace(" ",""))+".ttf",textShadowColor:null==t?void 0:t.textShadowColor,decoration:null==t?void 0:t.decoration,case:null==t?void 0:t.case,fullWidth:null==n?void 0:n.fullWidth,textBackgroundRadius:null==t?void 0:t.textBackgroundRadius}}],background:{src:[{url:null}],logo:{}},time:3}]}}},{key:"componentDidMount",value:(t=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setUpCanvas();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){this.videoPreviewRef.current||this.setUpCanvas()}},{key:"setUpCanvas",value:function(){var e=this;if(this.videoJson){var t=document.getElementById("style_"+this.props.id);t&&setTimeout((function(){var n=t.getBoundingClientRect(),r=n.height;if(r>0){var s=n.width;e.setState({loadCanvas:!0,canvasWidth:s,canvasHeight:r,previewPlayerKey:e.props.id},(0,i.Z)((0,a.Z)().mark((function t(){var n,r,s,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.videoJson||!e.videoPreviewRef.current){t.next=6;break}return null===(n=e.videoPreviewRef)||void 0===n||null===(r=n.current)||void 0===r||r.LoadJsonResources(e.videoJson,0),t.next=4,e.videoPreviewRef.current.WaitforResourceLoading(0);case 4:t.sent,null===(s=e.videoPreviewRef)||void 0===s||null===(i=s.current)||void 0===i||i.playvid(0,!1);case 6:case"end":return t.stop()}}),t)}))))}}),200)}}},{key:"render",value:function(){var e,t,n=this,r=this.props.style,s=(this.props.sceneTypesList&&this.props.sceneTypesList.length>0&&this.props.sceneTypesList.map((function(e){return function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}(e)})),this.props.customizeStyle&&this.props.allowEdit&&!this.props.existsInCurrentTemplate);return(0,$.jsxs)(g.Z,{id:"style_"+this.props.id,className:"on-hover-event style-element gray-box-shadow rounded-border-large",sx:{border:"solid 2px",borderColor:this.props.isActiveSceneStyle?"primary.main":"transparent","&:hover .style-name":{}},onMouseOver:(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.runPreview();case 2:case"end":return e.stop()}}),e)}))),onMouseOut:(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.closePreview();case 2:case"end":return e.stop()}}),e)}))),children:[(0,$.jsx)(g.Z,{className:this.props.isActiveSceneStyle?"rounded-border-large":"rounded-border-large pointer",sx:{overflow:"hidden",position:"absolute",top:0,bottom:"25px",left:0,right:0,zIndex:4,backgroundColor:"common.white"},onClick:this.onCardClick,children:this.videoJson&&this.state.loadCanvas&&this.videoPreviewComponentNew(this.state.canvasHeight,this.state.canvasWidth)}),!this.props.hideAllActions&&(0,$.jsxs)("div",{className:"absolute-float-bottom show-on-hover-child hide-name-show-icons h-100",style:(e={right:"unset",zIndex:15,marginBottom:"2px"},(0,ue.Z)(e,"zIndex","15"),(0,ue.Z)(e,"marginBottom","2px"),(0,ue.Z)(e,"height","100%"),(0,ue.Z)(e,"flexDirection","column"),(0,ue.Z)(e,"bottom","0"),(0,ue.Z)(e,"width","max-content"),(0,ue.Z)(e,"right","0px !important"),(0,ue.Z)(e,"position","absolute"),(0,ue.Z)(e,"left","unset"),(0,ue.Z)(e,"right","0"),e),children:[this.props.existsInCurrentTemplate&&this.props.tabName!==Ye.currentTemplateStylesTab.name&&(0,$.jsx)(x.Z,{title:"Current template style",placement:"top",arrow:!0,children:(0,$.jsx)("img",{src:he,style:{marginLeft:8,height:"20px"}})}),this.props.allowEditGlobal&&(0,$.jsx)(x.Z,{title:"Edit style",placement:"top",arrow:!0,children:(0,$.jsx)(de.Z,{className:"pointer",style:{marginLeft:8,height:"16px"},onClick:function(){return n.props.openStylesEditorTab(r)}})}),(0,$.jsx)(x.Z,{title:"Apply to all scenes",placement:"top",arrow:!0,children:(0,$.jsx)("img",{src:pe,className:this.props.disableApplyToAll?"disabled":"pointer",style:{marginLeft:8,height:"20px",marginTop:5},onClick:function(){return!n.props.disableApplyToAll&&n.props.applyStyleToScene(r,void 0,!1,!0,!1,!1)}})}),s&&(0,$.jsx)(x.Z,{title:"Delete style",placement:"top",arrow:!0,children:(0,$.jsx)(fe.Z,{className:"pointer",style:{marginLeft:8,height:"20px",cursor:"pointer"},onClick:function(){return n.onClickMoreButton(null,["deleteStyle"])}})})]}),(0,$.jsx)(x.Z,{title:r.metaData.name,placement:"left",arrow:!0,children:(0,$.jsx)(y.Z,{className:"style-name",sx:(t={overflow:"hidden",width:"70% !important",margin:"0 auto !important",right:"0",left:"0",whiteSpace:"nowrap"},(0,ue.Z)(t,"overflow","hidden"),(0,ue.Z)(t,"textOverflow","ellipsis"),t),children:r.metaData.name})})]},this.props.id)}}]),r}(R.Component),xe=ve,Se=n(25489),ye=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).existsInCurrentTemplate=function(e){var t;return r.props.tabName===Ye.globalTemplateStylesTab.name?t="global":r.props.tabName===Ye.userTemplateStylesTab.name&&(t="user"),r.props.appliedStyleIds&&r.props.appliedStyleIds.findIndex((function(n){return n.id===e&&(!t||n.scope===t)}))>-1},r.listStyles=function(){var e=r.props.stylesList;return(0,$.jsx)(Se.Z,{children:(0,$.jsxs)(g.Z,{className:"no-margin style-library w-100",sx:{display:"flex",flexWrap:"nowrap",padding:"5px 0 10px 0",overflowX:"auto"},children:[e.map((function(e){var t=r.props.allowEditGlobal||"user"===e.metaData.scope,n=r.props.isDefaultStyleId(e.metaData.styleId),s={customizeStyle:r.props.customizeStyle};return s=(0,d.Z)((0,d.Z)({},s),{},{applyStyleToTemplate:r.props.applyStyleToTemplate}),(0,$.jsx)(xe,(0,d.Z)((0,d.Z)({id:e.metaData.styleId,tabName:r.props.tabName,existsInCurrentTemplate:!1,style:e,isActiveSceneStyle:r.props.activeTextStyleIdObj&&r.props.activeTextStyleIdObj.id===e.metaData.styleId&&!r.props.activeTextStyleIdObj.modified},s),{},{sceneTypesList:[],setAsDefaultStyle:r.props.setAsDefaultStyle,isDefault:n,allowEdit:t,allowEditGlobal:r.props.allowEditGlobal,applyStyleToScene:r.props.applyStyleToScene,openStylesEditorTab:r.props.openStylesEditorTab,project_id:r.props.project_id,disableApplyToAll:r.props.disableApplyToAll,hideAllActions:r.props.hideAllActions}),e.metaData.styleId)})),(0,$.jsx)("div",{className:"style-element",style:{height:"0"}}),(0,$.jsx)("div",{className:"style-element",style:{height:"0"}})]})})},r.state={},r}return(0,c.Z)(n,[{key:"render",value:function(){return(0,$.jsx)($.Fragment,{children:this.listStyles()})}}]),n}(R.Component),be=n(64164),je=n(68097),we=n(52740),Ze=n(3859),ke=n(68537),Ce=n(73507),Ie=n(41769),Te=n(34940),Ee=(n(80201),n(52586)),Ae=n(11043),_e=function(e){(0,l.Z)(r,e);var t,n=(0,u.Z)(r);function r(e){var t;return(0,o.Z)(this,r),(t=n.call(this,e)).videoPreviewComponentNew=function(e,n){return(0,$.jsx)(me.Z,{ref:t.videoPreviewRef,forceCanvas:!0,width:n,height:e,videoJson:t.videoJson,recordVideo:!1,ApiRequest:ge.Z,singleScenePreview:!0,isTemplatePreview:!0,isTemplateGridPreview:!0,hasVideoEndedNew:function(){t.closePreview()}},t.state.previewPlayerKey)},t.runPreview=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.videoJson&&t.videoPreviewRef.current&&(t.videoPreviewRef.current.handleClose(),t.videoPreviewRef.current.playvid(0));case 1:case"end":return e.stop()}}),e)}))),t.closePreview=function(){t.videoJson&&t.videoPreviewRef.current&&(t.videoPreviewRef.current.handleClose(),t.videoPreviewRef.current.playvid(0,!1))},t.updateOrderNumber=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,d.Z)((0,d.Z)({},t.props.template),{},{metaData:(0,d.Z)((0,d.Z)({},t.props.template.metaData),{},{orderNumber:n})}),e.next=3,t.props.saveOrderNumber(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.selectTemplate=function(e){var n,r;null===(n=(r=t.props).setTemplate)||void 0===n||n.call(r,t.props.template,!0,e),I().getInstance().logEvent("template-selected",{"template-name":t.props.template.metaData.name||"","template-type":t.props.template.metaData.scope||"",step:t.props.layout===Xe.fullScreenWithHeader?"step1":t.props.layout===Xe.menuPopup?"step2":"step3","use-case":t.props.source,project_id:t.props.project_id})},t.onClickTemplateVisual=function(){t.props.setTemplate&&(t.props.layout!==Xe.fullScreenWithHeader||t.state.showAspectRatioButtons?t.selectTemplate():(t.setState({showAspectRatioButtons:!0,selectedAspectRatio:void 0}),t.props.setSelectedTemplateId(t.props.id)))},t.setSelectedAspectRatio=function(e){t.state.selectedAspectRatio!==e&&t.setState({selectedAspectRatio:e}),t.selectTemplate(e)},t.state={previewPlayerKey:"",loadCanvas:!1,canvasWidth:0,canvasHeight:0,selectedAspectRatio:"sixteen-nine"},t.videoPreviewRef=R.createRef(),t.props.template&&"sixteen-nine"==t.props.aspectRatioClassFilter&&t.props.template.gridPreviewJson_SixteenNine?t.videoJson=t.props.template.gridPreviewJson_SixteenNine:t.props.template&&"nine-sixteen"==t.props.aspectRatioClassFilter&&t.props.template.gridPreviewJson_NineSixteen?t.videoJson=t.props.template.gridPreviewJson_NineSixteen:t.props.template&&"one-one"==t.props.aspectRatioClassFilter&&t.props.template.gridPreviewJson_OneOne?t.videoJson=t.props.template.gridPreviewJson_OneOne:t.props.template&&t.props.template.gridPreviewJson&&(t.videoJson=t.props.template.gridPreviewJson),t}return(0,c.Z)(r,[{key:"componentDidMount",value:(t=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setUpCanvas(),this.props.layout===Xe.menuPopup&&!this.props.isCurrentTemplate&&this.props.template.metaData.defaultForStep2&&"global"==this.props.template.metaData.scope&&this.props.setTemplate(this.props.template,!0);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){(this.props.displayTemplateGrid!==e.displayTemplateGrid&&this.props.displayTemplateGrid||this.props.aspectRatioClassFilter!==e.aspectRatioClassFilter||this.props.templateTabValue!==e.templateTabValue)&&(this.props.template&&"sixteen-nine"==this.props.aspectRatioClassFilter&&this.props.template.gridPreviewJson_SixteenNine?this.videoJson=this.props.template.gridPreviewJson_SixteenNine:this.props.template&&"nine-sixteen"==this.props.aspectRatioClassFilter&&this.props.template.gridPreviewJson_NineSixteen?this.videoJson=this.props.template.gridPreviewJson_NineSixteen:this.props.template&&"one-one"==this.props.aspectRatioClassFilter&&this.props.template.gridPreviewJson_OneOne?this.videoJson=this.props.template.gridPreviewJson_OneOne:this.props.template&&this.props.template.gridPreviewJson&&(this.videoJson=this.props.template.gridPreviewJson),this.setUpCanvas()),this.props.isTemplateSelected===e.isTemplateSelected||this.props.isTemplateSelected||this.setState({showAspectRatioButtons:!1})}},{key:"setUpCanvas",value:function(){var e=this;if(this.videoJson){var t=document.getElementById("template_"+this.props.id);if(t){var n=t.getBoundingClientRect(),r=n.height;if(r>0){var s=n.width,o=(this.props.template,this.props.aspectRatioClassFilter);this.setState({loadCanvas:!0,canvasWidth:s,canvasHeight:r,previewPlayerKey:o},(0,i.Z)((0,a.Z)().mark((function t(){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.videoJson){t.next=6;break}return e.videoPreviewRef.current.LoadJsonResources(e.videoJson,0),t.next=4,e.videoPreviewRef.current.WaitforResourceLoading(0);case 4:t.sent,null===(n=e.videoPreviewRef)||void 0===n||null===(r=n.current)||void 0===r||r.playvid(0,!1);case 6:case"end":return t.stop()}}),t)}))))}}}}},{key:"render",value:function(){var e,t,n,r=this,s=this.props.template,o=s.sceneTypes.scenes.visual,c=o&&"video"===o.visualType?o.visualUrl:"",l=o&&"image"===o.visualType?o.visualUrl:"",u=s.sceneTypes.scenes.logo,p=u&&u.visualUrl?u.visualUrl:"",h=u&&u.position.width?u.position.width:"",m=u&&u.position.preset?u.position.preset:"",f=u&&u.opacity?u.opacity:0,b="mr-auto sml-brand position-preset "+m,j=this.props.aspectRatioClassFilter,w="sixteen-nine"===j,Z=0;return"nine-sixteen"===j?Z="34.1796875%":"one-one"===j&&(Z="21.875%"),(0,$.jsx)("div",{className:this.props.templateClassName,ref:this.props.selectedItemRef,children:(0,$.jsxs)(g.Z,{sx:this.props.isSelected?{border:"solid 2px",borderColor:"primary.main"}:{},className:"template-element gray-box-shadow on-hover-event",children:[(0,$.jsxs)("div",(0,d.Z)((0,d.Z)({id:"template_"+this.props.id,className:["template-element-visual",this.props.setTemplate&&!this.state.showAspectRatioButtons?"pointer":""].join(" ")},this.props.setTemplate&&!this.state.showAspectRatioButtons?{onClick:this.onClickTemplateVisual}:{}),{},{children:[p&&(0,$.jsx)("img",{className:b,src:p,style:{opacity:f,width:h,height:"Auto",zIndex:10}}),l&&(0,$.jsx)("img",{className:"absolute-centered rounded-border-small-top aspect-ratio-class sixteen-nine",src:Ae.Z.Instance.GetBrandSettingsCDNUrl(l)}),c&&(0,$.jsx)("video",{className:"absolute-centered rounded-border-small-top aspect-ratio-class sixteen-nine",src:c,onMouseOver:function(e){return e.target.play()},onMouseOut:function(e){return e.target.pause()}}),(0,$.jsx)("div",{className:"absolute-fill",onMouseOver:(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.runPreview();case 2:case"end":return e.stop()}}),e)}))),onMouseOut:(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.closePreview();case 2:case"end":return e.stop()}}),e)}))),children:this.videoJson&&this.state.loadCanvas&&this.videoPreviewComponentNew(this.state.canvasHeight,this.state.canvasWidth)}),!w&&(0,$.jsxs)(g.Z,{className:"absolute-fill",sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(g.Z,{sx:{height:"100%",width:Z,borderTopLeftRadius:"5px"},className:"backdrop-blur white-translucent-background"}),(0,$.jsx)(g.Z,{sx:{height:"100%",width:Z,borderTopRightRadius:"5px"},className:"backdrop-blur white-translucent-background"})]}),this.state.showAspectRatioButtons&&(0,$.jsx)(g.Z,{className:"rounded-border-small-top absolute-centered",sx:{backgroundColor:"rgba(0,0,0,80%)",zIndex:12},children:(0,$.jsxs)("div",{className:"flex-vertical-centered fill-height",children:[(0,$.jsxs)(g.Z,{sx:{width:"80%"},children:[(0,$.jsx)(g.Z,{sx:{textAlign:"center"},children:(0,$.jsx)(y.Z,{variant:"h5_resp",sx:{fontWeight:"500",color:"common.white",mb:3},children:"Choose an aspect ratio"})}),(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,$.jsx)(g.Z,{className:["aspect-ratio-card","sixteen-nine"===this.state.selectedAspectRatio?"selected":""].join(" "),onClick:function(){return r.setSelectedAspectRatio("sixteen-nine")},children:(0,$.jsx)(D.EZ,{width:"100%",height:"100%"})}),(0,$.jsx)(g.Z,{className:["aspect-ratio-card","nine-sixteen"===this.state.selectedAspectRatio?"selected":""].join(" "),onClick:function(){return r.setSelectedAspectRatio("nine-sixteen")},sx:{position:"relative"},children:(0,$.jsx)(g.Z,{children:(0,$.jsx)(D.CJ,{width:"100%",height:"100%"})})}),(0,$.jsx)(g.Z,{className:["aspect-ratio-card","one-one"===this.state.selectedAspectRatio?"selected":""].join(" "),onClick:function(){return r.setSelectedAspectRatio("one-one")},sx:{position:"relative"},children:(0,$.jsx)(g.Z,{children:(0,$.jsx)(D.LO,{width:"100%",height:"100%"})})})]})]}),(0,$.jsx)(x.Z,{title:"You can change the format later",placement:"top",arrow:!0,children:(0,$.jsx)(g.Z,{sx:{position:"absolute",right:"10px",top:"10px",lineHeight:"0.8"},children:(0,$.jsx)(D.ep,{strokeColor:"rgba(255,255,255,50%)",width:"20px",height:"20px"})})})]})}),this.props.showCheckbox&&(0,$.jsx)(x.Z,{title:this.props.sharedByMsgForShare,children:(0,$.jsx)(g.Z,{sx:{position:"absolute",zIndex:10,top:0,right:0},className:null!==(e=this.props.selectedTemplatesCheckbox)&&void 0!==e&&e.includes(this.props.id)?"":"show-on-hover disabledClass",onClick:function(e){return e.stopPropagation()},children:(0,$.jsx)(Ie.Z,{checked:!(null===(t=this.props.selectedTemplatesCheckbox)||void 0===t||!t.includes(this.props.id)),onChange:function(e){return!r.props.sharedByMsgForShare&&r.props.selectMultiple(e.target.checked,r.props.id)},disableRipple:!!this.props.sharedByMsgForShare,disabled:!!this.props.sharedByMsgForShare,sx:{color:"grey.0","& svg.MuiSvgIcon-root":{backgroundColor:"rgba(0,0,0,0.7)"},"&.Mui-checked":{color:"grey.0"},"&.Mui-disabled":{color:"rgba(95, 97, 120, 0.8)"}}})})}),this.props.showSharedWithIcon&&(0,$.jsx)(S.Z,{size:"small",onClick:function(e){e.stopPropagation(),r.props.openShareTemplatesPopover(e,r.props.template)},sx:{position:"absolute",left:"16px",bottom:"16px",background:"rgba(0,0,0, 0.7)",color:"#fff",borderRadius:"4px",width:"30px",height:"30px",zIndex:"11","&:hover":{backgroundColor:"rgba(0,0,0, 1)"}},children:(0,$.jsx)(Ze.Z,{fontSize:"small"})})]})),(0,$.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",height:"50px",boxShadow:"inset 0 10px 20px -20px rgba(0,0,0,0.5);",zIndex:11,backgroundColor:"grey.0"},children:[(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",maxWidth:this.props.layout===Xe.fullScreenWithoutHeader?"global"===this.props.scope?"calc(100% - 40px)":"calc(100% - 120px)":"100%"},children:[(0,$.jsx)(x.Z,{title:this.props.template.metaData.name,placement:"top",arrow:!0,children:(0,$.jsxs)(g.Z,{component:"span",sx:{mr:"3px",pl:1,width:"max-content",maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},children:[(0,$.jsx)(y.Z,{variant:"h6",component:"div",sx:{color:"grey.700",textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},className:"ellipsis-full-width",children:this.props.template.metaData.name}),this.props.sharedByUser]})}),this.props.allowEdit&&"global"===this.props.scope&&(0,$.jsx)("div",{className:"absolute-float-top-right",style:{width:"45px",top:"5px",right:"120px"},children:(0,$.jsx)(E.default,{value:this.props.template.metaData.orderNumber,onEditSaveText:this.updateOrderNumber,sx:{backgroundColor:"rgba(255,255,255,0.8)"},validationsList:[{fn:function(e){return e>0&&e<1e3},message:"0 - 1000"}]})})]}),(this.props.customizeTemplate||this.props.allowEdit)&&!this.state.showAspectRatioButtons&&(0,$.jsx)("div",{className:"d-flex",style:{textAlign:"right",zIndex:11,position:"relative"},children:(0,$.jsxs)(g.Z,{className:"on-hover-event template-actions-icons",sx:{marginRight:"6px",display:"none"},children:[this.props.customizeTemplate&&(0,$.jsx)(x.Z,{title:"Duplicate template",children:(0,$.jsx)(v.Z,{variant:"text",onClick:function(){I().getInstance().logEvent("duplicate-template-clicked",{project_id:r.props.project_id}),r.props.customizeTemplate(r.props.template,!0)},sx:{minWidth:"unset","&:hover":{backgroundColor:"grey.200"}},children:(0,$.jsx)(Ee.Z,{sx:{fontSize:"18px",color:"grey.500"}})})}),this.props.openShareTemplateDialog&&(0,$.jsx)(x.Z,{title:this.props.sharedByMsgForShare?this.props.sharedByMsgForShare:"Share",disableInteractive:!0,children:(0,$.jsx)(g.Z,{children:(0,$.jsx)(v.Z,{variant:"text",fullWidth:!0,disabled:!!this.props.sharedByMsgForShare,onClick:function(){I().getInstance().logEvent("share-template-clicked",{project_id:r.props.project_id}),r.props.openShareTemplateDialog(r.props.template)},sx:{minWidth:"unset","&:hover":{backgroundColor:"grey.200"}},children:(0,$.jsx)(Ce.Z,{sx:{fontSize:"20px",color:"grey.500",transform:"scaleX(-1)"}})})})}),this.props.allowEdit&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Te.Z,{sx:{color:"primary.lighter"}}),(0,$.jsx)(x.Z,{title:this.props.sharedByMsgForDelete,disableInteractive:!0,placement:"top",arrow:!0,children:(0,$.jsx)(g.Z,{children:(0,$.jsx)(v.Z,(n={disabled:this.props.sharedByMsgForDelete,variant:"text",sx:{"&:hover":{color:"error.main"}},onClick:function(){r.props.removeFromTemplatesList(r.props.id),r.props.customizeTemplate(r.props.template,!1,!0)}},(0,ue.Z)(n,"sx",{minWidth:"unset","&:hover":{backgroundColor:"grey.200"}}),(0,ue.Z)(n,"children",(0,$.jsx)(ke.Z,{sx:{fontSize:"20px",color:"grey.500","&:hover":{color:"error.main"}}})),n))})})]})]})})]})]})},this.props.id)}}]),r}(R.Component),Re=_e,Pe=n(3643),Ne=n(64923),Oe=n.p+"static/media/painting_palette_purple.077f6b62fb3d52812e0d356c84d3c888.svg",De=n(48527),Ue=n(77049),Le=n(17568),Fe=((0,be.ZP)(je.Z)({"&.Mui-selected, &.Mui-selected:hover":{color:"white",backgroundColor:"var(--pictory-primary-color)"}}),function(){return _().times(8,(function(){return(0,$.jsxs)("div",{className:"col p-4",children:[(0,$.jsx)(f.Z,{variant:"rectangular",sx:{width:"100%",height:"auto",borderRadius:"5px",aspectRatio:"16/9"}}),(0,$.jsx)(f.Z,{variant:"rectangular",sx:{width:"100%",maxWidth:"unset",marginTop:"4px",mb:1,borderRadius:"5px",height:"40px"}})]})}))}),Ve=B.Z.getTemplatesRequest,Be=B.Z.getTemplateUsersRequest,Me=B.Z.shareTemplate,Ge=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).updateInTemplatesList=function(e){var t=(0,d.Z)({},r.state.templatesList),n=t.userTemplates.findIndex((function(t){return t.metaData.id===e.metaData.id}));n>-1?t.userTemplates[n]=e:(n=t.globalTemplates.findIndex((function(t){return t.metaData.id===e.metaData.id})))>-1&&(t.globalTemplates[n]=e),r.setState({templatesList:t})},r.removeFromTemplatesList=function(e){var t=(0,d.Z)({},r.state.templatesList),n=t.userTemplates.findIndex((function(t){return t.metaData.id===e}));n>-1?t.userTemplates.splice(n,1):(n=t.globalTemplates.findIndex((function(t){return t.metaData.id===e})))>-1&&t.globalTemplates.splice(n,1),r.setState({templatesList:t})},r.scrollTemplatesGrid=function(e){var t=document.getElementById("templatesGrid"),n=(t.offsetWidth,0),r=setInterval((function(){"left"==e?t.scrollLeft-=50:t.scrollLeft+=50,(n+=10)>=100&&window.clearInterval(r)}),50)},r.openShareTemplateDialog=function(e){var t,n=null===(t=r.props.templateUsersResult)||void 0===t?void 0:t.Items.filter((function(t){return t.templateId===e.metaData.id}));r.setState({openShareTemplateDialog:!0,templateMapping:n,selectedTemplateForShare:e})},r.shareTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(null===(n=r.state.selectedTemplateForShare)||void 0===n?void 0:n.metaData.id)||r.state.selectedTemplatesCheckbox,e.next=3,r.props.shareTemplate(s,t);case 3:"success"===(null==(i=e.sent)?void 0:i.status)?(setTimeout((function(){var e=Array.isArray(s)?s.length:1,n=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Template share removed for the chosen team member":"".concat(e," template").concat(e>1?"s":""," shared with selected team members");r.props.showAlertNotification(n)}),100),r.props.getTemplateUsersRequest((0,M.E3)(),r.props.user.username),I().getInstance().logEvent("asset-shared",{"asset-type":"template","use-case":r.props.source,"project-id":r.props.project_id,"workspace-name":(0,M.CV)(r.props.user.username)})):(o=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Template share could not be removed. Please contact support":"Template could not be shared. Please contact support",r.props.showAlertNotification(o),I().getInstance().logEvent("asset-share-error",{"asset-type":"template","use-case":r.props.source,"project-id":r.props.project_id,"workspace-name":(0,M.CV)(r.props.user.username),response:i}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.openShareTemplatesPopover=function(e,t){var n,s,a=null===(n=r.props.templateUsersResult)||void 0===n?void 0:n.Items.filter((function(e){return e.templateId===t.metaData.id}));r.setState({openTemplateMapping:!r.state.openTemplateMapping,anchorElTemplateMapping:e.currentTarget,templateMapping:a,selectedTemplateForShare:t,disableRemoveShare:(null===(s=a[0])||void 0===s?void 0:s.sharedByUserId)!==r.props.user.username})},r.selectMultiple=function(e,t){var n,a=(0,s.Z)(r.state.selectedTemplatesCheckbox||[]),i=a.findIndex((function(e){return e===t}));i>-1?e||a.splice(i,1):e&&a.push(t);for(var o=[],c=(null===(n=r.props.templateUsersResult)||void 0===n?void 0:n.Items)||[],l=0;l<c.length&&1==a.length;l++){var u=c[l];a.includes(u.templateId)&&o.push(u)}r.setState({selectedTemplatesCheckbox:a,templateMapping:o})},r.listTemplates=function(e,t){var n=r.state.templatesList;if(!r.state.isLoading&&"userTemplates"===e&&0===n.userTemplates.length)return(0,$.jsxs)(g.Z,{sx:{position:"relative",height:"100%",width:"100%",backgroundColor:"#F6F7FB"},children:[(0,$.jsx)("div",{className:"row row-cols-4 visibility-hidden",style:r.props.layout===Xe.menuPopup?{flexWrap:"nowrap"}:{},children:(0,$.jsx)(Fe,{})}),(0,$.jsx)(g.Z,{sx:{height:"100%",width:"100%",position:"absolute",top:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,$.jsxs)(g.Z,{sx:{height:"fit-content",width:"40%",minWidth:"30vw",textAlign:"center"},children:[r.props.layout!==Xe.menuPopup&&(0,$.jsx)("div",{children:(0,$.jsx)("img",{src:Oe,style:{width:"70px",position:"absolute",transform:"translate(-50%, -120%)"}})}),(0,$.jsx)(y.Z,{variant:"h5_resp",component:"div",sx:{color:"#37474F",lineHeight:1.5,mb:1},children:"How templates work"}),(0,$.jsx)(y.Z,{variant:"body1_resp",sx:{textAlign:"center",color:"#455A64"},children:"Create your personal branded templates by just editing any of the Library Templates. They will be saved under My Templates."})]})})]});var s=(0,M.PW)(r.props.user.username,!0),a=!1;return(0,$.jsxs)("div",{className:"row row-cols-4",style:r.props.layout===Xe.menuPopup?{flexWrap:"nowrap"}:{paddingBottom:"90px"},children:[n[e].filter((function(t){return"globalTemplates"==e||!r.state.getTemplatesFilter||("my"==r.state.getTemplatesFilter?!t.metaData.isShared||0==t.metaData.isShared:"sharedwithme"!=r.state.getTemplatesFilter||1==t.metaData.isShared)})).map((function(e){var n,i;a=!0;var o=(s||"user"===e.metaData.scope)&&r.props.layout!=Xe.menuPopup&&r.props.layout!=Xe.fullScreenWithHeader,c=r.props.hideDuplicateTemplateButton||r.props.layout==Xe.menuPopup?{}:{customizeTemplate:r.props.customizeTemplate},l=r.props.currentTemplateMetaData&&e.metaData.id===r.props.currentTemplateMetaData.id,u=!!r.props.currentTemplateMetaData;c=l?(0,d.Z)((0,d.Z)({},c),{},{selectedItemRef:r.selectedItemRef}):(0,d.Z)((0,d.Z)({},c),{},{setTemplate:r.props.setTemplate});var p="user"===e.metaData.scope&&(null===(n=r.props.templateUsersResult)||void 0===n?void 0:n.Items.filter((function(t){return t.templateId===e.metaData.id}))),h=(null==p||null===(i=p[0])||void 0===i?void 0:i.sharedByUserId)&&p[0].sharedByUserId!==r.props.user.username;return"user"===e.metaData.scope&&(0,M.E3)()&&(c=(0,d.Z)((0,d.Z)({},c),{},{openShareTemplateDialog:r.openShareTemplateDialog})),(0,$.jsx)(Re,(0,d.Z)((0,d.Z)((0,d.Z)({history:r.props.history,id:e.metaData.id,isSelected:l,displayTemplateGrid:r.props.displayTemplateGrid,aspectRatioClassFilter:r.state.aspectRatioClassFilter,templateTabValue:r.state.templateTabValue,scope:e.metaData.scope,template:e},c),r.props.layout===Xe.fullScreenWithHeader||r.props.layout===Xe.fullScreenWithoutHeader||r.props.layout===Xe.menuPopup?{templateClassName:"col p-3"}:{}),{},{allowEdit:o,removeFromTemplatesList:r.removeFromTemplatesList,layout:r.props.layout,allowAspectRatioSelection:r.props.layout===Xe.fullScreenWithHeader,saveOrderNumber:function(e){r.updateInTemplatesList(e),r.props.saveOrderNumber(e)},source:r.props.source,project_id:r.props.project_id,isCurrentTemplate:u,isTemplateSelected:r.state.selectedTemplateId===e.metaData.id,setSelectedTemplateId:function(e){return r.setState({selectedTemplateId:e})},openShareTemplatesPopover:r.openShareTemplatesPopover,showSharedWithIcon:r.props.layout===Xe.fullScreenWithoutHeader&&(null==p?void 0:p.length)>0,selectedTemplatesCheckbox:r.state.selectedTemplatesCheckbox,selectMultiple:r.selectMultiple,showCheckbox:t,sharedByUser:h?(0,$.jsxs)(y.Z,{variant:"text_xs",component:"div",sx:{color:"grey.500",ml:2,textAlign:"left"},children:["By ",(0,M.Yf)(p[0])]}):(0,$.jsx)($.Fragment,{}),sharedByMsgForShare:h?(0,$.jsxs)($.Fragment,{children:["This template is owned by ",(0,M.Yf)(p[0]),". ",(0,$.jsx)("br",{}),"Ask ",(0,M.Zo)(p[0])," to provide access."]}):"",sharedByMsgForDelete:l?"Template applied to current project can't be deleted":h?(0,$.jsxs)($.Fragment,{children:["This template is owned by ",(0,M.Yf)(p[0]),". ",(0,$.jsx)("br",{}),"Ask ",(0,M.Zo)(p[0])," to delete."]}):""}),e.metaData.id)})),!r.state.isLoading&&!a&&(0,$.jsx)(Y.Z,{sx:{minWidth:"100% !important",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},className:"container",children:(0,$.jsx)(y.Z,{variant:"subtitle1",sx:{p:2,minHeight:"166.99px",display:"flex",alignItems:"center"},children:"No template matches the filter criteria"})}),r.state.isLoading&&(0,$.jsx)(Fe,{})]})},r.displayChooseTemplateBar=function(){return(0,$.jsxs)(g.Z,{sx:{textAlign:"left",pb:2,pl:2,mb:2,borderBottom:"1px solid",borderBottomColor:"primary.lighter"},children:[(0,$.jsx)(y.Z,{variant:"h4",sx:{pt:2},children:"Choose template"}),(0,$.jsx)(y.Z,{variant:"body1",sx:{fontWeight:"400"},children:"Template is a combination of Styles and Branding and it can be easily edited under the respective tabs in the Storyboard."})]})},r.filterUserTemplates=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({getTemplatesFilter:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectedItemRef=R.createRef(),r.state={templateTabValue:0,templatesList:{globalTemplates:[],userTemplates:[]},aspectRatioClassFilter:"sixteen-nine",isLoading:!0},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e;this.props.getTemplates({source:this.props.isTranscribe?"transcribe":"",filter:this.props.getTemplatesFilter}),"user"===(null===(e=this.props.currentTemplateMetaData)||void 0===e?void 0:e.scope)&&this.setState({templateTabValue:1});var t=(0,M.E3)();t&&this.props.getTemplateUsersRequest(t,this.props.user.username)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.state.templatesList!==t.templatesList&&this.state.templatesList&&this.selectedItemRef&&this.selectedItemRef.current&&this.selectedItemRef.current.scrollIntoView(!1),this.props.templateUsersResult!==e.templateUsersResult&&this.state.selectedTemplateForShare){var r,s=null===(r=this.props.templateUsersResult)||void 0===r?void 0:r.Items.filter((function(e){return e.templateId===n.state.selectedTemplateForShare.metaData.id}));this.setState({templateMapping:s})}if(this.props.templateUsersResult&&this.props.templateUsersResult!==e.templateUsersResult){for(var a=[],i=this.props.templateUsersResult.Items||[],o=0;o<i.length&&this.state.selectedTemplateForShare;o++){var c=i[o];this.state.selectedTemplateForShare.metaData.id==c.templateId&&a.push(c)}this.setState({templateMapping:a})}if(this.props.templatesResult&&(!e.templatesResult||e.templatesResult!==this.props.templatesResult)){var l=this.props.templatesResult;this.setState({templatesList:l,isLoading:!1})}}},{key:"render",value:function(){var e,t,n,r,s,a=this,i=this.props.layout===Xe.menuPopup?"white-background":this.props.layout===Xe.fullScreenWithHeader?"page-content white-background full-height height-100vh":"white-background fill-height",o=this.props.layout===Xe.fullScreenWithoutHeader&&1==this.state.templateTabValue&&(0,M.E3)();return(0,$.jsxs)("div",{className:i,children:[this.props.layout===Xe.fullScreenWithHeader&&(0,$.jsx)(we.Z,{history:this.props.history,resetStep1:this.props.resetStep1}),(0,$.jsxs)(T.default,{style:{padding:"0px"},children:[(0,$.jsxs)("div",{children:[!this.props.hideChooseTemplateBar&&this.displayChooseTemplateBar(),(0,$.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,$.jsxs)(j.Z,{sx:this.props.layout===Xe.menuPopup?{minWidth:"max-content",border:0,borderColor:"#DDDEE6",padding:"0px",pb:0}:{width:"100%",pl:2},classes:{flexContainerVertical:"fill-height"},orientation:(this.props.layout,Xe.menuPopup,"horizontal"),value:this.state.templateTabValue,onChange:function(e,t){return a.setState({templateTabValue:t})},children:[(0,$.jsx)(w.Z,{id:"template_tab_1",label:(0,$.jsxs)(g.Z,{children:[(0,$.jsx)(Le.default,{sx:{top:"0"}}),(0,$.jsx)(y.Z,{children:"Templates library"}),(0,$.jsx)(g.Z,{style:{marginLeft:"8px"}})]}),sx:this.props.layout===Xe.menuPopup?{width:"250px",p:0}:{width:"250px",fontWeight:700}}),(0,$.jsx)(w.Z,{id:"template_tab_2",label:"My templates",sx:this.props.layout===Xe.menuPopup?{width:"250px",p:0}:{width:"250px",fontWeight:700}})]}),1==this.state.templateTabValue&&(0,M.E3)()&&(0,$.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pr:2},children:[o&&(0,$.jsx)(x.Z,{title:(null===(e=this.state.selectedTemplatesCheckbox)||void 0===e?void 0:e.length)>0?"":"Select templates to share",children:(0,$.jsx)(g.Z,{children:(0,$.jsxs)(v.Z,{sx:{width:"max-content",mr:2},onClick:function(e){return a.setState({openShareTemplateDialog:!0,selectedTemplateForShare:void 0})},disabled:!((null===(t=this.state.selectedTemplatesCheckbox)||void 0===t?void 0:t.length)>0),children:[(0,$.jsx)(Ce.Z,{fontSize:"small",sx:{mr:1,transform:"scaleX(-1)"}}),"Share"+((null===(n=this.state.selectedTemplatesCheckbox)||void 0===n?void 0:n.length)>0?" selected":"")]})})}),(0,$.jsx)(Ue.default,{filterData:this.filterUserTemplates})]})]})]}),(0,$.jsxs)("div",{style:this.props.layout===Xe.menuPopup?{position:"relative"}:{height:"100%"},children:[(0,$.jsxs)("div",{id:"templatesGrid",style:this.props.layout===Xe.menuPopup?{overflow:"hidden auto",marginLeft:"30px",marginRight:"30px"}:{overflow:"hidden auto",height:"100%"},children:[(0,$.jsx)("div",{hidden:this.state.templateTabValue,style:this.props.layout===Xe.menuPopup?{height:"100%"}:{height:"100%",padding:"16px"},children:this.listTemplates("globalTemplates")}),(0,$.jsx)("div",{hidden:1!==this.state.templateTabValue,style:this.props.layout===Xe.menuPopup?{height:"100%"}:{height:"100%",padding:"16px"},children:this.listTemplates("userTemplates",o)})]}),this.props.layout===Xe.menuPopup&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("button",{className:"slide-btn scroll-leftbtn",onClick:function(){a.scrollTemplatesGrid("left")},children:(0,$.jsx)("i",{className:"fa fa-angle-left"})}),(0,$.jsx)("button",{className:"slide-btn scroll-rightbtn",onClick:function(){a.scrollTemplatesGrid("right")},children:(0,$.jsx)("i",{className:"fa fa-angle-right"})})]})]})]}),this.state.openShareTemplateDialog&&(0,$.jsx)(Ne.I,{open:this.state.openShareTemplateDialog,onClose:function(){return a.setState({openShareTemplateDialog:!1,selectedTemplateForShare:void 0,selectedTemplatesCheckbox:[]})},assetMapping:this.state.templateMapping,teamUsers:this.props.teamUsers,shareAsset:this.shareTemplate,cognito_id:this.props.user.username,assetType:"template",title:"Share ".concat((null===(r=this.state.selectedTemplatesCheckbox)||void 0===r?void 0:r.length)||1," template").concat((null===(s=this.state.selectedTemplatesCheckbox)||void 0===s?void 0:s.length)>1?"s":"")}),this.state.openTemplateMapping&&(0,$.jsx)(De.y,{open:this.state.openTemplateMapping,onClose:function(){return a.setState({openTemplateMapping:!1,selectedTemplateForShare:void 0})},assetMapping:this.state.templateMapping,teamUsers:this.props.teamUsers,shareAsset:this.shareTemplate,anchorEl:this.state.anchorElTemplateMapping,disableRemoveShare:this.state.disableRemoveShare})]})}}]),n}(R.Component),We=(0,P.$j)((function(e){return{templatesResult:e.templateStyles.templatesResult,templateUsersResult:e.templateStyles.templateUsersResult,shareTemplateStatus:e.templateStyles.shareTemplateStatus}}),{getTemplates:Ve,getTemplateUsersRequest:Be,shareTemplate:Me})((0,Pe.EN)(Ge)),ze=n.p+"static/media/painting_palette.b1979ce488ff9977ff167298dfbff388.svg",Je=n(31666),He=n(14108),Ke={templatesTabs:"templatesTabs",stylesListTabs:"stylesListTabs",stylesEditorTabs:"stylesEditorTabs"},qe={intro:{name:"intro",tabLabel:"Intro",tabIndex:0},scenes:{name:"scenes",tabLabel:"Scene",tabIndex:1},outro:{name:"outro",tabLabel:"Outro",tabIndex:2}},Ye={currentTemplateStylesTab:{name:"currentTemplateStylesTab",tabLabel:"Template styles",tabIndex:0},userTemplateStylesTab:{name:"userTemplateStylesTab",tabLabel:"My styles",tabIndex:1},globalTemplateStylesTab:{name:"globalTemplateStylesTab",tabLabel:"Styles library",tabIndex:2}},Qe={applyTemplateId:"applyTemplateId",addStyleToTemplate:"addStyleToTemplate",setVisual:"setVisual"},Xe={fullScreenWithHeader:"fullScreenWithHeader",fullScreenWithoutHeader:"fullScreenWithoutHeader",leftSideBar:"leftSideBar",menuPopup:"menuPopup",stylesBottomBar:"stylesBottomBar"},$e=B.Z.saveTemplate,et=B.Z.saveStyle,tt=B.Z.getStylesRequest,nt=B.Z.getTemplateStylesRequest,rt=(window.location&&window.location.hostname&&window.location.hostname.startsWith("dev"),function(e){var t=e.layout;return(0,$.jsx)(g.Z,{className:"flex-row",sx:(0,d.Z)((0,d.Z)({},t==Xe.stylesBottomBar?{padding:"10px",pt:"5px",overflowX:"scroll"}:{}),{},{flexWrap:"nowrap !important"}),children:_().times(3,(function(){return(0,$.jsx)(g.Z,{className:"style-element",style:{aspectRatio:"1.2"},children:(0,$.jsx)(f.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",borderRadius:"5px"}})})}))})}),st=[{fn:function(e){return e.length>=2},message:"Minimum 2 characters must be entered"},{fn:function(e){return e.length<=50},message:"Maximum 50 characters must be entered"},{regex:/^[0-9a-zA-Z()/ \-_]*$/,message:"Enter a valid name"}],at=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var c;(0,o.Z)(this,n),(c=t.call(this,e)).getTemplateFromId=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s,i){var o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r||c.state.templatesList,(o=r&&r.globalTemplates.find((function(e){return e.metaData.id===n})))||(o=r&&r.userTemplates.find((function(e){return e.metaData.id===n}))),!o){e.next=5;break}return e.abrupt("return",o);case 5:return e.next=7,c.getTemplateAndStylesByScopeAndId(t,n,!1,s,i);case 7:if(!(l=e.sent)||!l.template){e.next=10;break}return e.abrupt("return",l.template);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),c.fetchTemplateAndStyles=function(){if(c.props.currentTemplateMetaData){var e=c.props.currentTemplateMetaData.scope,t=c.props.currentTemplateMetaData.id;c.getTemplateAndStylesByScopeAndId(e,t,!1,c.props.currentTemplateMetaData.createdBy,c.props.currentTemplateMetaData.userid?c.props.currentTemplateMetaData.userid:c.props.user.username)}},c.getTemplateAndStylesByScopeAndId=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,o,l,u,d,p=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>2&&void 0!==p[2]&&p[2],s=p.length>3?p[3]:void 0,i=p.length>4?p[4]:void 0,!c.state.currentTemplate||c.state.currentTemplate.metaData.id!==n||!c.state.currentTemplateStyles||r){e.next=7;break}return e.abrupt("return",{template:c.state.currentTemplate,Styles:c.state.currentTemplateStyles});case 7:return c.setState({isLoading:!0}),e.next=10,c.props.getTemplateStyles(t,n,s,i);case 10:if(!(o=e.sent).templateStylesResult||!o.templateStylesResult.template){e.next=21;break}return l=o.templateStylesResult.template,u=l.metaData,d=o.templateStylesResult.Styles,d=c.sortCurrentTemplateStyles(d,l),e.next=18,c.setState({isLoading:!1,currentTemplate:l,currentTemplateMetaData:u,currentTemplateStyles:d});case 18:return e.abrupt("return",{template:l,Styles:d});case 21:return c.setState({isLoading:!1}),e.abrupt("return",{template:void 0,Styles:[]});case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.getStyleObjFromStyleId=function(e,t,n){if(n||(n=c.state.stylesList),c.state.currentTemplateStyles&&c.state.currentTemplateStyles.length>0){var r=c.state.currentTemplateStyles.findIndex((function(t){return t.metaData.styleId===e}));if(r>-1){var s=c.state.currentTemplateStyles[r];return{index:r,scope:s.metaData.scope,style:s}}}if("global"===t||void 0===t){var a=n&&n.globalStyles&&n.globalStyles.findIndex((function(t){return t.metaData.styleId===e}));if(a>-1)return{index:a,scope:"global",style:n.globalStyles[a]}}if("user"===t||void 0===t){var i=n&&n.userStyles&&n.userStyles.findIndex((function(t){return t.metaData.styleId===e}));if(i>-1)return{index:i,scope:"user",style:n.userStyles[i]}}return{index:-1,scope:"",style:null}},c.setTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.props.layout!==Xe.fullScreenWithHeader){e.next=5;break}null===(s=(i=c.props).onTemplateSelected)||void 0===s||s.call(i,t),setTimeout((function(){c.props.setTemplate(t,r)}),1),e.next=9;break;case 5:if(!c.state.openTemplatesPopup){e.next=8;break}return e.next=8,c.setState({openTemplatesPopup:!1});case 8:setTimeout((function(){var e,n;c.props.layout===Xe.leftSideBar||(c.props.layout,Xe.menuPopup),null===(e=(n=c.props).onTemplateSelected)||void 0===e||e.call(n,t)}),100);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.applyTemplateToProject=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.length>3&&void 0!==s[3]&&s[3],s.length>4&&s[4],s.length>5&&s[5];case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.applyDefaultStyleToAllScenes=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i,o,l,u,d,p=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]&&p[1],r=p.length>2?p[2]:void 0,t||(t=c.state.currentTemplate),e.next=5,c.getTemplateAndStylesByScopeAndId(t.metaData.scope,t.metaData.id,n,t.metaData.createdBy,t.metaData.userid);case 5:if(!(s=e.sent)||!s.Styles){e.next=29;break}if(!(i=s.Styles.find((function(e){return e.metaData.styleId===t.metaData.defaultStyleId})))){e.next=13;break}return e.next=11,c.props.applyStyleToScene(i,qe.scenes.name,!1,!0,!1);case 11:e.next=29;break;case 13:if(o=s.Styles.find((function(e){return e.metaData.styleId===t.metaData.defaultStyleIdScenes})),l=s.Styles.find((function(e){return e.metaData.styleId===t.metaData.defaultStyleIdIntro})),u=s.Styles.find((function(e){return e.metaData.styleId===t.metaData.defaultStyleIdOutro})),d=!1,!l&&!u||r||(d=!0),!o){e.next=21;break}return e.next=21,c.props.applyStyleToScene(o,qe.scenes.name,r||d,!0,!1);case 21:if(d=!(!u||r),!l){e.next=25;break}return e.next=25,c.props.applyStyleToScene(l,qe.intro.name,r||d,!1,!1);case 25:if(r||(d=!1),!u){e.next=29;break}return e.next=29,c.props.applyStyleToScene(u,qe.outro.name,r||d,!1,!1);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.applyCurrentStyleToAllScenes=(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.state.currentTemplate,e.next=3,c.getTemplateAndStylesByScopeAndId(t.metaData.scope,t.metaData.id,!1,t.metaData.createdBy,t.metaData.userid);case 3:if(!(n=e.sent)||!n.Styles){e.next=11;break}if(!(r=c.state.currentStyle)){e.next=11;break}return I().getInstance().logEvent("style-applied-to-all-scenes",{"style-name":r&&r.metaData?r.metaData.name:""}),e.next=10,c.props.applyStyleToScene(r,qe.scenes.name,!1,!0);case 10:c.setState({showAlertNotification:"The style '".concat(r.metaData.name,"' has been applied to all scenes")});case 11:c.setState({showApplyToAllButton:!1});case 12:case"end":return e.stop()}}),e)}))),c.applyVisualsToAllScenes=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.duplicateTemplateIfNoAccess=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("global"!==t.metaData.scope||(0,M.PW)(c.props.user.username,!0)){e.next=5;break}return e.next=3,c.customizeTemplate(t,!0,!1,n);case 3:return r=e.sent,e.abrupt("return",!!r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.customizeTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i,o=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.length>3&&void 0!==o[3]?o[3]:"user-click",!r){e.next=8;break}return t.metaData.isDeleted=!0,e.next=5,c.saveTemplate(t,r);case 5:return i=e.sent,I().getInstance().logEvent("template-deleted",{status:i&&i.status?i.status:"unknown error","quota-pending":i&&i.template?i.template.templatesCount:"","template-name":t.metaData.name,project_id:c.props.project_id}),e.abrupt("return");case 8:return e.next=10,c.editTemplate(t,n,s);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.editTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setState({openTemplatesPopup:!1});case 2:return n&&(c.state.currentTemplateMetaData.id,t.metaData.id,s=t.metaData.id,(t=_().cloneDeep(t)).metaData.id=(0,L.Z)(),t.metaData.isCustomized=!0,t.metaData.origTemplateId=s,"global"===t.metaData.scope&&(0,M.PW)(c.props.user.username,!0)?t.metaData.scope="global":t.metaData.scope="user",t.metaData.createdBy=c.props.user.attributes.email,t.metaData.createDate=new Date,delete t.metaData.updatedBy,delete t.metaData.updateDate,delete t.metaData.isDeleted),e.next=6,c.saveTemplate(t);case 6:if(!(i=e.sent)||"success"!==i.status){e.next=15;break}if(i.template&&void 0!==i.template.templatesCount&&c.showCustomTemplateInfoDialog(i.template.templatesCount,i.template.metaData),!i.template||!i.template.metaData){e.next=15;break}return t=i.template,c.props.setTemplate(t,n),n&&c.setState({showAlertNotification:"The template has been duplicated and applied to the video",templateDuplicated:!0}),I().getInstance().logEvent(n?"template-duplicate":"template-customised",{status:i&&i.status?i.status:"unknown error","quota-pending":i&&i.template?i.template.templatesCount:"","template-name":t.metaData.name,project_id:c.props.project_id,mode:"user-click"===r?"explicit":"implicit","original-TemplateId":t.metaData.origTemplateId,TemplateId:t.metaData.id,"change-made":r}),e.abrupt("return",!0);case 15:I().getInstance().logEvent(n?"template-duplicate":"template-customised",{status:i&&i.status?i.status:"unknown error","quota-pending":i&&i.template?i.template.templatesCount:"","template-name":t.metaData.name,project_id:c.props.project_id,mode:"user-click"===r?"explicit":"implicit","original-TemplateId":t.metaData.origTemplateId,TemplateId:t.metaData.id,"change-made":r});case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.showCustomTemplateInfoDialog=function(e,t){var n,r,s,a,i,o,l=(0,M.we)(c.props.user.username),u=(null==l||null===(n=l.data)||void 0===n||null===(r=n.plan)||void 0===r||null===(s=r.features)||void 0===s||null===(a=s.video)||void 0===a?void 0:a.totalTemplates)||e,d=(null==l||null===(i=l.name)||void 0===i?void 0:i.indexOf("Pictory-Premium"))>-1,m=d?"":"Need more? Upgrade to higher plan here.",g=function(){window.open("https://kb.pictory.ai/en/articles/8468867-how-to-customize-a-template-with-your-personal-branding-and-use-it-every-time-you-create-a-video","_blank"),c.setState({showInfoDialog:!1})};if(0===e&&t){var f=u-e;f<0&&(f=0),o={icon:(0,$.jsx)(p.Z,{color:"info"}),iconBgPaletteColor:"info.light",title:"Great going!",message:(0,$.jsxs)($.Fragment,{children:["With this duplicate template, your personal template count is ".concat(f," and has reached the maximum number allowed for your plan. "),(0,$.jsx)("br",{}),m]}),primaryButtonLabel:d?"Learn how templates work":"Upgrade",primaryButtonOnClick:function(){return d?g():c.props.history.push("/"+U.Z.plansList)}}}else if(e>0){var v=u-e;v<0&&(v=0),1===e&&(o={icon:(0,$.jsx)(p.Z,{color:"info"}),iconBgPaletteColor:"info.light",title:"Great going!",message:(0,$.jsxs)($.Fragment,{children:["With this duplicate template, your personal template count is ".concat(v," and you can only create ").concat(e," more as per your plan. "),(0,$.jsx)("br",{}),m]}),primaryButtonLabel:d?"Learn how templates work":"Upgrade",primaryButtonOnClick:function(){return d?g():c.props.history.push("/"+U.Z.plansList)}})}else e<=0&&(o={icon:(0,$.jsx)(h.Z,{color:"error"}),iconBgPaletteColor:"error.light",title:"Oops!",message:(0,$.jsxs)($.Fragment,{children:["You have exhausted all of your templates. You can either edit your existing templates or delete them to make space for more.",(0,$.jsx)("br",{}),m]}),primaryButtonLabel:d?"Edit or delete templates":"Upgrade",primaryButtonOnClick:function(){return d?c.setState({showInfoDialog:!1,openTemplatesPopup:!0}):c.props.history.push("/"+U.Z.plansList)},secondaryButtonLabel:d?"Learn how it works":"I'll just edit my existing templates",secondaryButtonOnClick:function(){return d?g():c.setState({showInfoDialog:!1,openTemplatesPopup:!0})}});c.setState({showInfoDialog:o})},c.sendTemplateIncreaseEmail=function(e){c.props.subscriptionHelp(c.props.user.username,null==e?void 0:e.subscription_id,"TEMPLATES_QUOTA_INCREASE_REQUEST"),c.setState({showAlertNotification:(0,$.jsxs)($.Fragment,{children:["Your request to increase template quota is sent to Pictory support. ",(0,$.jsx)("br",{})," We will contact you shortly over email."]})}),c.setState({showInfoDialog:!1})},c.setAsDefaultStyle=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return c.setState({isTemplateUpdatedExternally:!0}),e.next=5,c.duplicateTemplateIfNoAccess(c.state.currentTemplate,"default-style-changed");case 5:if(!1!==e.sent){e.next=9;break}return c.setState({isTemplateUpdatedExternally:!1}),e.abrupt("return");case 9:if((r=(0,d.Z)({},c.state.currentTemplate)).metaData.defaultStyleId&&(r.metaData.defaultStyleIdScenes=r.metaData.defaultStyleId),delete r.metaData.defaultStyleId,n.forEach((function(e){switch(e){case qe.intro.name:r.metaData.defaultStyleIdIntro=t;break;case qe.scenes.name:r.metaData.defaultStyleIdScenes=t;break;case qe.outro.name:r.metaData.defaultStyleIdOutro=t}})),s=null,c.state.currentTemplateStyles&&r.metaData.defaultStyleIdScenes==t&&(s=c.state.currentTemplateStyles.filter((function(e){return e.metaData.styleId==t}))),!(s&&s.length>0&&r.metaData.defaultStyleIdScenes==t)){e.next=19;break}return e.next=18,c.generateGridPreviewJson(r,s[0],"sixteen-nine");case 18:r.gridPreviewJson_SixteenNine=e.sent;case 19:return e.next=21,c.saveTemplate(r);case 21:i=e.sent,o=c.sortCurrentTemplateStyles(c.state.currentTemplateStyles,r),c.setState({currentTemplateStyles:o}),c.state.isTemplateUpdatedExternally&&c.setState({isTemplateUpdatedExternally:!1}),I().getInstance().logEvent("template-customised",{status:i&&i.status?i.status:"unknown error","template-name":r.metaData.name,project_id:c.props.project_id,TemplateId:r.metaData.id,"change-made":"default-style-changed","default-Style-id-updated":t,"default-style-id-intro":r.metaData.defaultStyleIdIntro,"default-style-id-scenes":r.metaData.defaultStyleIdScenes,"default-style-id-outro":r.metaData.defaultStyleIdOutro});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.isDefaultStyleId=function(e){var t,n,r,s,a=(0,d.Z)({},c.state.currentTemplate);return(null==a||null===(t=a.metaData)||void 0===t?void 0:t.defaultStyleId)===e||(null==a||null===(n=a.metaData)||void 0===n?void 0:n.defaultStyleIdIntro)===e||(null==a||null===(r=a.metaData)||void 0===r?void 0:r.defaultStyleIdScenes)===e||(null==a||null===(s=a.metaData)||void 0===s?void 0:s.defaultStyleIdOutro)===e},c.removeStyleFromTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.applyStyleToTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.duplicateTemplateIfNoAccess(c.state.currentTemplate,"style-added");case 2:if(!1!==e.sent){e.next=5;break}return e.abrupt("return");case 5:if(r=(0,d.Z)({},c.state.currentTemplate),i=t.metaData.styleId,!c.state.currentTemplate.styleIds.find((function(e){return e.id===i}))){e.next=11;break}return c.setState({showAlertNotification:"The style '".concat(t.metaData.name,"' already exists in the template")}),e.abrupt("return");case 11:return r.styleIds.unshift({id:i,scope:t.metaData.scope}),(o=(0,s.Z)(c.state.currentTemplateStyles)).unshift(t),o=c.sortCurrentTemplateStyles(o,r),e.next=17,c.setState({currentTemplate:r,currentTemplateStyles:o,showTabs:Ke.stylesListTabs,styleTypeTabValue:0});case 17:return e.next=19,c.saveTemplate(r);case 19:l=e.sent,I().getInstance().logEvent("template-customised",{status:l&&l.status?l.status:"unknown error","template-name":r.metaData.name,project_id:c.props.project_id,TemplateId:r.metaData.id,"change-made":"style-added","style-added":t});case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.canEditStyle=function(e){return"user"===e.metaData.scope||(0,M.PW)(c.props.user.username,!0)},c.duplicateStyleIfNoAccess=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.canEditStyle(t)){e.next=5;break}return e.next=3,c.editStyle(t,!0,null,n);case 3:return c.setState({styleDuplicated:!0}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.customizeStyle=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s){var i,o,l=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>4&&void 0!==l[4]?l[4]:"user-click",!s){e.next=8;break}return t.metaData.isDeleted=!0,e.next=5,c.saveStyle(t);case 5:return o=e.sent,I().getInstance().logEvent("style-deleted",{status:o&&o.status?o.status:"unknown error","style-name":t.metaData.name,project_id:c.props.project_id}),e.abrupt("return");case 8:return c.canEditStyle(t)||(n=!0),e.next=11,c.editStyle(t,n,r,i);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),c.editStyle=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s){var i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(i=t.metaData.styleId,(t=_().cloneDeep(t)).metaData.styleId=(0,L.Z)(),t.metaData.name=t.metaData.name,t.metaData.isCustomized=!0,t.metaData.origStyleId=i,"global"===t.metaData.scope&&(0,M.PW)(c.props.user.username,!0)?(t.metaData.scope="global",c.setState({styleTypeTabValue:Ye.globalTemplateStylesTab.tabIndex})):(t.metaData.scope="user",c.setState({styleTypeTabValue:Ye.userTemplateStylesTab.tabIndex})),t.metaData.createdBy=c.props.user.attributes.email,t.metaData.createDate=new Date,delete t.metaData.updatedBy,delete t.metaData.updateDate,delete t.metaData.isDeleted),e.next=3,c.saveStyle(t);case 3:o=e.sent,n&&o&&"success"===o.status&&c.setState({showAlertNotification:"A copy of the style has been added to 'My styles'"}),I().getInstance().logEvent(n?"style-duplicate":"style-customised",{status:o&&o.status?o.status:"unknown error","style-name":t.metaData.name,project_id:c.props.project_id,mode:"user-click"===s?"explicit":"implicit","original-styleId":t.metaData.origStyleId,StyleId:t.metaData.styleId,"change-made":s}),c.props.applyStyleToScene(t,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),c.saveStyleValues=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.Z.getItem("showTemplatesInfoDialog")||setTimeout((function(){var e={headerComponent:(0,$.jsx)($.Fragment,{}),title:"Styles & templates: How it works",message:"When a style has been modified, Pictory will automatically save a copy under 'My styles', so you always can go back and apply same style to any other project.",primaryButtonLabel:"Got it",primaryButtonOnClick:function(){return c.setState({showInfoDialog:!1})},footerComponent:(0,$.jsxs)($.Fragment,{children:["Go to",(0,$.jsx)(v.Z,{variant:"text",sx:{ml:0},onClick:function(){return c.setState({showInfoDialog:!1,showTabs:Ke.stylesListTabs,styleTypeTabValue:1})},children:"My styles"})]})};c.setState({showInfoDialog:e}),O.Z.setItem("showTemplatesInfoDialog",!0)}),100),e.next=3,c.duplicateStyleIfNoAccess(t,r);case 3:if(e.sent&&(t=c.state.currentStyle),c.props.applyStyleToScene(t,void 0,n),n){e.next=11;break}return e.next=9,c.saveStyle(t);case 9:s=e.sent,I().getInstance().logEvent("style-customised",{status:s&&s.status?s.status:"unknown error","style-name":t.metaData.name,project_id:c.props.project_id,StyleId:t.metaData.styleId,"change-made":r,"style-updated":t});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.saveVisualValues=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i,o,l,u,p,h,m,g=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=g.length>3&&void 0!==g[3]?g[3]:qe.scenes.name,i=g.length>4?g[4]:void 0,o=g.length>5?g[5]:void 0,n){e.next=9;break}return e.next=6,c.duplicateTemplateIfNoAccess(c.state.currentTemplate,s+"-"+i+"-updated");case 6:if(!1!==(l=e.sent)){e.next=9;break}return e.abrupt("return");case 9:if(!((u=s===qe.scenes.name&&r)||s===qe.intro.name&&!c.props.isIntroHidden||s===qe.outro.name&&!c.props.isOutroHidden)){e.next=14;break}if(o){e.next=14;break}return e.next=14,c.props.applyVisualToScene(t,s,n,u,!0,i);case 14:if(!n){e.next=16;break}return e.abrupt("return");case 16:return p=(0,d.Z)({},c.state.currentTemplate),"logo"===i?p.sceneTypes[s].logo=t:"visual"===i?p.sceneTypes[s].visual=t:p.sceneTypes[s].text=t,e.next=20,c.setState({currentTemplate:p,isTemplateUpdatedExternally:o||l});case 20:return e.next=22,c.generateGridPreviewJson(p,null,"sixteen-nine");case 22:return p.gridPreviewJson_SixteenNine=e.sent,c.setState({currentTemplate:(0,d.Z)({},p)}),e.next=26,c.saveTemplate(p);case 26:(h=e.sent)&&"success"===h.status&&h.template&&h.template.metaData&&(m=(0,$.jsx)($.Fragment,{}),l&&(m=(0,$.jsx)($.Fragment,{children:"The template has been duplicated and applied to the video. "})),c.setState({showAlertNotification:(0,$.jsxs)($.Fragment,{children:[m,(0,$.jsx)("br",{}),"".concat(s[0].toUpperCase()+s.slice(1)," ").concat(i," has been updated in the template")]})})),c.state.isTemplateUpdatedExternally&&c.setState({isTemplateUpdatedExternally:!1}),I().getInstance().logEvent("template-customised",{status:h&&h.status?h.status:"unknown error","scene-type":s,"updated-object-type":i,"updated-object-value":t,"change-made":"branding-updated","template-name":p.metaData.name,project_id:c.props.project_id,TemplateId:p.metaData.id});case 30:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.onEditSaveTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.props.currentTemplateMetaData.name!==t){e.next=3;break}return e.abrupt("return");case 3:return n=(0,d.Z)((0,d.Z)({},c.state.currentTemplate),{},{metaData:(0,d.Z)((0,d.Z)({},c.state.currentTemplate.metaData),{},{name:t})}),e.next=6,c.customizeTemplate(n,!1,null,"name-changed");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.saveTemplate=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.props.setSaveButtonText("Saving..."),t.metaData.usedDate=new Date,t.metaData.userId=c.props.user.attributes.email,e.next=5,c.props.saveTemplate(t);case 5:if(!(r=e.sent)||"success"!==r.status){e.next=20;break}if(c.props.setSaveButtonText("Saved"),setTimeout((function(){return c.props.setSaveButtonText("Save")}),2e3),n){e.next=18;break}if(!r.template||!r.template.metaData){e.next=18;break}return t=r.template,s=t.metaData,i=t,e.next=16,c.setState({currentTemplateMetaData:s,currentTemplate:i,showApplyToAllButton:!1});case 16:e.next=18;break;case 18:e.next=22;break;case 20:setTimeout((function(){return c.props.setSaveButtonText("Save")}),1e3),(0,G.x2)("Error saving template");case 22:return e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.saveOrderNumber=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.props.saveTemplate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.generateGridPreviewJson=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i,o,l,u,p,h,m,g,f,v,x,S,y,b,j,w,Z,k,C,I,T,E,A,R,P,N,O,D;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=57;break}if(s=_().cloneDeep(n),i={},t.sceneTypes.scenes.logo&&(i={src:t.sceneTypes.scenes.logo.visualUrl,location:t.sceneTypes.scenes.logo.position.preset,opacity:t.sceneTypes.scenes.logo.opacity,width:t.sceneTypes.scenes.logo.position.width}),o={},l="This is Sample Text for Style -",u={},p=[],h=[],m=[],g=V.Z.defaultHeight,f=V.Z.defaultWidth,v=(0,M.U$)(t.metaData.aspectRatio),r&&((x=W.R3.find((function(e){return e.class==r})))&&(f=V.Z.calculateDefaultWidth(x.fractionValue,g)),v=(0,M.U$)(r)),!(s&&s.styleData&&s.styleData.format&&s.styleData.position)){e.next=52;break}return l+=s.metaData.name,s.styleData.format.displayText&&s.styleData.format.displayText.html&&(l=s.styleData.format.displayText.html),b=F.Z.getStyles(),j=(0,d.Z)((0,d.Z)((0,d.Z)({},s.styleData.format),s.styleData.position),{},{animation:s.styleData.animation}),w=(0,d.Z)((0,d.Z)({},b),j),Z=w.displayText&&w.displayText.keywords?w.displayText.keywords:[],k=w.fontSize,t.metaData.source&&"transcribe"===t.metaData.source?k<30?k*=2:k>30&&k<40?k*=1.5:k>40&&k<50?k*=1.3:k>50&&(k*=1.1):k<30?k*=1.5:k>30&&k<40?k*=1.3:k>40&&k<50?k*=1.2:k>50&&(k*=1.1),v<1&&(k*=v),w.fontSize=k,s.styleData.format.fontSize=k,w.parentElementWidth=f,C=null==s||null===(S=s.styleData)||void 0===S||null===(y=S.position)||void 0===y?void 0:y.fullWidth,e.next=30,c.props.createTextAnimationContainer(l,Z,w.fontSize,g,f,!1,w,"","text",!1,C);case 30:for(I=e.sent,(T=I.querySelector(".sentences"))&&(w.preset&&(u.preset=w.preset),E=V.Z.getOffset(T,I),"right"===w.textAlign?u.end_x=E.end_x:"center"===w.textAlign?u.center_x=(E.x+E.end_x)/2:"left"===w.textAlign&&(u.start_x=E.x),!w.topCoordinate||w.preset||w.fullWidth?w.preset&&w.preset.startsWith("top")&&!C?u.start_y=V.Z.defaultTopPadding*g:w.preset&&w.preset.startsWith("center")&&!C?u.start_y=.5*g-E.height/2:w.preset&&w.preset.startsWith("bottom")&&!C?u.start_y=g-V.Z.defaultTopPadding*g-E.height:C&&("full-width-top"==w.preset?u.start_y=20:"full-width-bottom"==w.preset?u.start_y=g-E.height:"full-width-center"==w.preset?u.start_y=.5*g-E.height/2:w.topCoordinate?u.start_y=parseFloat(w.topCoordinate)/100*g+20:u.start_y=g-E.height):u.start_y=parseFloat(w.topCoordinate)/100*g),A=[],T&&(A=Array.from(T.querySelectorAll("p > span")).map((function(e){return e.innerHTML}))),s&&s.styleData&&s.styleData.animation&&(h=s.styleData.animation.text_animation.filter((function(e){return e.source="templates"})),m=s.styleData.animation.text_bg_animation.filter((function(e){return e.source="templates"}))),R=0;R<A.length;R++)P=A[R],P=V.Z.sanatizeString(P,!1,!1),p.push({text_animation:h,text_bg_animation:m,text:P});I.remove(),T.remove(),o.name=c.getFontNameForVideoGen(s.styleData.format.fontName),o.size=s.styleData.format.fontSize,o.line_spacing=1,o.color=s.styleData.format.fontColor,o.backcolor=s.styleData.format.textBackgroundColor,o.keycolor=s.styleData.format.keywordColor,N=V.Z.convertPttoPx(o.size),o.line_height=1.2*N,o.case=s.styleData.format.case,o.decoration=s.styleData.format.decoration,o.textShadowColor=s.styleData.format.textShadowColor,o.textShadowWidthFr=s.styleData.format.textShadowWidthFr,o.fullWidth=C;case 52:return O={output:{width:f,height:g},scenes:[{background:{src:[{url:""}],logo:i},time:3,sub_scenes:[{time:3,location:u,text_lines:p,showSceneNumber:"Scene 1",font:o}]}]},e.abrupt("return",O);case 57:if(!t.gridPreviewJson_SixteenNine){e.next=63;break}if(!t.sceneTypes.scenes.logo){e.next=63;break}return D={src:t.sceneTypes.scenes.logo.visualUrl,location:t.sceneTypes.scenes.logo.position.preset,opacity:t.sceneTypes.scenes.logo.opacity,width:t.sceneTypes.scenes.logo.position.width},t.gridPreviewJson_SixteenNine.scenes[0].background.logo=D,e.abrupt("return",t.gridPreviewJson_SixteenNine);case 63:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c.getFontNameForVideoGen=function(e){return e=e.replace(" ","")+".ttf","transcribe"===c.state.source&&c.state.transcriptionLanguage&&(["ja-JP","ko-KR"].includes(c.state.transcriptionLanguage)?e="arial-unicode-ms.ttf":"hi-IN"===c.state.transcriptionLanguage&&(e="Mangal-Regular.ttf")),e},c.saveStyle=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.props.setSaveButtonText("Saving..."),t.metaData.usedDate=new Date,t.metaData.userId=c.props.user.attributes.email,e.next=5,c.props.saveStyle(t);case 5:if(n=e.sent,!c.state.currentTemplate||c.state.currentTemplate.metaData.defaultStyleId!=t.metaData.styleId&&c.state.currentTemplate.metaData.defaultStyleIdScenes!=t.metaData.styleId){e.next=15;break}return r=(0,d.Z)({},c.state.currentTemplate),e.next=10,c.generateGridPreviewJson(r,t,"sixteen-nine");case 10:return r.gridPreviewJson_SixteenNine=e.sent,e.next=13,c.saveTemplate(r);case 13:s=e.sent,I().getInstance().logEvent("template-customised",{status:s&&s.status?s.status:"unknown error","template-name":r.metaData.name,project_id:c.props.project_id,TemplateId:r.metaData.id,"change-made":"default-style-edited","style-edited":t});case 15:if("success"!==n.status){e.next=26;break}if(c.props.setSaveButtonText("Saved"),setTimeout((function(){return c.props.setSaveButtonText("Save")}),2e3),"success"!==n.status){e.next=24;break}return t=n.style,e.next=22,c.setState({currentStyle:(0,d.Z)({},t),showApplyToAllButton:!1});case 22:return e.next=24,c.updateInStylesList(t);case 24:e.next=28;break;case 26:setTimeout((function(){return c.props.setSaveButtonText("Save")}),1e3),(0,G.x2)("Error saving style");case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.sortCurrentTemplateStyles=function(e,t){if(!t||!e||e.length<2)return e;var n=t.metaData.defaultStyleIdIntro,r=t.metaData.defaultStyleIdScenes||t.metaData.defaultStyleId,a=t.metaData.defaultStyleIdOutro,i=0,o=function(t){var n=t&&e.findIndex((function(e){return e.metaData.styleId===t}));if(n>-1&&n!==i){var r=e[n];e.splice(n,1),e.splice(i,0,r)}i++};return n&&o(n),r&&r!==n&&o(r),a&&a!==r&&a!==n&&o(a),(0,s.Z)(e)},c.updateInStylesList=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=(0,d.Z)({},c.state.stylesList),r="global"===t.metaData.scope?"globalStyles":"userStyles",(i=n[r].findIndex((function(e){return e.metaData.styleId===t.metaData.styleId})))>-1?t.metaData.isDeleted?n[r].splice(i,1):n[r][i]=t:t.metaData.isDeleted||n[r].unshift(t),o=(0,s.Z)(c.state.currentTemplateStyles),(i=o.findIndex((function(e){return e.metaData.styleId===t.metaData.styleId})))>-1&&(t.metaData.isDeleted?o.splice(i,1):(o[i]=t,o=c.sortCurrentTemplateStyles(o,c.state.currentTemplate))),e.next=11,c.setState({stylesList:n,currentTemplateStyles:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.updateForEditVideo=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=(0,d.Z)({},c.state.currentTemplate)).metaData.source=n?"transcribe":void 0,e.next=4,c.customizeTemplate(r,!1,!1,"mark-for-video-editing");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.applyStyleToScene=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s){var i,o,l,u,d=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=d.length,l=new Array(o>4?o-4:0),u=4;u<o;u++)l[u-4]=d[u];return(i=c.props).applyStyleToScene.apply(i,[t,n,r,s].concat(l)),s&&c.setState({showAlertNotification:"The style '".concat(t.metaData.name,"' has been applied to all scenes")}),e.next=5,c.setState({currentStyle:t,showApplyToAllButton:!0});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),c.switchIntroOutroStatus=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1,t!==qe.intro.name){e.next=8;break}return e.next=4,c.props.updateSettings(1,1,{hideScene:!c.props.isIntroHidden},!0);case 4:c.props.isIntroHidden||(n=0),c.props.openScene(n),e.next=13;break;case 8:if(t!==qe.outro.name){e.next=13;break}return e.next=11,c.props.updateSettings(c.props.outroSceneId,1,{hideScene:!c.props.isOutroHidden},!0);case 11:c.props.isOutroHidden||(n=2),c.props.openScene(n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.TemplateHeader=function(){var e=(0,M.PW)(c.props.user.username,!0),t=!e&&"global"===c.state.currentTemplateMetaData.scope;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",minHeight:"50px",mt:2,mb:2},children:[(0,$.jsx)(g.Z,{sx:{display:"flex",justifyContent:"space-between",width:"70%"},children:(0,$.jsx)(M.M2,{condition:t,wrapper:function(e){return(0,$.jsx)(x.Z,{title:"Library template name can't be changed",placement:"top",arrow:!0,children:e})},children:(0,$.jsx)(g.Z,{children:(0,$.jsx)(E.default,{id:"edit-template-name",label:"Template",inputRef:function(e){return c.templateNameRef=e},required:!0,errorMsgWhenBlank:"Template name is required",externalChangeText:"This template name already exists",value:c.state.currentTemplateMetaData.name,validationsList:st,onEditSaveText:c.onEditSaveTemplate,disabled:t})})})}),(0,$.jsxs)(g.Z,{sx:{display:"flex",pl:2,pr:2},children:[(0,$.jsx)(x.Z,{title:"Change template",placement:"left",arrow:!0,children:(0,$.jsx)(S.Z,{size:"small",sx:{ml:1},onClick:function(){c.setState({openTemplatesPopup:!0}),I().getInstance().logEvent("change-template-clicked",{project_id:c.props.project_id})},children:(0,$.jsx)("img",{src:ze})})}),(0,$.jsx)(x.Z,{title:"Duplicate template",placement:"right",arrow:!0,children:(0,$.jsx)(S.Z,{size:"small",sx:{ml:1},onClick:function(){I().getInstance().logEvent("duplicate-template-clicked",{project_id:c.props.project_id}),c.customizeTemplate(c.state.currentTemplate,!0,null)},children:(0,$.jsx)(Je.Z,{})})})]})]}),e&&(0,$.jsx)(g.Z,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",height:"50px"},children:(0,$.jsxs)(g.Z,{sx:{textAlign:"right",display:"flex",alignItems:"center"},children:[(0,$.jsx)(y.Z,{variant:"captionC",sx:{color:"grey.500",mb:"2px",ml:2},component:"div",children:"Available on edit video scenario"}),(0,$.jsx)(b.Z,{checked:c.state.currentTemplateMetaData&&"transcribe"===c.state.currentTemplateMetaData.source,onChange:c.updateForEditVideo})]})})]})},c.showWhenNoTemplateSelected=function(){if(!(c.state.currentTemplateMetaData&&c.state.currentTemplate||c.state.isLoading))return(0,$.jsx)(g.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",position:"absolute"},children:(0,$.jsxs)(g.Z,{sx:{border:"solid 1px",borderColor:"grey.400",backgroundColor:"common.white",borderRadius:"10px",p:3,marginX:1,zIndex:1},children:[!c.state.currentTemplateMetaData&&c.props.layout!==Xe.stylesBottomBar&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(y.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:["Brand settings ",c.props.brandName&&(0,$.jsxs)($.Fragment,{children:["(",c.props.brandName,")"]})," have been applied to this project. You can continue to edit and generate the video"]}),(0,$.jsx)("br",{}),(0,$.jsx)(y.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:"OR"}),(0,$.jsx)("br",{}),(0,$.jsxs)(y.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:["Click"," ",(0,$.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){return c.setState({openTemplatesPopup:!0})},children:"here"})," ","to check out and apply new templates."]})]}),c.state.currentTemplateMetaData&&!c.state.currentTemplate&&!c.state.isLoading&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(y.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:"The template applied to this project doesn't exist anymore."}),(0,$.jsx)("br",{}),(0,$.jsx)(y.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:"Don't worry, your project won't have any impact."}),(0,$.jsx)("br",{}),(0,$.jsxs)(y.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:["Click"," ",(0,$.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){return c.setState({openTemplatesPopup:!0})},children:"here"})," ","to check out and apply new templates."]})]})]})})},c.TemplatesTabs=function(){var e=(0,M.PW)(c.props.user.username,!0);return(0,$.jsxs)($.Fragment,{children:[c.showWhenNoTemplateSelected(),c.state.currentTemplateMetaData&&c.state.currentTemplateMetaData.id&&(0,$.jsxs)(T.default,{children:[(0,$.jsxs)(g.Z,{children:[c.TemplateHeader(),(0,$.jsxs)(j.Z,{id:"templates-tabs",variant:"fullWidth",value:c.state.sceneTypeTabValue,onChange:function(e,t){c.setState({sceneTypeTabValue:t}),c.props.openScene(t)},children:[(0,$.jsx)(w.Z,{id:qe.intro.name,label:qe.intro.tabLabel}),(0,$.jsx)(w.Z,{id:qe.scenes.name,label:qe.scenes.tabLabel}),(0,$.jsx)(w.Z,{id:qe.outro.name,label:qe.outro.tabLabel})]})]}),c.state.currentTemplate&&(0,$.jsxs)(g.Z,{sx:{mr:1},children:[(0,$.jsx)("div",{hidden:c.state.sceneTypeTabValue,id:qe.intro.name+"-in-templates-div",className:"position-relative",children:(0,$.jsx)(ie,{sceneType:qe.intro.name,visual:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.intro.visual,logoVisual:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.intro.logo,text:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.intro.text,openStylesListTab:function(){c.props.openTab(N.PA),c.setState({styleTypeTabValue:0})},allowEditGlobal:e,pickVisualFromScene:c.props.pickVisualFromScene,username:c.props.user.username,project_id:c.props.project_id,saveVisualValues:c.saveVisualValues,isTemplateUpdatedExternally:c.state.isTemplateUpdatedExternally,isEnabled:!c.props.isIntroHidden,switchStatus:function(){return c.switchIntroOutroStatus(qe.intro.name)},selectTemplateVisual:c.props.selectTemplateVisual})}),(0,$.jsx)("div",{hidden:1!==c.state.sceneTypeTabValue,id:qe.scenes.name+"-in-templates-div",children:(0,$.jsx)(ce,{sceneType:qe.scenes.name,visual:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.scenes.visual,logoVisual:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.scenes.logo,allowEditGlobal:e,pickVisualFromScene:c.props.pickVisualFromScene,username:c.props.user.username,project_id:c.props.project_id,saveVisualValues:c.saveVisualValues,isTemplateUpdatedExternally:c.state.isTemplateUpdatedExternally})}),(0,$.jsx)("div",{hidden:2!==c.state.sceneTypeTabValue,id:qe.outro.name+"-in-templates-div",className:"position-relative",children:(0,$.jsx)(ie,{sceneType:qe.outro.name,visual:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.outro.visual,logoVisual:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.outro.logo,text:c.state.currentTemplate&&c.state.currentTemplate.sceneTypes.outro.text,openStylesListTab:function(){c.props.openTab(N.PA),c.setState({styleTypeTabValue:0})},allowEditGlobal:e,pickVisualFromScene:c.props.pickVisualFromScene,username:c.props.user.username,project_id:c.props.project_id,saveVisualValues:c.saveVisualValues,isTemplateUpdatedExternally:c.state.isTemplateUpdatedExternally,isEnabled:!c.props.isOutroHidden,switchStatus:function(){return c.switchIntroOutroStatus(qe.outro.name)},selectTemplateVisual:c.props.selectTemplateVisual})})]}),!c.state.currentTemplate&&(0,$.jsxs)(g.Z,{sx:{width:"100%"},children:[(0,$.jsx)(f.Z,{variant:"rectangular",width:"90%",height:"180px",sx:{borderRadius:"10px",m:3}}),(0,$.jsx)(f.Z,{variant:"rectangular",width:"90%",height:"180px",sx:{borderRadius:"10px",m:3}})]})]})]})},c.StylesListTabs=function(){var e,t,n,r,s=(0,M.PW)(c.props.user.username,!0),a={};return c.state.currentTemplate&&(a=c.state.currentTemplate.metaData.defaultStyleId?{defaultStyleIdScenes:c.state.currentTemplate.metaData.defaultStyleId}:{defaultStyleIdIntro:c.state.currentTemplate.metaData.defaultStyleIdIntro,defaultStyleIdScenes:c.state.currentTemplate.metaData.defaultStyleIdScenes,defaultStyleIdOutro:c.state.currentTemplate.metaData.defaultStyleIdOutro}),(0,$.jsx)($.Fragment,{children:(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(T.default,{horizontalScroll:c.props.layout==Xe.stylesBottomBar,children:[(0,$.jsxs)(g.Z,{children:[c.props.layout!==Xe.stylesBottomBar,(0,$.jsxs)(j.Z,{id:"styles-list-tabs",variant:"fullWidth",value:c.state.styleTypeTabValue,onChange:function(e,t){c.setState({styleTypeTabValue:t})},children:[(0,$.jsx)(w.Z,{id:Ye.globalTemplateStylesTab.name,label:Ye.globalTemplateStylesTab.tabLabel}),(0,$.jsx)(w.Z,{id:Ye.userTemplateStylesTab.name,label:Ye.userTemplateStylesTab.tabLabel})]})]}),(0,$.jsx)(g.Z,{sx:{pt:0},children:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("div",{hidden:0!==c.state.styleTypeTabValue,id:Ye.globalTemplateStylesTab.name+"-div",children:(c.props.layout===Xe.stylesBottomBar||c.props.layout===Xe.leftSideBar)&&c.state.stylesList&&c.state.stylesList.globalStyles&&c.state.stylesList.globalStyles.length>0?(0,$.jsx)(ye,{activeTextStyleIdObj:c.props.activeTextStyleIdObj,tabName:Ye.globalTemplateStylesTab.name,appliedStyleIds:null===(e=c.state)||void 0===e||null===(t=e.currentTemplate)||void 0===t?void 0:t.styleIds,stylesList:c.state.stylesList&&c.state.stylesList.globalStyles?c.state.stylesList.globalStyles:[],defaultStyleIds:a,setAsDefaultStyle:c.setAsDefaultStyle,isDefaultStyleId:c.isDefaultStyleId,allowEditGlobal:s,project_id:c.props.project_id,customizeStyle:c.customizeStyle,applyStyleToTemplate:c.applyStyleToTemplate,removeStyleFromTemplate:c.removeStyleFromTemplate,applyStyleToScene:c.applyStyleToScene,openStylesEditorTab:function(e){return c.setState({showTabs:Ke.stylesEditorTabs,currentStyle:e})},disableApplyToAll:c.props.disableApplyToAll,hideAllActions:c.props.layout===Xe.stylesBottomBar}):(0,$.jsx)(rt,{layout:c.props.layout})}),(0,$.jsx)("div",{hidden:1!==c.state.styleTypeTabValue,id:Ye.userTemplateStylesTab.name+"-div",children:(c.props.layout===Xe.stylesBottomBar||c.props.layout===Xe.leftSideBar)&&c.state.stylesList&&c.state.stylesList.globalStyles&&c.state.stylesList.globalStyles.length>0?(0,$.jsx)(ye,{activeTextStyleIdObj:c.props.activeTextStyleIdObj,tabName:Ye.userTemplateStylesTab.name,appliedStyleIds:null===(n=c.state)||void 0===n||null===(r=n.currentTemplate)||void 0===r?void 0:r.styleIds,stylesList:c.state.stylesList&&c.state.stylesList.userStyles?c.state.stylesList.userStyles:[],defaultStyleIds:a,setAsDefaultStyle:c.setAsDefaultStyle,isDefaultStyleId:c.isDefaultStyleId,allowEditGlobal:s,project_id:c.props.project_id,customizeStyle:c.customizeStyle,applyStyleToTemplate:c.applyStyleToTemplate,removeStyleFromTemplate:c.removeStyleFromTemplate,applyStyleToScene:c.applyStyleToScene,openStylesEditorTab:function(e){return c.setState({showTabs:Ke.stylesEditorTabs,currentStyle:e})},disableApplyToAll:c.props.disableApplyToAll,hideAllActions:c.props.layout===Xe.stylesBottomBar}):(0,$.jsx)(rt,{layout:c.props.layout})})]})})]})})})},c.templatesModal=function(){return(0,$.jsx)("div",{id:"templates-modal",children:(0,$.jsxs)("div",{className:"templates-screen",children:[(0,$.jsx)(S.Z,{sx:{position:"absolute",zIndex:1,top:"30px",right:"20px"},onClick:function(){return c.setState({openTemplatesPopup:!1})},children:(0,$.jsx)(m.Z,{})}),(0,$.jsx)("div",{className:"modal-body",style:{height:"100%",overflowY:"auto"},children:(0,$.jsx)(We,{layout:Xe.fullScreenWithoutHeader,currentTemplateMetaData:c.state.currentTemplateMetaData,setTemplate:c.setTemplate,customizeTemplate:c.customizeTemplate,user:c.props.user,hideChooseTemplateBar:c.props.hideChooseTemplateBar,hideDuplicateTemplateButton:c.props.hideDuplicateTemplateButton,displayTemplateGrid:c.state.openTemplatesPopup,saveOrderNumber:c.saveOrderNumber,source:c.props.source,project_id:c.props.project_id,showAlertNotification:function(e){return c.setState({showAlertNotification:e})},teamUsers:c.props.teamUsers})})]})})},c.showAlertNotification=function(){return(0,$.jsx)(Z.Z,{open:!!c.state.showAlertNotification,autoHideDuration:5e3,onClose:function(){return c.setState({showAlertNotification:void 0})},anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{backgroundColor:"rgba(37, 38, 48, 0.75)",borderRadius:"5px"}},children:(0,$.jsx)(k.Z,{severity:"success",sx:{alignItems:"center"},action:(0,$.jsx)(S.Z,{size:"small",color:"inherit",onClick:function(){return c.setState({showAlertNotification:void 0})},children:(0,$.jsx)(m.Z,{fontSize:"small"})}),children:c.state.showAlertNotification})})},c.state={currentTemplateMetaData:c.props.currentTemplateMetaData,stylesList:{globalStyles:[],userStyles:[]},sceneTypeTabValue:0,styleTypeTabValue:0,showTabs:c.props.showTabs};var l,u=(0,r.Z)(document.fonts);try{for(u.s();!(l=u.n()).done;)l.value.load()}catch(e){u.e(e)}finally{u.f()}return c}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.layout===Xe.fullScreenWithHeader||(this.props.layout!==Xe.leftSideBar&&this.props.layout!==Xe.stylesBottomBar||(this.setState({isLoading:!0}),this.props.getStyles()),this.props.templatesAction!==Qe.applyTemplateId||this.props.isFromStep2?this.props.isFromStep2||this.props.isTranscribe?this.props.currentTemplateMetaData&&(this.props.currentTemplateMetaData.scope,this.props.currentTemplateMetaData.id):this.fetchTemplateAndStyles():(this.props.actionPerformed(),this.props.templatesActionData.template),window.userGuiding&&window.userGuiding.launchChecklist&&window.userGuiding.launchChecklist(14433),window.Appcues&&window.Appcues.on("checklist_item_started",(function(t){"Storyboard Checklist"===t.checklistName&&("Feature Tour -  Styles"===t.itemLabel?e.props.openTab(N.PA):"Feature Tour - Branding"===t.itemLabel&&e.props.openTab(N.gA))})))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.templatesAction&&e.templatesAction!==this.props.templatesAction)switch(this.props.templatesAction){case Qe.setVisual:this.props.actionPerformed(),this.saveVisualValues(this.props.templatesActionData.updatedVisual,!1,!1,this.props.templatesActionData.sceneType,"visual",this.props.templatesActionData.skipApplyToScene);break;case Qe.applyTemplateId:this.props.actionPerformed();break;case Qe.addStyleToTemplate:this.props.actionPerformed(),this.applyStyleToTemplate(this.props.templatesActionData.style)}this.props.templatesAndStylesObj&&this.props.templatesAndStylesObj.stylesResult&&(!e.templatesAndStylesObj||!e.templatesAndStylesObj.stylesResult||e.templatesAndStylesObj.stylesResult!==this.props.templatesAndStylesObj.stylesResult)&&this.setState({stylesList:this.props.templatesAndStylesObj.stylesResult,isLoading:!1}),this.props.currentTemplateMetaData&&this.props.currentTemplateMetaData.name&&e.currentTemplateMetaData&&e.currentTemplateMetaData.name&&(this.props.currentTemplateMetaData.name,e.currentTemplateMetaData.name),e.showTabs!==this.props.showTabs&&(this.setState({showTabs:this.props.showTabs||Ke.stylesListTabs}),this.props.showTabs!==Ke.stylesListTabs&&this.setState({showApplyToAllButton:!1})),e.activeShowSceneNumber!==this.props.activeShowSceneNumber&&this.state.showTabs===Ke.templatesTabs&&("Custom Intro Scene"===this.props.activeShowSceneNumber?this.setState({sceneTypeTabValue:0}):"Outro Scene"===this.props.activeShowSceneNumber?this.setState({sceneTypeTabValue:2}):this.setState({sceneTypeTabValue:1})),e.showTabs!==this.props.showTabs&&this.state.currentTemplate&&(this.props.showTabs!==Ke.stylesListTabs||O.Z.getItem("showUserGuidingForStyles")?this.props.showTabs!==Ke.templatesTabs||O.Z.getItem("showUserGuidingForBranding")||(window.userGuiding&&window.userGuiding.previewGuide&&window.userGuiding.previewGuide(57291,{checkHistory:!0}),O.Z.setItem("showUserGuidingForBranding",!0)):(window.userGuiding&&window.userGuiding.previewGuide&&window.userGuiding.previewGuide(56266,{checkHistory:!0}),O.Z.setItem("showUserGuidingForStyles",!0))),this.templateNameRef&&this.state.templateDuplicated&&(this.templateNameRef.focus(),this.setState({templateDuplicated:!1}))}},{key:"render",value:function(){var e=this,t=(0,M.PW)(this.props.user.username,!0);return(0,$.jsxs)(g.Z,{id:"templates-main",sx:{height:this.props.layout!=Xe.menuPopup?"100%":""},className:"templates-main "+(this.state.isTemplateUpdatedExternally?"disabled":""),children:[this.state.openTemplatesPopup&&this.templatesModal(),this.props.layout===Xe.stylesBottomBar&&this.StylesListTabs(),!this.state.openTemplatesPopup&&this.props.layout===Xe.leftSideBar&&(0,$.jsxs)(z.x,{children:[(!this.state.showTabs||this.state.showTabs===Ke.templatesTabs)&&this.TemplatesTabs(),this.state.showTabs===Ke.stylesListTabs&&this.StylesListTabs(),this.state.showTabs===Ke.stylesEditorTabs&&this.state.currentStyle&&(0,$.jsx)(le.Z,{isSuperUser:t,hasTemplateAccess:t||"global"!==this.state.currentTemplateMetaData.scope,isStyleInTemplate:this.state.currentTemplateStyles.findIndex((function(t){return t.metaData.styleId===e.state.currentStyle.metaData.styleId}))>-1,showStylesListTabs:function(){return e.setState({showTabs:Ke.stylesListTabs})},styleNameRef:this.styleNameRef,currentStyle:this.state.currentStyle,validationsList:st,customizeStyle:this.customizeStyle,applyStyleToTemplate:this.applyStyleToTemplate,applyCurrentStyleToAllScenes:this.applyCurrentStyleToAllScenes,saveStyleValues:this.saveStyleValues,playScenePreviewNew:this.props.playScenePreviewNew,transitionId:this.props.transitionId,changeTransitions:this.props.changeTransitions,styleDuplicated:this.state.styleDuplicated,setStyleDuplicatedValue:function(t){return e.setState({styleDuplicated:t})},canEditStyle:this.canEditStyle})]}),this.showAlertNotification(),this.state.showInfoDialog&&(0,$.jsx)(He.default,{icon:this.state.showInfoDialog.icon,iconBgPaletteColor:this.state.showInfoDialog.iconBgPaletteColor,open:!!this.state.showInfoDialog,title:this.state.showInfoDialog.title,message:this.state.showInfoDialog.message,primaryButtonLabel:this.state.showInfoDialog.primaryButtonLabel,primaryButtonOnClick:this.state.showInfoDialog.primaryButtonOnClick,secondaryButtonLabel:this.state.showInfoDialog.secondaryButtonLabel,secondaryButtonOnClick:this.state.showInfoDialog.secondaryButtonOnClick,showCloseIcon:!0,onClose:function(){return e.setState({showInfoDialog:!1})}})]})}}]),n}(R.Component),it=(0,P.$j)((function(e){return{templatesAndStylesObj:e.templateStyles,savedTemplate:e.templateStyles.savedTemplate,savedStyle:e.templateStyles.savedStyle}}),{saveTemplate:$e,saveStyle:et,getStyles:tt,getTemplateStyles:nt,subscriptionHelp:B.Z.subscriptionHelpRequest})(at)},61711:function(e,t,n){"use strict";n.d(t,{D:function(){return a},F:function(){return s}});var r=n(1413),s=function(e,t,n){e.styleData=(0,r.Z)({},e.styleData)||{},Object.keys(n).every((function(r){return t?e.styleData[t][r]===n[r]:e.styleData[r]===n[r]}))||(t?e.styleData[t]=(0,r.Z)((0,r.Z)({},e.styleData[t]),n):e.styleData=(0,r.Z)((0,r.Z)({},e.styleData),n))},a=function(e,t,n){return Object.keys(n).every((function(r){return t?e[t][r]===n[r]:e[r]===n[r]}))||(t?e[t]=(0,r.Z)((0,r.Z)({},e[t]),n):e=(0,r.Z)((0,r.Z)({},e),n)),e}},78896:function(e,t,n){"use strict";var r=n(42333),s={};r.keys().forEach((function(e){var t=r(e);Object.keys(t).forEach((function(e){s[e]=t[e]}))})),t.Z=s},78626:function(e,t,n){"use strict";n.r(t),n.d(t,{HIDE_ALERT_NOTIFICATION_REQUEST:function(){return s},SHOW_ALERT_NOTIFICATION_REQUEST:function(){return r},hideAlertNotificationRequest:function(){return i},showAlertNotificationRequest:function(){return a}});var r="SHOW_ALERT_NOTIFICATION_REQUEST",s="HIDE_ALERT_NOTIFICATION_REQUEST",a=function(e){var t=e.showAlert,n=e.alertTitle,s=e.alertMessage,a=e.alertSeverity,i=e.alertAnchor;return{type:r,params:{showAlert:t,alertTitle:n,alertMessage:s,alertSeverity:a,alertAnchor:void 0===i?{vertical:"top",horizontal:"right"}:i}}},i=function(){return{type:s}}},77182:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(78626),a={notificationProps:{showAlert:!1,alertTitle:"",alertMessage:"",alertSeverity:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SHOW_ALERT_NOTIFICATION_REQUEST:return(0,r.Z)((0,r.Z)({},e),{},{notificationProps:(0,r.Z)({},t.params)});case s.HIDE_ALERT_NOTIFICATION_REQUEST:return(0,r.Z)((0,r.Z)({},e),{},{notificationProps:{showAlert:!1,alertTitle:"",alertMessage:"",alertSeverity:""}});default:return e}}},25543:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_INITIAL_APP_NOTIFICATION_REQUEST:function(){return p},GET_REMOTE_APP_VERSION_INITIATE:function(){return a},GET_REMOTE_APP_VERSION_RESPONSE:function(){return i},SET_APP_PUSH_NOTIFICATION_MSG:function(){return l},SET_HEADER_HEIGHT:function(){return d},SET_INITIAL_APP_NOTIFICATION_RESPONSE:function(){return h},SET_LOCAL_APP_VERSION:function(){return o},SET_REMOTE_APP_VERSION:function(){return c},SET_SESSION_EXPIRED:function(){return u},getInitialAppNotificationRequest:function(){return y},getInitialAppNotificationResponse:function(){return j},getRemoteAppVersion:function(){return m},getRemoteAppVersionDispatcher:function(){return b},setAppPushNotificationMsg:function(){return f},setHeaderHeight:function(){return S},setLocalAppVersion:function(){return g},setRemoteAppVersion:function(){return v},setSessionExpired:function(){return x}});var r=n(4942),s=n(61253),a="GET_REMOTE_APP_VERSION_INITIATE",i="GET_REMOTE_APP_VERSION_RESPONSE",o="SET_LOCAL_APP_VERSION",c="SET_REMOTE_APP_VERSION",l="SET_APP_PUSH_NOTIFICATION_MSG",u="SET_SESSION_EXPIRED",d="SET_HEADER_HEIGHT",p="GET_INITIAL_APP_NOTIFICATION_REQUEST",h="SET_INITIAL_APP_NOTIFICATION_RESPONSE",m=function(){return(0,r.Z)({type:a,params:null},s.jw,i)},g=function(e){return{type:o,payload:e}},f=function(e){return{type:l,payload:e}},v=function(e){return{type:c,payload:e}},x=function(){return{type:u,payload:!0}},S=function(e){return{type:d,payload:e}},y=function(e){return{type:p,params:e}},b=function(e){return{type:i,payload:e}},j=function(e){return{type:h,payload:e}}},19166:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(25543),a={localVersion:null,remoteVersion:null,sessionExpired:null,headerHeight:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_REMOTE_APP_VERSION_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{remoteVersion:t.payload});case s.SET_LOCAL_APP_VERSION:return(0,r.Z)((0,r.Z)({},e),{},{localVersion:t.payload});case s.SET_REMOTE_APP_VERSION:return(0,r.Z)((0,r.Z)({},e),{},{remoteVersion:t.payload});case s.SET_APP_PUSH_NOTIFICATION_MSG:return(0,r.Z)((0,r.Z)({},e),{},{appPushNotificationData:t.payload});case s.SET_SESSION_EXPIRED:return(0,r.Z)((0,r.Z)({},e),{},{sessionExpired:!0});case s.SET_HEADER_HEIGHT:return(0,r.Z)((0,r.Z)({},e),{},{headerHeight:t.payload});case s.SET_INITIAL_APP_NOTIFICATION_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{appPushNotificationData:t.payload});default:return e}}},57243:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v},getAppVersionAPI:function(){return h},getInitialAppNotificationAPI:function(){return m},handleGetAppVersionAPI:function(){return g},handleGetInitialAppNotificationAPI:function(){return f}});var r=n(74165),s=n(15861),a=n(64276),i=n(42599),o=n(69473),c=n(91104),l=n(25543),u=(0,r.Z)().mark(g),d=(0,r.Z)().mark(f),p=(0,r.Z)().mark(v),h=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.Z.deploymentBaseURL+"/frontend/uinotification?action=".concat(t),e.next=3,o.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(h,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.getRemoteAppVersionDispatcher)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.getRemoteAppVersionDispatcher)());case 12:(0,c.jy)("get-app-version",n.t0.message);case 13:case"end":return n.stop()}}),u,null,[[0,8]])}function f(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(m,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.getInitialAppNotificationResponse)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.getInitialAppNotificationResponse)());case 12:(0,c.jy)("get-initial-app-notification",n.t0.message);case 13:case"end":return n.stop()}}),d,null,[[0,8]])}function v(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(l.GET_REMOTE_APP_VERSION_INITIATE,g);case 2:return e.next=4,(0,a.Fm)(l.GET_INITIAL_APP_NOTIFICATION_REQUEST,f);case 4:case"end":return e.stop()}}),p)}},50962:function(e,t,n){"use strict";n.r(t),n.d(t,{APP_SUMO_SIGN_OUT_FAILURE:function(){return c},APP_SUMO_SIGN_OUT_REQUEST:function(){return i},APP_SUMO_SIGN_OUT_SUCCESS:function(){return o},APP_SUMO_SIGN_UP_FAILURE:function(){return a},APP_SUMO_SIGN_UP_REQUEST:function(){return r},APP_SUMO_SIGN_UP_SUCCESS:function(){return s},appSumoSignOutFailure:function(){return m},appSumoSignOutRequest:function(){return p},appSumoSignOutSuccess:function(){return h},appSumoSignUpFailure:function(){return d},appSumoSignUpRequest:function(){return l},appSumoSignUpSuccess:function(){return u}});var r="APP_SUMO_SIGN_UP_REQUEST",s="APP_SUMO_SIGN_UP_SUCCESS",a="APP_SUMO_SIGN_UP_FAILURE",i="APP_SUMO_SIGN_OUT_REQUEST",o="APP_SUMO_SIGN_OUT_SUCCESS",c="APP_SUMO_SIGN_OUT_FAILURE",l=function(e,t,n,s,a){return{type:r,params:{email:e,password:t,oldPassword:n,name:s,company:a}}},u=function(){return{type:s}},d=function(e){return{type:a,payload:e}},p=function(){return{type:i}},h=function(){return{type:o}},m=function(e){return{type:c,payload:e}}},75969:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(50962),a={appSumoSignupResult:{success:!0},appSumoSignOutResult:{success:!0}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.APP_SUMO_SIGN_UP_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{appSumoSignupResult:{success:!0}});case s.APP_SUMO_SIGN_UP_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{appSumoSignupResult:(0,r.Z)({success:!1},t.payload)});case s.APP_SUMO_SIGN_OUT_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{appSumoSignOutResult:{success:!0}});case s.APP_SUMO_SIGN_OUT_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{appSumoSignOutResult:(0,r.Z)({success:!1},t.payload)});default:return e}}},3218:function(e,t,n){"use strict";n.r(t),n.d(t,{appSumoSignOutRequest:function(){return y},appSumoSignUpRequest:function(){return S},default:function(){return w},watchAppSumoSignOutRequest:function(){return j},watchAppSumoSignUpRequest:function(){return b}});var r=n(74165),s=n(40009),a=n(64276),i=n(42599),o=n(69473),c=n(91104),l=n(90794),u=n(5539),d=n(50962),p=(0,r.Z)().mark(x),h=(0,r.Z)().mark(S),m=(0,r.Z)().mark(y),g=(0,r.Z)().mark(b),f=(0,r.Z)().mark(j),v=(0,r.Z)().mark(w);function x(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.RE)([o.Z,o.Z.put],i.Z.customerBaseURL,e);case 2:case"end":return t.stop()}}),p)}function S(e){var t,n,i,o,p,m,g;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,n=e.password,i=e.oldPassword,o=e.name,p=e.company,r.prev=1,r.next=4,(0,a.RE)([s.g,s.g.signOut]);case 4:return l.Z.clear(),r.next=7,(0,a.RE)([s.g,s.g.signIn],t,i);case 7:return r.next=9,(0,a.RE)([s.g,s.g.currentAuthenticatedUser]);case 9:return m=r.sent,r.next=12,(0,a.RE)([s.g,s.g.changePassword],m,i,n);case 12:return g={company_name:p,first_name:o,last_name:""},r.next=15,(0,a.RE)(x,g);case 15:return r.next=17,(0,a.RE)(u.handleGetCurrentSub,{params:m.username});case 17:return r.next=19,(0,a.gz)(d.appSumoSignUpSuccess());case 19:case 32:r.next=36;break;case 21:if(r.prev=21,r.t0=r.catch(1),(0,c.jy)("app-sumo-new-user-signup",r.t0.message),!r.t0.isAxiosError){r.next=29;break}if(!r.t0.response||401!==r.t0.response.status){r.next=29;break}return r.next=28,(0,a.gz)(d.appSumoSignUpFailure({code:"PERMISSION_DENIED",message:"Permission denied."}));case 28:return r.abrupt("return");case 29:if(!r.t0.code||!r.t0.message){r.next=34;break}return r.next=32,(0,a.gz)(d.appSumoSignUpFailure(r.t0));case 34:return r.next=36,(0,a.gz)(d.appSumoSignUpFailure({code:"failed",message:"App sumo signup failed"}));case 36:case"end":return r.stop()}}),h,null,[[1,21]])}function y(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.RE)([s.g,s.g.signOut]);case 3:return l.Z.clear(),e.next=6,(0,a.gz)(d.appSumoSignOutSuccess());case 6:case 19:e.next=23;break;case 8:if(e.prev=8,e.t0=e.catch(0),(0,c.jy)("app-sumo-existing-user-signout",e.t0.message),!e.t0.isAxiosError){e.next=16;break}if(!e.t0.response||401!==e.t0.response.status){e.next=16;break}return e.next=15,(0,a.gz)(d.appSumoSignOutFailure({code:"PERMISSION_DENIED",message:"Permission denied."}));case 15:return e.abrupt("return");case 16:if(!e.t0.code||!e.t0.message){e.next=21;break}return e.next=19,(0,a.gz)(d.appSumoSignOutFailure(e.t0));case 21:return e.next=23,(0,a.gz)(d.appSumoSignOutFailure({code:"failed",message:"App sumo signout failed"}));case 23:case"end":return e.stop()}}),m,null,[[0,8]])}function b(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(S,t);case 3:case"end":return n.stop()}}),g)}function j(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,(0,a.RE)(y);case 3:case"end":return t.stop()}}),f)}function w(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(d.APP_SUMO_SIGN_UP_REQUEST,b);case 2:return e.next=4,(0,a.ib)(d.APP_SUMO_SIGN_OUT_REQUEST,j);case 4:case"end":return e.stop()}}),v)}},46967:function(e,t,n){"use strict";n.r(t),n.d(t,{SEARCH_AUDIO_TRACKS:function(){return r},SEARCH_AUDIO_TRACKS_COMPLETE:function(){return s},searchAudioTracks:function(){return a},searchAudioTracksComplete:function(){return i}});var r="SEARCH_AUDIO_TRACKS",s="SEARCH_AUDIO_TRACKS_COMPLETE",a=function(e){return{type:r,params:{keyword:e}}},i=function(e){return{type:s,payload:e}}},55790:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(46967),a=n(48636),i={tracks:[],isSearching:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.GET_ARTICLE_AUDIOS:return(0,r.Z)((0,r.Z)({},e),{},{gettingTracks:!0,tracks:[]});case a.GET_ARTICLE_AUDIOS_COMPLETED:return(0,r.Z)((0,r.Z)({},e),{},{gettingTracks:!1,tracks:t.payload.map((function(e){if(e.id=parseInt(e.id),e.duration){var t=parseInt(e.duration);e.trackTimer="".concat(("0"+Math.floor(t/60)).slice(-2),":").concat(("0"+t%60).slice(-2))}return e.trackType="External",e}))});case s.SEARCH_AUDIO_TRACKS:return(0,r.Z)((0,r.Z)({},e),{},{isSearching:!0});case s.SEARCH_AUDIO_TRACKS_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{filteredTracks:t.payload,isSearching:!1,searchResult:!0});default:return e}}},58693:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(74165),s=n(64276),a=n(91104),i=n(46967),o=(0,r.Z)().mark(u),c=(0,r.Z)().mark(d),l=function(e){return e.audioTracks.tracks};function u(e){var t,n,c,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.type,t=e.params,r.prev=1,r.next=4,(0,s.Ys)(l);case 4:if(n=r.sent,!((c=t.keyword).length>0)){r.next=14;break}return c=c.toLowerCase(),0==(u=n.filter((function(e){return e.title&&e.title.toLowerCase().indexOf(c)>-1}))).length&&(u=n.filter((function(e){return e.artists&&e.artists.toLowerCase().indexOf(c)>-1||e.description&&e.description.toLowerCase().indexOf(c)>-1||e.duration&&e.duration.toLowerCase().indexOf(c)>-1||e.genres&&e.genres.findIndex((function(e){return e.toLowerCase().indexOf(c)>-1}))>-1||e.instruments&&e.instruments.findIndex((function(e){return e.toLowerCase().indexOf(c)>-1}))>-1||e.keywords&&e.keywords.findIndex((function(e){return e.toLowerCase().indexOf(c)>-1}))>-1||e.moods&&e.moods.findIndex((function(e){return e.toLowerCase().indexOf(c)>-1}))>-1}))),r.next=12,(0,s.gz)((0,i.searchAudioTracksComplete)(u));case 12:r.next=16;break;case 14:return r.next=16,(0,s.gz)((0,i.searchAudioTracksComplete)(n));case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(1),(0,a.jy)("search-audio-tracks-with-keywords",r.t0.message);case 21:case"end":return r.stop()}}),o,null,[[1,18]])}function d(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ib)(i.SEARCH_AUDIO_TRACKS,u);case 2:case"end":return e.stop()}}),c)}},27769:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_BRAND_SETTINGS_INITIATE:function(){return a},GET_BRAND_SETTINGS_RESPONSE:function(){return i},SAVE_BRAND_SETTINGS_INITIATE:function(){return o},SAVE_BRAND_SETTINGS_RESPONSE:function(){return c},UPLOAD_IMAGE_INITIATE:function(){return l},UPLOAD_IMAGE_RESPONSE:function(){return u},getBrandSettings:function(){return d},getBrandSettingsDispatcher:function(){return m},saveBrandSettings:function(){return p},saveBrandSettingsDispatcher:function(){return g},uploadImage:function(){return h},uploadImageDispatcher:function(){return f}});var r=n(4942),s=n(61253),a="GET_BRAND_SETTINGS_INITIATE",i="GET_BRAND_SETTINGS_RESPONSE",o="SAVE_BRAND_SETTINGS_INITIATE",c="SAVE_BRAND_SETTINGS_RESPONSE",l="UPLOAD_IMAGE_INITIATE",u="UPLOAD_IMAGE_RESPONSE",d=function(e){return(0,r.Z)({type:a,params:e},s.jw,i)},p=function(e){return(0,r.Z)({type:o,params:e},s.jw,c)},h=function(e){return(0,r.Z)({type:l,params:e},s.jw,u)},m=function(e){return{type:i,payload:e}},g=function(e){return{type:c,payload:e}},f=function(e){return{type:u,payload:e}}},35471:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(27769),a={brandSettings:{},saveSettingsStatus:"pending",uploadImageStatus:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_BRAND_SETTINGS_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{brandSettings:t.payload});case s.SAVE_BRAND_SETTINGS_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{saveSettingsStatus:t.payload});case s.UPLOAD_IMAGE_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{uploadImageStatus:t.payload});default:return e}}},72010:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w},getBrandSettingsAPI:function(){return v},handleGetBrandSettings:function(){return y},handleSaveBrandSettings:function(){return b},handleUploadImage:function(){return j},saveBrandSettingsAPI:function(){return x},uploadImageAPI:function(){return S}});var r=n(1413),s=n(74165),a=n(15861),i=n(78503),o=n(64276),c=n(42599),l=n(69473),u=n(91104),d=n(89956),p=n(27769),h=(0,s.Z)().mark(y),m=(0,s.Z)().mark(b),g=(0,s.Z)().mark(j),f=(0,s.Z)().mark(w),v=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=c.Z.brandsettingsBaseURL+"/brandsettings/object/users/".concat(t),e.next=4,l.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.Z.brandsettingsBaseURL+"/brandsettings",e.next=3,l.Z.post(n,t.body);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={level:"public",ACL:"public-read"},!t.file){e.next=9;break}return"image/svg+xml"==t.file.type&&(n.contentType="image/svg+xml"),e.next=5,(0,d.d)();case 5:return e.next=7,i.Ke.put(t.filePath,t.file,n);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.RE)(v,e.params);case 3:return t=n.sent,n.next=6,(0,o.gz)((0,p.getBrandSettingsDispatcher)((0,r.Z)((0,r.Z)({},t),{},{status:"success"})));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,o.gz)((0,p.getBrandSettingsDispatcher)({}));case 12:(0,u.jy)("get-brand-settings",n.t0.message);case 13:case"end":return n.stop()}}),h,null,[[0,8]])}function b(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.RE)(x,e.params);case 3:return t.next=5,(0,o.gz)((0,p.saveBrandSettingsDispatcher)("success"));case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,o.gz)((0,p.saveBrandSettingsDispatcher)("failed"));case 11:(0,u.jy)("save-brand-settings",t.t0.message);case 12:case"end":return t.stop()}}),m,null,[[0,7]])}function j(e){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.RE)(S,e.params);case 3:if(!r.sent){r.next=9;break}return r.next=7,(0,o.gz)((0,p.uploadImageDispatcher)("success"));case 7:r.next=10;break;case 9:e.params.filePath&&(0,u.jy)("upload-failed","No file found to upload at path ".concat(e.params.filePath));case 10:r.next=23;break;case 12:if(r.prev=12,r.t0=r.catch(0),t=r.t0.message,!r.t0.response||!r.t0.response.data){r.next=20;break}return r.next=18,(0,o.RE)(u.Zn,r.t0.response.data);case 18:n=r.sent,t="".concat(t," - ").concat(n);case 20:return r.next=22,(0,o.gz)((0,p.uploadImageDispatcher)("failed"));case 22:(0,u.jy)("upload-failed",t);case 23:case"end":return r.stop()}}),g,null,[[0,12]])}function w(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.ib)(p.GET_BRAND_SETTINGS_INITIATE,y);case 2:return e.next=4,(0,o.ib)(p.SAVE_BRAND_SETTINGS_INITIATE,b);case 4:return e.next=6,(0,o.ib)(p.UPLOAD_IMAGE_INITIATE,j);case 6:case"end":return e.stop()}}),f)}},57775:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_AUTO_DETECTED_LANGUAGE_FAILURE:function(){return l},GET_AUTO_DETECTED_LANGUAGE_REQUEST:function(){return o},GET_AUTO_DETECTED_LANGUAGE_SUCCESS:function(){return c},SAVE_DOCUMENT_BEGIN:function(){return a},SAVE_DOCUMENT_COMPLETE:function(){return i},getAutoDetectedLanguageFailure:function(){return m},getAutoDetectedLanguageRequest:function(){return p},getAutoDetectedLanguageSuccess:function(){return h},saveDocumentBegin:function(){return u},saveDocumentComplete:function(){return d}});var r=n(4942),s=n(61253),a="SAVE_DOCUMENT_BEGIN",i="SAVE_DOCUMENT_COMPLETE",o="GET_AUTO_DETECTED_LANGUAGE_REQUEST",c="GET_AUTO_DETECTED_LANGUAGE_SUCCESS",l="GET_AUTO_DETECTED_LANGUAGE_FAILURE",u=function(e,t,n){return(0,r.Z)({type:a,params:{userName:e,documentFile:t,fileName:n}},s.jw,i)},d=function(e){return{type:i,payload:e}},p=function(e){return(0,r.Z)({type:o,params:{text:e}},s.jw,c)},h=function(e){return{type:c,payload:{result:e}}},m=function(e){return{type:l,payload:{error:e}}}},54841:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(57775),a={documentUrl:"",getAutoDetectedLanguageResult:{success:!0},detectedLanguage:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SAVE_DOCUMENT_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{documentUrl:t.payload});case s.GET_AUTO_DETECTED_LANGUAGE_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getAutoDetectedLanguageResult:{success:!0},detectedLanguage:t.payload.result.language});case s.GET_AUTO_DETECTED_LANGUAGE_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getAutoDetectedLanguageResult:(0,r.Z)({success:!1},t.payload.error),detectedLanguage:null});default:return e}}},73138:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y},getAutoDetectedLanguage:function(){return f},getAutoDetectedLanguageRequest:function(){return x},handleSaveDocument:function(){return v},watchGetAutoDetectedLanguageRequest:function(){return S}});var r=n(74165),s=n(15861),a=n(64276),i=n(11043),o=n(91104),c=(n(89956),n(57775)),l=n(42599),u=n(69473),d=n(80761),p=(0,r.Z)().mark(v),h=(0,r.Z)().mark(x),m=(0,r.Z)().mark(S),g=(0,r.Z)().mark(y),f=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.post(l.Z.autoDetectedLanguage,{text:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function v(e){var t,n,s,l,u,d,h;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.params,r.prev=1,n=t.userName,t.documentFile,s=t.fileName,l="".concat(n,"/documents/articles/").concat(s.replace(/ /g,"-")),u=s.split("."),d=u[u.length-1],r.t0=d.toLowerCase(),r.next="pdf"===r.t0?10:"docx"===r.t0?12:14;break;case 10:case 12:return r.abrupt("break",14);case 14:return h=i.Z.Instance.GetUserUploadUrl(l,"public"),r.next=17,(0,a.gz)((0,c.saveDocumentComplete)(h));case 17:r.next=24;break;case 19:return r.prev=19,r.t1=r.catch(1),r.next=23,(0,a.gz)((0,c.saveDocumentComplete)(""));case 23:(0,o.jy)("Save-Article-Document",r.t1.message);case 24:case"end":return r.stop()}}),p,null,[[1,19]])}function x(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.text,r.prev=1,r.next=4,(0,a.RE)(f,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,c.getAutoDetectedLanguageSuccess)(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(1),(0,o.jy)("getAutoDetectedLanguage",r.t0.message,"get-auto-detected-language"),s=(0,d.Z)(r.t0,"Get","Auto detected language"),r.next=15,(0,a.gz)((0,c.getAutoDetectedLanguageFailure)(s));case 15:case"end":return r.stop()}}),h,null,[[1,9]])}function S(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(x,t);case 3:case"end":return n.stop()}}),m)}function y(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(c.SAVE_DOCUMENT_BEGIN,v);case 2:return e.next=4,(0,a.ib)(c.GET_AUTO_DETECTED_LANGUAGE_REQUEST,S);case 4:case"end":return e.stop()}}),g)}},48636:function(e,t,n){"use strict";n.r(t),n.d(t,{ADD_VIDEO_GENERATE_DATA_TO_REDUCER:function(){return O},ASSETS_SEARCH_STATUS:function(){return E},CREATE_ELEMENTS_PROGRESS:function(){return W},CSV_GENERATION_INITIATE:function(){return _},CSV_GENERATION_RESPONSE:function(){return R},DELETE_GENERATED_VIDEO_INITIATE:function(){return k},DELETE_VOICE_TRACK_INITIATE:function(){return w},DELETE_VOICE_TRACK_RESPONSE:function(){return Z},GENERATE_ASYNC_VIDEO:function(){return U},GENERATE_VIDEO_REQUEST_FAILED:function(){return G},GENERATE_VIDEO_REQUEST_SUCCESS:function(){return M},GENERATE_VIDEO_STATUS:function(){return T},GENERATE_VID_MESSAGES:function(){return V},GET_ALL_ASSETS_INITIATE:function(){return o},GET_ARTICLE_AUDIOS:function(){return C},GET_ARTICLE_AUDIOS_COMPLETED:function(){return I},GET_GENERATED_VIDEO_URL:function(){return L},GET_IMAGE_VIDEOS_INITIATE:function(){return i},GET_IMAGE_VIDEOS_RESPONSE:function(){return c},GET_IMAGE_VIDEO_KEYWORD_INITIATE:function(){return g},GET_IMAGE_VIDEO_KEYWORD_RESPONSE:function(){return f},GET_PROGRESS_INITIATE:function(){return l},GET_PROGRESS_RESPONSE:function(){return u},GET_SCENE_LEVEL_AUDIO_FAILURE:function(){return K},GET_SCENE_LEVEL_AUDIO_REQUEST:function(){return J},GET_SCENE_LEVEL_AUDIO_SUCCESS:function(){return H},GET_SENTENCE_KEYWORD_SUGGESTIONS_FAILURE:function(){return Q},GET_SENTENCE_KEYWORD_SUGGESTIONS_REQUEST:function(){return q},GET_SENTENCE_KEYWORD_SUGGESTIONS_SUCCESS:function(){return Y},GET_TRANSCRIPTION_SCENES_INITIATE:function(){return P},GET_VIDEO_ASYNC_EXPORT_ID:function(){return N},GET_VOICE_TRACK_INITIATE:function(){return h},GET_VOICE_TRACK_PREVIEW_INITIATE:function(){return S},GET_VOICE_TRACK_PREVIEW_RESPONSE:function(){return y},GET_VOICE_TRACK_RESPONSE:function(){return m},GET_VOICE_TRACK_RESPONSE_ID:function(){return b},REMOVE_VIDEO_GENERATE_DATA_TO_REDUCER:function(){return D},RESET_ASSETS_SEARCH_STATUS:function(){return A},SHARE_PREVIEW_FAILURE:function(){return ee},SHARE_PREVIEW_REQUEST:function(){return X},SHARE_PREVIEW_SUCCESS:function(){return $},SHARE_VIDEO_INITIATE:function(){return v},SHARE_VIDEO_RESPONSE:function(){return x},STOP_VIDEO_GENERATION:function(){return F},UPDATE_ASYNC_PROJECT_STATUS_FROM_RESPONSE:function(){return B},UPDATE_VOICE_PROGRESS:function(){return j},VIDEO_GENERATION_COMPLETION:function(){return z},VIDEO_GENERATION_INITIATE:function(){return d},VIDEO_GENERATION_RESPONSE:function(){return p},assetsSearchStatus:function(){return ke},createElementsProgress:function(){return Ue},deleteGeneratedVideo:function(){return me},deleteVoiceOverTrackDispatcher:function(){return pe},deleteVoiceOverTrackRequest:function(){return de},fetchAllVideosAndImages:function(){return te},generateAsyncVideo:function(){return fe},generateCSV:function(){return ge},generateCsvDispatcher:function(){return Ie},generateVideo:function(){return ae},generateVideoDispatcher:function(){return Se},generateVideoRequestFailed:function(){return De},generateVideoRequestSuccess:function(){return Oe},generateVideoStatus:function(){return ie},getArticleAudios:function(){return we},getArticleAudiosCompleted:function(){return Ze},getImageVideoKeywordDispatcher:function(){return je},getImagesVideosByKeyword:function(){return he},getProgessDispatcher:function(){return xe},getSceneLevelAudioFailure:function(){return Be},getSceneLevelAudioRequest:function(){return Fe},getSceneLevelAudioSuccess:function(){return Ve},getSentenceKeywordSuggestionsFailure:function(){return We},getSentenceKeywordSuggestionsRequest:function(){return Me},getSentenceKeywordSuggestionsSuccess:function(){return Ge},getTranscriptionScenes:function(){return Te},getVideoExportID:function(){return Ee},getVideoGenCompletionDispatcher:function(){return Le},getVideoGenMessages:function(){return Pe},getVideoProgress:function(){return re},getVoiceOverDispatcher:function(){return ye},getVoiceOverForPreviewDispatcher:function(){return be},getVoiceOverTrack:function(){return ce},getVoiceOverTrackForPreview:function(){return le},getVoiceOverTrackResponseId:function(){return ue},removeVideoGenNotification:function(){return _e},resetAssetsSearchStatus:function(){return Ce},searchAllAssets:function(){return ne},setAsyncVideoToReducer:function(){return Ae},sharePreviewFailure:function(){return He},sharePreviewRequest:function(){return ze},sharePreviewSuccess:function(){return Je},stopVideoGeneration:function(){return oe},updateAsyncProjectStatusFromResponse:function(){return Ne},updateVoiceoverProgress:function(){return se},videoAndImageDispatcher:function(){return ve},videoGenCompleted:function(){return Re}});var r=n(1413),s=n(4942),a=n(61253),i="GET_IMAGE_VIDEOS_INITIATE",o="GET_ALL_ASSETS_INITIATE",c="GET_IMAGE_VIDEOS_RESPONSE",l="GET_PROGRESS_INITIATE",u="GET_PROGRESS_RESPONSE",d="VIDEO_GENERATION_INITIATE",p="VIDEO_GENERATION_RESPONSE",h="GET_VOICE_TRACK_INITIATE",m="GET_VOICE_TRACK_RESPONSE",g="GET_IMAGE_VIDEO_KEYWORD_INITIATE",f="GET_IMAGE_VIDEO_KEYWORD_RESPONSE",v="SHARE_VIDEO_INITIATE",x="SHARE_VIDEO_RESPONSE",S="GET_VOICE_TRACK_PREVIEW_INITIATE",y="GET_VOICE_TRACK_PREVIEW_RESPONSE",b="GET_VOICE_TRACK_RESPONSE_ID",j="UPDATE_VOICE_PROGRESS",w="DELETE_VOICE_TRACK_INITIATE",Z="DELETE_VOICE_TRACK_RESPONSE",k="DELETE_GENERATED_VIDEO_INITIATE",C="GET_ARTICLE_AUDIOS",I="GET_ARTICLE_AUDIOS_COMPLETED",T="GENERATE_VIDEO_STATUS",E="ASSETS_SEARCH_STATUS",A="RESET_ASSET_SEARCH_STATUS",_="CSV_GENERATION_INITIATE",R="CSV_GENERATION_RESPONSE",P="GET_TRANSCRIPTION_SCENES_INITIATE",N="GET_VIDEO_ASYNC_EXPORT_ID",O="ADD_VIDEO_GENERATE_DATA_TO_REDUCER",D="REMOVE_VIDEO_GENERATE_DATA_TO_REDUCER",U="GENERATE_ASYNC_VIDEO",L="GET_GENERATED_VIDEO_URL",F="STOP_VIDEO_GENERATION",V="GENERATE_VID_MESSAGES",B="UPDATE_ASYNC_PROJECT_STATUS_FROM_RESPONSE",M="GENERATE_VIDEO_REQUEST_SUCCESS",G="GENERATE_VIDEO_REQUEST_FAILED",W="CREATE_ELEMENTS_PROGRESS",z="VIDEO_GENERATION_COMPLETION",J="GET_SCENE_LEVEL_AUDIO_REQUEST",H="GET_SCENE_LEVEL_AUDIO_SUCCESS",K="GET_SCENE_LEVEL_AUDIO_FAILURE",q="GET_SENTENCE_KEYWORD_SUGGESTIONS_REQUEST",Y="GET_SENTENCE_KEYWORD_SUGGESTIONS_SUCCESS",Q="GET_SENTENCE_KEYWORD_SUGGESTIONS_FAILURE",X="SHARE_PREVIEW_REQUEST",$="SHARE_PREVIEW_SUCCESS",ee="SHARE_PREVIEW_FAILURE",te=function(e){return(0,s.Z)({type:i,params:e},a.jw,c)},ne=function(e,t,n){return(0,s.Z)({type:o,params:{requestBody:e,aspectRatio:t,project_id:n}},a.jw,c)},re=function(e){return(0,s.Z)({type:l,params:e},a.jw,u)},se=function(e){return{type:j,progress:e}},ae=function(e){return{type:d,params:e}},ie=function(e){return{type:T,payload:e}},oe=function(){return{type:F}},ce=function(e){return(0,s.Z)({type:h,params:e},a.jw,m)},le=function(e){return(0,s.Z)({type:S,params:e},a.jw,y)},ue=function(e){return(0,s.Z)({type:b,params:e},a.jw,b)},de=function(e){return(0,s.Z)({type:w,params:e},a.jw,Z)},pe=function(e){return{type:Z,payload:e}},he=function(e){return(0,s.Z)({type:g,params:e},a.jw,f)},me=function(e){return{type:k,params:e}},ge=function(e){return(0,s.Z)({type:_,params:e},a.jw,R)},fe=function(e){return{type:U,body:(0,r.Z)({},e)}},ve=function(e){return{type:c,payload:e}},xe=function(e){return{type:u,payload:e}},Se=function(e){return{type:p,payload:e}},ye=function(e){return{type:m,payload:e}},be=function(e){return{type:y,payload:e}},je=function(e){return{type:f,payload:e}},we=function(e){return{type:C,params:{article:e}}},Ze=function(e){return{type:I,payload:e}},ke=function(e){return{type:E,payload:e}},Ce=function(){return{type:A}},Ie=function(e){return{type:R,payload:e}},Te=function(e){return(0,s.Z)({type:P,params:e},a.jw,c)},Ee=function(e){return{type:N,payload:e}},Ae=function(e){return{type:O,payload:e}},_e=function(e){return{type:D,payload:e}},Re=function(e){return{type:L,payload:e}},Pe=function(e){return{type:V,payload:e}},Ne=function(e,t){return{type:B,payload:{projectId:e,progressMessage:t}}},Oe=function(e){return{type:M,payload:e}},De=function(){return{type:G}},Ue=function(e,t){return{type:W,payload:{progress:e,message:t}}},Le=function(e){return{type:z,payload:e}},Fe=function(e,t,n,r){return{type:J,params:{projectId:e,sceneId:t,sceneAudioDataHash:n,sceneAudioData:r}}},Ve=function(e,t,n,r,s){return{type:H,payload:{projectId:e,sceneId:t,sceneAudioDataHash:n,sceneAudio:r,sceneAudioTimeMarkers:s}}},Be=function(e,t,n,r){return{type:K,payload:{projectId:e,sceneId:t,sceneAudioDataHash:n,error:r}}},Me=function(e,t){return{type:q,params:{sentence:e,language:t}}},Ge=function(e){return{type:Y,payload:{keywords:e}}},We=function(e){return{type:Q,payload:{error:e}}},ze=function(e,t){return{type:X,params:{previewId:e,previewJson:t}}},Je=function(e){return{type:$,payload:{sharedPreviewUrl:e}}},He=function(e){return{type:ee,payload:{error:e}}}},77583:function(e,t,n){"use strict";n.r(t);var r=n(4942),s=n(93433),a=n(1413),i=n(48636),o={allVideosAndImages:{data:[],status:"pending"},videoProgress:{},generateVideoData:{},voiceOverData:{},voiceOverDataForPreview:{},imagesVideosByKeyword:{data:[],status:"pending"},assetsSearchProgress:{progress:0,message:"Preparing story board"},asyncVideoGenData:{projectId:"",responseId:"",isError:!1},asyncGeneratingVideos:[],asyncCompleteData:{projectId:"",URL:""},videoGenerationProgress:{step:1,elementsCreateProgress:0,progress:0},projectSceneLevelAudio:{},sentenceKeywordSuggestions:[],sharePreviewResult:{success:!0},sharedPreviewUrl:null};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0,c=null,l=null;switch(n.type){case i.GET_IMAGE_VIDEOS_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{allVideosAndImages:n.payload});case i.GET_PROGRESS_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{videoProgress:n.payload});case i.VIDEO_GENERATION_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{generateVideoData:n.payload});case i.GET_VOICE_TRACK_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{voiceOverData:n.payload});case i.GET_VOICE_TRACK_RESPONSE_ID:return(0,a.Z)((0,a.Z)({},t),{},{voiceOverDataResponseID:n.params.data});case i.GET_VOICE_TRACK_PREVIEW_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{voiceOverDataForPreview:n.payload,isGeneratingVO:!(null==n||null===(e=n.payload)||void 0===e||!e.URL)});case i.GET_IMAGE_VIDEO_KEYWORD_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{imagesVideosByKeyword:n.payload});case i.GET_ARTICLE_AUDIOS:return(0,a.Z)((0,a.Z)({},t),{},{gettingArticleAudios:!0,articleAudios:[]});case i.GET_ARTICLE_AUDIOS_COMPLETED:return(0,a.Z)((0,a.Z)({},t),{},{gettingArticleAudios:!1,articleAudios:n.payload});case i.GENERATE_VIDEO_STATUS:var u=n.payload;return u.elementsCreateProgress=t.videoGenerationProgress.elementsCreateProgress,1===u.step&&(u.progress>0&&u.progress<100?u.elementsCreateProgress>0&&(u.progress=u.elementsCreateProgress+Math.floor(u.progress/2)):100===u.progress&&(u.elementsCreateProgress=0)),(0,a.Z)((0,a.Z)({},t),{},{videoGenerationProgress:u});case i.ASSETS_SEARCH_STATUS:return(0,a.Z)((0,a.Z)({},t),{},{assetsSearchProgress:n.payload});case i.RESET_ASSETS_SEARCH_STATUS:return(0,a.Z)((0,a.Z)({},t),{},{assetsSearchProgress:(0,a.Z)({},o.assetsSearchProgress)});case i.GENERATE_VIDEO_REQUEST_SUCCESS:return(0,a.Z)((0,a.Z)({},t),{},{videoGenerationResponseId:n.payload});case i.GET_VIDEO_ASYNC_EXPORT_ID:return(0,a.Z)((0,a.Z)({},t),{},{asyncVideoGenData:n.payload});case i.ADD_VIDEO_GENERATE_DATA_TO_REDUCER:var d=(0,s.Z)(t.asyncGeneratingVideos);return d.push(n.payload),(0,a.Z)((0,a.Z)({},t),{},{asyncGeneratingVideos:d});case i.REMOVE_VIDEO_GENERATE_DATA_TO_REDUCER:var p=(0,s.Z)(t.asyncGeneratingVideos),h=p.findIndex((function(e){return e.responseId==n.payload}));return-1!=h&&p.splice(h,1),(0,a.Z)((0,a.Z)({},t),{},{asyncGeneratingVideos:p});case i.GET_GENERATED_VIDEO_URL:return(0,a.Z)((0,a.Z)({},t),{},{asyncCompleteData:n.payload});case i.CREATE_ELEMENTS_PROGRESS:return(0,a.Z)((0,a.Z)({},t),{},{videoGenerationProgress:{step:1,progress:Math.ceil(n.payload.progress/2),elementsCreateProgress:Math.ceil(n.payload.progress/2),message:n.payload.message}});case i.GET_SCENE_LEVEL_AUDIO_SUCCESS:return(c=(0,a.Z)({},t.projectSceneLevelAudio))[n.payload.projectId]?c[n.payload.projectId][n.payload.sceneId]||(c[n.payload.projectId][n.payload.sceneId]={}):c[n.payload.projectId]=(0,r.Z)({},n.payload.sceneId,{}),delete(l=(0,a.Z)({},c[n.payload.projectId][n.payload.sceneId])).error,l.audio=n.payload.sceneAudio,l.audioTimeMarkers=n.payload.sceneAudioTimeMarkers,l.sceneAudioDataHash=n.payload.sceneAudioDataHash,c[n.payload.projectId][n.payload.sceneId]=l,(0,a.Z)((0,a.Z)({},t),{},{projectSceneLevelAudio:c});case i.GET_SCENE_LEVEL_AUDIO_FAILURE:return(c=(0,a.Z)({},t.projectSceneLevelAudio))[n.payload.projectId]?c[n.payload.projectId][n.payload.sceneId]||(c[n.payload.projectId][n.payload.sceneId]={}):c[n.payload.projectId]=(0,r.Z)({},n.payload.sceneId,{}),delete(l=(0,a.Z)({},c[n.payload.projectId][n.payload.sceneId])).audio,delete l.sceneAudioTimeMarkers,l.error=n.payload.error,l.sceneAudioDataHash=n.payload.sceneAudioDataHash,c[n.payload.projectId][n.payload.sceneId]=l,(0,a.Z)((0,a.Z)({},t),{},{projectSceneLevelAudio:c});case i.GET_SENTENCE_KEYWORD_SUGGESTIONS_SUCCESS:return(0,a.Z)((0,a.Z)({},t),{},{sentenceKeywordSuggestions:n.payload.keywords});case i.GET_SENTENCE_KEYWORD_SUGGESTIONS_FAILURE:return(0,a.Z)((0,a.Z)({},t),{},{sentenceKeywordSuggestions:[]});case i.SHARE_PREVIEW_REQUEST:return(0,a.Z)((0,a.Z)({},t),{},{sharedPreviewUrl:null});case i.SHARE_PREVIEW_SUCCESS:return(0,a.Z)((0,a.Z)({},t),{},{sharePreviewResult:{success:!0},sharedPreviewUrl:n.payload.sharedPreviewUrl});case i.SHARE_PREVIEW_FAILURE:return(0,a.Z)((0,a.Z)({},t),{},{sharePreviewResult:(0,a.Z)({success:!1},n.payload.error),sharedPreviewUrl:null});case i.DELETE_VOICE_TRACK_RESPONSE:return(0,a.Z)((0,a.Z)({},t),{},{voiceOverDeleteResult:{success:n.payload}});case i.UPDATE_VOICE_PROGRESS:return(0,a.Z)((0,a.Z)({},t),{},{voiceoverprogressStatus:n.progress});default:return t}}},46565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Se},deleteVoiceOverTrackAPI:function(){return oe},fetchPremiumAPI:function(){return W},getAssetSearchResponseAPI:function(){return H},getImagesVideoAPI:function(){return K},getSentenceKeywordSuggestions:function(){return z},getVoiceOverAutoSyncResponseAPI:function(){return X},getVoiceOverResponseAPI:function(){return Q},getVoiceOverTrackAPI:function(){return q},handleDeleteVoiceOverTrack:function(){return ge},handleFetchImageAndVideo:function(){return te},handleGetImagesVideosByKeyword:function(){return ae},handleGetSceneLevelAudioRequest:function(){return fe},handleGetSentenceKeywordSuggestionsRequest:function(){return ve},handleGetVoiceOverTrack:function(){return he},handleGetVoiceOverTrackForPreview:function(){return me},handleSearchAllAssets:function(){return ne},handleSharePreviewRequest:function(){return xe},searchAllAssets:function(){return J},sharePreview:function(){return $},voiceOverAutoSyncAPI:function(){return Y}});var r=n(74165),s=n(15861),a=n(51443),i=n.n(a),o=n(31881),c=n.n(o),l=n(64276),u=n(42599),d=n(69473),p=n(91104),h=n(43862),m=n(48636),g=n(58484),f=(0,r.Z)().mark(b),v=(0,r.Z)().mark(j),x=(0,r.Z)().mark(w),S=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.post(u.Z.transcribe+"/scenes",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.transcribe,"/scenes/result/").concat(t),e.next=4,d.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function b(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=!0;case 1:if(!e){n.next=15;break}return n.next=4,(0,l.qn)(h.TRANSCRIPTION_SCENES_PROCESSING_PROGRESS);case 4:t=n.sent,n.t0=t.payload.status,n.next="in-progress"===n.t0?8:"complete"===n.t0?11:13;break;case 8:return n.next=10,(0,l.gz)((0,m.assetsSearchStatus)(t.payload));case 10:return n.abrupt("break",13);case 11:return e=!1,n.abrupt("return",t);case 13:n.next=1;break;case 15:case"end":return n.stop()}}),f)}function j(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,l.RE)(y,e);case 3:if(!(t=n.sent)){n.next=8;break}return n.abrupt("return",t);case 8:return n.next=10,(0,l.gw)(2e3);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),v)}function w(e){var t,n,s,a,i,o,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,t.client_id=p.I4,r.next=5,(0,l.RE)(S,t);case 5:if(!(n=r.sent).async){r.next=35;break}return r.next=9,(0,l.S3)({progressResponse:b(),timeout:(0,l.gw)(6e5)});case 9:if(s=r.sent,a=s.progressResponse,s.timeout,!a||!a.payload||a.payload.response_id!==n.response_id){r.next=25;break}return r.next=15,(0,l.RE)([c(),c().get],a.payload.response_url,{headers:{"Content-Type":"application/json"}});case 15:if(!(i=r.sent).data.error){r.next=20;break}throw new Error(i.data.error);case 20:n=i.data.data;case 21:return r.next=23,(0,l.gz)((0,m.assetsSearchStatus)(a.payload));case 23:r.next=35;break;case 25:return r.next=27,(0,l.S3)({pollResponse:(0,l.RE)(j,n.response_id),timeout:(0,l.gw)(3e5)});case 27:if(o=r.sent,u=o.pollResponse,o.timeout,!u){r.next=34;break}n=u.data,r.next=35;break;case 34:throw new Error("Transcription scenes response timeout");case 35:return r.next=37,(0,l.gz)((0,m.videoAndImageDispatcher)({data:n,status:"success"}));case 37:r.next=44;break;case 39:return r.prev=39,r.t0=r.catch(1),r.next=43,(0,l.gz)((0,m.videoAndImageDispatcher)({data:[],status:"failed"}));case 43:(0,p.jy)("search-all-assets",r.t0.message);case 44:case"end":return r.stop()}}),x,null,[[1,39]])}var Z=n(66719),k=(0,r.Z)().mark(ee),C=(0,r.Z)().mark(te),I=(0,r.Z)().mark(ne),T=(0,r.Z)().mark(re),E=(0,r.Z)().mark(se),A=(0,r.Z)().mark(ae),_=(0,r.Z)().mark(ie),R=(0,r.Z)().mark(ce),P=(0,r.Z)().mark(le),N=(0,r.Z)().mark(ue),O=(0,r.Z)().mark(de),D=(0,r.Z)().mark(pe),U=(0,r.Z)().mark(he),L=(0,r.Z)().mark(me),F=(0,r.Z)().mark(ge),V=(0,r.Z)().mark(fe),B=(0,r.Z)().mark(ve),M=(0,r.Z)().mark(xe),G=(0,r.Z)().mark(Se),W=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,i,o,l,p,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.Z.post(u.Z.getImageAPINew+u.Z.premiumSearchEndpoint,t),s=d.Z.post(u.Z.getImageAPINew+u.Z.standardSearchEndpoint,t),a=d.Z.post(u.Z.getVideosAPINew+u.Z.premiumSearchEndpoint,t),i=d.Z.post(u.Z.getVideosAPINew+u.Z.standardSearchEndpoint,t),e.next=6,c().all([n,s,a,i]);case 6:for(o=e.sent,l=[],p=0;p<o.length;p++)h=o[p],l.push(h.data);return e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.post(u.Z.keywordsSuggestion,{sentence:t,language:n});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.Z.searchAllAssets,(i=(0,p.E3)())&&(a=u.Z.searchAllAssetsTeams.format(i)),t.project_id=s,e.next=6,d.Z.post(a+"?aspectratio="+(0,p.Sk)(n),t);case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),H=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.searchAllAssets,"/result/").concat(t),e.next=4,d.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,i,o,l,p,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.Z.get("".concat(u.Z.getImageAPINew).concat(u.Z.premiumSearchEndpoint,"?keywords=").concat(t)),s=d.Z.get("".concat(u.Z.getImageAPINew).concat(u.Z.standardSearchEndpoint,"?keywords=").concat(t)),a=d.Z.get("".concat(u.Z.getVideosAPINew).concat(u.Z.premiumSearchEndpoint,"?keywords=").concat(t)),i=d.Z.get("".concat(u.Z.getVideosAPINew).concat(u.Z.standardSearchEndpoint,"?keywords=").concat(t)),e.next=6,c().all([n,s,a,i]);case 6:for(o=e.sent,l=[],p=0;p<o.length;p++)h=o[p],l.push(h.data);return e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.abortController,s=t.VoiceOverTrackCreationJson,a=u.Z.getVoiceOverTrackURLv3,(i=(0,p.E3)())&&(a=u.Z.getVoiceOverTrackURLv3Teams.format(i)),e.next=6,d.Z.post(a,s,{},n.token);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.abortController,s=t.requestBody,a="".concat(u.Z.transcribe,"/voiceover/autosync"),e.next=4,d.Z.post(a,s,{},n.token);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.getVoiceOverTrackURLv3,"/result/").concat(t),e.next=4,d.Z.get(n);case 4:if(null==(s=e.sent)||!s.error){e.next=7;break}throw s.error;case 7:return e.abrupt("return",s);case 10:if(e.prev=10,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.transcribe,"/transcription/result/").concat(t),e.next=4,d.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(u.Z.sharePreview,"/").concat(t),e.next=3,d.Z.put(s,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function ee(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.type,t=e.params,r.prev=1,n=t.article,r.next=5,(0,l.RE)([d.Z,d.Z.post],u.Z.searchAudioTracks,{fullText:n});case 5:if(200!==(s=r.sent).status){r.next=9;break}return r.next=9,(0,l.gz)((0,m.getArticleAudiosCompleted)(s.data));case 9:r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,(0,l.gz)((0,m.getArticleAudiosCompleted)([]));case 15:(0,p.jy)("get-article-audios",r.t0.message);case 16:case"end":return r.stop()}}),k,null,[[1,11]])}function te(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.RE)(W,e.params);case 3:return t=n.sent,n.next=6,(0,l.gz)((0,m.videoAndImageDispatcher)({data:t,status:"success"}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,l.gz)((0,m.videoAndImageDispatcher)({data:[],status:"failed"}));case 12:case"end":return n.stop()}}),C,null,[[0,8]])}function ne(e){var t,n,s,a,i,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.params.requestBody.clientId=p.I4,r.next=4,(0,l.RE)(J,e.params.requestBody,e.params.aspectRatio,e.params.project_id);case 4:if(!(t=r.sent).async){r.next=34;break}return r.next=8,(0,l.S3)({assetsSearchResponse:re(),timeout:(0,l.gw)(6e5)});case 8:if(n=r.sent,s=n.assetsSearchResponse,n.timeout,!s||!s.payload||s.payload.response_id!==t.response_id){r.next=24;break}return r.next=14,(0,l.gz)((0,m.assetsSearchStatus)(s.payload));case 14:return r.next=16,(0,l.RE)([c(),c().get],s.payload.response_url,{headers:{"Content-Type":"application/json"}});case 16:if(!(a=r.sent).data.error){r.next=21;break}throw new Error(a.data.error);case 21:t=a.data.data;case 22:r.next=34;break;case 24:return r.next=26,(0,l.S3)({assetsSearchResponse:(0,l.RE)(se,t.response_id),timeout:(0,l.gw)(3e5)});case 26:if(i=r.sent,o=i.assetsSearchResponse,i.timeout,!o){r.next=33;break}t=o.data,r.next=34;break;case 33:throw new Error("Assets search response timeout");case 34:return r.next=36,(0,l.gz)((0,m.videoAndImageDispatcher)({data:t,status:"success"}));case 36:r.next=43;break;case 38:return r.prev=38,r.t0=r.catch(0),r.next=42,(0,l.gz)((0,m.videoAndImageDispatcher)({data:[],status:"failed"}));case 42:(0,p.jy)("search-all-assets",r.t0.message);case 43:case"end":return r.stop()}}),I,null,[[0,38]])}function re(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=!0;case 1:if(!e){n.next=15;break}return n.next=4,(0,l.qn)(h.ARTICLE_ASSETS_SEARCH_PROGRESS);case 4:t=n.sent,n.t0=t.payload.status,n.next="in-progress"===n.t0?8:"complete"===n.t0?11:13;break;case 8:return n.next=10,(0,l.gz)((0,m.assetsSearchStatus)(t.payload));case 10:return n.abrupt("break",13);case 11:return e=!1,n.abrupt("return",t);case 13:n.next=1;break;case 15:case"end":return n.stop()}}),T)}function se(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,l.RE)(H,e);case 3:if(!(t=n.sent)){n.next=8;break}return n.abrupt("return",t);case 8:return n.next=10,(0,l.gw)(2e3);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),E)}function ae(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.RE)(K,e.params);case 3:return t=n.sent,n.next=6,(0,l.gz)((0,m.getImageVideoKeywordDispatcher)({data:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,l.gz)((0,m.getImageVideoKeywordDispatcher)({data:[],status:"failed"}));case 12:(0,p.jy)("search-images-with-keywords",n.t0.message);case 13:case"end":return n.stop()}}),A,null,[[0,8]])}function ie(e){var t,n,s,a,i,o,u,d,h,g;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.VoiceOverTrackCreationJson.client_id=p.I4,r.next=3,(0,l.RE)(q,e);case 3:if(!(t=r.sent).data.async){r.next=39;break}return r.next=7,(0,l.gz)((0,m.getVoiceOverTrackResponseId)({data:t.data.response_id}));case 7:return r.next=9,(0,l.RE)(Q,t.data.response_id);case 9:if(!(a=r.sent)){r.next=12;break}return r.abrupt("return",a);case 12:return i=36e5,(null==e||null===(n=e.VoiceOverTrackCreationJson)||void 0===n||null===(s=n.sentences)||void 0===s?void 0:s.length)>0&&(i=15e3+5e3*e.VoiceOverTrackCreationJson.sentences.length),r.next=16,(0,l.S3)({voiceOverResponse:ce(t.data.response_id),timeout:(0,l.gw)(i)});case 16:if(o=r.sent,u=o.voiceOverResponse,o.timeout,!u||!u.payload){r.next=29;break}if(u.payload.response_id!==t.data.response_id){r.next=27;break}return r.next=23,(0,l.RE)([c(),c().get],u.payload.response_url,{headers:{"Content-Type":"application/json"}});case 23:if(!(d=r.sent).data.error){r.next=26;break}throw new Error(d.data.error);case 26:return r.abrupt("return",d.data);case 27:r.next=37;break;case 29:return r.next=31,(0,l.S3)({voiceOverPollResponse:(0,l.RE)(le,t.data.response_id),timeout:(0,l.gw)(3e5)});case 31:if(h=r.sent,g=h.voiceOverPollResponse,h.timeout,g){r.next=36;break}throw new Error("Voice over response timeout");case 36:return r.abrupt("return",g);case 37:r.next=42;break;case 39:return r.next=41,(0,l.gz)((0,m.updateVoiceoverProgress)(0));case 41:return r.abrupt("return",t);case 42:case"end":return r.stop()}}),_)}var oe=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.Z.getVoiceOverTrackURLv3+"/"+t,(s=(0,p.E3)())&&(n=u.Z.getVoiceOverTrackURLv3.format(s)+"/"+t),e.next=5,d.Z.delete(n);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ce(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=!0;case 1:if(!t){r.next=18;break}return r.next=4,(0,l.qn)(h.VOICE_OVER_PROGRESS);case 4:n=r.sent,r.t0=n.payload.status,r.next="inprogress"===r.t0?8:"complete"===r.t0?12:16;break;case 8:if(n.payload.response_id!==e){r.next=11;break}return r.next=11,(0,l.gz)((0,m.updateVoiceoverProgress)(n.payload.progress));case 11:return r.abrupt("break",16);case 12:if(n.payload.response_id!==e){r.next=15;break}return t=!1,r.abrupt("return",n);case 15:return r.abrupt("break",16);case 16:r.next=1;break;case 18:case"end":return r.stop()}}),R)}function le(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,l.RE)(Q,e);case 3:if(!(t=n.sent)){n.next=8;break}return n.abrupt("return",t);case 8:return n.next=10,(0,l.gw)(2e3);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),P)}function ue(e){var t,n,s,a,i,o,u,d,p;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.VoiceOverTrackCreationJson,n=e.options,s={url:n.recordedAudioUrl,sentences:t.sentences,language:n.language},r.next=4,(0,l.RE)(Y,{requestBody:s,abortController:e.abortController});case 4:if(!(a=r.sent).data.async){r.next=31;break}return r.next=8,(0,l.S3)({voiceOverAutoSyncResponse:de(a.data.response_id),timeout:(0,l.gw)(3e5)});case 8:if(i=r.sent,o=i.voiceOverAutoSyncResponse,i.timeout,!o||!o.payload){r.next=21;break}if(o.payload.response_id!==a.data.response_id){r.next=19;break}return r.next=15,(0,l.RE)([c(),c().get],o.payload.response_url,{headers:{"Content-Type":"application/json"}});case 15:if(!(u=r.sent).data.error){r.next=18;break}throw new Error(u.data.error);case 18:return r.abrupt("return",u.data);case 19:r.next=29;break;case 21:return r.next=23,(0,l.S3)({voiceOverAutoSyncPollResponse:(0,l.RE)(pe,a.data.response_id),timeout:(0,l.gw)(3e5)});case 23:if(d=r.sent,p=d.voiceOverAutoSyncPollResponse,d.timeout,p){r.next=28;break}throw new Error("Voice over auto sync response timeout");case 28:return r.abrupt("return",p);case 29:r.next=32;break;case 31:return r.abrupt("return",a);case 32:case"end":return r.stop()}}),N)}function de(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=!0;case 1:if(!t){r.next=13;break}return r.next=4,(0,l.qn)(g.VOICE_OVER_AUTO_SYNC_PROGRESS);case 4:n=r.sent,r.t0=n.payload.status,r.next="complete"===r.t0?8:11;break;case 8:if(n.payload.response_id!==e){r.next=11;break}return t=!1,r.abrupt("return",n);case 11:r.next=1;break;case 13:case"end":return r.stop()}}),O)}function pe(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,l.RE)(X,e);case 3:if(!(t=n.sent)){n.next=8;break}return n.abrupt("return",t);case 8:return n.next=10,(0,l.gw)(2e3);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),D)}function he(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,l.RE)(ie,e.params);case 3:return t=r.sent,r.next=6,(0,l.gz)((0,m.getVoiceOverDispatcher)(t.data));case 6:case 16:r.next=21;break;case 8:if(r.prev=8,r.t0=r.catch(0),c().isCancel(r.t0)){r.next=18;break}return n=null,r.t0.message&&r.t0.message.indexOf("error_code")>-1&&(n=JSON.parse(r.t0.message)),(0,p.jy)("get-voice-over-track",r.t0.message),r.next=16,(0,l.gz)((0,m.getVoiceOverDispatcher)(n));case 18:return i().getInstance().logEvent("video-generation-canceled"),r.next=21,(0,l.gz)((0,m.getVoiceOverDispatcher)({isCanceled:!0}));case 21:case"end":return r.stop()}}),U,null,[[0,8]])}function me(e){var t,n,s,a,i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t={data:null},!e.params.options||!e.params.options.voiceOverAutoSync){r.next=8;break}return r.next=5,(0,l.RE)(ue,e.params);case 5:t=r.sent,r.next=11;break;case 8:return r.next=10,(0,l.RE)(ie,e.params);case 10:t=r.sent;case 11:return r.next=13,(0,l.gz)((0,m.getVoiceOverForPreviewDispatcher)(t.data));case 13:r.next=28;break;case 15:if(r.prev=15,r.t0=r.catch(0),c().isCancel(r.t0)){r.next=26;break}return(0,p.jy)("get-voice-over-track-for-preview",r.t0.message),a=null,r.t0.message&&r.t0.message.indexOf("error_code")>-1&&(a=JSON.parse(r.t0.message)),429===(null===r.t0||void 0===r.t0||null===(n=r.t0.response)||void 0===n?void 0:n.status)&&null!==r.t0&&void 0!==r.t0&&null!==(s=r.t0.response)&&void 0!==s&&s.data&&(a=null===(i=r.t0.response)||void 0===i?void 0:i.data),r.next=24,(0,l.gz)((0,m.getVoiceOverForPreviewDispatcher)(a));case 24:r.next=28;break;case 26:return r.next=28,(0,l.gz)((0,m.getVoiceOverForPreviewDispatcher)({isCanceled:!0}));case 28:case"end":return r.stop()}}),L,null,[[0,15]])}function ge(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,l.RE)(oe,e.params);case 3:return n=r.sent,r.next=6,(0,l.gz)((0,m.deleteVoiceOverTrackDispatcher)({message:"success",status:null==n||null===(t=n.data)||void 0===t?void 0:t.result}));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,(0,l.gz)((0,m.deleteVoiceOverTrackDispatcher)({message:"failed"}));case 12:case"end":return r.stop()}}),F,null,[[0,8]])}function fe(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=c().CancelToken.source(),n={VoiceOverTrackCreationJson:e.params.sceneAudioData,abortController:t},r.next=5,(0,l.RE)(ie,n);case 5:return s=r.sent,r.next=8,(0,l.gz)((0,m.getSceneLevelAudioSuccess)(e.params.projectId,e.params.sceneId,e.params.sceneAudioDataHash,s.data.URL,s.data.time_markers));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(0),(0,p.jy)("get-scene-level-audio-track",r.t0.message),r.next=15,(0,l.gz)((0,m.getSceneLevelAudioFailure)(e.params.projectId,e.params.sceneId,e.params.sceneAudioDataHash,r.t0));case 15:case"end":return r.stop()}}),V,null,[[0,10]])}function ve(e){var t,n,s,a;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.params,n=t.sentence,s=t.language,r.next=4,(0,l.RE)(z,n,s);case 4:return a=r.sent,r.next=7,(0,l.gz)((0,m.getSentenceKeywordSuggestionsSuccess)(a));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),(0,p.jy)("get-sentence-keyword-suggestions",r.t0.message),r.next=14,(0,l.gz)((0,m.getSentenceKeywordSuggestionsFailure)(r.t0));case 14:case"end":return r.stop()}}),B,null,[[0,9]])}function xe(e){var t,n,s,a;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.params,n=t.previewId,s=t.previewJson,r.next=4,(0,l.RE)($,n,s);case 4:return a=r.sent,r.next=7,(0,l.gz)((0,m.sharePreviewSuccess)(a.preview));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),(0,p.jy)("share-preview",r.t0.message),r.next=14,(0,l.gz)((0,m.sharePreviewFailure)(r.t0));case 14:case"end":return r.stop()}}),M,null,[[0,9]])}function Se(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.ib)(m.GET_IMAGE_VIDEOS_INITIATE,te);case 2:return e.next=4,(0,l.ib)(m.GET_ALL_ASSETS_INITIATE,ne);case 4:return e.next=6,(0,l.ib)(m.GET_PROGRESS_INITIATE,Z.lw);case 6:return e.next=8,(0,l.ib)(m.VIDEO_GENERATION_INITIATE,(0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.S3)({task:(0,l.RE)(Z.hE,t),cancel:(0,l.qn)(m.STOP_VIDEO_GENERATION)});case 2:case"end":return e.stop()}}),e)})));case 8:return e.next=10,(0,l.ib)(m.GET_VOICE_TRACK_INITIATE,he);case 10:return e.next=12,(0,l.ib)(m.GET_IMAGE_VIDEO_KEYWORD_INITIATE,ae);case 12:return e.next=14,(0,l.Fm)(m.GET_VOICE_TRACK_PREVIEW_INITIATE,me);case 14:return e.next=16,(0,l.ib)(m.DELETE_VOICE_TRACK_INITIATE,ge);case 16:return e.next=18,(0,l.ib)(m.DELETE_GENERATED_VIDEO_INITIATE,Z.t8);case 18:return e.next=20,(0,l.ib)(m.GET_ARTICLE_AUDIOS,ee);case 20:return e.next=22,(0,l.ib)(m.CSV_GENERATION_INITIATE,Z.kC);case 22:return e.next=24,(0,l.ib)(m.GET_TRANSCRIPTION_SCENES_INITIATE,w);case 24:return e.next=26,(0,l.ib)(m.GENERATE_ASYNC_VIDEO,Z.JX);case 26:return e.next=28,(0,l.ib)(g.SUBSCRIBE_TO_VIDEO_GENERATION,Z.T4);case 28:return e.next=30,(0,l.ib)(m.GET_SCENE_LEVEL_AUDIO_REQUEST,fe);case 30:return e.next=32,(0,l.Fm)(m.GET_SENTENCE_KEYWORD_SUGGESTIONS_REQUEST,ve);case 32:return e.next=34,(0,l.ib)(m.SHARE_PREVIEW_REQUEST,xe);case 34:case"end":return e.stop()}}),G)}},66719:function(e,t,n){"use strict";n.d(t,{Fm:function(){return P},JX:function(){return M},T4:function(){return W},hE:function(){return V},kC:function(){return G},lw:function(){return L},t8:function(){return B}});var r=n(1413),s=n(74165),a=n(15861),i=n(51443),o=n.n(i),c=n(31881),l=n.n(c),u=n(64276),d=n(42599),p=n(69473),h=n(87074),m=n(91104),g=n(96161),f=n(35246),v=n(43862),x=n(40009),S=n(78503),y=n(89956),b=n(11043),j=n(48636),w=(0,s.Z)().mark(U),Z=(0,s.Z)().mark(L),k=(0,s.Z)().mark(F),C=(0,s.Z)().mark(V),I=(0,s.Z)().mark(B),T=(0,s.Z)().mark(M),E=(0,s.Z)().mark(G),A=(0,s.Z)().mark(W),_=function(e){return e.audioTracks.tracks},R=function(e){return e.myVideos.inProgressProjects},P=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.g.currentAuthenticatedUser();case 2:return e.sent,n=h.Z.proxyURL+d.Z.createVideoAPIv4+"/"+t,(r=(0,m.E3)())&&(n=d.Z.createTeamVideoAPIv4.format(r)+"/"+t),e.next=8,p.Z.get(n);case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.abortController,r=t.VideoCreationJson,a=d.Z.generateCSV,e.next=4,p.Z.post(a,r,{},n.token);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o,c,l,u,g,f,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.abortController,r=t.VideoCreationJson,e.next=3,x.g.currentAuthenticatedUser();case 3:if(e.sent,a=h.Z.proxyURL+d.Z.createVideoAPIv4,(i=(0,m.E3)())&&(a=d.Z.createTeamVideoAPIv4.format(i)),o={},c=JSON.stringify(r),!((2*c.length/1048576).toFixed(2)<10)){e.next=17;break}return e.next=14,p.Z.post(a,r,o,n.token);case 14:l=e.sent,e.next=40;break;case 17:return u=r.authorId,g="".concat(u,"/videoPayload/").concat("payload.json"),e.prev=21,f={level:"public",ACL:"public-read"},e.next=25,(0,y.d)();case 25:return e.next=27,S.Ke.put(g,c,f);case 27:return e.next=29,b.Z.Instance.GetUserUploadUrl(g,"public");case 29:if(!(e.sent.length>0)){e.next=35;break}return v={payloadURL:"public/".concat(g)},e.next=34,p.Z.post(a,v,o,n.token);case 34:l=e.sent;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(21);case 40:return e.abrupt("return",l);case 41:case"end":return e.stop()}}),e,null,[[21,37]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.exportId,r=t.isCSV,a="",a=r?d.Z.generateCSV+"/"+n:d.Z.createVideoAPIv4+"/"+n,(i=(0,m.E3)())&&(a=d.Z.createTeamVideoAPIv4.format(i)+"/"+n),e.next=7,p.Z.delete(a);case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(e){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={payload:null},r.prev=1,r.next=4,(0,u.RE)(P,e);case 4:n=r.sent,t.payload=n.data,r.next=10;break;case 8:r.prev=8,r.t0=r.catch(1);case 10:return r.abrupt("return",t);case 11:case"end":return r.stop()}}),w,null,[[1,8]])}function L(e){var t,n,r;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=1,n=t.responseId,s.next=5,(0,u.RE)(P,n);case 5:return r=s.sent,s.next=8,(0,u.gz)((0,j.getProgessDispatcher)(r.data));case 8:s.next=15;break;case 10:return s.prev=10,s.t0=s.catch(1),s.next=14,(0,u.gz)((0,j.getProgessDispatcher)());case 14:l().isCancel(s.t0)?o().getInstance().logEvent("video-generation-canceled"):(0,m.jy)("get-video-progress",s.t0.message);case 15:case"end":return s.stop()}}),Z,null,[[1,10]])}function F(e,t){var n,r,a;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,u.Ys)(R);case 2:return n=s.sent,s.next=5,(0,u.gz)((0,j.getVideoGenMessages)(t));case 5:r=t.payload.message.source,s.t0=t.payload.message.status,s.next="in-progress"===s.t0||"preprocessing-complete"===s.t0?9:"complete"===s.t0||"completed"===s.t0?10:"error"===s.t0?31:39;break;case 9:return s.abrupt("break",39);case 10:if("task"!==r){s.next=17;break}return s.next=13,(0,u.RE)(f.handleGetInprogressProjects,{params:null});case 13:(0,g.JQ)("Video Generation is completed"),o().getInstance().logEvent("video-generation-task-completed",{"project-id":t.payload.project_id,original_url:t.payload.message.original_url,output:t.payload.message.output,share_output:t.payload.message.share_output,source:t.payload.message.source}),s.next=28;break;case 17:return s.next=19,(0,u.Cs)(f.handleRefreshProject,{params:{project_id:t.payload.project_id,cognito_id:e}});case 19:if(!n||!n.length){s.next=28;break}if(-1==n.findIndex((function(e){return e.project_id==t.payload.project_id}))){s.next=28;break}return s.next=24,(0,u.gz)((0,j.videoGenCompleted)({projectId:t.payload.project_id,projectName:"",responseId:t.payload.response_id,URL:t.payload.message.output,srt:t.payload.message.srt,text:t.payload.message.text,vtt:t.payload.message.vtt,preview:t.payload.message.preview,thumbnail:t.payload.message.thumbnail,videoDuration:t.payload.message.videoDuration,isChanged:(0,m.DO)()}));case 24:return s.next=26,(0,u.RE)(f.handleGetInprogressProjects,{params:{username:e}});case 26:(0,g.JQ)("Video Generation is completed"),o().getInstance().logEvent("video-generation-async-completed",{"project-id":t.payload.project_id,original_url:t.payload.message.original_url,output:t.payload.message.output,share_output:t.payload.message.share_output,source:t.payload.message.source,containsTextToImage:!!t.payload.message.containsTextToImage});case 28:return s.next=30,(0,u.gz)((0,j.getVideoGenCompletionDispatcher)({responseId:t.payload.response_id}));case 30:return s.abrupt("break",39);case 31:if(a=!1,t.payload.message&&t.payload.message.error&&t.payload.message.error.message&&t.payload.message.error.message.indexOf("VIDEO_GENERATION_CANCELLED")>-1&&(t.payload.message.message="Video generation is cancelled",a=!0),"task"!==r){s.next=37;break}return s.next=36,(0,u.RE)(f.handleGetInprogressProjects,{params:null});case 36:a||(0,g.x2)("Video Generation errored");case 37:return(0,m.jy)("get-video-progress",t.payload.message.message),s.abrupt("break",39);case 39:case"end":return s.stop()}}),k)}function V(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield((0,s.Z)().mark((function t(){var n,a,i,o,c,l,d,p,h,g,x,S,y,b;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,a=n.VideoCreationJson,i=n.projectId,t.next=3,(0,u.Ys)(_);case 3:return(o=t.sent)&&o.length>0&&a.audio&&(c=a.audio.src&&a.audio.src.substring(a.audio.src.lastIndexOf("/")+1)||a.audio.internal&&a.audio.internal.substring(a.audio.internal.lastIndexOf("/")+1),(l=o.find((function(e){return e.audio_url.substring(e.audio_url.lastIndexOf("/")+1)===c})))&&(a.audio.duration=parseInt(l.duration))),t.next=7,(0,u.RE)(O,e.params);case 7:if(200!==(d=t.sent).status&&201!==d.status){t.next=76;break}if(!d.data.error){t.next=16;break}t.t0=d.data.error,t.next="VIDEO_MONTHLY_QUOTA_REACHED"===t.t0?13:16;break;case 13:return t.next=15,(0,u.gz)((0,j.generateVideoDispatcher)({failed:!0,error:"VIDEO_MONTHLY_QUOTA_REACHED"}));case 15:return t.abrupt("return",{v:void 0});case 16:return t.next=18,(0,u.gz)((0,j.generateVideoRequestSuccess)(d.data.response_id));case 18:if(!d.data.async){t.next=76;break}return p=!0,h={responseId:d.data.response_id,projectId:a.projectId,isError:!1},t.next=23,(0,u.gz)((0,j.getVideoExportID)(h));case 23:if(!p){t.next=76;break}return t.next=26,(0,u.S3)({videoResponse:(0,u.qn)(v.VIDEO_GENERATION_PROGRESS),timeout:(0,u.gw)(3e5)});case 26:if(g=t.sent,x=g.videoResponse,g.timeout,x){t.next=33;break}return t.next=32,U(d.data.response_id);case 32:x=t.sent;case 33:if(x&&x.payload){t.next=35;break}return t.abrupt("continue",23);case 35:if(x.payload.response_id===d.data.response_id){t.next=37;break}return t.abrupt("continue",23);case 37:x.payload.message.generateVideoStatusMessage=x.payload.message.message,S=1,x.payload.message.stage&&(S=x.payload.message.stage),t.t1=x.payload.message.status,t.next="in-progress"===t.t1?43:"preprocessing-complete"===t.t1?46:"complete"===t.t1||"completed"===t.t1?49:"error"===t.t1?64:74;break;case 43:return t.next=45,(0,u.gz)((0,j.generateVideoStatus)((0,r.Z)((0,r.Z)({},x.payload.message),{},{step:S,project_id:a.projectId,response_id:d.data.response_id})));case 45:return t.abrupt("break",74);case 46:return t.next=48,(0,u.gz)((0,j.generateVideoStatus)((0,r.Z)((0,r.Z)({},x.payload.message),{},{step:S,project_id:a.projectId,response_id:d.data.response_id})));case 48:return t.abrupt("break",74);case 49:if(!e.params.userName){t.next=52;break}return t.next=52,(0,u.RE)(f.handleGetInprogressProjects,{params:{username:e.params.userName}});case 52:return p=!1,t.next=55,(0,u.gz)((0,j.generateVideoStatus)({generateVideoStatusMessage:"Video Generated",progress:100,status:x.payload.message.status,step:4,project_id:a.projectId,response_id:d.data.response_id}));case 55:return t.next=57,(0,u.Ys)(R);case 57:if(y=t.sent,b=-1,y&&y.length&&(b=y.findIndex((function(e){return e.project_id==a.projectId&&e.inProgress}))),-1!=b){t.next=63;break}return t.next=63,(0,u.gz)((0,j.generateVideoDispatcher)((0,r.Z)((0,r.Z)({},x.payload.message),{},{isChanged:(0,m.DO)()})));case 63:return t.abrupt("break",74);case 64:return p=!1,x.payload.message&&x.payload.message.error&&x.payload.message.error.message&&x.payload.message.error.message.indexOf("VIDEO_GENERATION_CANCELLED")>-1&&(x.payload.message.message="Video generation is cancelled"),(0,m.jy)("get-video-progress",x.payload.message.message),t.next=69,(0,u.gz)((0,j.getVideoExportID)({responseId:"",projectId:i,isError:!0}));case 69:return t.next=71,(0,u.gz)((0,j.generateVideoStatus)({progress:!1,generateVideoStatusMessage:x.payload.message.message,project_id:a.projectId,response_id:d.data.response_id}));case 71:return t.next=73,(0,u.gz)((0,j.generateVideoDispatcher)({failed:!0,error:x.payload.message.error}));case 73:return t.abrupt("break",74);case 74:t.next=23;break;case 76:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:if("object"!=typeof(t=n.t0)){n.next=5;break}return n.abrupt("return",t.v);case 5:case 15:n.next=20;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,(0,u.gz)((0,j.generateVideoRequestFailed)());case 11:if(l().isCancel(n.t1)){n.next=17;break}return(0,m.jy)("generate-video",n.t1.message),n.next=15,(0,u.gz)((0,j.generateVideoDispatcher)(null));case 17:return o().getInstance().logEvent("video-generation-canceled"),n.next=20,(0,u.gz)((0,j.generateVideoDispatcher)({isCanceled:!0}));case 20:case"end":return n.stop()}}),C,null,[[0,7]])}function B(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.RE)(D,e.params);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),(0,m.jy)("delete-generated-video",t.t0.message);case 8:case"end":return t.stop()}}),I,null,[[0,5]])}function M(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.RE)(f.handleGetInprogressProjects,{params:{username:e.body.username}});case 3:t.next=11;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,(0,u.gz)((0,j.removeVideoGenNotification)(e.body.responseId));case 9:(0,g.JQ)("Video generation failed"),(0,m.jy)("async-video-generation",t.t0.message);case 11:case"end":return t.stop()}}),T,null,[[0,5]])}function G(e){var t,n,r,a;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.params.VideoCreationJson,s.next=4,(0,u.Ys)(_);case 4:return(n=s.sent)&&n.length>0&&t.audio&&(r=t.audio.src&&t.audio.src.substring(t.audio.src.lastIndexOf("/")+1)||t.audio.internal&&t.audio.internal.substring(t.audio.internal.lastIndexOf("/")+1),(a=n.find((function(e){return e.audio_url.substring(e.audio_url.lastIndexOf("/")+1)===r})))&&(t.audio.duration=parseInt(a.duration))),s.next=8,(0,u.RE)(N,e.params);case 8:s.sent,s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),(0,m.jy)("generate-csv",s.t0.message);case 14:case"end":return s.stop()}}),E,null,[[0,11]])}function W(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.username,n.next=3,(0,u.ib)(v.VIDEO_GENERATION_PROGRESS,F,t);case 3:case"end":return n.stop()}}),A)}},91834:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_REPONSE_ID:function(){return c},GET_SUMMARY_INITIATE:function(){return a},GET_SUMMARY_RESPONSE:function(){return i},SUMMARIZATION_STATUS:function(){return o},dispatchArticleResponseId:function(){return p},getSummary:function(){return l},getSummaryDispatcher:function(){return u},summarizationStatus:function(){return d}});var r=n(4942),s=n(61253),a="GET_SUMMARY_INITIATE",i="GET_SUMMARY_RESPONSE",o="SUMMARIZATION_STATUS",c="GET_REPONSE_ID",l=function(e,t,n){return(0,r.Z)({type:a,params:{username:e,body:t,fetchProjectName:n}},s.jw,i)},u=function(e){return{type:i,payload:e}},d=function(e){return{type:o,payload:e}},p=function(e){return{type:c,payload:e}}},52621:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(91834),a={data:{summary:[]},responseId:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_SUMMARY_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{data:t.payload,summarizationProgress:void 0});case s.SUMMARIZATION_STATUS:return(0,r.Z)((0,r.Z)({},e),{},{summarizationProgress:t.payload});case s.GET_REPONSE_ID:return(0,r.Z)((0,r.Z)({},e),{},{responseId:t.payload});default:return e}}},11450:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k},getSmmaryAPI:function(){return y},getSmmaryResponseAPI:function(){return b},handleGetSummary:function(){return j}});var r=n(74165),s=n(15861),a=n(31881),i=n.n(a),o=n(64276),c=n(42599),l=n(69473),u=n(91104),d=n(96161),p=n(45610),h=n(97509),m=n(43862),g=n(91834),f=(0,r.Z)().mark(j),v=(0,r.Z)().mark(w),x=(0,r.Z)().mark(Z),S=(0,r.Z)().mark(k),y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.post(c.Z.summaryAPIv2,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(c.Z.summaryAPIv2,"/").concat(t),e.next=4,l.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function j(e){var t,n,s,a,c,l,d,p,m,v,x;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,n={},r.prev=2,r.next=5,(0,o.gz)((0,g.summarizationStatus)(0));case 5:return s=t.username,a=t.body,c=t.fetchProjectName,a.clientId=u.I4,a.cognito_id=s,r.next=10,(0,o.RE)(y,a);case 10:if(200!==(n=r.sent).status&&201!==n.status){r.next=53;break}if(!n.data.async){r.next=45;break}return r.next=15,(0,o.gz)((0,g.dispatchArticleResponseId)(n.data.response_id));case 15:return r.next=17,(0,o.S3)({summaryResponse:w(),timeout:(0,o.gw)(18e6)});case 17:if(l=r.sent,d=l.summaryResponse,l.timeout,!d||!d.payload||d.payload.response_id!==n.data.response_id){r.next=33;break}return r.next=23,(0,o.RE)([i(),i().get],d.payload.response_url,{headers:{"Content-Type":"application/json"}});case 23:if(!(p=r.sent).data.error){r.next=28;break}throw new Error(p.data.error);case 28:n.data=p.data.data;case 29:return r.next=31,(0,o.gz)((0,g.summarizationStatus)(d.payload.progress));case 31:r.next=43;break;case 33:return r.next=35,(0,o.S3)({summaryResponse:(0,o.RE)(Z,n.data.response_id),timeout:(0,o.gw)(3e4)});case 35:if(m=r.sent,v=m.summaryResponse,m.timeout,!v){r.next=42;break}n=v,r.next=43;break;case 42:throw new Error("Summary response timeout");case 43:return r.next=45,(0,o.gz)((0,g.summarizationStatus)(100));case 45:if(!c){r.next=50;break}return r.next=48,(0,o.RE)(h.handleGetProjectName,{params:{username:s,projectName:(0,u.av)(n.data.title)||"Untitled Project"}});case 48:x=r.sent,n.data.projectName=(0,u.av)(x);case 50:return n.data.transcribe||(n.data.transcribe=!1,n.data.transcribe_sentences=[]),r.next=53,(0,o.gz)((0,g.getSummaryDispatcher)(n.data));case 53:r.next=60;break;case 55:return r.prev=55,r.t0=r.catch(2),r.next=59,(0,o.gz)((0,g.getSummaryDispatcher)(r.t0));case 59:(0,u.jy)("summarizer-api",r.t0.message);case 60:case"end":return r.stop()}}),f,null,[[2,55]])}function w(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=!0;case 1:if(!e){n.next=15;break}return n.next=4,(0,o.qn)(m.SUMMARIZATION_PROGRESS);case 4:t=n.sent,n.t0=t.payload.status,n.next="in-progress"===n.t0?8:"complete"===n.t0?11:13;break;case 8:return n.next=10,(0,o.gz)((0,g.summarizationStatus)(t.payload.progress));case 10:return n.abrupt("break",13);case 11:return e=!1,n.abrupt("return",t);case 13:n.next=1;break;case 15:case"end":return n.stop()}}),v)}function Z(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,o.RE)(b,e);case 3:if(!(t=n.sent)){n.next=9;break}return window.location.pathname!="/".concat(p.Z.stepTwo)&&(0,d.JQ)("Your article has been summarized"),n.abrupt("return",t);case 9:return n.next=11,(0,o.gw)(2e3);case 11:n.next=0;break;case 13:case"end":return n.stop()}}),x)}function k(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.ib)(g.GET_SUMMARY_INITIATE,j);case 2:case"end":return e.stop()}}),S)}},83103:function(e,t,n){"use strict";n.r(t),n.d(t,{LOAD_MEDIA_RESOURCES_BEGIN:function(){return r},RELEASE_MEDIA_RESOURCES:function(){return a},UPDATE_MEDIA_RESOURCES:function(){return s},UPDATE_URL_STATE:function(){return i},loadMediaResourcesBegin:function(){return o},releaseMediaResources:function(){return u},updateMediaResources:function(){return c},updateUrlState:function(){return l}});var r="LOAD_MEDIA_RESOURCES_BEGIN",s="UPDATE_MEDIA_RESOURCES",a="RELEASE_MEDIA_RESOURCES",i="UPDATE_URL_STATE",o=function(e,t){return{type:r,params:{imageURL:e,imageAssets:t}}},c=function(e){return{type:s,payload:e}},l=function(e){return{type:i,payload:e}},u=function(){return{type:a}}},5264:function(e,t,n){"use strict";n.r(t);var r=n(4942),s=n(1413),a=n(83103),i={mediaResources:{},downloadedMediaResources:{}};function o(e){for(var t=e.mediaResources,n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];URL.revokeObjectURL(t[s]),delete t[s]}return{}}function c(e,t){for(var n in t){var r=t[n];"string"==typeof r&&(e[n]=r)}return(0,s.Z)({},e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.UPDATE_MEDIA_RESOURCES:return(0,s.Z)((0,s.Z)({},e),{},{mediaResources:t.payload,downloadedMediaResources:c(e.downloadedMediaResources,t.payload)});case a.RELEASE_MEDIA_RESOURCES:return(0,s.Z)((0,s.Z)({},e),{},{mediaResources:o(e),downloadedMediaResources:{}});case a.UPDATE_URL_STATE:if(t.payload&&t.payload.config&&t.payload.status&&t.payload.config.url){var n=t.payload.config.url,l=new URL(n);return l.searchParams.delete("headrequest"),n=l.toString(),(0,s.Z)((0,s.Z)({},e),{},{urlStatus:(0,s.Z)((0,s.Z)({},e.urlStatus),{},(0,r.Z)({},n,t.payload.status))})}return e;default:return e}}},31821:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k},handleLoadMediaResources:function(){return Z},loadMediaResources:function(){return w}});var r=n(74165),s=n(15861),a=n(31881),i=n.n(a),o=n(16031),c=n.n(o),l=n(64276),u=n(11043),d=n(42599),p=n(69473),h=n(91104),m=n(83103),g=(0,r.Z)().mark(w),f=(0,r.Z)().mark(Z),v=(0,r.Z)().mark(k),x=function(e){return e.editVideoAllScene.mediaResources};function S(e){return y.apply(this,arguments)}function y(){return(y=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,o,c,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,h.eu)(t),e.prev=1,s=0,a=null,"video"!==(0,h.Q5)(n)){e.next=10;break}if(!(n.indexOf("videos/transcription")>-1||n.indexOf("samples/videos/video-editing")>-1)){e.next=10;break}return e.next=8,(0,h.A1)(n);case 8:(a=e.sent)&&(s=a.contentLength,n=a.videoUrl);case 10:if(a){e.next=15;break}return e.next=13,i().head(n);case 13:(o=e.sent).headers["content-length"]&&(s=parseInt(o.headers["content-length"]));case 15:return e.next=17,(0,h.IC)(n,s);case 17:if(!(c=e.sent)){e.next=20;break}return e.abrupt("return",{data:c});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(1);case 24:return e.prev=24,e.next=27,i().get(n,{responseType:"blob"});case 27:return l=e.sent,e.abrupt("return",l);case 31:e.prev=31,e.t1=e.catch(24);case 33:return u="".concat(d.Z.mediaResourcesURL,'/proxy-resources?url="').concat(n,'"'),e.abrupt("return",b(n,u,"",!0));case 35:case"end":return e.stop()}}),e,null,[[1,22],[24,31]])})))).apply(this,arguments)}function b(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)((0,r.Z)().mark((function e(t,n,s,a){var o,c,l,u,d,h,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=8;break}return e.next=4,p.Z.get(n,{},null,{responseType:"blob"});case 4:return o=e.sent,e.abrupt("return",o);case 8:if(!s){e.next=15;break}return e.next=11,p.Z.get(s,{},null,{responseType:"blob"});case 11:return c=e.sent,e.abrupt("return",c);case 15:if(!t){e.next=20;break}return e.next=18,i().get(t,{responseType:"blob"});case 18:return l=e.sent,e.abrupt("return",l);case 20:case 38:e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(0),u=!0,e.prev=25,a||!n){e.next=33;break}return e.next=29,p.Z.get(n,{},null,{responseType:"blob"});case 29:return d=e.sent,e.abrupt("return",d);case 33:return u=!1,e.next=36,i().get(t,{responseType:"blob"});case 36:return h=e.sent,e.abrupt("return",h);case 40:if(e.prev=40,e.t1=e.catch(25),!u){e.next=47;break}return e.next=45,i().get(t,{responseType:"blob"});case 45:return m=e.sent,e.abrupt("return",m);case 47:case"end":return e.stop()}}),e,null,[[0,22],[25,40]])})))).apply(this,arguments)}function w(e){var t,n,s,a,i,o,p,m,f,v,y,j,w,Z,k;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,l.Ys)(x);case 2:if(t=r.sent,n=[],s=[],a={},r.prev=6,!(e&&e.length>0)){r.next=76;break}i=0;case 9:if(!(i<e.length)){r.next=76;break}if(o=e[i],t[o]){r.next=35;break}if(!(0,h.jv)(o)){r.next=35;break}if(p=(0,h.eu)(o),!t[p]){r.next=18;break}t[o]=t[p],r.next=35;break;case 18:if(!u.Z.Instance.CheckUrlFromStorage(o)){r.next=27;break}return r.next=21,(0,l.Cs)(S,o);case 21:m=r.sent,t[o]=m,s.push(o),n.push(m),r.next=34;break;case 27:return f="".concat(d.Z.mediaResourcesURL,'/proxy-resources?url="').concat(o,'"'),r.next=30,(0,l.Cs)(b,o,f,"",!0);case 30:v=r.sent,t[o]=v,s.push(o),n.push(v);case 34:o!==p&&(t[p]=t[o],a[o]=p);case 35:if(!(4===n.length||i===e.length-1&&n.length>0)){r.next=73;break}return r.prev=36,r.next=39,(0,l.v_)(n);case 39:r.next=44;break;case 41:r.prev=41,r.t0=r.catch(36),(0,h.jy)("Downloadd-media-Resources",r.t0.message,"resource-download-wait-failed");case 44:y=0;case 45:if(!(y<s.length)){r.next=71;break}if(j=n[y],w=s[y],r.prev=48,Z=null,"string"==typeof resource!=0){r.next=60;break}if(!c().isArray(j)){r.next=57;break}return r.next=54,(0,l.v_)(j[1]);case 54:Z=r.sent,r.next=60;break;case 57:return r.next=59,(0,l.v_)(j);case 59:Z=r.sent;case 60:t[w]=Z?URL.createObjectURL(Z.data):w,r.next=67;break;case 63:r.prev=63,r.t1=r.catch(48),t[w]=w,(0,h.jy)("Downloadd-media-Resources",r.t1.message,"preview-resource-download-failed",{mediaUrl:w});case 67:a[w]&&(k=a[w],t[k]=t[w]);case 68:y++,r.next=45;break;case 71:n=[],s=[];case 73:i++,r.next=9;break;case 76:r.next=81;break;case 78:r.prev=78,r.t2=r.catch(6),(0,h.jy)("Downloadd-media-Resources",r.t2.message,"preview-resource-download-failed");case 81:case"end":return r.stop()}}),g,null,[[6,78],[36,41],[48,63]])}function Z(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=t.imageURL,t.imageAssets,r.next=5,(0,l.RE)(w,n);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),(0,h.jy)("Downloadd-media-Resources",r.t0.message,"preview-resource-download-failed");case 10:case"end":return r.stop()}}),f,null,[[1,7]])}function k(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.ib)(m.LOAD_MEDIA_RESOURCES_BEGIN,Z);case 2:case"end":return e.stop()}}),v)}},67384:function(e,t,n){"use strict";n.r(t),n.d(t,{SEND_EMAIL_VERIFICATION_FAILURE:function(){return a},SEND_EMAIL_VERIFICATION_REQUEST:function(){return r},SEND_EMAIL_VERIFICATION_SUCCESS:function(){return s},VERIFY_EMAIL_FAILURE:function(){return c},VERIFY_EMAIL_REQUEST:function(){return i},VERIFY_EMAIL_SUCCESS:function(){return o},sendEmailVerificationFailure:function(){return d},sendEmailVerificationRequest:function(){return l},sendEmailVerificationSuccess:function(){return u},verifyEmailFailure:function(){return m},verifyEmailRequest:function(){return p},verifyEmailSuccess:function(){return h}});var r="SEND_EMAIL_VERIFICATION_REQUEST",s="SEND_EMAIL_VERIFICATION_SUCCESS",a="SEND_EMAIL_VERIFICATION_FAILURE",i="VERIFY_EMAIL_REQUEST",o="VERIFY_EMAIL_SUCCESS",c="VERIFY_EMAIL_FAILURE",l=function(){return{type:r,params:{}}},u=function(e){return{type:s,payload:{result:e}}},d=function(e){return{type:a,payload:{error:e}}},p=function(e){return{type:i,params:{code:e}}},h=function(e){return{type:o,payload:{result:e}}},m=function(e){return{type:c,payload:{error:e}}}},72053:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(67384),a={emailVerificationResult:{success:!0},emailVerifiedResult:{success:!0}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SEND_EMAIL_VERIFICATION_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{emailVerificationResult:(0,r.Z)({success:!0},t.payload.result)});case s.SEND_EMAIL_VERIFICATION_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{emailVerificationResult:(0,r.Z)({success:!1},t.payload.error)});case s.VERIFY_EMAIL_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{emailVerifiedResult:(0,r.Z)({success:!0},t.payload.result)});case s.VERIFY_EMAIL_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{emailVerifiedResult:(0,r.Z)({success:!1},t.payload.error)});default:return e}}},22141:function(e,t,n){"use strict";n.r(t),n.d(t,{createFreeTrial:function(){return v},default:function(){return j},sendEmailVerificationRequest:function(){return x},verifyEmailRequest:function(){return S},watchSendEmailVerificationRequest:function(){return y},watchVerifyEmailRequest:function(){return b}});var r=n(74165),s=n(15861),a=n(64276),i=n(40009),o=(n(31881),n(69473)),c=n(80761),l=n(42599),u=n(92347),d=n(67384),p=(n(20140),(0,r.Z)().mark(x)),h=(0,r.Z)().mark(S),m=(0,r.Z)().mark(y),g=(0,r.Z)().mark(b),f=(0,r.Z)().mark(j),v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.Z.subscriptionBaseURLV2,e.next=3,o.Z.put(n,{email:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)([i.g,i.g.verifyCurrentUserAttribute],"email");case 3:return t.next=5,(0,a.gz)(d.sendEmailVerificationSuccess({success:!0}));case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,u.z)("send-email-verification-code",t.t0),e=(0,c.Z)(t.t0,"Send","email verification code"),t.next=13,(0,a.gz)(d.sendEmailVerificationFailure(e));case 13:case"end":return t.stop()}}),p,null,[[0,7]])}function S(e){var t,n,s,o,l,p;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.code,r.prev=1,r.next=4,(0,a.RE)([i.g,i.g.verifyCurrentUserAttributeSubmit],"email",t);case 4:return r.next=6,(0,a.RE)([i.g,i.g.currentAuthenticatedUser]);case 6:if(!(n=r.sent)){r.next=25;break}return r.next=10,(0,a.RE)([i.g,i.g.userAttributes],n);case 10:if(!((s=r.sent)&&s.length>0)){r.next=25;break}if(!(o=s.find((function(e){return"email_verified"===e.Name})))){r.next=25;break}if("true"!==o.Value){r.next=25;break}if(!(l=s.find((function(e){return"email"===e.Name})))){r.next=25;break}return r.prev=17,r.next=20,(0,a.RE)(v,l.Value);case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(17),(0,u.z)("create-freetrial-after-email-verification",r.t0,{email:l.Value});case 25:return r.next=27,(0,a.gz)(d.verifyEmailSuccess({success:!0}));case 27:r.next=35;break;case 29:return r.prev=29,r.t1=r.catch(1),(0,u.z)("verify-email",r.t1),p=(0,c.Z)(r.t1,"Verify","email"),r.next=35,(0,a.gz)(d.verifyEmailFailure(p));case 35:case"end":return r.stop()}}),h,null,[[1,29],[17,22]])}function y(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(x,t);case 3:case"end":return n.stop()}}),m)}function b(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(S,t);case 3:case"end":return n.stop()}}),g)}function j(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(d.SEND_EMAIL_VERIFICATION_REQUEST,y);case 2:return e.next=4,(0,a.Fm)(d.VERIFY_EMAIL_REQUEST,b);case 4:case"end":return e.stop()}}),f)}},5151:function(e,t,n){"use strict";n.r(t),n.d(t,{DELETE_AUDIO_FAV_INITIATE:function(){return m},DELETE_AUDIO_FAV_RESPONSE:function(){return g},DELETE_VISUAL_FAV_INITIATE:function(){return f},DELETE_VISUAL_FAV_RESPONSE:function(){return v},GET_AUDIO_FAV_INITIATE:function(){return i},GET_AUDIO_FAV_RESPONSE:function(){return o},GET_AUDIO_USERS_FAILURE:function(){return E},GET_AUDIO_USERS_REQUEST:function(){return I},GET_AUDIO_USERS_SUCCESS:function(){return T},GET_FAVORITE_VISUALS_FAILURE:function(){return Z},GET_FAVORITE_VISUALS_REQUEST:function(){return j},GET_FAVORITE_VISUALS_SUCCESS:function(){return w},GET_RECENT_VISUALS_FAILURE:function(){return b},GET_RECENT_VISUALS_REQUEST:function(){return S},GET_RECENT_VISUALS_SUCCESS:function(){return y},GET_USER_PREFERENCE_FAILURE:function(){return D},GET_USER_PREFERENCE_REQUEST:function(){return N},GET_USER_PREFERENCE_SUCCESS:function(){return O},GET_VISUAL_FAV_INITIATE:function(){return c},GET_VISUAL_FAV_RESPONSE:function(){return l},IMPORT_AUDIO_INITIATE:function(){return A},IMPORT_AUDIO_RESPONSE:function(){return _},SAVE_AUDIO_FAV_INITIATE:function(){return u},SAVE_AUDIO_FAV_RESPONSE:function(){return d},SAVE_RECENTS_VISUAL_REQUEST:function(){return x},SAVE_USER_PREFERENCE_INITIATE:function(){return R},SAVE_USER_PREFERENCE_RESPONSE:function(){return P},SAVE_VISUAL_FAV_INITIATE:function(){return p},SAVE_VISUAL_FAV_RESPONSE:function(){return h},SHARE_AUDIO_FAV_INITIATE:function(){return k},SHARE_AUDIO_FAV_RESPONSE:function(){return C},deleteAudioDispatcher:function(){return X},deleteAudioFavAndRecents:function(){return G},deleteVisualDispatcher:function(){return $},deleteVisualsFavAndRecents:function(){return W},getAudioDispatcher:function(){return J},getAudioFavAndRecents:function(){return U},getAudioUsersFailure:function(){return ce},getAudioUsersRequest:function(){return ie},getAudioUsersSuccess:function(){return oe},getFavoriteVisualsFailure:function(){return ae},getFavoriteVisualsRequest:function(){return re},getFavoriteVisualsSuccess:function(){return se},getRecentVisualsFailure:function(){return ne},getRecentVisualsRequest:function(){return ee},getRecentVisualsSuccess:function(){return te},getUserPreferenceDispatcher:function(){return me},getUserPreferenceFailure:function(){return pe},getUserPreferenceRequest:function(){return ue},getUserPreferenceSuccess:function(){return de},getVisualDispatcher:function(){return H},getVisualFavAndRecents:function(){return L},importAudio:function(){return B},importAudioDispatcher:function(){return Y},saveAudioDispatcher:function(){return K},saveAudioFavAndRecents:function(){return F},saveRecentImages:function(){return z},saveUserPreference:function(){return le},saveUserPreferenceDispatcher:function(){return he},saveVisualDispatcher:function(){return Q},saveVisualsFavAndRecents:function(){return M},shareAudioDispatcher:function(){return q},shareAudioFavAndRecents:function(){return V}});var r=n(1413),s=n(4942),a=n(61253),i="GET_AUDIO_FAV_INITIATE",o="GET_AUDIO_FAV_RESPONSE",c="GET_VISUAL_FAV_INITIATE",l="GET_VISUAL_FAV_RESPONSE",u="SAVE_AUDIO_FAV_INITIATE",d="SAVE_AUDIO_FAV_RESPONSE",p="SAVE_VISUAL_FAV_INITIATE",h="SAVE_VISUAL_FAV_RESPONSE",m="DELETE_AUDIO_FAV_INITIATE",g="DELETE_AUDIO_FAV_RESPONSE",f="DELETE_VISUAL_FAV_INITIATE",v="DELETE_VISUAL_FAV_RESPONSE",x="SAVE_RECENTS_VISUAL_REQUEST",S="GET_RECENT_VISUALS_REQUEST",y="GET_RECENT_VISUALS_SUCCESS",b="GET_RECENT_VISUALS_FAILURE",j="GET_FAVORITE_VISUALS_REQUEST",w="GET_FAVORITE_VISUALS_SUCCESS",Z="GET_FAVORITE_VISUALS_FAILURE",k="SHARE_AUDIO_FAV_INITIATE",C="SHARE_AUDIO_FAV_RESPONSE",I="GET_AUDIO_USERS_REQUEST",T="GET_AUDIO_USERS_SUCCESS",E="GET_AUDIO_USERS_FAILURE",A="IMPORT_AUDIO_INITIATE",_="IMPORT_AUDIO_RESPONSE",R="SAVE_USER_PREFERENCE_INITIATE",P="SAVE_USER_PREFERENCE_RESPONSE",N="GET_USER_PREFERENCE_REQUEST",O="GET_USER_PREFERENCE_SUCCESS",D="GET_USER_PREFERENCE_FAILURE",U=function(e){return(0,s.Z)({type:i,params:e},a.jw,o)},L=function(e){return(0,s.Z)({type:c,params:e},a.jw,l)},F=function(e){return(0,s.Z)({type:u,params:e},a.jw,d)},V=function(e,t,n){return(0,s.Z)({type:k,username:e,audioIds:t,shareList:n},a.jw,C)},B=function(e,t){return(0,s.Z)({type:A,username:e,audios:t},a.jw,_)},M=function(e){return(0,s.Z)({type:p,params:e},a.jw,h)},G=function(e){return(0,s.Z)({type:m,params:e},a.jw,g)},W=function(e){return(0,s.Z)({type:f,params:e},a.jw,v)},z=function(e){return{type:x,params:(0,r.Z)({},e)}},J=function(e){return{type:o,payload:e}},H=function(e){return{type:l,payload:e}},K=function(e){return{type:d,payload:e}},q=function(e){return{type:C,payload:e}},Y=function(e){return{type:_,payload:e}},Q=function(e){return{type:h,payload:e}},X=function(e){return{type:g,payload:e}},$=function(e){return{type:v,payload:e}},ee=function(e){return{type:S,params:{userName:e}}},te=function(e){return{type:y,payload:{visualsResult:e}}},ne=function(e){return{type:b,payload:{error:e}}},re=function(e){return{type:j,params:{userName:e}}},se=function(e){return{type:w,payload:{visualsResult:e}}},ae=function(e){return{type:Z,payload:{error:e}}},ie=function(e,t){return(0,s.Z)({type:I,params:{teamId:e,userId:t}},a.jw,T)},oe=function(e){return{type:T,payload:{audioUsersResult:e}}},ce=function(e){return{type:E,payload:{error:e}}},le=function(e){return(0,s.Z)({type:R,params:e},a.jw,P)},ue=function(e,t){return(0,s.Z)({type:N,params:{userId:e,category:t}},a.jw,O)},de=function(e){return{type:O,payload:{userPreferenceResult:e}}},pe=function(e){return{type:D,payload:{error:e}}},he=function(e){return{type:P,payload:e}},me=function(e){return{type:O,payload:e}}},50226:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(1413),a=n(37762),i=n(5151),o={audioFavsAndRecent:{audio:[],status:"pending"},visualFavsAndRecent:{visuals:[],status:"pending"},saveAudioStatus:"pending",saveVisualStatus:"pending",deleteAudioStatus:"pending",deleteVisualStatus:"pending",getFavoriteVisualsResult:{success:!0},favoriteVisualsResult:{Items:[]},getRecentVisualsResult:{success:!0},recentVisualsResult:{Items:[]}};function c(e,t){var n,r={},i=(0,a.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o.url]=o}}catch(e){i.e(e)}finally{i.f()}for(var c=0;c<t.length;c++){var l,u=t[c];(u=r[null===(l=u)||void 0===l?void 0:l.url]?(0,s.Z)((0,s.Z)({},u),{},{fav:!0,favVisualId:r[u.url].id}):(0,s.Z)((0,s.Z)({},u),{},{fav:!1,favVisualId:null}))&&(t[c]=u)}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,n={Items:[]},a={Items:[]},l=null;switch(t.type){case i.GET_AUDIO_FAV_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{audioFavsAndRecent:t.payload});case i.GET_VISUAL_FAV_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{visualFavsAndRecent:t.payload});case i.SAVE_AUDIO_FAV_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{saveAudioStatus:t.payload});case i.SAVE_VISUAL_FAV_RESPONSE:return a=e.favoriteVisualsResult,"success"===t.payload.status&&t.payload.visual&&"favorite"===(l=(0,s.Z)({},t.payload.visual)).category&&((a=(0,s.Z)({},a)).Items=(0,r.Z)(a.Items),a.Items.splice(0,0,l)),(0,s.Z)((0,s.Z)({},e),{},{saveVisualStatus:t.payload.status,favoriteVisualsResult:a});case i.DELETE_AUDIO_FAV_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{deleteAudioStatus:t.payload});case i.DELETE_VISUAL_FAV_RESPONSE:if(n=e.recentVisualsResult,a=e.favoriteVisualsResult,"success"===t.payload.status&&t.payload.visualId){var u=n.Items&&n.Items.findIndex((function(e){return e.id===t.payload.visualId}));if(u>-1)(n=(0,s.Z)({},n)).Items=(0,r.Z)(n.Items),n.Items.splice(u,1);else{var d=a.Items&&a.Items.findIndex((function(e){return e.id===t.payload.visualId}));d>-1&&((a=(0,s.Z)({},a)).Items=(0,r.Z)(a.Items),a.Items.splice(d,1))}}return(0,s.Z)((0,s.Z)({},e),{},{deleteVisualStatus:t.payload,recentVisualsResult:n,favoriteVisualsResult:a});case i.GET_FAVORITE_VISUALS_SUCCESS:return n=e.recentVisualsResult,t.payload.visualsResult&&t.payload.visualsResult.Items&&t.payload.visualsResult.Items.length>0&&n&&n.Items&&n.Items.length>0&&((n=(0,s.Z)({},n)).Items=(0,r.Z)(n.Items),c(t.payload.visualsResult.Items,n.Items)),(0,s.Z)((0,s.Z)({},e),{},{getFavoriteVisualsResult:{success:!0},favoriteVisualsResult:t.payload.visualsResult,recentVisualsResult:n});case i.GET_FAVORITE_VISUALS_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{getFavoriteVisualsResult:{success:!1}});case i.GET_RECENT_VISUALS_SUCCESS:return(n=t.payload.visualsResult)&&n.Items&&n.Items.length>0&&e.favoriteVisualsResult&&e.favoriteVisualsResult.Items&&e.favoriteVisualsResult.Items.length>0&&c(e.favoriteVisualsResult.Items,n.Items),(0,s.Z)((0,s.Z)({},e),{},{getRecentVisualsResult:{success:!0},recentVisualsResult:n});case i.GET_RECENT_VISUALS_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{getRecentVisualsResult:{success:!1}});case i.SHARE_AUDIO_FAV_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{shareAudioStatus:t.payload});case i.IMPORT_AUDIO_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{importAudioStatus:t.payload.status,importAudioMappings:t.payload.mappings});case i.GET_AUDIO_USERS_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{getAudioUsersResult:{success:!0},audioUsersResult:t.payload.audioUsersResult});case i.GET_AUDIO_USERS_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{getAudioUsersResult:{success:!1}});case i.SAVE_USER_PREFERENCE_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{saveUserPreferenceResult:t.payload});case i.GET_USER_PREFERENCE_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{getUserPreferenceResult:t.payload,getUserPreferenceStatus:"success"});case i.GET_USER_PREFERENCE_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{getUserPreferenceResult:t.payload,getUserPreferenceStatus:"failure"});default:return e}}},5392:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ee},deleteAudioAPI:function(){return U},deleteVisualAPI:function(){return L},getAudioFavAPI:function(){return T},getAudioUsers:function(){return F},getFavoriteVisuals:function(){return A},getRecentVisuals:function(){return _},getUserPrferenceAPI:function(){return E},handleDeleteAudioFav:function(){return K},handleDeleteVisualFav:function(){return q},handleGetAudioFav:function(){return V},handleGetUserPreference:function(){return B},handleGetVisualFav:function(){return M},handleImportAudio:function(){return J},handleSaveAudioFav:function(){return G},handleSaveRecents:function(){return Y},handleSaveUserPreference:function(){return W},handleSaveVisualFav:function(){return H},handleShareAudioFav:function(){return z},importAudioAPI:function(){return O},saveAudioFavAPI:function(){return R},saveUserPreferenceAPI:function(){return P},saveVisualFavAPI:function(){return D},shareAudioFavAPI:function(){return N},watchGetAudioUsersRequest:function(){return $},watchGetFavoriteVisualsRequest:function(){return Q},watchGetRecentVisualsRequest:function(){return X}});var r=n(37762),a=n(1413),i=n(74165),o=n(15861),c=n(64276),l=n(42599),u=n(69473),d=n(91104),p=n(5151),h=(0,i.Z)().mark(V),m=(0,i.Z)().mark(B),g=(0,i.Z)().mark(M),f=(0,i.Z)().mark(G),v=(0,i.Z)().mark(W),x=(0,i.Z)().mark(z),S=(0,i.Z)().mark(J),y=(0,i.Z)().mark(H),b=(0,i.Z)().mark(K),j=(0,i.Z)().mark(q),w=(0,i.Z)().mark(Y),Z=(0,i.Z)().mark(Q),k=(0,i.Z)().mark(X),C=(0,i.Z)().mark($),I=(0,i.Z)().mark(ee),T=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.musicBaseUrl,"/users/").concat(t,"/audio"),(0,d.E3)()&&(n="".concat(l.Z.musicBaseUrl,"/teams/").concat((0,d.E3)(),"/users/").concat(t,"/audio")),e.next=4,u.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.userPreferenceBaseUrl,"/users/").concat(t.userId),t.category&&(n+="?category=".concat(t.category)),e.next=4,u.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.visualsFavoritesBaseURL,"/users/").concat(t,"/visuals?category=favorite"),e.next=3,u.Z.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.visualsFavoritesBaseURL,"/users/").concat(t,"/visuals?category=recent"),e.next=3,u.Z.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.musicBaseUrl,"/audio"),(0,d.E3)()&&(t.body.teamId=(0,d.E3)(),n="".concat(l.Z.musicBaseUrl,"/teams/").concat((0,d.E3)(),"/audio")),e.next=4,u.Z.post(n,t.body);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.userPreferenceBaseUrl,"/"),e.next=3,u.Z.post(n,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){var s,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(n)&&n.length>1?(s=l.Z.musicBaseUrl+"/teams/"+(0,d.E3)()+"/users/"+t+"/audio/share",a={shareList:r,audioIds:n}):(Array.isArray(n)&&(n=n[0]),s=l.Z.musicBaseUrl+"/teams/"+(0,d.E3)()+"/users/"+t+"/audio/"+n+"/share",a=r),e.next=3,u.Z.post(s,a);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(l.Z.musicBaseUrl,"/teams/").concat((0,d.E3)(),"/users/").concat(t,"/audio/import"),e.next=3,u.Z.post(r,n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.visualsFavoritesBaseURL,"/visuals"),e.next=3,u.Z.post(n,t.body);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.id,s="".concat(l.Z.musicBaseUrl,"/users/").concat(n,"/audio/object/").concat(r),(0,d.E3)()&&(s="".concat(l.Z.musicBaseUrl,"/teams/").concat((0,d.E3)(),"/users/").concat(n,"/audio/object/").concat(r)),e.next=5,u.Z.delete(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.id,s="".concat(l.Z.visualsFavoritesBaseURL,"/users/").concat(n,"/visuals/object/").concat(r),e.next=4,u.Z.delete(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.musicBaseUrl,"/teams/").concat((0,d.E3)(),"/users/").concat(encodeURIComponent(t.userId),"/audio/users"),e.next=3,u.Z.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function V(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(T,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.getAudioDispatcher)({audio:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.getAudioDispatcher)({audio:[],status:"error"}));case 12:(0,d.jy)("get-audio-favorite",n.t0.message);case 13:case"end":return n.stop()}}),h,null,[[0,8]])}function B(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(E,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.getUserPreferenceDispatcher)({userPreference:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.getUserPreferenceDispatcher)({userPreference:[],status:"error"}));case 12:(0,d.jy)("get-user-preference",n.t0.message);case 13:case"end":return n.stop()}}),m,null,[[0,8]])}function M(e){var t,n,r;return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,c.RE)(A,e.params);case 3:return t=s.sent,s.next=6,(0,c.RE)(_,e.params);case 6:return n=s.sent,r=[],t.Items&&(r=r.concat(t.Items)),n.Items&&(r=r.concat(n.Items)),s.next=12,(0,c.gz)((0,p.getVisualDispatcher)({visuals:r,status:"success"}));case 12:s.next=19;break;case 14:return s.prev=14,s.t0=s.catch(0),s.next=18,(0,c.gz)((0,p.getVisualDispatcher)({visuals:[],status:"error"}));case 18:(0,d.jy)("get-visual-favorite",s.t0.message);case 19:case"end":return s.stop()}}),g,null,[[0,14]])}function G(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(R,e.params);case 3:return t.next=5,(0,c.gz)((0,p.saveAudioDispatcher)("success"));case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,c.gz)((0,p.saveAudioDispatcher)("failed"));case 11:(0,d.jy)("save-audio-favorite",t.t0.message);case 12:case"end":return t.stop()}}),f,null,[[0,7]])}function W(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(P,e.params);case 3:return t.next=5,(0,c.gz)((0,p.saveUserPreferenceDispatcher)("success"));case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,c.gz)((0,p.saveUserPreferenceDispatcher)("failed"));case 11:(0,d.jy)("save-user-preference",t.t0.message);case 12:case"end":return t.stop()}}),v,null,[[0,7]])}function z(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(N,e.username,e.audioIds,e.shareList);case 3:return t.next=5,(0,c.gz)((0,p.shareAudioDispatcher)("success"));case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,c.gz)((0,p.shareAudioDispatcher)("failed"));case 11:(0,d.jy)("share-audio-favorite",t.t0.message);case 12:case"end":return t.stop()}}),x,null,[[0,7]])}function J(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(O,e.username,e.audios);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.importAudioDispatcher)({status:"success",mappings:t}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.importAudioDispatcher)({status:"failed"}));case 12:(0,d.jy)("import-audio",n.t0.message);case 13:case"end":return n.stop()}}),S,null,[[0,8]])}function H(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(D,e.params);case 3:return t.sent,t.next=6,(0,c.gz)((0,p.saveVisualDispatcher)({status:"success",visual:e.params.body}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,c.gz)((0,p.saveVisualDispatcher)({status:"failed",visual:null}));case 12:(0,d.jy)("save-visual-favorite",t.t0.message);case 13:case"end":return t.stop()}}),y,null,[[0,8]])}function K(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(U,e.params);case 3:return t.next=5,(0,c.gz)((0,p.deleteAudioDispatcher)("success"));case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,c.gz)((0,p.deleteAudioDispatcher)("failed"));case 11:(0,d.jy)("delete-audio-favorite",t.t0.message);case 12:case"end":return t.stop()}}),b,null,[[0,7]])}function q(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(L,e.params);case 3:return t.sent,t.next=6,(0,c.gz)((0,p.deleteVisualDispatcher)({status:"success",visualId:e.params.id}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,c.gz)((0,p.deleteVisualDispatcher)({status:"failed",visualId:null}));case 12:(0,d.jy)("delete-visual-favorite",t.t0.message);case 13:case"end":return t.stop()}}),j,null,[[0,8]])}function Y(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield((0,i.Z)().mark((function t(){var n,o,d,h,m,g,f,v,x,S,y;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,t.next=3,(0,c.RE)(_,n.username);case 3:if(o=t.sent,d=o.Items.filter((function(e){return"recent"===e.category})),h={Items:[]},n.scenes)for(m=function(e){var t=d.findIndex((function(t){return t.url===n.imageURL[e]}));if(n.scenes[e]&&"Custom Intro Scene"!=n.scenes[e].sceneId&&"Outro Scene"!=n.scenes[e].sceneId){var r=!0,s=n.scenes[e].imageMetadata;if(s){var i=JSON.parse(s);!i||"transcriptionVideoThumbnails"!==i.library&&"pictory_textures"!==i.library||(r=!1)}if(r)if(-1==t){var o={id:Date.now().toString(),url:n.imageURL[e],category:"recent",cognito_id:n.username,date:new Date};n.allAssets[o.url]&&(o.imageMetadata=n.allAssets[o.url]);var c={body:o};u.Z.post("".concat(l.Z.visualsFavoritesBaseURL,"/visuals"),c.body),h.Items.push(c.body)}else{var p=d[t].id,m={body:{date:new Date}};u.Z.put("".concat(l.Z.visualsFavoritesBaseURL,"/users/").concat(n.username,"/visuals/object/").concat(p,"/recent"),m.body);var g=(0,a.Z)({},d[t]);g.date=m.body.date,h.Items.push(g)}}},g=0;g<n.scenes.length;g++)m(g);f={},(v={Items:[]}).Items=h.Items.map((function(e){if(1!=f[e.url])return f[e.url]=!0,e})),x=(0,r.Z)(d);try{for(x.s();!(S=x.n()).done;)y=S.value,void 0===f[y.url]&&(s,v.Items.push(y))}catch(e){x.e(e)}finally{x.f()}return t.next=14,(0,c.gz)((0,p.getRecentVisualsSuccess)(v));case 14:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t.catch(0),console.log("error: ",t.t1);case 7:case"end":return t.stop()}}),w,null,[[0,4]])}function Q(e){var t,n;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(A,t.userName);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,p.getFavoriteVisualsSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,p.getFavoriteVisualsFailure)(r.t0));case 13:(0,d.jy)("GET_FAVORITE_VISUALS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),Z,null,[[1,9]])}function X(e){var t,n;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(_,t.userName);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,p.getRecentVisualsSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,p.getRecentVisualsFailure)(r.t0));case 13:(0,d.jy)("GET_RECENT_VISUALS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),k,null,[[1,9]])}function $(e){var t,n;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(F,t);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,p.getAudioUsersSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,p.getAudioUsersFailure)(r.t0));case 13:(0,d.jy)("GET_AUDIO_USERS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),C,null,[[1,9]])}function ee(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ib)(p.GET_AUDIO_FAV_INITIATE,V);case 2:return e.next=4,(0,c.ib)(p.GET_VISUAL_FAV_INITIATE,M);case 4:return e.next=6,(0,c.ib)(p.SAVE_AUDIO_FAV_INITIATE,G);case 6:return e.next=8,(0,c.ib)(p.SAVE_VISUAL_FAV_INITIATE,H);case 8:return e.next=10,(0,c.ib)(p.DELETE_AUDIO_FAV_INITIATE,K);case 10:return e.next=12,(0,c.ib)(p.DELETE_VISUAL_FAV_INITIATE,q);case 12:return e.next=14,(0,c.ib)(p.SAVE_RECENTS_VISUAL_REQUEST,Y);case 14:return e.next=16,(0,c.ib)(p.GET_FAVORITE_VISUALS_REQUEST,Q);case 16:return e.next=18,(0,c.ib)(p.GET_RECENT_VISUALS_REQUEST,X);case 18:return e.next=20,(0,c.ib)(p.SHARE_AUDIO_FAV_INITIATE,z);case 20:return e.next=22,(0,c.ib)(p.GET_AUDIO_USERS_REQUEST,$);case 22:return e.next=24,(0,c.ib)(p.IMPORT_AUDIO_INITIATE,J);case 24:return e.next=26,(0,c.ib)(p.SAVE_USER_PREFERENCE_INITIATE,W);case 26:return e.next=28,(0,c.ib)(p.GET_USER_PREFERENCE_REQUEST,B);case 28:case"end":return e.stop()}}),I)}},82825:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_GOOGLE_DRIVE_FILES_FAILURE:function(){return m},GET_GOOGLE_DRIVE_FILES_REQUEST:function(){return p},GET_GOOGLE_DRIVE_FILES_SUCCESS:function(){return h},INITIALIZE_GOOGLE_DRIVE_FAILURE:function(){return a},INITIALIZE_GOOGLE_DRIVE_REQUEST:function(){return r},INITIALIZE_GOOGLE_DRIVE_SUCCESS:function(){return s},LOGIN_GOOGLE_DRIVE_FAILURE:function(){return c},LOGIN_GOOGLE_DRIVE_REQUEST:function(){return i},LOGIN_GOOGLE_DRIVE_SUCCESS:function(){return o},LOGOUT_GOOGLE_DRIVE_FAILURE:function(){return d},LOGOUT_GOOGLE_DRIVE_REQUEST:function(){return l},LOGOUT_GOOGLE_DRIVE_SUCCESS:function(){return u},getGoogleDriveFilesFailure:function(){return C},getGoogleDriveFilesRequest:function(){return Z},getGoogleDriveFilesSuccess:function(){return k},initializeGoogleDriveFailure:function(){return v},initializeGoogleDriveRequest:function(){return g},initializeGoogleDriveSuccess:function(){return f},loginGoogleDriveFailure:function(){return y},loginGoogleDriveRequest:function(){return x},loginGoogleDriveSuccess:function(){return S},logoutGoogleDriveFailure:function(){return w},logoutGoogleDriveRequest:function(){return b},logoutGoogleDriveSuccess:function(){return j}});var r="INITIALIZE_GOOGLE_DRIVE_REQUEST",s="INITIALIZE_GOOGLE_DRIVE_SUCCESS",a="INITIALIZE_GOOGLE_DRIVE_FAILURE",i="LOGIN_GOOGLE_DRIVE_REQUEST",o="LOGIN_GOOGLE_DRIVE_SUCCESS",c="LOGIN_GOOGLE_DRIVE_FAILURE",l="LOGOUT_GOOGLE_DRIVE_REQUEST",u="LOGOUT_GOOGLE_DRIVE_SUCCESS",d="LOGOUT_GOOGLE_DRIVE_FAILURE",p="GET_GOOGLE_DRIVE_FILES_REQUEST",h="GET_GOOGLE_DRIVE_FILES_SUCCESS",m="GET_GOOGLE_DRIVE_FILES_FAILURE",g=function(){return{type:r}},f=function(e){return{type:s,payload:{user:e}}},v=function(e){return{type:a,payload:{error:e}}},x=function(){return{type:i}},S=function(e){return{type:o,payload:{user:e}}},y=function(e){return{type:c,payload:{error:e}}},b=function(){return{type:l}},j=function(){return{type:u}},w=function(e){return{type:d,payload:{error:e}}},Z=function(e){return{type:p,params:{nextPageToken:e}}},k=function(e){return{type:h,payload:{filesResult:e}}},C=function(e){return{type:m,payload:{error:e}}}},34090:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(1413),a=n(82825),i={initializeGoogleDriveResult:{success:!0},user:null,loginGoogleDriveResult:{success:!0},logoutGoogleDriveResult:{success:!0},getGoogleDriveFilesResult:{success:!0},filesResult:{files:[]}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.INITIALIZE_GOOGLE_DRIVE_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{initializeGoogleDriveResult:{success:!0},user:t.payload.user});case a.INITIALIZE_GOOGLE_DRIVE_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{initializeGoogleDriveResult:(0,s.Z)({success:!1},t.payload.error),user:null});case a.LOGIN_GOOGLE_DRIVE_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{loginGoogleDriveResult:{success:!0},user:t.payload.user});case a.LOGIN_GOOGLE_DRIVE_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{loginGoogleDriveResult:(0,s.Z)({success:!1},t.payload.error),user:null});case a.LOGOUT_GOOGLE_DRIVE_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{logoutGoogleDriveResult:{success:!0},user:null,filesResult:{files:[]}});case a.LOGOUT_GOOGLE_DRIVE_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{logoutGoogleDriveResult:(0,s.Z)({success:!1},t.payload.error)});case a.GET_GOOGLE_DRIVE_FILES_REQUEST:return t.params.nextPageToken?e:(0,s.Z)((0,s.Z)({},e),{},{filesResult:{files:[]}});case a.GET_GOOGLE_DRIVE_FILES_SUCCESS:var n=(0,s.Z)({},e.filesResult);return n.files=(0,r.Z)(n.files),n.nextPageToken?(n.nextPageToken=t.payload.filesResult.nextPageToken,n.files=[].concat((0,r.Z)(n.files),(0,r.Z)(t.payload.filesResult.files))):n=t.payload.filesResult,(0,s.Z)((0,s.Z)({},e),{},{getGoogleDriveFilesResult:{success:!0},filesResult:n});case a.GET_GOOGLE_DRIVE_FILES_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{getGoogleDriveFilesResult:(0,s.Z)({success:!1},t.payload.error),filesResult:{files:[]}});default:return e}}},59609:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E},getGoogleDriveFilesRequest:function(){return Z},initializeGoogleDriveRequest:function(){return b},loginGoogleDriveRequest:function(){return j},logoutGoogleDriveRequest:function(){return w},watchGetGoogleDriveFilesRequest:function(){return T},watchInitializeGoogleDriveRequest:function(){return k},watchLoginGoogleDriveRequest:function(){return C},watchLogoutGoogleDriveRequest:function(){return I}});var r=n(37762),s=n(74165),a=n(80761),i=n(67520),o=n(30253),c=n(64276),l=n(91104),u=n(92347),d=n(82825),p=(0,s.Z)().mark(b),h=(0,s.Z)().mark(j),m=(0,s.Z)().mark(w),g=(0,s.Z)().mark(Z),f=(0,s.Z)().mark(k),v=(0,s.Z)().mark(C),x=(0,s.Z)().mark(I),S=(0,s.Z)().mark(T),y=(0,s.Z)().mark(E);function b(){var e,t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(i.zj,i.MN,"1056361281764-th3eo5k3qfbjcj9ef4dolj4oi6rdk6k7.apps.googleusercontent.com","https://www.googleapis.com/auth/drive.readonly");case 3:if(!i.MN.auth2.getAuthInstance().isSignedIn.get()){n.next=12;break}return e=i.MN.auth2.getAuthInstance().currentUser.get(),n.next=8,(0,c.RE)(i.MN.client.load,"drive","v3");case 8:return n.next=10,(0,c.gz)(d.initializeGoogleDriveSuccess(e));case 10:n.next=14;break;case 12:return n.next=14,(0,c.gz)(d.initializeGoogleDriveSuccess(null));case 14:n.next=22;break;case 16:return n.prev=16,n.t0=n.catch(0),(0,u.z)("init-google-drive",n.t0),t=(0,a.Z)(n.t0,"Initialize","Google Drive"),n.next=22,(0,c.gz)(d.initializeGoogleDriveFailure(t));case 22:case"end":return n.stop()}}),p,null,[[0,16]])}function j(){var e,t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(i.MN.auth2.getAuthInstance().signIn);case 3:if(!i.MN.auth2.getAuthInstance().isSignedIn.get()){n.next=12;break}return e=i.MN.auth2.getAuthInstance().currentUser.get(),n.next=8,(0,c.RE)(i.MN.client.load,"drive","v3");case 8:return n.next=10,(0,c.gz)(d.loginGoogleDriveSuccess(e));case 10:n.next=14;break;case 12:return n.next=14,(0,c.gz)(d.loginGoogleDriveSuccess(null));case 14:n.next=22;break;case 16:return n.prev=16,n.t0=n.catch(0),(0,u.z)("login-google-drive",n.t0),t=(0,a.Z)(n.t0,"Login","Google Drive"),n.next=22,(0,c.gz)(d.loginGoogleDriveFailure(t));case 22:case"end":return n.stop()}}),h,null,[[0,16]])}function w(){var e;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(i.MN.auth2.getAuthInstance().signOut);case 3:return t.next=5,(0,c.gz)(d.logoutGoogleDriveSuccess());case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,u.z)("logout-google-drive",t.t0),e=(0,a.Z)(t.t0,"Logout","Google Drive"),t.next=13,(0,c.gz)(d.logoutGoogleDriveFailure(e));case 13:case"end":return t.stop()}}),m,null,[[0,7]])}function Z(e){var t,n,p,h,m,f,v,x;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.nextPageToken,s.prev=1,n={orderBy:"modifiedTime",pageSize:15,fields:"nextPageToken, files(*)",pageToken:t||null},p=[],h=(0,r.Z)(l.Ai);try{for(h.s();!(m=h.n()).done;)f=m.value,p.push("mimeType = '".concat(o.lookup(f),"'"))}catch(e){h.e(e)}finally{h.f()}return n.q=p.join(" or "),s.next=9,(0,c.RE)(i.MN.client.drive.files.list,n);case 9:return v=s.sent,s.next=12,(0,c.gz)(d.getGoogleDriveFilesSuccess(v.result));case 12:s.next=20;break;case 14:return s.prev=14,s.t0=s.catch(1),(0,u.z)("get-google-drive-files",s.t0),x=(0,a.Z)(s.t0,"Get","Google Drive Files"),s.next=20,(0,c.gz)(d.getGoogleDriveFilesFailure(x));case 20:case"end":return s.stop()}}),g,null,[[1,14]])}function k(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,(0,c.RE)(b);case 3:case"end":return t.stop()}}),f)}function C(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,(0,c.RE)(j);case 3:case"end":return t.stop()}}),v)}function I(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,(0,c.RE)(w);case 3:case"end":return t.stop()}}),x)}function T(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,c.RE)(Z,t);case 3:case"end":return n.stop()}}),S)}function E(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Fm)(d.INITIALIZE_GOOGLE_DRIVE_REQUEST,k);case 2:return e.next=4,(0,c.Fm)(d.LOGIN_GOOGLE_DRIVE_REQUEST,C);case 4:return e.next=6,(0,c.Fm)(d.LOGOUT_GOOGLE_DRIVE_REQUEST,I);case 6:return e.next=8,(0,c.Fm)(d.GET_GOOGLE_DRIVE_FILES_REQUEST,T);case 8:case"end":return e.stop()}}),y)}},61087:function(e,t,n){"use strict";n.r(t),n.d(t,{CANCEL_TASK_FAILURE:function(){return S},CANCEL_TASK_REQUEST:function(){return v},CANCEL_TASK_SUCCESS:function(){return x},GET_PROJECT_COMPLETED_TASK_REQUEST:function(){return p},GET_PROJECT_COMPLETED_TASK_RESPONSE:function(){return h},MARK_TASK_COMPLETE_FAILURE:function(){return o},MARK_TASK_COMPLETE_REQUEST:function(){return a},MARK_TASK_COMPLETE_SUCCESS:function(){return i},OPEN_VIDEO_DOWNLOAD_TASK_FAILURE:function(){return u},OPEN_VIDEO_DOWNLOAD_TASK_REQUEST:function(){return c},OPEN_VIDEO_DOWNLOAD_TASK_SUCCESS:function(){return l},RESET_VIDEO_DOWNLOAD_TASK:function(){return d},STOP_PROJECT_ASYNC_VIDEO_GENERATION_FAILURE:function(){return f},STOP_PROJECT_ASYNC_VIDEO_GENERATION_REQUEST:function(){return m},STOP_PROJECT_ASYNC_VIDEO_GENERATION_SUCCESS:function(){return g},cancelTaskFailure:function(){return N},cancelTaskRequest:function(){return R},cancelTaskSuccess:function(){return P},getAllProjectTaskSuccessDispatcher:function(){return T},getCompletedTaskForProject:function(){return I},markTaskCompleteFailure:function(){return j},markTaskCompleteRequest:function(){return y},markTaskCompleteSuccess:function(){return b},openVideoDownloadTaskFailure:function(){return k},openVideoDownloadTaskRequest:function(){return w},openVideoDownloadTaskSuccess:function(){return Z},resetVideoDownloadTask:function(){return C},stopProjectAsyncVideoGenerationFailure:function(){return _},stopProjectAsyncVideoGenerationRequest:function(){return E},stopProjectAsyncVideoGenerationSuccess:function(){return A}});var r=n(4942),s=n(61253),a="MARK_TASK_COMPLETE_REQUEST",i="MARK_TASK_COMPLETE_SUCCESS",o="MARK_TASK_COMPLETE_FAILURE",c="OPEN_VIDEO_DOWNLOAD_TASK_REQUEST",l="OPEN_VIDEO_DOWNLOAD_TASK_SUCCESS",u="OPEN_VIDEO_DOWNLOAD_TASK_FAILURE",d="RESET_VIDEO_DOWNLOAD_TASK",p="GET_PROJECT_COMPLETED_TASK_REQUEST",h="GET_PROJECT_COMPLETED_TASK_RESPONSE",m="STOP_PROJECT_ASYNC_VIDEO_GENERATION_REQUEST",g="STOP_PROJECT_ASYNC_VIDEO_GENERATION_SUCCESS",f="STOP_PROJECT_ASYNC_VIDEO_GENERATION_FAILURE",v="CANCEL_TASK_REQUEST",x="CANCEL_TASK_SUCCESS",S="CANCEL_TASK_FAILURE",y=function(e,t,n){return{type:a,params:{username:e,projectId:t,taskId:n}}},b=function(){return{type:i}},j=function(e){return{type:o,payload:e}},w=function(e,t,n){return{type:c,params:{username:e,projectId:t,taskId:n}}},Z=function(e){return{type:l,payload:e}},k=function(e){return{type:u,payload:e}},C=function(){return{type:d}},I=function(e){return(0,r.Z)({type:p,params:{projectId:e}},s.jw,h)},T=function(e){return{type:h,payload:e}},E=function(e,t){return{type:m,params:{username:e,projectId:t}}},A=function(e,t){return{type:g,payload:{result:{username:e,projectId:t}}}},_=function(e){return{type:f,payload:{error:e}}},R=function(e,t,n){return{type:v,params:{projectId:t,username:e,taskId:n}}},P=function(e,t,n){return{type:x,payload:{result:{username:e,projectId:t,taskId:n}}}},N=function(e){return{type:S,payload:{error:e}}}},10591:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(48636),a=n(61087),i={taskCompleteResult:{success:!0},videoDownloadTask:null,videoDownloadTaskResult:{success:!0},stoppedProject:{},cancelledTask:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.MARK_TASK_COMPLETE_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{taskCompleteResult:{success:!0}});case a.MARK_TASK_COMPLETE_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{taskCompleteResult:{success:!1,error:t.payload}});case a.OPEN_VIDEO_DOWNLOAD_TASK_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{videoDownloadTaskResult:{success:!0},videoDownloadTask:t.payload});case a.OPEN_VIDEO_DOWNLOAD_TASK_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{videoDownloadTaskResult:{success:!1,error:t.payload},videoDownloadTask:null});case a.RESET_VIDEO_DOWNLOAD_TASK:return(0,r.Z)((0,r.Z)({},e),{},{videoDownloadTask:null});case s.VIDEO_GENERATION_COMPLETION:return(0,r.Z)((0,r.Z)({},e),{},{videoGenCompletion:t.payload});case a.GET_PROJECT_COMPLETED_TASK_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{projectTasks:t.payload});case a.STOP_PROJECT_ASYNC_VIDEO_GENERATION_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{stoppedProject:t.payload.result});case a.CANCEL_TASK_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{cancelledTask:t.payload.result});default:return e}}},24652:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U},handleCancelTaskRequest:function(){return _},handleGetCompletedTaskRequest:function(){return E},handleMarkTaskCompleteRequest:function(){return I},handleOpenVideoDownloadTaskRequest:function(){return T},handleStopProjectAsyncVideoGenerationRequest:function(){return A},watchCancelTaskRequest:function(){return D},watchGetCompletedTaskRequest:function(){return N},watchMarkTaskCompleteRequest:function(){return R},watchOpenVideoDownloadTaskRequest:function(){return P},watchStopProjectAsyncVideoGenerationRequest:function(){return O}});var r=n(74165),s=n(15861),a=n(64276),i=n(61087),o=n(35246),c=n(42599),l=n(69473),u=n(91104),d=(0,r.Z)().mark(I),p=(0,r.Z)().mark(T),h=(0,r.Z)().mark(E),m=(0,r.Z)().mark(A),g=(0,r.Z)().mark(_),f=(0,r.Z)().mark(R),v=(0,r.Z)().mark(P),x=(0,r.Z)().mark(N),S=(0,r.Z)().mark(O),y=(0,r.Z)().mark(D),b=(0,r.Z)().mark(U),j=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(c.Z.tasksBaseURL,"/projects/").concat(t,"/tasks/").concat(n,"/complete"),e.next=3,l.Z.put(s,{});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(c.Z.tasksBaseURL,"/projects/").concat(t,"/tasks/").concat(n),e.next=3,l.Z.get(s,{});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.Z.tasksBaseURL,(s=(0,u.E3)())&&(n="".concat(n,"/teams/").concat(s)),a="".concat(n,"/projects/").concat(t,"/tasks/state/completed"),e.next=6,l.Z.get(a,{});case 6:return i=e.sent,e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(c.Z.projectsBaseURL,"/projects/object/").concat(t,"/progress"),e.next=3,l.Z.delete(n,{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(c.Z.tasksBaseURL,"/projects/").concat(t,"/tasks/").concat(n,"/cancel"),e.next=3,l.Z.put(s,{});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function I(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,n=e.taskId,e.username,r.prev=1,r.next=4,(0,a.RE)(j,t,n);case 4:return r.next=6,(0,a.RE)(o.handleGetInprogressProjects,{params:null});case 6:return r.next=8,(0,a.gz)((0,i.markTaskCompleteSuccess)());case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,(0,a.gz)((0,i.markTaskCompleteFailure)(r.t0.message));case 14:(0,u.jy)("mark-task-complete",r.t0.message);case 15:case"end":return r.stop()}}),d,null,[[1,10]])}function T(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,n=e.taskId,e.username,r.prev=1,r.next=4,(0,a.RE)(w,t,n);case 4:return s=r.sent,r.next=7,(0,a.gz)((0,i.openVideoDownloadTaskSuccess)(s));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,i.openVideoDownloadTaskFailure)(r.t0.message));case 13:(0,u.jy)("open-video-download-task",r.t0.message);case 14:case"end":return r.stop()}}),p,null,[[1,9]])}function E(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,r.prev=1,r.next=4,(0,a.RE)(Z,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,i.getAllProjectTaskSuccessDispatcher)({tasks:n,status:"success",projectId:t}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,i.getAllProjectTaskSuccessDispatcher)({tasks:[],status:"error",projectId:t}));case 13:case"end":return r.stop()}}),h,null,[[1,9]])}function A(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.username,n=e.projectId,r.prev=1,r.next=4,(0,a.RE)(k,n);case 4:return r.next=6,(0,a.gz)((0,i.stopProjectAsyncVideoGenerationSuccess)(t,n));case 6:return r.next=8,(0,a.RE)(o.handleGetInprogressProjects,{params:{username:t}});case 8:return r.next=10,(0,a.RE)(o.handleGetInprogressGenProjects,{params:{username:t}});case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(1);case 14:case"end":return r.stop()}}),m,null,[[1,12]])}function _(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.username,n=e.projectId,s=e.taskId,r.prev=1,r.next=4,(0,a.RE)(C,n,s);case 4:return r.next=6,(0,a.gz)((0,i.cancelTaskSuccess)(t,n,s));case 6:return r.next=8,(0,a.RE)(o.handleGetInprogressProjects,{params:{username:t}});case 8:return r.next=10,(0,a.RE)(o.handleGetInprogressGenProjects,{params:{username:t}});case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(1);case 14:case"end":return r.stop()}}),g,null,[[1,12]])}function R(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(I,t);case 3:case"end":return n.stop()}}),f)}function P(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(T,t);case 3:case"end":return n.stop()}}),v)}function N(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(E,t);case 3:case"end":return n.stop()}}),x)}function O(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(A,t);case 3:case"end":return n.stop()}}),S)}function D(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(_,t);case 3:case"end":return n.stop()}}),y)}function U(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(i.MARK_TASK_COMPLETE_REQUEST,R);case 2:return e.next=4,(0,a.ib)(i.OPEN_VIDEO_DOWNLOAD_TASK_REQUEST,P);case 4:return e.next=6,(0,a.ib)(i.GET_PROJECT_COMPLETED_TASK_REQUEST,N);case 6:return e.next=8,(0,a.ib)(i.STOP_PROJECT_ASYNC_VIDEO_GENERATION_REQUEST,O);case 8:return e.next=10,(0,a.ib)(i.CANCEL_TASK_REQUEST,D);case 10:case"end":return e.stop()}}),b)}},33783:function(e,t,n){"use strict";n.r(t),n.d(t,{HIDE_LOADING_OVERLAY_REQUEST:function(){return s},SHOW_LOADING_OVERLAY_REQUEST:function(){return r},hideLoadingOverlayRequest:function(){return i},showLoadingOverlayRequest:function(){return a}});var r="SHOW_LOADING_OVERLAY_REQUEST",s="HIDE_LOADING_OVERLAY_REQUEST",a=function(e){var t=e.show,n=e.message;return{type:r,params:{show:t,message:n}}},i=function(){return{type:s}}},7561:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(33783),a={overlayProps:{show:!1,message:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SHOW_LOADING_OVERLAY_REQUEST:return(0,r.Z)((0,r.Z)({},e),{},{overlayProps:(0,r.Z)({},t.params)});case s.HIDE_LOADING_OVERLAY_REQUEST:return(0,r.Z)((0,r.Z)({},e),a);default:return e}}},66860:function(e,t,n){"use strict";n.r(t),n.d(t,{CHECK_IF_RELOGIN_REQUIRED:function(){return y},CHECK_IF_RELOGIN_REQUIRED_INITIATER:function(){return b},CHECK_IF_RELOGIN_REQUIRED_RESPONSE:function(){return j},FORGOT_PASSWORD:function(){return u},FORGOT_PASSWORD_RESPONSE:function(){return d},FORGOT_PASSWORD_SUBMIT:function(){return p},GOOGLE_LOGIN_INITIATER:function(){return f},LOGIN_ACTION_REPONSE:function(){return i},LOGIN_INITIATE:function(){return a},RESEND_ACTION_REPONSE:function(){return c},RESEND_INITIATE:function(){return o},SEND_EMAIL_VERIFICATION_CODE_REQUEST:function(){return S},SET_HOST_APP:function(){return x},SIGNUP_INITIATE:function(){return m},SIGNUP_REPONSE:function(){return g},USER_LOGGED_OUT:function(){return v},VERIFY_CODE_INITIATE:function(){return l},VERIFY_CODE_REPONSE:function(){return h},checkIfReloginRequiredDispatcher:function(){return V},checkIfReloginRequiredInitiater:function(){return _},forgotPassword:function(){return C},forgotPasswordDispatcher:function(){return N},forgotPasswordSubmit:function(){return I},googleLoginDispatcher:function(){return U},googleLoginInitiater:function(){return E},loginDispatcher:function(){return R},loginInitiaterAction:function(){return w},logoutInitiater:function(){return A},resendAuthDispatcher:function(){return P},resendSignupInitiater:function(){return Z},sendEmailVerificationCodeRequest:function(){return F},setHostApp:function(){return L},signUpDispatcher:function(){return D},signUpInitiater:function(){return T},verifyCodeDispatcher:function(){return O},verifyCodeInitater:function(){return k}});var r=n(4942),s=n(61253),a="LOGIN_INITIATE",i="LOGIN_ACTION_REPONSE",o="RESEND_INITIATE",c="RESEND_ACTION_REPONSE",l="VERIFY_CODE_INITIATE",u="FORGOT_PASSWORD",d="FORGOT_PASSWORD_RESPONSE",p="FORGOT_PASSWORD_SUBMIT",h="VERIFY_CODE_REPONSE",m="SIGNUP_INITIATE",g="SIGNUP_REPONSE",f="GOOGLE_LOGIN_INITIATER",v="USER_LOGGED_OUT",x="SET_HOST_APP",S="SEND_EMAIL_VERIFICATION_CODE_REQUEST",y="CHECK_IF_RELOGIN_REQUIRED",b="CHECK_IF_RELOGIN_REQUIRED_INITIATER",j="CHECK_IF_RELOGIN_REQUIRED_RESPONSE",w=function(e){return(0,r.Z)({type:a,params:e},s.jw,i)},Z=function(e){return(0,r.Z)({type:o,params:e},s.jw,c)},k=function(e){return(0,r.Z)({type:l,params:e},s.jw,h)},C=function(e){return(0,r.Z)({type:u,params:e},s.jw,d)},I=function(e){return(0,r.Z)({type:p,params:e},s.jw,h)},T=function(e){return(0,r.Z)({type:m,params:e},s.jw,g)},E=function(e){return{type:f,params:e}},A=function(){return{type:v}},_=function(e){return(0,r.Z)({type:b,params:e},s.jw,j)},R=function(e){return{type:i,payload:e}},P=function(e){return{type:c,payload:e}},N=function(e){return{type:d,payload:e}},O=function(e){return{type:h,payload:e}},D=function(e){return{type:g,payload:e}},U=function(e){return{type:g,payload:e}},L=function(e){return{type:x,payload:e}},F=function(){return{type:S}},V=function(e){return{type:j,payload:{status:e}}}},1648:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(66860),a={loginStatus:{code:"pending",message:"",userDetails:{}},verificationStatus:{code:"pending",message:""},signUpStatus:{code:"pending",message:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOGIN_ACTION_REPONSE:return(0,r.Z)((0,r.Z)({},e),{},{loginStatus:t.payload,reloginRequired:!1});case s.VERIFY_CODE_REPONSE:return(0,r.Z)((0,r.Z)({},e),{},{verificationStatus:t.payload});case s.FORGOT_PASSWORD_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{forgotPasswordStatus:t.payload});case s.SIGNUP_REPONSE:return(0,r.Z)((0,r.Z)({},e),{},{signUpStatus:t.payload});case s.SET_HOST_APP:return(0,r.Z)((0,r.Z)({},e),{},{hostApp:{name:t.payload.hostapp,user_id:t.payload.uid,timestamp:t.payload.ts,token:t.payload.token}});default:return e}}},48205:function(e,t,n){"use strict";n.r(t),n.d(t,{checkIfReloginRequired:function(){return _},default:function(){return B},forgotPasswordAPI:function(){return C},forgotPasswordSubmitAPI:function(){return I},googleLoginAPI:function(){return A},handleCheckIfReloginRequired:function(){return V},handleForgotPassword:function(){return O},handleForgotPasswordSubmit:function(){return D},handleGoogleLogin:function(){return L},handleResendAuth:function(){return P},handleSendEmailVerificationCode:function(){return F},handleSignUp:function(){return U},handleUserLogin:function(){return R},handleVerifyCode:function(){return N},resendAuthAPI:function(){return Z},sendEmailVerificationCode:function(){return E},signUpAPI:function(){return T},userLoginAPI:function(){return w},verifyCodeAPI:function(){return k}});var r=n(74165),s=n(15861),a=n(51443),i=n.n(a),o=n(40009),c=n(64276),l=n(42599),u=n(69473),d=n(92347),p=n(66860),h=(0,r.Z)().mark(R),m=(0,r.Z)().mark(P),g=(0,r.Z)().mark(N),f=(0,r.Z)().mark(O),v=(0,r.Z)().mark(D),x=(0,r.Z)().mark(U),S=(0,r.Z)().mark(L),y=(0,r.Z)().mark(F),b=(0,r.Z)().mark(V),j=(0,r.Z)().mark(B),w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,s=t.password,e.prev=1,e.next=4,o.g.signIn(n,s);case 4:return a=e.sent,e.abrupt("return",{code:"success",message:"success",userDetails:a});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{code:e.t0.code,message:e.t0.message,userDetails:{}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,e.prev=1,e.next=4,o.g.resendSignUp(n);case 4:return e.abrupt("return",{code:"success",message:"success"});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{code:e.t0.code,message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userName,s=t.verificationCode,a=t.verifyUserAttribute,e.prev=1,!a){e.next=7;break}return e.next=5,o.g.verifyCurrentUserAttributeSubmit(a,s);case 5:e.next=9;break;case 7:return e.next=9,o.g.confirmSignUp(n,s);case 9:return e.abrupt("return",{code:"success",message:"success"});case 12:return e.prev=12,e.t0=e.catch(1),(0,d.z)("verify-email-code",e.t0),e.abrupt("return",{code:"failed",message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,e.prev=1,e.next=4,o.g.forgotPassword(n);case 4:return e.sent,e.abrupt("return",{code:"success",message:"success"});case 8:return e.prev=8,e.t0=e.catch(1),s=e.t0.message,e.t0.code&&"CodeDeliveryFailureException"===e.t0.code&&(s="Unable to send password reset link at the moment"),(0,d.z)("forgot-password",e.t0),e.abrupt("return",{code:"failed",message:s});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,s=t.verificationCode,a=t.newPassword,e.prev=1,e.next=4,o.g.forgotPasswordSubmit(n,s,a);case 4:return e.abrupt("return",{code:"success",message:"success"});case 7:return e.prev=7,e.t0=e.catch(1),(0,d.z)("change-password",e.t0),e.abrupt("return",{code:"failed",message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,s=t.password,a=t.attributes,e.prev=1,e.next=4,o.g.signUp({username:n,password:s,attributes:a});case 4:return e.abrupt("return",{code:"success",message:"success"});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{code:"failed",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.g.verifyCurrentUserAttribute("email");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o.g.federatedSignIn({provider:"Google"}),t&&i().getInstance().logEvent("user-login",{"login-via":"Google"}),e.abrupt("return",{code:"success",message:"success"});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{code:"failed",message:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.credentialsBaseURL,"/reloginrequired"),e.next=3,u.Z.post(n,{lastLoginDate:t});case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function R(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(w,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.loginDispatcher)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.loginDispatcher)({code:"failed",message:"Login failed"}));case 12:case"end":return n.stop()}}),h,null,[[0,8]])}function P(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(Z,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.resendAuthDispatcher)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.resendAuthDispatcher)({code:"failed",message:"Resend email failed"}));case 12:case"end":return n.stop()}}),m,null,[[0,8]])}function N(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(k,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.verifyCodeDispatcher)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.verifyCodeDispatcher)({code:"failed",message:"verification failed"}));case 12:case"end":return n.stop()}}),g,null,[[0,8]])}function O(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(C,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.forgotPasswordDispatcher)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),(0,d.z)("forgot-password",n.t0),n.next=13,(0,c.gz)((0,p.forgotPasswordDispatcher)({code:"failed",message:"forgot password failed"}));case 13:case"end":return n.stop()}}),f,null,[[0,8]])}function D(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(I,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.verifyCodeDispatcher)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.verifyCodeDispatcher)({code:"failed",message:"new password submit failed"}));case 12:case"end":return n.stop()}}),v,null,[[0,8]])}function U(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(T,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.signUpDispatcher)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.signUpDispatcher)({code:"failed",message:"signUp failed"}));case 12:case"end":return n.stop()}}),x,null,[[0,8]])}function L(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(A,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.googleLoginDispatcher)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,p.googleLoginDispatcher)({code:"failed",message:"login failed"}));case 12:case"end":return n.stop()}}),S,null,[[0,8]])}function F(e){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.RE)(E);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,d.z)("send-email-verification-code",e.t0);case 8:case"end":return e.stop()}}),y,null,[[0,5]])}function V(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(_,e.params);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,p.checkIfReloginRequiredDispatcher)(t));case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),b,null,[[0,8]])}function B(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ib)(p.LOGIN_INITIATE,R);case 2:return e.next=4,(0,c.ib)(p.RESEND_INITIATE,P);case 4:return e.next=6,(0,c.ib)(p.VERIFY_CODE_INITIATE,N);case 6:return e.next=8,(0,c.ib)(p.FORGOT_PASSWORD,O);case 8:return e.next=10,(0,c.ib)(p.FORGOT_PASSWORD_SUBMIT,D);case 10:return e.next=12,(0,c.ib)(p.SIGNUP_INITIATE,U);case 12:return e.next=14,(0,c.ib)(p.GOOGLE_LOGIN_INITIATER,L);case 14:return e.next=16,(0,c.ib)(p.SEND_EMAIL_VERIFICATION_CODE_REQUEST,F);case 16:return e.next=18,(0,c.ib)(p.CHECK_IF_RELOGIN_REQUIRED_INITIATER,V);case 18:case"end":return e.stop()}}),j)}},11013:function(e,t,n){"use strict";n.r(t),n.d(t,{FIND_PROJECT_MUSIC_FAILURE:function(){return a},FIND_PROJECT_MUSIC_REQUEST:function(){return r},FIND_PROJECT_MUSIC_SUCCESS:function(){return s},GET_MUSIC_BY_ID_FAILURE:function(){return m},GET_MUSIC_BY_ID_REQUEST:function(){return p},GET_MUSIC_BY_ID_SUCCESS:function(){return h},GET_MUSIC_TRACKS_GENRES_FAILURE:function(){return y},GET_MUSIC_TRACKS_GENRES_REQUEST:function(){return x},GET_MUSIC_TRACKS_GENRES_SUCCESS:function(){return S},GET_MUSIC_TRACKS_MOODS_FAILURE:function(){return v},GET_MUSIC_TRACKS_MOODS_REQUEST:function(){return g},GET_MUSIC_TRACKS_MOODS_SUCCESS:function(){return f},GET_MUSIC_TRACKS_PURPOSES_FAILURE:function(){return w},GET_MUSIC_TRACKS_PURPOSES_REQUEST:function(){return b},GET_MUSIC_TRACKS_PURPOSES_SUCCESS:function(){return j},GET_PROJECT_MUSIC_FAILURE:function(){return c},GET_PROJECT_MUSIC_REQUEST:function(){return i},GET_PROJECT_MUSIC_SUCCESS:function(){return o},SEARCH_MUSIC_FAILURE:function(){return d},SEARCH_MUSIC_REQUEST:function(){return l},SEARCH_MUSIC_SUCCESS:function(){return u},findProjectMusicFailure:function(){return C},findProjectMusicRequest:function(){return Z},findProjectMusicSuccess:function(){return k},getMusicByIdFailure:function(){return O},getMusicByIdRequest:function(){return P},getMusicByIdSuccess:function(){return N},getMusicTracksGenresFailure:function(){return B},getMusicTracksGenresRequest:function(){return F},getMusicTracksGenresSuccess:function(){return V},getMusicTracksMoodsFailure:function(){return L},getMusicTracksMoodsRequest:function(){return D},getMusicTracksMoodsSuccess:function(){return U},getMusicTracksPurposesFailure:function(){return W},getMusicTracksPurposesRequest:function(){return M},getMusicTracksPurposesSuccess:function(){return G},getProjectMusicFailure:function(){return E},getProjectMusicRequest:function(){return I},getProjectMusicSuccess:function(){return T},searchMusicFailure:function(){return R},searchMusicRequest:function(){return A},searchMusicSuccess:function(){return _}});var r="FIND_PROJECT_MUSIC_REQUEST",s="FIND_PROJECT_MUSIC_SUCCESS",a="FIND_PROJECT_MUSIC_FAILURE",i="GET_PROJECT_MUSIC_REQUEST",o="GET_PROJECT_MUSIC_SUCCESS",c="GET_PROJECT_MUSIC_FAILURE",l="SEARCH_MUSIC_REQUEST",u="SEARCH_MUSIC_SUCCESS",d="SEARCH_MUSIC_FAILURE",p="GET_MUSIC_BY_ID_REQUEST",h="GET_MUSIC_BY_ID_SUCCESS",m="GET_MUSIC_BY_ID_FAILURE",g="GET_MUSIC_TRACKS_MOODS_REQUEST",f="GET_MUSIC_TRACKS_MOODS_SUCCESS",v="GET_MUSIC_TRACKS_MOODS_FAILURE",x="GET_MUSIC_TRACKS_GENRES_REQUEST",S="GET_MUSIC_TRACKS_GENRES_SUCCESS",y="GET_MUSIC_TRACKS_GENRES_FAILURE",b="GET_MUSIC_TRACKS_PURPOSES_REQUEST",j="GET_MUSIC_TRACKS_PURPOSES_SUCCESS",w="GET_MUSIC_TRACKS_PURPOSES_FAILURE",Z=function(e,t){return{type:r,params:{projectId:e,projectScript:t}}},k=function(e){return{type:s,payload:e}},C=function(e){return{type:a,payload:e}},I=function(e){return{type:i,params:{projectId:e}}},T=function(e){return{type:o,payload:e}},E=function(e){return{type:c,payload:e}},A=function(e){return{type:l,params:{searchParams:e}}},_=function(e){return{type:u,payload:e}},R=function(e){return{type:d,payload:e}},P=function(e){return{type:p,params:{musicId:e}}},N=function(e){return{type:h,payload:e}},O=function(e){return{type:m,payload:e}},D=function(){return{type:g}},U=function(e){return{type:f,payload:e}},L=function(e){return{type:v,payload:e}},F=function(){return{type:x}},V=function(e){return{type:S,payload:e}},B=function(e){return{type:y,payload:e}},M=function(){return{type:b}},G=function(e){return{type:j,payload:e}},W=function(e){return{type:w,payload:e}}},21990:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(11013),a={findProjectMusicResult:{success:!0},musicResult:{Items:[]},searchMusicResult:{success:!0},searchResult:{Items:[]},getMusicByIdResult:{success:!0},music:null,getMusicTracksMoodsResult:{success:!0},moods:[],getMusicTracksGenresResult:{success:!0},genres:[],getMusicTracksPurposesResult:{success:!0},purposes:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.FIND_PROJECT_MUSIC_REQUEST:case s.GET_PROJECT_MUSIC_REQUEST:return(0,r.Z)((0,r.Z)({},e),{},{musicResult:{Items:[]}});case s.FIND_PROJECT_MUSIC_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{findProjectMusicResult:{success:!0},musicResult:{Items:t.payload&&t.payload.map((function(e){if(e.id=parseInt(e.id),e.length){var t=parseInt(e.length);e.trackTimer="".concat(("0"+Math.floor(t/60)).slice(-2),":").concat(("0"+t%60).slice(-2))}return e.trackType="External",e}))}});case s.FIND_PROJECT_MUSIC_FAILURE:case s.GET_PROJECT_MUSIC_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{findProjectMusicResult:(0,r.Z)({success:!1},t.payload),musicResult:{Items:[]}});case s.GET_PROJECT_MUSIC_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{findProjectMusicResult:{success:!0},musicResult:{Items:t.payload&&t.payload.Items.map((function(e){if(e.id=parseInt(e.id),e.length){var t=parseInt(e.length);e.trackTimer="".concat(("0"+Math.floor(t/60)).slice(-2),":").concat(("0"+t%60).slice(-2))}return e.trackType=e.library,e}))}});case s.SEARCH_MUSIC_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{searchMusicResult:{success:!0},searchResult:(0,r.Z)((0,r.Z)({},t.payload),{},{Items:t.payload&&t.payload.Items.map((function(e){if(e.id=parseInt(e.id),e.length){var t=parseInt(e.length);e.trackTimer="".concat(("0"+Math.floor(t/60)).slice(-2),":").concat(("0"+t%60).slice(-2))}return e.trackType=e.library,e}))})});case s.SEARCH_MUSIC_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{searchMusicResult:(0,r.Z)({success:!1},t.payload),searchResult:{Items:[]}});case s.GET_MUSIC_BY_ID_REQUEST:return(0,r.Z)((0,r.Z)({},e),{},{music:null});case s.GET_MUSIC_BY_ID_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getMusicByIdResult:{success:!0},music:t.payload});case s.GET_MUSIC_BY_ID_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getMusicByIdResult:(0,r.Z)({success:!1},t.payload),music:null});case s.GET_MUSIC_TRACKS_MOODS_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getMusicTracksMoodsResult:{success:!0},moods:t.payload.data||[]});case s.GET_MUSIC_TRACKS_MOODS_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getMusicTracksMoodsResult:(0,r.Z)({success:!1},t.payload),moods:[]});case s.GET_MUSIC_TRACKS_GENRES_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getMusicTracksGenresResult:{success:!0},genres:t.payload.data||[]});case s.GET_MUSIC_TRACKS_GENRES_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getMusicTracksGenresResult:(0,r.Z)({success:!1},t.payload),genres:[]});case s.GET_MUSIC_TRACKS_PURPOSES_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getMusicTracksPurposesResult:{success:!0},purposes:t.payload.data||[]});case s.GET_MUSIC_TRACKS_PURPOSES_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getMusicTracksPurposesResult:(0,r.Z)({success:!1},t.payload),purposes:[]});default:return e}}},57258:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z},findProjectMusic:function(){return Z},findProjectMusicRequest:function(){return _},getMusicById:function(){return I},getMusicByIdRequest:function(){return N},getMusicTracksGenres:function(){return E},getMusicTracksGenresRequest:function(){return D},getMusicTracksMoods:function(){return T},getMusicTracksMoodsRequest:function(){return O},getMusicTracksPurposes:function(){return A},getMusicTracksPurposesRequest:function(){return U},getProjectMusic:function(){return k},getProjectMusicRequest:function(){return R},searchMusic:function(){return C},searchMusicRequest:function(){return P},watchFindProjectMusicRequest:function(){return L},watchGetMusicByIdRequest:function(){return B},watchGetMusicTracksGenresRequest:function(){return G},watchGetMusicTracksMoodsRequest:function(){return M},watchGetMusicTracksPurposesRequest:function(){return W},watchGetProjectMusicRequest:function(){return F},watchSearchMusicRequest:function(){return V}});var r=n(74165),s=n(15861),a=n(64276),i=n(11013),o=n(42599),c=n(69473),l=(0,r.Z)().mark(_),u=(0,r.Z)().mark(R),d=(0,r.Z)().mark(P),p=(0,r.Z)().mark(N),h=(0,r.Z)().mark(O),m=(0,r.Z)().mark(D),g=(0,r.Z)().mark(U),f=(0,r.Z)().mark(L),v=(0,r.Z)().mark(F),x=(0,r.Z)().mark(V),S=(0,r.Z)().mark(B),y=(0,r.Z)().mark(M),b=(0,r.Z)().mark(G),j=(0,r.Z)().mark(W),w=(0,r.Z)().mark(z),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(o.Z.musicBaseUrl,"/projects/").concat(t,"/music"),e.next=3,c.Z.post(s,{script:n});case 3:return(a=e.sent).data=a.data.filter((function(e){return"/assets/logo.png"!==e.audio_url})),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o.Z.musicBaseUrl,"/projects/").concat(t,"/music"),e.next=3,c.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o.Z.musicBaseUrl,"/search"),e.next=3,c.Z.post(n,t);case 3:return(s=e.sent).data.Items=s.data.Items.filter((function(e){return"/assets/logo.png"!==e.audio_url})),e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(o.Z.musicBaseUrl,"/music/").concat(t),e.next=4,c.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o.Z.musicBaseUrl,"/music/tracks/moods"),e.next=3,c.Z.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o.Z.musicBaseUrl,"/music/tracks/genres"),e.next=3,c.Z.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o.Z.musicBaseUrl,"/music/tracks/purposes"),e.next=3,c.Z.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,n=e.projectScript,r.prev=1,r.next=4,(0,a.RE)(Z,t,n);case 4:return s=r.sent,r.next=7,(0,a.gz)((0,i.findProjectMusicSuccess)(s));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,i.findProjectMusicFailure)({code:"FIND_PROJECT_MUSIC_FAILED",message:r.t0.message}));case 13:case"end":return r.stop()}}),l,null,[[1,9]])}function R(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,r.prev=1,r.next=4,(0,a.RE)(k,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,i.getProjectMusicSuccess)(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,i.getProjectMusicFailure)({code:"GET_PROJECT_MUSIC_FAILED",message:r.t0.message}));case 13:case"end":return r.stop()}}),u,null,[[1,9]])}function P(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.searchParams,r.prev=1,r.next=4,(0,a.RE)(C,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,i.searchMusicSuccess)(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,i.searchMusicFailure)({code:"SEARCH_MUSIC_FAILED",message:r.t0.message}));case 13:case"end":return r.stop()}}),d,null,[[1,9]])}function N(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.musicId,r.prev=1,r.next=4,(0,a.RE)(I,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,i.getMusicByIdSuccess)(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,i.getMusicByIdFailure)({code:"GET_MUSIC_BY_ID_FAILED",message:r.t0.message}));case 13:case"end":return r.stop()}}),p,null,[[1,9]])}function O(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(T);case 3:return e=t.sent,t.next=6,(0,a.gz)((0,i.getMusicTracksMoodsSuccess)(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,i.getMusicTracksMoodsFailure)({code:"GET_MUSIC_TRACKS_MOODS_FAILED",message:t.t0.message}));case 12:case"end":return t.stop()}}),h,null,[[0,8]])}function D(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(E);case 3:return e=t.sent,t.next=6,(0,a.gz)((0,i.getMusicTracksGenresSuccess)(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,i.getMusicTracksGenresFailure)({code:"GET_MUSIC_TRACKS_GENRES_FAILED",message:t.t0.message}));case 12:case"end":return t.stop()}}),m,null,[[0,8]])}function U(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(A);case 3:return e=t.sent,t.next=6,(0,a.gz)((0,i.getMusicTracksPurposesSuccess)(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,i.getMusicTracksPurposesFailure)({code:"GET_MUSIC_TRACKS_PURPOSES_FAILED",message:t.t0.message}));case 12:case"end":return t.stop()}}),g,null,[[0,8]])}function L(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(_,t);case 3:case"end":return n.stop()}}),f)}function F(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(R,t);case 3:case"end":return n.stop()}}),v)}function V(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(P,t);case 3:case"end":return n.stop()}}),x)}function B(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(N,t);case 3:case"end":return n.stop()}}),S)}function M(e){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.RE)(O);case 2:case"end":return e.stop()}}),y)}function G(e){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.RE)(D);case 2:case"end":return e.stop()}}),b)}function W(e){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.RE)(U);case 2:case"end":return e.stop()}}),j)}function z(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Fm)(i.FIND_PROJECT_MUSIC_REQUEST,L);case 2:return e.next=4,(0,a.Fm)(i.GET_PROJECT_MUSIC_REQUEST,F);case 4:return e.next=6,(0,a.Fm)(i.SEARCH_MUSIC_REQUEST,V);case 6:return e.next=8,(0,a.Fm)(i.GET_MUSIC_BY_ID_REQUEST,B);case 8:return e.next=10,(0,a.Fm)(i.GET_MUSIC_TRACKS_MOODS_REQUEST,M);case 10:return e.next=12,(0,a.Fm)(i.GET_MUSIC_TRACKS_GENRES_REQUEST,G);case 12:return e.next=14,(0,a.Fm)(i.GET_MUSIC_TRACKS_PURPOSES_REQUEST,W);case 14:case"end":return e.stop()}}),w)}},40158:function(e,t,n){"use strict";n.r(t),n.d(t,{BULK_DELETE_PROJECT_INITIATE:function(){return O},BULK_DELETE_PROJECT_RESPONSE:function(){return D},CLEAR_SHARE_VIDEO:function(){return W},DELETE_PROJECT_INITIATE:function(){return v},DELETE_PROJECT_RESPONSE:function(){return x},DUPLICATE_FOLDER_INITIATE:function(){return f},DUPLICATE_FOLDER_RESPONSE:function(){return g},DUPLICATE_PROJECT_FAILURE:function(){return se},DUPLICATE_PROJECT_REQUEST:function(){return ne},DUPLICATE_PROJECT_SUCCESS:function(){return re},EXPORT_PROJECT_FAILURE:function(){return oe},EXPORT_PROJECT_REQUEST:function(){return ae},EXPORT_PROJECT_SUCCESS:function(){return ie},FETCHING_PROJECTS:function(){return T},FETCHING_RECENT_PROJECTS:function(){return E},GENERATE_VIDEO_FROM_NOTIFICATION:function(){return R},GENERATE_VIDEO_FROM_NOTIFICATION_DISPATCH:function(){return P},GET_EOY_VIDEO:function(){return ce},GET_EOY_VIDEO_RESPONSE:function(){return le},GET_FOLDERS_INITIATE:function(){return F},GET_FOLDERS_RESPONSE:function(){return V},GET_IN_PROGRESS_GEN_PROJECTS_INITIATE:function(){return _},GET_IN_PROGRESS_GEN_PROJECTS_RESPONSE:function(){return A},GET_IN_PROGRESS_PROJECTS_INITIATE:function(){return y},GET_IN_PROGRESS_PROJECTS_RESPONSE:function(){return b},GET_MY_RECENT_VIDEOS_INITIATE:function(){return d},GET_MY_RECENT_VIDEOS_RESPONSE:function(){return p},GET_MY_VIDEOS_INITIATE:function(){return o},GET_MY_VIDEOS_RESPONSE:function(){return c},GET_MY_VIDEOS_RESPONSE_PERSONAL:function(){return l},GET_MY_VIDEOS_RESPONSE_PERSONAL_COUNT:function(){return u},GET_SHARED_PROJECT_MAPPING_BY_TEAMID_INITIATE:function(){return q},GET_SHARED_PROJECT_MAPPING_BY_TEAMID_PROJECTID_INITIATE:function(){return Q},GET_SHARED_PROJECT_MAPPING_BY_TEAMID_PROJECTID_RESPONSE:function(){return X},GET_SHARED_PROJECT_MAPPING_BY_TEAMID_RESPONSE:function(){return Y},IMPORT_PROJECT_RESPONSE:function(){return S},MIGRATE_PROJECT_INITIATE:function(){return $},MIGRATE_PROJECT_RESPONSE:function(){return ee},MOVE_PROJECT_INITIATE:function(){return U},MOVE_PROJECT_RESPONSE:function(){return L},OPEN_PREVIEW_PROJECT_COMPLETED:function(){return k},OPEN_PREVIEW_PROJECT_INITIATE:function(){return Z},OPEN_PROJECT_COMPLETED:function(){return w},OPEN_PROJECT_INITIATE:function(){return j},REFRESH_PROJECT:function(){return N},REMOVE_PROJECT_FROM_NOTIFICATION:function(){return C},REMOVE_PROJECT_FROM_REDUCER:function(){return I},RESET_INITIAL_STATE:function(){return te},SAVE_PROJECT_INITIATE:function(){return m},SAVE_PROJECT_RESPONSE:function(){return h},SEARCH_MY_VIDEOS_INITIATE:function(){return a},SEARCH_MY_VIDEOS_RESPONSE:function(){return i},SET_DELETED_PROJECTS:function(){return B},SHARE_PROJECT_INITIATE:function(){return H},SHARE_PROJECT_RESPONSE:function(){return K},SHARE_VIDEO_INITIATE:function(){return M},SHARE_VIDEO_RESPONSE:function(){return G},VALIDATE_VIDEO_QUOTA_REQUEST:function(){return z},VALIDATE_VIDEO_QUOTA_RESPONSE:function(){return J},bulkDeleteProject:function(){return xe},clearShareVideo:function(){return be},deleteBulkProjectDispatcher:function(){return Fe},deleteProject:function(){return ve},deleteProjectDispatcher:function(){return Le},downloadGeneratedVideo:function(){return Ae},duplicateFolder:function(){return fe},duplicateFolderDispatcher:function(){return Ue},duplicateProjectFailure:function(){return lt},duplicateProjectRequest:function(){return ot},duplicateProjectSuccess:function(){return ct},exportProjectFailure:function(){return pt},exportProjectRequest:function(){return ut},exportProjectSuccess:function(){return dt},fechingProjects:function(){return qe},fechingRecentProjects:function(){return Ye},getFolders:function(){return he},getFoldersDispatcher:function(){return Re},getInProgressGenProjects:function(){return Te},getInProgressGenProjectsDispatcher:function(){return Ge},getInProgressProjects:function(){return Ie},getInProgressProjectsDispatcher:function(){return Me},getMyEOYVideo:function(){return de},getMyReventVideosDispatcher:function(){return Oe},getMyVideos:function(){return pe},getMyVideosDispatcher:function(){return _e},getRecentVideos:function(){return me},getSharedProjectsMappingByTeamId:function(){return nt},getSharedProjectsMappingByTeamIdAndProjectId:function(){return st},getSharedProjectsMappingByTeamIdAndProjectIdDispatcher:function(){return at},getSharedProjectsMappingByTeamIdDispatcher:function(){return rt},importProjectCounter:function(){return Be},migrateProjects:function(){return ke},migrateProjectsDispatcher:function(){return Ce},moveProject:function(){return Se},moveProjectDispatcher:function(){return Ve},myEOYVideoDispatcher:function(){return Ne},openPreviewProject:function(){return Je},openProject:function(){return We},previewProjectOpened:function(){return He},projectOpened:function(){return ze},refreshProject:function(){return Xe},removeProject:function(){return Ee},removeProjectDispatch:function(){return Qe},removeProjectFromReducer:function(){return Ke},resetInitialState:function(){return it},saveProject:function(){return ge},saveProjectDispatcher:function(){return De},searchMyVideos:function(){return ue},searchMyVideosDispatcher:function(){return Pe},setDeletedProjects:function(){return $e},shareProject:function(){return we},shareProjectDispatcher:function(){return Ze},shareVideo:function(){return ye},shareVideoDispatcher:function(){return je},validateVideoQuotaRequest:function(){return et},validateVideoQuotaResponse:function(){return tt}});var r=n(4942),s=n(61253),a="SEARCH_MY_VIDEOS_INITIATE",i="SEARCH_MY_VIDEOS_RESPONSE",o="GET_MY_VIDEOS_INITIATE",c="GET_MY_VIDEOS_RESPONSE",l="GET_MY_VIDEOS_RESPONSE_PERSONAL",u="GET_MY_VIDEOS_RESPONSE_PERSONAL_COUNT",d="GET_MY_RECENT_VIDEOS_INITIATE",p="GET_MY_RECENT_VIDEOS_RESPONSE",h="SAVE_PROJECT_RESPONSE",m="SAVE_PROJECT_INITIATE",g="DUPLICATE_FOLDER_RESPONSE",f="DUPLICATE_FOLDER_INITIATE",v="DELETE_PROJECT_INITIATE",x="DELETE_PROJECT_RESPONSE",S="IMPORT_PROJECT_RESPONSE",y="GET_IN_PROGRESS_PROJECTS_INITIATE",b="GET_IN_PROGRESS_PROJECTS_RESPONSE",j="OPEN_PROJECT_INITIATE",w="OPEN_PROJECT_COMPLETED",Z="OPEN_PREVIEW_PROJECT_INITIATE",k="OPEN_PREVIEW_PROJECT_COMPLETED",C="REMOVE_PROJECT_FROM_NOTIFICATION",I="REMOVE_PROJECT_FROM_REDUCER",T="FETCHING_PROJECTS",E="FETCHING_RECENT_PROJECTS",A="GET_IN_PROGRESS_GEN_PROJECTS_RESPONSE",_="GET_IN_PROGRESS_GEN_PROJECTS_INITIATE",R="GENERATE_VIDEO_FROM_NOTIFICATION",P="GENERATE_VIDEO_FROM_NOTIFICATION_DISPATCH",N="REFRESH_PROJECT",O="BULK_DELETE_PROJECT_INITIATE",D="BULK_DELETE_PROJECT_RESPONSE",U="MOVE_PROJECT_INITIATE",L="MOVE_PROJECT_RESPONSE",F="GET_FOLDERS_INITIATE",V="GET_FOLDERS_RESPONSE",B="SET_DELETED_PROJECTS",M="SHARE_VIDEO_INITIATE",G="SHARE_VIDEO_RESPONSE",W="CLEAR_SHARE_VIDEO",z="VALIDATE_VIDEO_QUOTA_REQUEST",J="VALIDATE_VIDEO_QUOTA_RESPONSE",H="SHARE_PROJECT_INITIATE",K="SHARE_PROJECT_RESPONSE",q="GET_SHARED_PROJECT_MAPPING_BY_TEAMID_INITIATE",Y="GET_SHARED_PROJECT_MAPPING_BY_TEAMID_RESPONSE",Q="GET_SHARED_PROJECT_MAPPING_BY_TEAMID_PROJECTID_INITIATE",X="GET_SHARED_PROJECT_MAPPING_BY_TEAMID_PROJECTID_RESPONSE",$="MIGRATE_PROJECT_INITIATE",ee="MIGRATE_PROJECT_RESPONSE",te="RESET_INITIAL_STATE",ne="DUPLICATE_PROJECT_REQUEST",re="DUPLICATE_PROJECT_SUCCESS",se="DUPLICATE_PROJECT_FAILURE",ae="EXPORT_PROJECT_REQUEST",ie="EXPORT_PROJECT_SUCCESS",oe="EXPORT_PROJECT_FAILURE",ce="GET_EOY_VIDEO",le="GET_EOY_VIDEO_RESPONSE",ue=function(e,t,n,o,c,l,u){return(0,r.Z)({type:a,params:e,projectName:t,LastEvaluatedKey:n,sortBy:o,sortDirection:c,getPersonal:l,filter:u},s.jw,i)},de=function(e){return(0,r.Z)({type:ce,userId:e},s.jw,le)},pe=function(e,t,n,a,i,d,p){var h=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=c;return d&&(m=1==h?u:l),(0,r.Z)({type:o,params:e,lastEvaluatedKey:t,projectType:n,sortBy:a,sortDirection:i,getPersonal:d,filter:p,countVideos:h},s.jw,m)},he=function(e,t,n,a){return(0,r.Z)({type:F,userName:e,parentFolderPath:t,parentFolderId:n,lastEvaluatedKey:a},s.jw,V)},me=function(e,t,n,a){return(0,r.Z)({type:d,params:e,partitionKey:t,saveDate:n,sortKey:a},s.jw,p)},ge=function(e){return(0,r.Z)({type:m,params:e},s.jw,h)},fe=function(e){return(0,r.Z)({type:f,params:e},s.jw,g)},ve=function(e){return(0,r.Z)({type:v,params:e},s.jw,x)},xe=function(e,t){return(0,r.Z)({type:O,userName:e,projects:t},s.jw,D)},Se=function(e,t,n){return(0,r.Z)({type:U,userName:e,projects:t,parentId:n},s.jw,L)},ye=function(e,t){return{type:M,projectId:e,videos:t}},be=function(){return{type:W}},je=function(e){return{type:G,payload:e}},we=function(e,t,n){return(0,r.Z)({type:H,projectIds:e,cognito_id:t,shareList:n},s.jw,K)},Ze=function(e){return{type:K,payload:e}},ke=function(e){return(0,r.Z)({type:$,projects:e},s.jw,ee)},Ce=function(e){return{type:ee,payload:e}},Ie=function(e){return{type:y,params:{username:e}}},Te=function(e){return{type:_,params:{username:e}}},Ee=function(e){return{type:C,projectId:e}},Ae=function(e,t,n,a,i){return(0,r.Z)({type:R,projectId:e,responseId:t,URL:n,shareURL:a,isRemove:i},s.jw,P)},_e=function(e){return{type:e.getPersonal?e.countVideos?u:l:c,payload:e}},Re=function(e){return{type:V,payload:e}},Pe=function(e){return{type:i,payload:e}},Ne=function(e){return{type:le,payload:e}},Oe=function(e){return{type:p,payload:e}},De=function(e){return{type:h,payload:e}},Ue=function(e){return{type:g,payload:e}},Le=function(e){return{type:x,payload:e}},Fe=function(e){return{type:D,payload:e}},Ve=function(e){return{type:L,payload:e}},Be=function(e){return{type:S,payload:e}},Me=function(e){return{type:b,payload:e}},Ge=function(e){return{type:A,payload:e}},We=function(e,t,n){return(0,r.Z)({type:j,params:{project_id:e,projectAction:t,cognito_id:n}},s.jw,w)},ze=function(e){return{type:w,payload:e}},Je=function(e){return(0,r.Z)({type:Z,params:{previewId:e}},s.jw,k)},He=function(e){return{type:k,payload:e}},Ke=function(e){return{type:I,payload:e}},qe=function(e){return{type:T,payload:e}},Ye=function(e){return{type:E,payload:e}},Qe=function(){return{type:P,payload:!0}},Xe=function(e){return{type:N,payload:e}},$e=function(e){return{type:B,payload:e}},et=function(e){return(0,r.Z)({type:z,params:{project_id:e}},s.jw,J)},tt=function(e){return{type:J,payload:e}},nt=function(e){return(0,r.Z)({type:q,username:e},s.jw,Y)},rt=function(e){return{type:Y,payload:e}},st=function(e,t){return(0,r.Z)({type:Q,username:e,projectId:t},s.jw,X)},at=function(e){return{type:X,payload:e}},it=function(){return{type:te}},ot=function(e,t){return{type:ne,params:{projectId:e,userId:t}}},ct=function(e){return{type:re,payload:{result:e}}},lt=function(e){return{type:se,payload:{error:e}}},ut=function(e,t){return{type:ae,params:{projectId:e,userId:t}}},dt=function(e){return{type:ie,payload:{result:e}}},pt=function(e){return{type:oe,payload:{error:e}}}},14238:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(1413),a=n(40158),i=n(66860),o=n(91104),c=n(47439),l=n(48636),u=n(16031),d=n(61087),p={allVideos:{videos:[],status:"pending",LastEvaluatedKey:{}},folders:{folders:[],status:"pending",LastEvaluatedKey:{}},sharedVideo:{},duplicateProjectStatus:"pending",deleteProjectStatus:"pending",importStatus:"pending",inProgressProjects:[],activeProject:null,activeProjectFolder:{pathValue:"/"},openingProject:!0,projectAction:"",isFetchingProjects:!1,inProgressGenProjects:[],projectUpdated:!1,refreshProject:null,recentVideos:[],sort:{by:"saveDate",direction:"desc"},deletedProjects:[],validateVideoQuotaResult:{},duplicateProjectResult:{success:!0},exportProjectResult:{success:!0},exportProjectDetails:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=[],h=-1;switch(t.type){case i.USER_LOGGED_OUT:return(0,s.Z)({},e);case a.GET_MY_VIDEOS_RESPONSE:case a.GET_MY_VIDEOS_RESPONSE_PERSONAL:return(0,s.Z)((0,s.Z)({},e),{},{allVideos:t.payload});case a.GET_MY_VIDEOS_RESPONSE_PERSONAL_COUNT:return(0,s.Z)((0,s.Z)({},e),{},{allVideosCount:t.payload});case a.GET_FOLDERS_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{folders:t.payload,folderTree:(0,o.OH)(e.folderTree,t.payload.folders)});case a.SEARCH_MY_VIDEOS_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{allVideos:t.payload});case a.GET_EOY_VIDEO_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{eoyVideo:t.payload.url});case a.GET_MY_RECENT_VIDEOS_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{recentVideos:t.payload});case a.SHARE_VIDEO_RESPONSE:var m=(0,u.cloneDeep)(e.sharedVideo);return m[t.payload.projectId]=t.payload,(0,s.Z)((0,s.Z)({},e),{},{sharedVideo:m});case a.CLEAR_SHARE_VIDEO:return(0,s.Z)((0,s.Z)({},e),{},{sharedVideo:{}});case a.SAVE_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{duplicateProjectStatus:t.payload.status,currentProjectID:t.payload.projectId,currentProjectVersionId:t.payload.versionId,conflictData:t.payload.conflictData});case a.DUPLICATE_FOLDER_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{duplicateFolderStatus:t.payload});case a.DELETE_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{deleteProjectStatus:t.payload});case a.BULK_DELETE_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{bulkDeleteProjectStatus:t.payload});case a.MOVE_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{moveProjectStatus:t.payload});case a.IMPORT_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{importStatus:t.payload});case a.GET_IN_PROGRESS_PROJECTS_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{inProgressProjects:t.payload});case a.GET_IN_PROGRESS_GEN_PROJECTS_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{inProgressGenProjects:t.payload});case a.REMOVE_PROJECT_FROM_REDUCER:var g=(0,r.Z)(e.inProgressProjects),f=g.findIndex((function(e){return e.project_id==t.payload}));return-1!=f&&g.splice(f,1),(0,s.Z)((0,s.Z)({},e),{},{inProgressProjects:g});case a.OPEN_PROJECT_INITIATE:return t.params.projectAction===c.vY.OpenProject?(0,s.Z)((0,s.Z)({},e),{},{projectAction:t.params.projectAction,projectOpenError:!1,activeProject:null,openingProject:!0}):(0,s.Z)((0,s.Z)({},e),{},{projectAction:t.params.projectAction,projectOpenError:!1,otherProject:null,openingProject:!0});case a.OPEN_PROJECT_COMPLETED:return t.payload.projectAction===c.vY.loadView?(0,s.Z)((0,s.Z)({},e),{},{projectAction:t.payload.projectAction,projectOpenError:t.payload.projectOpenError,activeProject:t.payload.project,openingProject:!1,currentProjectID:t.payload.project.project_id,currentProjectVersionId:t.payload.project.versionId?t.payload.project.versionId:e.currentProjectVersionId}):t.payload.projectAction===c.vY.OpenProject?t.payload.project&&t.payload.project.projectType===c.cd.Folder?(0,s.Z)((0,s.Z)({},e),{},{projectAction:t.payload.projectAction,projectOpenError:t.payload.projectOpenError,activeProjectFolder:t.payload.project,openingProject:!1,currentProjectID:t.payload.project.project_id,currentProjectVersionId:t.payload.project.versionId?t.payload.project.versionId:e.currentProjectVersionId}):(0,s.Z)((0,s.Z)({},e),{},{projectAction:t.payload.projectAction,projectOpenError:t.payload.projectOpenError,activeProject:t.payload.project,openingProject:!1,currentProjectID:null===(v=t.payload.project)||void 0===v?void 0:v.project_id,currentProjectVersionId:null!==(x=t.payload.project)&&void 0!==x&&x.versionId?t.payload.project.versionId:e.currentProjectVersionId}):(0,s.Z)((0,s.Z)({},e),{},{projectAction:t.payload.projectAction,projectOpenError:t.payload.projectOpenError,otherProject:t.payload.project,openingProject:!1,currentProjectID:t.payload.project.project_id,currentProjectVersionId:t.payload.project.versionId?t.payload.project.versionId:e.currentProjectVersionId});var v,x;case a.OPEN_PREVIEW_PROJECT_INITIATE:return(0,s.Z)((0,s.Z)({},e),{},{projectAction:c.vY.OpenProject,projectOpenError:!1,activeProject:null,openingProject:!0});case a.OPEN_PREVIEW_PROJECT_COMPLETED:return(0,s.Z)((0,s.Z)({},e),{},{projectAction:c.vY.OpenProject,projectOpenError:t.payload.projectOpenError,activeProject:t.payload.project,openingProject:!1,currentProjectID:t.payload.project.project_id,currentProjectVersionId:t.payload.project.versionId?t.payload.project.versionId:e.currentProjectVersionId});case a.FETCHING_PROJECTS:return(0,s.Z)((0,s.Z)({},e),{},{isFetchingProjects:t.payload});case a.FETCHING_RECENT_PROJECTS:return(0,s.Z)((0,s.Z)({},e),{},{isFetchingRecentProjects:t.payload});case l.GENERATE_VID_MESSAGES:var S=(0,r.Z)(e.inProgressProjects),y=t.payload.payload.message.source;if("task"===y){var b=t.payload.payload.response_id,j=S.findIndex((function(e){return e.id===b}));if(j>-1){var w=(0,s.Z)({},S[j]);w.progressMessage=t.payload.payload.message.message,w.progress=t.payload.payload.message.progress,S.splice(j,1,w)}}else{var Z=t.payload.payload.project_id,k=S.findIndex((function(e){return e.project_id==Z&&(e.currentState==c.yc.VIDEO_GENERATING||e.currentState==c.yc.VIDEO_POSTING)}));if(-1!=k){var C=(0,s.Z)({},S[k]);C.message=t.payload.payload.message,C.progress=t.payload.payload.message.progress,S.splice(k,1,C)}}return(0,s.Z)((0,s.Z)({},e),{},{inProgressProjects:S});case l.UPDATE_ASYNC_PROJECT_STATUS_FROM_RESPONSE:n=(0,r.Z)(e.inProgressProjects);var I=t.payload,T=I.projectId,E=I.progressMessage,A=n.findIndex((function(e){return e.project_id==T&&(e.currentState==c.yc.VIDEO_GENERATING||e.currentState==c.yc.VIDEO_POSTING)}));if(-1!=A){var _=(0,s.Z)({},n[A]);_.message||(_.message=E.message,_.progress=E.message.progress,n[A]=_)}return(0,s.Z)((0,s.Z)({},e),{},{inProgressProjects:n});case a.GENERATE_VIDEO_FROM_NOTIFICATION_DISPATCH:return(0,s.Z)((0,s.Z)({},e),{},{projectUpdated:t.payload});case a.REFRESH_PROJECT:return(0,s.Z)((0,s.Z)({},e),{},{refreshProject:t.payload,currentProjectID:t.payload.project_id,currentProjectVersionId:t.payload.versionId?t.payload.versionId:e.currentProjectVersionId});case a.SET_DELETED_PROJECTS:return(0,s.Z)((0,s.Z)({},e),{},{deletedProjects:t.payload});case a.VALIDATE_VIDEO_QUOTA_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{validateVideoQuotaResult:t.payload});case d.STOP_PROJECT_ASYNC_VIDEO_GENERATION_SUCCESS:return(h=(n=(0,r.Z)(e.inProgressProjects)).findIndex((function(e){return"project"===e.progressSource&&e.project_id===t.payload.result.projectId})))>-1&&(n[h]=(0,s.Z)((0,s.Z)({},n[h]),{},{currentState:c.yc.CANCELLING})),(0,s.Z)((0,s.Z)({},e),{},{inProgressProjects:n});case d.CANCEL_TASK_SUCCESS:return(h=(n=(0,r.Z)(e.inProgressProjects)).findIndex((function(e){return"task"===e.progressSource&&e.projectId===t.payload.result.projectId&&e.id===t.payload.result.taskId})))>-1&&(n[h]=(0,s.Z)((0,s.Z)({},n[h]),{},{state:c.yc.CANCELLING})),(0,s.Z)((0,s.Z)({},e),{},{inProgressProjects:n});case a.SHARE_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{sharedProjectStatus:t.payload.status});case a.MIGRATE_PROJECT_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{migrateProjectsResponse:t.payload.response,migrateProjectsStatus:t.payload.status});case a.GET_SHARED_PROJECT_MAPPING_BY_TEAMID_RESPONSE:case a.GET_SHARED_PROJECT_MAPPING_BY_TEAMID_PROJECTID_RESPONSE:return(0,s.Z)((0,s.Z)({},e),{},{projectMapping:t.payload});case a.RESET_INITIAL_STATE:return(0,s.Z)({},p);case a.DUPLICATE_PROJECT_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{duplicateProjectResult:{success:!0,project:t.payload.result},allVideos:(0,s.Z)((0,s.Z)({},e.allVideos),{},{videos:[t.payload.result].concat((0,r.Z)(e.allVideos.videos))})});case a.DUPLICATE_PROJECT_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{duplicateProjectResult:(0,s.Z)({success:!1},t.payload.error)});case a.EXPORT_PROJECT_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{exportProjectResult:{success:!0},exportProjectDetails:t.payload.result});case a.EXPORT_PROJECT_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{exportProjectResult:(0,s.Z)({success:!1},t.payload.error),exportProjectDetails:null});default:return e}}},35246:function(e,t,n){"use strict";n.r(t),n.d(t,{bulkDeleteProjectAPI:function(){return le},currentProjectID:function(){return H},default:function(){return We},deleteProjectAPI:function(){return ce},duplicateFolderAPI:function(){return oe},duplicateProjectRequest:function(){return ge},exportProjectRequest:function(){return fe},getCurrentFolder:function(){return z},getCurrentProjectVersion:function(){return J},getEOYVideo:function(){return ve},getFoldersAPI:function(){return q},getInProgressTasks:function(){return $},getInprogressGenProjects:function(){return ee},getInprogressProjects:function(){return X},getMyRecentVideosAPI:function(){return Q},getMyVideosAPI:function(){return K},getPreviewProjectAPI:function(){return ne},getProjectAPI:function(){return te},getSharedProjectMappingByTeamId:function(){return he},getSharedProjectMappingByTeamIdProjectId:function(){return me},handleBulkDeleteProject:function(){return Te},handleDeleteProject:function(){return Ie},handleDownloadGeneratedVideo:function(){return Ue},handleDuplicateFolder:function(){return Ce},handleDuplicateProjectRequest:function(){return Be},handleEOYVideoFetchRequest:function(){return Ge},handleExportProjectRequest:function(){return Me},handleGetFolders:function(){return Se},handleGetInProgressProjectResponse:function(){return _e},handleGetInprogressGenProjects:function(){return Re},handleGetInprogressProjects:function(){return Ae},handleGetMyVideos:function(){return xe},handleGetRecentMyVideos:function(){return be},handleGetSharedProjectMappingByTeamId:function(){return Fe},handleGetSharedProjectMappingByTeamIdProjectId:function(){return Ve},handleMigrateProjects:function(){return Ze},handleMoveProjects:function(){return Ee},handleOpenPreviewProject:function(){return Ne},handleOpenProject:function(){return Pe},handleRefreshProject:function(){return Oe},handleRemoveProjectFromNotification:function(){return De},handleSaveProject:function(){return ke},handleSearchMyVideos:function(){return ye},handleShareProject:function(){return we},handleShareVideo:function(){return je},handleValidateVideoQuota:function(){return Le},migrateProjectsAPI:function(){return ae},moveProjectAPI:function(){return ue},saveProjectAPI:function(){return ie},searchMyVideosAPI:function(){return Y},shareProjectAPI:function(){return se},shareVideoAPI:function(){return re},validateVideoQuota:function(){return pe}});var r=n(37762),s=n(93433),a=n(74165),i=n(15861),o=n(78503),c=n(64276),l=n(42599),u=n(69473),d=n(91104),p=n(80761),h=n(47439),m=n(92347),g=n(48636),f=n(66719),v=n(40158),x=(0,a.Z)().mark(xe),S=(0,a.Z)().mark(Se),y=(0,a.Z)().mark(ye),b=(0,a.Z)().mark(be),j=(0,a.Z)().mark(je),w=(0,a.Z)().mark(we),Z=(0,a.Z)().mark(Ze),k=(0,a.Z)().mark(ke),C=(0,a.Z)().mark(Ce),I=(0,a.Z)().mark(Ie),T=(0,a.Z)().mark(Te),E=(0,a.Z)().mark(Ee),A=(0,a.Z)().mark(Ae),_=(0,a.Z)().mark(_e),R=(0,a.Z)().mark(Re),P=(0,a.Z)().mark(Pe),N=(0,a.Z)().mark(Ne),O=(0,a.Z)().mark(Oe),D=(0,a.Z)().mark(De),U=(0,a.Z)().mark(Ue),L=(0,a.Z)().mark(Le),F=(0,a.Z)().mark(Fe),V=(0,a.Z)().mark(Ve),B=(0,a.Z)().mark(Be),M=(0,a.Z)().mark(Me),G=(0,a.Z)().mark(Ge),W=(0,a.Z)().mark(We),z=function(e){return e.myVideos.activeProjectFolder},J=function(e){return e.myVideos.currentProjectVersionId},H=function(e){return e.myVideos.currentProjectID},K=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s,i,o){var c,p,h,m,g,f=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.length>6&&void 0!==f[6]&&f[6],p=f.length>7?f[7]:void 0,h=l.Z.projectsBaseURL+"/projects/"+t,!c&&(0,d.E3)()&&(h=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects"),m=r&&r.project_id?r.pathValue+r.project_id+"/":"/",h+="?pathValue=".concat(m,"&sortBy=").concat(i,"&sortDirection=").concat(o),s&&(h+="&projectType=".concat(s)),n&&(h+="&partitionKey="+n.partitionKey+"&lastEvaluatedKey="+n.sortKey),p&&(h+="&filter="+p),e.next=11,u.Z.get(h);case 11:return g=e.sent,e.abrupt("return",g.data);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i){return e.apply(this,arguments)}}(),q=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s,i,o,c){var p,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=l.Z.projectsBaseURL+"/projects/"+t,(0,d.E3)()&&!c&&(p=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects"),p+="?pathValue=".concat(s?r+s+"/":"/","&sortBy=").concat(i,"&sortDirection=").concat(o),p+="&projectType=".concat(h.cd.Folder),n&&(p+="&partitionKey="+n.partitionKey+"&lastEvaluatedKey="+n.sortKey),e.next=8,u.Z.get(p);case 8:return m=e.sent,e.abrupt("return",m.data);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s,i,o,c){var p,h,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=l.Z.projectsBaseURL+"/projects/"+t+"/search",(0,d.E3)()&&!o&&(p=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects/search"),"projectName"==s&&(s="keyword_projectName"),h={lastEvaluatedKey:r||0,size:50,order:i,search:n,sortBy:s,filter:c},e.next=6,u.Z.post(p,h);case 6:return m=e.sent,e.abrupt("return",m.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,s,a,i,o){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.Z.projectsBaseURL+"/projects/"+t+"/search",(0,d.E3)()&&(n=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects/search"),r={size:2,recent:!0,order:"desc",sortBy:"saveDate"},e.next=5,u.Z.post(n,r);case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,o,c,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.Z.projectsBaseURL+"/projects/"+t+"?inProgress=true",(0,d.E3)()&&(r=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects?inProgress=true"),e.next=4,u.Z.get(r);case 4:i=e.sent,o=i,c=i.data.LastEvaluatedKey;case 7:if(!c){e.next=17;break}return r=l.Z.projectsBaseURL+"/projects/"+t+"?inProgress=true&lastEvaluatedKey=".concat(c.sortKey),(0,d.E3)()&&(r=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects"+"?inProgress=true&lastEvaluatedKey=".concat(c.sortKey)),e.next=12,u.Z.get(r);case 12:i=e.sent,o.data.Items=[].concat((0,s.Z)(o.data.Items),(0,s.Z)(i.data.Items)),c=i.data.LastEvaluatedKey,e.next=7;break;case 17:return p=function(){return function(e,t){return new Date(t.saveDate).getTime()-new Date(e.saveDate).getTime()}},o.data.Items.sort(p()),e.abrupt("return",o.data.Items);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l.Z.tasksBaseURL,"/tasks/inprogress"),e.next=3,u.Z.get(t);case 3:return n=e.sent,e.abrupt("return",n.data.Items);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,o,c,p,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.Z.projectsBaseURL+"/projects/"+t+"?inProgress=true",(0,d.E3)()&&(r=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects?inProgress=true"),e.next=4,u.Z.get(r);case 4:if(s=e.sent,i=s.data,o=[],!(i&&i.Items&&i.Items.length>0)){e.next=18;break}c=0,p=0;case 10:if(!(p<i.Items.length)){e.next=18;break}if((h=i.Items[p]).inProgress&&h.currentState==n&&(c++,o.push(h)),6!==c){e.next=15;break}return e.abrupt("break",18);case 15:p++,e.next=10;break;case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=l.Z.projectsBaseURL+"/projects/object/"+t,(0,d.E3)()&&(s=n,r=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+s+"/projects/object/"+t),e.next=5,u.Z.get(r);case 5:return i=e.sent,e.abrupt("return",i.data);case 9:if(e.prev=9,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(l.Z.projectsBaseURL,"/preview/").concat(t,"/project"),e.next=4,u.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.Z.sharesBaseURL+"/projects/"+t+"/videos",(0,d.E3)()&&(r=l.Z.sharesBaseURL+"/teams/"+(0,d.E3)()+"/projects/"+t+"/videos"),e.next=4,u.Z.post(r,{videos:n});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="",(0,d.E3)()&&(s=(0,d.E3)()),Array.isArray(t)&&t.length>1?(i=l.Z.projectsBaseURL+"/teams/"+s+"/users/"+n+"/projects/share",o={shareList:r,projectIds:t}):(Array.isArray(t)&&(t=t[0]),i=l.Z.projectsBaseURL+"/teams/"+s+"/users/"+n+"/projects/object/"+t,o=r),e.next=5,u.Z.post(i,o);case 5:return c=e.sent,e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ae=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",(0,d.E3)()&&(n=(0,d.E3)()),r=l.Z.projectsBaseURL+"/teams/"+n+"/projects/migrate",e.next=5,u.Z.post(r,t);case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=l.Z.projectsBaseURL+"/projects",(0,d.E3)()&&(n.teamId=(0,d.E3)(),r=l.Z.projectsBaseURL+"/teams/".concat(n.teamId)+"/projects"),e.next=5,u.Z.post(r,n);case 5:return(s=e.sent)&&s.data,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=l.Z.projectsBaseURL+"/projects",(0,d.E3)()&&(n.teamId=(0,d.E3)(),r=l.Z.projectsBaseURL+"/teams/".concat(n.teamId)+"/projects"),e.next=5,u.Z.post(r,n);case 5:return(s=e.sent)&&s.data&&(0,d.xd)("folder-saved-api",{projectName:s.data.projectName,userId:s.data.cognito_id,project_id:s.data.project_id,versionId:s.data.versionId}),e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.Z.projectsBaseURL+"/projects/object/"+t,(0,d.E3)()&&(n=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/projects/object/"+t),e.next=4,u.Z.delete(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.Z.projectsBaseURL+"/projects/"+t+"/bulkdelete",(0,d.E3)()&&(r=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/projects/"+t+"/bulkdelete"),e.next=4,u.Z.post(r,n);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.Z.projectsBaseURL+"/projects/"+t+"/move",(0,d.E3)()&&(s=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects/move"),i={projects:n,parentId:r},e.next=5,u.Z.post(s,i);case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),de=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Ke.get(t,{level:"private",download:!0,cacheControl:"no-store",expires:0});case 2:return n=e.sent,e.next=5,new Response(n.Body).json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.project_id,r="".concat(l.Z.projectsBaseURL,"/projects/object/").concat(n,"/video/quota/validate"),(0,d.E3)()&&(r="".concat(l.Z.projectsBaseURL,"/teams/").concat((0,d.E3)(),"/projects/object/").concat(n,"/video/quota/validate")),e.next=5,u.Z.get(r);case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects/users",e.next=4,u.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=l.Z.projectsBaseURL+"/teams/"+(0,d.E3)()+"/users/"+t+"/projects/"+n+"/users",e.next=4,u.Z.get(r);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.projectId,s="".concat(l.Z.projectsBaseURL,"/projects/object/").concat(r,"/duplicate"),(0,d.E3)()&&(s="".concat(l.Z.projectsBaseURL,"/teams/").concat((0,d.E3)(),"/users/").concat(n,"/projects/object/").concat(r,"/duplicate")),e.next=5,u.Z.post(s,{});case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.projectId,s="".concat(l.Z.projectsBaseURL,"/projects/object/").concat(r,"/export"),(0,d.E3)()&&(s="".concat(l.Z.projectsBaseURL,"/teams/").concat((0,d.E3)(),"/users/").concat(n,"/projects/object/").concat(r,"/export")),e.next=5,u.Z.post(s,{});case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r="".concat(l.Z.eoyVideoBaseUrl),e.next=4,u.Z.get(r,{userId:n});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function xe(e){var t,n,r,s,i;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,c.gz)((0,v.fechingProjects)(!0));case 3:return a.next=5,(0,c.Ys)(z);case 5:return t=a.sent,a.next=8,(0,c.RE)(K,e.params,e.lastEvaluatedKey,t,e.projectType,e.sortBy,e.sortDirection,e.getPersonal,e.filter);case 8:if(n=a.sent,r=(0,d.bS)(n.Items),!(!e.lastEvaluatedKey&&n.LastEvaluatedKey&&n.Items.length<10)){a.next=17;break}return a.next=13,(0,c.RE)(K,e.params,n.LastEvaluatedKey,t,e.projectType,e.sortBy,e.sortDirection,e.getPersonal,e.filter);case 13:s=a.sent,i=(0,d.bS)(s.Items),r=r.concat(i),n.LastEvaluatedKey=s.LastEvaluatedKey;case 17:if(n.Items=r,n.count=0,r&&(n.count=r.length),!e.countVideos){a.next=25;break}return a.next=23,(0,c.gz)((0,v.getMyVideosDispatcher)({LastEvaluatedKey:n.LastEvaluatedKey,count:n.count,status:"success",getPersonal:e.getPersonal,countVideos:e.countVideos}));case 23:a.next=27;break;case 25:return a.next=27,(0,c.gz)((0,v.getMyVideosDispatcher)({videos:r,LastEvaluatedKey:n.LastEvaluatedKey,status:"success",getPersonal:e.getPersonal,countVideos:e.countVideos}));case 27:return a.next=29,(0,c.gz)((0,v.fechingProjects)(!1));case 29:a.next=38;break;case 31:return a.prev=31,a.t0=a.catch(0),a.next=35,(0,c.gz)((0,v.fechingProjects)(!1));case 35:return a.next=37,(0,c.gz)((0,v.getMyVideosDispatcher)({videos:[],LastEvaluatedKey:{},status:"error",getPersonal:e.getPersonal}));case 37:(0,m.z)("get-all-project",a.t0);case 38:case"end":return a.stop()}}),x,null,[[0,31]])}function Se(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(q,e.userName,e.LastEvaluatedKey,e.parentFolderPath,e.parentFolderId,e.sortBy,e.sortDirection,e.getPersonal);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,v.getFoldersDispatcher)({folders:t.Items,LastEvaluatedKey:t.LastEvaluatedKey,status:"success-".concat(e.parentFolderId),parentid:e.parentFolderId}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,v.getFoldersDispatcher)({folders:[],LastEvaluatedKey:{},status:"error"}));case 12:(0,m.z)("get-all-project",n.t0);case 13:case"end":return n.stop()}}),S,null,[[0,8]])}function ye(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,c.gz)((0,v.fechingProjects)(!0));case 3:return r.next=5,(0,c.RE)(Y,e.params,e.projectName,e.LastEvaluatedKey,e.sortBy,e.sortDirection,e.getPersonal,e.filter);case 5:return t=r.sent,n=(0,d.bS)(t.Items),r.next=9,(0,c.gz)((0,v.searchMyVideosDispatcher)({videos:n,LastEvaluatedKey:t.LastEvaluatedKey,status:"success"}));case 9:return r.next=11,(0,c.gz)((0,v.fechingProjects)(!1));case 11:r.next=19;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,(0,c.gz)((0,v.fechingProjects)(!1));case 17:return r.next=19,(0,c.gz)((0,v.searchMyVideosDispatcher)({videos:[],LastEvaluatedKey:{},status:"error"}));case 19:case"end":return r.stop()}}),y,null,[[0,13]])}function be(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.gz)((0,v.fechingRecentProjects)(!0));case 3:return n.next=5,(0,c.RE)(Q,e.params);case 5:return t=n.sent,n.next=8,(0,c.gz)((0,v.getMyReventVideosDispatcher)({videos:t,status:"success"}));case 8:return n.next=10,(0,c.gz)((0,v.fechingRecentProjects)(!1));case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,(0,c.gz)((0,v.fechingRecentProjects)(!1));case 16:return n.next=18,(0,c.gz)((0,v.getMyReventVideosDispatcher)({videos:[],status:"error"}));case 18:case"end":return n.stop()}}),b,null,[[0,12]])}function je(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=!1,r.prev=1,r.next=4,(0,c.RE)(re,e.projectId,e.videos);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.shareVideoDispatcher)({status:"success",projectId:e.projectId,shareId:n.shareId}));case 7:t=!0,r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,(0,c.gz)((0,v.shareVideoDispatcher)({status:"failed",projectId:e.projectId}));case 14:(0,m.z)("share-project",r.t0);case 15:return r.abrupt("return",t);case 16:case"end":return r.stop()}}),j,null,[[1,10]])}function we(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=!1,n.prev=1,n.next=4,(0,c.RE)(se,e.projectIds,e.cognito_id,e.shareList);case 4:return n.sent,n.next=7,(0,c.gz)((0,v.shareProjectDispatcher)({status:"success",projectId:e.projectId}));case 7:t=!0,n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,(0,c.gz)((0,v.shareProjectDispatcher)({status:"failed",projectId:e.projectId}));case 14:(0,m.z)("share-project",n.t0);case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}}),w,null,[[1,10]])}function Ze(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=!1,r.prev=1,r.next=4,(0,c.RE)(ae,e.projects);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.migrateProjectsDispatcher)({status:"success",response:n}));case 7:t=!0,r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,(0,c.gz)((0,v.migrateProjectsDispatcher)({status:"failed"}));case 14:console.error(r.t0),(0,m.z)("migrate-project",r.t0);case 16:return r.abrupt("return",t);case 17:case"end":return r.stop()}}),Z,null,[[1,10]])}function ke(e){var t,n,r,s,i,o,l,u;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=!1,a.prev=1,n=!1,e&&e.params&&e.params.generatingAsyncVideo&&(delete e.params.generatingAsyncVideo,n=!0),a.next=6,(0,c.Ys)(z);case 6:return(r=a.sent).project_id&&(e.params.body.parentId=r.project_id),a.next=10,(0,c.Ys)(J);case 10:return s=a.sent,e.params.body.versionId=s,a.next=14,(0,c.RE)(ie,e.params);case 14:return i=a.sent,a.next=17,(0,c.gz)((0,v.saveProjectDispatcher)({status:"success",versionId:i.versionId,projectId:i.project_id}));case 17:if(!n){a.next=20;break}return a.next=20,(0,c.RE)(Ae,{params:{username:e.params.body.cognito_id}});case 20:t=!0,a.next=33;break;case 23:if(a.prev=23,a.t0=a.catch(1),409!=(null===a.t0||void 0===a.t0||null===(o=a.t0.response)||void 0===o?void 0:o.status)||"Invalid_Version"!=(null===a.t0||void 0===a.t0||null===(l=a.t0.response)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.errorCode)){a.next=30;break}return a.next=28,(0,c.gz)((0,v.saveProjectDispatcher)({status:"version_conflict",conflictData:a.t0.response.data}));case 28:a.next=33;break;case 30:return a.next=32,(0,c.gz)((0,v.saveProjectDispatcher)({status:"failed"}));case 32:(0,m.z)("save-project",a.t0);case 33:return a.abrupt("return",t);case 34:case"end":return a.stop()}}),k,null,[[1,23]])}function Ce(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=!1,r.prev=1,e.params.body.hasOwnProperty("parentId")){r.next=7;break}return r.next=5,(0,c.Ys)(z);case 5:(n=r.sent).project_id&&(e.params.body.parentId=n.project_id);case 7:return r.next=9,(0,c.RE)(oe,e.params);case 9:return r.next=11,(0,c.gz)((0,v.duplicateFolderDispatcher)("success"));case 11:t=!0,r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,(0,c.gz)((0,v.duplicateFolderDispatcher)("failed"));case 18:(0,m.z)("save-folder",r.t0);case 19:return r.abrupt("return",t);case 20:case"end":return r.stop()}}),C,null,[[1,14]])}function Ie(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(ce,e.params);case 3:return t.sent,t.next=6,(0,c.gz)((0,v.deleteProjectDispatcher)("success"));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,c.gz)((0,v.deleteProjectDispatcher)("failed"));case 12:(0,m.z)("delete-project",t.t0);case 13:case"end":return t.stop()}}),I,null,[[0,8]])}function Te(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userName,n=e.projects,r.prev=1,r.next=4,(0,c.RE)(le,t,n);case 4:return r.sent,r.next=7,(0,c.gz)((0,v.deleteBulkProjectDispatcher)("success"));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,v.deleteBulkProjectDispatcher)("failed"));case 13:(0,m.z)("delete-project",r.t0);case 14:case"end":return r.stop()}}),T,null,[[1,9]])}function Ee(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userName,n=e.projects,r=e.parentId,s.prev=1,s.next=4,(0,c.RE)(ue,t,n,r);case 4:return s.sent,s.next=7,(0,c.gz)((0,v.moveProjectDispatcher)("success"));case 7:s.next=14;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,(0,c.gz)((0,v.moveProjectDispatcher)("failed"));case 13:(0,m.z)("move-project",s.t0);case 14:case"end":return s.stop()}}),E,null,[[1,9]])}function Ae(e){var t,n,i,o,l,u,d,p,g,f,x,S;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.params,a.prev=1,a.next=4,(0,c.gw)(200);case 4:if(n=[],!t){a.next=10;break}return a.next=8,(0,c.RE)(X,t.username);case 8:i=a.sent,n=i&&i.length>5?i.slice(0,5):i;case 10:return a.next=12,(0,c.RE)($);case 12:o=a.sent,l=[],u=(0,r.Z)(n),a.prev=15,u.s();case 17:if((d=u.n()).done){a.next=36;break}if((p=d.value).progressSource="project",p.currentState!==h.yc.VIDEO_GENERATING&&p.currentState!==h.yc.VIDEO_POSTING){a.next=34;break}if(!p.states){a.next=34;break}if(-1===(g=p.states.findIndex((function(e){return e.name===h.yc.VIDEO_GENERATING||e.name===h.yc.VIDEO_POSTING})))){a.next=34;break}if(!(f=p.states[g].responseId)){a.next=34;break}if(5!==l.length){a.next=30;break}return a.next=29,(0,c.v_)(l);case 29:l=[];case 30:return a.next=32,(0,c.Cs)(_e,{params:{projectId:p.project_id,responseId:f}});case 32:x=a.sent,l.push(x);case 34:a.next=17;break;case 36:a.next=41;break;case 38:a.prev=38,a.t0=a.catch(15),u.e(a.t0);case 41:return a.prev=41,u.f(),a.finish(41);case 44:return o.forEach((function(e,t){e.progressSource="task"})),(S=[].concat((0,s.Z)(o),(0,s.Z)(n))).sort((function(e,t){var n=e.createdDate||e.saveDate,r=t.createdDate||t.saveDate;return n>r?-1:r>n?1:0})),a.next=49,(0,c.gz)((0,v.getInProgressProjectsDispatcher)(S));case 49:a.next=56;break;case 51:return a.prev=51,a.t1=a.catch(1),a.next=55,(0,c.gz)((0,v.getInProgressProjectsDispatcher)([]));case 55:(0,m.z)("in-progress-project",a.t1);case 56:case"end":return a.stop()}}),A,null,[[1,51],[15,38,41,44]])}function _e(e){var t,n,r,s;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.params,a.prev=1,n=t.projectId,r=t.responseId,a.next=5,(0,c.RE)(f.Fm,r);case 5:if(!(s=a.sent)||!s.data){a.next=9;break}return a.next=9,(0,c.gz)((0,g.updateAsyncProjectStatusFromResponse)(n,s.data));case 9:a.next=13;break;case 11:a.prev=11,a.t0=a.catch(1);case 13:case"end":return a.stop()}}),_,null,[[1,11]])}function Re(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(ee,t.username,h.yc.VIDEO_GENERATING);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.getInProgressGenProjectsDispatcher)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,v.getInProgressGenProjectsDispatcher)([]));case 13:(0,m.z)("in-progress-project",r.t0);case 14:case"end":return r.stop()}}),R,null,[[1,9]])}function Pe(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.params,s.prev=1,!t.project_id){s.next=8;break}return s.next=5,(0,c.RE)(te,t.project_id,t.cognito_id);case 5:s.t0=s.sent,s.next=9;break;case 8:s.t0={pathValue:"/",projectType:h.cd.Folder};case 9:if(!((n=s.t0)&&n.scenesBlob&&n.scenes)){s.next=15;break}return s.next=13,(0,c.RE)(de,n.scenesBlob);case 13:(r=s.sent)&&(n.scenes=n.scenes.concat(r));case 15:return s.next=17,(0,c.gz)((0,v.projectOpened)({projectOpenError:!1,project:n,projectAction:t.projectAction}));case 17:s.next=24;break;case 19:return s.prev=19,s.t1=s.catch(1),s.next=23,(0,c.gz)((0,v.projectOpened)({projectOpenError:!0,project:null,projectAction:t.projectAction}));case 23:(0,m.z)("open-project",s.t1);case 24:case"end":return s.stop()}}),P,null,[[1,19]])}function Ne(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(ne,t.previewId);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.previewProjectOpened)({projectOpenError:!1,project:n}));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,v.previewProjectOpened)({projectOpenError:!0,project:null}));case 13:(0,m.z)("open-preview-project",r.t0);case 14:case"end":return r.stop()}}),N,null,[[1,9]])}function Oe(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.params,r.prev=1,H&&H!==t.project_id){r.next=8;break}return r.next=5,(0,c.RE)(te,t.project_id,t.cognito_id);case 5:return n=r.sent,r.next=8,(0,c.gz)((0,v.refreshProject)(n));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),(0,m.z)("refresh-project",r.t0);case 13:case"end":return r.stop()}}),O,null,[[1,10]])}function De(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,r.prev=1,r.next=4,(0,c.gz)((0,v.removeProjectFromReducer)(t));case 4:return r.next=6,(0,c.RE)(te,t);case 6:if(!(n=r.sent)){r.next=12;break}return n.inProgress=!1,n.currentState=h.yc.TRANSCRIBED,r.next=12,(0,c.RE)(ie,{body:n});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),console.log("error: ",r.t0);case 17:case"end":return r.stop()}}),D,null,[[1,14]])}function Ue(e){var t,n,r,s,i;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.projectId,e.responseId,n=e.URL,r=e.shareURL,s=e.isRemove,a.prev=1,!s){a.next=5;break}return a.next=5,(0,c.gz)((0,v.removeProjectFromReducer)(t));case 5:return a.next=7,(0,c.RE)(te,t);case 7:if(!(i=a.sent)){a.next=13;break}return s&&(i.currentState=h.yc.VIDEO_GENERATED),n&&(i.videoURL=n,i.shareVideoURL=r),a.next=13,(0,c.RE)(ie,{body:i});case 13:return a.next=15,(0,c.gz)((0,v.removeProjectDispatch)());case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(1),console.log("error: ",a.t0);case 20:case"end":return a.stop()}}),U,null,[[1,17]])}function Le(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(pe,t);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.validateVideoQuotaResponse)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,v.validateVideoQuotaResponse)({error:r.t0}));case 13:(0,m.z)("validate-video-quota",r.t0);case 14:case"end":return r.stop()}}),L,null,[[1,9]])}function Fe(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(he,e.username);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,v.getSharedProjectsMappingByTeamIdDispatcher)({projectsMapping:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,v.getSharedProjectsMappingByTeamIdDispatcher)({status:"error"}));case 12:(0,m.z)("get-all-project",n.t0);case 13:case"end":return n.stop()}}),F,null,[[0,8]])}function Ve(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(me,e.username,e.projectId);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,v.getSharedProjectsMappingByTeamIdAndProjectIdDispatcher)({projectsMapping:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,v.getSharedProjectsMappingByTeamIdAndProjectIdDispatcher)({status:"error"}));case 12:(0,m.z)("get-all-project",n.t0);case 13:case"end":return n.stop()}}),V,null,[[0,8]])}function Be(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=1,s.next=4,(0,c.RE)(ge,t);case 4:return n=s.sent,s.next=7,(0,c.gz)((0,v.duplicateProjectSuccess)(n));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(1),r=(0,p.Z)(s.t0,"Create","duplicate project"),s.next=14,(0,c.gz)((0,v.duplicateProjectFailure)(r));case 14:(0,m.z)("duplicate-project",s.t0);case 15:case"end":return s.stop()}}),B,null,[[1,9]])}function Me(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=1,s.next=4,(0,c.RE)(fe,t);case 4:return n=s.sent,s.next=7,(0,c.gz)((0,v.exportProjectSuccess)(n));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(1),r=(0,p.Z)(s.t0,"Export","project"),s.next=14,(0,c.gz)((0,v.exportProjectFailure)(r));case 14:(0,m.z)("export-project",s.t0);case 15:case"end":return s.stop()}}),M,null,[[1,9]])}function Ge(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(ve,e);case 3:return(t=n.sent).status,t.videoURL,t.thumbnail,n.next=7,(0,c.gz)((0,v.myEOYVideoDispatcher)(t));case 7:return n.next=9,(0,c.gz)((0,v.myEOYVideoDispatcher)(t));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error("ERROR",n.t0);case 14:case"end":return n.stop()}}),G,null,[[0,11]])}function We(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ib)(v.GET_MY_VIDEOS_INITIATE,xe);case 2:return e.next=4,(0,c.ib)(v.GET_FOLDERS_INITIATE,Se);case 4:return e.next=6,(0,c.ib)(v.GET_EOY_VIDEO,Ge);case 6:return e.next=8,(0,c.ib)(v.GET_MY_RECENT_VIDEOS_INITIATE,be);case 8:return e.next=10,(0,c.ib)(v.SEARCH_MY_VIDEOS_INITIATE,ye);case 10:return e.next=12,(0,c.ib)(v.SHARE_VIDEO_INITIATE,je);case 12:return e.next=14,(0,c.ib)(v.DUPLICATE_FOLDER_INITIATE,Ce);case 14:return e.next=16,(0,c.ib)(v.DELETE_PROJECT_INITIATE,Ie);case 16:return e.next=18,(0,c.ib)(v.GET_IN_PROGRESS_PROJECTS_INITIATE,Ae);case 18:return e.next=20,(0,c.ib)(v.OPEN_PROJECT_INITIATE,Pe);case 20:return e.next=22,(0,c.ib)(v.OPEN_PREVIEW_PROJECT_INITIATE,Ne);case 22:return e.next=24,(0,c.ib)(v.REMOVE_PROJECT_FROM_NOTIFICATION,De);case 24:return e.next=26,(0,c.ib)(v.GET_IN_PROGRESS_GEN_PROJECTS_INITIATE,Re);case 26:return e.next=28,(0,c.ib)(v.GENERATE_VIDEO_FROM_NOTIFICATION,Ue);case 28:return e.next=30,(0,c.ib)(v.BULK_DELETE_PROJECT_INITIATE,Te);case 30:return e.next=32,(0,c.ib)(v.MOVE_PROJECT_INITIATE,Ee);case 32:return e.next=34,(0,c.ib)(v.VALIDATE_VIDEO_QUOTA_REQUEST,Le);case 34:return e.next=36,(0,c.ib)(v.SHARE_PROJECT_INITIATE,we);case 36:return e.next=38,(0,c.ib)(v.GET_SHARED_PROJECT_MAPPING_BY_TEAMID_INITIATE,Fe);case 38:return e.next=40,(0,c.ib)(v.GET_SHARED_PROJECT_MAPPING_BY_TEAMID_PROJECTID_INITIATE,Ve);case 40:return e.next=42,(0,c.ib)(v.MIGRATE_PROJECT_INITIATE,Ze);case 42:return e.next=44,(0,c.ib)(v.DUPLICATE_PROJECT_REQUEST,Be);case 44:return e.next=46,(0,c.ib)(v.EXPORT_PROJECT_REQUEST,Me);case 46:case"end":return e.stop()}}),W)}},6202:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_COUPON_BY_COUPON_CODE_FAILURE:function(){return c},GET_COUPON_BY_COUPON_CODE_REQUEST:function(){return i},GET_COUPON_BY_COUPON_CODE_SUCCESS:function(){return o},GET_CURRENT_SUBSCRIPTION_FAILURE:function(){return d},GET_CURRENT_SUBSCRIPTION_REQUEST:function(){return l},GET_CURRENT_SUBSCRIPTION_SUCCESS:function(){return u},GET_PLAN_BY_PLAN_CODE_FAILURE:function(){return a},GET_PLAN_BY_PLAN_CODE_REQUEST:function(){return r},GET_PLAN_BY_PLAN_CODE_SUCCESS:function(){return s},GET_SUBSCRIPTION_COST_FAILURE:function(){return m},GET_SUBSCRIPTION_COST_REQUEST:function(){return p},GET_SUBSCRIPTION_COST_SUCCESS:function(){return h},getCouponByCouponCodeFailure:function(){return y},getCouponByCouponCodeRequest:function(){return x},getCouponByCouponCodeSuccess:function(){return S},getCurrentSubscriptionFailure:function(){return w},getCurrentSubscriptionRequest:function(){return b},getCurrentSubscriptionSuccess:function(){return j},getPlanByPlanCodeFailure:function(){return v},getPlanByPlanCodeRequest:function(){return g},getPlanByPlanCodeSuccess:function(){return f},getSubscriptionCostFailure:function(){return C},getSubscriptionCostRequest:function(){return Z},getSubscriptionCostSuccess:function(){return k}}),n(61253);var r="GET_PLAN_BY_PLAN_CODE_REQUEST",s="GET_PLAN_BY_PLAN_CODE_SUCCESS",a="GET_PLAN_BY_PLAN_CODE_FAILURE",i="GET_COUPON_BY_COUPON_CODE_REQUEST",o="GET_COUPON_BY_COUPON_CODE_SUCCESS",c="GET_COUPON_BY_COUPON_CODE_FAILURE",l="GET_CURRENT_SUBSCRIPTION_REQUEST",u="GET_CURRENT_SUBSCRIPTION_SUCCESS",d="GET_CURRENT_SUBSCRIPTION_FAILURE",p="GET_SUBSCRIPTION_COST_REQUEST",h="GET_SUBSCRIPTION_COST_SUCCESS",m="GET_SUBSCRIPTION_COST_FAILURE",g=function(e){return{type:r,params:{planCode:e}}},f=function(e){return{type:s,payload:{plan:e}}},v=function(e){return{type:a,payload:{error:e}}},x=function(e){return{type:i,params:{couponCode:e}}},S=function(e){return{type:o,payload:{coupon:e}}},y=function(e){return{type:c,payload:{error:e}}},b=function(){return{type:l}},j=function(e){return{type:u,payload:{currentSubscription:e}}},w=function(e){return{type:d,payload:{error:e}}},Z=function(e,t){return{type:p,params:{subscriptionId:e,computeData:t}}},k=function(e){return{type:h,payload:{subscriptionCost:e}}},C=function(e){return{type:m,payload:{error:e}}}},2685:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=(n(16031),n(90794),n(47439),n(6202)),a={getPlanByPlanCodeResult:{success:!0},plan:null,getCouponByCouponCodeResult:{success:!0},coupon:null,getCurrentSubscriptionResult:{success:!0},currentSubscription:null,getSubscriptionCostResult:{success:!0},subscriptionCost:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_PLAN_BY_PLAN_CODE_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getPlanByPlanCodeResult:{success:!0},plan:t.payload.plan});case s.GET_PLAN_BY_PLAN_CODE_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getPlanByPlanCodeResult:(0,r.Z)({success:!1},t.payload.error),plan:null});case s.GET_COUPON_BY_COUPON_CODE_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getCouponByCouponCodeResult:{success:!0},coupon:t.payload.coupon});case s.GET_COUPON_BY_COUPON_CODE_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getCouponByCouponCodeResult:(0,r.Z)({success:!1},t.payload.error),coupon:null});case s.GET_CURRENT_SUBSCRIPTION_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getCurrentSubscriptionResult:{success:!0},currentSubscription:t.payload.currentSubscription});case s.GET_CURRENT_SUBSCRIPTION_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getCurrentSubscriptionResult:(0,r.Z)({success:!1},t.payload.error),currentSubscription:null});case s.GET_SUBSCRIPTION_COST_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getSubscriptionCostResult:{success:!0},subscriptionCost:t.payload.subscriptionCost});case s.GET_SUBSCRIPTION_COST_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getSubscriptionCostResult:(0,r.Z)({success:!1},t.payload.error),subscriptionCost:null});default:return e}}},91448:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O},getCouponByCouponCode:function(){return k},getCouponByCouponCodeRequest:function(){return T},getCurrentSubscription:function(){return b},getCurrentSubscriptionRequest:function(){return E},getPlanByPlanCode:function(){return Z},getPlanByPlanCodeRequest:function(){return I},getSubscriptionCost:function(){return C},getSubscriptionCostRequest:function(){return A},watchGetCouponByCouponCodeRequest:function(){return R},watchGetCurrentSubscriptionRequest:function(){return P},watchGetPlanByPlanCodeRequest:function(){return _},watchGetSubscriptionCostRequest:function(){return N}});var r=n(74165),s=n(15861),a=n(80761),i=n(64276),o=n(42599),c=n(69473),l=n(91104),u=(n(47439),n(89956),n(20140)),d=n(6202),p=(0,r.Z)().mark(I),h=(0,r.Z)().mark(T),m=(0,r.Z)().mark(E),g=(0,r.Z)().mark(A),f=(0,r.Z)().mark(_),v=(0,r.Z)().mark(R),x=(0,r.Z)().mark(P),S=(0,r.Z)().mark(N),y=(0,r.Z)().mark(O),b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.Z.subscriptionBaseURL,(n=(0,l.E3)())&&(t=o.Z.teamSubscriptionBaseURL.format(n)),e.next=5,c.Z.get(t);case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.Z.subscriptionBaseURL,e.next=3,(0,u.VB)(!0,c.Z);case 3:if("v2"===e.sent&&(n=o.Z.subscriptionBaseURLV2),!(s=(0,l.E3)())||t){e.next=12;break}return n=o.Z.teamSubscriptionBaseURL.format(s),e.next=10,(0,u.VB)(!1,c.Z);case 10:"v2"===e.sent&&(n=o.Z.teamSubscriptionBaseURLV2.format(s));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.Z.planBaseURL,e.next=3,(0,u.VB)(!0,c.Z);case 3:if("v2"===e.sent&&(n=o.Z.planBaseURLV2),!(s=(0,l.E3)())||t){e.next=12;break}return n=o.Z.teamPlanBaseURL.format(s),e.next=10,(0,u.VB)(!1,c.Z);case 10:"v2"===e.sent&&(n=o.Z.teamPlanBaseURLV2.format(s));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:return n=e.sent,n+="/plans/".concat(t),e.next=7,c.Z.get(n);case 7:return s=e.sent,e.abrupt("return",s.data);case 11:if(e.prev=11,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=15;break}throw e.t0;case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=o.Z.planBaseURL,e.next=4,(0,u.VB)(!0,c.Z);case 4:return"v2"===e.sent&&(n=o.Z.planBaseURLV2),n+="/coupons/".concat(t),e.next=9,c.Z.get(n);case 9:return s=e.sent,e.abrupt("return",s.data);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=17;break}throw e.t0;case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:return s=e.sent,s+="/".concat(t,"/computecost"),e.next=7,c.Z.post(s,n);case 7:return a=e.sent,e.abrupt("return",a.data);case 11:if(e.prev=11,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=15;break}throw e.t0;case 15:return e.abrupt("return",null);case 18:return i=e.sent,e.abrupt("return",i.data);case 20:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();function I(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.planCode,r.prev=1,r.next=4,(0,i.RE)(Z,t);case 4:return n=r.sent,r.next=7,(0,i.gz)((0,d.getPlanByPlanCodeSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),s=(0,a.Z)(r.t0,"OrderSummary","get plan by plan code"),r.next=14,(0,i.gz)((0,d.getPlanByPlanCodeFailure)(s));case 14:case"end":return r.stop()}}),p,null,[[1,9]])}function T(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.couponCode,r.prev=1,r.next=4,(0,i.RE)(k,t);case 4:return n=r.sent,r.next=7,(0,i.gz)((0,d.getCouponByCouponCodeSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),s=(0,a.Z)(r.t0,"OrderSummary","get coupon by coupon code"),r.next=14,(0,i.gz)((0,d.getCouponByCouponCodeFailure)(s));case 14:case"end":return r.stop()}}),h,null,[[1,9]])}function E(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.RE)(b);case 3:return e=n.sent,n.next=6,(0,i.gz)((0,d.getCurrentSubscriptionSuccess)(e));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),t=(0,a.Z)(n.t0,"OrderSummary","get current subscription"),n.next=13,(0,i.gz)((0,d.getCurrentSubscriptionFailure)(t));case 13:case"end":return n.stop()}}),m,null,[[0,8]])}function A(e){var t,n,s,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.subscriptionId,n=e.computeData,r.prev=1,r.next=4,(0,i.RE)(C,t,n);case 4:return s=r.sent,r.next=7,(0,i.gz)((0,d.getSubscriptionCostSuccess)(s));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),o=(0,a.Z)(r.t0,"OrderSummary","get subscription cost"),r.next=14,(0,i.gz)((0,d.getSubscriptionCostFailure)(o));case 14:case"end":return r.stop()}}),g,null,[[1,9]])}function _(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,i.RE)(I,t);case 3:case"end":return n.stop()}}),f)}function R(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,i.RE)(T,t);case 3:case"end":return n.stop()}}),v)}function P(e){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.RE)(E);case 2:case"end":return e.stop()}}),x)}function N(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,i.RE)(A,t);case 3:case"end":return n.stop()}}),S)}function O(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Fm)(d.GET_PLAN_BY_PLAN_CODE_REQUEST,_);case 2:return e.next=4,(0,i.ib)(d.GET_COUPON_BY_COUPON_CODE_REQUEST,R);case 4:return e.next=6,(0,i.ib)(d.GET_CURRENT_SUBSCRIPTION_REQUEST,P);case 6:return e.next=8,(0,i.ib)(d.GET_SUBSCRIPTION_COST_REQUEST,N);case 8:case"end":return e.stop()}}),y)}},28623:function(e,t,n){"use strict";n.r(t),n.d(t,{LOAD_VIDEO_RESOURCES_BEGIN:function(){return a},LOAD_VIDEO_RESOURCES_COMPLETE:function(){return i},PREVIEW_PROGRESS:function(){return c},RELEASE_ASSETS_OBJECT_URLS:function(){return o},loadVideoResourcesBegin:function(){return l},loadVideoResourcesComplete:function(){return u},previewProgress:function(){return p},releaseAssetsObjectURLs:function(){return d}});var r=n(4942),s=n(61253),a="LOAD_VIDEO_RESOURCES_BEGIN",i="LOAD_VIDEO_RESOURCES_COMPLETE",o="RELEASE_ASSETS_OBJECT_URLS",c="PREVIEW_PROGRESS",l=function(e){return(0,r.Z)({type:a,params:{assets:e}},s.jw,i)},u=function(e){return{type:i,payload:e}},d=function(){return{type:o}},p=function(e){return{type:c,payload:e}}},95764:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(28623),a={loadingVideoResources:!0,videoResources:{},previewProgress:0};function i(e){var t=(0,r.Z)({},e.videoResources);for(var n in t)URL.revokeObjectURL(t[n]);return{}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOAD_VIDEO_RESOURCES_BEGIN:return(0,r.Z)((0,r.Z)({},e),{},{loadingVideoResources:!0,previewProgress:0});case s.LOAD_VIDEO_RESOURCES_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{loadingVideoResources:!1,videoResources:t.payload});case s.RELEASE_ASSETS_OBJECT_URLS:return(0,r.Z)((0,r.Z)({},e),{},{videoResources:i(e)});case s.PREVIEW_PROGRESS:return(0,r.Z)((0,r.Z)({},e),{},{previewProgress:t.payload});default:return e}}},73353:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S},handleLoadVideoResources:function(){return x}});var r=n(74165),s=n(1413),a=n(16031),i=n.n(a),o=n(64276),c=n(91104),l=n(31821),u=n(28623),d=(0,r.Z)().mark(f),p=(0,r.Z)().mark(x),h=(0,r.Z)().mark(S),m=function(e){return e.previewVideo.videoResources},g=function(e){return e.editVideoAllScene.mediaResources};function f(e){var t,n,a,p,h,f,x,S,y,b,j,w;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.Ys)(m);case 2:return t=r.sent,r.next=5,(0,o.Ys)(g);case 5:return n=r.sent,t=(0,s.Z)({},t),a=[],r.prev=8,r.next=11,(0,o.gz)((0,u.previewProgress)(1));case 11:return r.next=13,(0,o.gw)(100);case 13:if(!(e&&e.length>0)){r.next=56;break}p=0;case 15:if(!(p<e.length)){r.next=56;break}if(!(h=e[p])){r.next=53;break}if(!v(h)){r.next=53;break}if(f=(0,c.eu)(h),!n[f]){r.next=52;break}if(x=n[f],r.prev=22,!x){r.next=42;break}if(S=null,"string"==typeof x!=0){r.next=41;break}if(!i().isArray(x)){r.next=38;break}if(!0!==x[1].isRunning()){r.next=33;break}return r.next=30,(0,o.v_)(x[0]);case 30:S=r.sent,r.next=36;break;case 33:return r.next=35,(0,o.v_)(x[1]);case 35:S=r.sent;case 36:r.next=41;break;case 38:return r.next=40,(0,o.v_)(x);case 40:S=r.sent;case 41:t[h]=S?URL.createObjectURL(S.data):x;case 42:r.next=47;break;case 44:r.prev=44,r.t0=r.catch(22),(0,c.jy)("Downloadd-Video-Resources",r.t0.message,"preview-resource-download-failed",{mediaUrl:f});case 47:return y=Math.floor((p+1)/e.length*100),r.next=50,(0,o.gz)((0,u.previewProgress)(y||1));case 50:r.next=53;break;case 52:a.push(h);case 53:p++,r.next=15;break;case 56:if(!(a.length>0)){r.next=68;break}return r.next=59,(0,o.RE)(l.loadMediaResources,a);case 59:for(b=0;b<a.length;b++)j=a[b],w=(0,c.eu)(j),n[w]&&(t[j]=n[w]);return r.next=62,(0,o.gz)((0,u.previewProgress)(100));case 62:return r.next=64,(0,o.gw)(100);case 64:return r.next=66,(0,o.gz)((0,u.previewProgress)(0));case 66:r.next=72;break;case 68:return r.next=70,(0,o.gw)(100);case 70:return r.next=72,(0,o.gz)((0,u.previewProgress)(0));case 72:r.next=77;break;case 74:r.prev=74,r.t1=r.catch(8),(0,c.jy)("Load-Video-Resources",r.t1.message,"preview-resource-download-failed");case 77:return r.abrupt("return",t);case 78:case"end":return r.stop()}}),d,null,[[8,74],[22,44]])}function v(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function x(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=t.assets,r.next=5,(0,o.RE)(f,n);case 5:return s=r.sent,r.next=8,(0,o.gz)((0,u.loadVideoResourcesComplete)(s));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),(0,c.jy)("Load-Video-Resources",r.t0.message,"preview-resource-download-failed");case 13:case"end":return r.stop()}}),p,null,[[1,10]])}function S(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.ib)(u.LOAD_VIDEO_RESOURCES_BEGIN,x);case 2:case"end":return e.stop()}}),h)}},91234:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(74165),s=n(64276),a=n(35246),i=(0,r.Z)().mark(o);function o(){var e,t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s.ZO)("SAVE_PROJECT_INITIATE");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,s.qn)(e);case 7:return t=r.sent,n=t.params,r.next=11,(0,s.RE)(a.handleSaveProject,{params:n});case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(4),console.log(r.t0);case 16:r.next=3;break;case 18:case"end":return r.stop()}}),i,null,[[4,13]])}},7480:function(e,t,n){"use strict";n.r(t),n.d(t,{DUPLICATE_PROJECT_NAME_CHECK_BEGIN:function(){return l},DUPLICATE_PROJECT_NAME_CHECK_COMPLETE:function(){return u},GET_FOLDER_NAME_CHECK_BEGIN:function(){return o},GET_FOLDER_NAME_CHECK_COMPLETE:function(){return c},GET_PROJECT_NAME_CHECK_BEGIN:function(){return a},GET_PROJECT_NAME_CHECK_COMPLETE:function(){return i},RESET_PROJECT_NAME:function(){return d},duplicateProjectNameCheckBegin:function(){return f},duplicateProjectNameCheckComplete:function(){return v},getFolderNameBegin:function(){return h},getFolderNameComplete:function(){return g},getProjectNameBegin:function(){return p},getProjectNameComplete:function(){return m},resetProjectName:function(){return x}});var r=n(4942),s=n(61253),a="GET_PROJECT_NAME_CHECK_BEGIN",i="GET_PROJECT_NAME_CHECK_COMPLETE",o="GET_FOLDER_NAME_CHECK_BEGIN",c="GET_FOLDER_NAME_CHECK_COMPLETE",l="DUPLICATE_PROJECT_NAME_CHECK_BEGIN",u="DUPLICATE_PROJECT_NAME_CHECK_COMPLETE",d="RESET_PROJECT_NAME",p=function(e,t){return(0,r.Z)({type:a,params:{username:e,projectName:t}},s.jw,i)},h=function(e,t,n){return(0,r.Z)({type:o,params:{username:e,projectName:t,currentFolder:n}},s.jw,c)},m=function(e){return{type:i,payload:e}},g=function(e){return{type:c,payload:e}},f=function(e,t){return(0,r.Z)({type:l,params:{username:e,projectName:t}},s.jw,u)},v=function(e){return{type:u,payload:e}},x=function(){return{type:d}}},22744:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(7480),a={isUniqueName:!0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_PROJECT_NAME_CHECK_BEGIN:case s.GET_FOLDER_NAME_CHECK_BEGIN:return(0,r.Z)((0,r.Z)({},e),{},{projectName:void 0});case s.GET_PROJECT_NAME_CHECK_COMPLETE:case s.GET_FOLDER_NAME_CHECK_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{projectName:t.payload});case s.DUPLICATE_PROJECT_NAME_CHECK_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{isUniqueName:t.payload});case s.RESET_PROJECT_NAME:return(0,r.Z)((0,r.Z)({},e),{},{projectName:void 0});default:return e}}},97509:function(e,t,n){"use strict";n.r(t),n.d(t,{checkProjectNameExist:function(){return y},default:function(){return j},getCurrentFolder:function(){return g},getFolderName:function(){return v},getProjectName:function(){return f},handleDuplicateProjectNameCheck:function(){return b},handleGetFolderName:function(){return S},handleGetProjectName:function(){return x}});var r=n(74165),s=n(15861),a=n(64276),i=n(47439),o=n(42599),c=n(69473),l=n(91104),u=n(7480),d=(0,r.Z)().mark(x),p=(0,r.Z)().mark(S),h=(0,r.Z)().mark(b),m=(0,r.Z)().mark(j),g=function(e){return e.myVideos.activeProjectFolder},f=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,l,u,d,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.length>100&&(n=n.substring(0,100)),a=s&&s.project_id?s.pathValue+s.project_id+"/":"/",l="?pathValue=".concat(a,"&projectType=").concat(i.cd.Project),u=o.Z.projectsBaseURL+"/projects/object/identifier/".concat(t,"/").concat(escape(n)).concat(l),e.next=6,c.Z.get(u);case 6:if(d=e.sent,!(p=d.data)||!p.identifier){e.next=10;break}return e.abrupt("return",n+"(".concat(p.identifier,")"));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,l,u,d,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.length>100&&(n=n.substring(0,100)),a=s&&s.project_id?s.pathValue+s.project_id+"/":"/",l="?pathValue=".concat(a,"&projectType=").concat(i.cd.Folder),u=o.Z.projectsBaseURL+"/projects/object/identifier/".concat(t,"/").concat(escape(n)).concat(l),e.next=6,c.Z.get(u);case 6:if(d=e.sent,!(p=d.data)||!p.identifier){e.next=10;break}return e.abrupt("return",n+"(".concat(p.identifier,")"));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function x(e){var t,n,s,i,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,n=t.username,s=t.projectName,r.prev=2,r.next=5,(0,a.Ys)(g);case 5:return i=r.sent,r.next=8,(0,a.RE)(f,n,s,i);case 8:return o=r.sent,r.next=11,(0,a.gz)((0,u.getProjectNameComplete)(o));case 11:return r.abrupt("return",o);case 14:return r.prev=14,r.t0=r.catch(2),r.next=18,(0,a.gz)((0,u.getProjectNameComplete)(s));case 18:(0,l.jy)("Get-ProjectName",r.t0.message);case 19:return r.abrupt("return",s);case 20:case"end":return r.stop()}}),d,null,[[2,14]])}function S(e){var t,n,s,i,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.params,n=t.username,s=t.projectName,r.prev=2,t.currentFolder){r.next=9;break}return r.next=6,(0,a.Ys)(g);case 6:i=r.sent,r.next=10;break;case 9:"ROOT"!=t.currentFolder.project_id&&(i=t.currentFolder);case 10:return r.next=12,(0,a.RE)(v,n,s,i);case 12:return o=r.sent,r.next=15,(0,a.gz)((0,u.getFolderNameComplete)(o));case 15:return r.abrupt("return",o);case 18:return r.prev=18,r.t0=r.catch(2),r.next=22,(0,a.gz)((0,u.getFolderNameComplete)(s));case 22:(0,l.jy)("Get-ProjectName",r.t0.message);case 23:return r.abrupt("return",s);case 24:case"end":return r.stop()}}),p,null,[[2,18]])}var y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=s&&s.project_id?s.pathValue+s.project_id+"/":"/",l="?pathValue=".concat(a,"&projectType=").concat(i.cd.Project),u=o.Z.projectsBaseURL+"/projects/object/name/".concat(t,"/").concat(escape(n)).concat(l),e.next=6,c.Z.get(u);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}();function b(e){var t,n,s,i,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=t.username,s=t.projectName,r.next=5,(0,a.Ys)(g);case 5:return i=r.sent,r.next=8,(0,a.RE)(y,n,s,i);case 8:return o=r.sent,r.next=11,(0,a.gz)((0,u.duplicateProjectNameCheckComplete)(!o));case 11:r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,(0,a.gz)((0,u.duplicateProjectNameCheckComplete)(!0));case 17:(0,l.jy)("Duplicate-ProjectName-Check",r.t0.message);case 18:case"end":return r.stop()}}),h,null,[[1,13]])}function j(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(u.GET_PROJECT_NAME_CHECK_BEGIN,x);case 2:return e.next=4,(0,a.ib)(u.GET_FOLDER_NAME_CHECK_BEGIN,S);case 4:return e.next=6,(0,a.ib)(u.DUPLICATE_PROJECT_NAME_CHECK_BEGIN,b);case 6:case"end":return e.stop()}}),m)}},43862:function(e,t,n){"use strict";n.r(t),n.d(t,{ARTICLE_ASSETS_SEARCH_PROGRESS:function(){return c},ASSET_SEARCH_COMPLETED:function(){return o},SHOW_ERROR_NOTIFICATION:function(){return s},SHOW_TOAST_NOTIFICATION:function(){return r},SUMMARIZATION_PROGRESS:function(){return a},TRANSCRIPTION_SCENES_PROCESSING_PROGRESS:function(){return u},TRANSCRIPTION_SUMMARIZATION_PROGRESS:function(){return p},VIDEO_GENERATION_PROGRESS:function(){return d},VIDEO_PRE_PROCESSING_STATUS:function(){return i},VOICE_OVER_PROGRESS:function(){return l},articleAssetsSearchProgress:function(){return S},assetSearchCompleted:function(){return x},showErrorNotification:function(){return m},showToastNotification:function(){return h},summarizationProgress:function(){return g},transcriptionScenesProcessingProgress:function(){return b},transcriptionSummarizationProgress:function(){return j},videoGenerationProgress:function(){return v},videoPreProcessingStatus:function(){return f},voiceOverProgress:function(){return y}});var r="SHOW_TOAST_NOTIFICATION",s="SHOW_ERROR_NOTIFICATION",a="SUMMARIZATION_PROGRESS",i="VIDEO_PRE_PROCESSING_STATUS",o="ASSET_SEARCH_COMPLETED",c="ARTICLE_ASSETS_SEARCH_PROGRESS",l="VOICE_OVER_PROGRESS",u="TRANSCRIPTION_SCENES_PROCESSING_PROGRESS",d="VIDEO_GENERATION_PROGRESS",p="TRANSCRIPTION_SUMMARIZATION_PROGRESS",h=function(e){return{type:r,payload:e}},m=function(e){return{type:s,payload:e}},g=function(e){return{type:a,payload:e}},f=function(e){return{type:i,payload:e}},v=function(e){return{type:d,payload:e}},x=function(e){return{type:o,payload:e}},S=function(e){return{type:c,payload:e}},y=function(e){return{type:l,payload:e}},b=function(e){return{type:u,payload:e}},j=function(e){return{type:p,payload:e}}},12655:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(43862),a={toastNotification:{message:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SHOW_TOAST_NOTIFICATION:return(0,r.Z)((0,r.Z)({},e),{},{toastNotification:{message:t.payload}});case s.SHOW_ERROR_NOTIFICATION:return(0,r.Z)((0,r.Z)({},e),{},{toastNotification:{error:t.payload}});default:return e}}},17434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r,s=n(74165),a=n(95228),i=n(64276),o=n(91104),c=n(25543),l=n(43862),u=(0,s.Z)().mark(p);function d(){return(0,a.GG)((function(e){return function t(){(r=new WebSocket("".concat("wss://8nuw5452x5.execute-api.us-east-2.amazonaws.com/prod","?clientId=").concat(o.I4))).onopen=function(){console.log("Opening Websocket")},r.onerror=function(e){console.log("ERROR: ",e)},r.onmessage=function(t){return e({data:JSON.parse(t.data)})},r.onclose=function(n){1005===n.code?(console.log("WebSocket: closed"),e(a.uR)):(console.log("Socket is closed Unexpectedly. Reconnect will be attempted in 1 second.",n.reason),setTimeout((function(){t()}),1e3))}}(),function(){console.log("Closing Websocket"),r.close()}}))}function p(){var e,t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.RE)(d);case 2:e=r.sent;case 3:return r.next=6,(0,i.qn)(e);case 6:t=r.sent,n=t.data,r.t0=n.action,r.next="AppUpdated"===r.t0?11:"AppPushNotificationMsg"===r.t0?14:"Summarization"===r.t0?17:"ArticleAssetsSearch"===r.t0?20:"AssetSearchCompleted"===r.t0?23:"VoiceOver"===r.t0?26:"TranscriptionScenesProcessing"===r.t0?29:"TranscriptionSummarization"===r.t0?32:35;break;case 11:return r.next=13,(0,i.gz)((0,c.setRemoteAppVersion)(n.data));case 13:return r.abrupt("break",35);case 14:return r.next=16,(0,i.gz)((0,c.setAppPushNotificationMsg)(n.data));case 16:return r.abrupt("break",35);case 17:return r.next=19,(0,i.gz)((0,l.summarizationProgress)(n.data));case 19:return r.abrupt("break",35);case 20:return r.next=22,(0,i.gz)((0,l.articleAssetsSearchProgress)(n.data));case 22:return r.abrupt("break",35);case 23:return r.next=25,(0,i.gz)((0,l.assetSearchCompleted)(n.data));case 25:return r.abrupt("break",35);case 26:return r.next=28,(0,i.gz)((0,l.voiceOverProgress)(n.data));case 28:return r.abrupt("break",35);case 29:return r.next=31,(0,i.gz)((0,l.transcriptionScenesProcessingProgress)(n.data));case 31:return r.abrupt("break",35);case 32:return r.next=34,(0,i.gz)((0,l.transcriptionSummarizationProgress)(n.data));case 34:return r.abrupt("break",35);case 35:r.next=3;break;case 37:case"end":return r.stop()}}),u)}},6343:function(e,t,n){"use strict";n.r(t),n.d(t,{GENERATE_TEXT_TO_IMAGE_BEGIN:function(){return a},GENERATE_TEXT_TO_IMAGE_COMPLETE:function(){return i},GET_HISTORY_BEGIN:function(){return o},GET_HISTORY_COMPLETE:function(){return c},VALIDATE_TEXTTOIMAGE_QUOTA_REQUEST:function(){return l},VALIDATE_TEXTTOIMAGE_QUOTA_RESPONSE:function(){return u},generatImageBegin:function(){return d},generateImageComplete:function(){return p},historyRequestBegin:function(){return h},historyRequestComplete:function(){return m},validateTextToImageQuotaRequest:function(){return g},validateTextToImageQuotaResponse:function(){return f}});var r=n(4942),s=n(61253),a="GENERATE_TEXT_TO_IMAGE_BEGIN",i="GENERATE_TEXT_TO_IMAGE_COMPLETE",o="GET_HISTORY_BEGIN",c="GET_HISTORY_COMPLETE",l="VALIDATE_TEXTTOIMAGE_QUOTA_REQUEST",u="VALIDATE_TEXTTOIMAGE_QUOTA_RESPONSE",d=function(e,t){return{type:a,projectid:e,payload:t}},p=function(e){return{type:i,payload:e}},h=function(e,t){return{type:o,projectid:e,payload:t}},m=function(e){return{type:c,payload:e}},g=function(e){return(0,r.Z)({type:l,params:{project_id:e}},s.jw,u)},f=function(e){return{type:u,payload:e}}},98116:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(6343),a={images:[],history:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GENERATE_TEXT_TO_IMAGE_BEGIN:return(0,r.Z)((0,r.Z)({},e),{},{images:[],error:null,isGenerating:!0});case s.GENERATE_TEXT_TO_IMAGE_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{images:t.payload.images,error:t.payload.error,isGenerating:!1});case s.GET_HISTORY_BEGIN:return(0,r.Z)((0,r.Z)({},e),{},{history:{},isFetching:!0});case s.GET_HISTORY_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{history:t.payload,isFetching:!1});case s.VALIDATE_TEXTTOIMAGE_QUOTA_RESPONSE:return(0,r.Z)((0,r.Z)({},e),{},{validateTextToImageQuotaResult:t.payload});default:return e}}},21122:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y},generateImage:function(){return m},getSearchHistory:function(){return g},handleGenerateImageBegin:function(){return f},handleGetHistoryBegin:function(){return S},handleValidateQuota:function(){return x},validateQuota:function(){return v}});var r=n(74165),s=n(15861),a=(n(31881),n(70816),n(64276)),i=n(42599),o=n(69473),c=n(91104),l=n(6343),u=(0,r.Z)().mark(f),d=(0,r.Z)().mark(x),p=(0,r.Z)().mark(S),h=(0,r.Z)().mark(y),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.Z.textToImageBaseURL+"/texttoimage/".concat(t),e.next=3,o.Z.post("".concat(a,"/generate"),n,{},null,{params:s});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.Z.textToImageBaseURL+"/texttoimage/".concat(t,"/history"),n&&n.sortKey?(s=s+"?lastEvaluatedKey="+n.sortKey,s+="&limit=".concat(5)):s+="?limit=".concat(5),e.next=4,o.Z.get(s);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function f(e){var t,n,s,i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectid,n=e.payload,r.prev=1,r.next=4,(0,a.RE)(m,t,n);case 4:return s=r.sent,i=s&&s.items?s.items:[],r.next=8,(0,a.gz)((0,l.generateImageComplete)({images:i}));case 8:r.next=21;break;case 10:if(r.prev=10,r.t0=r.catch(1),!(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.code&&"VIOLATES_CONTENT_POLICY"===r.t0.response.data.code)){r.next=18;break}return r.next=16,(0,a.gz)((0,l.generateImageComplete)({images:[],error:"Your request was rejected as a result of our moderation policy. Your prompt may be unsafe or inappropriate. Please change your prompt to continue."}));case 16:r.next=20;break;case 18:return r.next=20,(0,a.gz)((0,l.generateImageComplete)({images:[]}));case 20:(0,c.jy)("Generate-Image",r.t0.message);case 21:case"end":return r.stop()}}),u,null,[[1,10]])}var v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.project_id,s="".concat(i.Z.textToImageBaseURL,"/texttoimage/").concat(n,"/quotavalidate"),e.next=4,o.Z.get(s);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.RE)(v,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,l.validateTextToImageQuotaResponse)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,l.validateTextToImageQuotaResponse)({error:r.t0}));case 13:handleApiError("validate-video-quota",r.t0);case 14:case"end":return r.stop()}}),d,null,[[1,9]])}function S(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectid,n=e.payload,r.prev=1,r.next=4,(0,a.RE)(g,t,n);case 4:return s=r.sent,r.next=7,(0,a.gz)((0,l.historyRequestComplete)({items:s.Items,LastEvaluatedKey:s.LastEvaluatedKey,status:"success"}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,l.historyRequestComplete)({items:[],LastEvaluatedKey:{},status:"error"}));case 13:case"end":return r.stop()}}),p,null,[[1,9]])}function y(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Fm)(l.GENERATE_TEXT_TO_IMAGE_BEGIN,f);case 2:return e.next=4,(0,a.ib)(l.GET_HISTORY_BEGIN,S);case 4:return e.next=6,(0,a.ib)(l.VALIDATE_TEXTTOIMAGE_QUOTA_REQUEST,x);case 6:case"end":return e.stop()}}),h)}},57207:function(e,t,n){"use strict";n.r(t),n.d(t,{ADDONS_INITIATE:function(){return i},CANCEL_SUBSCRIPTION_INITIATE:function(){return g},CANCEL_SUBSCRIPTION_RESPONSE:function(){return f},CHANGE_PLAN_INITIATE:function(){return h},CHANGE_PLAN_RESPONSE:function(){return m},CREATE_AFFILIATE_FAILURE:function(){return R},CREATE_AFFILIATE_REQUEST:function(){return A},CREATE_AFFILIATE_SUCCESS:function(){return _},CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_FAILURE:function(){return Y},CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_REQUEST:function(){return K},CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_SUCCESS:function(){return q},EXTEND_FREE_TRIAL_FAILURE:function(){return ne},EXTEND_FREE_TRIAL_REQUEST:function(){return ee},EXTEND_FREE_TRIAL_SUCCESS:function(){return te},GET_ADDONS_RESPONSE:function(){return c},GET_AFFILIATE_FAILURE:function(){return O},GET_AFFILIATE_REQUEST:function(){return P},GET_AFFILIATE_SUCCESS:function(){return N},GET_PLANS_RESPONSE:function(){return o},GET_SCHEDULED_CHANGES_FAILURE:function(){return H},GET_SCHEDULED_CHANGES_REQUEST:function(){return z},GET_SCHEDULED_CHANGES_SUCCESS:function(){return J},GET_SUBSCRIPTION_INITIATE:function(){return l},GET_SUBSCRIPTION_RESPONSE:function(){return u},HIBERNATE_SUBSCRIPTION_FAILURE:function(){return L},HIBERNATE_SUBSCRIPTION_REQUEST:function(){return D},HIBERNATE_SUBSCRIPTION_SUCCESS:function(){return U},HOSTED_PAGE_DETAILS_INITIATE:function(){return w},HOSTED_PAGE_DETAILS_RESPONSE:function(){return Z},PLANS_INITIATE:function(){return a},QUOTA_UTILIZATION_INITIATE:function(){return k},QUOTA_UTILIZATION_RESPONSE:function(){return C},RENEW_SUBSCRIPTION_FAILURE:function(){return E},RENEW_SUBSCRIPTION_REQUEST:function(){return I},RENEW_SUBSCRIPTION_SUCCESS:function(){return T},START_PLAN_INITIATE:function(){return v},START_PLAN_RESPONSE:function(){return x},SUBSCRIPTION_CANCEL_DISCOUNT_FAILURE:function(){return W},SUBSCRIPTION_CANCEL_DISCOUNT_REQUEST:function(){return M},SUBSCRIPTION_CANCEL_DISCOUNT_SUCCESS:function(){return G},SUBSCRIPTION_HELP_FAILURE:function(){return B},SUBSCRIPTION_HELP_REQUEST:function(){return F},SUBSCRIPTION_HELP_SUCCESS:function(){return V},UPDATE_CARD_INITIATE:function(){return S},UPDATE_CARD_RESPONSE:function(){return y},UPDATE_COUNTRY_CODE_FAILURE:function(){return $},UPDATE_COUNTRY_CODE_REQUEST:function(){return Q},UPDATE_COUNTRY_CODE_SUCCESS:function(){return X},UPDATE_CUSTOMER_INTIATE:function(){return b},UPDATE_CUSTOMER_RESPONSE:function(){return j},UPGRADE_PLAN_INITIATE:function(){return d},UPGRADE_PLAN_RESPONSE:function(){return p},affiliateCreateFailure:function(){return Ae},affiliateCreateRequest:function(){return Te},affiliateCreateSuccess:function(){return Ee},affiliateGetFailure:function(){return Pe},affiliateGetRequest:function(){return _e},affiliateGetSuccess:function(){return Re},cancelSubscription:function(){return le},cancelSubscriptionDispatcher:function(){return we},changePlan:function(){return ce},changePlanDispatcher:function(){return je},createSubscriptionAfterGoogleSignupFailure:function(){return Ke},createSubscriptionAfterGoogleSignupRequest:function(){return Je},createSubscriptionAfterGoogleSignupSuccess:function(){return He},extendFreeTrial:function(){return Xe},extendFreeTrialFailure:function(){return et},extendFreeTrialSuccess:function(){return $e},getAddons:function(){return se},getAddonsDispacther:function(){return xe},getCurrentSubscription:function(){return ae},getCurrentSubscriptionDispacther:function(){return Se},getHostedPageDetails:function(){return ge},getPlansDispacther:function(){return ve},getPlansList:function(){return re},getScheduledChangesFailure:function(){return ze},getScheduledChangesRequest:function(){return Ge},getScheduledChangesSuccess:function(){return We},hibernateSubscriptionFailure:function(){return De},hibernateSubscriptionRequest:function(){return Ne},hibernateSubscriptionSuccess:function(){return Oe},hostedPageDetailsDispatcher:function(){return Ce},quotaUtilization:function(){return fe},quotaUtilizationDispatch:function(){return Ie},renewSubscriptionFailure:function(){return pe},renewSubscriptionRequest:function(){return ue},renewSubscriptionSuccess:function(){return de},startPlanDispatch:function(){return be},startPlanForExistingCustomer:function(){return oe},subscriptionCancelDiscountFailure:function(){return Me},subscriptionCancelDiscountRequest:function(){return Ve},subscriptionCancelDiscountSuccess:function(){return Be},subscriptionHelpFailure:function(){return Fe},subscriptionHelpRequest:function(){return Ue},subscriptionHelpSuccess:function(){return Le},updateCard:function(){return he},updateCardDispatcher:function(){return Ze},updateCountryCodeFailure:function(){return Qe},updateCountryCodeRequest:function(){return qe},updateCountryCodeSuccess:function(){return Ye},updateCustomer:function(){return me},updateCustomerDispatcher:function(){return ke},upgradeFromFreeTrial:function(){return ie},upgradeFromFreeTrialDispatcher:function(){return ye}});var r=n(4942),s=n(61253),a="PLANS_INITIATE",i="ADDONS_INITIATE",o="GET_PLANS_RESPONSE",c="GET_ADDONS_RESPONSE",l="GET_SUBSCRIPTION_INITIATE",u="GET_SUBSCRIPTION_RESPONSE",d="UPGRADE_PLAN_INITIATE",p="UPGRADE_PLAN_RESPONSE",h="CHANGE_PLAN_INITIATE",m="CHANGE_PLAN_RESPONSE",g="CANCEL_SUBSCRIPTION_INITIATE",f="CANCEL_SUBSCRIPTION_RESPONSE",v="START_PLAN_INITIATE",x="START_PLAN_RESPONSE",S="UPDATE_CARD_INITIATE",y="UPDATE_CARD_RESPONSE",b="UPDATE_CUSTOMER_INTIATE",j="UPDATE_CUSTOMER_RESPONSE",w="HOSTED_PAGE_DETAILS_INITIATE",Z="HOSTED_PAGE_DETAILS_RESPONSE",k="QUOTA_UTILIZATION_INITIATE",C="QUOTA_UTILIZATION_RESPONSE",I="RENEW_SUBSCRIPTION_REQUEST",T="RENEW_SUBSCRIPTION_SUCCESS",E="RENEW_SUBSCRIPTION_FAILURE",A="CREATE_AFFILIATE_REQUEST",_="CREATE_AFFILIATE_SUCCESS",R="CREATE_AFFILIATE_FAILURE",P="GET_AFFILIATE_REQUEST",N="GET_AFFILIATE_SUCCESS",O="GET_AFFILIATE_FAILURE",D="HIBERNATE_SUBSCRIPTION_REQUEST",U="HIBERNATE_SUBSCRIPTION_SUCCESS",L="HIBERNATE_SUBSCRIPTION_FAILURE",F="SUBSCRIPTION_HELP_REQUEST",V="SUBSCRIPTION_HELP_SUCCESS",B="SUBSCRIPTION_HELP_FAILURE",M="SUBSCRIPTION_CANCEL_DISCOUNT_REQUEST",G="SUBSCRIPTION_CANCEL_DISCOUNT_SUCCESS",W="SUBSCRIPTION_CANCEL_DISCOUNT_FAILURE",z="GET_SCHEDULED_CHANGES_REQUEST",J="GET_SCHEDULED_CHANGES_SUCCESS",H="GET_SCHEDULED_CHANGES_FAILURE",K="CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_REQUEST",q="CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_SUCCESS",Y="CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_FAILURE",Q="UPDATE_COUNTRY_CODE_REQUEST",X="UPDATE_COUNTRY_CODE_SUCCESS",$="UPDATE_COUNTRY_CODE_FAILURE",ee="EXTEND_FREE_TRIAL_REQUEST",te="EXTEND_FREE_TRIAL_SUCCESS",ne="EXTEND_FREE_TRIAL_FAILURE",re=function(e){return{type:a,userId:e}},se=function(e){return(0,r.Z)({type:i},s.jw,c)},ae=function(e,t){return(0,r.Z)({type:l,params:e,isPersonal:t},s.jw,u)},ie=function(e){return{type:d,params:e}},oe=function(e){return{type:v,params:e}},ce=function(e){return{type:h,params:e}},le=function(e){return{type:g,params:e}},ue=function(e){return{type:I,params:{subscriptionId:e}}},de=function(){return{type:T}},pe=function(){return{type:E}},he=function(e){return{type:S,params:e}},me=function(e){return{type:b,params:e}},ge=function(e){return{type:w,params:e}},fe=function(e){return{type:k,params:e}},ve=function(e){return{type:o,payload:e}},xe=function(e){return{type:c,payload:e}},Se=function(e){return{type:u,payload:e}},ye=function(e){return{type:p,payload:e}},be=function(e){return{type:x,payload:e}},je=function(e){return{type:m,payload:e}},we=function(e){return{type:f,payload:e}},Ze=function(e){return{type:y,payload:e}},ke=function(e){return{type:j,payload:e}},Ce=function(e){return{type:Z,payload:e}},Ie=function(e){return{type:C,payload:e}},Te=function(){return{type:A}},Ee=function(e){return{type:_,payload:{affiliate:e}}},Ae=function(e){return{type:R,payload:{error:e}}},_e=function(){return{type:P}},Re=function(e){return{type:N,payload:{affiliateStatusObject:e}}},Pe=function(e){return{type:O,payload:{error:e}}},Ne=function(e,t){return{type:D,params:{userId:e,subscriptionId:t}}},Oe=function(e){return{type:U,payload:{success:e}}},De=function(e){return{type:L,payload:{error:e}}},Ue=function(e,t,n){return{type:F,params:{userId:e,subscriptionId:t,helpReason:n}}},Le=function(e){return{type:V,payload:{success:e}}},Fe=function(e){return{type:B,payload:{error:e}}},Ve=function(e,t){return{type:M,params:{userId:e,subscriptionId:t}}},Be=function(e){return{type:G,payload:{success:e}}},Me=function(e){return{type:W,payload:{error:e}}},Ge=function(e){return{type:z,params:{subscriptionId:e}}},We=function(e){return{type:J,payload:{subscription:e}}},ze=function(e){return{type:H,payload:{error:e}}},Je=function(e,t,n,r){return{type:K,params:{location:e,leadSource:t,clickId:n,campaign:r}}},He=function(e){return{type:q,payload:{status:"success",data:e}}},Ke=function(e){return{type:Y,payload:{error:e}}},qe=function(){return{type:Q,payload:{}}},Ye=function(e){return{type:X,payload:{user:e}}},Qe=function(e){return{type:$,payload:{error:e}}},Xe=function(){return{type:ee,payload:{}}},$e=function(){return{type:te,payload:{reset:!0}}},et=function(e){return{type:ne,payload:{error:e}}}},83838:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(16031),a=n.n(s),i=n(90794),o=n(47439),c=n(57207),l={plansList:{list:[],status:"pending"},currentSubscription:{data:{},status:"pending"},subscribedCustomer:null,upgradePlan:{hostedPageURL:"",status:"pending"},currentPlan:{},changePlan:{data:{},status:"pending"},isUserSubscribed:!1,isFreeTrial:!1,cancelSubStatus:{success:!0},updateCustomer:{data:{},status:"pending"},hostedPageDetails:{data:{},status:"pending"},startPlan:{data:{},status:"pending"},quota:"pending",renewSubscriptionResult:{success:!0},hibernateSubscriptionResult:{success:!0},subscriptionHelpResult:{success:!0},subscriptionCancelDiscountResult:{success:!0},getScheduledChangesResult:{success:!0},scheduledSubscription:null,createSubscriptionAfterGoogleSignupResult:{success:!0},updateCountryCodeResult:{success:!1}};t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case c.GET_PLANS_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{plansList:s.payload});case c.GET_ADDONS_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{addonsList:s.payload});case c.GET_SUBSCRIPTION_RESPONSE:var u=null,d={},p={};if(s.payload&&"success"==s.payload.status){d=s.payload.data,u=s.payload.data;var h={};a().isEmpty(d)||(h=(0,r.Z)({},d.plan),d.subscription&&d.subscription.plan&&(delete h.plan_code,h=(0,r.Z)((0,r.Z)({},h),d.subscription.plan)),p=h,d=d.subscription,s.payload.data.currentQuota&&(d=(0,r.Z)((0,r.Z)({},d),{},{currentQuota:s.payload.data.currentQuota})),s.payload.data.billing_address&&(d.billing_address=s.payload.data.billing_address),s.payload.data.shipping_address&&(d.shipping_address=s.payload.data.shipping_address),s.payload.data.affiliate&&(d.affiliate=s.payload.data.affiliate),d=(0,r.Z)((0,r.Z)({},d),{},{data:s.payload.data})),s.payload.data.cognito_id&&(i.Z.setItem("subscription."+s.payload.data.cognito_id+".details",JSON.stringify(d)),i.Z.setItem("current."+s.payload.data.cognito_id+".plan",JSON.stringify(p)))}return(0,r.Z)((0,r.Z)({},n),{},{currentSubscription:d,subscribedCustomer:u,currentPlan:p,isFreeTrial:p.plan_code===o.yj.freeTrial||p.plan_code===o.yj.teamsFreeTrial});case c.CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{createSubscriptionAfterGoogleSignupResult:{success:!0,email:null===(e=s.payload)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.email}});case c.CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{createSubscriptionAfterGoogleSignupResult:(0,r.Z)((0,r.Z)({},s.payload.error),{},{success:!1})});case c.UPGRADE_PLAN_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{upgradePlan:s.payload});case c.START_PLAN_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{startPlan:s.payload});case c.UPDATE_CARD_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{upgradePlan:s.payload});case c.CHANGE_PLAN_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{changePlan:s.payload});case c.CANCEL_SUBSCRIPTION_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{cancelSubStatus:s.payload});case c.RENEW_SUBSCRIPTION_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{renewSubscriptionResult:{success:!0}});case c.RENEW_SUBSCRIPTION_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{renewSubscriptionResult:{success:!1}});case c.UPDATE_CUSTOMER_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{updateCustomer:s.payload});case c.HOSTED_PAGE_DETAILS_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{hostedPageDetails:s.payload});case c.QUOTA_UTILIZATION_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{quota:s.payload});case c.CREATE_AFFILIATE_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{affiliateCreateResult:(0,r.Z)({success:!0},s.payload)});case c.CREATE_AFFILIATE_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{affiliateCreateResult:(0,r.Z)({success:!1},s.payload)});case c.GET_AFFILIATE_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{affiliateGetResult:(0,r.Z)({success:!0},s.payload)});case c.GET_AFFILIATE_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{affiliateGetResult:(0,r.Z)({success:!1},s.payload)});case c.HIBERNATE_SUBSCRIPTION_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{hibernateSubscriptionResult:{success:!0}});case c.HIBERNATE_SUBSCRIPTION_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{hibernateSubscriptionResult:(0,r.Z)({success:!1},s.payload.error)});case c.SUBSCRIPTION_HELP_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{subscriptionHelpResult:{success:!0}});case c.SUBSCRIPTION_HELP_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{subscriptionHelpResult:(0,r.Z)({success:!1},s.payload.error)});case c.SUBSCRIPTION_CANCEL_DISCOUNT_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{subscriptionCancelDiscountResult:{success:!0}});case c.SUBSCRIPTION_CANCEL_DISCOUNT_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{subscriptionCancelDiscountResult:(0,r.Z)({success:!1},s.payload.error)});case c.GET_SCHEDULED_CHANGES_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{getScheduledChangesResult:{success:!0},scheduledSubscription:s.payload.subscription});case c.GET_SCHEDULED_CHANGES_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{getScheduledChangesResult:(0,r.Z)({success:!1},s.payload.error),scheduledSubscription:null});case c.UPDATE_COUNTRY_CODE_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{updateCountryCodeResult:{success:!0,countryCode:s.payload.user.country_code}});case c.UPDATE_COUNTRY_CODE_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{updateCountryCodeResult:(0,r.Z)((0,r.Z)({},s.payload.error),{},{success:!1})});case c.EXTEND_FREE_TRIAL_SUCCESS:return(0,r.Z)((0,r.Z)({},n),s.payload);case c.EXTEND_FREE_TRIAL_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{reset:!1});default:return n}}},5539:function(e,t,n){"use strict";n.r(t),n.d(t,{affiliateCreateRequest:function(){return Le},affiliateGetRequest:function(){return Ue},cancelSubAPI:function(){return me},changePlanAPI:function(){return he},createSubscriptionAfterGoogleSignupRequest:function(){return We},default:function(){return rt},extendFreeTrialApi:function(){return Ze},extendFreeTrialHandler:function(){return Je},freeTrialSubscriptionConfirmedNotification:function(){return Ge},getAddonsAPI:function(){return oe},getCurrentSubAPI:function(){return ce},getPersonalCurrentSubscription:function(){return le},getPlansAPI:function(){return ie},getScheduledChanges:function(){return Se},getScheduledChangesRequest:function(){return Me},handleCancelSub:function(){return _e},handleChangePlan:function(){return Ae},handleGetAddons:function(){return Ce},handleGetCurrentSub:function(){return Ie},handleGetPlans:function(){return ke},handleHostedPageDetails:function(){return Ne},handleQuotaUtilization:function(){return Oe},handleStartPlan:function(){return Re},handleUpdateCard:function(){return Pe},handleUpdateCustomer:function(){return Te},handleUpgradeFromFreeTrial:function(){return Ee},hibernateSubscription:function(){return fe},hibernateSubscriptionRequest:function(){return Fe},hostedPageAPI:function(){return be},quotaUtilizationAPI:function(){return je},renewSubscription:function(){return ge},startPlanAPI:function(){return de},subscriptionCancelDiscount:function(){return xe},subscriptionCancelDiscountRequest:function(){return Be},subscriptionHelp:function(){return ve},subscriptionHelpRequest:function(){return Ve},updateCardAPI:function(){return pe},updateCountryCodeApi:function(){return we},updateCountryCodeRequestHandler:function(){return ze},updateCustomerAPI:function(){return ye},upgradeFromFreeTrialAPI:function(){return ue},watchAffiliateCreateRequest:function(){return He},watchAffiliateGetRequest:function(){return Ke},watchCreateSubscriptionAfterGoogleSignupRequest:function(){return et},watchExtendFreeTrialRequest:function(){return nt},watchFreeTrialSubscriptionConfirmedNotification:function(){return $e},watchGetScheduledChangesRequest:function(){return Xe},watchHibernateSubscriptionRequest:function(){return qe},watchRenewSubscriptionRequest:function(){return De},watchSubscriptionCancelDiscountRequest:function(){return Qe},watchSubscriptionHelpRequest:function(){return Ye},watchUpdateCountryCodeRequest:function(){return tt}});var r=n(36459),s=n(1413),a=n(74165),i=n(15861),o=n(51443),c=n.n(o),l=n(78503),u=n(40009),d=n(80761),p=n(64276),h=n(34862),m=n(11043),g=n(42599),f=n(69473),v=n(91104),x=n(47439),S=n(20140),y=n(89956),b=n(57207),j=n(58484),w=(0,a.Z)().mark(ke),Z=(0,a.Z)().mark(Ce),k=(0,a.Z)().mark(Ie),C=(0,a.Z)().mark(Te),I=(0,a.Z)().mark(Ee),T=(0,a.Z)().mark(Ae),E=(0,a.Z)().mark(_e),A=(0,a.Z)().mark(Re),_=(0,a.Z)().mark(Pe),R=(0,a.Z)().mark(Ne),P=(0,a.Z)().mark(Oe),N=(0,a.Z)().mark(De),O=(0,a.Z)().mark(Ue),D=(0,a.Z)().mark(Le),U=(0,a.Z)().mark(Fe),L=(0,a.Z)().mark(Ve),F=(0,a.Z)().mark(Be),V=(0,a.Z)().mark(Me),B=(0,a.Z)().mark(Ge),M=(0,a.Z)().mark(We),G=(0,a.Z)().mark(ze),W=(0,a.Z)().mark(Je),z=(0,a.Z)().mark(He),J=(0,a.Z)().mark(Ke),H=(0,a.Z)().mark(qe),K=(0,a.Z)().mark(Ye),q=(0,a.Z)().mark(Qe),Y=(0,a.Z)().mark(Xe),Q=(0,a.Z)().mark($e),X=(0,a.Z)().mark(et),$=(0,a.Z)().mark(tt),ee=(0,a.Z)().mark(nt),te=(0,a.Z)().mark(rt),ne=function(e){return e.subscription.currentSubscription};String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,(function(t,n){return void 0!==e[n]?e[n]:t}))});var re=function(e){var t=g.Z.subscriptionBaseURL,n=(0,v.E3)();return n&&!e&&(t=g.Z.teamSubscriptionBaseURL.format(n)),t},se=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.Z.subscriptionBaseURL,e.next=3,(0,S.VB)(!0,f.Z);case 3:if("v2"===e.sent&&(n=g.Z.subscriptionBaseURLV2),!(r=(0,v.E3)())||t){e.next=15;break}return e.next=9,(0,S.VB)(!1,f.Z);case 9:return e.sent,n=g.Z.teamSubscriptionBaseURL.format(r),e.next=13,(0,S.VB)(!1,f.Z);case 13:"v2"===e.sent&&(n=g.Z.teamSubscriptionBaseURLV2.format(r));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.Z.planBaseURL,e.next=3,(0,S.VB)(!0,f.Z);case 3:if("v2"===(r=e.sent)&&(n=g.Z.planBaseURLV2),!(s=(0,v.E3)())||t){e.next=12;break}return e.next=9,(0,S.VB)(!1,f.Z);case 9:r=e.sent,n=g.Z.teamPlanBaseURL.format(s),"v2"===r&&(n=g.Z.teamPlanBaseURLV2.format(s));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.Z.planBaseURL+"/plans",e.next=3,(0,S.VB)(!0,f.Z);case 3:if("v2"===(r=e.sent)&&(n=g.Z.planBaseURLV2+"/plans"),!(s=(0,v.E3)())){e.next=18;break}return e.next=9,(0,S.VB)(!1,f.Z);case 9:return r=e.sent,n=g.Z.teamPlanBaseURL.format(s)+"/plans?fetch=all","v2"===r&&(n=g.Z.teamPlanBaseURLV2.format(s)+"/plans?fetch=all"),e.next=14,f.Z.get(n);case 14:return i=e.sent,e.abrupt("return",i.data);case 18:return e.next=20,f.Z.get(n);case 20:return o=e.sent,e.abrupt("return",o.data);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.Z.planBaseURL+"/addons",e.next=3,(0,S.VB)(!0,f.Z);case 3:return"v2"===e.sent&&(n=g.Z.planBaseURLV2+"/addons"),e.next=7,f.Z.get(n);case 7:return r=e.sent,e.abrupt("return",r.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:return n=e.sent,e.next=5,f.Z.get(n);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.Z.subscriptionBaseURL,e.next=3,f.Z.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.subId,r=t.newPlan,t.userId,s=g.Z.subscriptionBaseURL+"/"+n+"/upgrade",e.next=4,(0,S.VB)(!0,f.Z);case 4:return"v2"===e.sent&&(s=g.Z.subscriptionBaseURLV2+"/"+n+"/upgrade"),e.next=8,f.Z.put(s,r);case 8:return i=e.sent,e.abrupt("return",i.data&&i.data.hostedPageUrl?i.data.hostedPageUrl:"");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,i,o,c,u,d,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newPlan,r=t.userId,i=t.image,o=t.path,c=g.Z.subscriptionBaseURLV2,e.next=4,(0,S.o9)("custom:country_code");case 4:if(n.country_code=e.sent,u={},!i){e.next=27;break}return d="",e.prev=9,p={level:"public",ACL:"public-read"},"image/svg+xml"==i.type&&(p.contentType="image/svg+xml"),e.next=14,(0,y.d)();case 14:return e.next=16,l.Ke.put(o,i,p);case 16:d=m.Z.Instance.GetUserUploadUrl(r+"/user/image.jpg","public"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),d="";case 22:return e.next=24,f.Z.post(c,(0,s.Z)((0,s.Z)({},n),{},{picture:d}));case 24:u=e.sent,e.next=30;break;case 27:return e.next=29,f.Z.post(c,(0,s.Z)({},n));case 29:u=e.sent;case 30:return e.abrupt("return",u.data);case 31:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.subId,t.userId,r=t.redirectURL,s=t.customer_id,o="",null!=(i=void 0===s?null:s)){e.next=12;break}return e.next=5,se();case 5:e.t0=e.sent,e.t1=e.t0+"/",e.t2=n,e.t3=e.t1+e.t2,o=e.t3+"/updatecard",e.next=19;break;case 12:return e.next=14,se();case 14:e.t4=e.sent,e.t5=e.t4+"/",e.t6=i,e.t7=e.t5+e.t6,o=e.t7+"/updatecard";case 19:return e.next=21,f.Z.put(o,r);case 21:return c=e.sent,console.log("subscription: "+c),e.abrupt("return",c.data&&c.data.hostedPageUrl?c.data.hostedPageUrl:"");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.subId,r=t.newPlan,t.userId,e.next=3,se();case 3:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=n,s=e.t1+e.t2,e.next=9,f.Z.put(s,r);case 9:return i=e.sent,e.abrupt("return",i.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.subId,t.userId,e.next=3,se();case 3:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=n,r=e.t1+e.t2,e.next=9,f.Z.delete(r);case 9:return s=e.sent,e.abrupt("return",s.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=t,e.t3=e.t1+e.t2,n=e.t3+"/renew",e.next=9,f.Z.put(n,{});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=t,e.t3=e.t1+e.t2,n=e.t3+"/hibernate",e.next=9,f.Z.put(n,{});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=t,e.t3=e.t1+e.t2,r=e.t3+"/help",e.next=9,f.Z.put(r,{helpReason:n});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=t,e.t3=e.t1+e.t2,n=e.t3+"/coupons/cancellation",e.next=9,f.Z.put(n,{});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=t,e.t3=e.t1+e.t2,n=e.t3+"/scheduledchanges",e.next=10,f.Z.get(n);case 10:return r=e.sent,e.abrupt("return",r.data);case 14:if(e.prev=14,e.t4=e.catch(0),e.t4.isAxiosError&&e.t4.response&&404===e.t4.response.status){e.next=18;break}throw e.t4;case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,i,o,c,u,d,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.postData,i=t.image,o=t.path,c=g.Z.customerBaseURL,e.next=4,(0,S.VB)(!0,f.Z);case 4:if("v2"===e.sent&&(c=g.Z.customerBaseURLV2),u={},!i){e.next=28;break}return d="",e.prev=10,p={level:"public",ACL:"public-read"},"image/svg+xml"==i.type&&(p.contentType="image/svg+xml"),e.next=15,(0,y.d)();case 15:return e.next=17,l.Ke.put(o,i,p);case 17:d=m.Z.Instance.GetUserUploadUrl(n+"/user/image.jpg","public"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),d="";case 23:return e.next=25,f.Z.put(c,(0,s.Z)((0,s.Z)({},r),{},{picture:d}));case 25:u=e.sent,e.next=31;break;case 28:return e.next=30,f.Z.put(c,(0,s.Z)({},r));case 30:u=e.sent;case 31:return e.abrupt("return",u.data);case 32:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userId,n=t.hostedPageId,e.next=3,ae();case 3:return e.t0=e.sent,e.t1=e.t0+"/invoices/",e.t2=n,r=e.t1+e.t2,e.next=9,f.Z.get(r);case 9:return s=e.sent,e.abrupt("return",s.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.Z.customerBaseURL+"/quota/utilization",e.next=3,(0,S.VB)(!0,f.Z);case 3:return"v2"===e.sent&&(t=g.Z.customerBaseURLV2+"/quota/utilization"),e.next=7,f.Z.put(t,{videos:1});case 7:return n=e.sent,e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.Z.customerBaseURLV2+"/updateCountry",e.next=3,f.Z.post(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.Z.customerBaseURL+"/extendFreeTrial",e.next=3,f.Z.post(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ke(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userId,r.prev=1,r.next=4,(0,p.RE)(ie,t);case 4:return n=r.sent,r.next=7,(0,p.gz)((0,b.getPlansDispacther)({list:n,status:"success"}));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),(0,v.jy)("get-all-plan-list",r.t0.message),r.next=14,(0,p.gz)((0,b.getPlansDispacther)({list:[],status:"failed"}));case 14:case"end":return r.stop()}}),w,null,[[1,9]])}function Ce(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.RE)(oe);case 3:return e=t.sent,t.next=6,(0,p.gz)((0,b.getAddonsDispacther)({list:e,status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),(0,v.jy)("get-all-addon-list",t.t0.message),t.next=13,(0,p.gz)((0,b.getAddonsDispacther)({list:[],status:"failed"}));case 13:case"end":return t.stop()}}),Z,null,[[0,8]])}function Ie(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,p.RE)(ce,e.isPersonal);case 3:return(t=r.sent)&&t.subscription&&(0,v.$Y)({subscription:t.subscription.name}),r.next=7,(0,p.gz)((0,b.getCurrentSubscriptionDispacther)({data:t,status:"success",isChanged:(0,v.DO)()}));case 7:r.next=16;break;case 9:return r.prev=9,r.t0=r.catch(0),n={},"failed",r.t0&&r.t0.response&&404==r.t0.response.status||(n.plan={plan_code:x.yj.userNotSubscribed}),"success",r.next=16,(0,p.gz)((0,b.getCurrentSubscriptionDispacther)({data:n,status:"success"}));case 16:case"end":return r.stop()}}),k,null,[[0,9]])}function Te(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.RE)(ye,e.params);case 3:return t=n.sent,n.next=6,(0,p.Cs)(Ie,{params:e.params.userId});case 6:return n.next=8,(0,p.gz)((0,b.updateCustomerDispatcher)({data:(0,s.Z)((0,s.Z)({},t),{},{isChanged:(0,v.DO)()}),status:"success"}));case 8:case 15:n.next=19;break;case 10:if(n.prev=10,n.t0=n.catch(0),!(n.t0&&n.t0.response&&n.t0.response.data&&n.t0.response.data.code)){n.next=17;break}return n.next=15,(0,p.gz)((0,b.updateCustomerDispatcher)({data:{code:n.t0.response.data.code,message:n.t0.response.data.message,isChanged:(0,v.DO)()},status:"success"}));case 17:return n.next=19,(0,p.gz)((0,b.updateCustomerDispatcher)({data:{code:"failed",isChanged:(0,v.DO)()},status:"success"}));case 19:case"end":return n.stop()}}),C,null,[[0,10]])}function Ee(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.RE)(ue,e.params);case 3:return t=n.sent,n.next=6,(0,p.gz)((0,b.upgradeFromFreeTrialDispatcher)({hostedPageURL:t,status:"success"}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,p.gz)((0,b.upgradeFromFreeTrialDispatcher)({hostedPageURL:"",status:"failed",error:n.t0.response&&n.t0.response.data}));case 12:case"end":return n.stop()}}),I,null,[[0,8]])}function Ae(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.RE)(he,e.params);case 3:return t=n.sent,n.next=6,(0,p.gz)((0,b.changePlanDispatcher)({data:t,status:"success"}));case 6:case 13:n.next=17;break;case 8:if(n.prev=8,n.t0=n.catch(0),!n.t0.response){n.next=15;break}return n.next=13,(0,p.gz)((0,b.changePlanDispatcher)({data:(0,s.Z)((0,s.Z)({},n.t0.response.data),e.params.planDetails),status:"failed"}));case 15:return n.next=17,(0,p.gz)((0,b.changePlanDispatcher)({data:(0,s.Z)({message:"Payment Failed"},e.params.planDetails),status:"failed"}));case 17:case"end":return n.stop()}}),T,null,[[0,8]])}function _e(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.RE)(me,e.params);case 3:return t.sent,t.next=6,(0,p.RE)(Ie,{params:e.params.userId});case 6:return t.next=8,(0,p.RE)(Me,{subscriptionId:e.params.subId});case 8:return t.next=10,(0,p.gz)((0,b.cancelSubscriptionDispatcher)({success:!0}));case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,(0,p.gz)((0,b.cancelSubscriptionDispatcher)({success:!1}));case 16:case"end":return t.stop()}}),E,null,[[0,12]])}function Re(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c().getInstance().logEvent("begin-trial-activation"),t=null,n.prev=3,n.next=6,(0,p.RE)(le);case 6:(t=n.sent)&&t.subscription&&(c().getInstance().logEvent("pre-sign-up-trial-activation"),(0,v.$Y)({subscription:t.subscription.name})),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(3);case 12:if(t){n.next=20;break}return n.next=15,(0,p.RE)(de,e.params);case 15:(t=n.sent).email&&c().getInstance().setUserId(t.email),c().getInstance().logEvent("post-sign-up-trial-activation"),t.cognito_id&&t.cognito_id.includes("Google")&&c().getInstance().logEvent("user-signup",{provider:"Google",email:t.email,leadSource:t.leadSource,device:h.tq?"mobile":"computer",platform:(0,v.Ij)()});case 20:return n.next=22,(0,p.gz)((0,b.startPlanDispatch)({data:(0,s.Z)((0,s.Z)({},t),{},{isChanged:(0,v.DO)()}),status:"success"}));case 22:n.next=34;break;case 24:if(n.prev=24,n.t1=n.catch(0),(0,v.jy)("start-plan",n.t1.message),!(n.t1&&n.t1.response&&n.t1.response.data&&n.t1.response.data.code)){n.next=32;break}return n.next=30,(0,p.gz)((0,b.startPlanDispatch)({data:{code:n.t1.response.data.code,message:n.t1.response.data.message,isChanged:(0,v.DO)()},status:"success"}));case 30:n.next=34;break;case 32:return n.next=34,(0,p.gz)((0,b.startPlanDispatch)({data:{code:"failed",isChanged:(0,v.DO)()},status:"success"}));case 34:case"end":return n.stop()}}),A,null,[[0,24],[3,10]])}function Pe(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.RE)(pe,e.params);case 3:return t=n.sent,n.next=6,(0,p.gz)((0,b.updateCardDispatcher)({hostedPageURL:t,status:"success"}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,p.gz)((0,b.updateCardDispatcher)({hostedPageURL:"",status:"failed"}));case 12:case"end":return n.stop()}}),_,null,[[0,8]])}function Ne(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.RE)(be,e.params);case 3:return t=n.sent,n.next=6,(0,p.gz)((0,b.hostedPageDetailsDispatcher)({data:t,status:"success"}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,p.gz)((0,b.hostedPageDetailsDispatcher)({data:{},status:"failed"}));case 12:case"end":return n.stop()}}),R,null,[[0,8]])}function Oe(e){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.RE)(je);case 3:return e.sent,e.next=6,(0,p.gz)((0,b.hostedPageDetailsDispatcher)("success"));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,(0,p.gz)((0,b.hostedPageDetailsDispatcher)("failed"));case 12:case"end":return e.stop()}}),P,null,[[0,8]])}function De(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=t.subscriptionId,r.next=5,(0,p.RE)(ge,n);case 5:return r.next=7,(0,p.gz)((0,b.renewSubscriptionSuccess)());case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,p.gz)((0,b.renewSubscriptionFailure)());case 13:case"end":return r.stop()}}),N,null,[[1,9]])}function Ue(){var e,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e="".concat(g.Z.customerBaseURL,"/affiliate"),n.next=4,(0,p.RE)(S.o9,"custom:customer_version");case 4:return"v2"===n.sent&&(e="".concat(g.Z.customerBaseURLV2,"/affiliate")),n.next=8,(0,p.RE)([f.Z,f.Z.get],e);case 8:return t=n.sent,n.next=11,(0,p.gz)((0,b.affiliateGetSuccess)(t.data));case 11:case 24:n.next=28;break;case 13:if(n.prev=13,n.t0=n.catch(0),(0,v.jy)("get-affiliate",n.t0.message),!n.t0.isAxiosError){n.next=21;break}if(!n.t0.response||401!==n.t0.response.status){n.next=21;break}return n.next=20,(0,p.gz)((0,b.affiliateGetFailure)({code:"PERMISSION_DENIED",message:"Permission denied."}));case 20:return n.abrupt("return");case 21:if(!n.t0.code||!n.t0.message){n.next=26;break}return n.next=24,(0,p.gz)((0,b.affiliateGetFailure)(n.t0));case 26:return n.next=28,(0,p.gz)((0,b.affiliateGetFailure)({code:"failed",message:"Affiliate get failed"}));case 28:case"end":return n.stop()}}),O,null,[[0,13]])}function Le(){var e,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e="".concat(g.Z.customerBaseURL,"/affiliate"),n.next=4,(0,p.RE)(S.VB,!0,f.Z);case 4:return"v2"===n.sent&&(e="".concat(g.Z.customerBaseURLV2,"/affiliate")),n.next=8,(0,p.RE)([f.Z,f.Z.post],e);case 8:return t=n.sent,n.next=11,(0,p.gz)((0,b.affiliateCreateSuccess)(t.data));case 11:case 24:n.next=28;break;case 13:if(n.prev=13,n.t0=n.catch(0),(0,v.jy)("create-affiliate",n.t0.message),!n.t0.isAxiosError){n.next=21;break}if(!n.t0.response||401!==n.t0.response.status){n.next=21;break}return n.next=20,(0,p.gz)((0,b.affiliateCreateFailure)({code:"PERMISSION_DENIED",message:"Permission denied."}));case 20:return n.abrupt("return");case 21:if(!n.t0.code||!n.t0.message){n.next=26;break}return n.next=24,(0,p.gz)((0,b.affiliateCreateFailure)(n.t0));case 26:return n.next=28,(0,p.gz)((0,b.affiliateCreateFailure)({code:"failed",message:"Affiliate create failed"}));case 28:case"end":return n.stop()}}),D,null,[[0,13]])}function Fe(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,n=e.subscriptionId,s.prev=1,s.next=4,(0,p.RE)(fe,n);case 4:return s.next=6,(0,p.RE)(Ie,{params:t});case 6:return s.next=8,(0,p.RE)(Me,{subscriptionId:n});case 8:return s.next=10,(0,p.gz)((0,b.hibernateSubscriptionSuccess)(!0));case 10:s.next=18;break;case 12:return s.prev=12,s.t0=s.catch(1),(0,v.jy)("hibernate-subscription",s.t0.message),r=(0,d.Z)(s.t0,"Subscription","hibernate"),s.next=18,(0,p.gz)((0,b.hibernateSubscriptionFailure)(r));case 18:case"end":return s.stop()}}),U,null,[[1,12]])}function Ve(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.userId,t=e.subscriptionId,n=e.helpReason,s.prev=1,s.next=4,(0,p.RE)(ve,t,n);case 4:return s.next=6,(0,p.gz)((0,b.subscriptionHelpSuccess)(!0));case 6:s.next=14;break;case 8:return s.prev=8,s.t0=s.catch(1),(0,v.jy)("subscription-help",s.t0.message),r=(0,d.Z)(s.t0,"Subscription","help"),s.next=14,(0,p.gz)((0,b.subscriptionHelpFailure)(r));case 14:case"end":return s.stop()}}),L,null,[[1,8]])}function Be(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,n=e.subscriptionId,s.prev=1,s.next=4,(0,p.RE)(xe,n);case 4:return s.next=6,(0,p.RE)(Ie,{params:t});case 6:return s.next=8,(0,p.gz)((0,b.subscriptionCancelDiscountSuccess)({success:!0}));case 8:s.next=16;break;case 10:return s.prev=10,s.t0=s.catch(1),(0,v.jy)("subscription-cancel-discount",s.t0.message),r=(0,d.Z)(s.t0,"Subscription","Cancel Discount"),s.next=16,(0,p.gz)((0,b.subscriptionCancelDiscountFailure)(r));case 16:case"end":return s.stop()}}),F,null,[[1,10]])}function Me(e){var t,n,r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.subscriptionId,s.prev=1,s.next=4,(0,p.RE)(Se,t);case 4:return(n=s.sent)&&!n.plan&&(n=null),s.next=8,(0,p.gz)((0,b.getScheduledChangesSuccess)(n));case 8:s.next=15;break;case 10:return s.prev=10,s.t0=s.catch(1),r=(0,d.Z)(s.t0,"Subscription","get scheduled changes"),s.next=15,(0,p.gz)((0,b.getScheduledChangesFailure)(r));case 15:case"end":return s.stop()}}),V,null,[[1,10]])}function Ge(e){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,r.prev=1,r.next=4,(0,p.Ys)(ne);case 4:if(!(n=r.sent)||!n.data||n.data.cognito_id!==t.userId){r.next=8;break}return r.next=8,(0,p.RE)(Ie,{params:t.userId});case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(1);case 12:case"end":return r.stop()}}),B,null,[[1,10]])}function We(e){var t,n,r,s,i,o,l,m,x,S,y,j,w,Z,k,C,I,T,E;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.location,n=e.leadSource,r=e.clickId,s=e.campaign,a.prev=1,a.next=4,(0,p.RE)([u.g,u.g.currentAuthenticatedUser]);case 4:if(!(i=a.sent)){a.next=45;break}return o={"custom:customer_version":"v2","custom:country_code":t},l=null,a.prev=8,a.next=11,(0,p.RE)(le);case 11:l=a.sent,a.next=16;break;case 14:a.prev=14,a.t0=a.catch(8);case 16:if(!l){a.next=26;break}return m=g.Z.customerBaseURL,"chargebee"===l.organization_id?(o["custom:customer_version"]="v2",m=g.Z.customerBaseURLV2):o["custom:customer_version"]="v1",a.next=21,(0,p.RE)([u.g,u.g.updateUserAttributes],i,o);case 21:if(l.country_code){a.next=24;break}return a.next=24,(0,p.RE)([f.Z,f.Z.put],m,{country_code:t});case 24:a.next=41;break;case 26:return a.next=28,(0,p.RE)([u.g,u.g.updateUserAttributes],i,o);case 28:for(x=i.attributes,S=x.email,x.website,y=x.name.trim(),j=y,y=y.split(" "),w=y[0],Z="",k=1;k<y.length;k++)C=y[k],Z=Z+C+" ";return I={display_name:j,first_name:w,last_name:Z?Z.trim():"",email:null==S?void 0:S.toLowerCase(),company_name:w,phone:"",job:"",country:"",country_code:t,industry:"",leadsource:n,googleclickid:r&&"undefined"!=r?r:"",campaign:s},a.next=39,(0,p.RE)([f.Z,f.Z.post],g.Z.subscriptionBaseURLV2,I);case 39:l=a.sent,c().getInstance().logEvent("user-signup",{provider:"Google",email:I.email,leadSource:n,device:h.tq?"mobile":"computer",platform:(0,v.Ij)()});case 41:return a.next=43,(0,p.gz)((0,b.createSubscriptionAfterGoogleSignupSuccess)(l));case 43:a.next=48;break;case 45:return T=(0,d.Z)({message:"User not loggedin"},"Create","Google user subscription"),a.next=48,(0,p.gz)((0,b.createSubscriptionAfterGoogleSignupFailure)(T));case 48:a.next=56;break;case 50:return a.prev=50,a.t1=a.catch(1),(0,v.jy)("create-google-user-subscription",a.t1.message),E=(0,d.Z)(a.t1,"Create","Google user subscription"),a.next=56,(0,p.gz)((0,b.createSubscriptionAfterGoogleSignupFailure)(E));case 56:case"end":return a.stop()}}),M,null,[[1,50],[8,14]])}function ze(){var e,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.RE)([u.g,u.g.currentAuthenticatedUser]);case 3:return n.sent,n.next=6,(0,p.RE)(we);case 6:if(!(e=n.sent).data.country_code||""==e.data.country_code){n.next=10;break}return n.next=10,(0,p.gz)((0,b.updateCountryCodeSuccess)(e.data));case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),t=(0,d.Z)(n.t0,"Subscription"),n.next=17,(0,p.gz)((0,b.updateCountryCodeFailure)(t));case 17:case"end":return n.stop()}}),G,null,[[0,12]])}function Je(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.RE)(Ze);case 3:if(201!==t.sent.status){t.next=7;break}return t.next=7,(0,p.gz)((0,b.extendFreeTrialSuccess)());case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),e=(0,d.Z)(t.t0,"Subscriptions"),t.next=14,(0,p.gz)((0,b.extendFreeTrialFailure)(e));case 14:case"end":return t.stop()}}),W,null,[[0,9]])}function He(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Le,t);case 3:case"end":return n.stop()}}),z)}function Ke(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Ue,t);case 3:case"end":return n.stop()}}),J)}function qe(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Fe,t);case 3:case"end":return n.stop()}}),H)}function Ye(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Ve,t);case 3:case"end":return n.stop()}}),K)}function Qe(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Be,t);case 3:case"end":return n.stop()}}),q)}function Xe(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Me,t);case 3:case"end":return n.stop()}}),Y)}function $e(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(Ge,t);case 3:case"end":return n.stop()}}),Q)}function et(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,p.RE)(We,t);case 3:case"end":return n.stop()}}),X)}function tt(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,r.Z)(e),t.next=3,(0,p.RE)(ze);case 3:case"end":return t.stop()}}),$)}function nt(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,r.Z)(e),t.next=3,(0,p.RE)(Je);case 3:case"end":return t.stop()}}),ee)}function rt(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.ib)(b.PLANS_INITIATE,ke);case 2:return e.next=4,(0,p.ib)(b.ADDONS_INITIATE,Ce);case 4:return e.next=6,(0,p.ib)(b.GET_SUBSCRIPTION_INITIATE,Ie);case 6:return e.next=8,(0,p.ib)(b.UPGRADE_PLAN_INITIATE,Ee);case 8:return e.next=10,(0,p.ib)(b.CHANGE_PLAN_INITIATE,Ae);case 10:return e.next=12,(0,p.ib)(b.CANCEL_SUBSCRIPTION_INITIATE,_e);case 12:return e.next=14,(0,p.Fm)(b.RENEW_SUBSCRIPTION_REQUEST,De);case 14:return e.next=16,(0,p.ib)(b.START_PLAN_INITIATE,Re);case 16:return e.next=18,(0,p.ib)(b.UPDATE_CARD_INITIATE,Pe);case 18:return e.next=20,(0,p.ib)(b.UPDATE_CUSTOMER_INTIATE,Te);case 20:return e.next=22,(0,p.ib)(b.HOSTED_PAGE_DETAILS_INITIATE,Ne);case 22:return e.next=24,(0,p.ib)(b.QUOTA_UTILIZATION_INITIATE,Oe);case 24:return e.next=26,(0,p.ib)(b.CREATE_AFFILIATE_REQUEST,He);case 26:return e.next=28,(0,p.ib)(b.GET_AFFILIATE_REQUEST,Ke);case 28:return e.next=30,(0,p.ib)(b.HIBERNATE_SUBSCRIPTION_REQUEST,qe);case 30:return e.next=32,(0,p.ib)(b.SUBSCRIPTION_HELP_REQUEST,Ye);case 32:return e.next=34,(0,p.ib)(b.SUBSCRIPTION_CANCEL_DISCOUNT_REQUEST,Qe);case 34:return e.next=36,(0,p.ib)(b.GET_SCHEDULED_CHANGES_REQUEST,Xe);case 36:return e.next=38,(0,p.ib)(j.FREE_TRIAL_SUBSCRIPTION_CONFIRMED_NOTIFICATION,$e);case 38:return e.next=40,(0,p.ib)(b.CREATE_SUBSCRIPTION_AFTER_GOOGLE_SIGNUP_REQUEST,et);case 40:return e.next=42,(0,p.ib)(b.UPDATE_COUNTRY_CODE_REQUEST,tt);case 42:return e.next=44,(0,p.ib)(b.EXTEND_FREE_TRIAL_REQUEST,nt);case 44:case"end":return e.stop()}}),te)}},34355:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_STYLES_BY_ATTRIBUTES_FAILURE:function(){return y},GET_STYLES_BY_ATTRIBUTES_REQUEST:function(){return x},GET_STYLES_BY_ATTRIBUTES_SUCCESS:function(){return S},GET_STYLES_FAILURE:function(){return u},GET_STYLES_REQUEST:function(){return c},GET_STYLES_SUCCESS:function(){return l},GET_STYLE_USERS_FAILURE:function(){return A},GET_STYLE_USERS_REQUEST:function(){return T},GET_STYLE_USERS_SUCCESS:function(){return E},GET_TEMPLATES_FAILURE:function(){return o},GET_TEMPLATES_REQUEST:function(){return a},GET_TEMPLATES_SUCCESS:function(){return i},GET_TEMPLATE_STYLES_FAILURE:function(){return h},GET_TEMPLATE_STYLES_REQUEST:function(){return d},GET_TEMPLATE_STYLES_SUCCESS:function(){return p},GET_TEMPLATE_USERS_FAILURE:function(){return I},GET_TEMPLATE_USERS_REQUEST:function(){return k},GET_TEMPLATE_USERS_SUCCESS:function(){return C},SAVE_STYLE_INITIATE:function(){return f},SAVE_STYLE_RESPONSE:function(){return v},SAVE_TEMPLATE_INITIATE:function(){return m},SAVE_TEMPLATE_RESPONSE:function(){return g},SHARE_STYLE_INITIATE:function(){return w},SHARE_STYLE_RESPONSE:function(){return Z},SHARE_TEMPLATE_INITIATE:function(){return b},SHARE_TEMPLATE_RESPONSE:function(){return j},getStyleUsersFailure:function(){return ne},getStyleUsersRequest:function(){return ee},getStyleUsersSuccess:function(){return te},getStylesByAttributesFailure:function(){return H},getStylesByAttributesRequest:function(){return z},getStylesByAttributesSuccess:function(){return J},getStylesFailure:function(){return W},getStylesRequest:function(){return M},getStylesSuccess:function(){return G},getTemplateStylesFailure:function(){return Y},getTemplateStylesRequest:function(){return K},getTemplateStylesSuccess:function(){return q},getTemplateUsersFailure:function(){return $},getTemplateUsersRequest:function(){return Q},getTemplateUsersSuccess:function(){return X},getTemplatesFailure:function(){return B},getTemplatesRequest:function(){return F},getTemplatesSuccess:function(){return V},saveStyle:function(){return R},saveStyleDispatcher:function(){return D},saveTemplate:function(){return _},saveTemplateDispatcher:function(){return O},shareStyle:function(){return N},shareStyleDispatcher:function(){return L},shareTemplate:function(){return P},shareTemplateDispatcher:function(){return U}});var r=n(4942),s=n(61253),a="GET_TEMPLATES_REQUEST",i="GET_TEMPLATES_SUCCESS",o="GET_TEMPLATES_FAILURE",c="GET_STYLES_REQUEST",l="GET_STYLES_SUCCESS",u="GET_STYLES_FAILURE",d="GET_TEMPLATE_STYLES_REQUEST",p="GET_TEMPLATE_STYLES_SUCCESS",h="GET_TEMPLATE_STYLES_FAILURE",m="SAVE_TEMPLATE_INITIATE",g="SAVE_TEMPLATE_RESPONSE",f="SAVE_STYLE_INITIATE",v="SAVE_STYLE_RESPONSE",x="GET_STYLES_BY_ATTRIBUTES_REQUEST",S="GET_STYLES_BY_ATTRIBUTES_SUCCESS",y="GET_STYLES_BY_ATTRIBUTES_FAILURE",b="SHARE_TEMPLATE_INITIATE",j="SHARE_TEMPLATE_RESPONSE",w="SHARE_STYLE_INITIATE",Z="SHARE_STYLE_RESPONSE",k="GET_TEMPLATE_USERS_REQUEST",C="GET_TEMPLATE_USERS_SUCCESS",I="GET_TEMPLATE_USERS_FAILURE",T="GET_STYLE_USERS_REQUEST",E="GET_STYLE_USERS_SUCCESS",A="GET_STYLE_USERS_FAILURE",_=function(e){return(0,r.Z)({type:m,params:e},s.jw,g)},R=function(e){return(0,r.Z)({type:f,params:e},s.jw,v)},P=function(e,t){return(0,r.Z)({type:b,templateIds:e,shareList:t},s.jw,j)},N=function(e,t){return(0,r.Z)({type:w,styleId:e,users:t},s.jw,Z)},O=function(e){return(0,r.Z)({type:g,payload:e},s.jw,g)},D=function(e){return{type:v,payload:e}},U=function(e){return(0,r.Z)({type:j,payload:e},s.jw,j)},L=function(e){return{type:Z,payload:e}},F=function(e){return{type:a,params:e}},V=function(e){return{type:i,payload:{templatesResult:e}}},B=function(e){return{type:o,payload:{error:e}}},M=function(e){return{type:c,params:{params:e}}},G=function(e){return{type:l,payload:{stylesResult:e}}},W=function(e){return{type:u,payload:{error:e}}},z=function(e){return(0,r.Z)({type:x,params:e},s.jw,S)},J=function(e){return{type:S,payload:{stylesResult:e}}},H=function(e){return{type:y,payload:{error:e}}},K=function(e,t,n,a){return(0,r.Z)({type:d,params:{scope:e,templateId:t,userEmail:n,userId:a}},s.jw,p)},q=function(e){return{type:p,payload:{templateStylesResult:e}}},Y=function(e){return{type:h,payload:{error:e}}},Q=function(e,t){return(0,r.Z)({type:k,params:{teamId:e,userId:t}},s.jw,C)},X=function(e){return{type:C,payload:{templateUsersResult:e}}},$=function(e){return{type:I,payload:{error:e}}},ee=function(e,t){return(0,r.Z)({type:T,params:{teamId:e,userId:t}},s.jw,E)},te=function(e){return{type:E,payload:{styleUsersResult:e}}},ne=function(e){return{type:A,payload:{error:e}}}},64679:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(34355),a={templates:{Items:[]}};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s.GET_TEMPLATES_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getTemplatesResult:{success:!0},templatesResult:n.payload.templatesResult});case s.GET_TEMPLATES_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getTemplatesResult:{success:!1}});case s.GET_STYLES_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getStylesResult:{success:!0},stylesResult:n.payload.stylesResult});case s.GET_STYLES_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getStylesResult:{success:!1}});case s.GET_STYLES_BY_ATTRIBUTES_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getStylesByAttributeResult:{success:!0},stylesByAttributeResult:n.payload.stylesResult});case s.GET_STYLES_BY_ATTRIBUTES_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{stylesByAttributeResult:{success:!1}});case s.GET_TEMPLATE_STYLES_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getTemplateStylesResult:{success:!0},templateStylesResult:n.payload.templateStylesResult});case s.GET_TEMPLATE_STYLES_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getTemplateStylesResult:{success:!1}});case s.SAVE_TEMPLATE_RESPONSE:return e=(0,r.Z)((0,r.Z)({},t),{},{saveTemplateStatus:n.payload.status,savedTemplate:n.payload.template}),"success"===n.payload.status&&e.templateStylesResult&&(e.templateStylesResult.template=n.payload.template),e;case s.SAVE_STYLE_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{saveStyleStatus:n.payload,savedStyle:n.payload.style});case s.SHARE_TEMPLATE_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{shareTemplateStatus:n.payload});case s.SHARE_TEMPLATE_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{shareStyleStatus:n.payload});case s.GET_TEMPLATE_USERS_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getTemplateUsersResult:{success:!0},templateUsersResult:n.payload.templateUsersResult});case s.GET_TEMPLATE_USERS_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getTemplateUsersResult:{success:!1}});case s.GET_STYLE_USERS_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getStyleUsersResult:{success:!0},styleUsersResult:n.payload.styleUsersResult});case s.GET_STYLE_USERS_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getStyleUsersResult:{success:!1}});default:return t}}},91635:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G},getGlobalStyles:function(){return w},getGlobalTemplates:function(){return b},getStyleUsers:function(){return I},getStylesByAttributes:function(){return k},getTemplateByScopeAndId:function(){return T},getTemplateUsers:function(){return C},getUserStyles:function(){return Z},getUserTemplates:function(){return j},handleSaveStyle:function(){return N},handleSaveTemplate:function(){return P},handleShareStyle:function(){return D},handleShareTemplate:function(){return O},saveStyle:function(){return A},saveTemplate:function(){return E},shareStyle:function(){return R},shareTemplate:function(){return _},watchGetStyleUsersRequest:function(){return F},watchGetStylesByAttributes:function(){return U},watchGetStylesRequest:function(){return B},watchGetTemplateStylesByIdRequest:function(){return M},watchGetTemplateUsersRequest:function(){return L},watchGetTemplatesRequest:function(){return V}});var r=n(74165),s=n(15861),a=n(64276),i=n(42599),o=n(69473),c=n(91104),l=n(34355),u=(0,r.Z)().mark(P),d=(0,r.Z)().mark(N),p=(0,r.Z)().mark(O),h=(0,r.Z)().mark(D),m=(0,r.Z)().mark(U),g=(0,r.Z)().mark(L),f=(0,r.Z)().mark(F),v=(0,r.Z)().mark(V),x=(0,r.Z)().mark(B),S=(0,r.Z)().mark(M),y=(0,r.Z)().mark(G),b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/templates/recent/scope/global"),s=new URL(n),t&&t.source&&""!=t.source&&s.searchParams.append("source",t.source),t&&t.aspectRatio&&""!=t.aspectRatio&&s.searchParams.append("aspectRatio",t.aspectRatio),a=s.toString(),e.next=7,o.Z.get(a);case 7:return c=e.sent,e.abrupt("return",c.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/templates/recent/scope/user"),(0,c.E3)()&&(n="".concat(i.Z.templatesBaseURL,"/templates/teams/").concat((0,c.E3)(),"/recent/scope/user")),s=new URL(n),t&&t.aspectRatio&&""!=t.aspectRatio&&s.searchParams.append("aspectRatio",t.aspectRatio),t&&t.filter&&""!=t.filter&&s.searchParams.append("filter",t.filter),a=s.toString(),e.next=8,o.Z.get(a);case 8:return l=e.sent,e.abrupt("return",l.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/styles/recent/scope/global"),e.next=3,o.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/styles/recent/scope/user"),(0,c.E3)()&&(n="".concat(i.Z.templatesBaseURL,"/styles/teams/").concat((0,c.E3)(),"/recent/scope/user")),e.next=4,o.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/styles/attributes"),e.next=3,o.Z.post(n,t);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/teams/").concat((0,c.E3)(),"/users/").concat(encodeURIComponent(t.userId),"/templates/users"),e.next=3,o.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/teams/").concat((0,c.E3)(),"/users/").concat(encodeURIComponent(t.userId),"/styles/users"),e.next=3,o.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/templates/scope/")+t.scope+"/templateId/"+t.templateId,(0,c.E3)()&&(n="".concat(i.Z.templatesBaseURL,"/templates/teams/").concat((0,c.E3)(),"/users/").concat(encodeURIComponent(t.userId),"/scope/")+t.scope+"/templateId/"+t.templateId),s=new URL(n),t&&t.userEmail&&""!=t.userEmail&&s.searchParams.append("userEmail",t.userEmail),a=s.toString(),e.next=7,o.Z.get(a);case 7:return l=e.sent,e.abrupt("return",l.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/templates"),(0,c.E3)()&&(t.metaData.teamId=(0,c.E3)()),e.next=4,o.Z.post(n,t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.templatesBaseURL,"/styles"),(0,c.E3)()&&(t.metaData.teamId=(0,c.E3)()),e.next=4,o.Z.post(n,t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(t)&&t.length>1?(s=i.Z.templatesBaseURL+"/templates/teams/"+(0,c.E3)()+"/templates/share",a={shareList:n,templateIds:t}):(Array.isArray(t)&&(t=t[0]),s=i.Z.templatesBaseURL+"/templates/teams/"+(0,c.E3)()+"/template/"+t,a=n),e.next=3,o.Z.post(s,a);case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(i.Z.templatesBaseURL,"/styles/teams/").concat((0,c.E3)(),"/style/").concat(t),e.next=3,o.Z.post(s,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function P(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(E,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.saveTemplateDispatcher)({template:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.saveTemplateDispatcher)("failed"));case 12:(0,c.jy)("save-Template",n.t0.message);case 13:case"end":return n.stop()}}),u,null,[[0,8]])}function N(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(A,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.saveStyleDispatcher)({style:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.saveStyleDispatcher)("failed"));case 12:(0,c.jy)("save-Style",n.t0.message);case 13:case"end":return n.stop()}}),d,null,[[0,8]])}function O(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(_,e.templateIds,e.shareList);case 3:return t.sent,t.next=6,(0,a.gz)((0,l.shareTemplateDispatcher)({status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,l.shareTemplateDispatcher)("failed"));case 12:(0,c.jy)("share-Template",t.t0.message);case 13:case"end":return t.stop()}}),p,null,[[0,8]])}function D(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(R,e.styleId,e.users);case 3:return t.sent,t.next=6,(0,a.gz)((0,l.shareStyleDispatcher)({status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,l.shareStyleDispatcher)("failed"));case 12:(0,c.jy)("share-Style",t.t0.message);case 13:case"end":return t.stop()}}),h,null,[[0,8]])}function U(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(k,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.getStylesByAttributesSuccess)(t.styles));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.getStylesByAttributesFailure)("failed"));case 12:(0,c.jy)("getStylesByAttributes",n.t0.message);case 13:case"end":return n.stop()}}),m,null,[[0,8]])}function L(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(C,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.getTemplateUsersSuccess)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.getTemplateUsersFailure)("failed"));case 12:(0,c.jy)("getTemplateUsers",n.t0.message);case 13:case"end":return n.stop()}}),g,null,[[0,8]])}function F(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(I,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.getStyleUsersSuccess)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.getStyleUsersFailure)("failed"));case 12:(0,c.jy)("getStyleUsers",n.t0.message);case 13:case"end":return n.stop()}}),f,null,[[0,8]])}function V(e){var t,n,s,i,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.$6)({globalTemplatesResult:(0,a.RE)(b,t),userTemplatesResult:(0,a.RE)(j,t)});case 4:return n=r.sent,s=n.globalTemplatesResult,i=n.userTemplatesResult,(o={}).globalTemplates=[],o.userTemplates=[],s.templates&&(o.globalTemplates=s.templates.Items.filter((function(e){return"template"===e.metaData.type}))),i.templates&&(o.userTemplates=i.templates.Items.filter((function(e){return"template"===e.metaData.type}))),r.next=14,(0,a.gz)((0,l.getTemplatesSuccess)(o));case 14:r.next=21;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,(0,a.gz)((0,l.getTemplatesFailure)(r.t0));case 20:(0,c.jy)("GET_TEMPLATES_REQUEST",r.t0.message);case 21:case"end":return r.stop()}}),v,null,[[1,16]])}function B(e){var t,n,s,i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.RE)(w,t);case 4:return n=r.sent,r.next=7,(0,a.RE)(Z,t);case 7:return s=r.sent,(i={}).globalStyles=[],i.userStyles=[],n.styles&&(i.globalStyles=n.styles.Items.filter((function(e){return"style"===e.metaData.type}))),s.styles&&(i.userStyles=s.styles.Items.filter((function(e){return"style"===e.metaData.type}))),r.next=15,(0,a.gz)((0,l.getStylesSuccess)(i));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(1),r.next=21,(0,a.gz)((0,l.getStylesFailure)(r.t0));case 21:(0,c.jy)("GET_STYLES_REQUEST",r.t0.message);case 22:case"end":return r.stop()}}),x,null,[[1,17]])}function M(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.RE)(T,t);case 4:return n=r.sent,(s={}).Styles=[],n.template&&(s.template=n.template.Items.filter((function(e){return"template"===e.metaData.type}))[0],s.Styles=n.template.Items.filter((function(e){return"style"===e.metaData.type}))),r.next=10,(0,a.gz)((0,l.getTemplateStylesSuccess)(s));case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,(0,a.gz)((0,l.getTemplateStylesFailure)(r.t0));case 16:(0,c.jy)("GET_TEMPLATE_STYLES_REQUEST",r.t0.message);case 17:case"end":return r.stop()}}),S,null,[[1,12]])}function G(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(l.SAVE_TEMPLATE_INITIATE,P);case 2:return e.next=4,(0,a.ib)(l.SAVE_STYLE_INITIATE,N);case 4:return e.next=6,(0,a.ib)(l.GET_TEMPLATES_REQUEST,V);case 6:return e.next=8,(0,a.ib)(l.GET_STYLES_REQUEST,B);case 8:return e.next=10,(0,a.ib)(l.GET_TEMPLATE_STYLES_REQUEST,M);case 10:return e.next=12,(0,a.ib)(l.GET_STYLES_BY_ATTRIBUTES_REQUEST,U);case 12:return e.next=14,(0,a.ib)(l.SHARE_TEMPLATE_INITIATE,O);case 14:return e.next=16,(0,a.ib)(l.SHARE_STYLE_INITIATE,D);case 16:return e.next=18,(0,a.ib)(l.GET_TEMPLATE_USERS_REQUEST,L);case 18:return e.next=20,(0,a.ib)(l.GET_STYLE_USERS_REQUEST,F);case 20:case"end":return e.stop()}}),y)}},1857:function(e,t,n){"use strict";n.r(t),n.d(t,{SET_TRANSCRIPTION_DATA_TO_REDUCER:function(){return r},redo:function(){return i},storeUndoableTranscriptionData:function(){return s},undo:function(){return a}});var r="SET_TRANSCRIPTION_DATA_TO_REDUCER",s=function(e){return{type:r,payload:e}},a=function(e){return{type:"UNDO"}},i=function(e){return{type:"UNDO"}}},79961:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(1857),a={past:[],present:{},future:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0,n=e.past,i=e.present,o=e.future;switch(t.type){case s.SET_TRANSCRIPTION_DATA_TO_REDUCER:var c=t.payload;return{past:[].concat((0,r.Z)(n),[i]),present:c,future:[]};case"UNDO":var l=(0,r.Z)(n),u=l.pop();return{past:l,present:u,future:[i].concat((0,r.Z)(o))};case"REDO":var d=(0,r.Z)(o);return d.splice(0,1),{past:[].concat((0,r.Z)(n),[i]),present:o[0],future:d};default:return e}}},78842:function(e,t,n){"use strict";n.r(t),n.d(t,{DISPATCH_TRANSCRIPTION_SUMMARY:function(){return x},DISPATCH_TRANSCRIPTION_SUMMARY_PROGRESS:function(){return S},GET_DATA_FROM_ID_DISPATCH:function(){return m},GET_DATA_FROM_ID_INITIATE:function(){return h},HEALTHCHECK_YOUTUBE_FAILURE:function(){return A},HEALTHCHECK_YOUTUBE_REQUEST:function(){return T},HEALTHCHECK_YOUTUBE_SUCCESS:function(){return E},OPEN_TRANSCRIPTION_PROJECT_FAILURE:function(){return j},OPEN_TRANSCRIPTION_PROJECT_REQUEST:function(){return y},OPEN_TRANSCRIPTION_PROJECT_SUCCESS:function(){return b},REMOTE_MEDIA_TRANSCRIPTION_FAILURE:function(){return I},REMOTE_MEDIA_TRANSCRIPTION_SUCCESS:function(){return C},RESET_TRANSCRIPTION_MEDIA:function(){return u},SAVE_TRANSCRIPTION_SUMMARY_FAILURE:function(){return k},SAVE_TRANSCRIPTION_SUMMARY_REQUEST:function(){return w},SAVE_TRANSCRIPTION_SUMMARY_SUCCESS:function(){return Z},SET_PROJECT_ID_FOR_REDIRECT:function(){return f},SUBSCRIBE_TO_TRANSCRIPTION:function(){return g},SUMMARIZE_TRANSCRIPTION_INITIATE:function(){return v},TRANSCRIPTION_CHECK_URL:function(){return _},TRANSCRIPTION_DOWNLOAD_RESOURCE:function(){return l},TRANSCRIPTION_DOWNLOAD_RESOURCE_RESPONSE:function(){return d},TRANSCRIPTION_RESPONSE_ID:function(){return p},TRANSCRIPTION_SUMMARY_INITIATE:function(){return i},TRANSCRIPTION_SUMMARY_RESPONSE:function(){return o},TRANSCRIPTION_SUMMARY_STATUS:function(){return c},UPDATE_TRANSCRIPTION_ANALYSIS_RESET:function(){return P},UPDATE_TRANSCRIPTION_ANALYSIS_SUCCESS:function(){return R},checkIfUrlValid:function(){return oe},dispatchSmmary:function(){return K},downloadResources:function(){return M},downloadResourcesDispatch:function(){return W},getDataFromResponseId:function(){return D},getDataFromResponseIdDispatch:function(){return J},getTranscribeResponseId:function(){return z},handleUpdateAnalysis:function(){return q},healthCheckYoutubeFailure:function(){return ie},healthCheckYoutubeRequest:function(){return se},healthCheckYoutubeSuccess:function(){return ae},openTranscriptionProjectFailure:function(){return ee},openTranscriptionProjectRequest:function(){return X},openTranscriptionProjectSuccess:function(){return $},remoteMediaTranscriptionFailure:function(){return V},remoteMediaTranscriptionRequest:function(){return O},remoteMediaTranscriptionSuccess:function(){return F},resetAnalysis:function(){return Y},resetTranscriptionMedia:function(){return G},saveTranscriptionSummaryFailure:function(){return re},saveTranscriptionSummaryRequest:function(){return te},saveTranscriptionSummarySuccess:function(){return ne},setProjectIdFroRedirect:function(){return H},summarizeTranscription:function(){return U},transcriptionSummarizationStatus:function(){return B},transcriptionSummaryInitiate:function(){return N},transcriptionSummaryProgress:function(){return Q},transcriptionSummaryResponse:function(){return L}});var r=n(1413),s=n(4942),a=n(61253),i="TRANSCRIPTION_SUMMARY_INITIATE",o="TRANSCRIPTION_SUMMARY_RESPONSE",c="TRANSCRIPTION_SUMMARY_STATUS",l="TRANSCRIPTION_DOWNLOAD_RESOURCE",u="RESET_TRANSCRIPTION_MEDIA",d="TRANSCRIPTION_DOWNLOAD_RESOURCE_RESPONSE",p="TRANSCRIPTION_RESPONSE_ID",h="GET_DATA_FROM_ID_INITIATE",m="GET_DATA_FROM_ID_DISPATCH",g="SUBSCRIBE_TO_TRANSCRIPTION",f="SET_PROJECT_ID_FOR_REDIRECT",v="SUMMARIZE_TRANSCRIPTION_INITIATE",x="DISPATCH_TRANSCRIPTION_SUMMARY",S="DISPATCH_TRANSCRIPTION_SUMMARY_PROGRESS",y="OPEN_TRANSCRIPTION_PROJECT_REQUEST",b="OPEN_TRANSCRIPTION_PROJECT_SUCCESS",j="OPEN_TRANSCRIPTION_PROJECT_FAILURE",w="SAVE_TRANSCRIPTION_SUMMARY_REQUEST",Z="SAVE_TRANSCRIPTION_SUMMARY_SUCCESS",k="SAVE_TRANSCRIPTION_SUMMARY_FAILURE",C="REMOTE_MEDIA_TRANSCRIPTION_SUCCESS",I="REMOTE_MEDIA_TRANSCRIPTION_FAILURE",T="HEALTHCHECK_YOUTUBE_REQUEST",E="HEALTHCHECK_YOUTUBE_SUCCESS",A="HEALTHCHECK_YOUTUBE_FAILURE",_="TRANSCRIPTION_CHECK_URL",R="UPDATE_TRANSCRIPTION_ANALYSIS_SUCCESS",P="UPDATE_TRANSCRIPTION_ANALYSIS_RESET",N=function(e,t,n,r,c){return(0,s.Z)({type:i,params:{project_id:e,username:t,body:n,fetchProjectName:r,videoURL:c}},a.jw,o)},O=function(e){return{type:i,params:e}},D=function(e){return(0,s.Z)({type:h,responseId:e},a.jw,m)},U=function(e){return{type:v,data:(0,r.Z)({},e)}},L=function(e){return{type:o,payload:e}},F=function(e){return{type:C,payload:{success:e}}},V=function(e){return{type:I,payload:{error:e}}},B=function(e){return{type:c,payload:e}},M=function(e,t){return{type:l,param:{project_id:e,url:t}}},G=function(){return{type:u}},W=function(e){return{type:d,payload:e}},z=function(e){return{type:p,payload:e}},J=function(e){return{type:m,payload:e}},H=function(e,t){return{type:f,payload:e,username:t}},K=function(e){return{type:x,payload:e}},q=function(e,t){return{type:R,params:{project_id:e,response_id:t}}},Y=function(){return{type:P}},Q=function(e){return{type:S,payload:e}},X=function(e,t){return{type:y,params:{project_id:e,username:t}}},$=function(e){return{type:b,payload:e}},ee=function(){return{type:j}},te=function(e,t,n){var r;return r={type:w,params:{username:e,project_id:t,summary:n}},(0,s.Z)(r,a.jw,Z),(0,s.Z)(r,a.Tl,k),r},ne=function(e){return{type:Z,payload:e}},re=function(e){return{type:k,payload:e}},se=function(){var e;return e={type:T,params:{}},(0,s.Z)(e,a.jw,E),(0,s.Z)(e,a.Tl,A),e},ae=function(e){return{type:E,payload:e}},ie=function(e){return{type:A,payload:e}},oe=function(e){return{type:_,url:e}}},66942:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(78842),a={data:{summary:[]},mediaDownloadResult:{videoURL:"",project_id:""},transcriptionResponseId:{responseId:"",projectId:"",videoURL:""},transcribeDataFromId:null,projectId:"",transcribeSummaryDetails:{},transcribeSummaryProgress:{},saveTranscriptionSummaryResult:{success:!0},remoteMediaTranscriptionResult:{success:!0},healthCheckYoutubeResult:{isHealthy:!0}};t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case s.TRANSCRIPTION_SUMMARY_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{data:i.payload,summarizationProgress:void 0});case s.TRANSCRIPTION_SUMMARY_STATUS:return(0,r.Z)((0,r.Z)({},n),{},{summarizationProgress:i.payload});case s.TRANSCRIPTION_DOWNLOAD_RESOURCE_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{mediaDownloadResult:{videoURL:i.payload.mediaUrl,project_id:i.payload.project_id}});case s.RESET_TRANSCRIPTION_MEDIA:return(0,r.Z)((0,r.Z)({},n),{},{mediaDownloadResult:(0,r.Z)({},a.mediaDownloadResult)});case s.TRANSCRIPTION_RESPONSE_ID:return(0,r.Z)((0,r.Z)({},n),{},{transcriptionResponseId:i.payload});case s.GET_DATA_FROM_ID_DISPATCH:return(0,r.Z)((0,r.Z)({},n),{},{transcribeDataFromId:i.payload});case s.SET_PROJECT_ID_FOR_REDIRECT:return(0,r.Z)((0,r.Z)({},n),{},{projectId:i.payload,username:i.username});case s.DISPATCH_TRANSCRIPTION_SUMMARY:return(0,r.Z)((0,r.Z)({},n),{},{transcribeSummaryDetails:i.payload});case s.DISPATCH_TRANSCRIPTION_SUMMARY_PROGRESS:return(0,r.Z)((0,r.Z)({},n),{},{transcribeSummaryProgress:i.payload});case s.SAVE_TRANSCRIPTION_SUMMARY_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{saveTranscriptionSummaryResult:{success:!0}});case s.SAVE_TRANSCRIPTION_SUMMARY_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{saveTranscriptionSummaryResult:(0,r.Z)({success:!1},i.payload)});case s.REMOTE_MEDIA_TRANSCRIPTION_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{remoteMediaTranscriptionResult:{success:!0}});case s.REMOTE_MEDIA_TRANSCRIPTION_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{remoteMediaTranscriptionResult:(0,r.Z)({success:!1},i.payload.error)});case s.UPDATE_TRANSCRIPTION_ANALYSIS_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{transcriptionAnalysis:{projectId:null===(e=i.params)||void 0===e?void 0:e.project_id,responseId:null===(t=i.params)||void 0===t?void 0:t.response_id}});case s.UPDATE_TRANSCRIPTION_ANALYSIS_RESET:return(0,r.Z)((0,r.Z)({},n),{},{transcriptionAnalysis:null});case s.HEALTHCHECK_YOUTUBE_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{healthCheckYoutubeResult:(0,r.Z)({},i.payload)});default:return n}}},27593:function(e,t,n){"use strict";n.r(t),n.d(t,{checkIfUrlValid:function(){return H},default:function(){return le},downloadVideo:function(){return K},getSummaryAPI:function(){return q},getTranscriptionSummaryResponse:function(){return $},handleCheckIfUrlValid:function(){return re},handleDownload:function(){return ne},handleGetData:function(){return se},handleHealthCheckYoutube:function(){return z},handleHealthCheckYoutubeRequest:function(){return oe},handleTranscriptionSummaryInitiate:function(){return ee},isValidRemoteMedia:function(){return J},saveTranscriptionSummary:function(){return Y},saveTranscriptionSummaryRequest:function(){return ie},summarizeTranscription:function(){return ae},transcribeGoogleMedia:function(){return G},transcribeMedia:function(){return M},transcribeRemoteMedia:function(){return W},transcriptionProgress:function(){return X},watchSaveTranscriptionSummaryRequest:function(){return ce}});var r=n(1413),s=n(74165),a=n(15861),i=n(78503),o=n(31881),c=n.n(o),l=n(80761),u=n(16031),d=n.n(u),p=n(82751),h=n(64276),m=n(11043),g=n(42599),f=n(69473),v=n(91104),x=n(47439),S=n(89956),y=n(96161),b=n(83103),j=n(35246),w=n(97509),Z=n(43862),k=n(5539),C=n(62729),I=n(58484),T=n(78842),E=(0,s.Z)().mark(Q),A=(0,s.Z)().mark(X),_=(0,s.Z)().mark(ee),R=(0,s.Z)().mark(te),P=(0,s.Z)().mark(ne),N=(0,s.Z)().mark(re),O=(0,s.Z)().mark(se),D=(0,s.Z)().mark(ae),U=(0,s.Z)().mark(ie),L=(0,s.Z)().mark(oe),F=(0,s.Z)().mark(ce),V=(0,s.Z)().mark(le),B=function(e){return e.editVideoAllScene.mediaResources},M=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n,r){var a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.Z.transcribe,(0,v.k$)(t)&&(a=g.Z.transcribeV5),(i=(0,v.E3)())&&(a+="/teams/".concat(i)),e.next=6,f.Z.post("".concat(a,"/projects/").concat(n,"/transcribe"),r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.Z.downloadMedia,(a=(0,v.E3)())&&(r=g.Z.downloadMedia+"/teams/".concat(a)),(0,v.k$)(t)&&(n.transcriptionVersion="v5"),e.next=6,f.Z.post("".concat(r,"/googledrive/transcription"),n);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n,r){var a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.Z.downloadMedia,(i=(0,v.E3)())&&(a=g.Z.downloadMedia+"/teams/".concat(i)),(0,v.k$)(t)&&(n.transcriptionVersion="v5"),e.next=6,f.Z.post("".concat(a,"/").concat(r,"/transcription"),n);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),z=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("".concat(g.Z.downloadMedia,"/youtube/health"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().head(t);case 3:return e.abrupt("return",!0);case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o,l,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url.substr(0,t.url.lastIndexOf("#t=")),r=n.split("/").pop().split("?")[0],a=n.substr(0,n.lastIndexOf("/")),i=r.substr(0,r.lastIndexOf(".")),o=r.split(".").pop(),l="".concat(i,"_480p.").concat(o),u=(u="".concat(a,"/").concat(l))+"?headrequest="+(0,p.x0)(),e.prev=8,e.next=11,c().head(u);case 11:return d=e.sent,e.abrupt("return",d);case 15:e.prev=15,e.t0=e.catch(8);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.prev=1,r=0,e.next=6,(0,v.A1)(n);case 6:if(!(a=e.sent)){e.next=12;break}r=a.contentLength,n=a.videoUrl,e.next=16;break;case 12:return e.next=14,c().head(n);case 14:(i=e.sent).headers["content-length"]&&(r=parseInt(i.headers["content-length"]));case 16:return e.next=18,(0,v.IC)(n,r);case 18:if(!(o=e.sent)){e.next=21;break}return e.abrupt("return",{data:o});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:return e.next=27,c().get(n,{responseType:"blob"});case 27:return l=e.sent,e.abrupt("return",l);case 29:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.post(g.Z.transcribeSummary,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n,r){var a,o,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.d)();case 2:return a="".concat(t,"/project/").concat(n,"/summary.json"),o={level:"public",cacheControl:"no-store",expires:0,contentType:""},e.next=6,i.Ke.put(a,r,o);case 6:return(c=e.sent)&&(c.fileUrl=m.Z.Instance.GetUserUploadUrl(a,"public")),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Q(e,t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t.payload.status,n.next="analysiscomplete"===n.t0?3:"complete"===n.t0?6:14;break;case 3:return n.next=5,(0,h.gz)((0,T.handleUpdateAnalysis)(t.payload.project_id,t.payload.response_id));case 5:return n.abrupt("break",14);case 6:return n.next=8,(0,h.RE)(j.handleGetInprogressProjects,{params:{username:e}});case 8:return n.next=10,(0,h.RE)(j.handleGetMyVideos,{params:e});case 10:return n.next=12,(0,h.gz)((0,T.setProjectIdFroRedirect)(t.payload.project_id,e));case 12:return(0,y.JQ)("Transcription is completed"),n.abrupt("return",t);case 14:case"end":return n.stop()}}),E)}function X(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.username,n.next=3,(0,h.ib)(I.TRANSCRIPTION_PROGRESS,Q,t);case 3:case"end":return n.stop()}}),A)}var $=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(g.Z.transcribe,"/transcription/result/").concat(t),e.next=4,f.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function ee(e){var t,n,r,a,i,o,c,u,d,p,m,g,f,S,y,b,Z,I;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=2,s.next=5,(0,h.gz)((0,T.transcriptionSummarizationStatus)(0));case 5:if(n=t.project_id,r=t.username,a=t.body,t.fetchProjectName,i=t.videoURL,o=t.user,c=t.filename,u=t.uniqueId,d=t.parentId,p=t.isPodcast,m={cognito_id:r,email:o.attributes.email,project_id:n,parentId:d,source:"transcribe",currentState:x.yc.TRANSCRIBING,inProgress:!0,articleUrl:i,projectName:c,progress:0,saveDate:new Date,isSubtitleEnabled:!0,transcriptionDuration:t.transcriptionVideoDuration,transcriptionLanguage:a.language,isPodcast:p,withSummaryAnalysis:!0},g={media_url:a.url,language:a.language,speakers:t.speakerCount},f=null,S=!1,"GOOGLE_DRIVE"!==t.source){s.next=26;break}return S=!0,g.accessToken=t.accessToken,g.fileId=t.fileId,g.project=m,s.next=17,(0,h.RE)(G,r,g);case 17:return f=s.sent,s.next=20,(0,h.gz)((0,T.remoteMediaTranscriptionSuccess)(!0));case 20:return s.next=22,(0,h.RE)(te,m.project_id);case 22:return s.next=24,(0,h.gz)((0,C.transcriptionMediaStatus)({message:"Transcription is in progress.",status:"TRANSCRIBING_MEDIA"}));case 24:s.next=40;break;case 26:if("YOUTUBE"!==t.source&&"REMOTE"!==t.source){s.next=40;break}return S=!0,g.mediaUrl=t.mediaUrl,g.project=m,s.next=32,(0,h.RE)(W,r,g,t.source.toLowerCase());case 32:return f=s.sent,s.next=35,(0,h.gz)((0,T.remoteMediaTranscriptionSuccess)(!0));case 35:return s.next=37,(0,h.RE)(te,m.project_id);case 37:return"YOUTUBE"===t.source&&f.data.videoName&&(c=f.data.videoName||"youtube video"),s.next=40,(0,h.gz)((0,C.transcriptionMediaStatus)({message:"Transcription is in progress.",status:"TRANSCRIBING_MEDIA"}));case 40:if(S){s.next=44;break}return s.next=43,(0,h.RE)(M,r,n,g);case 43:f=s.sent;case 44:if(200!==f.status&&201!==f.status){s.next=62;break}if(!f.data.async){s.next=62;break}if(!1!==S){s.next=56;break}return m.withSummaryAnalysis&&null!==(y=f)&&void 0!==y&&null!==(b=y.data)&&void 0!==b&&b.response_id&&(m.summarizeResponseId=f.data.response_id),m.states=[{name:"transcription",responseId:f.data.response_id}],Z=c.split(".")[0],s.next=52,(0,h.RE)(w.handleGetProjectName,{params:{username:r,projectName:Z||"Untitled Project"}});case 52:return Z=s.sent,m.projectName=Z,s.next=56,(0,h.RE)(j.handleSaveProject,{params:{body:m}});case 56:return s.next=58,(0,h.RE)(k.handleGetCurrentSub,{params:r});case 58:return s.next=60,(0,h.RE)(j.handleGetInprogressProjects,{params:{username:r}});case 60:return s.next=62,(0,h.gz)((0,C.removeUploadingVideo)(u));case 62:s.next=73;break;case 64:if(s.prev=64,s.t0=s.catch(2),"GOOGLE_DRIVE"!==t.source&&"YOUTUBE"!==t.source&&"REMOTE"!==t.source){s.next=70;break}return I=(0,l.Z)(s.t0,"Transcribe","media"),s.next=70,(0,h.gz)((0,T.remoteMediaTranscriptionFailure)(I));case 70:return s.next=72,(0,h.gz)((0,T.transcriptionSummaryResponse)({error:s.t0}));case 72:(0,v.jy)("transcription-api",s.t0.message);case 73:case"end":return s.stop()}}),_,null,[[2,64]])}function te(e){var t,n,r,a;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,h.gz)((0,C.transcriptionMediaStatus)({message:"Video uploading is in progress.",status:"UPLOADING_MEDIA",progress:0}));case 2:return s.next=5,(0,h.S3)({uploadProgress:(0,h.qn)(I.TRANSCRIPTION_REMOTE_MEDIA_UPLOAD_PROGRESS),timeout:(0,h.gw)(3e5)});case 5:if(t=s.sent,n=t.uploadProgress,t.timeout,!n){s.next=27;break}if(console.log("uploadProgress"),console.log(n),n.payload.project_id!==e){s.next=25;break}s.t0=n.payload.status,s.next="in-progress"===s.t0?15:"completed"===s.t0?18:"failed"===s.t0?21:25;break;case 15:return s.next=17,(0,h.gz)((0,C.transcriptionMediaStatus)({message:"Video uploading is in progress...",status:"UPLOADING_MEDIA",progress:n.payload.progress}));case 17:return s.abrupt("break",25);case 18:return s.next=20,(0,h.gz)((0,C.transcriptionMediaStatus)({message:"Video uploading is in progress...",status:"UPLOADING_MEDIA",progress:100}));case 20:return s.abrupt("return");case 21:throw(r=new Error("Upload media failed")).code="FILE_UPLOAD_FAILED",r.error_code="FILE_UPLOAD_FAILED",r;case 25:s.next=30;break;case 27:throw(a=new Error("Upload media time out")).code="UPLOAD_MEDIA_TIME_OUT",a;case 30:s.next=2;break;case 32:case"end":return s.stop()}}),R)}function ne(e){var t,n,r,a,i,o,c,l;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.param,n=t.project_id,r=t.url,s.prev=2,s.next=5,(0,h.Ys)(B);case 5:if(!(a=s.sent)[r]){s.next=30;break}if(s.prev=7,"string"==typeof(i=a[r])!=0){s.next=23;break}if(o=null,!d().isArray(i)){s.next=17;break}return s.next=14,(0,h.v_)(i[1]);case 14:o=s.sent,s.next=20;break;case 17:return s.next=19,(0,h.v_)(i);case 19:o=s.sent;case 20:return a[r]=URL.createObjectURL(o.data),s.next=23,(0,h.gz)((0,b.updateMediaResources)(a));case 23:return s.next=25,(0,h.gz)((0,T.downloadResourcesDispatch)({project_id:n,mediaUrl:a[r]}));case 25:return s.abrupt("return");case 28:s.prev=28,s.t0=s.catch(7);case 30:return s.next=32,(0,h.Cs)(K,r);case 32:return a[r]=s.sent,s.next=35,(0,h.v_)(a[r]);case 35:return c=s.sent,l=URL.createObjectURL(c.data),a[r]=l,s.next=40,(0,h.gz)((0,b.updateMediaResources)(a));case 40:return s.next=42,(0,h.gz)((0,T.downloadResourcesDispatch)({project_id:n,mediaUrl:l}));case 42:s.next=47;break;case 44:s.prev=44,s.t1=s.catch(2),console.log("error: ",s.t1);case 47:case"end":return s.stop()}}),P,null,[[2,44],[7,28]])}function re(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.RE)(H,e);case 3:return t=n.sent,n.next=6,(0,h.gz)((0,b.updateUrlState)(t));case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),N,null,[[0,8]])}function se(e){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.responseId,r.prev=1,r.next=4,(0,h.RE)($,t);case 4:return n=r.sent,r.next=7,(0,h.gz)((0,T.getDataFromResponseIdDispatch)(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,h.gz)((0,T.getDataFromResponseIdDispatch)(null));case 13:case"end":return r.stop()}}),O,null,[[1,9]])}function ae(e){var t,n,a,i,o,l;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.data,s.prev=1,t.client_id=v.I4,s.next=5,(0,h.gz)((0,T.transcriptionSummaryProgress)({progress:0,status:"in-progress"}));case 5:return s.next=7,(0,h.RE)(q,t);case 7:if(!(n=s.sent).data.async){s.next=50;break}a=!0;case 10:if(!a){s.next=50;break}return s.t0=h.S3,s.next=14,(0,h.qn)(Z.TRANSCRIPTION_SUMMARIZATION_PROGRESS);case 14:return s.t1=s.sent,s.t2=(0,h.gw)(6e5),s.t3={progressResponse:s.t1,timeout:s.t2},s.next=19,(0,s.t0)(s.t3);case 19:i=s.sent,o=i.progressResponse,i.timeout,s.t4=o.payload.status,s.next="in-progress"===s.t4?25:"complete"===s.t4?28:"error"===s.t4?46:48;break;case 25:return s.next=27,(0,h.gz)((0,T.transcriptionSummaryProgress)(o.payload));case 27:return s.abrupt("break",48);case 28:if(a=!1,!o||!o.payload||o.payload.response_id!==n.data.response_id){s.next=43;break}return s.next=32,(0,h.RE)([c(),c().get],o.payload.response_url,{headers:{"Content-Type":"application/json"}});case 32:if(!(l=s.sent).data.error){s.next=38;break}return s.next=36,(0,h.gz)((0,T.dispatchSmmary)({isError:!0,isChanged:(0,v.DO)()}));case 36:s.next=39;break;case 38:t=l.data.data;case 39:return s.next=41,(0,h.gz)((0,T.dispatchSmmary)((0,r.Z)((0,r.Z)({},t),{},{isError:!1,isChanged:(0,v.DO)()})));case 41:s.next=45;break;case 43:return s.next=45,(0,h.gz)((0,T.dispatchSmmary)({isError:!0,isChanged:(0,v.DO)()}));case 45:return s.abrupt("break",48);case 46:return s.next=48,(0,h.gz)((0,T.dispatchSmmary)({isError:!0,isChanged:(0,v.DO)()}));case 48:s.next=10;break;case 50:s.next=57;break;case 52:return s.prev=52,s.t5=s.catch(1),(0,v.jy)("transcribe-summarization",s.t5.message),s.next=57,(0,h.gz)((0,T.dispatchSmmary)({isError:!0,isChanged:(0,v.DO)()}));case 57:case"end":return s.stop()}}),D,null,[[1,52]])}function ie(e){var t,n,r,a;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.username,n=e.project_id,r=e.summary,s.prev=1,s.next=4,(0,h.RE)(Y,t,n,r);case 4:if(!(a=s.sent)){s.next=11;break}return(0,v.xd)("save-transcription-done",{username:t,project_id:n}),s.next=9,(0,h.gz)((0,T.saveTranscriptionSummarySuccess)(a.fileUrl));case 9:s.next=14;break;case 11:return(0,v.jy)("save-transcription","Save transcription failed"),s.next=14,(0,h.gz)((0,T.saveTranscriptionSummaryFailure)({message:"Save transcription failed"}));case 14:s.next=21;break;case 16:return s.prev=16,s.t0=s.catch(1),s.next=20,(0,h.gz)((0,T.saveTranscriptionSummaryFailure)(s.t0));case 20:(0,v.jy)("save-transcription",s.t0.message);case 21:case"end":return s.stop()}}),U,null,[[1,16]])}function oe(e){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.RE)(z);case 3:if(!e.sent.isHealthy){e.next=9;break}return e.next=7,(0,h.gz)((0,T.healthCheckYoutubeSuccess)({isHealthy:!0}));case 7:e.next=11;break;case 9:return e.next=11,(0,h.gz)((0,T.healthCheckYoutubeSuccess)({isHealthy:!1}));case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,(0,h.gz)((0,T.healthCheckYoutubeSuccess)({isHealthy:!0}));case 17:(0,v.jy)("Health-check-youtube",e.t0.message);case 18:case"end":return e.stop()}}),L,null,[[0,13]])}function ce(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,h.RE)(ie,t);case 3:case"end":return n.stop()}}),F)}function le(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.ib)(T.TRANSCRIPTION_SUMMARY_INITIATE,ee);case 2:return e.next=4,(0,h.ib)(T.TRANSCRIPTION_DOWNLOAD_RESOURCE,ne);case 4:return e.next=6,(0,h.ib)(T.GET_DATA_FROM_ID_INITIATE,se);case 6:return e.next=8,(0,h.Fm)(T.SUBSCRIBE_TO_TRANSCRIPTION,X);case 8:return e.next=10,(0,h.Fm)(T.SUMMARIZE_TRANSCRIPTION_INITIATE,ae);case 10:return e.next=12,(0,h.ib)(T.SAVE_TRANSCRIPTION_SUMMARY_REQUEST,ce);case 12:return e.next=14,(0,h.ib)(T.TRANSCRIPTION_CHECK_URL,re);case 14:return e.next=16,(0,h.ib)(T.HEALTHCHECK_YOUTUBE_REQUEST,oe);case 16:case"end":return e.stop()}}),V)}},94763:function(e,t,n){"use strict";n.r(t),n.d(t,{SET_DATA_TO_REDUCER:function(){return r},storeUndoableData:function(){return s}});var r="SET_DATA_TO_REDUCER",s=function(e){return{type:r,payload:e}}},88262:function(e,t,n){"use strict";n.r(t);var r=n(69412),s=n(94763),a={};t.default=(0,r.ZP)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return t.type===s.SET_DATA_TO_REDUCER?t.payload:e}))},62729:function(e,t,n){"use strict";n.r(t),n.d(t,{DELETE_IMAGE_INITIATE:function(){return o},DELETE_IMAGE_RESPONSE:function(){return c},GET_IMAGES_INITIATE:function(){return a},GET_IMAGES_RESPONSE:function(){return i},GET_IMAGE_USERS_FAILURE:function(){return k},GET_IMAGE_USERS_REQUEST:function(){return w},GET_IMAGE_USERS_SUCCESS:function(){return Z},GET_MORE_IMAGES_FAILURE:function(){return y},GET_MORE_IMAGES_REQUEST:function(){return x},GET_MORE_IMAGES_SUCCESS:function(){return S},IMPORT_IMAGE_INITIATE:function(){return C},IMPORT_IMAGE_RESPONSE:function(){return I},REMOVE_UPLOADING_VIDEO:function(){return m},RESET_TRANSCRIPTION_MEDIA_STATUS:function(){return f},SAVE_IMAGE_INITIATE:function(){return l},SAVE_IMAGE_RESPONSE:function(){return u},SET_UPLOADING_VIDEO:function(){return h},SET_UPLOAD_VIDEO_PERCENT:function(){return d},SHARE_IMAGE_INITIATE:function(){return b},SHARE_IMAGE_RESPONSE:function(){return j},TRANSCRIPTION_MEDIA_STATUS:function(){return g},UPLOAD_PROGRESS:function(){return v},UPLOAD_TRANSCRIPTION_MEDIA_INITIATER:function(){return p},UploadMediaForTranscription:function(){return _},currentUploadingFile:function(){return D},deleteImage:function(){return E},deleteImageDispatcher:function(){return P},getImageList:function(){return T},getImageListDispatcher:function(){return R},getImageUsersFailure:function(){return Y},getImageUsersRequest:function(){return K},getImageUsersSuccess:function(){return q},getMoreImagesFailure:function(){return G},getMoreImagesRequest:function(){return B},getMoreImagesSuccess:function(){return M},importImage:function(){return z},importImageDispatcher:function(){return H},removeUploadingVideo:function(){return U},resetTranscriptionMediaStatus:function(){return F},saveImage:function(){return A},saveImageDispatcher:function(){return N},setUploadProgress:function(){return O},shareImage:function(){return W},shareImageDispatcher:function(){return J},transcriptionMediaStatus:function(){return L},uploadProgress:function(){return V}});var r=n(4942),s=n(61253),a="GET_IMAGES_INITIATE",i="GET_IMAGES_RESPONSE",o="DELETE_IMAGE_INITIATE",c="DELETE_IMAGE_RESPONSE",l="SAVE_IMAGE_INITIATE",u="SAVE_IMAGE_RESPONSE",d="SET_UPLOAD_VIDEO_PERCENT",p="UPLOAD_TRANSCRIPTION_MEDIA_INITIATER",h="SET_UPLOADING_VIDEO",m="REMOVE_UPLOADING_VIDEO",g="TRANSCRIPTION_MEDIA_STATUS",f="RESET_TRANSCRIPTION_MEDIA_STATUS",v="UPLOAD_PROGRESS",x="GET_MORE_IMAGES_REQUEST",S="GET_MORE_IMAGES_SUCCESS",y="GET_MORE_IMAGES_FAILURE",b="SHARE_IMAGE_INITIATE",j="SHARE_IMAGE_RESPONSE",w="GET_IMAGE_USERS_REQUEST",Z="GET_IMAGE_USERS_SUCCESS",k="GET_IMAGE_USERS_FAILURE",C="IMPORT_IMAGE_INITIATE",I="IMPORT_IMAGE_RESPONSE",T=function(e,t){return(0,r.Z)({type:a,params:e,filter:t},s.jw,i)},E=function(e){return(0,r.Z)({type:o,params:e},s.jw,c)},A=function(e){return(0,r.Z)({type:l,params:e},s.jw,u)},_=function(e){return{type:p,params:e}},R=function(e){return{type:i,payload:e}},P=function(e){return{type:c,payload:e}},N=function(e){return{type:u,payload:e}},O=function(e){return{type:d,payload:e}},D=function(e){return{type:h,payload:e}},U=function(e){return{type:m,payload:e}},L=function(e){return{type:g,payload:e}},F=function(){return{type:f}},V=function(e){return{type:v,payload:e}},B=function(e,t,n){return{type:x,params:{userName:e,pageKey:t,filter:n}}},M=function(e){return{type:S,payload:{imageListResult:e}}},G=function(e){return{type:y,payload:{error:e}}},W=function(e,t,n){return(0,r.Z)({type:b,username:e,imageIds:t,shareList:n},s.jw,j)},z=function(e,t){return(0,r.Z)({type:C,username:e,images:t},s.jw,I)},J=function(e){return{type:j,payload:e}},H=function(e){return{type:I,payload:e}},K=function(e,t){return(0,r.Z)({type:w,params:{teamId:e,userId:t}},s.jw,Z)},q=function(e){return{type:Z,payload:{imageUsersResult:e}}},Y=function(e){return{type:k,payload:{error:e}}}},94479:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(1413),a=n(62729),i=n(91104),o={imageListResult:{Items:[],pageKey:null},deleteImageStatus:"",saveImageStatus:"",currentUploadingVideos:[],transcriptionMediaStatus:{message:"Video uploading is in progress.",status:"UPLOADING_MEDIA"}};t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case a.GET_IMAGES_RESPONSE:var l=c.payload;return l.Items=null===(e=l)||void 0===e||null===(t=e.Items)||void 0===t?void 0:t.filter((function(e){return"string"==typeof e.url})),(0,s.Z)((0,s.Z)({},n),{},{imageListResult:l});case a.GET_MORE_IMAGES_SUCCESS:return l=(0,s.Z)({},n.imageListResult),c.payload.imageListResult&&(l.pageKey=c.payload.imageListResult.pageKey,c.payload.imageListResult.Items&&(l.Items=l.Items.concat(c.payload.imageListResult.Items))),(0,s.Z)((0,s.Z)({},n),{},{imageListResult:l});case a.DELETE_IMAGE_RESPONSE:if("success"===c.payload.status){var u=(0,s.Z)({},n.imageListResult);u.Items=(0,r.Z)(u.Items);var d=-1;if((0,i.E3)()){var p=(0,i.E3)();d=u.Items.findIndex((function(e){return e.cognito_id==="teams:".concat(p,"_users:").concat(c.payload.username)&&e.id===c.payload.id}))}else d=u.Items.findIndex((function(e){return e.cognito_id===c.payload.username&&e.id===c.payload.id}));return d>-1&&u.Items.splice(d,1),(0,s.Z)((0,s.Z)({},n),{},{deleteImageStatus:c.payload.status,imageListResult:u})}return(0,s.Z)((0,s.Z)({},n),{},{deleteImageStatus:c.payload.status});case a.SAVE_IMAGE_RESPONSE:return(0,s.Z)((0,s.Z)({},n),{},{saveImageStatus:c.payload});case a.SET_UPLOAD_VIDEO_PERCENT:return(0,s.Z)((0,s.Z)({},n),{},{uploadProgress:c.payload});case a.SET_UPLOADING_VIDEO:var h=n.currentUploadingVideos;return h.push(c.payload),(0,s.Z)((0,s.Z)({},n),{},{currentUploadingVideos:h});case a.REMOVE_UPLOADING_VIDEO:var m=n.currentUploadingVideos,g=m.findIndex((function(e){return e.id==c.payload}));return-1!=g&&m.splice(g,1),(0,s.Z)((0,s.Z)({},n),{},{currentUploadingVideos:m});case a.TRANSCRIPTION_MEDIA_STATUS:return(0,s.Z)((0,s.Z)({},n),{},{transcriptionMediaStatus:c.payload});case a.RESET_TRANSCRIPTION_MEDIA_STATUS:return(0,s.Z)((0,s.Z)({},n),{},{transcriptionMediaStatus:o.transcriptionMediaStatus});case a.SHARE_IMAGE_RESPONSE:return(0,s.Z)((0,s.Z)({},n),{},{shareImageStatus:c.payload});case a.IMPORT_IMAGE_RESPONSE:return(0,s.Z)((0,s.Z)({},n),{},{importImageStatus:c.payload.status,importImageMappings:c.payload.mappings});case a.GET_IMAGE_USERS_SUCCESS:return(0,s.Z)((0,s.Z)({},n),{},{getImageUsersResult:{success:!0},imageUsersResult:c.payload.imageUsersResult});case a.GET_IMAGE_USERS_FAILURE:return(0,s.Z)((0,s.Z)({},n),{},{getImageUsersResult:{success:!1}});default:return n}}},51569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G},deleteImageAPI:function(){return E},getImageUsers:function(){return N},getImagesAPI:function(){return T},handleDeleteImage:function(){return U},handleGetImage:function(){return O},handleGetMoreImages:function(){return D},handleImportImage:function(){return B},handleSaveImage:function(){return L},handleShareImage:function(){return V},handleUploadMediaForTranscription:function(){return F},importImageAPI:function(){return P},saveImageAPI:function(){return A},shareImageAPI:function(){return R},watchGetImageUsersRequest:function(){return M}});var r=n(1413),s=n(74165),a=n(15861),i=n(78503),o=n(95228),c=n(64276),l=n(11043),u=n(42599),d=n(69473),p=n(91104),h=n(89956),m=n(83103),g=n(78842),f=n(27593),v=n(62729),x=(0,s.Z)().mark(O),S=(0,s.Z)().mark(D),y=(0,s.Z)().mark(U),b=(0,s.Z)().mark(L),j=(0,s.Z)().mark(F),w=(0,s.Z)().mark(V),Z=(0,s.Z)().mark(B),k=(0,s.Z)().mark(M),C=(0,s.Z)().mark(G),I=function(e){return e.editVideoAllScene.mediaResources},T=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2?o[2]:void 0,a="".concat(u.Z.imagesBaseURL,"/users/").concat(t,"/images"),(0,p.E3)()&&(a="".concat(u.Z.imagesBaseURL,"/teams/").concat((0,p.E3)(),"/users/").concat(t,"/images")),n&&(a="".concat(a,"?pageKey=").concat(n)),r&&(a=a+(a.includes("?")?"&":"?")+"filter=".concat(r)),e.next=8,d.Z.get(a);case 8:return i=e.sent,e.abrupt("return",i.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.id,a="".concat(u.Z.imagesBaseURL,"/users/").concat(n,"/images/object/").concat(r),(0,p.E3)()&&(a="".concat(u.Z.imagesBaseURL,"/teams/").concat((0,p.E3)(),"/users/").concat(n,"/images/object/").concat(r)),e.next=5,d.Z.delete(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u.Z.imagesBaseURL,"/images"),(0,p.E3)()&&(n="".concat(u.Z.imagesBaseURL,"/teams/").concat((0,p.E3)(),"/images"),t.body.teamId=(0,p.E3)()),e.next=4,d.Z.post(n,t.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a,o,c,l,u,d,m=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:null,a=t.filePath,o=t.projectId,c=t.fileTobeUploaded,t.user,l=t.options,e.prev=2,u={level:"public",ACL:"public-read"},n&&(u.progressCallback=n),l&&(u=(0,r.Z)((0,r.Z)({},u),l)),"image/svg+xml"==c.type&&(u.contentType="image/svg+xml"),e.next=9,(0,h.d)();case 9:return e.next=11,i.Ke.put(a,c,u);case 11:return d=e.sent,e.abrupt("return",d);case 15:throw e.prev=15,e.t0=e.catch(2),(0,p.jy)("upload-file-failed","Error occurred while uploading file ".concat(a,", projectId - ").concat(o||""," error - ").concat(e.t0.message)),e.t0.error_code="FILE_UPLOAD_FAILED",e.t0;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n,r){var a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(n)&&n.length>1?(a=u.Z.imagesBaseURL+"/teams/"+(0,p.E3)()+"/users/"+t+"/images/share",i={shareList:r,imageIds:n}):(Array.isArray(n)&&(n=n[0]),a=u.Z.imagesBaseURL+"/teams/"+(0,p.E3)()+"/users/"+t+"/images/"+n+"/share",i=r),e.next=3,d.Z.post(a,i);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),P=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(u.Z.imagesBaseURL,"/teams/").concat((0,p.E3)(),"/users/").concat(t,"/images/import"),e.next=3,d.Z.post(r,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u.Z.imagesBaseURL,"/teams/").concat((0,p.E3)(),"/users/").concat(encodeURIComponent(t.userId),"/images/users"),e.next=3,d.Z.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(e){var t,n,r;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,n=e.filter,s.prev=1,s.next=4,(0,c.RE)(T,t,null,n);case 4:return r=s.sent,s.next=7,(0,c.gz)((0,v.getImageListDispatcher)(r));case 7:s.next=14;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,(0,c.gz)((0,v.getImageListDispatcher)({Items:[]}));case 13:(0,p.jy)("get-all-images",s.t0.message);case 14:case"end":return s.stop()}}),x,null,[[1,9]])}function D(e){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(T,t.userName,t.pageKey,t.filter);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.getMoreImagesSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,v.getMoreImagesFailure)(r.t0));case 13:(0,p.jy)("get-all-images",r.t0.message);case 14:case"end":return r.stop()}}),S,null,[[1,9]])}function U(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.prev=1,n.next=4,(0,c.RE)(E,t);case 4:return n.next=6,(0,c.gz)((0,v.deleteImageDispatcher)((0,r.Z)((0,r.Z)({},t),{},{status:"success"})));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,(0,c.gz)((0,v.deleteImageDispatcher)((0,r.Z)((0,r.Z)({},t),{},{status:"failed"})));case 12:(0,p.jy)("delete-image",n.t0.message);case 13:case"end":return n.stop()}}),y,null,[[1,8]])}function L(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.prev=1,n.next=4,(0,c.RE)(A,t);case 4:return n.next=6,(0,c.gz)((0,v.saveImageDispatcher)("success"));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,(0,c.gz)((0,v.saveImageDispatcher)("failed"));case 12:(0,p.jy)("save-image",n.t0.message);case 13:case"end":return n.stop()}}),b,null,[[1,8]])}function F(e){var t,n,a,i,u,d,h;return(0,s.Z)().wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return t=e.params,n=(0,o.CE)(),x.prev=2,a=(0,p.DO)(),i=t.projectId,x.next=7,(0,c.gz)((0,v.currentUploadingFile)({name:t.filename,id:a}));case 7:return x.next=9,(0,c.gz)((0,v.transcriptionMediaStatus)({message:"Video uploading is in progress.",status:"UPLOADING_MEDIA",progress:0}));case 9:return x.next=11,(0,c.Cs)((0,s.Z)().mark((function e(){var t,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,c.qn)(n);case 3:if(t=e.sent,"completed"!==(r=t.payload).status){e.next=7;break}return e.abrupt("return");case 7:return a=r.progress,e.next=10,(0,c.gz)((0,v.transcriptionMediaStatus)({message:"Video uploading is in progress.",status:"UPLOADING_MEDIA",progress:a}));case 10:e.next=0;break;case 12:case"end":return e.stop()}}),e)})));case 11:return x.next=13,(0,c.RE)(_,(0,r.Z)((0,r.Z)({},t),{},{options:{cacheControl:"public, max-age=".concat(5184e3)}}),(function(e){n.put((0,v.uploadProgress)({progress:Math.ceil(e.loaded/e.total*100),status:"in-progress"}))}));case 13:return x.sent,n.put((0,v.uploadProgress)({progress:100,status:"completed"})),x.next=17,(0,c.gz)((0,v.transcriptionMediaStatus)({message:"Video uploading is in progress.",status:"UPLOADING_MEDIA",progress:100}));case 17:return u=l.Z.Instance.GetUserUploadUrl(t.filePath,"public"),x.next=20,(0,c.Ys)(I);case 20:if(!(d=x.sent)){x.next=25;break}return d[u]=URL.createObjectURL(t.fileTobeUploaded),x.next=25,(0,c.gz)((0,m.updateMediaResources)(d));case 25:return h={summarize:!0,url:u,language:t.language},x.next=28,(0,c.gz)((0,v.transcriptionMediaStatus)({message:"Transcription is in progress.",status:"TRANSCRIBING_MEDIA"}));case 28:return x.next=30,(0,c.RE)(f.handleTranscriptionSummaryInitiate,{params:{project_id:i,username:t.user.username,body:h,fetchProjectName:!0,videoURL:u,user:t.user,filename:t.filename,uniqueId:a,transcriptionVideoDuration:t.transcriptionVideoDuration,speakerCount:t.speakerCount,isPodcast:t.isPodcast||!1}});case 30:x.next=38;break;case 32:return x.prev=32,x.t0=x.catch(2),n.put((0,v.uploadProgress)({progress:100,status:"completed"})),x.next=37,(0,c.gz)((0,g.transcriptionSummaryResponse)({error:x.t0}));case 37:(0,p.jy)("upload-long-video-and-transcription",x.t0.message);case 38:case"end":return x.stop()}}),j,null,[[2,32]])}function V(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.RE)(R,e.username,e.imageIds,e.shareList);case 3:return t.next=5,(0,c.gz)((0,v.shareImageDispatcher)("success"));case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,c.gz)((0,v.shareImageDispatcher)("failed"));case 11:(0,p.jy)("share-image-favorite",t.t0.message);case 12:case"end":return t.stop()}}),w,null,[[0,7]])}function B(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.RE)(P,e.username,e.images);case 3:return t=n.sent,n.next=6,(0,c.gz)((0,v.importImageDispatcher)({status:"success",mappings:t}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,c.gz)((0,v.importImageDispatcher)({status:"failed"}));case 12:(0,p.jy)("import-image",n.t0.message);case 13:case"end":return n.stop()}}),Z,null,[[0,8]])}function M(e){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(N,t);case 4:return n=r.sent,r.next=7,(0,c.gz)((0,v.getImageUsersSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,c.gz)((0,v.getImageUsersFailure)(r.t0));case 13:(0,p.jy)("GET_IMAGE_USERS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),k,null,[[1,9]])}function G(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ib)(v.GET_IMAGES_INITIATE,O);case 2:return e.next=4,(0,c.ib)(v.GET_MORE_IMAGES_REQUEST,D);case 4:return e.next=6,(0,c.ib)(v.DELETE_IMAGE_INITIATE,U);case 6:return e.next=8,(0,c.ib)(v.SAVE_IMAGE_INITIATE,L);case 8:return e.next=10,(0,c.ib)(v.UPLOAD_TRANSCRIPTION_MEDIA_INITIATER,F);case 10:return e.next=12,(0,c.ib)(v.SHARE_IMAGE_INITIATE,V);case 12:return e.next=14,(0,c.ib)(v.GET_IMAGE_USERS_REQUEST,M);case 14:return e.next=16,(0,c.ib)(v.IMPORT_IMAGE_INITIATE,B);case 16:case"end":return e.stop()}}),C)}},2650:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_LOGGED_IN_USER_FAILURE:function(){return p},GET_LOGGED_IN_USER_REQUEST:function(){return u},GET_LOGGED_IN_USER_SUCCESS:function(){return d},SET_AFTER_LOGIN_REDIRECT_URL_REQUEST:function(){return h},USER_GOOGLE_LOGIN_FAILURE:function(){return l},USER_GOOGLE_LOGIN_REQUEST:function(){return o},USER_GOOGLE_LOGIN_SUCCESS:function(){return c},USER_LOGIN_FAILURE:function(){return a},USER_LOGIN_REQUEST:function(){return r},USER_LOGIN_SUCCESS:function(){return s},USER_LOGOUT:function(){return i},getLoggedInUserFailure:function(){return y},getLoggedInUserRequest:function(){return x},getLoggedInUserSuccess:function(){return S},setAfterLoginRedirectUrlRequest:function(){return Z},userGoogleLoginFailure:function(){return w},userGoogleLoginRequest:function(){return b},userGoogleLoginSuccess:function(){return j},userLoginFailure:function(){return v},userLoginRequest:function(){return g},userLoginSuccess:function(){return f},userLogout:function(){return m}});var r="USER_LOGIN_REQUEST",s="USER_LOGIN_SUCCESS",a="USER_LOGIN_FAILURE",i="USER_LOGOUT",o="USER_GOOGLE_LOGIN_REQUEST",c="USER_GOOGLE_LOGIN_SUCCESS",l="USER_GOOGLE_LOGIN_FAILURE",u="GET_LOGGED_IN_USER_REQUEST",d="GET_LOGGED_IN_USER_SUCCESS",p="GET_LOGGED_IN_USER_FAILURE",h="SET_AFTER_LOGIN_REDIRECT_URL_REQUEST",m=function(){return{type:i}},g=function(e,t){return{type:r,params:{email:e,password:t}}},f=function(e){return{type:s,payload:{loggedInUser:e}}},v=function(e){return{type:a,payload:{error:e}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:u,params:{config:e}}},S=function(e){return{type:d,payload:{loggedInUser:e}}},y=function(e){return{type:p,payload:{error:e}}},b=function(){return{type:o}},j=function(e){return{type:c,payload:{result:e}}},w=function(e){return{type:l,payload:{error:e}}},Z=function(e){return{type:h,payload:{redirectUrl:e}}}},70055:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(2650),a={userLoginResult:{success:!0},getLoggedInUserResult:{success:!0},loggedInUser:null,redirectUrl:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.USER_LOGIN_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{userLoginResult:{success:!0},loggedInUser:t.payload.loggedInUser});case s.USER_LOGIN_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{userLoginResult:(0,r.Z)({success:!1},t.payload.error),loggedInUser:null});case s.GET_LOGGED_IN_USER_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getLoggedInUserResult:{success:!0},loggedInUser:t.payload.loggedInUser});case s.GET_LOGGED_IN_USER_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getLoggedInUserResult:(0,r.Z)({success:!1},t.payload.error),loggedInUser:null});case s.USER_LOGOUT:return(0,r.Z)((0,r.Z)({},e),{},{userLoginResult:null,loggedInUser:null});case s.SET_AFTER_LOGIN_REDIRECT_URL_REQUEST:return(0,r.Z)((0,r.Z)({},e),{},{redirectUrl:t.payload.redirectUrl});default:return e}}},96633:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P},findUser:function(){return C},getLoggedInUserRequest:function(){return T},userGoogleLoginRequest:function(){return E},userLoginRequest:function(){return I},watchGetLoggedInUserRequest:function(){return _},watchUserGoogleLoginRequest:function(){return R},watchUserLoginRequest:function(){return A}});var r=n(74165),s=n(15861),a=n(40009),i=n(31881),o=n.n(i),c=n(80761),l=n(64276),u=n(42599),d=n(2650),p=n(91104),h=(n(20140),n(5539),n(69473)),m=n(16031),g=n.n(m),f=(0,r.Z)().mark(I),v=(0,r.Z)().mark(T),x=(0,r.Z)().mark(E),S=(0,r.Z)().mark(A),y=(0,r.Z)().mark(_),b=(0,r.Z)().mark(R),j=(0,r.Z)().mark(P),w=function(e){return e.userSignUp.userLocationResult},Z=function(e){return e.userLogin.redirectUrl},k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.Z.subscriptionBaseURL,e.next=3,h.Z.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.userManagementURL,"/users/search"),e.next=4,o().post(n,{email:t});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function I(e){var t,n,s,i,o,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,n=e.password,r.prev=1,r.next=4,(0,l.RE)(C,t);case 4:if(!(s=r.sent)||1!==s.length){r.next=10;break}if("Google"!==s[0].loginType){r.next=10;break}return r.next=9,(0,l.gz)(d.userLoginFailure({code:"GOOGLE_LOGIN_EXIST",message:"Google login exist for the same email"}));case 9:case 16:return r.abrupt("return");case 10:return r.next=12,(0,l.RE)([a.g,a.g.signIn],t,n);case 12:if(!(i=r.sent).challengeName||"NEW_PASSWORD_REQUIRED"!==i.challengeName){r.next=17;break}return r.next=16,(0,l.gz)(d.userLoginFailure({code:"CHANGE_TEMPORARY_PASSWORD",message:"Change temporary password",email:t}));case 17:return r.next=19,(0,l.RE)([a.g,a.g.currentAuthenticatedUser]);case 19:return o=r.sent,r.next=22,(0,l.gz)(d.userLoginSuccess(o));case 22:r.next=32;break;case 24:return r.prev=24,r.t0=r.catch(1),(0,p.jy)("userLoginRequest",r.t0.message,"user-login-failed",{email:t}),r.next=29,(0,l.RE)([a.g,a.g.signOut]);case 29:return u=(0,c.Z)(r.t0,"login","user"),r.next=32,(0,l.gz)(d.userLoginFailure(u));case 32:case"end":return r.stop()}}),f,null,[[1,24]])}function T(e){var t,n,s,i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.config,r.prev=1,r.next=4,(0,l.RE)([a.g,a.g.currentAuthenticatedUser]);case 4:return n=r.sent,r.next=7,(0,l.RE)([a.g,a.g.userAttributes],n);case 7:if(r.sent,!t.customAttributes){r.next=21;break}return s=null,r.prev=10,r.next=13,(0,l.RE)(k);case 13:s=r.sent,r.next=18;break;case 16:r.prev=16,r.t0=r.catch(10);case 18:return s?"chargebee"===s.organization_id?t.customAttributes["custom:customer_version"]="v2":t.customAttributes["custom:customer_version"]="v1":t.customAttributes["custom:customer_version"]="v2",r.next=21,(0,l.RE)([a.g,a.g.updateUserAttributes],n,t.customAttributes);case 21:return r.next=23,(0,l.gz)(d.getLoggedInUserSuccess(n));case 23:r.next=33;break;case 25:return r.prev=25,r.t1=r.catch(1),(0,p.jy)("getLoggedInUserRequest",r.t1.message||r.t1,"get-logged-in-user-failed"),r.next=30,(0,l.RE)([a.g,a.g.signOut]);case 30:return i=(0,c.Z)(r.t1,"Get","logged in user"),r.next=33,(0,l.gz)(d.getLoggedInUserFailure(i));case 33:case"end":return r.stop()}}),v,null,[[1,25],[10,16]])}function E(){var e,t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,l.Ys)(w);case 3:return e=r.sent,t={},e&&e.countryCode&&(t.location=e.countryCode),r.next=8,(0,l.Ys)(Z);case 8:return(n=r.sent)&&(t.redirectUrl=n),t=!1===g().isEmpty(t)?JSON.stringify(t):"",r.next=13,(0,l.RE)([a.g,a.g.federatedSignIn],{provider:"Google",customState:t});case 13:return r.next=15,(0,l.gz)(d.userGoogleLoginSuccess({success:!0}));case 15:r.next=25;break;case 17:return r.prev=17,r.t0=r.catch(0),(0,p.jy)("userGoogleLoginRequest",r.t0.message,"user-google-login-failed"),r.next=22,(0,l.RE)([a.g,a.g.signOut]);case 22:return s=(0,c.Z)(r.t0,"Google login","user"),r.next=25,(0,l.gz)(d.userGoogleLoginFailure(s));case 25:case"end":return r.stop()}}),x,null,[[0,17]])}function A(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,l.RE)(I,t);case 3:case"end":return n.stop()}}),S)}function _(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,l.RE)(T,t);case 3:case"end":return n.stop()}}),y)}function R(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,(0,l.RE)(E);case 3:case"end":return t.stop()}}),b)}function P(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.ib)(d.USER_LOGIN_REQUEST,A);case 2:return e.next=4,(0,l.ib)(d.GET_LOGGED_IN_USER_REQUEST,_);case 4:return e.next=6,(0,l.ib)(d.USER_GOOGLE_LOGIN_REQUEST,R);case 6:case"end":return e.stop()}}),j)}},18887:function(e,t,n){"use strict";n.r(t),n.d(t,{CARD_ADDED_SUCCESS:function(){return i},GET_USER_PAYMENT_CARD_PAGE_FAILURE:function(){return a},GET_USER_PAYMENT_CARD_PAGE_REQUEST:function(){return r},GET_USER_PAYMENT_CARD_PAGE_SUCCESS:function(){return s},cardAddedSuccess:function(){return u},getUserPaymentCardPageFailure:function(){return l},getUserPaymentCardPageRequest:function(){return o},getUserPaymentCardPageSuccess:function(){return c}});var r="GET_USER_PAYMENT_CARD_PAGE_REQUEST",s="GET_USER_PAYMENT_CARD_PAGE_SUCCESS",a="GET_USER_PAYMENT_CARD_PAGE_FAILURE",i="CARD_ADDED_SUCCESS",o=function(e){return{type:r,params:{redirectUrl:e}}},c=function(e){return{type:s,payload:{result:e}}},l=function(e){return{type:a,payload:{error:e}}},u=function(e){return{type:i,payload:{success:e}}}},38633:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(18887),a={getUserPaymentCardPageResult:{success:!0},userPaymentCardPageResult:null,cardAdded:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_USER_PAYMENT_CARD_PAGE_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getUserPaymentCardPageResult:{success:!0},userPaymentCardPageResult:t.payload.result});case s.GET_USER_PAYMENT_CARD_PAGE_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getUserPaymentCardPageResult:(0,r.Z)({success:!1},t.payload.error),userPaymentCardPageResult:null});case s.CARD_ADDED_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{cardAdded:t.payload.success});default:return e}}},29914:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v},getUserPaymentCardPage:function(){return m},getUserPaymentCardPageRequest:function(){return g},watchGetUserPaymentCardPageRequest:function(){return f}});var r=n(74165),s=n(15861),a=n(64276),i=(n(31881),n(69473)),o=n(80761),c=n(42599),l=n(92347),u=n(18887),d=(n(20140),(0,r.Z)().mark(g)),p=(0,r.Z)().mark(f),h=(0,r.Z)().mark(v),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(c.Z.customerBaseURLV2,"/cards"),e.next=3,i.Z.post(n,{add_card_success_url:t});case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.redirectUrl,r.prev=1,r.next=4,(0,a.RE)(m,t);case 4:return n=r.sent,r.next=7,(0,a.gz)(u.getUserPaymentCardPageSuccess(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(1),(0,l.z)("get-User-Payment-Card-Page",r.t0),s=(0,o.Z)(r.t0,"Get","card payment page"),r.next=15,(0,a.gz)(u.getUserPaymentCardPageFailure(s));case 15:case"end":return r.stop()}}),d,null,[[1,9]])}function f(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,a.RE)(g,t);case 3:case"end":return n.stop()}}),p)}function v(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(u.GET_USER_PAYMENT_CARD_PAGE_REQUEST,f);case 2:case"end":return e.stop()}}),h)}},58484:function(e,t,n){"use strict";n.r(t),n.d(t,{FREE_TRIAL_SUBSCRIPTION_CONFIRMED_NOTIFICATION:function(){return p},SETUP_USER_WEB_SOCKET:function(){return a},SOCKET_CONFIGURED:function(){return i},SUBSCRIBE_TO_VIDEO_GENERATION:function(){return o},TEAMS_REFRESH_NOTIFICATION:function(){return u},TEAM_INVITE_NOTIFICATION:function(){return l},TRANSCRIPTION_PROGRESS:function(){return s},TRANSCRIPTION_REMOTE_MEDIA_UPLOAD_PROGRESS:function(){return d},VOICE_OVER_AUTO_SYNC_PROGRESS:function(){return c},freeTrialSubscriptionConfirmedNotification:function(){return j},setupUserSocket:function(){return g},socketConfigured:function(){return m},subscribeToTranscription:function(){return f},subscribeToVideoGeneration:function(){return v},teamInviteNotification:function(){return S},teamsRefreshNotification:function(){return y},transcriptionProgressBegin:function(){return h},transcriptionRemoteMediaUploadProgress:function(){return b},voiceOverAutoSyncProgress:function(){return x}});var r=n(78842),s="TRANSCRIPTION_PROGRESS",a="SETUP_USER_WEB_SOCKET",i="SOCKET_CONFIGURED",o="SUBSCRIBE_TO_VIDEO_GENERATION",c="VOICE_OVER_AUTO_SYNC_PROGRESS",l="TEAM_INVITE_NOTIFICATION",u="TEAMS_REFRESH_NOTIFICATION",d="TRANSCRIPTION_REMOTE_MEDIA_UPLOAD_PROGRESS",p="FREE_TRIAL_SUBSCRIPTION_CONFIRMED_NOTIFICATION",h=function(e){return{type:s,payload:e}},m=function(e){return{type:i,payload:e}},g=function(e){return{type:a,username:e}},f=function(e){return{type:r.SUBSCRIBE_TO_TRANSCRIPTION,username:e}},v=function(e){return{type:o,username:e}},x=function(e){return{type:c,payload:e}},S=function(e){return{type:l,payload:e}},y=function(e){return{type:u,payload:e}},b=function(e){return{type:d,payload:e}},j=function(e){return{type:p,params:{data:e}}}},53313:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(58484),a={isUserSocketConfigured:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SOCKET_CONFIGURED:return(0,r.Z)((0,r.Z)({},e),{},{isUserSocketConfigured:t.payload});case s.TEAM_INVITE_NOTIFICATION:return(0,r.Z)((0,r.Z)({},e),{},{teamInviteNotification:t.payload});case s.TEAMS_REFRESH_NOTIFICATION:return(0,r.Z)((0,r.Z)({},e),{},{teamsRefreshNotification:Date.now()});default:return e}}},69789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v},initializeUserWebSocketsChannel:function(){return m}});var r,s=n(15861),a=n(74165),i=n(40009),o=n(95228),c=n(64276),l=n(43862),u=n(58484),d=(0,a.Z)().mark(m),p=(0,a.Z)().mark(v);function h(e){return(0,o.GG)((function(t){return function n(){(r=new WebSocket("".concat("wss://8nuw5452x5.execute-api.us-east-2.amazonaws.com/prod","?clientId=").concat(e))).onopen=function(){console.log("Opening User Websocket")},r.onerror=function(e){console.log("ERROR USER: ",e)},r.onmessage=function(e){return t({data:JSON.parse(e.data)})},r.onclose=function(e){1005===e.code?(console.log("USER WebSocket: closed"),t(o.uR)):(console.log("USER Socket is closed Unexpectedly. Reconnect will be attempted in 1 second.",e.reason),setTimeout((function(){n()}),1e3))}}(),function(){console.log("Closing USER Websocket"),r.close()}}))}function m(e){var t,n,r,s;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.username,a.next=3,(0,c.RE)(h,t);case 3:return n=a.sent,a.next=6,(0,c.gz)((0,u.subscribeToTranscription)(t));case 6:return a.next=8,(0,c.gz)((0,u.subscribeToVideoGeneration)(t));case 8:return a.next=11,(0,c.qn)(n);case 11:return r=a.sent,s=r.data,a.next=15,(0,c.RE)(g);case 15:if(!a.sent){a.next=44;break}a.t0=s.action,a.next="Transcription"===a.t0?20:"VideoPreProcessingStatus"===a.t0?23:"VideoGenerationStatus"===a.t0?26:"VoiceOverSync"===a.t0?29:"TRANSCRIPTION_REMOTE_MEDIA_UPLOAD"===a.t0?32:"FREE_TRIAL_SUBSCRIPTION_CONFIRMED"===a.t0?35:"TeamInvite"===a.t0?38:"TeamsRefresh"===a.t0?41:44;break;case 20:return a.next=22,(0,c.gz)((0,u.transcriptionProgressBegin)(s.data));case 22:case 25:case 28:case 31:case 34:case 37:case 40:case 43:return a.abrupt("break",44);case 23:return a.next=25,(0,c.gz)((0,l.videoPreProcessingStatus)(s.data));case 26:return a.next=28,(0,c.gz)((0,l.videoGenerationProgress)(s.data));case 29:return a.next=31,(0,c.gz)((0,u.voiceOverAutoSyncProgress)(s.data));case 32:return a.next=34,(0,c.gz)((0,u.transcriptionRemoteMediaUploadProgress)(s.data));case 35:return a.next=37,(0,c.gz)((0,u.freeTrialSubscriptionConfirmedNotification)(s.data));case 38:return a.next=40,(0,c.gz)((0,u.teamInviteNotification)(s.data));case 41:return a.next=43,(0,c.gz)((0,u.teamsRefreshNotification)(s.data));case 44:a.next=8;break;case 46:case"end":return a.stop()}}),d)}function g(){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.g.currentAuthenticatedUser();case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ib)(u.SETUP_USER_WEB_SOCKET,m);case 2:case"end":return e.stop()}}),p)}},80590:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_USER_LOCATION_FAILURE:function(){return c},GET_USER_LOCATION_REQUEST:function(){return i},GET_USER_LOCATION_SUCCESS:function(){return o},USER_SIGNUP_FAILURE:function(){return a},USER_SIGNUP_REQUEST:function(){return r},USER_SIGNUP_SUCCESS:function(){return s},getUserLocationFailure:function(){return m},getUserLocationRequest:function(){return p},getUserLocationSuccess:function(){return h},userSignUpFailure:function(){return d},userSignUpRequest:function(){return l},userSignUpSuccess:function(){return u}});var r="USER_SIGNUP_REQUEST",s="USER_SIGNUP_SUCCESS",a="USER_SIGNUP_FAILURE",i="GET_USER_LOCATION_REQUEST",o="GET_USER_LOCATION_SUCCESS",c="GET_USER_LOCATION_FAILURE",l=function(e,t,n){return{type:r,params:{email:e,password:t,attributes:n}}},u=function(e){return{type:s,payload:{result:e}}},d=function(e){return{type:a,payload:{error:e}}},p=function(){return{type:i}},h=function(e){return{type:o,payload:{result:e}}},m=function(e){return{type:c,payload:{error:e}}}},86935:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(80590),a={userSignUpResult:{success:!0},getUserLocationResult:{success:!0},userLocationResult:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.USER_SIGNUP_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{userSignUpResult:(0,r.Z)({success:!0},t.payload.result)});case s.USER_SIGNUP_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{userSignUpResult:(0,r.Z)({success:!1},t.payload.error)});case s.GET_USER_LOCATION_SUCCESS:return(0,r.Z)((0,r.Z)({},e),{},{getUserLocationResult:{success:!0},userLocationResult:t.payload.result});case s.GET_USER_LOCATION_FAILURE:return(0,r.Z)((0,r.Z)({},e),{},{getUserLocationResult:(0,r.Z)({success:!1},t.payload.error),userLocationResult:null});default:return e}}},40502:function(e,t,n){"use strict";n.r(t),n.d(t,{createUser:function(){return y},default:function(){return C},findUser:function(){return S},getUserLocation:function(){return b},getUserLocationRequest:function(){return w},userSignUpRequest:function(){return j},watchCheckICPUserRequest:function(){return k},watchUserSignUpRequest:function(){return Z}});var r=n(74165),s=n(15861),a=n(40009),i=n(31881),o=n.n(i),c=n(80761),l=n(64276),u=n(42599),d=n(92347),p=n(2650),h=n(80590),m=(0,r.Z)().mark(j),g=(0,r.Z)().mark(w),f=(0,r.Z)().mark(Z),v=(0,r.Z)().mark(k),x=(0,r.Z)().mark(C),S=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.userManagementURL,"/users/search"),e.next=4,o().post(n,{email:t});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(u.Z.userManagementURL,"/users"),e.next=3,o().post(a,{email:t,password:n,attributes:s});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(u.Z.userManagementURL,"/location"),e.next=3,o().get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(e){var t,n,s,i,o,u,g;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,n=e.password,s=e.attributes,r.prev=1,r.next=4,(0,l.RE)(S,t);case 4:if(!(i=r.sent)||1!==i.length){r.next=10;break}if("Google"!==i[0].loginType){r.next=10;break}return r.next=9,(0,l.gz)(h.userSignUpFailure({code:"GOOGLE_LOGIN_EXIST",message:"Google login exist for the same email"}));case 9:return r.abrupt("return");case 10:return r.next=12,(0,l.RE)([a.g,a.g.signOut]);case 12:return s["custom:customer_version"]="v2",r.next=15,(0,l.RE)(y,t,n,s);case 15:return o=null,u=!1,r.prev=17,r.next=20,(0,l.RE)([a.g,a.g.signIn],t,n);case 20:return u=!0,r.next=23,(0,l.RE)([a.g,a.g.currentAuthenticatedUser]);case 23:return o=r.sent,r.next=26,(0,l.gz)(p.userLoginSuccess(o));case 26:r.next=33;break;case 28:if(r.prev=28,r.t0=r.catch(17),!u){r.next=33;break}return r.next=33,(0,l.RE)([a.g,a.g.signOut]);case 33:return r.next=35,(0,l.gz)(h.userSignUpSuccess({loggedInUser:o}));case 35:r.next=43;break;case 37:return r.prev=37,r.t1=r.catch(1),(0,d.z)("user-signup",r.t1),g=(0,c.Z)(r.t1,"Signup","user"),r.next=43,(0,l.gz)(h.userSignUpFailure(g));case 43:case"end":return r.stop()}}),m,null,[[1,37],[17,28]])}function w(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.RE)(b);case 3:return e=n.sent,n.next=6,(0,l.gz)(h.getUserLocationSuccess(e));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),(0,d.z)("get-user-location",n.t0),t=(0,c.Z)(n.t0,"get","user location"),n.next=14,(0,l.gz)(h.getUserLocationFailure(t));case 14:case"end":return n.stop()}}),g,null,[[0,8]])}function Z(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.params,n.next=3,(0,l.RE)(j,t);case 3:case"end":return n.stop()}}),f)}function k(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,(0,l.RE)(w);case 3:case"end":return t.stop()}}),v)}function C(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.ib)(h.USER_SIGNUP_REQUEST,Z);case 2:return e.next=4,(0,l.ib)(h.GET_USER_LOCATION_REQUEST,k);case 4:case"end":return e.stop()}}),x)}},72931:function(e,t,n){"use strict";n.r(t),n.d(t,{GENERATE_VIDEO_POSTS_COMPLETED:function(){return c},GET_SOCIAL_PROFILES:function(){return l},GET_SOCIAL_PROFILES_COMPLETED:function(){return u},GET_VIDEO_POST_AUTH_TOKEN:function(){return a},INITIATE_GENERATE_VIDEO_POSTS:function(){return o},INITIATE_VIDEO_POSTS_LOGIN:function(){return r},RECEIVED_VIDEO_POST_AUTH_TOKEN:function(){return i},SCHEDULE_MESSAGES_COMPLETED:function(){return p},SCHEDULE_MESSAGES_INITIATE:function(){return d},SELECT_COMPANY_SOCIAL_PROFILE:function(){return m},SELECT_PERSONAL_SOCIAL_PROFILE:function(){return h},UPLOAD_VIDEO_POSTS_CSV_FAILURE:function(){return v},UPLOAD_VIDEO_POSTS_CSV_REQUEST:function(){return g},UPLOAD_VIDEO_POSTS_CSV_SUCCESS:function(){return f},VIDEO_POSTS_LOGIN_COMPLETED:function(){return s},generateVideoPostsCompleted:function(){return w},getSocialProfiles:function(){return Z},getSocialProfilesCompleted:function(){return k},getVideoPostAuthToken:function(){return y},initiateGenerateVideoPosts:function(){return j},initiateVideoPostsLogin:function(){return x},receivedVideoPostAuthToken:function(){return b},scheduleMessageCompleted:function(){return I},scheduleMessageInitiate:function(){return C},selectCompanySocialProfile:function(){return E},selectPersonalSocialProfile:function(){return T},uploadVideoPostsCSVFailure:function(){return R},uploadVideoPostsCSVRequest:function(){return A},uploadVideoPostsCSVSuccess:function(){return _},videoPostsLoginCompleted:function(){return S}});var r="INITIATE_VIDEO_POSTS_LOGIN",s="VIDEO_POSTS_LOGIN_COMPLETED",a="GET_VIDEO_POST_AUTH_TOKEN",i="RECEIVED_VIDEO_POST_AUTH_TOKEN",o="INITIATE_GENERATE_VIDEO_POSTS",c="GENERATE_VIDEO_POSTS_COMPLETED",l="GET_SOCIAL_PROFILES",u="GET_SOCIAL_PROFILES_COMPLETED",d="SCHEDULE_MESSAGES_INITIATE",p="SCHEDULE_MESSAGES_COMPLETED",h="SELECT_PERSONAL_SOCIAL_PROFILE",m="SELECT_COMPANY_SOCIAL_PROFILE",g="UPLOAD_VIDEO_POSTS_CSV_REQUEST",f="UPLOAD_VIDEO_POSTS_CSV_SUCCESS",v="UPLOAD_VIDEO_POSTS_CSV_FAILURE",x=function(e){return{type:r,params:{userName:e}}},S=function(e){return{type:s,payload:{loginSuccessFul:e}}},y=function(e,t){return{type:a,params:{code:e,userName:t}}},b=function(e){return{type:i,payload:e}},j=function(e,t,n){return{type:o,params:{videoCreationJson:e,projectDetails:t,userName:n}}},w=function(e,t){return{type:c,payload:{status:e,projectDetails:t}}},Z=function(e){return{type:l,params:{userName:e}}},k=function(e){return{type:u,payload:e}},C=function(e,t){return{type:d,params:{userName:e,messages:t}}},I=function(e){return{type:p,payload:e}},T=function(e,t){return{type:h,params:{index:e,checked:t}}},E=function(e,t){return{type:m,params:{index:e,checked:t}}},A=function(e,t,n,r){return{type:g,params:{csv:e,userName:t,projectId:n,responseId:r}}},_=function(e){return{type:f,payload:{csvUrl:e}}},R=function(e){return{type:v,payload:e}}},95323:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(1413),a=n(72931),i={authCode:null,authCodeStatus:null,videoPostSuccesfulLoginFlag:0,videoPostFailedLoginFlag:0,generateVideoPostsStatus:{status:"",inProgress:!1},socialProfiles:{personalSociaProfiles:[],companySocialProfiles:[]},scheduleMessageStatus:null,uploadVideoPostsCSVResult:{success:!0},videoPostsCSVUrl:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.RECEIVED_VIDEO_POST_AUTH_TOKEN:return(0,s.Z)((0,s.Z)({},e),{},{authCode:t.payload.authCode,authCodeStatus:t.payload.status});case a.VIDEO_POSTS_LOGIN_COMPLETED:return t.payload.loginSuccessFul?(0,s.Z)((0,s.Z)({},e),{},{videoPostSuccesfulLoginFlag:e.videoPostSuccesfulLoginFlag+1}):(0,s.Z)((0,s.Z)({},e),{},{videoPostFailedLoginFlag:e.videoPostFailedLoginFlag+1});case a.INITIATE_GENERATE_VIDEO_POSTS:return(0,s.Z)((0,s.Z)({},e),{},{generateVideoPostsStatus:{status:"",inProgress:!1}});case a.GENERATE_VIDEO_POSTS_COMPLETED:return(0,s.Z)((0,s.Z)({},e),{},{generateVideoPostsStatus:{status:t.payload.status,projectDetails:t.payload.projectDetails,inProgress:"success"===t.payload.status}});case a.GET_SOCIAL_PROFILES_COMPLETED:var n=t.payload.reduce((function(e,t){var n="";t.type.toLowerCase().startsWith("facebook")?n="/images/hootsuite/svg/facebook.svg":t.type.toLowerCase().startsWith("twitter")?n="/images/hootsuite/svg/twitter.svg":t.type.toLowerCase().startsWith("linkedin")?n="/images/hootsuite/svg/linkedin.svg":t.type.toLowerCase().startsWith("instagram")&&(n="/images/hootsuite/svg/instagram.svg");var r={selected:!1,type:t.type.toLowerCase(),avatarUrl:t.avatarUrl,name:t.socialNetworkUsername||t.owner&&t.owner.toLowerCase(),id:t.id,socialNetworkId:t.socialNetworkId,accountImage:n};return t.type&&t.type.toLowerCase().endsWith("company")?e.companySocialProfiles.push(r):e.personalSociaProfiles.push(r),e}),{personalSociaProfiles:[],companySocialProfiles:[]});return(0,s.Z)((0,s.Z)({},e),{},{socialProfiles:n});case a.SCHEDULE_MESSAGES_INITIATE:return(0,s.Z)((0,s.Z)({},e),{},{scheduleMessageStatus:null});case a.SCHEDULE_MESSAGES_COMPLETED:return(0,s.Z)((0,s.Z)({},e),{},{scheduleMessageStatus:t.payload});case a.SELECT_PERSONAL_SOCIAL_PROFILE:if(e.socialProfiles&&e.socialProfiles.personalSociaProfiles&&e.socialProfiles.personalSociaProfiles.length>0){var o=(0,r.Z)(e.socialProfiles.personalSociaProfiles);return o[t.params.index]=(0,s.Z)((0,s.Z)({},o[t.params.index]),{},{selected:t.params.checked}),(0,s.Z)((0,s.Z)({},e),{},{socialProfiles:(0,s.Z)((0,s.Z)({},e.socialProfiles),{},{personalSociaProfiles:o})})}return e;case a.SELECT_COMPANY_SOCIAL_PROFILE:if(e.socialProfiles&&e.socialProfiles.companySocialProfiles&&e.socialProfiles.companySocialProfiles.length>0){var c=(0,r.Z)(e.socialProfiles.companySocialProfiles);return c[t.params.index]=(0,s.Z)((0,s.Z)({},c[t.params.index]),{},{selected:t.params.checked}),(0,s.Z)((0,s.Z)({},e),{},{socialProfiles:(0,s.Z)((0,s.Z)({},e.socialProfiles),{},{companySocialProfiles:c})})}return e;case a.UPLOAD_VIDEO_POSTS_CSV_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{uploadVideoPostsCSVResult:{success:!0},videoPostsCSVUrl:t.payload.csvUrl});case a.UPLOAD_VIDEO_POSTS_CSV_FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{uploadVideoPostsCSVResult:{success:!1},videoPostsCSVUrl:null});default:return e}}},29339:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J},handleGenerateVideoPosts:function(){return M},handleGetSocialProfiles:function(){return G},handleGetVideoPostAuthToken:function(){return B},handleScheduleMessages:function(){return W},handleUploadVideoPostsCSVRequest:function(){return z},handleVideoPostsLogin:function(){return V},initiateVideoPostLogin:function(){return F}});var r=n(74165),s=n(15861),a=n(78503),i=n(31881),o=n.n(i),c=n(64276),l=n(11043),u=n(42599),d=n(69473),p=n(91104),h=n(47439),m=n(89956),g=n(96161),f=n(45610),v=n(48636),x=n(66719),S=n(40158),y=n(35246),b=n(72931),j=(0,r.Z)().mark(F),w=(0,r.Z)().mark(V),Z=(0,r.Z)().mark(B),k=(0,r.Z)().mark(M),C=(0,r.Z)().mark(G),I=(0,r.Z)().mark(W),T=(0,r.Z)().mark(z),E=(0,r.Z)().mark(J),A=function(){var e="".concat("https://platform.hootsuite.com/oauth2/auth","?response_type=code&client_id=").concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4","&scope=offline&redirect_uri=").concat("https://app.pictory.ai/").concat(f.Z.hootsuiteAppUrl);window.hootsuiteLoginWindow=window.open(e,"","toolbar=no,status=no,menubar=no,location=center,scrollbars=no,resizable=no,height=500,width=657"),window.onHootSuiteLogin=_,window.onHootSuiteLoginError=P},_=function(){window.onHootSuiteLogin=null,window.onHootSuiteLoginError=null,window.hootsuiteLoginWindow&&(window.hootsuiteLoginSuccessful=!0,window.hootsuiteLoginWindow.close(),window.hootsuiteLoginWindow=null)},R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=setInterval((function(){window.hootsuiteLoginWindow&&!window.hootsuiteLoginWindow.closed||(window.hootsuiteLoginWindow=null,clearInterval(n),e())}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){window.onHootSuiteLogin=null,window.onHootSuiteLoginError=null,window.hootsuiteLoginWindow&&(window.hootsuiteLoginWindow.close(),window.hootsuiteLoginWindow=null),(0,g.x2)("Could not login at this moment")},N=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.Z.videoPostsURL+"/auth/token",e.next=3,d.Z.post(n,{code:t,redirectUrl:"".concat("https://app.pictory.ai/").concat(f.Z.hootsuiteAppUrl)});case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(u.Z.videoPostsURL,"/auth/users/").concat(t),e.next=4,d.Z.head(n);case 4:return e.sent,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u.Z.videoPostsURL,"/users/").concat(t,"/socialprofiles"),e.next=3,d.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(u.Z.videoPostsURL,"/users/").concat(t,"/schedulemessages"),e.next=3,d.Z.post(s,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s,i){var o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(t,"/project/").concat(n,"/videoposts/").concat(s,".csv"),e.next=3,(0,m.d)();case 3:return e.next=5,a.Ke.put(o,i,{level:"public",ACL:"public-read",contentType:"text/csv"});case 5:return e.sent,c=l.Z.Instance.GetUserUploadUrl(o,"public"),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}();function F(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.RE)(A);case 2:return t.next=4,(0,c.RE)(R);case 4:if(!window.hootsuiteLoginSuccessful||!window.localStorage.getItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(e.userName,".user_id"))){t.next=10;break}return window.hootsuiteLoginSuccessful=!1,t.next=8,(0,c.gz)((0,b.videoPostsLoginCompleted)(!0));case 8:t.next=12;break;case 10:return t.next=12,(0,c.gz)((0,b.videoPostsLoginCompleted)(!1));case 12:case"end":return t.stop()}}),j)}function V(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.params,r.prev=1,window.localStorage.getItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(t.userName,".user_id"))){r.next=7;break}return r.next=5,(0,c.RE)(F,t);case 5:case 15:r.next=19;break;case 7:return n=window.localStorage.getItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(t.userName,".user_id")),r.next=10,(0,c.RE)(O,n);case 10:if(r.sent){r.next=17;break}return window.localStorage.removeItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(t.userName,".user_id")),r.next=15,(0,c.RE)(F,t);case 17:return r.next=19,(0,c.gz)((0,b.videoPostsLoginCompleted)(!0));case 19:r.next=26;break;case 21:return r.prev=21,r.t0=r.catch(1),(0,p.jy)("video-post-login-failed",r.t0.message),r.next=26,(0,c.gz)((0,b.videoPostsLoginCompleted)(!1));case 26:case"end":return r.stop()}}),w,null,[[1,21]])}function B(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,c.RE)(N,t.code);case 4:return(n=r.sent).id&&window.localStorage.setItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(t.userName,".user_id"),n.id),r.next=8,(0,c.gz)((0,b.receivedVideoPostAuthToken)({authCode:n,status:"success"}));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),(0,p.jy)("get-video-post-auth-code",r.t0.message),r.next=15,(0,c.gz)((0,b.receivedVideoPostAuthToken)({authCode:null,status:"failed"}));case 15:case"end":return r.stop()}}),Z,null,[[1,10]])}function M(e){var t,n,s,a,i,l,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=t.videoCreationJson,s=t.projectDetails,a=t.userName,i=o().CancelToken.source(),n.video_post&&(n.hootsuite_user_id=window.localStorage.getItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(a,".user_id"))),r.next=7,(0,c.Cs)(x.hE,{params:{VideoCreationJson:n,projectId:s.projectId,userName:a,abortController:i}});case 7:return r.next=9,(0,c.S3)({success:(0,c.qn)(v.GENERATE_VIDEO_REQUEST_SUCCESS),failed:(0,c.qn)(v.GENERATE_VIDEO_REQUEST_FAILED)});case 9:if(l=r.sent,u=l.success,l.failed,!u){r.next=30;break}return s.states[0].responseId=u.payload,delete s.versionId,r.next=17,(0,c.RE)(y.handleSaveProject,{params:{generatingAsyncVideo:!0,body:s}});case 17:if(u=r.sent,delete s.versionId,!u){r.next=26;break}return r.next=22,(0,c.gz)((0,S.projectOpened)({projectOpenError:!1,project:s,projectAction:h.vY.OpenProject}));case 22:return r.next=24,(0,c.gz)((0,b.generateVideoPostsCompleted)("success",s));case 24:r.next=28;break;case 26:return r.next=28,(0,c.gz)((0,b.generateVideoPostsCompleted)("failed",null));case 28:r.next=32;break;case 30:return r.next=32,(0,c.gz)((0,b.generateVideoPostsCompleted)("failed",null));case 32:r.next=39;break;case 34:return r.prev=34,r.t0=r.catch(1),r.next=38,(0,c.gz)((0,b.generateVideoPostsCompleted)("failed",null));case 38:(0,p.jy)("generate-video-posts",r.t0.message);case 39:case"end":return r.stop()}}),k,null,[[1,34]])}function G(e){var t,n,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=window.localStorage.getItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(t.userName,".user_id")),r.next=5,(0,c.RE)(D,n);case 5:if(!(s=r.sent)){r.next=9;break}return r.next=9,(0,c.gz)((0,b.getSocialProfilesCompleted)(s));case 9:r.next=17;break;case 11:return r.prev=11,r.t0=r.catch(1),(0,g.x2)("Error while getting social profiles"),r.next=16,(0,c.gz)((0,b.getSocialProfilesCompleted)([]));case 16:(0,p.jy)("get-social-profiles",r.t0.message);case 17:case"end":return r.stop()}}),C,null,[[1,11]])}function W(e){var t,n,s,a;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=window.localStorage.getItem("Hootsuite.".concat("d853b985-8ad3-4f31-8de7-999ee2c6b3b4",".").concat(t.userName,".user_id")),s=t.messages,r.next=6,(0,c.RE)(U,n,s);case 6:return a=r.sent,r.next=9,(0,c.gz)((0,b.scheduleMessageCompleted)(a));case 9:r.next=22;break;case 11:if(r.prev=11,r.t0=r.catch(1),!(r.t0.isAxiosError&&r.t0.response&&r.t0.response.data&&!1===r.t0.response.data.success&&r.t0.response.data.status)){r.next=18;break}return r.next=16,(0,c.gz)((0,b.scheduleMessageCompleted)(r.t0.response.data));case 16:r.next=21;break;case 18:return(0,g.x2)("Error while scheduling posts"),r.next=21,(0,c.gz)((0,b.scheduleMessageCompleted)(null));case 21:(0,p.jy)("schedule-hootsuite-messages",r.t0.message);case 22:case"end":return r.stop()}}),I,null,[[1,11]])}function z(e){var t,n,s,a,i,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,n=t.csv,s=t.userName,a=t.projectId,i=t.responseId,r.next=5,(0,c.RE)(L,s,a,i,n);case 5:return o=r.sent,r.next=8,(0,c.gz)((0,b.uploadVideoPostsCSVSuccess)(o));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,(0,c.gz)((0,b.uploadVideoPostsCSVFailure)(r.t0));case 14:(0,p.jy)("upload-video-posts-csv",r.t0.message);case 15:case"end":return r.stop()}}),T,null,[[1,10]])}function J(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ib)(b.INITIATE_VIDEO_POSTS_LOGIN,V);case 2:return e.next=4,(0,c.ib)(b.GET_VIDEO_POST_AUTH_TOKEN,B);case 4:return e.next=6,(0,c.ib)(b.INITIATE_GENERATE_VIDEO_POSTS,M);case 6:return e.next=8,(0,c.ib)(b.GET_SOCIAL_PROFILES,G);case 8:return e.next=10,(0,c.ib)(b.SCHEDULE_MESSAGES_INITIATE,W);case 10:return e.next=12,(0,c.ib)(b.UPLOAD_VIDEO_POSTS_CSV_REQUEST,z);case 12:case"end":return e.stop()}}),E)}},68628:function(e,t,n){"use strict";n.r(t),n.d(t,{GET_SAVED_ASSETS_BEGIN:function(){return l},GET_SAVED_ASSETS_COMPLETE:function(){return u},GET_SEARCH_SUGGESTIONS_BEGIN:function(){return r},GET_SEARCH_SUGGESTIONS_COMPLETE:function(){return s},SEARCH_CATEGORY_BEGIN:function(){return o},SEARCH_CATEGORY_COMPLETE:function(){return c},SIMILAR_SEARCH_BEGIN:function(){return a},SIMILAR_SEARCH_COMPLETE:function(){return i},getSavedAssets:function(){return v},getSavedAssetsComplete:function(){return x},getSearchSuggestionsBegin:function(){return d},getSearchSuggestionsComplete:function(){return p},searchCategoriesBegin:function(){return g},searchCategoriesComplete:function(){return f},similarSearchBegin:function(){return h},similarSearchComplete:function(){return m}});var r="GET_SEARCH_SUGGESTIONS_BEGIN",s="GET_SEARCH_SUGGESTIONS_COMPLETE",a="SIMILAR_SEARCH_BEGIN",i="SIMILAR_SEARCH_COMPLETED",o="SEARCH_CATEGORY_BEGIN",c="SEARCH_CATEGORY_COMPLETE",l="GET_SAVED_ASSETS_BEGIN",u="GET_SAVED_ASSETS_COMPLETE",d=function(e){return{type:r,params:{query:e}}},p=function(e){return{type:s,payload:e}},h=function(e){return{type:a,params:e}},m=function(e){return{type:i,payload:e}},g=function(){return{type:o}},f=function(e){return{type:c,payload:e}},v=function(e){return{type:l,params:{id:e}}},x=function(e){return{type:u,payload:e}}},82010:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(68628),a={suggestions:[],searchCategories:{},textures:["/textures/image-from-rawpixel-id-458221-original.png","/textures/image-from-rawpixel-id-494501-original.png","/textures/image-from-rawpixel-id-514191-original.png","/textures/image-from-rawpixel-id-530832-original.png","/textures/image-from-rawpixel-id-544420-original.png","/textures/image-from-rawpixel-id-579739-original.png","/textures/image-from-rawpixel-id-579938-original.png","/textures/image-from-rawpixel-id-586442-original.png","/textures/image-from-rawpixel-id-597613-original.png","/textures/image-from-rawpixel-id-2292416-original.png","/textures/image-from-rawpixel-id-2335156-original.png","/textures/image-from-rawpixel-id-2360798-original.png","/textures/image-from-rawpixel-id-2372532-jpeg.png","/textures/image-from-rawpixel-id-2372580-jpeg.png","/textures/image-from-rawpixel-id-2416803-original.png","/textures/image-from-rawpixel-id-2417558-original.png","/textures/image-from-rawpixel-id-2425918-original.png","/textures/image-from-rawpixel-id-2431622-jpeg.png","/textures/image-from-rawpixel-id-2455210-jpeg.png","/textures/image-from-rawpixel-id-2466603-original.png"],savedAssets:{isChanged:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET_SEARCH_SUGGESTIONS_BEGIN:return(0,r.Z)((0,r.Z)({},e),{},{suggestions:[]});case s.GET_SEARCH_SUGGESTIONS_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{suggestions:t.payload});case s.SIMILAR_SEARCH_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{similarSearchResult:t.payload});case s.SEARCH_CATEGORY_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{searchCategories:t.payload});case s.GET_SAVED_ASSETS_COMPLETE:return(0,r.Z)((0,r.Z)({},e),{},{savedAssets:t.payload});default:return e}}},69897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _},getAssetSearchResponseAPI:function(){return k},getSearchCategories:function(){return Z},getSearchSuggestionsBegin:function(){return j},handleGetSavedAssets:function(){return T},handleGetSearchSuggestionsBegin:function(){return C},handleSearchCategory:function(){return I},handleSimilarSearchBegin:function(){return E},searchSimilarAssets:function(){return w}});var r=n(1413),s=n(74165),a=n(15861),i=n(31881),o=n.n(i),c=n(70816),l=n.n(c),u=n(64276),d=n(42599),p=n(69473),h=n(91104),m=n(43862),g=n(68628),f=(0,s.Z)().mark(C),v=(0,s.Z)().mark(I),x=(0,s.Z)().mark(T),S=(0,s.Z)().mark(E),y=(0,s.Z)().mark(A),b=(0,s.Z)().mark(_),j=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("".concat(d.Z.searchSuggestionsBaseURL,"/searchsuggestions?query=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.Z.searchSimilarAssets,(a=(0,h.E3)())&&(r=d.Z.searchSimilarAssetsTeams.format(a)),console.log("searchSimilarAssets request from visuallibrary.js"+l()().toISOString()),e.next=6,p.Z.post(r,t,{},null,{params:n});case 6:return i=e.sent,console.log("searchSimilarAssets Completed from visuallibrary.js"+l()().toISOString()),e.abrupt("return",i.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get(d.Z.searchAllCategories);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(d.Z.searchAllAssets,"/result/").concat(t),e.next=4,p.Z.get(n);case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.isAxiosError&&e.t0.response&&404===e.t0.response.status){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function C(e){var t,n,r;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=1,n=t.query,s.next=5,(0,u.RE)(j,n);case 5:return r=s.sent,s.next=8,(0,u.gz)((0,g.getSearchSuggestionsComplete)(r));case 8:s.next=15;break;case 10:return s.prev=10,s.t0=s.catch(1),s.next=14,(0,u.gz)((0,g.getSearchSuggestionsComplete)([]));case 14:(0,h.jy)("Get-Search-Suggestions",s.t0.message);case 15:case"end":return s.stop()}}),f,null,[[1,10]])}function I(){var e;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.RE)(Z);case 3:return e=t.sent,t.next=6,(0,u.gz)((0,g.searchCategoriesComplete)((0,r.Z)({All:"All"},e.data)));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,u.gz)((0,g.searchCategoriesComplete)({All:"All"}));case 12:(0,h.jy)("search-categories",t.t0.message);case 13:case"end":return t.stop()}}),v,null,[[0,8]])}function T(e){var t,n;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=1,s.next=4,(0,u.RE)(k,t.id);case 4:return n=s.sent,s.next=7,(0,u.gz)((0,g.getSavedAssetsComplete)((0,r.Z)((0,r.Z)({},n),{},{isChanged:(0,h.DO)()})));case 7:s.next=14;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,(0,u.gz)((0,g.getSavedAssetsComplete)({}));case 13:(0,h.jy)("get-saved-assets",s.t0.message);case 14:case"end":return s.stop()}}),x,null,[[1,9]])}function E(e){var t,n,r,a,i,c,d,p,f;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.prev=1,n={asset:t.asset,article:t.article},t.assets_category&&(n.assets_category=t.assets_category),r=t.params,n.clientId=h.I4,s.next=8,(0,u.RE)(w,n,r);case 8:if(!(a=s.sent).async){s.next=37;break}return s.next=12,(0,u.S3)({assetsSearchResponse:(0,u.qn)(m.ASSET_SEARCH_COMPLETED),timeout:(0,u.gw)(6e4)});case 12:if(i=s.sent,c=i.assetsSearchResponse,i.timeout,console.log("searchSimilarAssets Recived notification from visuallibrary.js "+l()().toISOString()),!c||!c.payload||c.payload.response_id!==a.response_id){s.next=27;break}return s.next=19,(0,u.RE)([o(),o().get],c.payload.response_url,{headers:{"Content-Type":"application/json"}});case 19:if(!(d=s.sent).data.error){s.next=24;break}throw new Error(d.data.error);case 24:a=d.data.data;case 25:s.next=37;break;case 27:return s.next=29,(0,u.S3)({assetsSearchResponse:(0,u.RE)(A,a.response_id),timeout:(0,u.gw)(3e4)});case 29:if(p=s.sent,f=p.assetsSearchResponse,p.timeout,!f){s.next=36;break}a=f.data,s.next=37;break;case 36:throw new Error("Assets search response timeout");case 37:return s.next=39,(0,u.gz)((0,g.similarSearchComplete)(a));case 39:s.next=47;break;case 41:return s.prev=41,s.t0=s.catch(1),console.log("searchSimilarAssets Error from visuallibrary.js "+s.t0.message+l()().toISOString()),s.next=46,(0,u.gz)((0,g.similarSearchComplete)({data:[],keywords:""}));case 46:(0,h.jy)("assets-similar-search",s.t0.message);case 47:case"end":return s.stop()}}),S,null,[[1,41]])}function A(e){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,u.RE)(k,e);case 3:if(!(t=n.sent)){n.next=8;break}return n.abrupt("return",t);case 8:return n.next=10,(0,u.gw)(2e3);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),y)}function _(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Fm)(g.GET_SEARCH_SUGGESTIONS_BEGIN,C);case 2:return e.next=4,(0,u.ib)(g.SIMILAR_SEARCH_BEGIN,E);case 4:return e.next=6,(0,u.ib)(g.SEARCH_CATEGORY_BEGIN,I);case 6:return e.next=8,(0,u.ib)(g.GET_SAVED_ASSETS_BEGIN,T);case 8:case"end":return e.stop()}}),b)}},69069:function(e,t,n){"use strict";n.r(t),n.d(t,{CREATE_BRAND_REQUEST:function(){return a},CREATE_BRAND_RESPONSE:function(){return i},GET_BRAND_USERS_FAILURE:function(){return m},GET_BRAND_USERS_REQUEST:function(){return p},GET_BRAND_USERS_SUCCESS:function(){return h},GET_USER_BRANDS_FAILURE:function(){return l},GET_USER_BRANDS_REQUEST:function(){return o},GET_USER_BRANDS_SUCCESS:function(){return c},SHARE_BRAND_INITIATE:function(){return u},SHARE_BRAND_RESPONSE:function(){return d},createBrandDispatcher:function(){return w},createBrandRequest:function(){return g},getBrandUsersFailure:function(){return j},getBrandUsersRequest:function(){return y},getBrandUsersSuccess:function(){return b},getUserBrandsFailure:function(){return x},getUserBrandsRequest:function(){return f},getUserBrandsSuccess:function(){return v},shareBrandDispatcher:function(){return Z},shareBrandRequest:function(){return S}});var r=n(4942),s=n(61253),a="CREATE_BRAND_REQUEST",i="CREATE_BRAND_RESPONSE",o="GET_USER_BRANDS_REQUEST",c="GET_USER_BRANDS_SUCCESS",l="GET_USER_BRANDS_FAILURE",u="SHARE_BRAND_INITIATE",d="SHARE_BRAND_RESPONSE",p="GET_BRAND_USERS_REQUEST",h="GET_BRAND_USERS_SUCCESS",m="GET_BRAND_USERS_FAILURE",g=function(e,t){return(0,r.Z)({type:a,params:e,userId:t},s.jw,i)},f=function(e){return(0,r.Z)({type:o,userId:e},s.jw,c)},v=function(e){return{type:c,payload:{userBrandsResult:e}}},x=function(e){return{type:l,payload:{error:e}}},S=function(e,t,n){return(0,r.Z)({type:u,brandIds:e,shareList:t,userId:n},s.jw,d)},y=function(e){return(0,r.Z)({type:p,userId:e},s.jw,h)},b=function(e){return{type:h,payload:{brandUsersResult:e}}},j=function(e){return{type:m,payload:{error:e}}},w=function(e){return(0,r.Z)({type:i,payload:e},s.jw,i)},Z=function(e){return(0,r.Z)({type:d,payload:e},s.jw,d)}},64837:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(91104),a=n(69069),i={brands:{Items:[]}};t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case a.CREATE_BRAND_RESPONSE:return t=(0,r.Z)((0,r.Z)({},n),{},{createBrandStatus:o.payload.status,brand:o.payload.brand}),"success"===o.payload.status&&t.createBrandResult&&(t.createBrandResult.brand=o.payload.brand),t;case a.GET_USER_BRANDS_SUCCESS:return null===(e=o.payload.userBrandsResult)||void 0===e||e.forEach((function(e){var t;null===(t=e.colorList)||void 0===t||t.forEach((function(e){e.textBackgroundColor=e.textBackgroundColor||(0,s.a7)(e.hex,1),delete e.hex}))})),(0,r.Z)((0,r.Z)({},n),{},{getUserBrandsResult:{success:!0},userBrandsResult:o.payload.userBrandsResult});case a.SHARE_BRAND_RESPONSE:return(0,r.Z)((0,r.Z)({},n),{},{shareBrandStatus:o.payload});case a.GET_BRAND_USERS_SUCCESS:return(0,r.Z)((0,r.Z)({},n),{},{getBrandUsersResult:{success:!0},brandUsersResult:o.payload.brandUsersResult});case a.GET_BRAND_USERS_FAILURE:return(0,r.Z)((0,r.Z)({},n),{},{getBrandUsersResult:{success:!1}});default:return n}}},72958:function(e,t,n){"use strict";n.r(t),n.d(t,{createBrand:function(){return g},default:function(){return w},getBrandUsers:function(){return v},getUserBrands:function(){return f},handleCreateBrand:function(){return S},handleShareBrand:function(){return j},shareBrand:function(){return x},watchGetBrandUsersRequest:function(){return b},watchGetUserBrandsRequest:function(){return y}});var r=n(74165),s=n(15861),a=n(64276),i=n(42599),o=n(69473),c=n(91104),l=n(69069),u=(0,r.Z)().mark(S),d=(0,r.Z)().mark(y),p=(0,r.Z)().mark(b),h=(0,r.Z)().mark(j),m=(0,r.Z)().mark(w),g=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(i.Z.brandsBaseURL),(0,c.E3)()&&(s="".concat(i.Z.brandsBaseURL,"/teams/").concat((0,c.E3)(),"/users/").concat(n)),delete t.userId,e.next=5,o.Z.post(s,t);case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.brandsBaseURL,"/users/").concat(t),(0,c.E3)()&&(n="".concat(i.Z.brandsBaseURL,"/teams/").concat((0,c.E3)(),"/users/").concat(t)),e.next=4,o.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.Z.brandsBaseURL,"/teams/").concat((0,c.E3)(),"/users/").concat(t,"/brandusers"),e.next=3,o.Z.get(n);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(t)&&t.length>1?(a=i.Z.brandsBaseURL+"/teams/"+(0,c.E3)()+"/users/".concat(s)+"/brand/share",l={shareList:n,brandIds:t}):(Array.isArray(t)&&(t=t[0]),a=i.Z.brandsBaseURL+"/teams/"+(0,c.E3)()+"/users/".concat(s)+"/brand/"+t+"/share",l=n),e.next=3,o.Z.post(a,l);case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function S(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(g,e.params,e.userId);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.createBrandDispatcher)({brand:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.createBrandDispatcher)("failed"));case 12:(0,c.jy)("create-Brand",n.t0.message);case 13:case"end":return n.stop()}}),u,null,[[0,8]])}function y(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(f,e.userId);case 3:return(t=n.sent).sort((function(e,t){return new Date(e.createDate)-new Date(t.createDate)})),n.next=7,(0,a.gz)((0,l.getUserBrandsSuccess)(t));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,(0,a.gz)((0,l.getUserBrandsFailure)(n.t0));case 13:(0,c.jy)("GET_BRANDS_REQUEST",n.t0.message);case 14:case"end":return n.stop()}}),d,null,[[0,9]])}function b(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(v,e.userId);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.getBrandUsersSuccess)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.getBrandUsersFailure)(n.t0));case 12:(0,c.jy)("GET_BRAND_USERS_REQUEST",n.t0.message);case 13:case"end":return n.stop()}}),p,null,[[0,8]])}function j(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(x,e.brandIds,e.shareList,e.userId);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,l.shareBrandDispatcher)({brand:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,l.shareBrandDispatcher)("failed"));case 12:(0,c.jy)("create-Brand",n.t0.message);case 13:case"end":return n.stop()}}),h,null,[[0,8]])}function w(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(l.CREATE_BRAND_REQUEST,S);case 2:return e.next=4,(0,a.ib)(l.GET_USER_BRANDS_REQUEST,y);case 4:return e.next=6,(0,a.ib)(l.SHARE_BRAND_INITIATE,j);case 6:return e.next=8,(0,a.ib)(l.GET_BRAND_USERS_REQUEST,b);case 8:case"end":return e.stop()}}),m)}},31296:function(e,t,n){"use strict";n.r(t),n.d(t,{ACCEPT_INVITE_REQUEST:function(){return g},ACCEPT_INVITE_RESPONSE:function(){return f},ACTIVATE_DEACTIVATE_TEAM_USER_REQUEST:function(){return Z},ACTIVATE_DEACTIVATE_TEAM_USER_RESPONSE:function(){return k},ADD_USERS_TO_TEAM_REQUEST:function(){return y},ADD_USERS_TO_TEAM_RESPONSE:function(){return b},CREATE_TEAM_REQUEST:function(){return c},CREATE_TEAM_RESPONSE:function(){return l},DELETE_USERS_FROM_TEAM_REQUEST:function(){return j},DELETE_USERS_FROM_TEAM_RESPONSE:function(){return w},GET_TEAMS_FAILURE:function(){return o},GET_TEAMS_REQUEST:function(){return a},GET_TEAMS_SUCCESS:function(){return i},GET_TEAM_USERS_FAILURE:function(){return S},GET_TEAM_USERS_REQUEST:function(){return v},GET_TEAM_USERS_SUCCESS:function(){return x},GET_USER_INVITES_FAILURE:function(){return p},GET_USER_INVITES_REQUEST:function(){return u},GET_USER_INVITES_SUCCESS:function(){return d},INVITE_USER_TO_TEAM_REQUEST:function(){return h},INVITE_USER_TO_TEAM_RESPONSE:function(){return m},UPDATE_TEAM_REQUEST:function(){return T},UPDATE_TEAM_RESPONSE:function(){return E},UPDATE_TEAM_USER_ROLE_REQUEST:function(){return C},UPDATE_TEAM_USER_ROLE_RESPONSE:function(){return I},acceptInviteDispatcher:function(){return V},acceptInviteRequest:function(){return F},activateDeactivateTeamUserDispatcher:function(){return X},activateDeactivateTeamUserRequest:function(){return Q},addUsersToTeamDispatcher:function(){return K},addUsersToTeamRequest:function(){return H},createTeamDispatcher:function(){return O},createTeamRequest:function(){return P},deleteUsersFromTeamDispatcher:function(){return Y},deleteUsersFromTeamRequest:function(){return q},getTeamUsersFailure:function(){return J},getTeamUsersRequest:function(){return W},getTeamUsersSuccess:function(){return z},getTeamsFailure:function(){return R},getTeamsRequest:function(){return A},getTeamsSuccess:function(){return _},getUserInvitesFailure:function(){return G},getUserInvitesRequest:function(){return B},getUserInvitesSuccess:function(){return M},inviteUserToTeamDispatcher:function(){return L},inviteUserToTeamRequest:function(){return U},updateTeamDispatcher:function(){return D},updateTeamRequest:function(){return N},updateTeamUserRoleDispatcher:function(){return ee},updateTeamUserRoleRequest:function(){return $}});var r=n(4942),s=n(61253),a="GET_TEAMS_REQUEST",i="GET_TEAMS_SUCCESS",o="GET_TEAMS_FAILURE",c="CREATE_TEAM_REQUEST",l="CREATE_TEAM_RESPONSE",u="GET_USER_INVITES_REQUEST",d="GET_USER_INVITES_SUCCESS",p="GET_USER_INVITES_FAILURE",h="INVITE_USER_TO_TEAM_REQUEST",m="INVITE_USER_TO_TEAM_RESPONSE",g="ACCEPT_INVITE_REQUEST",f="ACCEPT_INVITE_RESPONSE",v="GET_TEAM_USERS_REQUEST",x="GET_TEAM_USERS_SUCCESS",S="GET_TEAM_USERS_FAILURE",y="ADD_USERS_TO_TEAM_REQUEST",b="ADD_USERS_TO_TEAM_RESPONSE",j="DELETE_USERS_FROM_TEAM_REQUEST_REQUEST",w="DELETE_USERS_FROM_TEAM_RESPONSE",Z="ACTIVATE_DEACTIVATE_TEAM_USER_REQUEST_REQUEST",k="ACTIVATE_DEACTIVATE_TEAM_USER_RESPONSE",C="UPDATE_TEAM_USER_ROLE_REQUEST",I="UPDATE_TEAM_USER_ROLE_RESPONSE",T="UPDATE_TEAM_REQUEST",E="UPDATE_TEAM_RESPONSE",A=function(e){return(0,r.Z)({type:a,params:{params:e}},s.jw,i)},_=function(e){return{type:i,payload:{teamsResult:e}}},R=function(e){return{type:o,payload:{error:e}}},P=function(e){return(0,r.Z)({type:c,params:e},s.jw,l)},N=function(e){return(0,r.Z)({type:T,params:e},s.jw,E)},O=function(e){return(0,r.Z)({type:l,payload:e},s.jw,l)},D=function(e){return(0,r.Z)({type:E,payload:e},s.jw,E)},U=function(e){return(0,r.Z)({type:h,params:e},s.jw,m)},L=function(e){return(0,r.Z)({type:m,payload:e},s.jw,m)},F=function(e){return(0,r.Z)({type:g,params:e},s.jw,f)},V=function(e){return(0,r.Z)({type:f,payload:e},s.jw,f)},B=function(e){return{type:u,params:{params:e}}},M=function(e){return{type:d,payload:{userInvitesResult:e}}},G=function(e){return{type:p,payload:{error:e}}},W=function(e){return{type:v,params:e}},z=function(e){return{type:x,payload:{teamUsersResult:e}}},J=function(e){return{type:S,payload:{error:e}}},H=function(e){return(0,r.Z)({type:y,params:e},s.jw,b)},K=function(e){return(0,r.Z)({type:b,payload:e},s.jw,b)},q=function(e){return(0,r.Z)({type:j,params:e},s.jw,w)},Y=function(e){return(0,r.Z)({type:w,payload:e},s.jw,w)},Q=function(e,t){return(0,r.Z)({type:Z,userId:e,isInactive:t},s.jw,k)},X=function(e){return(0,r.Z)({type:k,payload:e},s.jw,k)},$=function(e,t){return(0,r.Z)({type:C,userId:e,isAdmin:t},s.jw,I)},ee=function(e){return(0,r.Z)({type:I,payload:e},s.jw,I)}},12565:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(31296),a={teams:{Items:[],deleteUsersFromTeamStatus:"pending"}};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s.GET_TEAMS_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getTeamsResult:{success:!0},teamsResult:n.payload.teamsResult.Items});case s.GET_USER_INVITES_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getUserInvitesResult:{success:!0},userInvitesResult:n.payload.userInvitesResult.Items});case s.GET_USER_INVITES_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getUserInvitesResult:{success:!1}});case s.GET_TEAMS_FAILURE:return(0,r.Z)((0,r.Z)({},t),{},{getTeamsResult:{success:!1}});case s.CREATE_TEAM_RESPONSE:return e=(0,r.Z)((0,r.Z)({},t),{},{createTeamStatus:n.payload.status,team:n.payload.team}),"success"===n.payload.status&&e.createTeamResult&&(e.createTeamResult.team=n.payload.team),e;case s.ACCEPT_INVITE_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{acceptInviteStatus:n.payload.status});case s.GET_TEAM_USERS_SUCCESS:return(0,r.Z)((0,r.Z)({},t),{},{getTeamUsersResult:{success:!0},teamUsersResult:n.payload.teamUsersResult.Items});case s.DELETE_USERS_FROM_TEAM_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{deleteUsersFromTeamStatus:n.payload.status,deleteUsersFromTeamUsers:n.payload.users});case s.INVITE_USER_TO_TEAM_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{addUsersFromTeamStatus:n.payload.status});case s.UPDATE_TEAM_RESPONSE:return(0,r.Z)((0,r.Z)({},t),{},{updateTeamStatus:n.payload.status});default:return t}}},75190:function(e,t,n){"use strict";n.r(t),n.d(t,{AddUsersToTeam:function(){return A},acceptInvite:function(){return E},activateDeactivateTeamUser:function(){return R},createTeam:function(){return I},default:function(){return J},deleteUsersFromTeam:function(){return _},getTeamUsers:function(){return k},getUserInvites:function(){return C},getUserTeams:function(){return Z},handleAcceptInvite:function(){return V},handleActivateDeactivateTeamUser:function(){return G},handleAddUsersToTeam:function(){return B},handleCreateTeam:function(){return L},handleDeleteUsersFromTeam:function(){return M},handleInviteUserToTeam:function(){return z},handleUpdateTeam:function(){return F},handleUpdateTeamUserRole:function(){return W},inviteUserToTeam:function(){return N},updateTeam:function(){return T},updateTeamUserRole:function(){return P},watchGetTeamUsersRequest:function(){return D},watchGetTeamsRequest:function(){return O},watchGetUserInvitesRequest:function(){return U}});var r=n(74165),s=n(15861),a=n(64276),i=n(40009),o=n(42599),c=n(69473),l=n(91104),u=n(31296),d=(0,r.Z)().mark(O),p=(0,r.Z)().mark(D),h=(0,r.Z)().mark(U),m=(0,r.Z)().mark(L),g=(0,r.Z)().mark(F),f=(0,r.Z)().mark(V),v=(0,r.Z)().mark(B),x=(0,r.Z)().mark(M),S=(0,r.Z)().mark(G),y=(0,r.Z)().mark(W),b=(0,r.Z)().mark(z),j=(0,r.Z)().mark(J),w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.Z.teamsBaseURL,e.next=3,i.g.currentAuthenticatedUser();case 3:return s=e.sent,(a=(0,l.we)(s.username,!0))&&"chargebee"===a.data.organization_id&&(n=o.Z.teamsBaseURLV2),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,n=e.t0+"/users/teams",e.next=6,c.Z.get(n);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,e.t1="/teams/".concat(t,"/users"),n=e.t0+e.t1,e.next=7,c.Z.get(n);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,n=e.t0+"/users/teams/invites",e.next=6,c.Z.get(n);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,n=e.t0+"/teams",e.next=6,c.Z.post(n,t);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,n=e.t0+"/teams",e.next=6,c.Z.put(n,t);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,n=e.t0+"/teams/acceptinvite",e.next=6,c.Z.post(n,t);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,e.t1="/teams/".concat(t.teamId,"/users"),n=e.t0+e.t1,e.next=7,c.Z.post(n,t);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,e.t1="/teams/".concat((0,l.E3)(),"/users/delete"),n=e.t0+e.t1,e.next=7,c.Z.post(n,t);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,e.t1="/teams/".concat((0,l.E3)(),"/users/").concat(t.userId,"/status"),n=e.t0+e.t1,e.next=7,c.Z.post(n,t);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,e.t1="/teams/".concat((0,l.E3)(),"/users/").concat(t.userId,"/role"),n=e.t0+e.t1,e.next=7,c.Z.post(n,t);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.t0=e.sent,e.t1="/teams/".concat((0,l.E3)(),"/invites"),n=e.t0+e.t1,e.next=7,c.Z.post(n,t);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.RE)(Z,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,u.getTeamsSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,u.getTeamsFailure)(r.t0));case 13:(0,l.jy)("GET_TEAMS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),d,null,[[1,9]])}function D(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.RE)(k,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,u.getTeamUsersSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,u.getTeamUsersFailure)(r.t0));case 13:(0,l.jy)("GET_TEAMS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),p,null,[[1,9]])}function U(e){var t,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.prev=1,r.next=4,(0,a.RE)(C,t);case 4:return n=r.sent,r.next=7,(0,a.gz)((0,u.getUserInvitesSuccess)(n));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,(0,a.gz)((0,u.getUserInvitesFailure)(r.t0));case 13:(0,l.jy)("GET_TEAMS_REQUEST",r.t0.message);case 14:case"end":return r.stop()}}),h,null,[[1,9]])}function L(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(I,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,u.createTeamDispatcher)({team:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,u.createTeamDispatcher)("failed"));case 12:(0,l.jy)("create-Team",n.t0.message);case 13:case"end":return n.stop()}}),m,null,[[0,8]])}function F(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(T,e.params);case 3:return t.sent,t.next=6,(0,a.gz)((0,u.updateTeamDispatcher)({status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,u.updateTeamDispatcher)("failed"));case 12:(0,l.jy)("update-Team",t.t0.message);case 13:case"end":return t.stop()}}),g,null,[[0,8]])}function V(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(E,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,u.acceptInviteDispatcher)({resultArray:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,u.acceptInviteDispatcher)("failed"));case 12:(0,l.jy)("accept-invite",n.t0.message);case 13:case"end":return n.stop()}}),f,null,[[0,8]])}function B(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(A,e.params);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,u.addUsersToTeamDispatcher)({team:t,status:"success"}));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,u.addUsersToTeamDispatcher)("failed"));case 12:(0,l.jy)("add-user-to-team",n.t0.message);case 13:case"end":return n.stop()}}),v,null,[[0,8]])}function M(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(_,e.params);case 3:return t.sent,t.next=6,(0,a.gz)((0,u.deleteUsersFromTeamDispatcher)({users:e.params,status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,u.deleteUsersFromTeamDispatcher)("failed"));case 12:(0,l.jy)("delete-user",t.t0.message);case 13:case"end":return t.stop()}}),x,null,[[0,8]])}function G(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.RE)(R,e);case 3:return t=n.sent,n.next=6,(0,a.gz)((0,u.activateDeactivateTeamUserDispatcher)(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,a.gz)((0,u.activateDeactivateTeamUserDispatcher)("failed"));case 12:(0,l.jy)("activate-deactivate-user",n.t0.message);case 13:case"end":return n.stop()}}),S,null,[[0,8]])}function W(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(P,e);case 3:return t.sent,t.next=6,(0,a.gz)((0,u.updateTeamUserRoleDispatcher)({status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,u.updateTeamUserRoleDispatcher)("failed"));case 12:(0,l.jy)("update-user-role",t.t0.message);case 13:case"end":return t.stop()}}),y,null,[[0,8]])}function z(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.RE)(N,e.params);case 3:return t.sent,t.next=6,(0,a.gz)((0,u.inviteUserToTeamDispatcher)({status:"success"}));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,a.gz)((0,u.inviteUserToTeamDispatcher)("failed"));case 12:(0,l.jy)("invite-user",t.t0.message);case 13:case"end":return t.stop()}}),b,null,[[0,8]])}function J(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ib)(u.GET_TEAMS_REQUEST,O);case 2:return e.next=4,(0,a.ib)(u.CREATE_TEAM_REQUEST,L);case 4:return e.next=6,(0,a.ib)(u.GET_USER_INVITES_REQUEST,U);case 6:return e.next=8,(0,a.ib)(u.ACCEPT_INVITE_REQUEST,V);case 8:return e.next=10,(0,a.ib)(u.GET_TEAM_USERS_REQUEST,D);case 10:return e.next=12,(0,a.ib)(u.ADD_USERS_TO_TEAM_REQUEST,B);case 12:return e.next=14,(0,a.ib)(u.DELETE_USERS_FROM_TEAM_REQUEST,M);case 14:return e.next=16,(0,a.ib)(u.INVITE_USER_TO_TEAM_REQUEST,z);case 16:return e.next=18,(0,a.ib)(u.ACTIVATE_DEACTIVATE_TEAM_USER_REQUEST,G);case 18:return e.next=20,(0,a.ib)(u.UPDATE_TEAM_USER_ROLE_REQUEST,W);case 20:return e.next=22,(0,a.ib)(u.UPDATE_TEAM_REQUEST,F);case 22:case"end":return e.stop()}}),j)}},90794:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var r=n(29439),s=n(51443),a=n.n(s),i=n(47313),o=["showUserGuidingForStyles","showUserGuidingForBranding","showTemplatesInfoDialog","showWatermarkInfoMsg","workspace.details","lastLoggedInUser",n(58399).g,"hideGettyBanner","hideElevenLabsBanner","hideElevenLabsBannerstd","autoSyncBanner","showEOY"];function c(e,t){try{window.localStorage.setItem(e,t)}catch(e){a().getInstance().logEvent("AppLocalStorageFailure",{method:"setItem",error:e.message})}}function l(e){try{return window.localStorage.getItem(e)}catch(e){a().getInstance().logEvent("AppLocalStorageFailure",{method:"getItem",error:e.message})}return null}function u(e){try{window.localStorage.removeItem(e)}catch(e){a().getInstance().logEvent("AppLocalStorageFailure",{method:"removeItem",error:e.message})}}t.Z={setItem:c,getItem:l,clear:function(){try{var e=[];o.forEach((function(t){window.localStorage.hasOwnProperty(t)?e.push(l(t)):e.push(null)})),window.localStorage.clear(),o.forEach((function(t,n){null!==e[n]&&c(t,e[n])}))}catch(e){a().getInstance().logEvent("AppLocalStorageFailure",{method:"clear",error:e.message})}},removeItem:u,key:function(e){try{return window.localStorage.key(e)}catch(e){a().getInstance().logEvent("AppLocalStorageFailure",{method:"key",error:e.message})}return null}};var d=function(e,t){if(!e)throw new Error("useLocalStorage key may not be falsy");var n=i.useRef((function(e){try{var n=l(e);return null!==n?JSON.parse(n):(t&&c(e,JSON.stringify(t)),t)}catch(e){return t}})),s=i.useState((function(){return n.current(e)})),a=(0,r.Z)(s,2),o=a[0],d=a[1];i.useLayoutEffect((function(){return d(n.current(e))}),[e]);var p=i.useCallback((function(t){var n="function"==typeof t?t(o):t;if(void 0!==n){var r=JSON.stringify(n);c(e,r),d(JSON.parse(r))}}),[e,d]),h=i.useCallback((function(){u(e),d(void 0)}),[e,d]);return[o,p,h]}},47439:function(e,t,n){"use strict";n.d(t,{pS:function(){return T},Fw:function(){return c},s1:function(){return A},qh:function(){return d},Ss:function(){return H},n5:function(){return O},BA:function(){return z},wr:function(){return J},FS:function(){return C},rD:function(){return h},W8:function(){return _},oc:function(){return X},xH:function(){return u},gX:function(){return S},mn:function(){return E},tP:function(){return Q},Ty:function(){return I},vn:function(){return q},tb:function(){return $},yj:function(){return i},yG:function(){return o},IR:function(){return U},eX:function(){return L},vY:function(){return b},yc:function(){return p},cd:function(){return W},ls:function(){return Z},$q:function(){return w},Kb:function(){return g},pr:function(){return v},m_:function(){return Y},l:function(){return K},_e:function(){return m},rJ:function(){return j},V7:function(){return y},d1:function(){return B},Yd:function(){return x},R2:function(){return l},fj:function(){return D},Od:function(){return F},Il:function(){return V},pm:function(){return R},z6:function(){return N},ZO:function(){return P},Nj:function(){return G},ye:function(){return M}}),n(47313),n(15671),n(43144);var r=n(11043),s=n(33834),a=n(46417),i={freeTrial:"FreeTrial",teamsFreeTrial:"TeamsFreeTrial",userNotSubscribed:"user_not_subscribed",hibernate:"Hibernate"},o={live:"live",trial:"trial",non_renewing:"non_renewing",non_renewing2:"non-renewing",unpaid:"unpaid",expired:"expired",canceled:"canceled",cancelled:"cancelled",cancelled_from_dunning:"cancelled_from_dunning",trial_expired:"trial_expired"},c={inactive:"inactive",expired:"expired"},l={articleToVideo:"articleToVideo",autoGeneratedVoiceOver:"autoGeneratedVoiceOver",cropClips:"cropClips",customIntroClip:"customIntroClip",customOutroClip:"customOutroClip",differentAspectRatios:"differentAspectRatios",pictoryBranding:"pictoryBranding",premiumAudioContent:"premiumAudioContent",premiumVisualContent:"premiumVisualContent",scriptToVideo:"scriptToVideo",totalVideos:"totalVideos",videoResolution:"videoResolution",addLogo:"addLogo",customColors:"customColors",customFontSize:"customFontSize",customFontTypes:"customFontTypes",outroScene:"outroScene",customMusicTrack:"customMusicTrack",sceneTransitions:"sceneTransitions",transcription:"transcription",transcriptionTotalDurationPerMonth:"transcriptionTotalDurationPerMonth",transcriptionSummarization:"transcriptionSummarization",transcriptionVideoSize:"transcriptionVideoSize",textToVideoDuration:"textToVideoDuration",videoPostsCSV:"videoPostsCSV",videoPostsHootsuite:"videoPostsHootsuite",manualVoiceOver:"manualVoiceOver"},u="pictai",d="rgba(255,255,255,1)",p={TRANSCRIBING:"transcribing",TRANSCRIBED:"transcribed",FETCHING_MEDIA:"fetchingBestMedia",FETCHED_MEDIA:"fetchedMedia",SCENES_CREATED:"scenesCreated",VIDEO_GENERATING:"videoGenerating",VIDEO_GENERATED:"videoGenerated",VIDEO_POSTING:"videoPosting",VIDEO_POSTED:"videoPosted",READY:"ready",CANCELLING:"cancelling"},h=["umm","um","ah","ahh","aah","hm","hmm","hmmm","uh","uhh","oh","er","err","mhm","uh huh","huh"],m=[{value:"en-US",name:"English, US",autoSummarizeEnabled:!0},{value:"en-AU",name:"English, AU",autoSummarizeEnabled:!0},{value:"en-GB",name:"English, UK",autoSummarizeEnabled:!0},{value:"en-IN",name:"English, IN",autoSummarizeEnabled:!0},{value:"en-IE",name:"English, IE",autoSummarizeEnabled:!0},{value:"en-AB",name:"English, AB",autoSummarizeEnabled:!0},{value:"en-WL",name:"English, WL",autoSummarizeEnabled:!0},{value:"fr-CA",name:"French, CA",autoSummarizeEnabled:!0},{value:"fr-FR",name:"French, FR",autoSummarizeEnabled:!0},{value:"de-CH",name:"German, CH",autoSummarizeEnabled:!0},{value:"de-DE",name:"German, DE",autoSummarizeEnabled:!0},{value:"it-IT",name:"Italian, IT",autoSummarizeEnabled:!0},{value:"es-ES",name:"Spanish, ES",autoSummarizeEnabled:!0},{value:"es-US",name:"Spanish, US",autoSummarizeEnabled:!0},{value:"nl-NL",name:"Dutch, NL",autoSummarizeEnabled:!0},{value:"pt-BR",name:"Portuguese, BR",autoSummarizeEnabled:!0},{value:"ja-JP",name:"Japanese, JA",autoSummarizeEnabled:!0},{value:"ko-KR",name:"Korean, KO",autoSummarizeEnabled:!0},{value:"ru-RU",name:"Russian, RU",autoSummarizeEnabled:!0},{value:"hi-IN",name:"Hindi, IN",autoSummarizeEnabled:!0},{value:"ta-IN",name:"Tamil, IN",autoSummarizeEnabled:!0}],g=[{value:"nl-NL",name:"Dutch, NL",code:"nl"},{value:"en-US",name:"English, EN",code:"en"},{value:"fr-FR",name:"French, FR",code:"fr"},{value:"de-DE",name:"German, DE",code:"de"},{value:"it-IT",name:"Italian, IT",code:"it"},{value:"pt-BR",name:"Portuguese, PT",code:"pt"},{value:"es-ES",name:"Spanish, ES",code:"es"}],f={x:(0,a.jsx)(s.Ay,{}),fb:(0,a.jsx)(s.Uz,{}),linkedin:(0,a.jsx)(s.W3,{})},v=function(e,t){var n="https://video.pictory.ai/eoy/"+t;return[{label:"Share on Twitter",icon:f.x,link:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent("Hey! Check Out What I Created with Pictory.ai Last Year! #CreatedWithPictory "),"&url=").concat(encodeURIComponent(n))},{label:"Share on Facebook",icon:f.fb,link:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(n))},{label:"Share on LinkedIn",icon:f.linkedin,link:"https://www.linkedin.com/sharing/share-offsite?url=".concat(encodeURIComponent(n))}]},x=["en","nl","fr","es","pt","de","it"],S=[{language:"nl",category:"Dutch"},{language:"en",category:"English"},{language:"fr",category:"French"},{language:"de",category:"German"},{language:"it",category:"Italian"},{language:"pt",category:"Portuguese"},{language:"ru",category:"Russian"},{language:"es",category:"Spanish"},{language:"hi",category:"English"},{language:"ta",category:"English"},{language:"te",category:"English"}],y={GENERATING:"Generating video...",OPTIMIZING:"Video generated. Optimising video..."},b={OpenProject:"OpenProject",ChangeName:"ChangeName",loadView:"loadView"},j=["professionalannualperuser","professionalmonthlyperuser","starterannualperuser","startermonthlyperuser","app_sumo_pictory_tier3"],w=r.Z.Instance.GetStaticFile("projects/video-editing/sample_1692619579599.json","samples"),Z=r.Z.Instance.GetStaticFile("videos/video-editing/VideoEditDemoInput.mp4","samples"),k=window.location.origin,C=k+"/dummy.png",I=k+"/images/no_image.jpg",T=k+"/images/black_image.jpg",E=20,A=function(e){var t=e.width,n=void 0===t?"5%":t,r=e.height,s=void 0===r?"5%":r;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:s,viewBox:"0 0 24 24",children:(0,a.jsx)("g",{"data-name":"Layer 2",children:(0,a.jsxs)("g",{"data-name":"close-circle",children:[(0,a.jsx)("rect",{width:"24",height:"24",opacity:"0"}),(0,a.jsx)("path",{fill:"gray",d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),(0,a.jsx)("path",{fill:"gray",d:"M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"})]})})})},_=function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,s=void 0===r?"100%":r;return(0,a.jsxs)("svg",{width:n,height:s,viewBox:"0 0 544 512",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_125:2)",children:(0,a.jsx)("path",{d:"M513.919 140.44L359.074 321.807L222.201 184.926L403.561 30.0705L403.691 29.9593L403.82 29.846C417.049 18.181 437.056 18.8113 449.517 31.2728L512.717 94.4728C525.191 106.946 525.816 126.951 514.148 140.176L514.032 140.307L513.919 140.44ZM207.827 402.007L172.17 437.664L106.344 371.838L142.074 336.101L151.197 326.976L147.437 314.633L134.387 271.804C134.387 271.804 134.387 271.804 134.387 271.803C133.543 269.033 133.513 266.079 134.302 263.293C135.079 260.551 136.615 258.086 138.733 256.182L164.976 233.782L310.217 379.022L287.706 405.39C283.789 409.75 277.689 411.451 272.062 409.731C272.062 409.731 272.061 409.731 272.061 409.731C272.06 409.731 272.06 409.731 272.059 409.73L229.322 396.651L216.965 392.87L207.827 402.007ZM104.964 476.55L93.9913 487.523L39.5497 470.077L68.5662 440.152L104.964 476.55Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"43"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_125:2",children:(0,a.jsx)("rect",{width:"544",height:"512",fill:"white"})})})]})},R=[{value:"",text:"Font"},{value:"Anton",text:"Anton"},{value:"Arial",text:"Arial"},{value:"Arial-Bold",text:"Arial Bold"},{value:"Barlow",text:"Barlow"},{value:"Barlow Black",text:"Barlow Black"},{value:"Bebas Neue",text:"Bebas Neue"},{value:"Calibri",text:"Calibri"},{value:"Calibri-Bold",text:"Calibri Bold"},{value:"Caprasimo",text:"Caprasimo"},{value:"Capriola",text:"Capriola"},{value:"Carter One",text:"Carter One"},{value:"Chakra Petch",text:"Chakra Petch"},{value:"Chewy",text:"Chewy"},{value:"Comfortaa",text:"Comfortaa"},{value:"Dangrek",text:"Dangrek"},{value:"Delius Unicase",text:"Delius Unicase"},{value:"Gruppo",text:"Gruppo"},{value:"Helvetica",text:"Helvetica"},{value:"HelveticaNeue-Medium",text:"Helvetica Neue Medium"},{value:"Julius Sans One",text:"Julius Sans One"},{value:"Lato-Bold",text:"Lato Bold"},{value:"Lato-Black",text:"Lato Extrabold"},{value:"Merriweather-Bold",text:"Merriweather Bold"},{value:"Montserrat-Bold",text:"Montserrat Bold"},{value:"NotoSans",text:"Notosans"},{value:"NotoSans-Bold",text:"Notosans Bold"},{value:"OpenSans",text:"Open Sans"},{value:"OpenSans-Bold",text:"Opensans Bold"},{value:"Patua One",text:"Patua One"},{value:"Poppins-Bold",text:"Poppins Bold"},{value:"Poppins-ExtraBold",text:"Poppins Extrabold"},{value:"ProximaNova",text:"Proxima Nova"},{value:"Quicksand",text:"Quicksand"},{value:"Quicksand-Bold",text:"Quicksand Bold"},{value:"Raleway",text:"Raleway"},{value:"Raleway Black",text:"Raleway Black"},{value:"Raleway Thin",text:"Raleway Thin"},{value:"Roboto",text:"Roboto"},{value:"Roboto-Bold",text:"Roboto Bold"},{value:"Rokkitt",text:"Rokkitt"},{value:"Rokkitt-Bold",text:"Rokkitt Bold"},{value:"Russo One",text:"Russo One"},{value:"Satisfy",text:"Satisfy"},{value:"SourceSansPro",text:"Source Sans Pro"},{value:"SourceSansPro-Bold",text:"Source Sans Pro Bold"},{value:"Special Elite",text:"Special Elite"},{value:"Titillium Web",text:"Titillium Web"},{value:"Titillium Web Black",text:"Titillium Web Black"},{value:"Ubuntu",text:"Ubuntu"},{value:"Ubuntu-Bold",text:"Ubuntu Bold"},{value:"Unbounded",text:"Unbounded"}],P=[{value:"",text:"Font"},{value:"Anton",text:"Anton"},{value:"Arial",text:"Arial"},{value:"Averia Libre",text:"Averia Libre"},{value:"Barlow",text:"Barlow"},{value:"Barlow Black",text:"Barlow Black",fontName:"Barlow",fontWeight:900},{value:"Bebas Neue",text:"Bebas Neue"},{value:"Calibri",text:"Calibri"},{value:"Caprasimo",text:"Caprasimo"},{value:"Capriola",text:"Capriola"},{value:"Carter One",text:"Carter One"},{value:"Caveat",text:"Caveat"},{value:"Chakra Petch",text:"Chakra Petch"},{value:"Chewy",text:"Chewy"},{value:"Comfortaa",text:"Comfortaa"},{value:"Courier Prime",text:"Courier Prime"},{value:"Dancing Script",text:"Dancing Script"},{value:"Dangrek",text:"Dangrek"},{value:"Delius Unicase",text:"Delius Unicase"},{value:"Grandstander",text:"Grandstander"},{value:"Gruppo",text:"Gruppo"},{value:"Helvetica",text:"Helvetica"},{value:"HelveticaNeue-Medium",text:"Helvetica Neue Medium",fontName:"Helvetica Neue",fontWeight:"bold"},{value:"Josefin Sans",text:"Josefin Sans"},{value:"Julius Sans One",text:"Julius Sans One"},{value:"Lato",text:"Lato"},{value:"Lato-Black",text:"Lato Extrabold",fontName:"Lato",fontWeight:900},{value:"Merriweather",text:"Merriweather"},{value:"Montserrat",text:"Montserrat"},{value:"Moon dance",text:"Moon dance"},{value:"NotoSans",text:"Notosans"},{value:"OpenSans",text:"Opensans"},{value:"Patua One",text:"Patua One"},{value:"Poppins",text:"Poppins"},{value:"Poppins-ExtraBold",text:"Poppins Extrabold",fontName:"Poppins",fontWeight:900},{value:"ProximaNova",text:"Proxima Nova",fontName:"ProximaNova"},{value:"Quicksand",text:"Quicksand"},{value:"Raleway",text:"Raleway"},{value:"Raleway Black",text:"Raleway Black",fontName:"Raleway",fontWeight:900},{value:"Raleway Thin",text:"Raleway Thin",fontName:"Raleway",fontWeight:100},{value:"Roboto",text:"Roboto"},{value:"Rokkitt",text:"Rokkitt"},{value:"Russo One",text:"Russo One"},{value:"Rowdies",text:"Rowdies"},{value:"Satisfy",text:"Satisfy"},{value:"SourceSansPro",text:"Source Sans Pro"},{value:"Space mono",text:"Space mono"},{value:"Special Elite",text:"Special Elite"},{value:"Titillium Web",text:"Titillium Web"},{value:"Titillium Web Black",text:"Titillium Web Black",fontName:"Titillium Web",fontWeight:900},{value:"Ubuntu",text:"Ubuntu"},{value:"Unbounded",text:"Unbounded"}],N=[{value:"",text:"Size"},{value:"8",text:"8"},{value:"9",text:"9"},{value:"10",text:"10"},{value:"11",text:"11"},{value:"12",text:"12"},{value:"14",text:"14"},{value:"16",text:"16"},{value:"18",text:"18"},{value:"20",text:"20"},{value:"22",text:"22"},{value:"24",text:"24"},{value:"26",text:"26"},{value:"28",text:"28"},{value:"30",text:"30"},{value:"32",text:"32"},{value:"36",text:"36"},{value:"42",text:"42"},{value:"48",text:"48"},{value:"54",text:"54"},{value:"60",text:"60"},{value:"66",text:"66"},{value:"72",text:"72"}],O=24,D=function(e){return"Arial-Bold"===e?e="Arial; font-weight: bold":"Calibri-Bold"===e?e="Calibri; font-weight: bold":"Helvetica"===e||"Helvetica-Regular"===e?e="'Helvetica'; font-weight: normal":"HelveticaNeue-Medium"===e?e="Helvetica Neue; font-weight: bold":"Lato-Bold"===e?e="Lato; font-weight: bold":"Lato-Black"===e?e="Lato; font-weight: 900":"Merriweather-Bold"===e?e="Merriweather; font-weight: bold":"Montserrat-Bold"===e?e="Montserrat; font-weight: bold":"NotoSans"===e?e="Noto Sans":"NotoSans-Bold"===e?e="Noto Sans; font-weight: bold":"OpenSans"===e?e="Open Sans":"OpenSans-Bold"===e?e="Open Sans; font-weight: bold":"Poppins-Bold"===e?e="Poppins; font-weight: bold":"Poppins-ExtraBold"===e?e="Poppins; font-weight: 900":"Quicksand"===e?e="Quicksand":"Quicksand-Bold"===e?e="Quicksand; font-weight: bold":"Roboto"===e?e="Roboto":"Roboto-Bold"===e?e="Roboto; font-weight: bold":"Rokkitt"===e?e="Rokkitt":"Rokkitt-Bold"===e?e="Rokkitt; font-weight: bold":"SourceSansPro"===e?e="Source Sans Pro":"SourceSansPro-Bold"===e?e="Source Sans Pro; font-weight: bold":"Ubuntu"===e?e="Ubuntu":"Ubuntu-Bold"===e&&(e="Ubuntu; font-weight: bold"),e},U=["top-left","top-center","top-right","center-left","center-center","center-right","bottom-left","bottom-center","bottom-right"],L=["full-width-top","full-width-center","full-width-bottom"],F=[{value:"",text:"Animation"},{value:"none",text:"None"},{value:"reveal-center",text:"Reveal (from center)",minSpeed:.1,maxSpeed:2},{value:"reveal-right",text:"Reveal (from right)",minSpeed:.1,maxSpeed:2},{value:"reveal-left",text:"Reveal (from left)",minSpeed:.1,maxSpeed:2},{value:"typewriter-reveal",text:"Typewriter",minSpeed:.1,maxSpeed:4},{value:"fade-in-slide-up",text:"Fade-in (slide-up)",minSpeed:.1,maxSpeed:2},{value:"fade-in-slide-down",text:"Fade-in (slide-down)",minSpeed:.1,maxSpeed:2},{value:"fade-in-slide-left",text:"Fade-in (slide-left)",minSpeed:.1,maxSpeed:2},{value:"fade-in-slide-right",text:"Fade-in (slide-right)",minSpeed:.1,maxSpeed:2},{value:"simple-fade-in",text:"Fade-in",minSpeed:.1,maxSpeed:2},{value:"slide-in-left",text:"Slide-in (left)",minSpeed:.1,maxSpeed:2},{value:"slide-in-right",text:"Slide-in (right)",minSpeed:.1,maxSpeed:2},{value:"expand-out",text:"Expand-out",minSpeed:.1,maxSpeed:2},{value:"expand-Center",text:"Expand (from center)",minSpeed:.1,maxSpeed:2},{value:"bounce-top-right",text:"Bounce (top-right)",minSpeed:.1,maxSpeed:2},{value:"bounce-top-left",text:"Bounce (top-left)",minSpeed:.1,maxSpeed:2},{value:"bounce-bottom-right",text:"Bounce (bottom-right)",minSpeed:.1,maxSpeed:2},{value:"bounce-bottom-left",text:"Bounce (bottom-left)",minSpeed:.1,maxSpeed:2}],V=[{value:"",text:"Animation"},{value:"none",text:"None"},{value:"fade-out-slide-up",text:"Fade-out (slide-up)",minSpeed:.1,maxSpeed:2},{value:"fade-out-slide-left",text:"Fade-out (slide-left)",minSpeed:.1,maxSpeed:2},{value:"fade-out-slide-right",text:"Fade-out (slide-right)",minSpeed:.1,maxSpeed:2},{value:"fade-out-slide-down",text:"Fade-out (slide-down)",minSpeed:.1,maxSpeed:2},{value:"simple-fade-out",text:"Fade-out",minSpeed:.1,maxSpeed:2}],B="list-dropdown font-size-list-dropdown fill-height",M=["fontName","fontSize","case","decoration","fontColor","backcolorFullwidth","textBackgroundColor","textShadowColor","textShadowWidthFr","keywordColor","textAlign","preset","leftCoordinate","topCoordinate","paragraphWidth","visual","styleIdObj","animation","fullWidth","flipHorizontal","flipVertical","rotation","displayItems","textBackgroundRadius"],G=[{value:"Sentence breaks (.)",text:"Sentence breaks (.)"},{value:"Line breaks (⏎)",text:"Line breaks (⏎)"},{value:"Both",text:"Both"}],W={Project:"1",Folder:"2"},z=1.5,J=.1,H="Your text goes here",K=[{text:"3D Render",prompt:" , 3D Render",image:r.Z.Instance.GetStaticFile("3D_Render.jpeg","text-to-images-styles")},{text:"Van Gogh",prompt:" , Van Gogh",image:r.Z.Instance.GetStaticFile("Van_Gogh.png","text-to-images-styles")},{text:"Illustration",prompt:" , Illustration",image:r.Z.Instance.GetStaticFile("Illustration.png","text-to-images-styles")},{text:"Realistic",prompt:" , Realistic",image:r.Z.Instance.GetStaticFile("Realistic.png","text-to-images-styles")},{text:"Cartoon",prompt:" , Cartoon",image:r.Z.Instance.GetStaticFile("Cartoon.png","text-to-images-styles")},{text:"Oil Painting",prompt:" , Oil Painting",image:r.Z.Instance.GetStaticFile("Oil_Painting.png","text-to-images-styles")}],q="personal",Y=20,Q={image:["image/jpg","image/jpeg","image/png","image/svg","image/webp","image/svg+xml"],video:["video/mp4","video/mov","video/webm","video/quicktime"],audio:["audio/mp3","audio/wav","audio/mpeg","audio/weba","audio/webm"],videoLong:["video/mp4","video/mov","video/webm","video/quicktime","audio/ogg"]},X=["US","AU","NZ","CA","GB","IS","IE","IM","NO","DK","PT","NL","FI","SE","CH","LU","AT","JP","SG","HU","RO","GR","IT","CZ","DE","HK","ES","FR","KR","AE","ZA","MY","MX","IL","TW","QA","RS","KW","HR"],$=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b"]},98390:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(15671),s=n(43144),a=n(59742),i=n(74717),o=n(72124),c=n(40073),l=n(83293),u=n(3643),d=n(45610),p=function(){function e(){(0,r.Z)(this,e)}return(0,s.Z)(e,null,[{key:"setContext",value:function(e){i.av({email:e.attributes.email})}},{key:"logError",value:function(e){i.Tb(e)}},{key:"Initialize",value:function(t){var n;if(t){var r=[];Object.values(d.Z).forEach((function(e){r.push({path:e})})),n=new l.gE({routingInstrumentation:o.qp(t,r,u.LX)})}else n=new l.gE;c.S({dsn:"https://c4eb9b130f2b48a8bd67699cb11be8b8@o1269744.ingest.sentry.io/6460616",beforeSend:function(t,n){var r=n&&n.originalException;return r&&r.message&&-1!=e.IgnoreErrorList.findIndex((function(e){return r.message.startsWith(e)}))?null:t},integrations:[n,new a.K({levels:["error"]})],environment:"production",release:"e128d02bfa4aa471e853b4cb7e26bcc4a831e380",tracesSampleRate:.2})}}]),e}();p.IgnoreErrorList=["The play() request was interrupted by","The element has no supported sources"],p.traceId=null},92347:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(1413),s=n(91104),a=n(96161),i=n(90794),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!t.isAxiosError||!t.response||403!==t.response.status&&401!==t.response.status)o&&(0,a.x2)(o),(0,s.jy)(e,t.message||t);else{var c=n;if(t.response.data&&(c=(0,r.Z)((0,r.Z)({},c),t.response.data)),t.response.headers["x-amzn-errortype"]&&(c.errorType=t.response.headers["x-amzn-errortype"]),"InvalidSignatureException"===c.errorType||c.message&&c.message.startsWith("Signature not yet current"))(0,a.V7)("Authorization failed. It could be due to system clock is out of sync. Please correct the system clock and login again.");else{var l,u=i.Z.getItem("IdTokenJwtToken");(0,s.xd)("authorization-failed",{apiName:e,message:null==t||null===(l=t.response)||void 0===l?void 0:l.data,token:u}),(0,a.V7)("Authorization failed. Click here to login.",(function(){window.location.assign("/login")}))}(0,s.jy)(e,t.message,null,c)}}},30690:function(e,t,n){"use strict";n.d(t,{y:function(){return i}}),n(47313);var r=n.p+"static/media/pickford_working.9f81cf79b7801b28c88d.png",s=n(63346),a=n(46417),i=function(e){var t=e.msg;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"div {text-align: center; display: flex; align-items: center; justify-content: center;}\n\t\t\t\tspan{width: 60%;}"}),(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:[(0,a.jsx)("img",{src:r,style:{width:"25%"}}),t&&(0,a.jsx)("h5",{children:(0,s.ZP)(t)}),!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"Oops!"}),(0,a.jsxs)("h5",{children:["Pictory will be down for up to 2 hours while we add more server capacity to increase performance for you. It's a pain we know, but it will be worth the wait. ",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Please accept our apologies and check back regularly for updates as we often get things finished quicker than planned."]})]}),(0,a.jsx)("div",{style:{height:"100px"}})]})})]})}},11043:function(e,t,n){"use strict";var r=n(15671),s=n(43144),a=n(78503),i=function(){function e(){(0,r.Z)(this,e),this.CdnUrl="https://pictory-static.pictorycontent.com",this.CdnDNS="pictory-static.pictorycontent.com",this.VideoCdnUrl="https://dkw8gemxc9npb.cloudfront.net",this.VideoCdnDNS="dkw8gemxc9npb.cloudfront.net",this.ImagesBucketBaseUrl=this.CdnUrl,this.ImagesBucketBaseDNS="pictory-images.s3.us-east-2.amazonaws.com",this.VideosBucketBaseDNS="pictory-videos.s3.us-east-2.amazonaws.com",this.CommonBucketBaseDNS="".concat("brand-settings-images130431-pictory",".s3.us-east-2.amazonaws.com"),this.UserBucketBaseDNS="".concat("brand-settings-images130431-pictory",".s3.us-east-2.amazonaws.com"),this.UserBucket="brand-settings-images130431-pictory",this.brandSettingsDevDNS="brand-settings-images74751-pictorydev.s3.us-east-2.amazonaws.com",this.brandSettingsProdDNS="brand-settings-images130431-pictory.s3.us-east-2.amazonaws.com",this.brandSettingsDevCDN="dfclq9xt3t3dy.cloudfront.net",this.brandSettingsProdCDN="d37iu45yotfvxb.cloudfront.net"}return(0,s.Z)(e,[{key:"Configure",value:function(){a.Ke.configure({AWSS3:{bucket:this.UserBucket,region:"us-east-2"}})}},{key:"CheckUrlFromtextToImagebucket",value:function(e){return e.includes("d2dhn76gvbttfj.cloudfront.net")||e.includes("d1hjo6zsuxb434.cloudfront.net")}},{key:"CheckUrlFromStorage",value:function(e){return e.includes(this.ImagesBucketBaseDNS)||e.includes(this.VideosBucketBaseDNS)||e.includes(this.UserBucketBaseDNS)||e.includes(this.CommonBucketBaseDNS)||e.includes(this.CdnDNS)}},{key:"GetBrandSettingsCDNUrl",value:function(e){var t=e?e.replace(this.brandSettingsDevDNS,this.brandSettingsDevCDN):e;return t.replace(this.brandSettingsProdDNS,this.brandSettingsProdCDN)}},{key:"GetStaticFile",value:function(e,t){return t?"https://pictory-static.pictorycontent.com/".concat(t,"/").concat(e):"https://pictory-static.pictorycontent.com/".concat(e)}},{key:"GetUserUploadUrl",value:function(e,t){return"https://".concat(this.UserBucket,".s3.us-east-2.amazonaws.com/").concat(t,"/").concat(e)}},{key:"GetVideoUrlFromCDN",value:function(e){return e?e.replace(this.VideosBucketBaseDNS,this.VideoCdnDNS):e}}],[{key:"Instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}();t.Z=i},33834:function(e,t,n){"use strict";n.d(t,{$E:function(){return b},Am:function(){return Z},Ay:function(){return z},B3:function(){return G},CJ:function(){return f},EZ:function(){return g},Ez:function(){return H},F8:function(){return k},Fn:function(){return p},LO:function(){return v},Lm:function(){return _},NB:function(){return C},OB:function(){return N},Oi:function(){return B},PC:function(){return j},PI:function(){return T},QM:function(){return A},QU:function(){return D},Ro:function(){return E},Te:function(){return u},UO:function(){return w},Uz:function(){return W},W3:function(){return J},Wd:function(){return S},Wh:function(){return y},Z9:function(){return L},cb:function(){return h},dJ:function(){return R},ep:function(){return m},gL:function(){return F},hP:function(){return O},oe:function(){return d},s6:function(){return U},t9:function(){return V},tk:function(){return I},vf:function(){return l},y4:function(){return x},yF:function(){return M},yG:function(){return P}});var r=n(45987),s=n(1413),a=n(85541),i=(n(47313),n(46417)),o=["fillColor"],c=["fillColor"],l=function(e){var t=e.width,n=void 0===t?"36":t,r=e.height,s=void 0===r?"36":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"#852CFF":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 36 36",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M25.0001 6.3335H15.6667L8.66675 13.3335V27.3335C8.66675 28.6168 9.71675 29.6668 11.0001 29.6668H25.0001C26.2834 29.6668 27.3334 28.6168 27.3334 27.3335V8.66683C27.3334 7.3835 26.2834 6.3335 25.0001 6.3335ZM25.0001 8.66683V27.3335H11.0001V14.3018L16.6351 8.66683H25.0001Z",fill:l}),(0,i.jsx)("path",{d:"M22.6668 19.1667L18.0002 23.8333L13.3335 19.1667L14.9785 17.5217L16.8335 19.365V14.5233L19.1668 14.5V19.365L21.0218 17.51L22.6668 19.1667Z",fill:l})]})},u=function(e){var t=e.width,n=void 0===t?"32":t,r=e.height,s=void 0===r?"34":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"#252630":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 32 34",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M4.57556 16.0218H26.9963",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M17.1587 16.0217L21.7343 9.1582",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M9.15125 16.0217L13.7269 9.1582",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M27.1136 20.3291V27.9552",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M30.8912 24.1415H23.3357",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M21.677 28.4421H14.2597H6.84235C5.59035 28.4421 4.57568 27.3709 4.57568 26.0493V11.4309C4.57568 10.1093 5.59035 9.03809 6.84235 9.03809H24.9757C26.2277 9.03809 27.2424 10.1093 27.2424 11.4309V15.7541",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M8.23608 5.44535H23.3357",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10.0665 2.02637H21.2998",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},d=function(e){var t=e.width,n=void 0===t?"20":t,r=e.height,s=void 0===r?"20":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"#8126FF":c,u=e.isRotating;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 20 20",fill:o,xmlns:"http://www.w3.org/2000/svg",className:u?"animate-rotation":"",children:[(0,i.jsx)("path",{d:"M5.625 6.875H2.5V3.75",stroke:l,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M17.4999 10C17.4999 5.8575 14.1424 2.5 9.9999 2.5C6.9749 2.5 4.37407 4.295 3.18823 6.875",stroke:l,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M14.375 13.125H17.5V16.25",stroke:l,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M2.5 10C2.5 14.1425 5.8575 17.5 10 17.5C13.025 17.5 15.6258 15.705 16.8117 13.125",stroke:l,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},p=function(e){var t=e.width,n=void 0===t?"20":t,r=e.height,s=void 0===r?"20":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"#41B568":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 20 20",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 17.5V17.5C5.8575 17.5 2.5 14.1425 2.5 10V10C2.5 5.8575 5.8575 2.5 10 2.5V2.5C14.1425 2.5 17.5 5.8575 17.5 10V10C17.5 14.1425 14.1425 17.5 10 17.5Z",stroke:l,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M13.3332 8.33301L9.1665 12.4997L6.6665 9.99967",stroke:l,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},h=function(e){var t=e.width,n=void 0===t?"65":t,r=e.height,s=void 0===r?"65":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"#8126FF":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 65 65",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 8.125V8.125C45.9631 8.125 56.875 19.0369 56.875 32.5V32.5C56.875 45.9631 45.9631 56.875 32.5 56.875V56.875C19.0369 56.875 8.125 45.9631 8.125 32.5V32.5C8.125 19.0369 19.0369 8.125 32.5 8.125Z",stroke:l,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M32.4999 33.8542V20.3125",stroke:l,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M32.4972 43.3333C32.1235 43.3333 31.8201 43.6367 31.8228 44.0104C31.8228 44.3842 32.1262 44.6875 32.4999 44.6875C32.8737 44.6875 33.177 44.3842 33.177 44.0104C33.177 43.6367 32.8737 43.3333 32.4972 43.3333",stroke:l,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})},m=function(e){var t=e.width,n=void 0===t?"14":t,r=e.height,s=void 0===r?"15":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"#8126FF":c;return(0,i.jsx)("svg",{width:n,height:s,viewBox:"0 0 14 15",fill:o,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.33301 4.16683H7.66634V5.50016H6.33301V4.16683ZM6.33301 6.8335H7.66634V10.8335H6.33301V6.8335ZM6.99967 0.833496C3.31967 0.833496 0.333008 3.82016 0.333008 7.50016C0.333008 11.1802 3.31967 14.1668 6.99967 14.1668C10.6797 14.1668 13.6663 11.1802 13.6663 7.50016C13.6663 3.82016 10.6797 0.833496 6.99967 0.833496ZM6.99967 12.8335C4.05967 12.8335 1.66634 10.4402 1.66634 7.50016C1.66634 4.56016 4.05967 2.16683 6.99967 2.16683C9.93967 2.16683 12.333 4.56016 12.333 7.50016C12.333 10.4402 9.93967 12.8335 6.99967 12.8335Z",fill:l,strokeWidth:"0.1",strokeLinecap:"round",strokeLinejoin:"round"})})},g=function(e){var t=e.width,n=void 0===t?"84":t,r=e.height,s=void 0===r?"84":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"white":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 84 84",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 30C12 27.2386 14.2386 25 17 25H67C69.7614 25 72 27.2386 72 30V54C72 56.7614 69.7614 59 67 59H17C14.2386 59 12 56.7614 12 54V30ZM17 27C15.3431 27 14 28.3431 14 30V54C14 55.6569 15.3431 57 17 57H67C68.6569 57 70 55.6569 70 54V30C70 28.3431 68.6569 27 67 27H17Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 31C18.4477 31 18 31.4477 18 32V38C18 38.5523 17.5523 39 17 39C16.4477 39 16 38.5523 16 38V32C16 30.3431 17.3431 29 19 29H25C25.5523 29 26 29.4477 26 30C26 30.5523 25.5523 31 25 31H19Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65 53C65.5523 53 66 52.5523 66 52V46C66 45.4477 66.4477 45 67 45C67.5523 45 68 45.4477 68 46V52C68 53.6569 66.6569 55 65 55H59C58.4477 55 58 54.5523 58 54C58 53.4477 58.4477 53 59 53H65Z",fill:l}),(0,i.jsx)("path",{d:"M31.4816 49.7815C32.0112 49.7815 32.4406 49.3521 32.4406 48.8225V48.8225C32.4406 48.2928 32.0112 47.8634 31.4816 47.8634H30.6645V34H28.2306C27.6875 34 27.2473 34.4402 27.2473 34.9833V34.9833C27.2473 35.5264 27.6875 35.9666 28.2306 35.9666H28.7761V47.8634H27.959C27.4294 47.8634 27 48.2928 27 48.8225V48.8225C27 49.3521 27.4294 49.7815 27.959 49.7815H31.4816Z",fill:l}),(0,i.jsx)("path",{d:"M36.8704 47.0137C36.6006 46.7223 36.3908 46.3824 36.2409 45.9939C36.091 45.5893 36.0161 45.1603 36.0161 44.7071C36.0161 44.2539 36.091 43.8331 36.2409 43.4446C36.3908 43.04 36.6006 42.692 36.8704 42.4006C37.1402 42.1093 37.4549 41.8827 37.8146 41.7208C38.1743 41.5427 38.5565 41.4537 38.9612 41.4537C39.3808 41.4537 39.7705 41.5427 40.1302 41.7208C40.5049 41.8827 40.8347 42.1093 41.1194 42.4006C41.3892 42.692 41.6065 43.04 41.7714 43.4446C41.9363 43.8331 42.0187 44.2539 42.0187 44.7071C42.0187 45.1603 41.9363 45.5893 41.7714 45.9939C41.6065 46.3824 41.3892 46.7223 41.1194 47.0137C40.8347 47.3212 40.5049 47.564 40.1302 47.742C39.7705 47.9201 39.3808 48.0091 38.9612 48.0091C38.5565 48.0091 38.1743 47.9201 37.8146 47.742C37.4549 47.564 37.1402 47.3212 36.8704 47.0137ZM42.4234 48.4219C42.873 47.9525 43.2252 47.4021 43.48 46.7709C43.7498 46.1234 43.8847 45.4355 43.8847 44.7071C43.8847 43.9788 43.7498 43.2989 43.48 42.6677C43.2252 42.0364 42.873 41.478 42.4234 40.9924C41.9737 40.523 41.4492 40.1588 40.8497 39.8998C40.2651 39.6247 39.6356 39.4871 38.9612 39.4871C38.8862 39.4871 38.8038 39.4952 38.7139 39.5114C38.6389 39.5114 38.564 39.5114 38.4891 39.5114C38.7439 39.22 39.0136 38.9368 39.2984 38.6616C39.5982 38.3703 39.9279 38.0708 40.2876 37.7633C40.6323 37.4719 40.9995 37.1725 41.3892 36.8649C41.5592 36.7289 41.7346 36.5915 41.9152 36.4526C42.3392 36.1266 42.4302 35.52 42.1086 35.0926V35.0926V35.0926C41.7881 34.6665 41.1793 34.5876 40.7655 34.9237C40.1676 35.4093 39.5587 35.9188 38.9387 36.4522C38.0544 37.2129 37.2526 38.0303 36.5332 38.9044C35.8137 39.7785 35.2217 40.7253 34.7571 41.7451C34.3075 42.7486 34.0826 43.8331 34.0826 44.9985C34.1126 45.6945 34.2625 46.35 34.5323 46.9651C34.8021 47.564 35.1618 48.0819 35.6114 48.519C36.046 48.9722 36.5481 49.3283 37.1177 49.5873C37.7022 49.8462 38.3167 49.9757 38.9612 49.9757C39.6356 49.9757 40.2651 49.8381 40.8497 49.563C41.4492 49.2878 41.9737 48.9074 42.4234 48.4219Z",fill:l}),(0,i.jsx)("path",{d:"M47.741 42.4492C47.741 42.0769 47.6211 41.7693 47.3813 41.5266C47.1415 41.2838 46.8792 41.1624 46.5945 41.1624C46.2947 41.1624 46.0249 41.2838 45.7851 41.5266C45.5453 41.7693 45.4254 42.0769 45.4254 42.4492C45.4254 42.8214 45.5453 43.129 45.7851 43.3718C46.0249 43.5984 46.2947 43.7117 46.5945 43.7117C46.8792 43.7117 47.1415 43.5984 47.3813 43.3718C47.6211 43.129 47.741 42.8214 47.741 42.4492ZM47.741 48.519C47.741 48.1467 47.6211 47.8392 47.3813 47.5964C47.1415 47.3536 46.8792 47.2322 46.5945 47.2322C46.2947 47.2322 46.0249 47.3536 45.7851 47.5964C45.5453 47.8392 45.4254 48.1467 45.4254 48.519C45.4254 48.8913 45.5453 49.1988 45.7851 49.4416C46.0249 49.6682 46.2947 49.7815 46.5945 49.7815C46.8792 49.7815 47.1415 49.6682 47.3813 49.4416C47.6211 49.1988 47.741 48.8913 47.741 48.519Z",fill:l}),(0,i.jsx)("path",{d:"M51.9857 41.915C51.7009 41.6237 51.4761 41.2838 51.3112 40.8953C51.1464 40.4906 51.0639 40.0617 51.0639 39.6085C51.0639 39.1553 51.1464 38.7344 51.3112 38.346C51.4761 37.9413 51.7009 37.5852 51.9857 37.2777C52.2555 36.9863 52.5702 36.7516 52.9299 36.5736C53.3046 36.3955 53.7018 36.3065 54.1215 36.3065C54.5261 36.3065 54.9083 36.3955 55.268 36.5736C55.6277 36.7516 55.9425 36.9863 56.2123 37.2777C56.482 37.5852 56.6919 37.9413 56.8418 38.346C56.9916 38.7344 57.0666 39.1553 57.0666 39.6085C57.0666 40.0617 56.9916 40.4906 56.8418 40.8953C56.6919 41.2838 56.482 41.6237 56.2123 41.915C55.9425 42.2064 55.6277 42.4411 55.268 42.6191C54.9083 42.781 54.5261 42.8619 54.1215 42.8619C53.7018 42.8619 53.3046 42.781 52.9299 42.6191C52.5702 42.4411 52.2555 42.2064 51.9857 41.915ZM56.482 45.5326C57.2164 44.6586 57.816 43.7279 58.2806 42.7405C58.7602 41.7532 59 40.7092 59 39.6085C59 38.8963 58.8726 38.2246 58.6178 37.5933C58.363 36.9459 58.0183 36.3794 57.5836 35.8938C57.134 35.4244 56.6094 35.0521 56.0099 34.7769C55.4254 34.4856 54.7959 34.3399 54.1215 34.3399C53.447 34.3399 52.81 34.4775 52.2105 34.7527C51.626 35.0278 51.1089 35.4001 50.6593 35.8695C50.2096 36.3551 49.8499 36.9216 49.5801 37.569C49.3253 38.2003 49.1979 38.8801 49.1979 39.6085C49.1979 40.3369 49.3253 41.0167 49.5801 41.648C49.8499 42.2792 50.2096 42.8295 50.6593 43.2989C51.1089 43.7845 51.626 44.1649 52.2105 44.4401C52.81 44.699 53.447 44.8285 54.1215 44.8285C54.1964 44.8285 54.2788 44.8285 54.3688 44.8285C54.4587 44.8123 54.5561 44.7881 54.661 44.7557C54.5111 44.9176 54.3538 45.0794 54.1889 45.2413C54.024 45.4031 53.8592 45.565 53.6943 45.7269C53.2746 46.1315 52.795 46.5604 52.2555 47.0137C51.9257 47.2906 51.5652 47.5766 51.174 47.8717C50.7485 48.1925 50.6537 48.7973 50.974 49.2231V49.2231V49.2231C51.2952 49.65 51.9043 49.7311 52.3205 49.3961C52.8916 48.9364 53.4769 48.4498 54.0765 47.9363C54.9458 47.1917 55.7476 46.3905 56.482 45.5326Z",fill:l})]})},f=function(e){var t=e.width,n=void 0===t?"84":t,r=e.height,s=void 0===r?"84":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"white":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 84 84",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 17C24 14.2386 26.2386 12 29 12H56C58.7614 12 61 14.2386 61 17V67C61 69.7614 58.7614 72 56 72H29C26.2386 72 24 69.7614 24 67V17ZM29 14C27.3431 14 26 15.3431 26 17V67C26 68.6569 27.3431 70 29 70H56C57.6569 70 59 68.6569 59 67V17C59 15.3431 57.6569 14 56 14H29Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 18C30.4477 18 30 18.4477 30 19V25C30 25.5523 29.5523 26 29 26C28.4477 26 28 25.5523 28 25V19C28 17.3431 29.3431 16 31 16H37C37.5523 16 38 16.4477 38 17C38 17.5523 37.5523 18 37 18H31Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54 66C54.5523 66 55 65.5523 55 65V59C55 58.4477 55.4477 58 56 58C56.5523 58 57 58.4477 57 59V65C57 66.6569 55.6569 68 54 68H48C47.4477 68 47 67.5523 47 67C47 66.4477 47.4477 66 48 66H54Z",fill:l}),(0,i.jsx)("path",{d:"M32.1405 41.9363C31.9219 41.7178 31.7493 41.4628 31.6227 41.1715C31.4961 40.868 31.4328 40.5463 31.4328 40.2064C31.4328 39.8665 31.4961 39.5508 31.6227 39.2595C31.7493 38.956 31.9219 38.6889 32.1405 38.4583C32.3477 38.2398 32.5894 38.0637 32.8656 37.9302C33.1533 37.7967 33.4582 37.7299 33.7805 37.7299C34.0912 37.7299 34.3846 37.7967 34.6608 37.9302C34.937 38.0637 35.1787 38.2398 35.3859 38.4583C35.593 38.6889 35.7541 38.956 35.8692 39.2595C35.9843 39.5508 36.0418 39.8665 36.0418 40.2064C36.0418 40.5463 35.9843 40.868 35.8692 41.1715C35.7541 41.4628 35.593 41.7178 35.3859 41.9363C35.1787 42.1548 34.937 42.3308 34.6608 42.4643C34.3846 42.5857 34.0912 42.6464 33.7805 42.6464C33.4582 42.6464 33.1533 42.5857 32.8656 42.4643C32.5894 42.3308 32.3477 42.1548 32.1405 41.9363ZM35.593 44.6495C36.1569 43.9939 36.6173 43.2959 36.974 42.5554C37.3423 41.8149 37.5264 41.0319 37.5264 40.2064C37.5264 39.6722 37.4286 39.1684 37.2329 38.695C37.0373 38.2094 36.7726 37.7845 36.4389 37.4203C36.0936 37.0683 35.6908 36.7891 35.2305 36.5827C34.7817 36.3642 34.2983 36.2549 33.7805 36.2549C33.2626 36.2549 32.7735 36.3581 32.3132 36.5645C31.8643 36.7709 31.4673 37.0501 31.1221 37.4021C30.7768 37.7663 30.5006 38.1912 30.2935 38.6768C30.0978 39.1502 30 39.6601 30 40.2064C30 40.7527 30.0978 41.2625 30.2935 41.736C30.5006 42.2094 30.7768 42.6222 31.1221 42.9742C31.4673 43.3384 31.8643 43.6237 32.3132 43.83C32.7735 44.0243 33.2626 44.1214 33.7805 44.1214C33.8365 44.1214 33.8981 44.1214 33.9651 44.1214C33.9686 44.1214 33.9716 44.1212 33.9751 44.1206C34.0356 44.1097 34.0809 44.1852 34.0376 44.229C33.9709 44.2963 33.9025 44.3636 33.8323 44.431C33.7057 44.5524 33.5791 44.6737 33.4525 44.7951C33.1302 45.0986 32.762 45.4203 32.3477 45.7602C32.0934 45.9689 31.8152 46.1844 31.5132 46.4068C31.1909 46.6441 31.1194 47.1002 31.3637 47.4173C31.612 47.7396 32.0743 47.8012 32.3942 47.5498C32.8337 47.2042 33.2843 46.8384 33.7459 46.4522C34.4134 45.8938 35.0291 45.2929 35.593 44.6495Z",fill:l}),(0,i.jsx)("path",{d:"M40.9684 42.3369C40.9684 42.0577 40.8763 41.827 40.6922 41.6449C40.508 41.4628 40.3066 41.3718 40.088 41.3718C39.8578 41.3718 39.6507 41.4628 39.4665 41.6449C39.2824 41.827 39.1903 42.0577 39.1903 42.3369C39.1903 42.6161 39.2824 42.8467 39.4665 43.0288C39.6507 43.1988 39.8578 43.2838 40.088 43.2838C40.3066 43.2838 40.508 43.1988 40.6922 43.0288C40.8763 42.8467 40.9684 42.6161 40.9684 42.3369ZM40.9684 46.8892C40.9684 46.61 40.8763 46.3794 40.6922 46.1973C40.508 46.0152 40.3066 45.9241 40.088 45.9241C39.8578 45.9241 39.6507 46.0152 39.4665 46.1973C39.2824 46.3794 39.1903 46.61 39.1903 46.8892C39.1903 47.1684 39.2824 47.3991 39.4665 47.5812C39.6507 47.7511 39.8578 47.8361 40.088 47.8361C40.3066 47.8361 40.508 47.7511 40.6922 47.5812C40.8763 47.3991 40.9684 47.1684 40.9684 46.8892Z",fill:l}),(0,i.jsx)("path",{d:"M45.4935 47.8361C45.8907 47.8361 46.2128 47.5141 46.2128 47.1168V47.0794C46.2128 46.7029 45.9075 46.3976 45.5309 46.3976C45.1543 46.3976 44.849 46.0923 44.849 45.7157V37C44.849 36.4477 44.4013 36 43.849 36H42.9626C42.5553 36 42.2252 36.3302 42.2252 36.7375V36.888C42.2252 37.2122 42.4879 37.475 42.8121 37.475C43.1362 37.475 43.399 37.7377 43.399 38.0619V45.7157C43.399 46.0923 43.0937 46.3976 42.7171 46.3976C42.3405 46.3976 42.0353 46.7029 42.0353 47.0794V47.1168C42.0353 47.5141 42.3573 47.8361 42.7545 47.8361H45.4935Z",fill:l}),(0,i.jsx)("path",{d:"M49.6141 45.7602C49.407 45.5417 49.2459 45.2868 49.1308 44.9954C49.0157 44.692 48.9582 44.3703 48.9582 44.0304C48.9582 43.6904 49.0157 43.3748 49.1308 43.0835C49.2459 42.78 49.407 42.519 49.6141 42.3005C49.8213 42.0819 50.063 41.912 50.3392 41.7906C50.6154 41.6571 50.9088 41.5903 51.2195 41.5903C51.5418 41.5903 51.841 41.6571 52.1172 41.7906C52.4049 41.912 52.6581 42.0819 52.8767 42.3005C53.0839 42.519 53.2507 42.78 53.3773 43.0835C53.5039 43.3748 53.5672 43.6904 53.5672 44.0304C53.5672 44.3703 53.5039 44.692 53.3773 44.9954C53.2507 45.2868 53.0839 45.5417 52.8767 45.7602C52.6581 45.9909 52.4049 46.173 52.1172 46.3065C51.841 46.4401 51.5418 46.5068 51.2195 46.5068C50.9088 46.5068 50.6154 46.4401 50.3392 46.3065C50.063 46.173 49.8213 45.9909 49.6141 45.7602ZM53.8779 46.8164C54.2232 46.4643 54.4936 46.0516 54.6893 45.5781C54.8964 45.0926 55 44.5766 55 44.0304C55 43.4841 54.8964 42.9742 54.6893 42.5008C54.4936 42.0273 54.2232 41.6085 53.8779 41.2443C53.5327 40.8923 53.1299 40.6191 52.6696 40.4249C52.2208 40.2185 51.7374 40.1153 51.2195 40.1153C51.1638 40.1153 51.1026 40.121 51.036 40.1324C51.0318 40.1332 51.0275 40.1335 51.0232 40.1335C50.959 40.1335 50.9253 40.0578 50.9688 40.0107C51.1311 39.8352 51.301 39.6637 51.4785 39.4962C51.7086 39.2777 51.9618 39.0531 52.238 38.8225C52.5027 38.6039 52.7847 38.3794 53.0839 38.1487C53.2156 38.0458 53.3515 37.9417 53.4916 37.8366C53.813 37.5953 53.8815 37.1378 53.6363 36.8194C53.3885 36.4977 52.9264 36.4377 52.6083 36.6901C52.1482 37.0551 51.6795 37.4381 51.2023 37.8392C50.5233 38.4097 49.9076 39.0228 49.3552 39.6783C48.8028 40.3338 48.3482 41.044 47.9915 41.8088C47.6462 42.5615 47.4736 43.3748 47.4736 44.2489C47.4966 44.7709 47.6117 45.2625 47.8188 45.7238C48.026 46.173 48.3022 46.5615 48.6474 46.8892C48.9812 47.2291 49.3667 47.4962 49.804 47.6904C50.2528 47.8847 50.7247 47.9818 51.2195 47.9818C51.7374 47.9818 52.2208 47.8786 52.6696 47.6722C53.1299 47.4659 53.5327 47.1806 53.8779 46.8164Z",fill:l})]})},v=function(e){var t=e.width,n=void 0===t?"84":t,r=e.height,s=void 0===r?"84":r,a=e.fillColor,o=void 0===a?"none":a,c=e.strokeColor,l=void 0===c?"white":c;return(0,i.jsxs)("svg",{width:n,height:s,viewBox:"0 0 84 84",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17C12 14.2386 14.2386 12 17 12H67C69.7614 12 72 14.2386 72 17V67C72 69.7614 69.7614 72 67 72H17C14.2386 72 12 69.7614 12 67V17ZM17 14C15.3431 14 14 15.3431 14 17V67C14 68.6569 15.3431 70 17 70H67C68.6569 70 70 68.6569 70 67V17C70 15.3431 68.6569 14 67 14H17Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65 66C65.5523 66 66 65.5523 66 65V59C66 58.4477 66.4477 58 67 58C67.5523 58 68 58.4477 68 59V65C68 66.6569 66.6569 68 65 68H59C58.4477 68 58 67.5523 58 67C58 66.4477 58.4477 66 59 66H65Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 18C18.4477 18 18 18.4477 18 19V25C18 25.5523 17.5523 26 17 26C16.4477 26 16 25.5523 16 25V19C16 17.3431 17.3431 16 19 16H25C25.5523 16 26 16.4477 26 17C26 17.5523 25.5523 18 25 18H19Z",fill:l}),(0,i.jsx)("path",{d:"M37.8473 52C38.3996 52 38.8473 51.5523 38.8473 51V50.5692C38.8473 50.0169 38.3996 49.5692 37.8473 49.5692H37.6121C37.0598 49.5692 36.6121 49.1215 36.6121 48.5692V33C36.6121 32.4477 36.1643 32 35.6121 32H33.3112C32.759 32 32.3112 32.4477 32.3112 33V33.5303C32.3112 34.0616 32.742 34.4923 33.2733 34.4923C33.8046 34.4923 34.2353 34.923 34.2353 35.4543V48.5692C34.2353 49.1215 33.7876 49.5692 33.2353 49.5692H33C32.4477 49.5692 32 50.0169 32 50.5692V51C32 51.5523 32.4477 52 33 52H37.8473Z",fill:l}),(0,i.jsx)("path",{d:"M43.4039 38.7077C43.4039 38.2359 43.253 37.8462 42.9512 37.5385C42.6494 37.2308 42.3193 37.0769 41.9609 37.0769C41.5836 37.0769 41.2441 37.2308 40.9423 37.5385C40.6404 37.8462 40.4895 38.2359 40.4895 38.7077C40.4895 39.1795 40.6404 39.5692 40.9423 39.8769C41.2441 40.1641 41.5836 40.3077 41.9609 40.3077C42.3193 40.3077 42.6494 40.1641 42.9512 39.8769C43.253 39.5692 43.4039 39.1795 43.4039 38.7077ZM43.4039 46.4C43.4039 45.9282 43.253 45.5385 42.9512 45.2308C42.6494 44.9231 42.3193 44.7692 41.9609 44.7692C41.5836 44.7692 41.2441 44.9231 40.9423 45.2308C40.6404 45.5385 40.4895 45.9282 40.4895 46.4C40.4895 46.8718 40.6404 47.2615 40.9423 47.5692C41.2441 47.8564 41.5836 48 41.9609 48C42.3193 48 42.6494 47.8564 42.9512 47.5692C43.253 47.2615 43.4039 46.8718 43.4039 46.4Z",fill:l}),(0,i.jsx)("path",{d:"M51 52C51.5523 52 52 51.5523 52 51V50.5692C52 50.0169 51.5523 49.5692 51 49.5692H50.7647C50.2124 49.5692 49.7647 49.1215 49.7647 48.5692V33C49.7647 32.4477 49.317 32 48.7647 32H46.4639C45.9116 32 45.4639 32.4477 45.4639 33V33.5303C45.4639 34.0616 45.8946 34.4923 46.4259 34.4923C46.9572 34.4923 47.3879 34.923 47.3879 35.4543V48.5692C47.3879 49.1215 46.9402 49.5692 46.3879 49.5692H46.1527C45.6004 49.5692 45.1527 50.0169 45.1527 50.5692V51C45.1527 51.5523 45.6004 52 46.1527 52H51Z",fill:l})]})},x=function(e){var t=e.width,n=void 0===t?"25":t,r=e.height,s=void 0===r?"16":r,a=e.fillColor,o=void 0===a?"#FF5252":a;return(0,i.jsx)("svg",{width:n,height:s,viewBox:"0 0 30 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{verticalAlign:"baseline"},children:(0,i.jsx)("path",{d:"M1 17.5C0.723858 17.5 0.5 17.7239 0.5 18C0.5 18.2761 0.723858 18.5 1 18.5L1 17.5ZM26.3536 0.646447C26.1583 0.451184 25.8417 0.451184 25.6464 0.646447L22.4645 3.82843C22.2692 4.02369 22.2692 4.34027 22.4645 4.53553C22.6597 4.7308 22.9763 4.7308 23.1716 4.53553L26 1.70711L28.8284 4.53553C29.0237 4.7308 29.3403 4.7308 29.5355 4.53553C29.7308 4.34027 29.7308 4.02369 29.5355 3.82843L26.3536 0.646447ZM1 18.5C4.06489 18.5 7.19304 18.5628 10.1353 18.374C13.0798 18.185 15.8845 17.7423 18.315 16.7102C20.7572 15.6732 22.8185 14.0422 24.2611 11.4965C25.6983 8.96044 26.5 5.55479 26.5 1L25.5 1C25.5 5.44521 24.7166 8.66456 23.3911 11.0035C22.071 13.3328 20.1921 14.8268 17.9241 15.7898C15.6445 16.7577 12.9692 17.19 10.0712 17.376C7.1711 17.5622 4.09453 17.5 1 17.5L1 18.5Z",fill:o})})},S=function(e){var t=e.width,n=void 0===t?"20":t,r=e.height,s=void 0===r?"20":r,a=e.fillColor,o=void 0===a?"#852CFF":a;return(0,i.jsx)("svg",{width:n,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M7.50013 13.4749L4.02513 9.99987L2.8418 11.1749L7.50013 15.8332L17.5001 5.8332L16.3251 4.6582L7.50013 13.4749Z",fill:o})})},y=function(e){var t=e.width,n=void 0===t?"20":t,r=e.height,s=void 0===r?"20":r,a=e.fillColor,o=void 0===a?"#5F6178":a;return(0,i.jsx)("svg",{width:n,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M15.8337 5.3415L14.6587 4.1665L10.0003 8.82484L5.34199 4.1665L4.16699 5.3415L8.82533 9.99984L4.16699 14.6582L5.34199 15.8332L10.0003 11.1748L14.6587 15.8332L15.8337 14.6582L11.1753 9.99984L15.8337 5.3415Z",fill:o})})},b=function(e){var t=e.width,n=void 0===t?"16":t,r=e.height,s=void 0===r?"16":r,a=e.fillColor,o=void 0===a?"#5F6178":a;return(0,i.jsx)("svg",{width:n,height:s,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M12.3467 2.5135L11.1667 1.3335L4.5 8.00016L11.1667 14.6668L12.3467 13.4868L6.86 8.00016L12.3467 2.5135Z",fill:o})})},j=function(e){var t=e.width,n=void 0===t?"20":t,r=e.height,s=void 0===r?"20":r,a=e.fillColor,o=void 0===a?"#852CFF":a;return(0,i.jsx)("svg",{width:n,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10.0003 14.3916L15.1503 17.5L13.7837 11.6416L18.3337 7.69996L12.342 7.19163L10.0003 1.66663L7.65866 7.19163L1.66699 7.69996L6.21699 11.6416L4.85033 17.5L10.0003 14.3916Z",fill:o})})},w=function(e){return(0,i.jsxs)(a.Z,(0,s.Z)((0,s.Z)({},e),{},{children:[(0,i.jsx)("path",{d:"M4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6ZM20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H8V4H20V16Z"}),(0,i.jsx)("path",{d:"M10 8H13V15H15V8H18V6H10V8Z"})]}))},Z=function(e){return(0,i.jsx)(a.Z,(0,s.Z)((0,s.Z)({},e),{},{children:(0,i.jsx)("path",{d:"M22 20L22 4C22 2.9 21.1 2 20 2L4 2C2.9 2 2 2.9 2 4L2 20C2 21.1 2.9 22 4 22L20 22C21.1 22 22 21.1 22 20ZM4 8L4 4L20 4L20 8L4 8ZM4 14L4 10L20 10L20 14L4 14ZM4 20L4 16L20 16L20 20L4 20Z"})}))},k=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#5F6178":t;return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M13 8C13 5.79 11.21 4 9 4C6.79 4 5 5.79 5 8C5 10.21 6.79 12 9 12C11.21 12 13 10.21 13 8ZM11 8C11 9.1 10.1 10 9 10C7.9 10 7 9.1 7 8C7 6.9 7.9 6 9 6C10.1 6 11 6.9 11 8ZM1 18V20H17V18C17 15.34 11.67 14 9 14C6.33 14 1 15.34 1 18ZM3 18C3.2 17.29 6.3 16 9 16C11.69 16 14.78 17.28 15 18H3ZM20 15V12H23V10H20V7H18V10H15V12H18V15H20Z",fill:n})})},C=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#5F6178":t;return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M20 4H4C2.89 4 2.01 4.89 2.01 6L2 18C2 19.11 2.89 20 4 20H20C21.11 20 22 19.11 22 18V6C22 4.89 21.11 4 20 4ZM20 18H4V12H20V18ZM20 8H4V6H20V8Z",fill:n})})},I=function(e){var t=e.fillColor,n=void 0===t?"#5F6178":t,c=(0,r.Z)(e,o);return(0,i.jsxs)(a.Z,(0,s.Z)((0,s.Z)({},c),{},{children:[(0,i.jsx)("path",{d:"M2 0H10L16 6V9.5H14V7H9V2H2V18H14V16H16V18C16 19.1 15.1 20 14 20H1.99C0.89 20 0 19.1 0 18L0.0100002 2C0.0100002 0.9 0.9 0 2 0Z",fill:n}),(0,i.jsx)("path",{d:"M8.27027 14.3333V13.6667H9.48649V14H11.1081V13.3333H9.08108C8.63514 13.3333 8.27027 13.0333 8.27027 12.6667V11.6667C8.27027 11.3 8.63514 11 9.08108 11H11.5135C11.9595 11 12.3243 11.3 12.3243 11.6667V12.3333H11.1081V12H9.48649V12.6667H11.5135C11.9595 12.6667 12.3243 12.9667 12.3243 13.3333V14.3333C12.3243 14.7 11.9595 15 11.5135 15H9.08108C8.63514 15 8.27027 14.7 8.27027 14.3333ZM7.05405 11.6667C7.05405 11.3 6.68919 11 6.24324 11H3.81081C3.36486 11 3 11.3 3 11.6667V14.3333C3 14.7 3.36486 15 3.81081 15H6.24324C6.68919 15 7.05405 14.7 7.05405 14.3333V13.6667H5.83784V14H4.21622V12H5.83784V12.3333H7.05405V11.6667Z",fill:n}),(0,i.jsx)("path",{d:"M14.3514 11H13.1351L14.7568 15H16.3784L18 11H16.7838L15.5676 14L14.3514 11Z",fill:n})]}))},T=function(e){var t=e.fillColor,n=void 0===t?"#5F6178":t,o=(0,r.Z)(e,c);return(0,i.jsxs)(a.Z,(0,s.Z)((0,s.Z)({},o),{},{children:[(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.02362 2.5034e-05L1.0236 1.00003C1.02362 2.5034e-05 1.02362 2.5034e-05 1.02362 2.5034e-05L1.02649 2.88486e-05L1.03011 4.27365e-05L1.03956 0.000115871L1.06715 0.00055027C1.08935 0.00100857 1.1191 0.00185901 1.15591 0.00342822C1.22948 0.00656521 1.33146 0.0125841 1.4578 0.0241244C1.71014 0.0471722 2.06186 0.0924393 2.48018 0.181577C3.17362 0.329339 4.06404 0.60066 4.99104 1.10141C5.4426 0.863961 5.9576 0.698846 6.46552 0.583404C7.25321 0.404373 8.14045 0.319173 9.01184 0.319173C9.88323 0.319173 10.7705 0.404374 11.5582 0.583405C12.0496 0.695097 12.5476 0.853286 12.9884 1.0785C13.5658 0.748246 14.2312 0.514845 14.8128 0.354954C15.6394 0.127691 16.4818 2.5034e-05 17 2.5034e-05H18L18 22H17C12.4837 22 8.00599 21.4826 4.7685 18.4297C1.52078 15.3671 -0.228249 10.0022 0.023986 0.972103L0.0511393 0L1.02362 2.5034e-05ZM2.0025 2.12496C1.92511 10.2575 3.63253 14.6095 6.14063 16.9746C8.57103 19.2665 11.9683 19.9065 16 19.9901L16 2.12788C15.7942 2.16891 15.5719 2.22045 15.343 2.28339C14.606 2.48602 13.9821 2.75853 13.6546 3.03769L13.0059 3.59057L12.3573 3.03769C12.1642 2.87309 11.7567 2.67954 11.1149 2.53367C10.4984 2.39355 9.76306 2.31917 9.01184 2.31917C8.26062 2.31917 7.52527 2.39355 6.90878 2.53366C6.26696 2.67954 5.85953 2.87309 5.66641 3.03769L5.10295 3.51794L4.47915 3.11919C3.60639 2.56131 2.72757 2.27919 2.06337 2.13766C2.04285 2.13329 2.02256 2.12906 2.0025 2.12496Z",fill:n}),(0,i.jsx)("path",{d:"M12.0046 4.01973C13.661 4.0216 15.0009 5.37603 15 7.04596C14.9972 8.71776 13.6545 10.0684 11.9981 10.0666C11.4281 10.0666 10.8692 9.9023 10.3889 9.59239L8.98604 11L7.59151 9.58492C6.19051 10.4736 4.33885 10.047 3.45976 8.63281C2.57881 7.21771 3.0017 5.35082 4.40455 4.46312C5.80741 3.57541 7.65814 4.002 8.53816 5.4171C8.79079 5.82501 8.94532 6.288 8.98512 6.76686L8.99992 6.74819L9.0138 6.76499C9.15631 5.20894 10.4537 4.016 12.0046 4.01973ZM5.99526 9.04259C7.09829 9.04819 7.99683 8.14742 8.00145 7.03569C8.00238 6.83126 7.97277 6.62871 7.91262 6.43455C7.68775 6.94234 7.09644 7.17011 6.59304 6.94421C6.08872 6.71645 5.86201 6.11998 6.08779 5.61125C6.18866 5.38443 6.36911 5.20334 6.5949 5.10066C5.54275 4.76929 4.42306 5.35829 4.09178 6.42055C4.03071 6.61377 4.00017 6.81633 3.99924 7.01982C3.99647 8.13249 4.88759 9.03886 5.99156 9.04259H5.99526ZM11.9898 9.06033C13.0937 9.06313 13.9913 8.16236 13.9941 7.04876C13.9969 5.93516 13.103 5.03065 12 5.02878C11.8001 5.02692 11.6011 5.05679 11.4096 5.11653C11.9139 5.34429 12.1397 5.94076 11.9157 6.44949C11.69 6.95635 11.0987 7.18411 10.5943 6.95821C10.3676 6.85647 10.1881 6.67165 10.0863 6.44202C9.7578 7.50521 10.3445 8.63748 11.3975 8.96885C11.5909 9.02766 11.789 9.05939 11.9898 9.06033Z",fill:n})]}))},E=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#B78103":t;return(0,i.jsxs)("svg",{width:"36",height:"24",viewBox:"0 0 36 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{width:"36",height:"24",rx:"12",fill:"#FFE16A"}),(0,i.jsx)("path",{d:"M17.9917 3.66666C13.3917 3.66666 9.66669 7.39999 9.66669 12C9.66669 16.6 13.3917 20.3333 17.9917 20.3333C22.6 20.3333 26.3334 16.6 26.3334 12C26.3334 7.39999 22.6 3.66666 17.9917 3.66666ZM18 18.6667C14.3167 18.6667 11.3334 15.6833 11.3334 12C11.3334 8.31666 14.3167 5.33332 18 5.33332C21.6834 5.33332 24.6667 8.31666 24.6667 12C24.6667 15.6833 21.6834 18.6667 18 18.6667ZM18.4167 7.83332H17.1667V12.8333L21.5417 15.4583L22.1667 14.4333L18.4167 12.2083V7.83332Z",fill:n})]})},A=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#ffffff":t;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsx)("path",{d:"M5 3.33337V5.83337H8.75V14.1667H11.25V5.83337H15V3.33337H5Z",fill:"#5F6178"}),(0,i.jsx)("path",{d:"M16.6654 15H3.33203V17.5H16.6654V15Z",fill:n})]})},_=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#B78103":t;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsx)("path",{d:"M3 15.6667H17V18.1667H3V15.6667Z",fill:n}),(0,i.jsx)("path",{d:"M13.8001 7.45L6.35013 0L5.17513 1.175L7.15846 3.15833L2.8668 7.45C2.37513 7.94167 2.37513 8.73333 2.8668 9.21667L7.45013 13.8C7.6918 14.0417 8.0168 14.1667 8.33346 14.1667C8.65013 14.1667 8.97513 14.0417 9.2168 13.8L13.8001 9.21667C14.2918 8.73333 14.2918 7.94167 13.8001 7.45ZM4.3418 8.33333L8.33346 4.34167L12.3251 8.33333H4.3418ZM15.8335 9.58333C15.8335 9.58333 14.1668 11.3917 14.1668 12.5C14.1668 13.4167 14.9168 14.1667 15.8335 14.1667C16.7501 14.1667 17.5001 13.4167 17.5001 12.5C17.5001 11.3917 15.8335 9.58333 15.8335 9.58333Z",fill:"#5F6178"})]})},R=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#B78103":t;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsx)("path",{d:"M5 5.83337V3.33337H7.24452V5.83337H5Z",fill:"#5F6178"}),(0,i.jsx)("path",{d:"M11.25 14.1667H8.75V12.0001H11.25V14.1667Z",fill:"#5F6178"}),(0,i.jsx)("path",{d:"M15 3.33337V5.83337H12.7054V3.33337H15Z",fill:"#5F6178"}),(0,i.jsx)("path",{d:"M11.25 10.0001H8.75V7.91672H11.25V10.0001Z",fill:"#5F6178"}),(0,i.jsx)("path",{d:"M11.25 5.83337H8.75V3.33337H11.25V5.83337Z",fill:"#5F6178"}),(0,i.jsx)("path",{d:"M16.6654 15H3.33203V17.5H16.6654V15Z",fill:n})]})},P=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",children:[(0,i.jsx)("rect",{width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71"}),(0,i.jsx)("rect",{x:"6.76733",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.55"}),(0,i.jsx)("rect",{x:"13.6074",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.15"}),(0,i.jsx)("rect",{y:"13.5342",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71"}),(0,i.jsx)("rect",{x:"6.76733",y:"13.5342",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.55"}),(0,i.jsx)("rect",{x:"13.5342",y:"13.5342",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.15"}),(0,i.jsx)("rect",{x:"3.38354",y:"3.38351",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.8"}),(0,i.jsx)("rect",{x:"10.1504",y:"3.38351",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.3"}),(0,i.jsx)("rect",{x:"3.38354",y:"10.1506",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.8"}),(0,i.jsx)("rect",{x:"10.1504",y:"10.1506",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.3"}),(0,i.jsx)("rect",{y:"6.76712",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71"}),(0,i.jsx)("rect",{x:"6.76733",y:"6.76712",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.55"}),(0,i.jsx)("rect",{x:"13.6074",y:"6.76712",width:"3.38355",height:"3.38355",rx:"0.5",fill:"#595D71","fill-opacity":"0.15"})]})},N=function(e){e.width,e.height;var t=e.fillColor,n=void 0===t?"#595C72":t;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,i.jsx)("path",{d:"M2 9.00047V15.0005H6L11 20.0005V4.00047L6 9.00047H2ZM9 8.83047V15.1705L6.83 13.0005H4V11.0005H6.83L9 8.83047Z",fill:n}),(0,i.jsx)("path",{d:"M13 3.23047V5.29047C15.5803 6.05832 17.5389 8.27705 17.929 11L19.945 11.0005C19.5214 7.17164 16.6933 4.0686 13 3.23047Z",fill:n}),(0,i.jsx)("path",{d:"M13 7.97047V11L15.3885 11.0005C15.0861 9.66898 14.1923 8.56662 13 7.97047Z",fill:n}),(0,i.jsx)("path",{d:"M20.882 17C20.882 16.78 20.8509 16.58 20.8199 16.37L22 15.36L20.9648 13.63L19.4638 14.12C19.1325 13.85 18.7598 13.64 18.3458 13.49L18.0352 12H15.9648L15.6542 13.49C15.2402 13.64 14.8675 13.85 14.5362 14.12L13.0352 13.63L12 15.36L13.1801 16.37C13.1491 16.58 13.118 16.78 13.118 17C13.118 17.22 13.1491 17.42 13.1801 17.63L12 18.64L13.0352 20.37L14.5362 19.88C14.8675 20.15 15.2402 20.36 15.6542 20.51L15.9648 22H18.0352L18.3458 20.51C18.7598 20.36 19.1325 20.15 19.4638 19.88L20.9648 20.37L22 18.64L20.8199 17.63C20.8509 17.42 20.882 17.22 20.882 17ZM17 19C15.8613 19 14.9296 18.1 14.9296 17C14.9296 15.9 15.8613 15 17 15C18.1387 15 19.0704 15.9 19.0704 17C19.0704 18.1 18.1387 19 17 19Z",fill:n})]})},O=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.43647 16.838C1.97701 12.9699 2.82671 7.87017 6.40747 5.00848C9.98822 2.14679 15.1498 2.44239 18.3804 5.69416C21.6111 8.94593 21.873 14.1093 18.9881 17.6714C16.1031 21.2334 10.9979 22.0498 7.14595 19.5652L4.58095 19.9938C4.42161 20.0204 4.25923 19.9684 4.145 19.8542C4.03077 19.7399 3.97876 19.5776 4.00539 19.4182L4.43647 16.838Z",fill:"#F9B44D"}),(0,i.jsx)("path",{d:"M11 15.8811H13.3103",stroke:"#FBF8DE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M12.1593 15.8817V11.6299H11.0088",stroke:"#FBF8DE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M12.0999 8.62521C12.0999 8.76334 11.9879 8.87531 11.8498 8.87531C11.7117 8.87531 11.5997 8.76334 11.5997 8.62521C11.5997 8.48708 11.7117 8.3751 11.8498 8.3751",stroke:"#FBF8DE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M11.8498 8.37516C11.9879 8.37516 12.0999 8.48713 12.0999 8.62526",stroke:"#FBF8DE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})},D=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"81",height:"80",viewBox:"0 0 81 80",fill:"none",children:[(0,i.jsxs)("g",{filter:"url(#filter0_i_3074_8193)",children:[(0,i.jsx)("path",{d:"M34.5497 30.7987C35.6148 31.8638 35.6148 33.5906 34.5497 34.6557C33.4846 35.7207 31.7578 35.7207 30.6928 34.6557C29.6277 33.5906 29.6277 31.8638 30.6928 30.7987C31.7578 29.7336 33.4846 29.7336 34.5497 30.7987",stroke:"#DBDBDB","stroke-width":"4.125","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M40.5 70V70C23.93 70 10.5 56.57 10.5 40V40C10.5 23.43 23.93 10 40.5 10V10C57.07 10 70.5 23.43 70.5 40V40C70.5 56.57 57.07 70 40.5 70Z",stroke:"#DBDBDB","stroke-width":"4.125","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M37.1667 53.3336L51.4767 39.0236C52.7767 37.7203 54.8867 37.7203 56.19 39.0236L68.33 51.1636",stroke:"#DBDBDB","stroke-width":"4.125","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M51.6633 67.8303L32.8567 49.0236C31.5533 47.7203 29.4433 47.7203 28.1433 49.0236L17.7 59.467",stroke:"#DBDBDB","stroke-width":"4.125","stroke-linecap":"round","stroke-linejoin":"round"})]}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"filter0_i_3074_8193",x:"0.5",y:"0",width:"80",height:"80",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[(0,i.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"1"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3074_8193"})]})})]})},U=function(e){return e.width,e.height,e.fillColor,(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.78048 4.20435C9.72425 4.23216 9.64125 4.30344 9.59605 4.36273C9.55087 4.42201 8.865 5.53404 8.07192 6.83383C7.27883 8.13366 6.6165 9.19758 6.60004 9.19813C6.5836 9.19871 5.81399 8.72639 4.88979 8.14857C3.23126 7.11163 3.20698 7.09803 3.01909 7.0977C2.87882 7.09748 2.80437 7.11722 2.73613 7.17278C2.59505 7.28759 2.51883 7.41793 2.50048 7.57576C2.48831 7.68045 2.70474 8.76078 3.30755 11.6044C3.76056 13.7415 4.14661 15.5214 4.16542 15.5597C4.18423 15.598 4.25482 15.6752 4.32233 15.7313L4.445 15.8334H15.5619L15.6545 15.758C15.7054 15.7165 15.7741 15.6425 15.8072 15.5935C15.8971 15.4602 17.5217 7.76445 17.4998 7.57576C17.4814 7.41793 17.4052 7.28759 17.2641 7.17278C17.1955 7.11693 17.1212 7.09741 16.9772 7.09741H16.7828L15.332 8.15157C13.9356 9.16618 13.879 9.20317 13.8233 9.13847C13.7914 9.10148 13.0006 7.99798 12.066 6.68623C11.1314 5.37445 10.3286 4.27402 10.2821 4.24079C10.1692 4.16019 9.90815 4.14122 9.78048 4.20435ZM11.7265 8.11162C12.6409 9.39317 13.4295 10.4705 13.4789 10.5058C13.5377 10.5478 13.634 10.5699 13.7584 10.5699H13.9483L15.0426 9.77477C15.6445 9.3375 16.1369 8.98934 16.1369 9.00108C16.1369 9.0275 15.4699 12.1901 15.4457 12.2787C15.4291 12.3392 15.1407 12.3426 10.0001 12.3426C4.85961 12.3426 4.57118 12.3392 4.55462 12.2787C4.53527 12.208 3.82984 8.87216 3.82984 8.85136C3.82984 8.84423 4.45234 9.22774 5.21313 9.70361C6.56278 10.5478 6.60097 10.5688 6.78347 10.5693C6.93394 10.5697 6.99296 10.5512 7.08527 10.4744C7.15825 10.4136 7.71277 9.53912 8.60846 8.07214C9.3831 6.80346 10.0275 5.76907 10.0403 5.77349C10.0532 5.77791 10.812 6.83006 11.7265 8.11162ZM14.9428 14.6637H5.0575L4.81313 13.5123H15.1871L14.9428 14.6637Z",stroke:"white","stroke-width":"0.5"})})},L=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",children:[(0,i.jsx)("rect",{x:"6.51953",y:"6.19995",width:"36",height:"36",rx:"5",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M24.5195 31.2H15.5195",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M15.5195 17.2H33.5195",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M33.5195 24.2H15.5195",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},F=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"39",viewBox:"0 0 35 39",fill:"none",children:[(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.1416 17.2H31.9194C33.024 17.2 33.9194 18.0954 33.9194 19.2V33.2C33.9194 35.4091 32.1286 37.2 29.9194 37.2H7.1416C4.93246 37.2 3.1416 35.4091 3.1416 33.2V17.2Z",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M12.2285 14.089V6.74789",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M22.5127 11.1373V3.25819",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M32.0934 9.4796L3.14208 17.2L2.04024 12.7927C1.51037 10.6731 2.77921 8.5205 4.89024 7.9576L29.9761 1.26796C30.4939 1.12989 31.0454 1.20537 31.507 1.47746C31.9686 1.74955 32.3018 2.19551 32.4317 2.71536L33.5184 7.062C33.7834 8.12179 33.149 9.19813 32.0934 9.4796Z",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},V=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",children:[(0,i.jsx)("path",{d:"M20.001 18.2C20.001 12.1248 24.9258 7.19995 31.001 7.19995",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M30.001 28.6306V29.9548C30.001 31.3252 29.0829 32.5419 27.7217 32.9753L24.3884 34.0365C23.3719 34.3602 22.2545 34.1974 21.3853 33.599C20.516 33.0005 20.001 32.0395 20.001 31.0161V28.2",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M26.4761 33.8881L25.0929 37.9139C24.9109 38.4435 25.0024 39.0257 25.3389 39.4787C25.6754 39.9316 26.2158 40.2 26.7913 40.2H39.7267C40.3022 40.2 40.8426 39.9316 41.1791 39.4787C41.5156 39.0257 41.6071 38.4435 41.4252 37.9139L40.9488 36.5275C39.477 32.2441 40.0081 27.5507 42.4026 23.679V23.679C43.4485 21.988 44.001 20.0529 44.001 18.0809V18.0809C44.001 15.1951 42.8193 12.4275 40.7159 10.3869C38.6125 8.34633 35.7597 7.19995 32.785 7.19995H30.5735",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M20.001 28.2L17.1087 26.9383C16.5954 26.7157 16.2166 26.3113 16.0686 25.8281C15.9207 25.3449 16.0179 24.8296 16.3356 24.4133L20.001 19.6164V18.2",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M12.1602 30.0554C9.32489 27.0928 9.32489 23.1144 12.1602 20.1518",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M9.20312 15.1994C7.96376 16.467 7.00311 17.8521 6.30702 19.3065C4.53003 23.0246 4.53003 27.1813 6.30561 30.9037C7.00311 32.3538 7.96376 33.7389 9.20312 35.0066",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},B=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",children:[(0,i.jsx)("path",{d:"M17.6793 34.6741H10.5144C8.30344 34.6741 6.5127 32.8834 6.5127 30.6724V10.6641C6.5127 8.45319 8.30344 6.66245 10.5144 6.66245H30.5227C32.7336 6.66245 34.5244 8.45319 34.5244 10.6641V16.6666",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M15.5166 15.6662H25.5208",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M20.519 25.6704V15.6662",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M31.7675 42.0332L43.8826 29.9181C44.7429 29.0578 44.7429 27.6652 43.8826 26.8068L40.3911 23.3154C39.5308 22.455 38.1382 22.455 37.2798 23.3154L25.1648 35.4304C24.7506 35.8446 24.5205 36.4028 24.5205 36.9851V42.6774H30.2129C30.7951 42.6774 31.3534 42.4473 31.7675 42.0332Z",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},M=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",children:[(0,i.jsx)("path",{d:"M12.9199 12.6699H36.9199",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M16.9199 6.66994H32.9199",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.4375 26.8119L28.8715 30.0259C29.5595 30.4319 29.5595 31.4279 28.8715 31.8339L23.4375 35.0479C22.7375 35.4619 21.8535 34.9579 21.8535 34.1439V27.7179C21.8515 26.9019 22.7375 26.3979 23.4375 26.8119V26.8119Z",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.9199 42.6699H10.9199C8.70992 42.6699 6.91992 40.8799 6.91992 38.6699V22.6699C6.91992 20.4599 8.70992 18.6699 10.9199 18.6699H38.9199C41.1299 18.6699 42.9199 20.4599 42.9199 22.6699V38.6699C42.9199 40.8799 41.1299 42.6699 38.9199 42.6699Z",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},G=function(e){return e.width,e.height,e.fillColor,(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",children:[(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.3203 42.6699H10.3203C8.11031 42.6699 6.32031 40.8799 6.32031 38.6699V10.6699C6.32031 8.45994 8.11031 6.66994 10.3203 6.66994H38.3203C40.5303 6.66994 42.3203 8.45994 42.3203 10.6699V38.6699C42.3203 40.8799 40.5303 42.6699 38.3203 42.6699Z",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M28.3203 12.6699H36.3203V20.6699",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,i.jsx)("path",{d:"M20.3203 36.6699H12.3203V28.6699",stroke:"#5939A2","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},W=function(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 320 512",children:(0,i.jsx)("path",{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"})})},z=function(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 512 512",children:(0,i.jsx)("path",{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"})})},J=function(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 448 512",children:(0,i.jsx)("path",{d:"M100.3 448H7.4V148.9h92.9zM53.8 108.1C24.1 108.1 0 83.5 0 53.8a53.8 53.8 0 0 1 107.6 0c0 29.7-24.1 54.3-53.8 54.3zM447.9 448h-92.7V302.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V448h-92.8V148.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V448z"})})},H=function(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,i.jsx)("path",{d:"M7.70703 3.95833H5.6237C4.70322 3.95833 3.95703 4.70452 3.95703 5.625V14.375C3.95703 15.2955 4.70322 16.0417 5.6237 16.0417H14.3737C15.2942 16.0417 16.0404 15.2955 16.0404 14.375V12.2917M16.0404 7.70833V3.95833H12.2904M15.832 4.16667L9.79036 10.2083",stroke:"#852CFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}},45610:function(e,t,n){"use strict";var r=n(43144),s=n(15671),a=(0,r.Z)((function e(){(0,s.Z)(this,e),this.stepOne="textinput",this.stepTwo="summary",this.stepTwo_articleToVideo="summary/articletovideo",this.stepThree="storyboard",this.stepThree_articleToVideo="storyboard/articletovideo",this.stepThree_scriptToVideo="storyboard/scripttovideo",this.stepThree_visualsToVideo="storyboard/visualstovideo",this.myProjects="myvideos",this.brandSettings="brandsettings",this.login="login",this.affiliate_become="affiliate/signup",this.affiliate_Dashboard="affiliate/dashboard",this.plansList="plans",this.plansListEmbed="planslistembed",this.orderSummary="order-summary",this.orderSubscribed="order-subscribed",this.payment="payment",this.cards="cards",this.orderStatus="order-status",this.userSettings="account-settings",this.billingInfo="billing-info",this.signupProfile="signup-profile",this.chooseAspectRatio="aspect-ratio",this.signUp="signup",this.VerifyEmail="verifyemail",this.userQuestionnaire="questionnaire",this.resetPassword="resetpassword",this.progress="progress",this.transcriptionRedirect="transcription/project",this.videoGenerationRedirect="video-generation/project",this.taskVideoGenerationRedirect="video-generation/projects/:projectid/tasks/:taskid",this.videoPostsRedirect="videoposts/projects/:projectid",this.hootsuiteAppUrl="apps/hootsuite",this.videoPosts="videoposts",this.hootsuiteIntegration="hootsuite",this.appSumoSignup="appsumo/signup",this.player="player",this.branding="branding"}));t.Z=new a},7211:function(e,t,n){"use strict";var r=n(43144),s=n(15671),a=(0,r.Z)((function e(t,n,r){var a=this;(0,s.Z)(this,e),this.downloadSRT=function(){for(var e="",t=0;t<a.textSegments.length;t++){var n=a.textSegments[t],r=a.timeSegments[t],s=r[0].start,i=r[r.length-1].end;e+="".concat(t+1,"\n").concat(a.getSubtitleTimeStamp(s,!0)," --\x3e ").concat(a.getSubtitleTimeStamp(i,!0),"\n"),e+="".concat(n,"\n"),e+="\n\n"}a.downloadFile(e,"".concat(a.videoName,".srt"))},this.downloadVTT=function(){for(var e="WEBVTT\n\n",t=0;t<a.textSegments.length;t++){var n=a.textSegments[t],r=a.timeSegments[t],s=r[0].start,i=r[r.length-1].end;e+="".concat(a.getSubtitleTimeStamp(s,!1)," --\x3e ").concat(a.getSubtitleTimeStamp(i,!1),"\n"),e+="".concat(n,"\n"),e+="\n\n"}a.downloadFile(e,"".concat(a.videoName,".vtt"))},this.downloadText=function(){for(var e="",t=0;t<a.textSegments.length;t++){var n=a.textSegments[t];e+="".concat(n,"\n"),e+=" "}a.downloadFile(e,"".concat(a.videoName,".txt"))},this.getSubtitleTimeStamp=function(e,t){var n=Math.ceil(1e3*e),r=Math.floor(n/1e3),s=Math.floor(r/60),a=Math.floor(s/60);return(a<10?"0":"")+a+":"+((s%=60)<10?"0":"")+s+":"+((r%=60)<10?"0":"")+r+(t?",":".")+((n%=1e3)<100?"0":"")+(n<10?"0":"")+n},this.downloadFile=function(e,t){var n=new Blob([e],{type:"text/plain"}),r=window.webkitURL.createObjectURL(n),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},this.textSegments=t,this.timeSegments=n,this.videoName=r}));t.Z=a},3128:function(e,t,n){"use strict";n.d(t,{W:function(){return j}});var r=n(93433),s=n(29439),a=n(37762),i=n(11043),o=function(e){return-1!==e.search(/^[a-zA-Z]*$/)},c=function(e){switch(e){case"de-AT":return["German (Austrian)","Austrian Accent"];case"de-DE":return["German (Germany)","German accent"];case"en-AU":return["English (Australian)","Austrilian accent"];case"en-GB":return["English (UK)","British accent"];case"en-IN":return["English (Indian)","Indian accent"];case"en-NZ":return["English (New Zealand)","Kiwis accent"];case"en-US":return["English (US)","American accent"];case"en-ZA":return["English (South African)","South african accent"];case"es-ES":return["Spanish (Spain)","Spanish accent"];case"es-MX":return["Spanish (Mexican)","Spanish Mexican accent"];case"es-US":return["Spanish (US)","Spanish US accent"];case"fr-CA":return["French (Canada)","Canadian accent"];case"fr-FR":return["French (France)","French accent"];case"it-IT":return["Italian (Italy)","Italian accent"];case"nl-BE":return["Dutch (Belgium)","Belgium accent"];case"nl-BR":case"nl-NL":return["Dutch (Netherlands)","Dutch accent"];case"pt-BR":return["Portuguese (Brazilian)","Portuguese Brazilian accent"];case"pt-PT":return["Portuguese (European)","Portuguese European accent"]}},l=function(e){if(o(e))return e;var t,n="",r=(0,a.Z)(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;if(!o(s))break;n+=s}}catch(e){r.e(e)}finally{r.f()}return n},u=function(e,t,n,r,a,o,u,d){var p=c(a),h=(0,s.Z)(p,2),m=h[0],g=h[1];return{isNew:d||!1,tag:"AI Voices",trackId:e,name:t,gender:n,type:"voiceover",testSpeech:"This is test speech",trackUrl:i.Z.Instance.GetStaticFile("samples/"+r+".mp3","polly"),category:"AI Voices",languageLabel:m,voice:l(t),service:"aws",language:a,accent:g,engine:o,active:!1,subscriptions:u}},d=function(e,t,n,r,a,o,l,u,d){var p=c(o),h=(0,s.Z)(p,2),m=h[0],g=h[1];return{isNew:d||!1,tag:"AI Voices",trackId:e,name:t,gender:n,type:"voiceover",testSpeech:"This is test speech",trackUrl:i.Z.Instance.GetStaticFile("samples/"+r+".mp3","google"),category:"AI Voices",languageLabel:m,voice:a,service:"google",language:o,accent:g,engine:l,active:!1,subscriptions:u}},p=["https://storage.googleapis.com/eleven-public-prod/","https://storage.googleapis.com/eleven-public-prod/premade/voices/"],h=["FreeTrial","TeamsFreeTrial","TeamsMonthly","TeamsAnnual","ProfessionalMonthlyPerUser","ProfessionalAnnualPerUser","ProfessionalMonthlyLimitedUsePerUser","ProfessionalAnnualLimitedUsePerUser"],m=["StarterMonthlyPerUser","StarterAnnualLimitedUsePerUser","StarterMonthlyLimitedUsePerUser"],g=[].concat(h,["app_sumo_pictory_tier1","app_sumo_pictory_tier2","app_sumo_pictory_tier3"]),f=[].concat(h,m,["app_sumo_pictory_tier1","app_sumo_pictory_tier2","app_sumo_pictory_tier3"],["EnterpriseSubscription"]),v=[].concat((0,r.Z)(g),m,["StarterAnnualPerUser"]),x=function(e,t,n,r,a,i,o,c,l,u){var d=function(e){switch(e){case"en-AU":return["English (Australian)","Australian accent","australian"];case"en-GB":return["English (UK)","British accent","british"];case"en-US":return["English (US)","American accent","american"]}}(c),h=(0,s.Z)(d,3),m=h[0],g=h[1];return{isNew:!0,tag:"Eleven Labs",voice_id:e,name:t,gender:n,age:r,type:"voiceover",description:a,accent1:h[2],accent:g,trackUrl:0===i?p[0]+o:p[1]+e+"/"+o,category1:0===i?"premade":"generated",category:"Eleven Labs",voice:e,language:c,languageLabel:m,usecase:l,service:"elevenlabs",active:!1,engine:"eleven_monolingual_v1",subscriptions:f,trackId:u+3001}},S=[[1064,"Mia","female","Mia_ex-MX","es-MX","neural",v,!0],[1066,"Lupe","female","Lupe_es-US","es-US","neural",v,!0],[1067,"Pedro","male","Pedro_es-US","es-US","neural",v,!0],[1056,"Camila","female","Camila_pt-BR","pt-BR","neural",v,!0],[1058,"Thiago","male","Thiago_pt-BR","pt-BR","neural",v,!0],[1059,"Inês","female","Ines_pt-PT","pt-PT","neural",v,!0],[1052,"Bianca","female","Bianca_it-IT","it-IT","neural",v,!0],[1053,"Adriano","male","Adriano_it-IT","it-IT","neural",v,!0],[1049,"Vicki","female","Vicki_de","de-DE","neural",v,!0],[1050,"Daniel","male","Daniel_de","de-DE","neural",v,!0],[1044,"Laura","female","Laura_nl-NL","nl-NL","neural",v,!0],[1001,"Joanna","female","Joanna_100_sample","en-US","neural",v,!1],[1002,"Ivy (child)","female","Ivy_100_sample","en-US","neural",v,!1],[1003,"Kendra","female","Kendra_100_sample","en-US","neural",v,!1],[1004,"Kimberly","female","Kimberly_100_sample","en-US","neural",v,!1],[1005,"Matthew","male","Matthew_100_sample","en-US","neural",v,!1],[1006,"Justin (child)","male","Justin_100_sample","en-US","neural",v,!1],[1007,"Amy","female","Amy_100_sample","en-GB","neural",v,!1],[1008,"Emma","female","Emma_100_sample","en-GB","neural",v,!1],[1009,"Brian","male","Brian_100_sample","en-GB","neural",v,!1],[1010,"Aditi","female","Aditi_sample","en-IN","standard",v,!1],[1011,"Raveena","female","Raveena_sample","en-IN","standard",v,!1],[1012,"Nicole","female","Nicole_sample","en-AU","standard",v,!1],[1013,"Russell","male","Russell_sample","en-AU","standard",v,!1],[1014,"Aria","female","Aria_en-NZ","en-NZ","neural",v,!1],[1015,"Olivia","female","Olivia_en-AU","en-AU","neural",g,!1],[1016,"Ayanda","female","Ayanda_en-ZA","en-ZA","neural",v,!1],[1017,"Salli","female","Salli_en-US","en-US","neural",g,!1],[1018,"Joey","male","Joey_en-US","en-US","neural",g,!1],[1019,"Kevin (child)","male","Kevin_en-US","en-US","neural",g,!1],[1045,"Léa","female","Lea_fr-FR","fr-FR","neural",v,!0],[1051,"Hannah","female","Hannah_de-AT","de-AT","neural",v,!0]].map((function(e){return u.apply(void 0,(0,r.Z)(e))})),y=[[2009,"Aiden","male","en-US-Neural2-A_MALE","en-US-Neural2-A_MALE","en-US","Neural2",g,!1],[2010,"Ava","female","en-US-Neural2-C_FEMALE","en-US-Neural2-C_FEMALE","en-US","Neural2",v,!1],[2011,"Tom","male","en-US-Neural2-D_MALE","en-US-Neural2-D_MALE","en-US","Neural2",v,!1],[2012,"Adeline","female","en-US-Neural2-E_FEMALE","en-US-Neural2-E_FEMALE","en-US","Neural2",g,!1],[2013,"Sophia","female","en-US-Neural2-F_FEMALE","en-US-Neural2-F_FEMALE","en-US","Neural2",g,!1],[2014,"Alice","female","en-US-Neural2-G_FEMALE","en-US-Neural2-G_FEMALE","en-US","Neural2",v,!1],[2015,"Adison","female","en-US-Neural2-H_FEMALE","en-US-Neural2-G_FEMALE","en-US","Neural2",g,!1],[2016,"Jackson","male","en-US-Neural2-I_MALE","en-US-Neural2-I_MALE","en-US","Neural2",g,!1],[2017,"Liam","male","en-US-Neural2-J_MALE","en-US-Neural2-J_MALE","en-US","Neural2",v,!1],[2004,"Hazel","female","en-GB-Neural2-A_FEMALE","en-GB-Neural2-A_FEMALE","en-GB","Neural2",g,!1],[2005,"Arthur","male","en-GB-Neural2-B_MALE","en-GB-Neural2-B_MALE","en-GB","Neural2",v,!1],[2006,"Edith","female","en-GB-Neural2-C_FEMALE","en-GB-Neural2-C_FEMALE","en-GB","Neural2",g,!1],[2007,"James","male","en-GB-Neural2-D_MALE","en-GB-Neural2-D_MALE","en-GB","Neural2",v,!1],[1068,"Tim","male","nl-NL-Tim","nl-NL-WaveNet-C","nl-NL","neural",v,!0],[1069,"Chantal","female","nl-NL-Chantal","nl-NL-WaveNet-E","nl-NL","WaveNet",v,!0],[1070,"Johannes","male","nl-BE-Johannes","nl-BE-WaveNet-B","nl-BE","neural",v,!0],[1071,"Clémence","female","fr-CA-Clemence","fr-FR-Neural2-A","fr-FR","neural",v,!0],[1072,"Marin","male","fr-FR-Marin","fr-FR-Neural2-B","fr-FR","neural",v,!0],[1073,"Gabriel","male","fr-CA-Gabriel","fr-CA-Neural2-B","fr-CA","neural",v,!0],[1074,"Lilou","female","fr-CA-Lilou","fr-CA-Neural2-C","fr-CA","neural",v,!0],[1075,"Frieda","female","de-DE-Frieda","de-DE-Neural2-A","de-DE","neural",v,!0],[1076,"Wilbur","male","de-DE-Wilbur","de-DE-Neural2-B","de-DE","neural",v,!0],[1080,"Amelia","female","pt-BR-Amelia","pt-BR-Neural2-C","pt-BR","neural",v,!0],[1081,"Mateo","male","es-ES-Mateo","es-ES-Neural2-B","es-ES","neural",v,!0],[1082,"Natalia","female","es-ES-Natalia","es-ES-Neural2-C","es-ES","neural",v,!0],[1083,"Hugo","male","es-ES-Hugo","es-ES-Neural2-C","es-ES","neural",v,!0],[1079,"Aurelio","male","pt-BR-Aurelio","pt-BR-Neural2-B","pt-BR","neural",v,!0],[2008,"Heather","female","en-GB-Neural2-F_FEMALE","en-GB-Neural2-F_FEMALE","en-GB","Neural2",v,!1],[2e3,"Willow","female","en-AU-Neural2-A_FEMALE","en-AU-Neural2-A_FEMALE","en-AU","Neural2",g,!1],[2001,"Noah","male","en-AU-Neural2-B_MALE","en-AU-Neural2-B_MALE","en-AU","Neural2",v,!1],[2002,"Ruby","female","en-AU-Neural2-C_FEMALE","en-AU-Neural2-C_FEMALE","en-AU","Neural2",v,!1],[1077,"Luna","female","it-IT-Luna","it-IT-Neural2-A","it-IT","neural",v,!0],[1078,"Marco","male","it-IT-Marco","it-IT-Neural2-C","it-IT","neural",v,!0],[2003,"Henry","male","en-AU-Neural2-D_MALE","en-AU-Neural2-D_MALE","en-AU","Neural2",g,!1],[1020,"Lisa","female","en-AU-Wavenet-A_FEMALE","en-AU-Wavenet-A_FEMALE","en-AU","WaveNet",v,!1],[1021,"Phil","male","en-AU-Wavenet-B_MALE","en-AU-Wavenet-B_MALE","en-AU","WaveNet",v,!1],[1022,"Heidi","female","en-AU-Wavenet-C_FEMALE","en-AU-Wavenet-C_FEMALE","en-AU","WaveNet",g,!1],[1023,"Oliver","male","en-AU-Wavenet-D_MALE","en-AU-Wavenet-D_MALE","en-AU","WaveNet",g,!1],[1024,"Eugene","male","en-US-Wavenet-A_MALE","en-US-Wavenet-A_MALE","en-US","WaveNet",v,!1],[1025,"Scott","male","en-US-Wavenet-B_MALE","en-US-Wavenet-B_MALE","en-US","WaveNet",g,!1],[1026,"Steffi","female","en-US-Wavenet-C_FEMALE","en-US-Wavenet-C_FEMALE","en-US","WaveNet",v,!1],[1027,"Martin","male","en-US-Wavenet-D_MALE","en-US-Wavenet-D_MALE","en-US","WaveNet",g,!1],[1028,"Debby","female","en-US-Wavenet-E_FEMALE","en-US-Wavenet-E_FEMALE","en-US","WaveNet",g,!1],[1029,"Belinda","female","en-US-Wavenet-F_FEMALE","en-US-Wavenet-F_FEMALE","en-US","WaveNet",g,!1],[1030,"Jessica","female","en-US-Wavenet-G_FEMALE","en-US-Wavenet-G_FEMALE","en-US","WaveNet",g,!1],[1031,"Stacy","female","en-US-Wavenet-H_FEMALE","en-US-Wavenet-H_FEMALE","en-US","WaveNet",v,!1],[1032,"Austin","male","en-US-Wavenet-I_MALE","en-US-Wavenet-I_MALE","en-US","WaveNet",g,!1],[1033,"Jeff","male","en-US-Wavenet-J_MALE","en-US-Wavenet-J_MALE","en-US","WaveNet",v,!1],[1034,"Fiona","female","en-GB-Wavenet-A_FEMALE","en-GB-Wavenet-A_FEMALE","en-GB","WaveNet",v,!1],[1035,"Chris","male","en-GB-Wavenet-B_MALE","en-GB-Wavenet-B_MALE","en-GB","WaveNet",v,!1],[1036,"Mary","female","en-GB-Wavenet-C_FEMALE","en-GB-Wavenet-C_FEMALE","en-GB","WaveNet",g,!1],[1037,"Ben","male","en-GB-Wavenet-D_MALE","en-GB-Wavenet-D_MALE","en-GB","WaveNet",g,!1],[1038,"Safa","female","en-GB-Wavenet-F_FEMALE","en-GB-Wavenet-F_FEMALE","en-GB","WaveNet",g,!1],[1039,"Shreya","female","en-IN-Wavenet-A_FEMALE","en-IN-Wavenet-A_FEMALE","en-IN","WaveNet",v,!1],[1040,"Aveek","male","en-IN-Wavenet-B_MALE","en-IN-Wavenet-B_MALE","en-IN","WaveNet",v,!1],[1041,"Shaveen","male","en-IN-Wavenet-C_MALE","en-IN-Wavenet-C_MALE","en-IN","WaveNet",g,!1],[1042,"Priti","female","en-IN-Wavenet-D_FEMALE","en-IN-Wavenet-D_FEMALE","en-IN","WaveNet",g,!1]].map((function(e){return d.apply(void 0,(0,r.Z)(e))})),b=[["21m00Tcm4TlvDq8ikWAM","Rachel","female","young","calm",1,"df6788f9-5c96-470d-8312-aab3b3d8f50a.mp3","en-US","narration"],["2EiwWnXFnvU5JabPnv8n","Clyde","male","middle aged","war veteran",1,"65d80f52-703f-4cae-a91d-75d4e200ed02.mp3","en-US","video games"],["AZnzlk1XvdvUeBnXmlld","Domi","female","young","strong",1,"508e12d0-a7f7-4d86-a0d3-f3884ff353ed.mp3","en-US","narration"],["EXAVITQu4vr4xnSDxMaL","Bella","female","young","soft",1,"941b779e-c2ad-48d4-bddb-28d1a68fa27e.mp3","en-US","narration"],["ErXwobaYiN019PkySvjV","Antony","male","young","well-rounded",1,"ee9ac367-91ee-4a56-818a-2bd1a9dbe83a.mp3","en-US","narration"],["GBv7mTt0atIp3Br8iCZE","Thomas","male","young","calm",1,"98542988-5267-4148-9a9e-baa8c4f14644.mp3","en-US","meditation"],["IKne3meq5aSn9XLyUdCD","Charlie","male","young","casual",1,"102de6f2-22ed-43e0-a1f1-111fa75c5481.mp3","en-AU","conversational"],["LcfcDJNUP1GQjkzn1xUU","Emily","female","young","calm",1,"e4b994b7-9713-4238-84f3-add8fccaaccd.mp3","en-US","meditation"],["MF3mGyEYCl7XYWbV9V6O","Elli","female","young","emotional",1,"d8ecadea-9e48-4e5d-868a-2ec3d7397861.mp3","en-US","narration"],["N2lVS1w4EtoT3dr4eOWO","Callum","male","middle aged","hoarse",1,"ac833bd8-ffda-4938-9ebc-b0f99ca25481.mp3","en-US","video games"],["ODq5zmih8GrVes37Dizd","Patrick","male","middle aged","stouty",1,"0ebec87a-2569-4976-9ea5-0170854411a9.mp3","en-US","video games"],["SOYHLrjzK2X1ezoPC6cr","Harry","male","young","anxious",1,"86d178f6-f4b6-4e0e-85be-3de19f490794.mp3","en-US","video games"],["TX3LPaxmHKxFdv7VOQHJ","Liam","male","young","casual",1,"63148076-6363-42db-aea8-31424308b92c.mp3","en-US","narration"],["ThT5KcBeYPX3keUQqHPh","Dorothy","female","young","pleasent",1,"981f0855-6598-48d2-9f8f-b6d92fbbe3fc.mp3","en-GB","children's stories"],["TxGEqnHWrfWFTfGW9XjX","Josh","male","young","deep",1,"3ae2fc71-d5f9-4769-bb71-2a43633cd186.mp3","en-US","narration"],["VR6AewLTigWG4xSOukaG","Arnold","male","young","crisp",1,"316050b7-c4e0-48de-acf9-a882bb7fc43b.mp3","en-US","narration"],["XrExE9yKIg1WjnnlVkGX","Matilda","female","young","warm",1,"b930e18d-6b4d-466e-bab2-0ae97c6d8535.mp3","en-US","audiobook"],["Yko7PKHZNXotIFUBG7I9","Matthew","male","middle aged","professional",1,"02c66c93-a237-436f-8a7d-43e8c49bc6a3.mp3","en-GB","audiobook"],["ZQe5CZNOzWyzPSCn5a3c","James","male","old","calm",1,"35734112-7b72-48df-bc2f-64d5ab2f791b.mp3","en-AU","news"],["Zlb1dXrM653N07WRdFW3","Joseph","male","middle aged","instructional",1,"daa22039-8b09-4c65-b59f-c79c48646a72.mp3","en-GB","news"],["flq6f7yk4E4fJM5XTYuZ","Michael","male","old","wise",1,"c6431a82-f7d2-4905-b8a4-a631960633d6.mp3","en-US","audiobook"],["g5CIjZEefAph4nQFvHAz","Ethan","male","young","meditative",1,"26acfa99-fdec-43b8-b2ee-e49e75a3ac16.mp3","en-US","ASMR"],["jsCqWAovK2LkecY7zXl4","Freya","female","young","crisp",1,"8e1f5240-556e-4fd5-892c-25df9ea3b593.mp3","en-US","pleasent"],["onwK4e9ZLuTAKqWW03F9","Daniel","male","middle aged","deep",1,"7eee0236-1a72-4b86-b303-5dcadc007ba9.mp3","en-GB","news presenter"],["pMsXgVXv3BLzUgSXRplE","Serena","female","middle aged","pleasent",1,"d61f18ed-e5b0-4d0b-a33c-5c6e7e33b053.mp3","en-US","interactive"],["pNInz6obpgDQGcFmaJgB","Adam","male","middle aged","deep",1,"38a69695-2ca9-4b9e-b9ec-f07ced494a58.mp3","en-US","narration"],["piTKgcLEGmPE4e6mEKli","Nicole","female","young","whisper",1,"c269a54a-e2bc-44d0-bb46-4ed2666d6340.mp3","en-US","audiobook"],["t0jbNlBVZ17f02VDIeMI","Jessie","male","old","raspy",1,"e26939e3-61a4-4872-a41d-33922cfbdcdc.mp3","en-US","video games"],["wViXBPUzp2ZZixB1xQuM","Ryan","male","middle aged","solider",1,"4a82f749-889c-4097-85f0-a3826a28b1d8.mp3","en-US","audiobook"],["yoZ06aMxZJJ28mfd3POQ","Sam","male","young","raspy",1,"ac9d1c91-92ce-4b20-8cc2-3187a7da49ec.mp3","en-US","narration"],["z9fAnlkpzviPz146aGWa","Glinda","female","middle aged","witch",1,"cbc60443-7b61-4ebb-b8e1-5c03237ea01d.mp3","en-US","video games"],["0s9bpohppEo11h81eIaX","Hannah","female","middle aged","soft",0,"EjqRMuZ2nrZL47hTwNm1fCCtcgi2/voices/2gOMUQMgoECnUxwxsJQ3/295615c9-ce28-4d21-945b-5bfd44a7b2ef.mp3","en-GB","raspy"],["3XAHIPdgUSjzcBZL8pMU","Miri","female","middle aged","very and collected",0,"PCnLJkMMboOFkMrgIZa4utgOHxw1/voices/B1bgv3bMDGUZa7g9Hkbf/79870b93-90a8-4bf8-a4fa-1e63c8010e66.mp3","en-AU","raspy"],["69YhKcd7qqlxhlx6U09r","Brian","male","old","calm",0,"lHja2HgPeCQKtqUxGMUcO9oRNkf1/voices/a2KUMYv7Irop7haWtEIs/adee2ab1-0ada-4642-8f6b-ba35857be3c2.mp3","en-GB",""],["Gx1oEehW5dT3Gr3GJOUo","Phoebe","female","young","gentle",0,"XnWQKpONeagjUl8iUXy6rvndEts2/voices/z8MTUp8L0bqfJpRoKx1m/f838c2c5-43c2-4bd7-80b6-8fbd2cef180e.mp3","en-AU","formal"],["JZ6Vu68wNal8DUFx91s2","Abby","female","young","Confident",0,"ofJ3ST4rvZcJUjpc7t5B7gqcCz93/voices/TvvRSZvrKRChIn1fKsBV/d0cfc522-529d-4179-a7ad-c0d6c1377bc2.mp3","en-US","narration"],["M52wzKHwHQ7J3Xanc4hB","Djano","male","middle aged","forceful male voice",0,"3QyvIplBi1WEDBjIKDbpp8JU3cq1/voices/OC2tnKgCcL3BoAd1mmUc/d2013ae1-1daf-443e-b6f6-afade9f68cd7.mp3","en-US","narration"],["M52wzKHwHQ7J3Xanc4hB","Erin","female","young","upbeat",0,"SX6jnOifvcgaP6Y0UPwC3SHimMk2/voices/hHMAmWBDwVvJMFIl3Hc4/260e2411-1365-403b-8323-a4e7d2754042.mp3","en-GB","conversational"],["TJS3StemmZ6uvBCZezlP","Annabell","female","middle aged","Professional and Inquisitive",0,"ofJ3ST4rvZcJUjpc7t5B7gqcCz93/voices/WXECwHgQCLAE6x03EcYr/cc696e9c-e591-4e8c-9c32-4bec5fae481b.mp3","en-US",""],["ZWRdcRBUmEy7jQCHt5XP","Victoria","female","middle aged","classy and mature",0,"EjqRMuZ2nrZL47hTwNm1fCCtcgi2/voices/lKqU0Pi4tWfYA871XVtN/e0357df5-f43b-45f6-bae4-f633a751568f.mp3","en-GB",""],["blpkdqSsFGd6s6MdMLxB","Isabella","female","young","wise",0,"GQmQHvdNaHXbFMu4pgUUDP3UuvI3/voices/jkdqxmWF9u543MDhc5f3/21d38e6c-f937-4638-9118-84b77a9533da.mp3","en-US","calm"],["dlijyWy5r53zKtcKDN30","Jack","male","middle aged","Smooth, deep, mysterious",0,"xcpdkIV6GoPJb4UApYRLpSFQNUO2/voices/3UE57l83vBf9maokRPGA/e8f4da6e-53cf-4c93-8d49-e686943bb8ee.mp3","en-US",""],["fFjFYFfZA9ogGPbixdnE","Marcus","male","middle aged","authoritative and deep",0,"EjqRMuZ2nrZL47hTwNm1fCCtcgi2/voices/TJdGgFoRwIpDGaLZCRzq/498104fb-5322-49e8-a110-ead1b2691ead.mp3","en-US",""],["nbHxyi2nQRRw3r99VCum","Thrune","female","middle aged","Calm and Authoritative",0,"lA5gT7FFPLVt66XJyVjpVR1ljPA2/voices/xFW6nqDSTG6XI9UERQvl/fa90fe7f-227e-496e-bfcc-ca15ae914ea1.mp3","en-US",""],["pBsYtSUkmiIyDpRm2clB","Johnny","male","old","deep and gruff",0,"UO3iqFrpFmdoj482vAhP1srkTpE2/voices/RvoZecblqgFppocilIOx/853d00ac-8ee0-42ad-aa85-5b0059d30270.mp3","en-US",""],["qNsZBd2oUS9782y5f8W9","Harrison","male","old","Deep and Cinematic",0,"Ma0f0zw9rKhbQ6LWZ0vMZma18lW2/voices/RDyiFZuu532tMhDgez31/e3ebb840-bf31-4fc7-b362-b8dcc898b71e.mp3","en-US",""],["szZUvJwfcqGWZ3Waothg","Noah","male","young","Deep and Cinematic",0,"GNznihiqklXYjKkYsT8mgvLIlRg1/voices/ZBLwyWfdGZice7htndmQ/35514b43-8175-4a25-a6c3-d8c0bac09467.mp3","en-US",""],["tHtFAjpGcxrKb1MtNcrk","Mark","male","old","calm and wise teacher",0,"GcN1ozyMluNskyp7uxVv4wEtZ252/voices/DsWLNlYebeacbdDoBCoV/e4dfed6d-3391-4a5c-94c0-64e59bab4198.mp3","en-GB",""],["vwtLIpb2JSpLOA4leXY4","Knightley","male","old","dapper and deep narrator",0,"xcpdkIV6GoPJb4UApYRLpSFQNUO2/voices/fV5Pa91BEdDNCQu0TwZf/7c1a6dfc-e307-4630-9a3b-3ea801c4ad3b.mp3","en-GB",""],["x8DOTw5JRhXv951LlB7C","Amanda","female","young","a natural narrator",0,"4829JtbSDwat0xrQRwhcUbpMQ003/voices/pqZgFUhtE4MTpG41G42y/328df63d-942f-4b31-8434-d8161f2b8034.mp3","en-US",""],["y3JAzJLecowp1Oq1q7Bl","Samuel","male","middle aged","Deep and Booming",0,"ryPagt4rCfOIGYNqCGQAoT5G5x43/voices/5lGvnEkyzPC1FuzqOze5/e2175672-8f42-444a-b500-1aca7c4bd4e2.mp3","en-AU",""]].map((function(e,t){return x.apply(void 0,(0,r.Z)(e).concat([t]))})),j=[].concat((0,r.Z)(S),(0,r.Z)(y),(0,r.Z)(b))},69355:function(e,t,n){"use strict";n.d(t,{_0:function(){return a}});var r=n(91104);function s(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function a(e){if(e){var t,n,a,i=(0,r.l)(e);if(i&&i.r&&i.g&&i.b)return t=parseInt(null==i?void 0:i.r),n=parseInt(null==i?void 0:i.g),a=parseInt(null==i?void 0:i.b),"#"+s(t)+s(n)+s(a)}}},91104:function(e,t,n){"use strict";n.d(t,{$Y:function(){return H},A:function(){return se},A1:function(){return qe},A2:function(){return X},AV:function(){return Y},Ai:function(){return k},CV:function(){return Ie},DO:function(){return G},DY:function(){return ae},Df:function(){return R},E3:function(){return re},EI:function(){return Ne},FO:function(){return ft},FT:function(){return it},FY:function(){return kt},Ff:function(){return we},Gz:function(){return je},H8:function(){return ge},Hw:function(){return q},I4:function(){return U},IC:function(){return Ye},Ib:function(){return Le},Ij:function(){return z},J7:function(){return te},JX:function(){return A},Kp:function(){return st},Kz:function(){return wt},L9:function(){return W},Ll:function(){return jt},Ln:function(){return rt},Lv:function(){return ce},M2:function(){return Xe},Mi:function(){return Ue},N$:function(){return xe},Nc:function(){return lt},O3:function(){return Oe},OH:function(){return ct},OS:function(){return Ge},PW:function(){return ue},Q5:function(){return V},QD:function(){return M},S8:function(){return at},SS:function(){return F},Sc:function(){return bt},Sk:function(){return Ve},TX:function(){return Fe},Tf:function(){return O},Tm:function(){return He},U$:function(){return ot},VA:function(){return $e},VO:function(){return ke},WA:function(){return he},WD:function(){return B},WE:function(){return ye},WI:function(){return Te},Wy:function(){return oe},XX:function(){return N},YI:function(){return Je},Yf:function(){return _e},ZX:function(){return Se},Zn:function(){return tt},Zo:function(){return Re},_v:function(){return Qe},a7:function(){return ht},ah:function(){return De},av:function(){return Q},b1:function(){return et},bS:function(){return Be},bg:function(){return Me},bv:function(){return dt},c2:function(){return yt},c9:function(){return xt},dk:function(){return _},dv:function(){return me},eF:function(){return ee},eb:function(){return fe},eu:function(){return We},fP:function(){return mt},hk:function(){return Ct},iB:function(){return L},jT:function(){return ut},jv:function(){return ze},jy:function(){return J},k$:function(){return pe},kU:function(){return P},l:function(){return gt},mL:function(){return Zt},mo:function(){return le},n$:function(){return I},nX:function(){return T},nt:function(){return pt},oH:function(){return Ee},pC:function(){return Pe},pk:function(){return Ke},pn:function(){return be},rI:function(){return de},rN:function(){return vt},rv:function(){return ve},w3:function(){return St},wc:function(){return ie},we:function(){return $},wo:function(){return Ze},x4:function(){return Ce},xZ:function(){return Ae},xd:function(){return K},ze:function(){return E}});var r,s=n(93433),a=n(37762),i=n(74165),o=n(15861),c=n(1413),l=n(51443),u=n.n(l),d=n(78503),p=n(31881),h=n.n(p),m=n(16031),g=n.n(m),f=n(70816),v=n.n(f),x=(n(31172),n(34395)),S=n.n(x),y=n(18248),b=n(90794),j=n(47439),w=n(11043),Z=n(36410),k=["mp4","m4a","m4v","mkv","f4v","f4a","m4b","m4r","f4b","mov","webm","ogg","oga","ogv","ogx","ogm","avi","3gp","wav"],C=[{plan_code:"StarterAnnualPerUser",name:"Starter Annual"},{plan_code:"StarterMonthlyPerUser",name:"Starter Monthly"},{plan_code:"StarterAnnualLimitedUsePerUser",name:"Starter Annual"},{plan_code:"StarterMonthlyLimitedUsePerUser",name:"Starter Monthly"},{plan_code:"ProfessionalMonthlyPerUser",name:"Professional Monthly"},{plan_code:"ProfessionalAnnualPerUser",name:"Professional Annual"},{plan_code:"ProfessionalMonthlyLimitedUsePerUser",name:"Professional Monthly"},{plan_code:"ProfessionalAnnualLimitedUsePerUser",name:"Professional Annual"},{plan_code:"FreeTrial",name:"Free Trial"},{plan_code:"app_sumo_pictory_tier1",name:"App_sumo_pictory_tier1"},{plan_code:"app_sumo_pictory_tier2",name:"App_sumo_pictory_tier2"},{plan_code:"app_sumo_pictory_tier3",name:"App_sumo_pictory_tier3"},{plan_code:"TeamsMonthly",name:"Teams Monthly"},{plan_code:"TeamsAnnual",name:"Teams Annual"},{plan_code:"TeamsFreeTrial",name:"Teams Free Trial"}],I={gettyVisuals:0,elevenLabs:1,copilot:2},T={freeTrial:0,teamFreeTrail:1,starter:2,professional:3,team:4,appSumo:5},E=[{duration:60,price:"$10/month"},{duration:120,price:"$20/month"},{duration:180,price:"$30/month"},{duration:240,price:"$40/month"},{duration:300,price:"$50/month"}],A=[{duration:60,price:"$8/month"},{duration:120,price:"$16/month"},{duration:180,price:"$24/month"},{duration:240,price:"$32/month"},{duration:300,price:"$40/month"}],_=[{duration:180,price:"$10/month"},{duration:240,price:"$20/month"},{duration:300,price:"$30/month"}],R=[{duration:180,price:"$8/month"},{duration:240,price:"$16/month"},{duration:300,price:"$24/month"}],P=[{duration:300,price:"$10/month"}],N=[{duration:300,price:"$8/month"}],O=[3004,3009,3018],D=0,U=(0,y.Z)(),L={previewRenderMode:"webGL"},F=!1;function V(e,t){if(t&&e&&e.startsWith("data:video"))return"video";if(e){var n=e.split("/").pop();if(n){var r=(n=(n=n.split("?")[0]).split("#t=")[0]).split(".").pop();if(r&&k.some((function(e){return e===r.toLowerCase()})))return"video"}}return"image"}function B(e){for(var t,n=0;n<e.length;n++)if("Custom Intro Scene"!==e[n].sceneId&&"Outro Scene"!==e[n].sceneId){if(void 0===t&&(t=e[n].image),!t&&"video"===V(t))return!1;if(t!==e[n].image)return!1}return!0}function M(e,t){return e&&e.split("?")[0]}function G(){var e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))}function W(){var e="Unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(e="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(e="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(e="Linux"),e}function z(){var e=navigator.userAgent,t=navigator.platform,n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux"),null==n&&(n="Unknown OS"),n}var J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u().getInstance().logEvent(n||"failed-service",(0,c.Z)({"service-name":e,error:t},r))},H=function(e){u().getInstance().setUserProperties(e)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u().getInstance().logEvent(e,t)},q=function(e,t,n,r){var s=b.Z.getItem("backup-save-json"),a=(s=s?JSON.parse(s):{}).email,i=s.project_id,o=s.cognito_id,c="/failed-save-backup.json";"generate"==t&&(s=e,a=n.attributes.email,o=n.username,i=r,c="/failed-generate-backup.json");var l=o+"/project/"+i+c;d.Ke.put(l,JSON.stringify(s),{level:"public",ACL:"public-read"}).then((function(e){u().getInstance().setUserId(a),u().getInstance().setUserProperties({Username:a}),u().getInstance().logEvent(t?"project-generate-failed":"project-save-failed",{"backup-json":w.Z.Instance.GetUserUploadUrl(l,"public")})}))},Y=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r&&null!=r&&null!=r&&""!=r&&t.push(r)}return t},Q=function(e){if(e&&null!=e&&null!=e&&""!=e){for(e=e.replace(/<[^>]*>/g,"").trim();"."===e[e.length-1]||"?"===e[e.length-1];)e=e.slice(0,-1);return e}return e},X=function(e){return e&&e.length?e.replace(/[^0-9a-zA-Z() \-_]+/g,""):""},$=function(e,t){var n=b.Z.getItem("subscription."+(t?e:ne(e))+".details");return n&&null!=n&&!g().isEmpty(n)?JSON.parse(n):null},ee=function(e){var t,n,r,s=$(e);if(null!=s&&null!==(t=s.data)&&void 0!==t&&null!==(n=t.plan)&&void 0!==n&&null!==(r=n.features)&&void 0!==r&&r.video){var a=s.data.plan.features.video;return{audioUploadMaxSize:a.audioUploadMaxSize,imageUploadMaxSize:a.imageUploadMaxSize,videoUploadMaxSize:a.videoUploadMaxSize}}return null},te=function(e){var t=$(e),n=t&&t.plan?t.plan.plan_code:"";return["app_sumo_pictory_tier2"].includes(n)?90:["TeamsMonthly","TeamsAnnual","EnterpriseSubscription","ProfessionalAnnualLimitedUsePerUser","ProfessionalAnnualPerUser","ProfessionalMonthlyLimitedUsePerUser","ProfessionalMonthlyPerUser","app_sumo_pictory_tier3"].includes(n)?180:["StarterAnnualLimitedUsePerUser","StarterMonthlyPerUser","StarterMonthlyLimitedUsePerUser","FreeTrial","app_sumo_pictory_tier1","TeamsFreeTrial"].includes(n)?60:void 0},ne=function(e){var t=e,n=re();return n&&(t=n),t},re=function(){var e=b.Z.getItem("workspace.details");return e&&e!=j.vn?e:null},se=function(e){e?b.Z.setItem("workspace.details",e):b.Z.removeItem("workspace.details")},ae=function(e){var t=$(e);return!(null==t||!t.plan||"ProfessionalMonthlyPerUser"!==t.plan.plan_code&&"ProfessionalAnnualPerUser"!==t.plan.plan_code&&"ProfessionalMonthlyLimitedUsePerUser"!==t.plan.plan_code&&"ProfessionalAnnualLimitedUsePerUser"!==t.plan.plan_code)},ie=function(e){var t=$(e);return!(null==t||!t.plan||"app_sumo_pictory_tier3"!==t.plan.plan_code)},oe=function(e){var t=-1;return e&&(void 0===e.productUsage||null===e.productUsage||""===e.productUsage?t=1:e.productUsage===Z.C[0].answers[2]?void 0!==e.orgSize&&null!==e.orgSize&&""!==e.orgSize||(t=3):e.productUsage===Z.C[0].answers[1]?void 0===e.job||null===e.job||""===e.job?t=2:void 0!==e.orgSize&&null!==e.orgSize&&""!==e.orgSize||(t=3):e.productUsage===Z.C[0].answers[2]&&(void 0!==e.orgSize&&null!==e.orgSize&&""!==e.orgSize||(t=3))),t},ce=function(e){return!0},le=function(e){var t=b.Z.getItem("subscription."+ne(e)+".details");if(t&&null!=t&&!g().isEmpty(t)){var n,r=JSON.parse(t);return"app_sumo_pictory_tier1"===(null==r||null===(n=r.plan)||void 0===n?void 0:n.plan_code)}return!1},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=xe(e);return!(!n||!(n.canUseTemplates&&!t||n.canAuthorTemplates))},de=function(e){try{var t=xe(e);if(t&&t.canUseTextToImages)return!0}catch(e){}return!1},pe=function(e){try{var t=xe(e);if(t&&t.canUseAWSTranscription)return!0}catch(e){}return!1},he=function(e){var t=xe(e),n={canUseTextToImages:!1};return t&&t.canUseTextToImages&&(n.canUseTextToImages=!0),n},me=function(e,t){try{var n=xe(e);if(n&&n[t])return!0}catch(e){}return!1},ge=function(e){var t=$(e);return t&&t.status?"Found":"NotFound"},fe=function(e){var t=$(e);if(!t)return!1;if(!t.status)return!1;if(t.plan&&t.plan.plan_code===j.yj.hibernate)return!1;switch(t.status){case j.yG.live:case j.yG.trial:case j.yG.non_renewing:case j.yG.non_renewing2:return!0;case j.yG.unpaid:case j.yG.expired:case j.yG.canceled:case j.yG.cancelled:case j.yG.trial_expired:default:return!1}},ve=function(e){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+e},xe=function(e){var t=b.Z.getItem("current."+ne(e)+".plan");if(t&&null!=t&&!g().isEmpty(t)){var n=JSON.parse(t);return n&&n.features?(0,c.Z)((0,c.Z)({},n.features.video),n.features.brandsettings):{}}return{}},Se=function(e,t){var n=$(t);if(n){var r=v().utc(new Date).valueOf();r=v()(r).format("YYYY-MM-DD"),r=v()(r,"YYYY-MM-DD");var s=v().utc(n.last_billing_at).valueOf();s=v()(s).format(),s=v()(s).startOf("day");var a=v().duration(r.diff(s)).asDays(),i="months"===n.interval_unit&&"months"===e.interval_unit,o="months"===n.interval_unit&&"years"===e.interval_unit,c="years"===n.interval_unit&&"years"===e.interval_unit,l=n.amount,u=0;return i||o?u=30:c&&(u=365),e.recurring_price/u*(u-a)-(l-l/u*a)}return 0},ye=function(e){var t=C.filter((function(t){if(t.plan_code==e)return t}));return t&&t.length>0?t[0].name:""},be=function(e){return e?e.replace("Pictory-","").replace(" Per User","").replace("Hibernate","Paused subscription").replace(/_/g," "):""},je=function(e){return e?e.replace("Pictory-","").replace(" Per User","").replace("Hibernate","Paused subscription").replace("Standard","Starter").replace("Premium","Professional").replace("- Prorated Charges","").replace(/_/g," "):""},we=function(e){return e?e.replace("Pictory-","").replace(" Per User","").replace("Hibernate","Paused subscription").replace(/_/g," ").replace("Annual","annual").replace("Monthly","monthly").replace("Standard","Starter").replace("Premium","Professional").replace("- Prorated Charges",""):""},Ze=function(e){return e?e.replace("Pictory-","").replace(" Per User","").replace("Hibernate","Paused subscription").replace(/_/g," ").replace("Annual","").replace("Monthly","").replace("annual","").replace("monthly","").replace("Standard","Starter").replace("Premium","Professional").trim():""},ke=function(e){var t=$(e,!0);if(null!==t){if(t=t.data){var n="".concat(t.first_name||""," ").concat(t.last_name?t.last_name:"");return n?n.trim():""}return""}return""},Ce=function(e){var t="",n=$(e,!0);return null!==n&&(n=n.data)&&(t=n.first_name?n.first_name:n.last_name),t?t.trim():""},Ie=function(e){var t=$(e);if(null!==t){if(t=t.data){var n="".concat(t.first_name||""," ").concat(t.last_name||"");return n?n.trim():""}return""}return""},Te=function(e){if(!e)return"";var t="".concat(e.first_name||""," ").concat(e.last_name?e.last_name:"").trim();return t||(t=e.email),t},Ee=function(e){if(!e)return"";var t="".concat(e.memberUserFirstName||""," ").concat(e.memberUserLastName?e.memberUserLastName:"").trim();return t||(t=e.memberUserEmail),t},Ae=function(e){if(!e)return"";var t="".concat(e.adminUserFirstName||""," ").concat(e.adminUserLastName?e.adminUserLastName:"").trim();return t||(t=e.adminUserEmail),t},_e=function(e){if(!e)return"";var t="".concat(e.sharedByFirst_name||""," ").concat(e.sharedByLast_name?e.sharedByLast_name:"").trim();return t||(t=e.sharedByEmail),t},Re=function(e){if(!e)return"";var t="".concat(e.sharedByFirst_name||""," ").concat(e.sharedByLast_name?e.sharedByLast_name:"").trim();return t?t+" ("+e.sharedByEmail+")":e.sharedByEmail},Pe=function(e){var t=$(e);return t&&t.currentQuota&&!1===isNaN(parseFloat(t.currentQuota.transcriptionDurationPerMonth))?parseFloat(t.currentQuota.transcriptionDurationPerMonth):null},Ne=function(e){var t,n=$(e);return(null==n||null===(t=n.currentQuota)||void 0===t?void 0:t.brands)||0},Oe=function(e){var t=$(e);if(t&&t.plan&&t.plan.plan_code){if(j.rJ.includes(t.plan.plan_code.toLowerCase()))return!0;if(t.currentQuota&&void 0!==t.currentQuota.projectsPerMonth&&0===t.currentQuota.projectsPerMonth)return!1}return!0},De=function(e){var t={};if(e.data.plan.plan_code===j.yj.hibernate)return null;t["Quota Videos Used"]=function(e,t){if(e&&t&&t.plan_code){if(j.rJ.includes(t.plan_code.toLowerCase()))return"Unlimited";var n=parseInt(t.features.video.totalProjectsPerMonth)-parseInt(e.currentQuota.projectsPerMonth);return"".concat(n," / ").concat(t.features.video.totalProjectsPerMonth)}return"Not Available"}(e,e.data.plan),t["Quota Trns Hrs Used"]=(n=e,r=e.data.plan,n&&n.currentQuota&&void 0!==n.currentQuota.transcriptionDurationPerMonth&&r&&r.features&&r.features.video&&void 0!==r.features.video.transcriptionTotalDurationPerMonth?"".concat(((r.features.video.transcriptionTotalDurationPerMonth-n.currentQuota.transcriptionDurationPerMonth)/60).toFixed(2).replace(/[.]0+$/,"")," / ").concat((r.features.video.transcriptionTotalDurationPerMonth/60).toFixed(2).replace(/[.]0+$/,"")):"Not Available"),t["Quota Brands Used"]=function(e,t){var n,r,s,a=null==e||null===(n=e.currentQuota)||void 0===n?void 0:n.brands,i=null==t||null===(r=t.features)||void 0===r||null===(s=r.video)||void 0===s?void 0:s.totalBrands,o=parseFloat(i)-parseFloat(a);return void 0===a||void 0===i?"Not Available":"".concat(o," / ").concat(i)}(e,e.data.plan),t["Quota Premium Voiceover"]=function(e){var t,n,r="",s="Not available";if(e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.currentQuota)&&void 0!==n&&n.textToSpeechDurationPerMonth){var a=(r=e.data.currentQuota.textToSpeechDurationPerMonth)>=0?r:0,i=parseInt(a/60),o=parseInt(a%60);s=0!=o?i+"m "+o+"s":i+" mins"}return s}(e);var n,r,s=re();return t["Quota Team Users"]=s?function(e,t){var n,r,s,a=null==e||null===(n=e.currentQuota)||void 0===n?void 0:n.totalUsers,i=null==t||null===(r=t.features)||void 0===r||null===(s=r.teams)||void 0===s?void 0:s.totalUsers,o=parseInt(i)-parseInt(a);return void 0===a||void 0===i?"Not Available":"".concat(o," / ").concat(i)}(e,e.data.plan):null,t},Ue=function(e,t){var n="months"===e.interval_unit&&"months"===t.interval_unit,r="months"===e.interval_unit&&"years"===t.interval_unit,s="years"===e.interval_unit&&"years"===t.interval_unit,a="years"===e.interval_unit&&"months"===t.interval_unit;return n?"month-month":r?"month-year":s?"year-year":a?"year-month":"free-"+t.interval_unit},Le=function(e){var t=$(e);if(t&&t.data){var n=t.data;return!(!n||!n.customer_type)&&"enterprise"===n.customer_type}return!1},Fe=function(e){var t=document.querySelectorAll("#"+e);if(1!==t.length){var n=t[1];n.parentNode.removeChild(n)}},Ve=function(e){return"sixteen-nine"==e?"horizontal":"nine-sixteen"===e?"vertical":"one-one"===e?"square":"horizontal"},Be=function(e){return e.length?e.map((function(e,t){if(e.source&&""!=e.source)return e;var n=e.articleUrl,r=e.isVisualsToVideo;return e.source=n&&""!=n?"url":r?"visuals":"script",e})):e},Me=function(){return null!==b.Z.getItem("voiceOverTrackId")&&""!==b.Z.getItem("voiceOverTrackId")},Ge=function(){return Me()?b.Z.getItem("voiceOverTrackId"):0};function We(e){return ze(e)?e.split("#t=")[0]:e}function ze(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}var Je=function(e){return!(!e||void 0===e||"null"==typeof e||""==e.trim())},He=function(e){var t=e.type;return e.size,j.tP.videoLong.includes(t)},Ke=function(e){var t=e.type;return e.size,j.tP.audio.includes(t)},qe=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,r=t.split("/").pop().split("?")[0],s=t.substr(0,t.lastIndexOf("/")),a=r.substr(0,r.lastIndexOf(".")),o=r.split(".").pop(),c="".concat(a,"_480p.").concat(o),l="".concat(s,"/").concat(c),e.prev=7,e.next=10,h().head(l);case 10:if(!(u=e.sent).headers["content-length"]){e.next=15;break}if(!((n=parseInt(u.headers["content-length"]))>0)){e.next=15;break}return e.abrupt("return",{contentLength:n,videoUrl:l});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,s,o,c,l,u,d,p,m,g,f,v,x,S,y,b;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=[],!(n>(r=5242880))){e.next=33;break}o=0,c=[];case 6:if(!(n>0)){e.next=23;break}if(l=r*o,u=r*(o+1)-1,o+=1,(n-=r)<r&&(u+=n,n=0),d={Range:"bytes=".concat(l,"-").concat(u)},c.push(h().get(t,{headers:d,responseType:"arraybuffer"})),4!==c.length){e.next=21;break}return e.next=17,Promise.all(c);case 17:p=e.sent,m=(0,a.Z)(p);try{for(m.s();!(g=m.n()).done;)f=g.value,s.push(f.data)}catch(e){m.e(e)}finally{m.f()}c=[];case 21:e.next=6;break;case 23:if(!(c.length>0)){e.next=30;break}return e.next=26,Promise.all(c);case 26:v=e.sent,x=(0,a.Z)(v);try{for(x.s();!(S=x.n()).done;)y=S.value,s.push(y.data)}catch(e){x.e(e)}finally{x.f()}c=[];case 30:if(!(s.length>0)){e.next=33;break}return b=new Blob(s),e.abrupt("return",b);case 33:e.next=37;break;case 35:e.prev=35,e.t0=e.catch(0);case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){var t=e.condition,n=e.wrapper,r=e.children;return t?n(r):r},$e=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},et=function(e){var t,n=$(e),r=(null==n||null===(t=n.plan)||void 0===t?void 0:t.plan_code)||"";return r===j.yj.freeTrial||r===j.yj.teamsFreeTrial};function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t instanceof Blob)){e.next=8;break}return e.next=4,new Response(t).text();case 4:return n=e.sent,e.abrupt("return",n);case 8:if(!(t instanceof String)){e.next=10;break}return e.abrupt("return",t);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.abrupt("return","");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var rt=function(e){return e&&"string"==typeof e&&e.replace?e.replace(/\s/g,""):e},st=function(e){if(void 0!==e.deprecated&&(e.deprecated=!1),e.library&&"shutter_stock"===e.library)return e.deprecated=!0,!0;if(e.url){var t=new(S())(e.url);if(t.pathname){var n=t.pathname.toLowerCase().split("/");if(n.length>0){var r=n.indexOf("shutterstock");if(r>-1){var s=r+2;if(s<n.length&&"videos"===n[s-1]){var a=n[s];if(!1===isNaN(parseInt(a)))return e.deprecated=!0,!0}}}}}return!1},at=function(e){if(!e)return{};for(var t={},n=0;n<j.ye.length;n++)t[j.ye[n]]=e[j.ye[n]];return t},it=function(e){if(e){var t=e.split(",");if(!(t.length<3))return(299*t[0].match(/\d+/)+587*t[1].match(/\d+/)+114*t[2].match(/\d+/))/1e3}},ot=function(e){return"one-one"===e?Math.sqrt(9/16):"nine-sixteen"===e?9/16:1},ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e||(e={project_id:"ROOT",projectName:"Move",children:[]});var n={Root:e};if(t.length<=0)return e;for(var r=t[0].pathValue.split("/").filter(Boolean),a=n.Root,i=function(e){var t=a.children.findIndex((function(t){return t.project_id==r[e]}));a=a.children[t]},o=0;o<r.length;o++)i(o);return a.children=(0,s.Z)(t),(0,c.Z)({},n.Root)},lt=function(e){if(e){var t=e.split(".");return"stipop"===t[1]?"sticker":"giphy"===t[1]?"gif":"net/npm/@svgmoji/twemoji@2"===t[2]||"https://twemoji"===t[0]?"emoji":"visual"}},ut=function(e){for(var t=0,n=0;n<(null==e?void 0:e.length);n++){var r=e[n],s=r.end,a=r.start;s!=a&&(t+=s-a)}return t},dt=function(e){return!e||j.oc.findIndex((function(t){return t===e}))>-1},pt=function(e){var t,n,r;return e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=e[2],r=e[3]):(t=(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")))>>16,n=e>>8&255,r=255&e),Math.sqrt(t*t*.299+n*n*.587+r*r*.114)>127.5?"light":"dark"},ht=function(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"rgba(".concat(parseInt(n[1],16),",").concat(parseInt(n[2],16),",").concat(parseInt(n[3],16),",").concat(t,")"):null},mt=function(e){if("string"==typeof e&&0==e.indexOf("#"))return e;var t=e.rgb;return"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")},gt=function(e){if(e){var t=e.split(/[,()]/);if(t[1]&&t[2]&&t[3])return t[4]||(t[4]=1),{r:t[1].trim(),g:t[2].trim(),b:t[3].trim(),a:t[4].trim()}}},ft=function(e){var t=gt(e);return"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,", 1)")},vt=function(e){var t=gt(e);if(t)return"rgba(".concat(255-parseInt(t.r),",").concat(255-parseInt(t.g),",").concat(255-parseInt(t.b),",").concat(t.a,")")},xt=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=.08;F=!1;var o=Math.ceil(e.length*i*2)/2;return r>100?o/=r/100:r<100&&(o+=o*(r/100)),o<1&&(o=1),s&&(null==a?void 0:a.length)>0&&a.indexOf(s)>=0?o>t[n]&&(F=!0,t[n]=o):(F=!0,t[n]=o),t},St=function(e,t){var n,r,s,a,i=0,o=0,c=0;t||(t=$(e)),t&&null!==(n=t.data)&&void 0!==n&&null!==(r=n.featureUsage)&&void 0!==r&&r.textToSpeechDuration&&(c=t.data.featureUsage.textToSpeechDuration,i=t.currentQuota.textToSpeechDurationPerMonth,s=t.currentQuota.monthlyResetDate),s&&(o=function(e){var t=v()(e,"YYYY-MM-DD"),n=v()().startOf("day"),r=t.date(),s=n.date(),a=v().duration(t.diff(n)).asDays();if(a>0)a=r-s;else if(a<0){t.date(),n.month,n.year;var i=v()(t).add(1,"months");a=v().duration(i.diff(n)).asDays()}return a}(s));var l=0;if(0!=c){l=i>=0?i:0,parseInt(l);var u=parseInt(l/60),d=parseInt(l%60);0!=d?(a=u+"m "+d+"s",l=60*u+d):(a=u+" mins",l=60*u)}else{var p,h;l=null===(p=t)||void 0===p||null===(h=p.currentQuota)||void 0===h?void 0:h.textToSpeechDurationPerMonth;var m=parseInt(l/60),g=parseInt(l%60);0!=g?(a=m+"m "+g+"s",l=60*m+g):(a=m+" mins",l=60*m)}return{textToSpeechDurationValue:parseInt(0!=l?l/60:0),daysRemainingTillResetDate:o,textToSpeechDuration:a}},yt=function(e){var t,n,r,s,a=$(e);return null!=a&&null!==(t=a.data)&&void 0!==t&&null!==(n=t.plan)&&void 0!==n&&null!==(r=n.features)&&void 0!==r&&null!==(s=r.video)&&void 0!==s&&s.totalTextToSpeechDurationPerMonth,!1},bt=function(e){var t,n,r,s,a,i,o=$(e),c=(null==o||null===(t=o.plan)||void 0===t?void 0:t.plan_code)||"";return null==o||null===(n=o.plan)||void 0===n||n.name,Ct(c)===T.freeTrial||Ct(c)===T.teamFreeTrail||!(null!=o&&null!==(r=o.data)&&void 0!==r&&null!==(s=r.plan)&&void 0!==s&&null!==(a=s.features)&&void 0!==a&&null!==(i=a.video)&&void 0!==i&&i.totalTextToSpeechDurationPerMonth)},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(D=0,clearInterval(r),r=null):D=e},wt=function(e,t){r=setInterval((function(){e>D||D++,t&&t(D),D>=99&&(clearInterval(r),t&&t(D),r=null,D=0)}),1e3)},Zt=function(){return!(window.location&&window.location.hostname&&window.location.hostname.startsWith("app"))},kt=function(e){if(e)return new Date(e).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZoneName:"short"})},Ct=function(e){return["FreeTrial"].includes(e)?T.freeTrial:["TeamsFreeTrial"].includes(e)?T.teamFreeTrail:["ProfessionalAnnualLimitedUsePerUser","ProfessionalAnnualPerUser","ProfessionalMonthlyLimitedUsePerUser","ProfessionalMonthlyPerUser"].includes(e)?T.professional:["StarterAnnualLimitedUsePerUser","StarterMonthlyPerUser","StarterMonthlyLimitedUsePerUser"].includes(e)?T.starter:["TeamsMonthly","TeamsAnnual"].includes(e)?T.team:["app_sumo_pictory_tier1","app_sumo_pictory_tier2","app_sumo_pictory_tier3"].includes(e)?T.appSumo:void 0}},76045:function(e,t,n){"use strict";n.d(t,{h:function(){return s},m:function(){return a}});var r=n(91104),s={permittedWithCrown:0,permittedWithoutCrown:1,prohibited:2},a=function(e,t,n){var a,i,o,c,l=(0,r.we)(n),u=!1;return n&&(u=null==l||null===(a=l.data)||void 0===a||null===(i=a.plan)||void 0===i||null===(o=i.features)||void 0===o||null===(c=o.video)||void 0===c?void 0:c.gettyVisuals),["TeamsMonthly","TeamsAnnual","EnterpriseSubscription","ProfessionalAnnualLimitedUsePerUser","ProfessionalAnnualPerUser","ProfessionalMonthlyLimitedUsePerUser","ProfessionalMonthlyPerUser","TeamsFreeTrial"].includes(e)||t||u&&["StarterAnnualLimitedUsePerUser","StarterMonthlyPerUser","StarterMonthlyLimitedUsePerUser","app_sumo_pictory_tier1","app_sumo_pictory_tier2","app_sumo_pictory_tier3"].includes(e)?s.permittedWithoutCrown:["StarterAnnualLimitedUsePerUser","StarterMonthlyPerUser","StarterMonthlyLimitedUsePerUser","app_sumo_pictory_tier1","app_sumo_pictory_tier2","app_sumo_pictory_tier3"].includes(e)&&!u?s.prohibited:["FreeTrial"].includes(e)?s.permittedWithCrown:void 0}},89956:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(74165),s=n(15861),a=n(40009),i=n(91104),o=(n(96161),n(78896)),c=(n(1084),n(65526)),l=o.Z.setSessionExpired,u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=10,s=null;case 3:if(!(t<n)){e.next=19;break}return e.prev=4,e.next=7,a.g.currentSession();case 7:return o=e.sent,e.abrupt("return",{session:o});case 11:e.prev=11,e.t0=e.catch(4),s=e.t0;case 14:return t++,e.next=17,(0,i._v)(1e3*t);case 17:e.next=3;break;case 19:if(!s){e.next=23;break}throw(0,i.jy)("refresh-session",s.message,"failed-service",{retry:t}),c.h.dispatch(l()),s;case 23:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},96161:function(e,t,n){"use strict";n.d(t,{JQ:function(){return c},V7:function(){return l},s$:function(){return o},uV:function(){return u},x2:function(){return i}}),n(47313);var r=n(8512),s=n(47439),a=n(46417),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};r.Am.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:t})},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};r.Am.success(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:t})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};r.Am.info(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:t})},l=function(e,t){r.Am.error(e,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!1,progress:void 0,onClick:t});var n=document.getElementsByClassName("Toastify");n&&n[0]&&(n[0].style.height="100vh",n[0].style.zIndex=1e3)},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n||!t||d(t)){var i=function(){return(0,a.jsx)("div",{children:e})},o=function(){return(0,a.jsx)(s.s1,{})};r.Am.info(i,{className:"toast-notification-banner",bodyClassName:"toast-notification-box",position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,closeButton:o,delay:2e3,toastId:"info-toast"})}},d=function(e){return!sessionStorage.getItem(e)&&(sessionStorage.setItem(e,1),!0)}},20140:function(e,t,n){"use strict";n.d(t,{VB:function(){return c},o9:function(){return u},xx:function(){return l}});var r=n(74165),s=n(15861),a=n(40009),i=n(91104),o=n(42599),c=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,c,l,d,p,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,e.prev=1,e.next=4,a.g.currentAuthenticatedUser();case 4:s=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(!s){e.next=36;break}if(c=(0,i.we)(s.username,t)){e.next=25;break}return l=o.Z.subscriptionBaseURL,!1===t&&(d=(0,i.E3)())&&(l=o.Z.teamSubscriptionBaseURL.format(d)),e.prev=14,e.next=17,n.get(l);case 17:p=e.sent,c=p.data,e.next=23;break;case 21:e.prev=21,e.t1=e.catch(14);case 23:e.next=26;break;case 25:c=c.data;case 26:if(!c){e.next=30;break}return e.abrupt("return","chargebee"===c.organization_id?"v2":"v1");case 30:return e.next=32,u("custom:customer_version");case 32:return h=e.sent,e.abrupt("return",h||"v1");case 34:e.next=37;break;case 36:case 37:return e.abrupt("return","v1");case 38:case"end":return e.stop()}}),e,null,[[1,7],[14,21]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.username||t.username.startsWith("Google")||!t.attributes){e.next=6;break}return e.next=3,a.g.userAttributes(t);case 3:return(n=e.sent)&&n.length>0&&(s=n.find((function(e){return"email_verified"===e.Name})))&&(t.attributes.email_verified="true"===s.Value),e.abrupt("return",t.attributes.email_verified);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.g.currentAuthenticatedUser();case 3:if(!(n=e.sent)){e.next=13;break}return e.next=7,a.g.userAttributes(n);case 7:if(!((s=e.sent)&&s.length>0)){e.next=13;break}if(!(i=s.find((function(e){return e.Name===t})))){e.next=13;break}return n.attributes[t]=i.Value,e.abrupt("return",i.Value);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},51230:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?3:n,a=t.ScalingFactor,i=void 0===a?1.02:a,o=t.ease,c=void 0===o?"linear":o,l=e.height;e.scale.x=e.scale.x*i,e.scale.y=e.scale.y*i;var u=e.y;return r.p8.to(e,{pixi:{y:l-e.height+u},duration:s,ease:c,paused:!0})}}},91643:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?3:n,a=t.ScalingFactor,i=void 0===a?1.02:a,o=t.ease,c=void 0===o?"linear":o,l=e.width;e.scale.x=e.scale.x*i,e.scale.y=e.scale.y*i;var u=e.x;return e.x=l-e.width+u,r.p8.to(e,{pixi:{x:u},duration:s,ease:c,paused:!0})}}},12802:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?3:n,a=t.ScalingFactor,i=void 0===a?1.02:a,o=t.ease,c=void 0===o?"linear":o,l=e.width;e.scale.x=e.scale.x*i,e.scale.y=e.scale.y*i;var u=e.x;return r.p8.to(e,{pixi:{x:l-e.width+u},duration:s,ease:c,paused:!0})}}},25364:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?3:n,a=t.ScalingFactor,i=void 0===a?1.02:a,o=t.ease,c=void 0===o?"linear":o,l=e.height;e.scale.x=e.scale.x*i,e.scale.y=e.scale.y*i;var u=e.y;return e.y=l-e.height+u,r.p8.to(e,{pixi:{y:u},duration:s,ease:c,paused:!0})}}},90456:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?3:n,a=(t.ScalingFactor,t.ease),i=void 0===a?"linear":a,o=1.15*e.height,c=1.15*e.width,l=e.width-c,u=e.height-o;return r.p8.to(e,{pixi:{height:o,width:c,x:l,y:u},duration:s,ease:i,paused:!0})}}},12622:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?.5:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasHeight,t.canvasWidth,t.index),c=(t.totalLines,t.isBackground),l=t.isMask,u=t.Textsprite,d=t.SubSceneContainer,p=t.isTemplate;if(c){l&&(d.addChild(e),u.mask=e);var h=e.width,m=e.x;e.width=0;var g=0;return p&&(g=o*(s*i)),e.x=m+h/2-e.width,r.p8.to(e,{pixi:{x:m,width:h},duration:i,ease:"slow(0.7, 0.7, false)",delay:g,paused:!0})}var f=e.alpha;e.alpha=0;var v=e.y;e.y=e.y+20;var x=0;return p&&o&&(x=o*(s*i)),r.p8.to(e,{pixi:{y:v,alpha:f},duration:s*i,ease:"slow(0.3, 0.7, false)",delay:x,paused:!0})}}},96880:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?.5:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasHeight,t.canvasWidth,t.index),c=(t.totalLines,t.isBackground),l=t.isMask,u=t.Textsprite,d=t.SubSceneContainer,p=t.isTemplate;if(c){l&&(d.addChild(e),u.mask=e);var h=e.width;e.width=0;var m=0;return p&&(m=o*(s*i)),r.p8.to(e,{pixi:{width:h},duration:i,ease:"slow(0.7, 0.7, false)",delay:m,paused:!0})}var g=e.alpha;e.alpha=0;var f=e.y;e.y=e.y+20;var v=0;return p&&o&&(v=o*(s*i)),r.p8.to(e,{pixi:{y:f,alpha:g},duration:s*i,ease:"slow(0.3, 0.7, false)",delay:v,paused:!0})}}},17543:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?.5:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasHeight,t.canvasWidth,t.index),c=(t.totalLines,t.isBackground),l=t.isMask,u=t.Textsprite,d=t.SubSceneContainer,p=t.isTemplate;if(c){l&&(d.addChild(e),u.mask=e);var h=e.width,m=e.x;e.width=0,e.x=m+h;var g=0;return p&&(g=o*(s*i)),r.p8.to(e,{pixi:{x:m,width:h},duration:i,ease:"slow(0.7, 0.7, false)",delay:g,paused:!0})}var f=e.alpha;e.alpha=0;var v=e.y;e.y=e.y+20;var x=0;return p&&o&&(x=o*(s*i)),r.p8.to(e,{pixi:{y:v,alpha:f},duration:s*i,ease:"slow(0.3, 0.7, false)",delay:x,paused:!0})}}},25444:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasWidth,t.isBackground),c=t.index,l=t.isMask,u=t.Textsprite,d=t.SubSceneContainer,p=t.textLength,h=t.isTemplate,m=t.entrySpeedArray;if(o){l&&(d.addChild(e),u.mask=e);var g=e.width;e.width=1e-4;var f=0;if(h&&c&&m&&m.length>0)for(var v=0;v<c;v++)f+=m[v];else h&&c&&(f=c*(s*i));return r.p8.to(e,{width:g,duration:s*i,ease:"steps("+p+")",delay:f,paused:!0})}return null}}},38881:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a;if(t.ease,t.index,t.istemplate,e.text){var o={sprite:e,totalDuration:s*i,finalCount:e.text};e.text=0;var c=r.p8.to(e,{duration:s*i,ease:"slow(0.3, 0.7, false)",paused:!0,onUpdate:function(e){var t=this.ratio;t>.9&&(t=1);var n=parseInt(parseInt(e.finalCount)*this.ratio);e.sprite.text=n},onUpdateParams:[o]});return c}return r.p8.to(e,{duration:s*i,ease:"power3.out",paused:!0})}}},79206:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){return t.duration,t.speed,t.ease,t.canvasWidth,r.p8.to(e,1,{pixi:{}})}}},18047:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.canvasWidth,l=t.istemplate,u=e.x,d=e.y;e.x=c+e.x,e.y=e.y+300;var p=0;return l&&o&&(p=o*(s*i)),r.p8.to(e,{x:u,y:d,duration:s*i,ease:"elastic.out(0.6, 0.3)",delay:p,paused:!0})}}},23591:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.canvasWidth,l=t.istemplate,u=e.x,d=e.y;e.x=-(c-e.x),e.y=e.y+300;var p=0;return l&&o&&(p=o*(s*i)),r.p8.to(e,{x:u,y:d,duration:s*i,ease:"elastic.out(0.6, 0.3)",delay:p,paused:!0})}}},58053:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.canvasWidth,l=t.istemplate,u=e.x,d=e.y;e.x=c+e.x,e.y=e.y-300;var p=0;return l&&o&&(p=o*(s*i)),r.p8.to(e,{x:u,y:d,duration:s*i,ease:"elastic.out(0.6, 0.3)",delay:p,paused:!0})}}},39651:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasWidth),c=t.index,l=t.istemplate,u=e.x,d=e.y;e.x=-(o-e.x),e.y=e.y-300;var p=0;return l&&c&&(p=c*(s*i)),r.p8.to(e,{x:u,y:d,duration:s*i,ease:"elastic.out(0.6, 0.3)",delay:p,paused:!0})}}},4649:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?.5:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasHeight,t.canvasWidth,t.index),c=(t.totalLines,t.istemplate),l=e.width,u=e.x;e.width=.05*e.width,e.x=u+l/2-e.width;var d=0;return c&&o&&o>0&&(d=o*(s*i)),r.p8.to(e,{pixi:{x:u,width:l},duration:i,ease:"slow(0.7, 0.7, false)",paused:!0,delay:d})}}},135:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?.5:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasHeight),c=t.canvasWidth,l=t.index,u=t.totalLines,d=t.istemplate;if(u){var p=e.height,h=e.width,m=u*e.height/2,g=e.y-l*p,f=e.x,v=e.y;e.scale.x=0,e.scale.y=0,e.x=f+h/2,e.y=g+m;var x=0;return d&&l&&l>0&&(x=l*(s*i)),r.p8.to(e,{pixi:{scale:1,x:f,y:v},duration:i,ease:"power3.out",paused:!0,delay:x})}p=e.height,h=e.width,f=e.x,v=e.y,e.width=0,e.height=0,e.x=c/2,e.y=o/2;var S=0;return d&&l&&l>0&&(S=l*(s*i)),r.p8.to(e,{pixi:{x:f,y:v,width:h,height:p},duration:i,ease:"power3.out",paused:!0,delay:S})}}},17865:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.istemplate,l=e.alpha;e.alpha=0;var u=e.y;e.y=e.y-20;var d=0;return c&&o&&(d=o*(s*i)),r.p8.to(e,{pixi:{y:u,alpha:l},duration:s*i,ease:"slow(0.3, 0.7, false)",delay:d,paused:!0})}}},56156:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.istemplate,l=e.alpha;e.alpha=0;var u=e.x;e.x=e.x+30;var d=0;return c&&o&&(d=o*(s*i)),r.p8.to(e,{pixi:{x:u,alpha:l},duration:s*i,ease:"slow(0.3, 0.7, false)",delay:d,paused:!0})}}},65978:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.istemplate,l=e.alpha;e.alpha=0;var u=e.x;e.x=e.x-30;var d=0;return c&&o&&(d=o*(s*i)),r.p8.to(e,{pixi:{x:u,alpha:l},duration:s*i,ease:"slow(0.3, 0.7, false)",paused:!0,delay:d})}}},6485:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.istemplate,l=e.alpha;e.alpha=0;var u=e.y;e.y=e.y+20;var d=0;return c&&o&&(d=o*(s*i)),r.p8.to(e,{pixi:{y:u,alpha:l},duration:s*i,ease:"slow(0.3, 0.7, false)",paused:!0,delay:d})}}},86812:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.istemplate,l=e.alpha;e.alpha=0;var u=0;return c&&o&&(u=o*(s*i)),r.p8.to(e,{alpha:l,duration:s*i,ease:"power3.out",paused:!0,delay:u})}}},63064:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.delayValue),c=(t.index,t.SpriteFinalY+30);return r.p8.to(e,{pixi:{y:c,alpha:0},duration:s*i,delay:o,ease:"slow(0.3, 0.7, false)",paused:!0})}}},12891:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.delayValue),c=(t.index,t.SpriteFinalX-60);return r.p8.to(e,{pixi:{x:c,alpha:0},duration:s*i,delay:o,ease:"slow(0.3, 0.7, false)",paused:!0})}}},42984:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.delayValue),c=(t.index,t.SpriteFinalX+60);return r.p8.to(e,{pixi:{x:c,alpha:0},duration:s*i,delay:o,ease:"slow(0.3, 0.7, false)",paused:!0})}}},28211:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.delayValue),c=(t.index,t.SpriteFinalY-30);return r.p8.to(e,{pixi:{y:c,alpha:0},duration:s*i,delay:o,ease:"slow(0.3, 0.7, false)",paused:!0})}}},96834:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.delayValue);return r.p8.to(e,{pixi:{alpha:0},duration:s*i,delay:o,ease:"slow(0.3, 0.7, false)",paused:!0})}}},99516:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.index),c=t.istemplate,l=e.alpha;e.alpha=0;var u=0;return c&&o&&(u=o*(s*i)),r.p8.to(e,{alpha:l,duration:s*i,ease:"power3.out",paused:!0,delay:u})}}},65589:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.delayValue);return r.p8.to(e,{pixi:{alpha:0},duration:s*i,delay:o,ease:"slow(0.3, 0.7, false)",paused:!0})}}},164:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasWidth),c=t.istemplate,l=t.index,u=e.x;e.x=-(o-e.x);var d=0;return c&&l&&(d=l*(s*i)),r.p8.to(e,{x:u,duration:s*i,ease:"power3.out",paused:!0,delay:d})}}},14179:function(e,t,n){"use strict";n.r(t);var r=n(83589);t.default={Animate:function(e,t){var n=t.duration,s=void 0===n?1:n,a=t.speed,i=void 0===a?1:a,o=(t.ease,t.canvasWidth),c=t.istemplate,l=t.index,u=e.x;e.x=o+500;var d=0;return c&&l&&(d=l*(s*i)),r.p8.to(e,{x:u,duration:s*i,ease:"power3.out",paused:!0,delay:d})}}},51577:function(e,t,n){"use strict";n.d(t,{Z:function(){return we}});var r=n(37762),s=n(74165),a=n(15861),i=n(15671),o=n(43144),c=n(97326),l=n(60136),u=n(29388),d=n(31881),p=n.n(d),h=n(83589),m=n(25318),g=n(16031),f=n(70816),v=n.n(f),x=n(20485),S=n(47313),y=n(24873),b=n(42669),j=n(80699),w=n(605),Z=n(32410),k=n(22950),C=(n(32793),{});function I(e,t){C[e]=t}function T(e){return C[e]}var E={Load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;if(!T(n)){if(n.toLowerCase().startsWith("http")){var r=new URL(n);r.searchParams.append("source","preview"),n=r.toString()}var s=new Audio(n);s.volume=t,s.crossOrigin="anonymous",I(e,s)}},AddToCache:I,GetFromCache:T,clearCache:function(){C={}}},A={};function _(e,t){A[e]=t}function R(e){return A[e]}for(var P={Load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e;if(!R(n)){if(n.toLowerCase().startsWith("http")){var r=new URL(n);r.searchParams.append("source","preview"),n=r.toString()}var s=new Audio(n);s.volume=t,s.loop=!0,s.crossOrigin="anonymous",_(e,s)}},AddToCache:_,GetFromCache:R,clearCache:function(){A={}}},N={},O=n(12876),D=0;D<O.keys().length;D++){var U=O.keys()[D];if(U.startsWith("./")){var L=(U=U.substring(2,U.length)).split("/")[1];N[L.substring(0,L.length-3)]=n(9624)("./"+U).default}}var F=N,V=function(e){return e.includes("pictory-images.s3.us-east-2.amazonaws.com")||e.includes("pictory-videos.s3.us-east-2.amazonaws.com")||e.includes("brand-settings-images130431-pictory")||e.includes("brand-settings-images74751-pictorydev")||e.includes("dkw8gemxc9npb.cloudfront.net")||e.includes("pictory-static.pictorycontent.com")},B={},M=function(e,t){B[e]=t},G=function(e){return B[e]};function W(e){return e.asset_id?e.start?e.asset_id+e.start:e.asset_id:(e.start?e.url+e.start:e.url)+(e.resource_id?e.resource_id:"")}n(23710);var z=function(e,t,n,r){var s="",a="";if(e.url&&e.url.startsWith("data:image"))s=W(e),a=e.url;else if(e.url?(s=W(e),a=e.url):(s=e,a=e),!t||V(a)||n){if(a.toLowerCase().startsWith("http")){var i=new URL(a);n||i.searchParams.append("source","preview"),a=i.toString()}}else{var o=encodeURIComponent(a);a="".concat(t.mediaResourcesURL,'/proxy-resources?url="').concat(o,'"')}if(n){if(!G(r?a+r:a)){var c=new URL(a);c.search="";var l=c.toString();x.Assets.load(l).then((function(e){if(r)if(e)M(a+r,e.clone());else{var t=x.Texture.from(l);M(a+r,t.clone())}else M(a,e.clone())})).catch((function(e){console.log(e)}))}}else if(!x.utils.TextureCache[s]){var u=x.Texture.from(a);u.isLoadError=!1,u.baseTexture.onError=function(){var t=x.Texture.from(e.url?e.url:e);t.isLoadError=!1,x.Texture.removeFromCache(s),x.Texture.addToCache(t,s),t.baseTexture.onError=function(){var e=new x.Texture(new x.BaseTexture);e.isLoadError=!0,x.Texture.removeFromCache(s),x.Texture.addToCache(e,s)}},x.Texture.removeFromCache(s),x.Texture.addToCache(u,s)}},J=function(e){var t=x.utils.TextureCache[W(e)];return!(!t||!t.valid)},H=function(e){return e.url?x.utils.TextureCache[W(e)]:x.utils.TextureCache[e]},K=function(e){var t;t=e.url?W(e):e,x.Texture.removeFromCache(t)};function q(e,t,n,r,s){if(e){var a=e.indexOf("<strong>");if(-1!==a){""!=(h=e.substr(0,a))&&((m=Y(t,h,n,!1)).x=s,m.zIndex=2,r.addChild(m));var i=e.indexOf("</strong>"),o=e.substr(a+8,i-(a+8));if(-1!==o.indexOf("<strong>")){var c=e.substr(a+8,e.length),l=c.indexOf("</strong>");i=(c.substr(0,l).replace("<strong>","")+c.substr(l+9,c.length)).indexOf("</strong>")+25,o=e.substr(a+8,i-8).replace("<strong>","").replace("</strong>",""),i+=a}var u=e.substr(i+9,e.length);u&&u.length>0&&""!=u&&u.startsWith(" ")&&(o.endsWith(" ")||(o+=" "),u=e.substr(i+10,e.length));var d=Y(t,o,n,!0),p=0;m&&m.width&&(p=m.width),d.x=s+p,d.zIndex=2,r.addChild(d),q(u,t,n,r,s+p+d.width)}else{var h,m;(m=Y(t,(h=e).endsWith(" ")?h:h+" ",n,!1)).x=s,m.zIndex=2,r.addChild(m)}}}function Y(e,t,n,r){var s,a;s=t,(a=document.createElement("DIV")).innerHTML=s,t=a.textContent||a.innerText||"";var i=new x.Text(t);if(i.style.fontSize=1.33*parseFloat(n.font.size)*e.currentScaleY+"px",n.font.name){var o=n.font.name;o.includes(".ttf")&&(o=o.replace(".ttf",""));var c=function(e){var t={};return"Arial-Bold"===e?(t.fontFamily="Arial",t.fontWeight="bold"):"Arial"===e?t.fontFamily="Arial":"Calibri-Bold"===e?(t.fontFamily="Calibri",t.fontWeight="bold"):"Calibri"===e?t.fontFamily="Calibri":"Helvetica"===e||"Helvetica-Regular"===e?(t.fontFamily="Helvetica",t.fontWeight="normal"):"HelveticaNeue-Medium"===e?(t.fontFamily="Helvetica Neue",t.fontWeight="bold"):"Lato-Bold"===e?(t.fontFamily="Lato",t.fontWeight="bold"):"Lato-Black"===e?(t.fontFamily="Lato",t.fontWeight="900"):"Merriweather-Bold"===e?(t.fontFamily="Merriweather",t.fontWeight="bold"):"Montserrat-Bold"===e?(t.fontFamily="Montserrat",t.fontWeight="bold"):"Montserrat-ExtraBold"===e?(t.fontFamily="Montserrat",t.fontWeight="900"):"NotoSans"===e?t.fontFamily="Noto Sans":"NotoSans-Bold"===e?(t.fontFamily="Noto Sans",t.fontWeight="bold"):"OpenSans"===e?t.fontFamily="Open Sans":"OpenSans-Bold"===e?(t.fontFamily="Open Sans",t.fontWeight="bold"):"Poppins-Bold"===e?(t.fontFamily="Poppins",t.fontWeight="bold"):"Poppins-ExtraBold"===e?(t.fontFamily="Poppins",t.fontWeight="900"):"Quicksand"===e?t.fontFamily="Quicksand":"Quicksand-Bold"===e?(t.fontFamily="Quicksand",t.fontWeight="bold"):"Roboto"===e?t.fontFamily="Roboto":"Roboto-Bold"===e?(t.fontFamily="Roboto",t.fontWeight="bold"):"Rokkitt"===e?t.fontFamily="Rokkitt":"Rokkitt-Bold"===e?(t.fontFamily="Rokkitt",t.fontWeight="bold"):"SourceSansPro"===e?t.fontFamily="Source Sans Pro":"SourceSansPro-Bold"===e?(t.fontFamily="Source Sans Pro",t.fontWeight="bold"):"Ubuntu"===e?t.fontFamily="Ubuntu":"Ubuntu-Bold"===e?(t.fontFamily="Ubuntu",t.fontWeight="bold"):"ProximaNova"===e?(t.fontFamily="ProximaNova",t.fontWeight="normal"):"Moondance"===e?(t.fontFamily="Moon dance",t.fontWeight="normal"):"AveriaLibre"===e?(t.fontFamily="Averia Libre",t.fontWeight="normal"):"CourierPrime"===e?(t.fontFamily="Courier Prime",t.fontWeight="normal"):"Grandstander"===e?(t.fontFamily="Grandstander",t.fontWeight="normal"):"JosefinSans"===e?(t.fontFamily="Josefin Sans",t.fontWeight="normal"):"Spacemono"===e?(t.fontFamily="Space mono",t.fontWeight="normal"):"Rowdies"===e?(t.fontFamily="Rowdies",t.fontWeight="normal"):"DancingScript"===e?(t.fontFamily="Dancing Script",t.fontWeight="normal"):"Caveat"===e?(t.fontFamily="Caveat",t.fontWeight="normal"):"Lato"===e?(t.fontFamily="Lato",t.fontWeight="normal"):"Merriweather"===e?(t.fontFamily="Merriweather",t.fontWeight="normal"):"Poppins"===e?(t.fontFamily="Poppins",t.fontWeight="normal"):"Montserrat"===e?(t.fontFamily="Montserrat",t.fontWeight="normal"):"Anton"===e?(t.fontFamily="Anton",t.fontWeight="normal"):"Barlow"===e?(t.fontFamily="Barlow",t.fontWeight="normal"):"BarlowBlack"===e||"Barlow Black"===e?(t.fontFamily="Barlow",t.fontWeight="900"):"BebasNeue"===e?(t.fontFamily="Bebas Neue",t.fontWeight="normal"):"Caprasimo"===e?(t.fontFamily="Caprasimo",t.fontWeight="normal"):"Capriola"===e?(t.fontFamily="Capriola",t.fontWeight="normal"):"CarterOne"===e?(t.fontFamily="Carter One",t.fontWeight="normal"):"ChakraPetch"===e?(t.fontFamily="Chakra Petch",t.fontWeight="normal"):"Chewy"===e?(t.fontFamily="Chewy",t.fontWeight="normal"):"Comfortaa"===e?(t.fontFamily="Comfortaa",t.fontWeight="normal"):"Dangrek"===e?(t.fontFamily="Dangrek",t.fontWeight="normal"):"DeliusUnicase"===e?t.fontFamily="Delius Unicase":"Gruppo"===e?t.fontFamily="Gruppo":"JuliusSansOne"===e||"Julius Sans One"===e||"JuliusSans One"===e?(t.fontFamily="Julius Sans One",t.fontWeight="normal"):"PatuaOne"===e?(t.fontFamily="Patua One",t.fontWeight="normal"):"Raleway"===e?(t.fontFamily="Raleway",t.fontWeight="normal"):"Raleway Black"===e||"RalewayBlack"===e?(t.fontFamily="Raleway",t.fontWeight="900"):"Raleway Thin"===e||"RalewayThin"===e?(t.fontFamily="Raleway",t.fontWeight="100"):"RussoOne"===e?(t.fontFamily="Russo One",t.fontWeight="normal"):"Satisfy"===e?(t.fontFamily="Satisfy",t.fontWeight="normal"):"SpecialElite"===e?(t.fontFamily="Special Elite",t.fontWeight="normal"):"TitilliumWeb"===e?(t.fontFamily="Titillium Web",t.fontWeight="normal"):"TitilliumWebBlack"===e||"TitilliumWeb Black"===e?(t.fontFamily="Titillium Web",t.fontWeight="900"):"Unbounded"===e&&(t.fontFamily="Unbounded",t.fontWeight="normal"),t}(o);c.fontFamily&&(i.style.fontFamily=c.fontFamily),c.fontWeight&&(i.style.fontWeight=c.fontWeight)}return i=function(e,t){return e&&("decor-bold"===e||e.includes("decor-bold"))&&(t.style.fontWeight="bold"),e&&("decor-italics"===e||e.includes("decor-italics"))&&(t.style.fontStyle="italic",t.style.padding=2),t}(n.font.decoration,i),i=function(e,t){return"case-uppercase"===e?t.text=t.text.toUpperCase():"case-lowercase"===e?t.text=t.text.toLowerCase():"case-capitalize"===e?t.text=function(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join(" ")}(t.text):"case-smallcapitalize"===e&&(t.style.fontVariant="small-caps"),t.updateText(),t}(n.font.case,i),n.font.textShadowColor&&n.font.textShadowWidthFr&&(i.style.dropShadow=!0,i.style.dropShadowAngle=0,i.style.dropShadowColor=function(e){if(e.includes("rgba")){var t=e.replace("rgba(","").replace(")","").split(",");parseInt(t[3])}else t=e.replace("rgb(","").replace(")","").split(",");return X(parseInt(t[0]),parseInt(t[1]),parseInt(t[2]))}(n.font.textShadowColor),i.style.dropShadowAlpha=function(e){var t=1;if(e.includes("rgba")){var n=e.replace("rgba(","").replace(")","").split(",");t=parseFloat(n[3])}return t}(n.font.textShadowColor),i.style.dropShadowBlur=2*n.font.size*n.font.textShadowWidthFr*e.currentScaleY,i.style.dropShadowDistance=0),i.resolution=2,e.isTemplateGridPreview&&(i.resolution=5),i.style.lineHeight=1.33*parseFloat(n.font.size)*1.2*e.currentScaleY,i.style.fill=n.font.color,r&&(i.style.fill=n.font.keycolor),i.style.padding=1.33*parseFloat(n.font.size)*e.currentScaleY*.25,e.isTemplateGridPreview&&(i.style.padding=1.33*parseFloat(n.font.size)*e.currentScaleY*.12),i}function Q(e,t,n){var r=new x.Graphics;if(e){if(e.includes("rgba"))var s=e.replace("rgba(","").replace(")","").split(",");else s=e.replace("rgb(","").replace(")","").split(",");var a=X(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]));r.beginFill(x.utils.string2hex(a),1),r.drawRect(0,0,t,n),r.endFill()}return r}function X(e,t,n){return"#"+$(e)+$(t)+$(n)}function $(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var ee=function(e,t,n){var r=t.text_lines[n].text;r+=" ";var s,a=new x.Container;if(a.sortableChildren=!0,r)q(r=r.replaceAll("<strong></strong>",""),e,t,a,0);else{var i=t.text_lines[n];if(i.stroke_color&&i.stroke_width){var o=Q(i.stroke_color,i.stroke_width*e.currentScaleX,.4*t.font.line_height*e.currentScaleY);o.zIndex=2,a.addChild(o)}}return t.font.decoration&&("decor-linethrough"===t.font.decoration||t.font.decoration.includes("decor-linethrough"))&&((s=Q(t.font.color,a.width-1.33*parseFloat(t.font.size)*e.currentScaleY*.35,.06*(t.font.line_height?t.font.line_height*e.currentScaleY:1.33*parseFloat(t.font.size)*e.currentScaleY*1.3))).y=a.y+a.height/2-1.33*parseFloat(t.font.size)*e.currentScaleY*.25,s.zIndex=4,a.addChild(s)),t.font.decoration&&("decor-underline"===t.font.decoration||t.font.decoration.includes("decor-underline"))&&((s=Q(t.font.color,a.width-1.33*parseFloat(t.font.size)*e.currentScaleY*.35,.06*(t.font.line_height?t.font.line_height*e.currentScaleY:1.33*parseFloat(t.font.size)*e.currentScaleY*1.3))).y=a.y+a.height-.16*a.height-1.33*parseFloat(t.font.size)*e.currentScaleY*.45,s.zIndex=1,a.addChild(s)),a},te=function(e,t,n){var r=t.text_lines[n].text;if(r+=" ")return Y(e,r,t,!1)};function ne(e){if(e.asset_id){var t=e.start?e.asset_id+e.start:e.asset_id;return t+(e.resource_id?e.resource_id:"")}return(t=e.start?e.url+e.start:e.url)+(e.resource_id?e.resource_id:"")}var re=function(e,t,n){var r=ne(e);if(!x.utils.TextureCache[r]){var s=document.createElement("video");s.autoPlay=!1,s.loop=e.loop_video,s.muted=e.mute,s.crossOrigin="anonymous",s.preload="auto";var a="";if(e.start){s.currentTime=e.start;var i=e.url;if(t&&!(V(i)||i.includes("VIDEOBLOCKS")||i.includes("gettyimages.com"))){var o=encodeURIComponent(i);i="".concat(t.mediaResourcesURL,'/proxy-resources?url="').concat(o,'"')}else if(!i.toLowerCase().startsWith("http")||i.includes("VIDEOBLOCKS")||i.includes("gettyimages.com")){if((i.includes("VIDEOBLOCKS")||i.includes("gettyimages.com"))&&e.resource_id&&""!=e.resource_id){var c=new URL(i);c.searchParams.append("xyzabcqw",e.sessionId),i=c.toString(),p().get(i,{responseType:"blob"}).then((function(e){i=URL.createObjectURL(e.data),s.src=i,s.load();var t=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),a=x.Texture.from(t);a.baseTexture.resource.autoPlay=!1,n.push(a),x.Texture.removeFromCache(r),x.Texture.addToCache(a,r)})).catch((function(){s.src=i,s.load();var e=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),t=x.Texture.from(e);t.baseTexture.resource.autoPlay=!1,n.push(t),x.Texture.removeFromCache(r),x.Texture.addToCache(t,r)}))}}else{var l=new URL(i);if(l.searchParams.append("source","preview"),(i=l.toString()).includes("/videos/transcription/")||i.includes("/samples/videos/")){var u,d=i.lastIndexOf(".");u=i.substr(0,d)+"_480p"+i.substr(d),p().head(u).then((function(e){200===e.status?s.src=u:s.src=i,s.load();var t=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),a=x.Texture.from(t);a.baseTexture.resource.autoPlay=!1,n.push(a),x.Texture.removeFromCache(r),x.Texture.addToCache(a,r)})).catch((function(){s.src=i,s.load();var e=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),t=x.Texture.from(e);t.baseTexture.resource.autoPlay=!1,n.push(t),x.Texture.removeFromCache(r),x.Texture.addToCache(t,r)}))}}i.includes("VIDEOBLOCKS")||i.includes("gettyimages.com")||i.includes("/videos/transcription/")||i.includes("/samples/videos/")||(s.src=i,s.load(),a=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}))}else{var h=e.url;if(t&&!(V(h)||h.includes("VIDEOBLOCKS")||h.includes("gettyimages.com"))){var m=encodeURIComponent(h);h="".concat(t.mediaResourcesURL,'/proxy-resources?url="').concat(m,'"')}else if(!(h.toLowerCase().startsWith("http")||h.includes("/videos/transcription/")||h.includes("/samples/videos/"))||h.includes("VIDEOBLOCKS")||h.includes("gettyimages")){if((h.includes("VIDEOBLOCKS")||h.includes("gettyimages.com"))&&e.resource_id&&""!=e.resource_id){var g=new URL(h);g.searchParams.append("xyzabcqw",e.sessionId),h=g.toString(),p().get(h,{responseType:"blob"}).then((function(e){h=URL.createObjectURL(e.data),s.src=h,s.load();var t=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),a=x.Texture.from(t);a.baseTexture.resource.autoPlay=!1,n.push(a),x.Texture.removeFromCache(r),x.Texture.addToCache(a,r)})).catch((function(){s.src=h,s.load();var e=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),t=x.Texture.from(e);t.baseTexture.resource.autoPlay=!1,n.push(t),x.Texture.removeFromCache(r),x.Texture.addToCache(t,r)}))}}else{var f=new URL(h);if(f.searchParams.append("source","preview"),(h=f.toString()).includes("/videos/transcription/")||h.includes("/samples/videos/")){var v,S=h.lastIndexOf(".");v=h.substr(0,S)+"_480p"+h.substr(S),p().head(v).then((function(e){200===e.status?s.src=v:s.src=h,s.load();var t=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),a=x.Texture.from(t);a.baseTexture.resource.autoPlay=!1,n.push(a),x.Texture.removeFromCache(r),x.Texture.addToCache(a,r)})).catch((function(){s.src=h,s.load();var e=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}),t=x.Texture.from(e);t.baseTexture.resource.autoPlay=!1,n.push(t),x.Texture.removeFromCache(r),x.Texture.addToCache(t,r)}))}}h.includes("VIDEOBLOCKS")||h.includes("gettyimages.com")||h.includes("/videos/transcription/")||h.includes("/samples/videos/")||(s.src=h,s.load(),a=new x.VideoResource(s,{crossorigin:!0,preload:"auto",autoLoad:!0}))}if(a){var y=x.Texture.from(a);y.baseTexture.resource.autoPlay=!1,n.push(y),x.Texture.removeFromCache(r),x.Texture.addToCache(y,r)}}},se=function(e){var t=x.utils.TextureCache[ne(e)];return!!(t&&t.valid&&t.baseTexture.resource.source.readyState>=2)},ae=function(e){return x.utils.TextureCache[ne(e)]},ie=function(e){var t=ne(e);x.Texture.removeFromCache(t)};function oe(e,t,n){e.background.src.forEach((function(e){e&&("image"===e.type?e.url&&""!==e.url&&z(e,t):"video"===e.type&&e.url&&""!==e.url&&re(e,t,n))}));for(var r=0;r<e.sub_scenes.length;r++){var s=e.sub_scenes[r];if(s.displayItems&&s.displayItems.length>0)for(var a=0;a<s.displayItems.length;a++){var i=s.displayItems[a];"visual"==i.type&&z(i.src,t,!0,i.id)}}e.background.logo&&e.background.logo.src&&""!==e.background.logo.src&&z(e.background.logo.src)}var ce=function(e,t,n,r,s){n=n||0,r=r?e.length<r?e.length:r:e.length;for(var a=n;a<r;a++){var i=e[a];i&&oe(i,t,s)}},le=function(e){return"image"===e.type?J(e):"video"===e.type?se(e):void 0},ue=function(e,t){return"image"===e.type?H(e):"video"===e.type?ae(e):void 0},de=function(e,t,n,r){return"fit"===r?Math.min(t/e.width,n/e.height):"crop"===r?Math.max(t/e.width,n/e.height):Math.min(t/e.width,n/e.height)},pe=function(e){return H(e)},he=function(e){return"image"===e.type?K(e):"video"===e.type?ie(e):void 0},me=n(55843),ge=n.n(me),fe=n(11198),ve=n(92229),xe=n.n(ve),Se=(n(96161),n(51443)),ye=n.n(Se),be=(n(17568),n(46417));h.p8.registerPlugin(m.w),m.w.registerPIXI(x),h.p8.globalTimeline.autoRemoveChildren=!0;var je=new x.Application({forceCanvas:!1,width:1,height:1,backgroundAlpha:0,clearBeforeRender:!0,autoDensity:!0,autoStart:!1,sharedTicker:!0,sharedLoader:!0}),we=function(e){(0,l.Z)(C,e);var t,d,m,f=(0,u.Z)(C);function C(e){var t;return(0,i.Z)(this,C),(t=f.call(this,e)).RenderFrame=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var r,i,o,c,l,u,d,p,h,m,g,f,v,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.recordVideo||!t.animationRecordingEnabled){e.next=13;break}if(t.props.webmrecording){e.next=13;break}if(null===t.frameRecordingStartTime){e.next=12;break}if(!(Date.now()-t.frameRecordingStartTime<25)){e.next=9;break}return requestAnimationFrame((0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.RenderFrame(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),e.abrupt("return");case 9:t.frameRecordingStartTime=Date.now();case 10:e.next=13;break;case 12:t.frameRecordingStartTime=Date.now();case 13:if(null==n){e.next=105;break}if(t.globalCurrentPlaybackStateObj=n,t.recordVideo&&console.log("RENDER_FRAME:".concat(n.CurrentFrameNumber,", SUB_SCENE - ").concat(n.CurrentSubsceneIndex||0)),r=Date.now(),!t.state.showPreview||!t.isPlaying){e.next=104;break}if(n.ElapsedTime=r-n.CurrentSceneStartTime,i=(n.CurrentScene.startTime+n.ElapsedTime/1e3)/t.state.totalTime*100,t.setState({progress:i+"%",timeDone:n.CurrentScene.startTime+n.ElapsedTime/1e3}),n.CurrentFrameNumber=n.CurrentFrameNumber+1,!(n.ElapsedTime/1e3<n.CurrentScene.time)||n.switchSceneForRecording){e.next=79;break}t.sceneDurationRun[n.CurrentSceneIndex]&&(t.sceneDurationRun[n.CurrentSceneIndex].durationRun=n.ElapsedTime/1e3),n.CurrentScene["music-fade-out"]&&n.BackgroundMusic&&n.BackgroundMusic.volume>0&&(o=n.ElapsedTime/1e3/n.CurrentScene.time,c=(.9-o).toFixed(2)*n.backgroundTrackVolume,n.BackgroundMusic.volume=c<0?0:c),n.CurrentBackGroundSource&&"video"===n.CurrentBackGroundSource.type&&n.CurrentBackGroundSource.end&&n.CurrentBackgroundTexture.baseTexture.resource.source.duration>n.CurrentBackGroundSource.end-n.CurrentBackGroundSource.start&&n.CurrentBackgroundTexture.baseTexture.resource.source.currentTime>=n.CurrentBackGroundSource.end&&(n.CurrentBackgroundTexture.baseTexture.resource.source.currentTime=n.CurrentBackGroundSource.start,n.CurrentBackgroundTexture.baseTexture.resource.source.play()),n.sceneBackgroundSources.length>1&&n.CurrentBackgroundIndex!=n.sceneBackgroundSources.length-1&&n.CurrentBackGroundSource.end&&n.ElapsedTime/1e3>=n.CurrentBackGroundSource.endTime&&(n=t.setNextBackground(n)),t.forceCanvas||(n.ElapsedTime/1e3<.6?t.SetStartTransition(n):t.app.stage.filters=[],n.CurrentScene.time-(r-n.CurrentSceneStartTime)/1e3<.6&&t.SetEndTransition(n,r)),n.CurrentScene&&n.CurrentScene.recordTextAnimation&&(n.CurrentSubscene?r-n.CurrentSubsceneStartTime:0)>500&&(l=!0,n.TextAnimations.forEach((function(e){1!=e.ratio&&(l=!1)})),l&&(n.CurrentScene.sub_scenes&&n.CurrentScene.sub_scenes.length-1!==n.CurrentSubsceneIndex?n.switchSubsceneForRecording=!0:n.switchSceneForRecording=!0)),e.next=59;break;case 36:if(!(h>-1)){e.next=43;break}if(!(u>=d[h].start_time&&u<=d[h].end_time)){e.next=40;break}return p=d[h],e.abrupt("break",43);case 40:h--,e.next=36;break;case 43:p&&p!==t.videoJson.AdditionaldataForSceneGeneration.lastWord&&(t.videoJson.AdditionaldataForSceneGeneration.text+=" ".concat(p.word),t.props.markCurrentSpeakingWord(p.word+"_"+p.wordIndex+"_"+p.sentenceIndex,p.wordIndex,p.sentenceIndex,p.start_time),t.videoJson.AdditionaldataForSceneGeneration.lastWord=p);case 44:if(!t.videoJson.AdditionaldataForSceneGeneration.timeMarkers[t.index]){e.next=59;break}if(!t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode){e.next=57;break}t.videoJson.AdditionaldataForSceneGeneration.previousSentenceNode=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode,t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode.next;case 48:if(!t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode){e.next=56;break}if(!(n.CurrentBackgroundTexture.baseTexture.resource.source.currentTime>=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode.sentence.startTime)){e.next=53;break}return t.videoJson.AdditionaldataForSceneGeneration.previousSentenceNode=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode,t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode.next,e.abrupt("continue",48);case 53:return e.abrupt("break",56);case 56:t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode=t.videoJson.AdditionaldataForSceneGeneration.previousSentenceNode;case 57:t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode&&n.CurrentBackgroundTexture.baseTexture.resource.source.currentTime>=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode.sentence.startTime&&(t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode=t.videoJson.AdditionaldataForSceneGeneration.currentSentenceNode.next),n.CurrentBackgroundTexture.baseTexture.resource.source.currentTime>=t.videoJson.AdditionaldataForSceneGeneration.timeMarkers[t.index].end-.15&&t.index<=t.videoJson.AdditionaldataForSceneGeneration.timeMarkers.length-1&&t.index++;case 59:if(n.CurrentSubscene&&(n.SubSceneElapsedTime=r-n.CurrentSubsceneStartTime,n.SubSceneElapsedTime/1e3<n.CurrentSubscene.time&&!n.switchSubsceneForRecording?t.sceneDurationRun[n.CurrentSceneIndex]&&t.sceneDurationRun[n.CurrentSceneIndex].subscenes[n.CurrentSubsceneIndex]&&(t.sceneDurationRun[n.CurrentSceneIndex].subscenes[n.CurrentSubsceneIndex].durationRun=n.SubSceneElapsedTime/1e3,n.PartElapsedTime=r-n.PartRecordingStartTime,t.sceneDurationRun[n.CurrentSceneIndex].subscenes[n.CurrentSubsceneIndex].parts[n.PartIndex]?t.sceneDurationRun[n.CurrentSceneIndex].subscenes[n.CurrentSubsceneIndex].parts[n.PartIndex].durationRun=n.PartElapsedTime/1e3:t.sceneDurationRun[n.CurrentSceneIndex].subscenes[n.CurrentSubsceneIndex].parts.push({index:n.PartIndex,durationRun:n.PartElapsedTime/1e3}),n.PartElapsedTime/1e3>5&&n.CurrentSubscene.time-n.SubSceneElapsedTime/1e3>2.5&&(n.PartIndex=n.PartIndex+1)):(t.frameRecordingStartTime=null,(n=t.setSubScene(n.CurrentSubsceneIndex+1,n)).CurrentLogoSprite&&n.CurrentScene.background.logo&&n.CurrentScene.background.logo.src&&""!=n.CurrentScene.background.logo.src&&!t.props.isTemplateGridPreview&&(n.CurrentLogoSprite.zIndex=100,t.app.stage.addChild(n.CurrentLogoSprite)),t.playTextAnimations(n))),!t.recordVideo||!n){e.next=77;break}if(m=n.CurrentSubsceneIndex||0,n.PartIndex,t.props.webmrecording||!(t.sceneFrames.length>0)||t.sceneFrames[t.sceneFrames.length-1].partIndex===n.PartIndex&&t.sceneFrames[t.sceneFrames.length-1].subSceneIndex===m){e.next=76;break}return g=Date.now(),t.pauseAnimations(n),e.next=68,t.sendFramesToServer();case 68:if(e.sent){e.next=71;break}return e.abrupt("return");case 71:f=Date.now(),n.CurrentSceneStartTime=n.CurrentSceneStartTime+(f-g),n.CurrentSubsceneStartTime=n.CurrentSubsceneStartTime+(f-g),n.PartRecordingStartTime=Date.now(),t.playAnimations(n);case 76:t.animationRecordingEnabled&&(v=t.props.webmrecording?null:t.offscreen.transferToImageBitmap(),x={sceneIndex:n.CurrentSceneIndex,subSceneIndex:m,partIndex:n.PartIndex,frameNumber:n.CurrentFrameNumber,bitmap:v},t.sceneFrames.push(x),t.framesCount++);case 77:e.next=101;break;case 79:if(!t.recordVideo){e.next=89;break}return console.log("TOTAL_GENERATED_FRAMES - ".concat(t.framesCount)),console.log("SCENE_RECORDING_COMPLETED"),e.next=84,t.sendFramesToServer();case 84:return e.sent?console.log("FRAMES_UPLOAD_COMPLETED"):console.log("FRAMES_UPLOAD_ERROR"),e.abrupt("return");case 89:ce(n.scenes,t.ApiRequest,n.CurrentSceneIndex+1,n.CurrentSceneIndex+11,t.loadedTextures);case 90:if(!t.state.isBuffering){e.next=92;break}return e.abrupt("return",null);case 92:e.next=99;break;case 98:n.scenes.push(undefined[0]);case 99:return t.setScene(n.CurrentSceneIndex+1,n,!1),e.abrupt("return",null);case 101:t.recordVideo?requestAnimationFrame((0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.animationRecordingEnabled=!0,e.next=3,t.RenderFrame(n);case 3:case"end":return e.stop()}}),e)})))):requestAnimationFrame((0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.RenderFrame(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),e.next=105;break;case 104:t.pause(n,t.state.isBuffering);case 105:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sleep=function(e){return new Promise((function(t,n){setTimeout((function(){return t("success")}),e)}))},t.LoadVideoPlaybackPopup=function(e){t.props.setPreviewReady&&t.props.setPreviewReady(!0),t.app.view.style.width=t.props.width,t.app.view.style.height=t.props.height,e&&(!t.recordVideo||t.props.webmrecording)&&t.app&&t.app.view&&(t.props.isTemplateGridPreview&&(t.app.view.style.width=t.props.width+"px"),e.appendChild(t.app.view))},t.playVideo=function(){t.isPlaying=!0,t.setState({showPlay:!1,pauseVideoState:!1},(0,a.Z)((0,s.Z)().mark((function e(){var n,r,i,o,c,l,u,d,p,h,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.videoEnded){e.next=6;break}for(t.isPlaying=!1;t.app.stage.children.length>0;)n=t.app.stage.getChildAt(0),t.app.stage.removeChild(n);t.playFromScene(0),e.next=19;break;case 6:if(!t.isPlaying){e.next=19;break}if(r=Date.now(),t.pausedPlaybackState.CurrentScene&&(t.pausedPlaybackState.CurrentSceneStartTime=r-t.pausedPlaybackState.ElapsedTime),t.pausedPlaybackState.CurrentSubscene&&(t.pausedPlaybackState.CurrentSubsceneStartTime=r-t.pausedPlaybackState.SubSceneElapsedTime),t.recordVideo||(t.pausedPlaybackState.Audio&&t.pausedPlaybackState.Audio.play(),t.pausedPlaybackState.BackgroundMusic&&t.pausedPlaybackState.BackgroundMusic.play()),!(t.pausedPlaybackState.CurrentBackGroundSource&&"video"===t.pausedPlaybackState.CurrentBackGroundSource.type&&t.pausedPlaybackState.CurrentBackgroundTexture&&t.pausedPlaybackState.CurrentBackgroundTexture.baseTexture)){e.next=15;break}t.pausedPlaybackState.CurrentBackgroundTexture.baseTexture.resource.source.play().then((0,a.Z)((0,s.Z)().mark((function e(){var n,r,a,i,o,c,l,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.setState({showPlay:!1,isBuffering:!1,gotoScenenumber:-1}),t.playAnimations(t.pausedPlaybackState),n=0;n<(null===(r=t.pausedPlaybackState)||void 0===r||null===(a=r.displayItemVideos)||void 0===a?void 0:a.length);n++)null!=(d=null===(i=t.pausedPlaybackState)||void 0===i?void 0:i.displayItemVideos[n])&&null!==(o=d.texture)&&void 0!==o&&null!==(c=o.baseTexture)&&void 0!==c&&null!==(l=c.resource)&&void 0!==l&&null!==(u=l.source)&&void 0!==u&&u.play&&d.texture.baseTexture.resource.source.play();return e.next=5,t.RenderFrame(t.pausedPlaybackState);case 5:case"end":return e.stop()}}),e)})))),e.next=19;break;case 15:for(t.playAnimations(t.pausedPlaybackState),i=0;i<(null===(o=t.pausedPlaybackState)||void 0===o||null===(c=o.displayItemVideos)||void 0===c?void 0:c.length);i++)null!=(m=null===(l=t.pausedPlaybackState)||void 0===l?void 0:l.displayItemVideos[i])&&null!==(u=m.texture)&&void 0!==u&&null!==(d=u.baseTexture)&&void 0!==d&&null!==(p=d.resource)&&void 0!==p&&null!==(h=p.source)&&void 0!==h&&h.play&&m.texture.baseTexture.resource.source.play();return e.next=19,t.RenderFrame(t.pausedPlaybackState);case 19:case"end":return e.stop()}}),e)}))))},t.pauseVideo=function(){t.isPlaying=!1,t.setState({showPlay:!0,pauseVideoState:!0})},t.clearCanvas=function(){for(;t.app.stage.children.length>0;){var e=t.app.stage.getChildAt(0);t.app.stage.removeChild(e)}},t.handleClose=function(){if(B={},h.p8.globalTimeline.clear(!0),window.removeEventListener("blur"),t.props.isTemplateGridPreview)for(t.isPlaying=!1;t.app.stage.children.length>0;){var e=t.app.stage.getChildAt(0);t.app.stage.removeChild(e)}else t.isPlaying=!1,t.globalCurrentPlaybackStateObj&&t.pause(t.globalCurrentPlaybackStateObj),t.setState({showPreview:!1,gotoScenenumber:-1},(function(){try{for(t.props.previewEnded&&t.props.previewEnded();t.app.stage.children.length>0;){var e=t.app.stage.getChildAt(0);t.app.stage.removeChild(e)}E.clearCache(),P.clearCache(),t.globalCurrentPlaybackStateObj&&(t.pause(t.globalCurrentPlaybackStateObj),t.globalCurrentPlaybackStateObj.CurrentSubSceneContainer&&t.globalCurrentPlaybackStateObj.CurrentSubSceneContainer.destroy({children:!0,texture:!0,baseTexture:!0}),t.globalCurrentPlaybackStateObj.CurrentSceneContainer&&t.globalCurrentPlaybackStateObj.CurrentSceneContainer.destroy({children:!0,texture:!0,baseTexture:!0}))}catch(e){}}));window.removeEventListener("keydown",t.handleClose)},t.playFromScene=function(e){if(!t.state.isBuffering){for(var n=0;n<t.loadedTextures.length;n++){var r=t.loadedTextures.shift();try{r.baseTexture.resource.source.removeAttribute("src"),r.baseTexture.resource.source.load(),x.Texture.removeFromCache(r)}catch(e){}}t.isPlaying&&!t.videoEnded?(t.isPlaying=!1,t.setState({showPlay:!1,gotoScenenumber:e})):(t.isPlaying=!1,t.setState({showPlay:!1,gotoScenenumber:e,isBuffering:!0},(function(){t.setScene(t.state.gotoScenenumber,t.baseCurrentPlaybackStateObj,!0,!0)})))}},t.state={showPreview:!1,showPlay:!1,timeLineArrayElements:[],isBuffering:!0,totalTime:0,progress:0,gotoScenenumber:-1,timeDone:0,startScene:!1,copied:!1},e.recordVideo?(t.myWorker=new Worker(ge()),t.offscreen=t.props.webmrecording?null:new OffscreenCanvas(e.width,e.height),t.app=new x.Application({forceCanvas:e.forceCanvas,width:e.width,height:e.height,backgroundAlpha:0,view:t.offscreen})):(x.settings.RESOLUTION=window.devicePixelRatio,x.settings.RENDER_OPTIONS.roundPixels=!0,x.settings.RENDER_OPTIONS.antialias=!1,t.app=je,e.isTemplateGridPreview&&(t.app=new x.Application({forceCanvas:!0,width:e.width,height:e.height,backgroundAlpha:0,clearBeforeRender:!0,autoDensity:!0,autoStart:!1,sharedTicker:!0,sharedLoader:!0}))),e.ApiRequest&&(t.ApiRequest=e.ApiRequest),t.recordVideo=e.recordVideo,t.isTemplatePreview=e.isTemplatePreview,t.forceCanvas=e.forceCanvas,t.width=e.width,t.height=e.height,t.pausedPlaybackState={},t.framesCount=0,t.sceneFrames=[],t.videoEnded=!1,t.loadedTextures=[],t.globalCurrentPlaybackStateObj={},t.globalCurrentPlaybackStateObj={},t.index=0,t.text="",t.lastWord=null,t.isPlaying=!1,t.animationRecordingEnabled=!1,t.frameRecordingStartTime=null,t.baseCurrentPlaybackStateObj={},t.props.videoJson&&""!==t.props.videoJson&&t.LoadJsonResources(t.props.videoJson),t.props.isTemplateGridPreview&&(t.state.showPreview=!0,t.state.startScene=!0,t.state.isBuffering=!1),window.addEventListener("blur",t.onBlur.bind((0,c.Z)(t))),t}return(0,o.Z)(C,[{key:"onBlur",value:(m=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pauseVideo(),e.next=3,this.RenderFrame(this.globalCurrentPlaybackStateObj);case 3:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){}},{key:"LoadJsonResources",value:function(e,t){var n=this;if(1==e.scenes.length&&e.scenes[0]){var r=[e.scenes[0]];ce(r,this.ApiRequest,null,null,this.loadedTextures)}else t?(r=[e.scenes[t-1]],ce(r,this.ApiRequest,null,null,this.loadedTextures)):this.recordVideo?ce(e.scenes,this.ApiRequest,null,null,this.loadedTextures):ce(e.scenes,this.ApiRequest,0,10,this.loadedTextures);this.recordVideo||(e.audio&&e.audio.tts&&E.Load(e.audio.tts,e.audio.video_volume),e.audio&&e.audio.src&&P.Load(e.audio.src,null==e?void 0:e.audio.track_volume)),this.props.brandingWatermarkUrl&&""!==this.props.brandingWatermarkUrl&&z(this.props.brandingWatermarkUrl),this.videoJson=e,window.addEventListener("keydown",(function(e){"Escape"===e.code&&n.handleClose()}))}},{key:"logOnMediaError",value:function(e){this.props.ErrorFromPreview&&(e.videoElementcount=document.getElementsByTagName("video").length,e.audioElementcount=document.getElementsByTagName("audio").length,this.props.ErrorFromPreview(e))}},{key:"WaitforResourceLoading",value:(d=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i,o,c,l,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,r=this.videoJson,a=r.scenes,1==r.scenes.length&&r.scenes[0]?(i=r.scenes[0],a=[i]):t&&(i=r.scenes[t-1],a=[i]),r.audio&&r.audio.src&&!this.isTemplatePreview&&(o=P.GetFromCache([r.audio.src])),r.audio&&r.audio.tts&&!this.isTemplatePreview&&(c=E.GetFromCache([r.audio.tts]));case 6:if(n){e.next=34;break}l=!1,o&&(o.error&&(this.logOnMediaError({src:"bgMusic",error:o.error.message,url:o.currentSrc,errorcode:o.error.code,errorObject:o.error}),r.audio.src=null),o&&o.readyState&&(l=o.readyState<2)),c&&(c.error&&(this.logOnMediaError({src:"bgAudio",error:c.error.message,url:c.currentSrc,errorcode:c.error.code,errorObject:c.error}),r.audio.tts=null),c&&c.readyState&&(l=c.readyState<2)),u=0;case 11:if(!(u<a.length)){e.next=26;break}d=a[u],p=0;case 14:if(!(p<d.background.src.length)){e.next=23;break}if(le(d.background.src[p])||!d.background.src[p].url||""===d.background.src[p].url){e.next=20;break}if((h=ue(d.background.src[p]))&&(h.isLoadError||h.baseTexture&&h.baseTexture.resource.source.error&&h.baseTexture.resource.source.error.message)){try{this.logOnMediaError({src:"bgVisual",error:h.baseTexture.resource.source.error.message,url:h.baseTexture.resource.source.src,scene:u,backGround:p,errorcode:h.baseTexture.resource.source.error.code,errorObject:h.baseTexture.resource.source.error})}catch(e){}he(d.background.src[p]),d.background.src[p].url=null,d.background.src[p].type=null,this.recordVideo||(d.background.color="rgba(0,0,0,255)")}return l=!0,e.abrupt("break",23);case 20:p++,e.next=14;break;case 23:u++,e.next=11;break;case 26:if(l){e.next=30;break}n=!0,e.next=32;break;case 30:return e.next=32,this.sleep(300);case 32:e.next=6;break;case 34:return e.abrupt("return",!0);case 35:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"captureTimelineForScene",value:function(e,t){var n=function(e){return e.reduce((function(e,t){return e+t.time}),0)},r=[0],s=[0],a=0,i=0,o=[],c=0;if(1==e.length&&e[0]?e=[e[0]]:t&&(e=[e[t-1]]),e&&e.length>0){for(var l=0,u=e.reduce((function(e,t){var r;return e+((null==t||null===(r=t.sub_scenes)||void 0===r?void 0:r.length)>0?n(null==t?void 0:t.sub_scenes):null==t?void 0:t.time)}),0),d=0;d<(null===(p=e)||void 0===p?void 0:p.length);d++){var p,h=e[d].sub_scenes;if(0===h.length)if(h=[{time:e[d].time}],0===d)h[0].showSceneNumber="Scene 1 (Intro)";else if(d===e.length-1){var m=e.reduce((function(e,t){return e+(t.sub_scenes.length||1)}),0);h[0].showSceneNumber="Scene "+m+" (Outro)"}var g=n(h);e[d].startTime=l,l+=g;var f={index:d,percentage:g/u*100+"%",time:g,subScenes:h};o.push(f),c+=10*g,a+=10*g,r.push(a),h.forEach((function(e){i+=10*e.time,s.push(i)}))}r.pop(),s.pop();var v=document.querySelector(".preview-container .video-seek-container");if(v&&c<v.clientWidth){c="100%";for(var x=0;x<o.length;x++)for(var S=0;S<o[x].subScenes.length;S++)o[x].subScenes[S].percentage=100*o[x].subScenes[S].time/u+"%"}this.setState({totalTime:u,timeLineArrayElements:o,seekbarWidth:c,scrollLeftForScenes:r,scrollLeftForSubscenes:s})}return e}},{key:"Play",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({showPreview:!0,showPlay:!1,progress:0,timeDone:0},(function(){t.playvid(e,n)}))}},{key:"playvid",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.app.renderer.resize(this.props.width,this.props.height),this.videoJson&&(this.videoJson.scenes=this.captureTimelineForScene(null===(t=this.videoJson)||void 0===t?void 0:t.scenes,e),h.p8.globalTimeline.clear(!0),this.videoJson.scenes&&this.videoJson.scenes.length>0)){var r,s=this.videoJson,a={};this.sceneDurationRun=[],a.scenes=s.scenes,a.width=this.width,a.height=this.height,a.currentScaleX=a.width/s.output.width,a.currentScaleY=a.height/s.output.height,a.sceneNumber=this.props.playbackStartSceneNumber,a.CurrentFrameNumber=0,a.voiceoverTrackVolume=null!=s&&null!==(r=s.audio)&&void 0!==r&&r.video_volume?s.audio.video_volume:0,this.recordVideo||this.isTemplatePreview||(s.audio&&s.audio.src&&(a.BackgroundMusic=P.GetFromCache([s.audio.src]),a.BackgroundMusic&&(a.BackgroundMusic.volume=null==s?void 0:s.audio.track_volume,a.backgroundTrackVolume=null==s?void 0:s.audio.track_volume)),s.audio&&s.audio.tts&&(a.Audio=E.GetFromCache([s.audio.tts]))),this.baseCurrentPlaybackStateObj=a,this.globalCurrentPlaybackStateObj=a,this.CheckIfNextItemsLoaded(a,a.sceneNumber,3,!0,n)}}},{key:"CheckIfNextItemsLoaded",value:function(e,t,n,r){var s=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e.scenes,o=!1,c=i.length<t+n?i.length:n;if(this.recordVideo||(e.BackgroundMusic&&(e.BackgroundMusic.error&&(this.logOnMediaError({src:"bgMusic",error:e.BackgroundMusic.error.message,url:e.BackgroundMusic.currentSrc,errorcode:e.BackgroundMusic.error.code,errorObject:e.BackgroundMusic.error}),e.BackgroundMusic=null),e.BackgroundMusic&&(o=e.BackgroundMusic.readyState<2)),e.Audio&&(e.Audio.error&&(this.logOnMediaError({src:"bgAudio",error:e.Audio.error.message,url:e.Audio.currentSrc,errorcode:e.Audio.error.code,errorObject:e.Audio.error}),e.Audio=null),e.Audio&&(o=e.Audio.readyState<2))),!o)for(var l=t;l<c;l++){for(var u=i[l],d=0;d<u.background.src.length;d++){if(u.background.src[d]&&!le(u.background.src[d])&&u.background.src[d].url&&""!==u.background.src[d].url){var p=ue(u.background.src[d]);if(p&&(p.isLoadError||p.baseTexture&&p.baseTexture.resource.source.error&&p.baseTexture.resource.source.error.message)){try{this.logOnMediaError({src:"bgVisual",error:p.baseTexture.resource.source.error.message,url:p.baseTexture.resource.source.src,scene:l,backGround:d,errorcode:p.baseTexture.resource.source.error.code,errorObject:p.baseTexture.resource.source.error})}catch(e){}he(u.background.src[d]),u.background.src[d].url=null,u.background.src[d].type=null,this.recordVideo||(u.background.color="rgba(0,0,0,255)")}o=!0;break}if(!o&&u.background.src[d]&&u.background.logo&&u.background.logo.src&&u.background.logo&&""!==u.background.logo.src){var h=pe(u.background.logo.src);if(!h||!h.valid){o=!0;break}}}if(o)break}if(this.props.brandingWatermarkUrl&&""!==this.props.brandingWatermarkUrl){var m=H(this.props.brandingWatermarkUrl);m&&!m.valid&&(o=!0)}if(o)setTimeout((function(){return s.CheckIfNextItemsLoaded(e,t,n,r)}),200);else if(r){setTimeout((function(){s.props.webmrecording&&(s.canvasStream||(s.canvasStream=s.app.view.captureStream(30)),s.streamRecorder||(s.streamRecorder=new StreamRecorder(s.canvasStream,8e6),s.streamRecorder.start()))}),50),this.setState({startScene:!0});try{this.app.start()}catch(e){}this.setScene(0,e,!0,null,null,a)}}},{key:"pauseOnWaiting",value:function(){console.log("pauseOnWaiting"),this.isPlaying=!1,this.setState({showPlay:!0,isBuffering:!0})}},{key:"playOnReady",value:function(){console.log("playOnReady"),this.state.isBuffering&&this.playVideo()}},{key:"setScene",value:function(e,t,n,r,s){var a=this,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];t.CurrentBackGroundSource&&"video"===t.CurrentBackGroundSource.type&&t.CurrentBackgroundTexture&&t.CurrentBackgroundTexture.baseTexture&&t.CurrentBackgroundTexture.baseTexture.resource&&t.CurrentBackgroundTexture.baseTexture.resource.source&&t.CurrentBackgroundTexture.baseTexture.resource.source.pause(),t.isTemplateGridPreview=this.props.isTemplateGridPreview;var o={index:e,durationRun:0,subscenes:[]};this.sceneDurationRun.push(o);var c=document.getElementById("blurBgDiv");if(e<t.scenes.length&&this.app.stage){this.videoEnded=!1,s||(this.CleanupScene(t),this.CleanupSubScene(t)),t.scenes[e].startTime||0==t.scenes[e].startTime||(t.scenes[e].startTime=t.scenes[e-1].startTime+t.scenes[e-1].time),t.CurrentSceneIndex=e,t.CurrentScene=t.scenes[e];var l=t.CurrentScene.startTime/this.state.totalTime*100;if(this.setState({progress:l+"%",timeDone:t.CurrentScene.startTime}),!this.recordVideo){for(var u=0;u<t.CurrentScene.sub_scenes.length;u++){var d=t.CurrentScene.sub_scenes[u];if(d.displayItems&&d.displayItems.length>0)for(var p=0;p<d.displayItems.length;p++){var h=d.displayItems[p];if("visual"==h.type){var m=new URL(h.src);h.src=m.toString();var g=G(h.id?h.src+h.id:h.src);if(!g&&h.src&&""!==h.src)return ce(t.scenes,this.ApiRequest,e,e+5,this.loadedTextures),this.setState({isBuffering:!0}),setTimeout((function(){a.setScene(e,t,!0,r,1)}),200),null;if(!g||!(g.texture&&g.texture.valid||g.valid))return setTimeout((function(){a.setScene(e,t,!0,r,1)}),200),null}}}for(var f=0;f<t.CurrentScene.background.src.length;f++)if(b=t.scenes[e].background.src[f]){if(!(j=ue(b))&&b.url&&""!==b.url)return ce(t.scenes,this.ApiRequest,e,e+5,this.loadedTextures),this.setState({isBuffering:!0}),setTimeout((function(){a.setScene(e,t,!0,r,1)}),200),null;if(!le(b)&&b.url&&""!==b.url){if(!j||!(j.isLoadError||j.baseTexture&&j.baseTexture.resource.source.error&&j.baseTexture.resource.source.error.message))return setTimeout((function(){a.setScene(e,t,!0,r,1)}),200),null;try{this.logOnMediaError({src:"bgVisual",error:j.baseTexture.resource.source.error.message,url:j.baseTexture.resource.source.src,scene:e,backGround:f,errorcode:j.baseTexture.resource.source.error.code,errorObject:j.baseTexture.resource.source.error})}catch(e){}he(b),b.url=null,b.type=null,this.recordVideo||(t.scenes[e].background.color="rgba(0,0,0,255)")}}}var v=new x.Container;t.CurrentSceneContainer=v,t.CurrentScene.background.src[0]&&t.CurrentScene.background.src[0].url&&""!==t.CurrentScene.background.src[0].url&&b&&"image"!=b.type&&"video"!=b.type&&v.addChild(this.GenerateBackgroundGraphic("rgba(0,0,0,255)",t.width,t.height)),!t.CurrentScene.background.color||t.CurrentScene.background.src[0].url&&""!==t.CurrentScene.background.src[0].url||v.addChild(this.GenerateBackgroundGraphic(t.CurrentScene.background.color,t.width,t.height)),t.sceneBackgroundSources=[],t.sceneBackgroundTextures=[],t.sceneBackgroundSprites=[],t.CurrentBackGroundSource=null,t.CurrentBackgroundTexture=null,t.CurrentBackgroundSprite=null;for(var S=0,y=0;y<t.scenes[e].background.src.length;y++){var b;if((b=t.scenes[e].background.src[y])&&b.url&&""!==b.url){var j;if(null!==b.start&&null!==b.end&&t.scenes[e].background.src.length>1&&(S=S+b.end-b.start,b.endTime=S),(j=ue(b))&&(j.isLoadError||j.baseTexture&&j.baseTexture.resource.source.error&&j.baseTexture.resource.source.error.message)){try{this.logOnMediaError({src:"bgVisual",error:j.baseTexture.resource.source.error.message,url:j.baseTexture.resource.source.src,scene:e,backGround:y,errorcode:j.baseTexture.resource.source.error.code,errorObject:j.baseTexture.resource.source.error})}catch(e){}he(b),b.url=null,b.type=null,this.recordVideo||(t.scenes[e].background.color="rgba(0,0,0,255)")}if(!this.recordVideo){var w=j.baseTexture.resource.source.cloneNode(!0);if("CANVAS"==w.tagName&&((w=new Image(this.props.width,this.props.height)).src=b.url),w.style.position="absolute",w.style.top="0px",w.style.height=this.props.height+"px",w.style.width=this.props.width+"px",w.style.objectFit="cover",!this.props.isTemplateGridPreview&&c&&0==y){j.baseTexture.resource.source.currentTime&&j.baseTexture.resource.source.currentTime>0?w.currentTime=j.baseTexture.resource.source.currentTime:w.currentTime=.1,c.appendChild(w);for(var Z=0;Z<c.children.length-2;Z++)c.removeChild(c.children[Z])}}var k=this.GenerateBackgroundSprite(j,t.width,t.height,b.mode,b.frame,t.currentScaleX,t.currentScaleY);if(k.visible=!1,"fit"==b.mode&&this.recordVideo){var C=new OffscreenCanvas(this.props.width,this.props.height),I=new x.Application({forceCanvas:!1,width:this.props.width,height:this.props.height,backgroundAlpha:0,view:C}),T=this.GenerateBackgroundSprite(j,t.width,t.height,"crop",b.frame,t.currentScaleX,t.currentScaleY);T.filters=[new x.filters.BlurFilter(7)],I.stage.addChild(T),I.render();var E=C.transferToImageBitmap(),A=x.Sprite.from(E);A.width=this.props.width,A.height=this.props.height,v.addChild(A)}if(v.addChild(k),t.sceneBackgroundSources.push(b),t.sceneBackgroundTextures.push(j),t.sceneBackgroundSprites.push(k),0==y&&(k.visible=!0,t.CurrentBackGroundSource=b,t.CurrentBackgroundTexture=j,t.CurrentBackgroundSprite=k,t.CurrentBackgroundIndex=0,t.CurrentScene.background.bg_animation&&""!==t.CurrentScene.background.bg_animation.animation&&"fit"!==t.CurrentBackGroundSource.mode&&"video"!==t.CurrentBackGroundSource.type)){var _=F[t.CurrentScene.background.bg_animation.animation];if(_){var R=_.Animate(t.CurrentBackgroundSprite,{duration:t.CurrentScene.time});t.BackgroundAnimations.push(R)}}}}if(t.CurrentScene.background.bg_mask){var P=this.GenerateBackgroundGraphic(t.CurrentScene.background.bg_mask.color,parseFloat(t.CurrentScene.background.bg_mask.area)*t.width,t.height);P.x=0,"left"!==t.CurrentScene.background.bg_mask.side&&(P.x=t.width-P.width),v.addChild(P)}if(t.CurrentScene.background.logo&&t.CurrentScene.background.logo.src&&""!==t.CurrentScene.background.logo.src){var N=pe(t.CurrentScene.background.logo.src);if(N&&!this.props.isTemplateGridPreview){var O=this.GenerateLogoSprite(N,t.width,t.height,t.CurrentScene.background.logo.location,t.CurrentScene.background.logo.location_y,t.currentScaleY,t.CurrentScene.background.logo.size,t.CurrentScene.background.logo.opacity,t.CurrentScene.background.logo.width,t.CurrentScene.background.logo.leftCoordinate,t.CurrentScene.background.logo.topCoordinate);if(t.CurrentLogoSprite=O,t.CurrentScene.background.logo_animation&&""!==t.CurrentScene.background.logo_animation.animation){var D=F[t.CurrentScene.background.logo_animation.animation];if(D){var U=D.Animate(O,{speed:t.CurrentScene.background.logo_animation.animation.speed,canvasHeight:t.height,canvasWidth:t.width});t.BackgroundAnimations.push(U)}}}}if(this.props.brandingWatermarkUrl&&""!==this.props.brandingWatermarkUrl){var L=H(this.props.brandingWatermarkUrl);if(L){var V;t.CurrentScene.background.logo&&t.CurrentScene.background.logo.src&&""!==t.CurrentScene.background.logo.src&&(V=t.CurrentScene.background.logo.location);var B=this.GenerateWatermarkSprite(L,t.width,t.height,V);v.addChild(B)}}this.app.stage.addChild(v),(t=this.setSubScene(0,t,i)).CurrentLogoSprite&&t.CurrentScene.background.logo&&t.CurrentScene.background.logo.src&&""!=t.CurrentScene.background.logo.src&&!this.props.isTemplateGridPreview&&this.app.stage.addChild(t.CurrentLogoSprite),t.CurrentBackGroundSource&&"video"===t.CurrentBackGroundSource.type&&t.CurrentBackgroundTexture&&t.CurrentBackgroundTexture.baseTexture?(t.CurrentBackGroundSource.start||0==t.CurrentBackGroundSource.start?(t.CurrentBackgroundTexture.baseTexture.resource.source.currentTime=t.CurrentBackGroundSource.start,t.CurrentBackgroundTexture.baseTexture.resource.source.duration>t.CurrentBackGroundSource.end-t.CurrentBackGroundSource.start&&(t.CurrentBackgroundTexture.baseTexture.resource.source.loop=!1,t.CurrentBackgroundTexture.baseTexture.resource.source.addEventListener("ended",(function(){t.CurrentBackgroundTexture.baseTexture.resource.source.currentTime=t.CurrentBackGroundSource.start,t.CurrentBackgroundTexture.baseTexture.resource.source.play()}),!1))):0!=t.CurrentBackgroundTexture.baseTexture.resource.source.currentTime&&(t.CurrentBackgroundTexture.baseTexture.resource.source.currentTime=0),t.CurrentBackgroundTexture.baseTexture.resource.source.readyState<2&&(this.setState({isBuffering:!0}),this.recordVideo||(t.Audio&&t.Audio.pause(),t.BackgroundMusic&&t.BackgroundMusic.pause())),null===t.CurrentBackGroundSource.mute||!1!==t.CurrentBackGroundSource.mute||this.isTemplatePreview?t.CurrentBackgroundTexture.baseTexture.resource.source.volume=0:t.CurrentBackgroundTexture.baseTexture.resource.source.volume=1,t.CurrentBackgroundTexture.baseTexture.resource.source.play().then((function(){i?a.playScene(t,r):a.globalCurrentPlaybackStateObj=t}))):i?this.playScene(t,r):(this.globalCurrentPlaybackStateObj=t,this.templatesPreviewRetryCount=this.templatesPreviewRetryCount?this.templatesPreviewRetryCount+1:1,this.templatesPreviewRetryCount<2&&setTimeout((function(){a.app.stage.removeChildren(),a.playvid(0,!1)}),500))}else this.recordVideo||(t.Audio&&t.Audio.pause(),t.BackgroundMusic&&t.BackgroundMusic.pause(),this.props.singleScenePreview||(this.setState({showPlay:!0,gotoScenenumber:0}),this.videoEnded=!0)),this.props.singleScenePreview&&(this.handleClose(),this.props.hasVideoEndedNew&&this.props.hasVideoEndedNew(!0))}},{key:"playScene",value:function(e,t){var n=this;this.setState({showPlay:!1,isBuffering:!1,gotoScenenumber:-1},(0,a.Z)((0,s.Z)().mark((function r(){var a,i,o,c,l;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.isPlaying=!0,a=Date.now(),e.CurrentSceneStartTime=a,e.CurrentSubsceneStartTime=a,n.recordVideo&&(e.PartRecordingStartTime=a,e.PartIndex=0),n.recordVideo||(e.Audio&&!e.Audio.isPlaying&&(e.Audio.currentTime=e.CurrentScene.startTime,!1===e.CurrentScene.tts?e.Audio.volume=0:e.Audio.volume=e.voiceoverTrackVolume,e.Audio.play()),e.BackgroundMusic&&(e.BackgroundMusic.volume=e.backgroundTrackVolume,t&&(e.BackgroundMusic.duration<e.CurrentScene.time?e.BackgroundMusic.currentTime=e.CurrentScene.startTime%e.BackgroundMusic.duration:e.BackgroundMusic.currentTime=e.CurrentScene.startTime),!1===e.CurrentScene.music&&e.BackgroundMusic&&(e.BackgroundMusic.volume=0),e.BackgroundMusic.isPlaying||e.BackgroundMusic.play())),n.playAnimations(e),r.next=9,n.RenderFrame(e);case 9:if(i=document.querySelector(".video-seek-container"),o=n.state.scrollLeftForScenes[e.CurrentSceneIndex],i&&!(i.scrollLeft+i.clientWidth<o)){r.next=15;break}return r.abrupt("return");case 15:i.scrollLeft>o?(c=n.state.scrollLeftForScenes[e.CurrentSceneIndex+1],i.scrollLeft<c&&(i.scrollLeft-=i.scrollLeft-o)):(l=i.scrollLeft+i.clientWidth,o<=l&&o+10*e.CurrentScene.time>l&&(i.scrollLeft+=i.clientWidth-(l-o)-10));case 16:case"end":return r.stop()}}),r)}))))}},{key:"setSubScene",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now();this.CleanupSubScene(t);var s=t.scenes[t.CurrentSceneIndex].sub_scenes[e];if(s&&s.time>0){var a=new x.Container;this.sceneDurationRun[t.CurrentSceneIndex]&&this.sceneDurationRun[t.CurrentSceneIndex].subscenes&&this.sceneDurationRun[t.CurrentSceneIndex].subscenes.push({index:e,durationRun:0,parts:[]});var i=0;s.font.name.includes("Poppins")||s.font.name.includes("NotoSans")||s.font.name.includes("OpenSans");for(var o=[],c=[],l=null,u=null,d=0;d<s.text_lines.length;d++){var p=s.text_lines[d],h=ee(t,s,d);this.calculateLinePosition(s,h,t,d,i,p),this.AddAnimations(p,h,s,t,o,c,d,u,l,a,i,n,!1,e),a.addChild(h)}if(s.displayItems&&s.displayItems.length>0){o=[],c=[];for(var m=0;m<s.displayItems.length;m++){var g=s.displayItems[m];if("visual"==g.type)this.handleVisualDisplayItem(g,t,a);else for(var f=0;f<g.text_lines.length;f++){var v=g.text_lines[f];g.time=s.time,1==g.font.fullWidth&&""==v.text&&(g.text_lines[f].text=" "),h=ee(t,g,f),g.isCounter&&(h=te(t,g,f),v.text_animation[0].animation="CountDown",v.text_animation[1].animation="None"),this.calculateLinePosition(g,h,t,f,i,v,!0),this.AddAnimations(v,h,g,t,o,c,f,u,l,a,i,n,!0),a.addChild(h)}}}this.app.stage.addChild(a),t.CurrentSubsceneStartTime=r,t.CurrentSubscene=s,t.CurrentSubsceneIndex=e,t.CurrentSubSceneContainer=a,this.recordVideo&&(t.PartRecordingStartTime=r,t.PartIndex=0)}return t}},{key:"handleVisualDisplayItem",value:function(e,t,n){var r=new URL(e.src);e.src=r.toString();var s=G(e.id?e.src+e.id:e.src);if(s){var a,i,o,c,l;if(s.valid){var u=new x.Sprite(s.clone());s=u}else s=s.clone();var d=s.height/s.width;if(s.width=parseFloat(e.location.width)/100*t.width,s.height=d*s.width,e.location.preset){var p=e.location.preset,h=t.width,m=t.height;"top-left"===p?(s.x=.07*h,s.y=.07*m):"top-right"===p?(s.x=h-s.width-.05*h,s.y=.07*m):"top-center"===p?(s.x=h/2-s.width/2,s.y=.07*m):"center-left"===p?(s.x=.07*h,s.y=m/2-s.height/2):"center-center"===p?(s.x=h/2-s.width/2,s.y=m/2-s.height/2):"center-right"===p?(s.x=h-s.width-.07*h,s.y=m/2-s.height/2):"bottom-left"===p?(s.x=.07*h,s.y=m-.02*m-s.height):"bottom-center"===p?(s.x=h/2-s.width/2,s.y=m-.07*m-s.height):"bottom-right"===p&&(s.x=h-s.width-.01*h,s.y=m-.07*m-s.height)}else s.y=t.height*parseFloat(e.location.topCoordinate)/100,s.x=t.width*parseFloat(e.location.leftCoordinate)/100;e.location.flipHorizontal&&(s.scale.x=-s.scale.x,s.x=s.x+s.width),e.location.flipVertical&&(s.scale.y=-s.scale.y,s.y=s.y+s.height),e.location.rotation&&(s.angle=e.location.rotation),e.location.opacity&&(s.alpha=e.location.opacity),"video"===e.visualType&&null!=(null===(a=s)||void 0===a||null===(i=a.texture)||void 0===i||null===(o=i.baseTexture)||void 0===o||null===(c=o.resource)||void 0===c||null===(l=c.source)||void 0===l?void 0:l.currentTime)&&(s.texture.baseTexture.resource.source.currentTime=0,s.texture.baseTexture.resource.source.pause(),e.trimStart&&(s.texture.baseTexture.resource.source.currentTime=e.trimStart),e.mute&&(s.texture.baseTexture.resource.source.volume=0),t.displayItemVideos.push(s)),n.addChild(s)}}},{key:"removeHTML",value:function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}},{key:"AddAnimations",value:function(e,t,n,r,s,a,i,o,c,l,u,d,p,h){var m=0;e.text&&(m=e.text.replaceAll("<strong>","").replaceAll("</strong>","").length),t.y;var g=0,f=0;if(e.text_animation&&e.text_animation.length>0&&""!==e.text_animation[0].animation&&"templates"===e.text_animation[0].source){var v=n.text_lines.length,x=.1,S=.1,y=e.text_animation.filter((function(e){return"start"==e.type&&"none"!=e.animation})),b=e.text_animation.filter((function(e){return"end"==e.type&&"none"!=e.animation}));y[0]&&y[0].speed&&y[0].speed>=0&&(g=y[0].speed),b[0]&&b[0].speed&&b[0].speed>=0&&(f=b[0].speed);var j=(x=v*g)+(S=v*f),w=1;if(j>n.time+.2&&(g=(x*=w=n.time/j)/v,f=(S*=w)/v,r.scenes[r.CurrentSceneIndex].subtitles&&r.scenes[r.CurrentSceneIndex].subtitles[h]&&r.scenes[r.CurrentSceneIndex].subtitles[h].text.length>0&&e.text_bg_animation&&e.text_bg_animation[0]&&"typewriter-reveal"==e.text_bg_animation[0].animation&&!p)){var Z=r.scenes[r.CurrentSceneIndex].subtitles[h].text.length;g=x*this.removeHTML(e.text).replaceAll("<strong>","").replaceAll("</strong>","").length/Z,s.push(g),f=S*this.removeHTML(e.text).replaceAll("<strong>","").replaceAll("</strong>","").length/Z,a.push(f)}}if((n.font.backcolor&&"none"!==n.font.backcolor||n.font.backcolor_fullwidth&&"none"!==n.font.backcolor_fullwidth)&&e.text){var k;0==i&&1==n.font.fullWidth&&((E=this.GenerateBackgroundGraphic(n.font.backcolor_fullwidth?n.font.backcolor_fullwidth:n.font.backcolor,r.width,n.fullWidthBG.height)).x=0,E.y=n.fullWidthBG.y,l.addChild(E));var C=t.height-1.33*parseFloat(n.font.size)*r.currentScaleY*.75+u;if(n.font.line_height&&n.font.line_height>0){var I=n.font.line_height*r.currentScaleY+1.33*parseFloat(n.font.size)*r.currentScaleY*.15+u;C=I>C?I:C}var T=0;r.isTemplateGridPreview&&(T=5);var E=this.GenerateBackgroundGraphic(n.font.backcolor,t.width+T,C,!1,null!==(k=n.font)&&void 0!==k&&k.textBackgroundRadius?n.font.textBackgroundRadius:0),A=this.GenerateBackgroundGraphic("rgba(0,0,0,1)",t.width+T,C,!0),_=(E.height,t.x-1.33*parseFloat(n.font.size)*r.currentScaleY*.4),R=t.y-1.33*parseFloat(n.font.size)*r.currentScaleY*.08;if(n.font.name.includes("Rokkitt")&&r.currentScaleY>.25&&(R-=.1*t.height),this.props.isTemplateGridPreview&&(R+=.025*R),this.props.transcribePreview&&(R*=.99,_*=.99),E.x=_,E.y=R,A.x=_,A.y=R,n.font.fullWidth||l.addChild(E),e.text_bg_animation&&e.text_bg_animation.length>0&&""!==e.text_bg_animation[0].animation&&d)for(var P=0;P<e.text_bg_animation.length;P++){var N=F[e.text_bg_animation[P].animation];if(N){var O=!1,D=e.text_bg_animation[P].speed;if("templates"===e.text_bg_animation[P].source){O=!0,D=g;var U=0;e.text_bg_animation&&"end"===e.text_bg_animation[P].type&&(D=f,U=n.time-(n.text_lines.length-i)*D>0?n.time-(n.text_lines.length-i)*D:.1)}else e.text_bg_animation[P].speed+.2>n.time&&(D=n.time/2,e.text_animation&&e.text_animation[P]&&e.text_animation[P].speed&&(D-=e.text_animation[P].speed-e.text_bg_animation[P].speed));var L=N.Animate(E,{speed:D,canvasHeight:r.height,canvasWidth:r.width,index:i,totalLines:n.text_lines.length,isBackground:!0,delayValue:U,textLength:m,isTemplate:O,SpriteFinalX:_,SpriteFinalY:R,entrySpeedArray:s}),V=N.Animate(A,{speed:D,canvasHeight:r.height,canvasWidth:r.width,index:i,totalLines:n.text_lines.length,isBackground:!0,isMask:!0,Textsprite:t,SubSceneContainer:l,delayValue:U,textLength:m,isTemplate:O,SpriteFinalX:_,SpriteFinalY:R,entrySpeedArray:s});L&&r.TextAnimations.push(L),V&&r.TextAnimations.push(V)}}}var B=t.x,M=t.y;if(e.text_animation&&e.text_animation.length>0&&""!==e.text_animation[0].animation&&d)for(var G=0;G<e.text_animation.length;G++){var W=F[e.text_animation[G].animation];if(W){var z=!1;D=e.text_animation[G].speed,"templates"===e.text_animation[G].source?(z=!0,D=g,U=0,"end"===e.text_animation[G].type&&(D=f,U=n.time-(n.text_lines.length-i)*D>0?n.time-(n.text_lines.length-i)*D:.1)):e.text_animation[G].speed+.2>n.time&&(D=n.time/2);var J=W.Animate(t,{speed:D,canvasHeight:r.height,canvasWidth:r.width,index:i,totalLines:n.text_lines.length,delayValue:U,textLength:m,isTemplate:z,SpriteFinalX:B,SpriteFinalY:M});J&&r.TextAnimations.push(J)}}return{backgroundBoxHeight:o,bgSpriteFullWidthFinalY:c}}},{key:"calculateLinePosition",value:function(e,t,n,r,s,a,i){void 0!==e.location.start_x&&""!==e.location.start_x?t.x=e.location.start_x*n.currentScaleX:void 0!==e.location.end_x&&""!==e.location.end_x?(t.x=e.location.end_x*n.currentScaleX-t.width,t.x=t.x+1.33*parseFloat(e.font.size)*n.currentScaleY*.6):void 0!==e.location.center_x&&""!==e.location.center_x?(t.x=e.location.center_x*n.currentScaleX-t.width/2,t.x=t.x+1.33*parseFloat(e.font.size)*n.currentScaleY*.5):t.x=n.width/2-t.width/2,e.font.fullWidth&&(t.x=0==t.x?8+1.33*parseFloat(e.font.size)*n.currentScaleY*.25:t.x);var o=!1;if(void 0!==e.location.start_y&&""!==e.location.start_y?((e.location.start_y<=16+1.33*parseFloat(e.font.size)*n.currentScaleY*.1||0==e.location.start_y)&&(o=!0),t.y=e.location.start_y*n.currentScaleY+1.33*parseFloat(e.font.size)*n.currentScaleY*.15+r*(t.height-1.33*parseFloat(e.font.size)*n.currentScaleY*.2),a.text||(t.y=t.y-10)):void 0!==e.location.end_y&&""!==e.location.end_y?t.y=e.location.end_y*n.currentScaleY-(e.text_lines.length-r)*(e.font.line_height*n.currentScaleY):t.y=n.height/2-t.height/2,this.props.isTemplateGridPreview&&e.font.fullWidth&&"full-width-center"==e.location.preset&&(t.y=t.y+18),e.font.fullWidth){e.fullWidthBG={};var c=t.height,l=1.33*parseFloat(e.font.size)*n.currentScaleY,u=16+.15*l,d=1.33*parseFloat(e.font.size)*n.currentScaleY*.15+e.text_lines.length*(t.height-1.33*parseFloat(e.font.size)*n.currentScaleY*.2);"full-width-top"==e.location.preset||o?(t.y=r*(t.height-.2*l)+u,e.fullWidthBG.y=0,e.fullWidthBG.height=2*u+(t.height-.25*c)*e.text_lines.length):"full-width-bottom"==e.location.preset?(t.y=n.height-u-(e.text_lines.length-r)*(t.height-.25*c),e.fullWidthBG.y=0==r?t.y-u:0,e.fullWidthBG.height=n.height-e.fullWidthBG.y):"full-width-center"==e.location.preset?(e.fullWidthBG.y=0==r?t.y-u:0,e.fullWidthBG.height=2*u+(t.height-.25*c)*e.text_lines.length):(t.y=t.y+u+.1*c,e.fullWidthBG.y=0==r?t.y-u:0,e.fullWidthBG.height=2*u+(t.height-.25*c)*e.text_lines.length,this.props.isTemplateGridPreview&&(t.y=t.y-25,e.fullWidthBG.y=0==r?t.y-6:0,e.fullWidthBG.height=d+.15*d))}}},{key:"calculatePosition",value:function(e,t,n,r,s,a,i){return e=.5*parseFloat(t.font.size)*1.33,void 0!==t.location.center_x&&""!==t.location.center_x&&(n.x=t.location.center_x*r.currentScaleX-n.width/2),void 0!==t.location.start_y&&""!==t.location.start_y&&(t.font.line_height?(n.y=(t.location.start_y+.1*parseFloat(t.font.size)*1.33)*r.currentScaleY+s*(t.font.line_height*r.currentScaleY+a+(t.font.line_spacing-1)*(1.33*parseFloat(t.font.size)*r.currentScaleY)),n.y=n.y+t.font.line_height*r.currentScaleY-n.height):(n.y=t.location.start_y*r.currentScaleY+s*(n.height+(t.font.line_spacing-1)*(1.33*parseFloat(t.font.size)*r.currentScaleY)+2),n.y=n.y+t.font.line_height*r.currentScaleY-n.height+1.33*parseFloat(t.font.size)*r.currentScaleY*1.3),i.text||(n.y=n.y-10)),e}},{key:"setNextBackground",value:function(e){var t,n,r,s=this;return e.CurrentBackGroundSource&&"video"===e.CurrentBackGroundSource.type&&e.CurrentBackgroundTexture&&e.CurrentBackgroundTexture.baseTexture&&(null===(t=e.CurrentBackgroundTexture.baseTexture)||void 0===t||null===(n=t.resource)||void 0===n||null===(r=n.source)||void 0===r||r.pause()),e.CurrentBackgroundSprite.visible=!1,e.CurrentBackgroundIndex=e.CurrentBackgroundIndex+1,e.CurrentBackGroundSource=e.sceneBackgroundSources[e.CurrentBackgroundIndex],e.CurrentBackgroundTexture=e.sceneBackgroundTextures[e.CurrentBackgroundIndex],e.CurrentBackgroundSprite=e.sceneBackgroundSprites[e.CurrentBackgroundIndex],e.CurrentBackgroundSprite.visible=!0,e.CurrentBackGroundSource.start?e.CurrentBackgroundTexture.baseTexture.resource.source.currentTime=e.CurrentBackGroundSource.start:0!=e.CurrentBackgroundTexture.baseTexture.resource.source.currentTime&&(e.CurrentBackgroundTexture.baseTexture.resource.source.currentTime=0),e.CurrentBackGroundSource&&"video"===e.CurrentBackGroundSource.type&&e.CurrentBackgroundTexture&&e.CurrentBackgroundTexture.baseTexture&&(null===e.CurrentBackGroundSource.mute||!1!==e.CurrentBackGroundSource.mute||this.isTemplatePreview?e.CurrentBackgroundTexture.baseTexture.resource.source.volume=0:e.CurrentBackgroundTexture.baseTexture.resource.source.volume=1,e.CurrentBackgroundTexture.baseTexture.resource.source.play().then((function(){s.setState({showPlay:!1,isBuffering:!1,gotoScenenumber:-1})}))),e}},{key:"sendFramesToServer",value:(t=(0,a.Z)((0,s.Z)().mark((function e(){var t,n,a,i,o,c,l,u,d,h,m,g,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.props.webmrecording){e.next=6;break}this.streamRecorder.stop(),this.streamRecorder=null,e.next=47;break;case 6:console.log("TOTAL_GENERATED_FRAMES - ".concat(this.sceneFrames.length)),t=1,n=[],a=0;case 10:if(!(a<this.sceneFrames.length)){e.next=47;break}return i=this.sceneFrames[a],this.sceneDurationRun[0].durationRun.toFixed(2),this.sceneDurationRun[0].subscenes[i.subSceneIndex]&&this.sceneDurationRun[0].subscenes[i.subSceneIndex].durationRun.toFixed(2),o=this.sceneDurationRun[0].durationRun.toFixed(2),this.sceneDurationRun[0].subscenes[i.subSceneIndex]&&this.sceneDurationRun[0].subscenes[i.subSceneIndex].parts[i.partIndex]&&(o=this.sceneDurationRun[0].subscenes[i.subSceneIndex].parts[i.partIndex].durationRun.toFixed(2)),e.prev=16,c="".concat(t.toString().padStart(15,"0"),"_").concat(i.subSceneIndex.toString().padStart(4,"0"),"_").concat(i.partIndex.toString().padStart(4,"0"),"_").concat(o,".png"),(l=new OffscreenCanvas(i.bitmap.width,i.bitmap.height)).getContext("bitmaprenderer").transferFromImageBitmap(i.bitmap),e.next=23,l.convertToBlob();case 23:if(u=e.sent,n.push({frameFileName:c,blob:u}),!(40===n.length||n.length>0&&a===this.sceneFrames.length-1)){e.next=34;break}(d=new FormData).append("destination",this.props.framesdestination),h=(0,r.Z)(n);try{for(h.s();!(m=h.n()).done;)g=m.value,d.append("files[]",g.blob,g.frameFileName)}catch(e){h.e(e)}finally{h.f()}return f={header:{"Content-Type":"multipart/form-data"}},e.next=33,p().post("http://127.0.0.1:9090/api/v1/frame",d,f);case 33:n=[];case 34:e.next=42;break;case 36:return e.prev=36,e.t0=e.catch(16),console.log("FRAMES_CREATE_ERROR - ".concat(e.t0.message,", frame - ").concat(t)),e.next=41,this.sleep(500);case 41:throw e.t0;case 42:console.log("FRAMES_UPLOADED - ".concat(t)),t++;case 44:a++,e.next=10;break;case 47:e.next=53;break;case 49:return e.prev=49,e.t1=e.catch(0),console.log("FRAMES_UPLOAD_ERROR - ".concat(e.t1.message)),e.abrupt("return",!1);case 53:return this.sceneFrames=[],e.abrupt("return",!0);case 55:case"end":return e.stop()}}),e,this,[[0,49],[16,36]])}))),function(){return t.apply(this,arguments)})},{key:"pause",value:function(e){var t=this;return function(e){var n,r,s;e.Audio&&e.Audio.pause(),e.BackgroundMusic&&e.BackgroundMusic.pause(),e.CurrentBackGroundSource&&"video"===e.CurrentBackGroundSource.type&&e.CurrentBackgroundTexture&&e.CurrentBackgroundTexture.baseTexture&&(null===(n=e.CurrentBackgroundTexture.baseTexture)||void 0===n||null===(r=n.resource)||void 0===r||null===(s=r.source)||void 0===s||s.pause()),t.pauseAnimations(e);for(var a=0;a<(null===(i=e)||void 0===i||null===(o=i.displayItemVideos)||void 0===o?void 0:o.length);a++){var i,o,c,l,u,d,p,h=null===(c=e)||void 0===c?void 0:c.displayItemVideos[a];null!=h&&null!==(l=h.texture)&&void 0!==l&&null!==(u=l.baseTexture)&&void 0!==u&&null!==(d=u.resource)&&void 0!==d&&null!==(p=d.source)&&void 0!==p&&p.pause&&h.texture.baseTexture.resource.source.pause()}t.pausedPlaybackState=e,-1===t.state.gotoScenenumber||t.videoEnded||(e=t.pausedPlaybackState,t.setScene(t.state.gotoScenenumber,e,!0,!0))}(e)}},{key:"pauseAnimations",value:function(e){e&&e.BackgroundAnimations&&e.BackgroundAnimations.forEach((function(e){e.pause()})),e&&e.TextAnimations&&e.TextAnimations.forEach((function(e){e.pause()}))}},{key:"SetEndTransition",value:function(e,t){if(e.CurrentScene["in-effect"]){var r=n(37752)("./"+e.CurrentScene["in-effect"]+".jpg"),s=x.Sprite.from(r),a=(.6-(e.CurrentScene.time-(t-e.CurrentSceneStartTime)/1e3))/.6,i=new x.Filter(null,"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uTextureOne;\nuniform float progress;\nvoid main(void) {\n  vec2 uv= vTextureCoord;\n  vec4 color = texture2D(uSampler,uv);\n  vec4 color2 = 1.0-texture2D(uTextureOne,uv);\n  vec3 diff = color2.rgb - (1.0/color2.rgb)*(progress);\n  vec3 fin;\n  if(color.r < diff.r && color.g < diff.g && color.b < diff.b){\n     fin = color.rgb;\n  }\n  else{\n     fin = mix(color.rgb,diff,progress);\n  }\n  gl_FragColor =vec4(fin, 1.0);\n}\n");i.uniforms.uTextureOne=s.texture,i.uniforms.progress=a,this.app.stage.filters=[i]}}},{key:"SetStartTransition",value:function(e){if(e.CurrentScene["out-effect"]){var t=n(37752)("./"+e.CurrentScene["out-effect"]+".jpg"),r=e.ElapsedTime/1e3/.6,s=x.Sprite.from(t),a=new x.Filter(null,"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uTextureOne;\nuniform float progress;\nvoid main(void) {\n  if(progress >0.1){\n    vec2 uv= vTextureCoord;\n    vec4 color = texture2D(uSampler,uv);\n    vec4 color2 = texture2D(uTextureOne,uv);\n    vec3 diff =  (1.0/color2.rgb)*(progress);\n    vec3 newcolor= color.rgb;\n    if((color.r*(diff.r-(1.0-progress))) <= color.r && (color.g*(diff.g-(1.0-progress))) <= color.g  && (color.b*(diff.b-(1.0-progress))) <= color.b  ){\n      newcolor= vec3((color.r*(diff.r-(1.0-progress))),(color.g*(diff.g-(1.0-progress))),(color.b*(diff.b-(1.0-progress))));\n    }\n    gl_FragColor =vec4(newcolor, 1.0);;\n  }\n  else{\n    gl_FragColor= vec4(0.0,0.0,0.0,1.0);\n  }\n}\n");a.uniforms.uTextureOne=s.texture,a.uniforms.progress=r,this.app.stage.filters=[a]}}},{key:"GenerateBackgroundSprite",value:function(e,t,n,r,s,a,i){var o=new x.Sprite(e),c=de(e,t,n,r);return o.width=e.width*c,o.height=e.height*c,o.width,o.x=t/2-o.width/2,o.y=n/2-o.height/2,s&&(o.x=o.x+s.center_x*a,o.y=o.y+s.center_y*i),o}},{key:"GenerateLogoSprite",value:function(e,t,n,r,s,a,i,o,c,l,u){var d=new x.Sprite(e),p=e.width/e.height;if(i?(d.width=i*t,d.height=d.width*(1/p)):(d.width=c?parseFloat(c.replace("%",""))/100*t:.1*t,d.height=d.width*(1/p)),"top-left"===r?(d.x=.02*t,d.y=.02*n):"top-right"===r?(d.x=t-d.width-.01*t,d.y=.02*n):"top-center"===r?(d.x=t/2-d.width/2,d.y=.02*n):"center-left"===r?(d.x=.02*t,d.y=n/2-d.height/2):"center-center"===r?(d.x=t/2-d.width/2,d.y=n/2-d.height/2):"center-right"===r?(d.x=t-d.width-.01*t,d.y=n/2-d.height/2):"bottom-left"===r?(d.x=.02*t,d.y=n-.02*n-d.height):"bottom-center"===r?(d.x=t/2-d.width/2,d.y=n-.02*n-d.height):"bottom-right"===r?(d.x=t-d.width-.01*t,d.y=n-.02*n-d.height):"center"===r?(d.x=t/2-d.width/2,d.y=s?s*a:.02*n):(d.x=t-d.width-.01*t,d.y=.02*n),l&&u){var h=parseFloat(l.replace("%",""))/100*t,m=parseFloat(u.replace("%",""))/100*n;d.x=h,d.y=m}return o&&!Number.isNaN(o)&&(d.alpha=o),d}},{key:"GenerateWatermarkSprite",value:function(e,t,n,r){var s=new x.Sprite(e),a=s.width/s.height;return s.height>10*n/100&&(s.height=10*n/100,s.width=s.height*a),r&&"top-left"===r?(s.x=t-s.width-.03*t,s.y=.05*n):(s.x=.03*t,s.y=.05*n),s}},{key:"GenerateBackgroundGraphic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=new x.Graphics,i=1;if(e){if(e.includes("rgba")){var o=e.replace("rgba(","").replace(")","").split(",");i=parseInt(o[3])/255,parseFloat(o[3])>=0&&parseFloat(o[3])<=1&&(i=parseFloat(o[3]))}else o=e.replace("rgb(","").replace(")","").split(",");var c=this.ConvertRGBtoHex(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]));r?a.beginFill():a.beginFill(x.utils.string2hex(c),1),a.drawRoundedRect(0,0,t,n,s),a.endFill(),a.alpha=i}return a}},{key:"ColorToHex",value:function(e){var t=e.toString(16);return 1==t.length?"0"+t:t}},{key:"ConvertRGBtoHex",value:function(e,t,n){return"#"+this.ColorToHex(e)+this.ColorToHex(t)+this.ColorToHex(n)}},{key:"CleanupScene",value:function(e){if(e.CurrentBackGroundSource&&"video"===e.CurrentBackGroundSource.type&&e.CurrentBackgroundTexture&&e.CurrentBackgroundTexture.baseTexture)try{e.CurrentBackgroundTexture.baseTexture.resource.source.removeAttribute("src"),e.CurrentBackgroundTexture.baseTexture.resource.source.load(),x.Texture.removeFromCache(e.CurrentBackgroundTexture)}catch(e){}for(var t=0;t<(null==e||null===(n=e.displayItemVideos)||void 0===n?void 0:n.length);t++){var n,r,s,a,i,o=null==e?void 0:e.displayItemVideos[t];null!=o&&null!==(r=o.texture)&&void 0!==r&&null!==(s=r.baseTexture)&&void 0!==s&&null!==(a=s.resource)&&void 0!==a&&null!==(i=a.source)&&void 0!==i&&i.pause&&o.texture.baseTexture.resource.source.pause()}h.p8.globalTimeline.clear(!0),e.CurrentLogoSprite&&this.app.stage.removeChild(e.CurrentLogoSprite),e.CurrentSceneContainer&&(this.app.stage.removeChild(e.CurrentSceneContainer),e.CurrentSceneContainer.destroy({children:!0,texture:!1,baseTexture:!1})),e.BackgroundAnimations=[],e.switchSubsceneForRecording=!1,e.switchSceneForRecording=!1}},{key:"CleanupSubScene",value:function(e){e.CurrentSubSceneContainer&&(this.app.stage.removeChild(e.CurrentSubSceneContainer),e.CurrentSubSceneContainer.destroy({children:!0,texture:!1,baseTexture:!1}));for(var t=0;t<(null==e||null===(n=e.displayItemVideos)||void 0===n?void 0:n.length);t++){var n,r,s,a,i,o=null==e?void 0:e.displayItemVideos[t];null!=o&&null!==(r=o.texture)&&void 0!==r&&null!==(s=r.baseTexture)&&void 0!==s&&null!==(a=s.resource)&&void 0!==a&&null!==(i=a.source)&&void 0!==i&&i.pause&&o.texture.baseTexture.resource.source.pause()}e.TextAnimations=[],e.switchSubsceneForRecording=!1,e.switchSceneForRecording=!1,e.displayItemVideos=[]}},{key:"playAnimations",value:function(e){e.BackgroundAnimations.forEach((function(e){e.play()})),this.playTextAnimations(e)}},{key:"playTextAnimations",value:function(e){e.TextAnimations.forEach((function(e){e.play()}))}},{key:"secondsToHms",value:function(e){return(e=Number(e))>=3600?v().utc(1e3*e).format("H:mm:ss"):v().utc(1e3*e).format("m:ss")}},{key:"render",value:function(){var e=this;return(0,be.jsx)(y.Z,{onClick:function(t){var n,r;null!==(n=t.target)&&void 0!==n&&null!==(r=n.classList)&&void 0!==r&&r.contains("videoPreviewOverlay")&&e.handleClose()},children:this.state.showPreview?this.props.singleScenePreview||this.props.transcribePreview?this.state.startScene||this.props.transcribePreview?(0,be.jsxs)("div",{style:{position:"relative",zIndex:8},className:"preview-container",children:[(0,be.jsx)(k.Z,{type:"ThreeDots",color:"Blue",height:74,width:74,visible:this.state.isBuffering,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"999",width:"74px"}}),this.state.showPlay&&!this.props.isTemplateGridPreview&&!this.props.transcribePreview&&(0,be.jsx)("span",{id:"playButton",className:"fa fa-play",onClick:this.playVideo}),!this.state.showPlay&&!this.props.isTemplateGridPreview&&!this.props.transcribePreview&&(0,be.jsx)("span",{id:"pauseButton",className:"fa fa-pause",onClick:this.pauseVideo}),!this.props.isTemplateGridPreview&&(0,be.jsx)("div",{id:"blurBgDiv",style:{display:"flex",alignItems:"center",justifyContent:"center"}}),(0,be.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:this.props.isTemplateGridPreview||this.props.transcribePreview?"":"blur(8px)"},ref:this.LoadVideoPlaybackPopup})]}):(0,be.jsx)(be.Fragment,{}):(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(b.Z,{className:"modal-title text-left",sx:{position:"absolute",left:"20px",zIndex:"9999",color:"#fff !important",top:"20px"},variant:"text_2xl"}),(0,be.jsxs)("div",{className:"VideoProgressBar d-flex videoPreviewOverlay",children:[(0,be.jsx)(b.Z,{children:(0,be.jsx)(fe.Z,{sx:{position:"absolute",right:"14px",top:"16px",color:"#fff !important",zIndex:"9999",opacity:"1 !important",mr:"14px",mt:"16px"},id:"closeIcon",className:"close"+(this.props.noOfVideosGenerated>0?"":" novideogenerated"),onClick:this.handleClose})}),(0,be.jsxs)(y.Z,{sx:{margin:"0 auto"},children:[(0,be.jsxs)("div",{className:"preview-container fit-content position-relative "+(this.state.pauseVideoState?"video-paused":""),style:{borderRadius:"8px",overflow:"hidden",margin:"0 auto",marginTop:"10px"},children:[(0,be.jsx)("div",{className:"addl-txt",style:{padding:"15px 10px",position:"relative"},children:(0,be.jsxs)(y.Z,{sx:{display:"flex",alignItems:"center",borderRadius:"8px",justifyContent:"space-between",width:"100%"},children:[(0,be.jsx)(b.Z,{fontSize:"text_lg",color:"grey.900",sx:{fontWeight:600,fontSize:"15px !important",transform:"scale(0.95)"},children:"Video preview"}),(0,be.jsx)(j.Z,{title:"Click to share with others",placement:"right",arrow:!0,children:(0,be.jsx)(w.Z,{className:"preview-copy-link-button",sx:{borderRadius:"5px",width:"maxContent",display:"flex",padding:"7px 10px 7px 10px",transform:"scale(0.95)","&:hover":{background:"transparent",boxShadow:"0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15) !important"}},onClick:function(){xe()(e.props.sharedPreviewUrl),ye().getInstance().logEvent("copied-preview-link",{url:e.props.sharedPreviewUrl}),e.setState({copied:!0}),setTimeout((function(){e.setState({copied:!1})}),2e3)},children:(0,be.jsx)(b.Z,{sx:{maxWidth:"unset",width:"max-content"},children:"Copy preview link"})})}),(0,be.jsx)(Z.Z,{in:this.state.copied,children:(0,be.jsx)(y.Z,{sx:{position:"absolute",right:"8px",bottom:"-40%",padding:"8px 16px",borderRadius:"0",background:"rgba(102, 103, 119, 0.80)",color:"greywhite.lighter",zIndex:"99"},children:(0,be.jsx)(b.Z,{variant:"text_sm",children:"Link copied!"})})})]})}),(0,be.jsxs)("div",{style:{position:"relative",overflow:"hidden"},children:[(0,be.jsx)(k.Z,{type:"ThreeDots",color:"Blue",height:74,width:74,visible:this.state.isBuffering,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"999",width:"74px"}}),(0,be.jsxs)("div",{style:{position:"relative"},children:[(0,be.jsxs)("div",{children:[!this.props.isTemplateGridPreview&&(0,be.jsx)("div",{id:"blurBgDiv",style:{display:"flex",alignItems:"center",justifyContent:"center"}}),(0,be.jsx)("div",{style:{backdropFilter:this.props.isTemplateGridPreview?"":"blur(8px)",display:"inline-flex"},ref:this.LoadVideoPlaybackPopup}),this.state.showPlay&&!this.props.isTemplateGridPreview&&(0,be.jsx)("span",{id:"playButton",className:"fa fa-play",onClick:this.playVideo}),!this.state.showPlay&&!this.props.isTemplateGridPreview&&(0,be.jsx)("span",{id:"pauseButton",className:"fa fa-pause",onClick:this.pauseVideo})]}),(0,be.jsxs)(y.Z,{className:"progress-bar-wrapper",sx:{},children:[(0,be.jsxs)("div",{className:"flex-row space-between-center sortof-black small pb-2 video-timing",children:[(0,be.jsx)(b.Z,{sx:{color:"grey.9999",fontSize:"text_sm"},children:this.secondsToHms(this.state.timeDone)}),(0,be.jsx)(b.Z,{sx:{color:"grey.9999",fontSize:"text_sm"},children:this.secondsToHms(this.state.totalTime)})]}),(0,be.jsx)(j.Z,{open:!!this.state.scrolling,placement:"top",title:(0,be.jsxs)("div",{className:"seekbar-tooltip-content flex-row space-around-center",children:[(0,be.jsx)("i",{className:"fa fa-arrow-left font-size-xs"}),(0,be.jsxs)("strong",{children:["  Scene ",this.state.startSubceneIndex+1,"... Scene"," ",this.state.endSubceneIndex+1,"  "]}),(0,be.jsx)("i",{className:"fa fa-arrow-right font-size-xs"})]}),children:(0,be.jsxs)("div",{className:"video-seek-container",onScroll:function(t){if(!e.state.windowBusy){var n=t.target.scrollLeft,r=t.target.clientWidth;window.requestAnimationFrame((function(){e.counter=(e.counter||0)+1;var t=e.state.scrollLeftForSubscenes.findIndex((function(e){return e>=n})),s=(0,g.findLastIndex)(e.state.scrollLeftForSubscenes,(function(e){return e<=n+r}));-1===s&&(s=e.state.scrollLeftForSubscenes.length-1),e.setState({scrolling:!0,windowBusy:!1,scrollStartTime:new Date,startSubceneIndex:t,endSubceneIndex:s}),setTimeout((function(){(new Date).getTime()-e.state.scrollStartTime.getTime()>2e3&&e.setState({scrolling:!1})}),3e3)})),e.setState({windowBusy:!0})}},children:[(0,be.jsx)("div",{className:"video-seekbar-spacer"}),(0,be.jsx)("div",{className:"progress",style:{width:this.state.seekbarWidth},children:(0,be.jsx)("span",{className:"progress-bar progress-bar-grey progress-bar-second-transitions",style:{width:this.state.progress,transition:"0s"}})}),(0,be.jsx)("div",{className:"progress video-seek-bar",style:{width:this.state.seekbarWidth},children:this.state.timeLineArrayElements.map((function(t,n){return t.subScenes.map((function(r,s){return(0,be.jsx)(S.Fragment,{children:(0,be.jsx)(j.Z,{title:r.showSceneNumber,arrow:!0,placement:"top",children:(0,be.jsx)("span",{className:"slide-marker"+(n===e.state.timeLineArrayElements.length-1&&s===t.subScenes.length-1?"":s===t.subScenes.length-1?" solid-line":" dotted-line"),"data-sceneindex":n,onClick:function(){return e.playFromScene(t.index)},style:{width:"100%"===e.state.seekbarWidth?r.percentage:10*r.time+"px"}})})},s)}))}))})]})})]})]})]})]}),(0,be.jsx)(y.Z,{className:"preview-sharing-dialog",children:this.props.previewAlert}),this.props.showAutoSyncVoiceoverButtons&&(0,be.jsxs)("div",{className:"flex-centered",style:{pointerEvents:"auto"},children:[(0,be.jsx)("button",{className:"btn btn-span button-rounded green-background pointer",onClick:this.handleClose.bind(this),children:"Looks good"}),(0,be.jsx)("button",{className:"btn ml-4 btn-span button-rounded white-background pointer",onClick:function(){e.handleClose(),e.props.toggleAudioTrimmer(!0)},children:"Adjust"})]})]})]})]}):(0,be.jsx)(be.Fragment,{})})}}]),C}(S.Component)},55843:function(e){var t=this,n=function(){t.onmessage=function(e){}}.toString();n=n.substring(n.indexOf("{")+1,n.lastIndexOf("}"));var r=new Blob([n],{type:"application/javascript"}),s=URL.createObjectURL(r);e.exports=s},36410:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r=[{question:"Why do you want to use Pictory?",description:"To help us customize your Pictory experience, please tell us about yourself",answers:["To monetize on YouTube","For my company/organization","For my clients","For personal use","Other"],answersForEvents:["Monetize views on my YouTube channel and other sites","Create marketing videos for my business","Make and sell videos for others as an agency","Personal use","Other"],multiChoice:!1,type:"list",hasOthers:!0},{question:"What do you do?",description:null,answers:["Marketing","Teaching or Education","Sales","Other"],answersForEvents:["Marketer","Teacher, Instructor, Coach","Sales professional","Other"],multiChoice:!1,type:"list",hasOthers:!0},{question:"Where do you work?",description:null,answers:["Solo","2-10","11-100","101-400","400-1000","1000+"],answersForEvents:["Solo","2-10 employees","11-100 employees","101-400 employees","401-1000 employees","More than 1000 employees"],multiChoice:!1,type:"list",hasOthers:!1}]},80761:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1413),s=n(16031),a=n.n(s);function i(e,t,n){console.log("".concat(t," ").concat(n," errored"),e);var s={code:"failed",message:"".concat(t," ").concat(n," failed")};if(e.code&&e.message?(s.code=e.code,s.message=e.message):e.message&&(s.message+=" ("+e.message+")"),e.isAxiosError){if(e.response&&403===e.response.status)return{code:"PERMISSION_DENIED",message:"Permission denied"};if(e.response){var i=e.response.data;i&&Object.keys(i).length>0&&(s=(0,r.Z)((0,r.Z)({},s),i))}s.fields&&s.fields.length>0&&(s.fields=s.fields.reduce((function(e,t){return e[t.name]=a().isArray(t.errors)?t.errors.join("\n"):t.errors,e}),{}))}return s}},66823:function(e,t,n){"use strict";n.r(t);var r=n(4942),s=n(29439),a=n(45987),i=n(1413),o=n(11198),c=n(69791),l=n(82315),u=n(79136),d=n(18104),p=n(27923),h=n(42669),m=n(47313),g=n(46417),f=["show","title","message","severity","onClose","anchor","autoHideDuration","disableClickAway"];function v(e){return(0,g.jsx)(c.Z,(0,i.Z)((0,i.Z)({},e),{},{direction:"left"}))}function x(e){return(0,g.jsx)(c.Z,(0,i.Z)((0,i.Z)({},e),{},{direction:"down"}))}function S(e){return(0,g.jsx)(c.Z,(0,i.Z)((0,i.Z)({},e),{},{direction:"right"}))}function y(e){return(0,g.jsx)(c.Z,(0,i.Z)((0,i.Z)({},e),{},{direction:"up"}))}t.default=function(e){var t,n=e.show,c=e.title,b=e.message,j=e.severity,w=void 0===j?"success":j,Z=e.onClose,k=e.anchor,C=void 0===k?{vertical:"top",horizontal:"center"}:k,I=e.autoHideDuration,T=void 0===I?5e3:I,E=e.disableClickAway,A=void 0!==E&&E,_=(0,a.Z)(e,f),R=(0,m.useState)(n),P=(0,s.Z)(R,2),N=P[0],O=P[1];(0,m.useEffect)((function(){O(n)}),[n]);var D=function(e,t){A&&"clickaway"===t||(O(!1),Z&&Z(e))},U=m.useMemo((function(){if(C)return"right"===C.horizontal?v:"left"===C.horizontal?S:"center"===C.horizontal&&"top"===C.vertical?x:"center"===C.horizontal&&"bottom"===C.vertical?y:void 0}),[C]);return(0,g.jsx)(l.Z,{open:N,autoHideDuration:T,onClose:D,anchorOrigin:C,TransitionComponent:U,children:(0,g.jsxs)(u.Z,(0,i.Z)((0,i.Z)({severity:w,action:(0,g.jsx)(d.Z,(t={"aria-label":"close",color:"inherit",size:"small"},(0,r.Z)(t,"color",w||"success"),(0,r.Z)(t,"onClick",D&&D),(0,r.Z)(t,"children",(0,g.jsx)(o.Z,{fontSize:"inherit",color:w})),t)),sx:{alignItems:"center","& .MuiAlert-icon":{color:"success"==w?"success.dark":"error"==w?"error.dark":"info"==w?"info.main":"warning.dark"}}},_),{},{children:[(0,g.jsx)(p.Z,{sx:{"&:empty":{margin:"0px"}},children:c}),b&&(0,g.jsx)(h.Z,{paragraph:!1,variant:"body2",color:"success"==w?"success.dark":"error"==w?"error.dark":"info"==w?"info.main":"warning.dark",children:b})]}))})}},21569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(1413),s=n(29439),a=n(45987),i=n(47313),o=n(76504),c=n(36368),l=n(16031),u=n.n(l),d=n(46417),p=["onChange","value","options","sx","minValue","maxValue"];function h(e){var t=e.onChange,n=e.value,l=e.options,h=e.sx,m=e.minValue,g=e.maxValue,f=((0,a.Z)(e,p),i.useState(n)),v=(0,s.Z)(f,2),x=v[0],S=v[1],y=i.useState(""),b=(0,s.Z)(y,2),j=b[0],w=b[1],Z=i.useState(!1),k=(0,s.Z)(Z,2),C=k[0],I=k[1];(0,i.useEffect)((function(){var e=n;e<m?e=m:e>g&&(e=g),w(e),S(n)}),[n]),(0,i.useEffect)((function(){C&&(x&&x!==n||j&&j!==n)&&(T(x),I(!1))}),[j,x,C]);var T=function(e){var n=e;(m&&parseInt(e)<m||g&&parseInt(e)>g)&&(n<m?n=m:n>g&&(n=g)),t(n)};return(0,d.jsx)(o.Z,{onBlur:function(){I(!1),j&&j!==n?T(j):x&&x!==n&&T(x)},noOptionsText:(0,d.jsx)(d.Fragment,{}),sx:h,disableClearable:!0,onClose:function(){I(!0)},value:x,inputValue:j,onChange:function(e,t){if(t&&u().isNumber(parseInt(t))){var n=parseInt(t);S(n.toString())}},onInputChange:function(e,t){if(t){if(u().isNumber(parseInt(t))){var n=parseInt(t);w(n.toString())}}else w("")},options:l,renderInput:function(e){return(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{onKeyDown:function(e){if("enter"===e.code.toLocaleLowerCase()&&e.target.value&&e.target.value>0){var t=e.target.value;if(t&&u().isNumber(parseInt(t))){var n=parseInt(t);S(n.toString())}}}}))},filterOptions:function(e,t){var n=t.inputValue;return n?e.filter((function(e){return e===n})):e}})}},4884:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(45987),s=(n(47313),n(24873)),a=n(42669),i=n(605),o=n(46417),c=["text","backgroundColor","textColor","topAsAppHeader","showButton","buttonText","buttonIcon","buttonWidth","buttonOnClick"];function l(e){var t=e.text,n=e.backgroundColor,l=e.textColor,u=e.topAsAppHeader,d=void 0===u?"var(--app-header-height)":u,p=e.showButton,h=e.buttonText,m=e.buttonIcon,g=e.buttonWidth,f=void 0===g?"103px":g,v=e.buttonOnClick;return(0,r.Z)(e,c),(0,o.jsxs)(s.Z,{sx:{textAlign:"left",backgroundColor:n,position:"relative",top:d,width:"100%",padding:"12px 16px",zIndex:99,display:"flex",alignItems:"center"},children:[(0,o.jsx)(a.Z,{sx:{margin:"0px",fontSize:"14px",fontWeight:"400",color:l},children:t}),"true"==p&&(0,o.jsx)(i.Z,{variant:"contained",color:"primary",sx:{width:f,height:"32px",fontSize:"14px",padding:"0px",position:"absolute",right:"16px"},startIcon:(0,o.jsx)("img",{src:m}),onClick:function(){v()},children:h})]})}},13480:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(29439),s=n(45987),a=n(57781),i=n(24873),o=n(42669),c=n(10383),l=n(88905),u=n(81962),d=n(33834),p=n(47313),h=n(46417),m=["brands","selectedBrandId","onBrandSelection","isOnStep2"],g=function(e){var t=e.brands,n=e.selectedBrandId,g=e.onBrandSelection,f=e.isOnStep2,v=((0,s.Z)(e,m),p.useState(!1)),x=(0,r.Z)(v,2),S=x[0],y=x[1],b=function(e){return(0,h.jsx)(i.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",padding:"10px",alignItems:"center"},children:(0,h.jsxs)(i.Z,{sx:{display:"flex",gap:"10px",alignItems:"center"},className:"list-image-text",children:[(0,h.jsx)(i.Z,{className:"list-image-container",sx:{background:"#F3EBFF",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"32px",height:"32px",borderRadius:"10px"},children:(0,h.jsx)(a.Z,{sx:{color:"grey.200",fontSize:"32px"}})}),(0,h.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,h.jsx)(o.Z,{variant:"text_sm",children:e})})]})})},j=function(e){var t,n,r=null==e||null===(t=e.logoList)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url;return(0,h.jsx)(i.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",padding:"10px",alignItems:"center"},children:(0,h.jsxs)(i.Z,{sx:{display:"flex",gap:"10px",alignItems:"center"},className:"list-image-text",children:[(0,h.jsx)(i.Z,{className:"list-image-container",sx:{background:"#F3EBFF",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"32px",height:"32px",borderRadius:"10px",overflow:"hidden"},children:r?(0,h.jsx)("img",{src:r,width:"100%"}):(0,h.jsx)(i.Z,{sx:{maxWidth:"35px"},children:(0,h.jsx)(d.QU,{})})}),(0,h.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,h.jsx)(o.Z,{variant:"text_sm",sx:{color:"grey.900",textTransform:"capitalize",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name})})]})})};return(0,h.jsx)(i.Z,{className:"d-flex ControlledOpenSelect",children:(0,h.jsx)(c.Z,{sx:{m:1,minWidth:120},children:(0,h.jsxs)(l.Z,{className:"dropdown-tile",open:S,onClose:function(){y(!1)},onOpen:function(){y(!0)},value:n,defaultValue:n,onChange:g,renderValue:function(e){if("none"==e)return b("Select a brand");var n=null==t?void 0:t.find((function(t){return t.id==e}));return n?j(n):b("Select a brand")},sx:{borderRadius:"4px",padding:"0px",outline:"none",borderColor:S?"transparent":"grey.50",display:"flex",maxWidth:f?"230px":"unset","&.MuiTypography-root.MuiTypography-text_sm":{maxWidth:f?"200px":"unset"}},MenuProps:{sx:{".MuiPaper-elevation":{maxWidth:f?"200px":"unset"},"& .MuiMenu-list":{display:"block",gridTemplateColumns:"repeat(auto-fill,minmax(144px, 1fr))",padding:"10px"},"& .MuiMenuItem-root":{borderRadius:"8px",width:f?"100%":"max-content",display:"inline-block","& .MuiBox-root":{display:"flex",flexDirection:f?"row":"column",width:f?"100%":"122px",margin:"0 auto",padding:"0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","& .list-image-container":{border:"1px solid #e0e0e0",width:f?"32px":"122px",minWidth:f?"32px":"unset",height:f?"32px":"122px",maxHeight:f?"32px":"unset",overflow:"hidden",background:"#fff","& img":{width:"100%"}}},"&.Mui-selected":{backgroundColor:"rgba(95, 97, 120, 0.1)"}}}},children:[(0,h.jsx)(u.Z,{value:"none",children:b("None")}),t&&t.map((function(e){return(0,h.jsx)(u.Z,{value:e.id,children:j(e)})}))]})})})}},28328:function(e,t,n){"use strict";n.r(t),n(47313);var r=n(34207),s=n(42669),a=n(24873),i=n(46417);t.default=function(e){var t=e.value,n=e.children,o=e.variant,c=void 0===o?"determinate":o;return(0,i.jsxs)(a.Z,{sx:{position:"relative",display:"inline-flex"},children:[(0,i.jsx)(r.Z,{variant:c,value:t,size:"2.5rem",color:"success"}),(0,i.jsxs)(a.Z,{sx:{top:0,left:0,bottom:0,right:0,flexDirection:"column",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:[void 0!==t&&(0,i.jsx)(s.Z,{variant:"caption",component:"div",color:"text.secondary",sx:{fontSize:"8px"},children:"".concat(Math.round(t),"%")}),n]})]})}},90105:function(e,t,n){"use strict";n.r(t);var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(47313),c=n(43159),l=n.n(c),u=n(46417),d=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).player={},s.state={video:{src:"http://www.example.com/path/to/video.mp4",poster:"http://www.example.com/path/to/video_poster.jpg"}},s}return(0,s.Z)(n,[{key:"onPlayerReady",value:function(e){document.getElementsByClassName("vjs-big-play-button")[0].style.visibility="visible",console.log("Player is ready: ",e),this.player=e}},{key:"onVideoPlay",value:function(e){document.getElementsByClassName("vjs-big-play-button")[0].style.visibility="hidden",console.log("Video played at: ",e)}},{key:"onVideoPause",value:function(e){document.getElementsByClassName("vjs-big-play-button")[0].style.visibility="visible",console.log("Video paused at: ",e)}},{key:"onVideoTimeUpdate",value:function(e){console.log("Time updated: ",e)}},{key:"onVideoSeeking",value:function(e){console.log("Video seeking: ",e)}},{key:"onVideoSeeked",value:function(e,t){console.log("Video seeked from ".concat(e," to ").concat(t))}},{key:"onVideoEnd",value:function(){}},{key:"render",value:function(){return(0,u.jsx)("div",{children:(0,u.jsx)(l(),{controls:!0,src:this.props.src,poster:this.props.poster,width:"auto",height:"600",onReady:this.onPlayerReady.bind(this),onPlay:this.onVideoPlay.bind(this),onPause:this.onVideoPause.bind(this),onTimeUpdate:this.onVideoTimeUpdate.bind(this),hideControls:["timer","playbackrates"],onEnd:this.onVideoEnd.bind(this),className:"video-js vjs-theme-city"})})}}]),n}(o.Component);t.default=d},1243:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(1413),s=n(45987),a=n(2517),i=n(24873),o=n(5448),c=n(42669),l=n(71235),u=n(605),d=(n(47313),n(46417)),p=["open","headerComponent","title","message","primaryButtonLabel","primaryButtonOnClick","footerComponent"];function h(e){var t=e.open,n=e.headerComponent,h=e.title,m=e.message,g=e.primaryButtonLabel,f=e.primaryButtonOnClick,v=e.footerComponent,x=(0,s.Z)(e,p);return(0,d.jsx)(a.Z,(0,r.Z)((0,r.Z)({maxWidth:"sm",open:t},x),{},{children:(0,d.jsxs)(i.Z,{sx:{p:4,textAlign:"center"},children:[n,(0,d.jsx)(o.Z,{children:(0,d.jsx)(c.Z,{variant:"h5_resp",children:h})}),(0,d.jsxs)(l.Z,{children:[m,(0,d.jsx)(i.Z,{sx:{p:2,pt:3},children:(0,d.jsx)(u.Z,{variant:"contained",onClick:f,children:g})}),(0,d.jsx)(i.Z,{className:"flex-centered",children:v})]})]})}))}},14108:function(e,t,n){"use strict";n.r(t);var r=n(45987),s=n(1413),a=n(23489),i=n(8586),o=n(32415),c=n(2517),l=n(71235),u=n(54634),d=n(82937),p=n(62463),h=n(24873),m=n(42669),g=n(605),f=n(18104),v=n(64164),x=(n(47313),n(46417)),S=["open","icon","iconColor","iconBgPaletteColor","title","message","message2","primaryButtonLabel","primaryButtonOnClick","primaryLoading","primaryButtonColor","secondaryButtonLabel","secondaryButtonOnClick","tertiaryButtonLabel","tertiaryButtonOnClick","showCloseIcon","onClose","iconWidth","iconHeight"],y=(0,v.ZP)(o.Z)((function(e){var t=e.theme;return(0,s.Z)((0,s.Z)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));t.default=function(e){e.open;var t=e.icon,n=e.iconColor,o=e.iconBgPaletteColor,v=e.title,b=e.message,j=e.message2,w=e.primaryButtonLabel,Z=e.primaryButtonOnClick,k=e.primaryLoading,C=void 0!==k&&k,I=e.primaryButtonColor,T=void 0===I?null:I,E=e.secondaryButtonLabel,A=e.secondaryButtonOnClick,_=e.tertiaryButtonLabel,R=e.tertiaryButtonOnClick,P=e.showCloseIcon,N=e.onClose,O=e.iconWidth,D=e.iconHeight,U=(0,r.Z)(e,S);return(0,x.jsx)(c.Z,(0,s.Z)((0,s.Z)({open:!0,fullWidth:!0},U),{},{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(u.Z,{children:(0,x.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,x.jsxs)(p.Z,{direction:"row",sx:{width:"100%"},children:[(0,x.jsxs)(d.ZP,{item:!0,xs:3,sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:"0 !important"},children:[(0,x.jsx)(a.Z,{sx:{height:"130px",width:"130px",color:o}}),(0,x.jsx)(h.Z,{sx:{position:"absolute",width:O||"50px",height:D||"50px",display:"flex",alignItems:"center",justifyContent:"center","& .MuiSvgIcon-root":{width:"100%",height:"100%"},color:n+".main"},children:t})]}),(0,x.jsx)(d.ZP,{item:!0,xs:9,children:(0,x.jsxs)(p.Z,{direction:"column",children:[(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left",mt:"10px"},children:(0,x.jsx)(m.Z,{variant:"text_2xl",color:"grey.900",children:v})}),(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left"},children:(0,x.jsx)(m.Z,{variant:"text_base",color:"grey.500",children:b})}),j&&(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left"},children:(0,x.jsx)(m.Z,{variant:"text_base",color:"grey.500",children:j})}),(0,x.jsx)(p.Z,{direction:"row",children:(0,x.jsxs)(y,{sx:{width:"100%",pt:2,mt:"8px",display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("div",{children:_&&(0,x.jsx)(g.Z,{variant:"text",color:"grey",onClick:R,children:_})}),(0,x.jsxs)("div",{className:"text-right",children:[E&&(0,x.jsx)(g.Z,{variant:"text",onClick:A,children:E}),T?(0,x.jsx)(g.Z,{autoFocus:!0,variant:"contained",disabled:C,sx:{ml:"10px",backgroundColor:T,color:"white","&:hover":{borderColor:T,backgroundColor:T},boxShadow:"none"},onClick:Z,children:w}):w&&(0,x.jsx)(g.Z,{autoFocus:!0,variant:"contained",sx:{ml:"10px",boxShadow:"none"},onClick:Z,children:w})]})]})})]})})]}),P&&(0,x.jsx)(f.Z,{size:"small",onClick:N,sx:{position:"absolute",right:"10px"},children:(0,x.jsx)(i.Z,{})})]})})})}))}},12435:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(29439),a=n(47313),i=n(51443),o=n.n(i),c=n(33538),l=n(24873),u=n(605),d=n(62463),p=n(42669),h=n(81962),m=n(96161),g=n(5648),f=n(47439),v=n(48268),x=n(46417),S=[{targetClass:"EOY-Bar",animation:"hideAnimation",restore:"showUsecasesAnimation"},{targetClass:"divider-line",animation:"hideAnimation",restore:"showUsecasesAnimation"},{targetClass:"vertical-flex right-aligned-text",animation:"hideAnimation",restore:"showUsecasesAnimation"},{targetClass:"EOY-Question-hide",animation:"hideAnimation",restore:"showUsecasesAnimation"},{targetClass:"step-1-sample-video-text clickable",animation:"hideAnimation",restore:"showUsecasesAnimation"},{targetClass:"staticCardContainer",animation:"MainCardContainerAnimation",restore:"restoreMainCardContainer",childAnimation:"moveDownCardsAnimation",restoreChildAnimation:"moveUpCardsAnimation"},{targetClass:"EOY-Affiliate-Container",animation:"hideAffiliateAnimation",restore:"restoreAffiliate"},{targetClass:"EOY-User-Greeting",animation:"userAnimation",restore:"showUsecasesAnimation"},{targetClass:"EOY-Header-Wrapper",animation:"headerAnimation",restore:"showUsecasesAnimation"},{targetClass:"page-content d-flex align-items-stretch full-height",animation:"MainContainerAnimation",restore:"restoreMain"},{targetClass:"full-height",animation:"MainContainerAnimation",restore:"restoreMain"},{targetClass:"EOY-Username",animation:"userNameAnimation",restore:"showUsecasesAnimation"},{targetClass:"hand",animation:"rotateHandAnimation",restore:"showUsecasesAnimation"},{targetClass:"EOY-Footer-Container",animation:"EOY-Footer-ContainerAnimation",restore:""},{targetClass:"EOY-Video-Wrapper",animation:"EOY-VideoAnimation",restore:""}],y=(0,a.forwardRef)((function(e,t){var n=e.videoUrl,i=e.isLoading,y=e.close,b=(e.currentSubscription,e.shareId),j=(0,a.useState)(null),w=(0,s.Z)(j,2),Z=w[0],k=w[1],C=Boolean(Z)?"simple-popper":void 0;(0,a.useEffect)((function(){return document.addEventListener("click",I),function(){return document.removeEventListener("click",I)}}),[]);var I=function(e){var t,n;"EOY-Social-Share-Footer"!==(null===(t=e.srcElement)||void 0===t?void 0:t.id)&&"svg"!==(null===(n=e.srcElement)||void 0===n?void 0:n.localName)&&k(null)},T=function(e){var t,n,r=null===(t=e.target)||void 0===t||null===(n=t.innerText)||void 0===n?void 0:n.trim().split(" ")[2];o().getInstance().logEvent("share",{"shared-from":"eoy-wrapped","shared-to":r})};return(0,x.jsxs)(l.Z,{class:"EOY-Footer-Container",children:[(0,x.jsxs)(u.Z,{color:i?"secondary":"primary",variant:"outlined",onClick:function(){t&&null!=t&&t.current&&t.current.pause(),S.forEach((function(e){Array.from(document.getElementsByClassName(e.targetClass)).forEach((function(t){switch(e.targetClass){case"EOY-Footer-Container":case"EOY-Video-Wrapper":case"VESuperContainer":t.classList.remove(e.animation);break;case"staticCardContainer":case"EOY-Affiliate-Container":case"EOY-Header-Wrapper":case"EOY-Bar":case"divide-line":case"EOY-User-Greeting":case"EOY-Question-hide":case"EOY-Username":case"hand":case"use-cases":t.classList.add(e.restore);break;case"Feature-Card":t.classList.add(e.restore),t.childNodes.forEach((function(t){t.classList.replace(e.childAnimation,e.restoreChildAnimation)}));break;case"full-height":t.classList.replace(e.animation,e.restore);break;default:t.classList.contains("hideAnimation")&&t.classList.replace("hideAnimation","showUsecasesAnimation")}}))})),setTimeout((function(){S.forEach((function(e){Array.from(document.getElementsByClassName(e.targetClass)).forEach((function(t){t.classList.contains("Feature-Card")&&t.childNodes.forEach((function(t){return t.classList.remove(e.restoreChildAnimation)})),t.classList.contains(e.restore)&&t.classList.remove(e.restore),t.classList.contains(e.animation)&&t.classList.remove(e.animation)}))}))}),4e3),y()},className:"EOY-Footer-Close-Btn",sx:{width:"162px",borderRadius:"50px",backgroundColor:"grey.0","&:hover":{backgroundColor:"primary.main",color:"grey.0"}},children:[i&&(0,x.jsxs)(l.Z,{style:{display:"flex"},children:[(0,x.jsx)(l.Z,{className:"ball one"}),(0,x.jsx)(l.Z,{className:"ball two"}),(0,x.jsx)(l.Z,{className:"ball three"}),(0,x.jsx)(l.Z,{className:"ball four"})]}),!i&&(0,x.jsx)(l.Z,{children:"Close"})]}),!i&&(0,x.jsx)(u.Z,{id:"EOY-Social-Share-Footer",className:"EOY-Footer-Share-Btn",sx:{width:"162px",borderRadius:"50px","&:hover":{filter:"opacity(0.9)"}},color:i?"secondary":"primary",variant:"contained",onClick:function(e){k(Z?null:e.currentTarget)},children:"Share"}),(0,x.jsx)(g.Z,{id:C,open:Boolean(Z),anchorEl:Z,placement:"right",children:(0,x.jsxs)(l.Z,{className:"popperContainer",children:[(0,x.jsx)(d.Z,{direction:"row",sx:{p:".2rem",alignItems:"center",paddingRight:"20px",cursor:"pointer"},onClick:function(){o().getInstance().logEvent("copy-link-eoy-wrapped"),(0,m.JQ)("Link copied to clipboard")},children:(0,x.jsx)(c.CopyToClipboard,{text:"".concat("https://video.pictory.ai/","eoy/").concat(b),children:(0,x.jsxs)(d.Z,{direction:"row",sx:{p:".2rem",alignItems:"center",paddingRight:"20px"},children:[(0,x.jsx)(v.Z,{sx:{height:"16px",width:"32px",marginLeft:"-10px"}}),(0,x.jsx)(p.Z,{children:"Copy link"})]})})}),(0,x.jsx)(h.Z,{divider:!0,sx:{my:.5,p:0}}),(0,r.Z)((0,f.pr)(n,b)).map((function(e){return(0,x.jsx)(d.Z,{direction:"row",sx:{p:".2rem",alignItems:"center",paddingRight:"20px"},onClick:T,children:(0,x.jsxs)("a",{href:e.link,target:"_blank",children:[(0,x.jsx)(l.Z,{sx:{width:"32px",cursor:"pointer"},children:e.icon}),(0,x.jsx)(p.Z,{children:e.label})]})})}))]})})]})}));t.default=y},12752:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(29439),a=n(47313),i=n(51443),o=n.n(i),c=n(24873),l=n(605),u=n(62463),d=n(42669),p=n(81962),h=n(18104),m=n(11198),g=n(5648),f=n(33538),v=(n(35005),n(47439)),x=n(33834),S=n(96161),y=n(48268),b=n(46417),j=localStorage.getItem("showEOY"),w=!!j&&"false"===j,Z=[{targetClass:"EOY-Bar",animation:"hideAnimation"},{targetClass:"divider-line",animation:"hideAnimation"},{targetClass:"vertical-flex right-aligned-text",animation:"hideAnimation"},{targetClass:"EOY-Question-hide",animation:"hideAnimation"},{targetClass:"step-1-sample-video-text clickable",animation:"hideAnimation"},{targetClass:"staticCardContainer",animation:"MainCardContainerAnimation"},{targetClass:"EOY-Affiliate-Container",animation:"hideAffiliateAnimation"},{targetClass:"EOY-User-Greeting",animation:"userAnimation"},{targetClass:"EOY-Header-Wrapper",animation:"headerAnimation"},{targetClass:"page-content d-flex align-items-stretch full-height",animation:"MainContainerAnimation"},{targetClass:"full-height",animation:"MainContainerAnimation"},{targetClass:"EOY-Username",animation:"userNameAnimation"},{targetClass:"hand",animation:"rotateHandAnimation"},{targetClass:"EOY-Footer-Container",animation:"EOY-Footer-ContainerAnimation"},{targetClass:"EOY-Video-Wrapper",animation:"EOY-VideoAnimation"}],k=(0,a.forwardRef)((function(e,t){var n=e.close,i=e.videoUrl,j=e.userId,k=e.playVideo,C=(e.currentSubscription,e.shareId),I=(0,a.useState)(null),T=(0,s.Z)(I,2),E=T[0],A=T[1],_=(0,a.useState)(!1),R=(0,s.Z)(_,2),P=R[0],N=(R[1],Boolean(E)?"simple-popper":void 0);(0,a.useEffect)((function(){return document.addEventListener("click",O),function(){return document.removeEventListener("click",O)}}),[]);var O=function(e){var t,n;"EOY-Social-Share"!==(null===(t=e.srcElement)||void 0===t?void 0:t.id)&&"svg"!==(null===(n=e.srcElement)||void 0===n?void 0:n.localName)&&A(null)},D=function(e){var t,n,r=null===(t=e.target)||void 0===t||null===(n=t.innerText)||void 0===n?void 0:n.trim().split(" ")[2];o().getInstance().logEvent("share",{"shared-from":"eoy-wrapped","shared-to":r})};return(0,b.jsx)(b.Fragment,{children:!P&&(0,b.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px",backgroundColor:"rgba(0,0,250,0.1)"},className:w?"hide":"EOY-Bar",children:[(0,b.jsx)(c.Z,{sx:{marginRight:"20px",fontWeight:800},children:(0,b.jsx)("b",{children:"Happy New Year! Check Out Your 2023 Pictory Highlights"})}),(0,b.jsxs)(l.Z,{type:"submit",variant:"contained",color:"primary",style:{display:"flex",alignSelf:"flex-end",marginRight:"10px"},onClick:function(){Z.map((function(e){Array.from(document.getElementsByClassName(e.targetClass)).forEach((function(t){t.classList.add(e.animation)}))})),setTimeout((function(){return k()}),6e3),o().getInstance().logEvent("eoy-video-viewed",{"user ID":j})},children:[(0,b.jsx)(x.s6,{sx:{marginTop:"-1px"}}),(0,b.jsx)("span",{style:{marginLeft:"4px"},children:"Watch video"})]}),"or  ",(0,b.jsxs)(l.Z,{type:"submit",variant:"outlined",id:"EOY-Social-Share",style:{display:"flex",alignSelf:"flex-end",height:"33px",width:"unset",justifyContent:"space-between"},onClick:function(e){A(E?null:e.currentTarget)},children:[(0,b.jsx)("span",{style:{margin:"-2px 4px 0 0"},children:(0,b.jsx)(x.Ez,{})})," ","Share"]}),(0,b.jsx)(g.Z,{id:N,open:Boolean(E),anchorEl:E,placement:"right",children:(0,b.jsxs)(c.Z,{className:"popperContainer",children:[(0,b.jsx)(u.Z,{direction:"row",sx:{p:".2rem",alignItems:"center",paddingRight:"20px",cursor:"pointer"},onClick:function(){o().getInstance().logEvent("copy-link-eoy-wrapped"),(0,S.JQ)("Link copied to clipboard")},children:(0,b.jsx)(f.CopyToClipboard,{text:"".concat("https://video.pictory.ai/","eoy/").concat(C),children:(0,b.jsxs)(u.Z,{direction:"row",sx:{p:".2rem",alignItems:"center",paddingRight:"20px"},children:[(0,b.jsx)(y.Z,{sx:{height:"16px",width:"32px",marginLeft:"-10px"}}),(0,b.jsx)(d.Z,{children:"Copy link"})]})})}),(0,b.jsx)(p.Z,{divider:!0,sx:{my:.5,p:0}}),(0,r.Z)((0,v.pr)(i,C)).map((function(e){return(0,b.jsx)(u.Z,{direction:"row",sx:{p:".2rem",alignItems:"center",paddingRight:"20px"},onClick:D,children:(0,b.jsxs)("a",{href:e.link,target:"_blank",children:[(0,b.jsx)(c.Z,{sx:{width:"32px",cursor:"pointer"},children:e.icon}),(0,b.jsx)(d.Z,{children:e.label})]})})}))]})}),(0,b.jsx)(h.Z,{color:"inherit",onClick:n,"aria-label":"close",sx:{position:"absolute",right:"4px",top:"4px",marginTop:"3px"},children:(0,b.jsx)(m.Z,{sx:{width:"20px"}})})]})})}));t.default=k},29230:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(29439),s=n(36368),a=n(47313),i=n(48242),o=n.n(i),c=n(46417);function l(e){var t=e.value,n=e.required,i=e.onChange,l=e.form,u=(0,a.useState)(t),d=(0,r.Z)(u,2),p=d[0],h=d[1],m=(0,a.useState)(null),g=(0,r.Z)(m,2),f=g[0],v=g[1];l&&l.current&&(l.current.email={validate:function(){return x(p)}}),(0,a.useEffect)((function(){h(t)}),[t]),(0,a.useEffect)((function(){i(p,f)}),[p,f]);var x=function(e){var t="";return e?!1===o().isEmail(e)&&(t="Invalid email"):n&&(t="Email is required",v("Email is required")),v(t),h(e),{value:e,error:t}};return(0,c.jsx)(s.Z,{label:"Email",variant:"outlined",sx:{flexGrow:1,"& .MuiOutlinedInput-root.Mui-focused":{"& > fieldset":{borderWidth:"1px"}}},value:p,onChange:function(e){e.target.value&&(e.target.value=e.target.value.trim());var t=e.target.value;x(t)},onBlur:function(e){x(p)},error:!!f,helperText:f,InputLabelProps:{shrink:!0}})}},88839:function(e,t,n){"use strict";n.r(t),n(47313);var r=n(62463),s=n(42669),a=(n(44282),n(46417));t.default=function(e){var t=e.title1,n=e.title2;return(0,a.jsx)("div",{className:"col-md-12",style:{paddingTop:"10px"},children:(0,a.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"asset-tile-empty",children:(0,a.jsx)("div",{className:"vid-outerbox","data-type":"outerbox",children:(0,a.jsx)("div",{className:"inner-vdbox",style:{width:"100%",cursor:"auto"},children:(0,a.jsxs)(r.Z,{className:"centered",style:{height:"100%",width:"100%",border:"1px solid #c0c0c0",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(s.Z,{variant:"body500_resp",color:"grey.500",align:"center",sx:{wordWrap:"break-word",width:"90%",height:"auto",display:"flex",alignSelf:"center",justifyContent:"center"},children:t}),n&&n.length>0?(0,a.jsx)(s.Z,{variant:"body500_resp",color:"grey.500",align:"center",sx:{wordWrap:"break-word",width:"90%",height:"auto",display:"flex",alignSelf:"center",justifyContent:"center"},children:n}):(0,a.jsx)(a.Fragment,{})]})})})})})})})}},61166:function(e,t,n){"use strict";n.r(t);var r=n(45987),s=n(1413),a=n(23489),i=n(8586),o=n(32415),c=n(2517),l=n(71235),u=n(54634),d=n(82937),p=n(24873),h=n(62463),m=n(42669),g=n(605),f=n(18104),v=n(64164),x=(n(47313),n(46417)),S=["open","icon","iconBgPaletteColor","title","message1","message2Icon","message2Title","message2","remedies","primaryButtonLabel","primaryButtonOnClick","actionButtons","showCloseIcon","onClose"],y=(0,v.ZP)(o.Z)((function(e){var t=e.theme;return(0,s.Z)((0,s.Z)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));t.default=function(e){e.open;var t=e.icon,n=e.iconBgPaletteColor,o=e.title,v=e.message1,b=e.message2Icon,j=(e.message2Title,e.message2),w=e.remedies,Z=e.primaryButtonLabel,k=e.primaryButtonOnClick,C=e.actionButtons,I=e.showCloseIcon,T=(e.onClose,(0,r.Z)(e,S));return(0,x.jsx)(c.Z,(0,s.Z)((0,s.Z)({open:!0,width:"610px"},T),{},{children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(u.Z,{children:(0,x.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,x.jsx)(d.ZP,{xs:1.8,children:(0,x.jsxs)(d.ZP,{sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:"0 !important"},children:[(0,x.jsx)(a.Z,{sx:{height:"72px",width:"72px",color:n}}),(0,x.jsx)(p.Z,{sx:{position:"absolute",width:"34.33px",height:"30.33px",display:"flex",alignItems:"center",justifyContent:"center","& .MuiSvgIcon-root":{width:"100%",height:"100%"}},children:t})]})}),(0,x.jsx)(d.ZP,{xs:10.2,children:(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left",mb:"0px"},children:(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(m.Z,{variant:"text_2xl",color:"grey.900",sx:{mb:"0px"},children:o}),(0,x.jsx)(m.Z,{variant:"text_base",color:"grey.500",children:v})]})})}),(0,x.jsx)(d.ZP,{xs:1.8}),(0,x.jsx)(d.ZP,{xs:10.2,children:(0,x.jsx)(h.Z,{direction:"column",children:j&&(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left"},children:(0,x.jsx)(h.Z,{direction:"column",children:(0,x.jsx)(y,{sx:{display:"flex",alignItems:"center",justifyContent:"left",textAlign:"left",backgroundColor:"error.lighter"},children:(0,x.jsxs)(h.Z,{direction:"row",spacing:"4px",sx:{p:"4px"},children:[b,(0,x.jsx)(h.Z,{direction:"column",spacing:"4px",sx:{maxHeight:"130px",overflow:"auto"},children:(0,x.jsx)(m.Z,{variant:"text_sm",color:"grey.500",children:j})})]})})})})})}),(0,x.jsx)(d.ZP,{xs:1.8}),(0,x.jsx)(d.ZP,{xs:10.2,children:(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left",paddingBottom:"20px"},children:(0,x.jsx)(m.Z,{variant:"text_base",color:"grey.500",children:w})})}),(0,x.jsx)(d.ZP,{xs:1.8}),(0,x.jsx)(d.ZP,{xs:6.2,children:(0,x.jsx)(y,{sx:{justifyContent:"left",textAlign:"left",display:"flex",alignItems:"center"},children:(0,x.jsx)(m.Z,{variant:"text_xs",color:"grey.400",children:"Need help? Contact support@pictory.ai"})})}),(0,x.jsx)(d.ZP,{xs:4,children:(0,x.jsx)(h.Z,{direction:"row",children:(0,x.jsx)(y,{sx:{width:"100%"},children:(0,x.jsx)("div",{className:"text-right",children:C?C():(0,x.jsx)(g.Z,{variant:"contained",sx:{backgroundColor:"grey.500",boxShadow:"none",borderColor:"grey.500","&:hover":{backgroundColor:"grey.700",borderColor:"grey.700"},color:"grey.0",ml:"10px"},onClick:k,children:Z})})})})}),I&&(0,x.jsx)(f.Z,{size:"small",onClick:k,sx:{position:"absolute",right:"10px"},children:(0,x.jsx)(i.Z,{})})]})})})}))}},47536:function(e,t,n){"use strict";var r=n(1413),s=n(74165),a=n(15861),i=n(45987),o=n(64009),c=n(605),l=n(80699),u=n(47313),d=n(19636),p=n(68841),h=n(46417),m=["onSelectColor","size"];t.Z=function(e){var t=e.onSelectColor,n=e.size,g=((0,i.Z)(e,m),(0,d.Z)()),f=g.open,v=(g.close,g.isSupported),x=(0,u.useCallback)((function(){var e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:n=e.sent,t(n.sRGBHex),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[f]),S=(0,r.Z)((0,r.Z)({height:"small"==n?"22px":"40px",minWidth:"small"==n?"22px":"40px",maxWidth:"small"==n?"22px":"40px",width:"small"==n?"22px":"40px",background:"#F0F0F0",color:"#16171D"},"small"==n?{padding:0}:{}),"small"==n?{borderRadius:"4px"}:{});return(0,h.jsx)(h.Fragment,{children:v()?(0,h.jsx)(c.Z,{sx:S,onClick:x,children:(0,h.jsx)(p.Z,{sx:{fontSize:"18px"}})}):(0,h.jsx)(l.Z,{title:"Color Picker EyeDropper not supported in this browser",children:(0,h.jsx)(o.Z,{sx:{color:"grey.300"}})})})}},11676:function(e,t,n){"use strict";n.r(t);var r=n(29439),s=n(47313),a=n(8468),i=(n(85446),n(46417));t.default=function(e){var t=e.value,n=void 0===t?"1":t,o=e.showTimer,c=(e.showBanner,(0,s.useRef)()),l=(0,s.useRef)(),u=(0,s.useState)(-1),d=(0,r.Z)(u,2),p=d[0],h=d[1],m=(0,s.useState)(!1),g=(0,r.Z)(m,2),f=g[0],v=g[1];return(0,s.useEffect)((function(){var e=c.current,t=l.current;return e&&a.Z.DOM.create(e,{value:n,didInit:function(e){l.current=e}}),function(){return t&&a.Z.DOM.destroy(t)}}),[n]),(0,s.useEffect)((function(){var e=new Date("2024-02-01T00:00:00-08:00").getTime(),t=Date.now(),n=a.Z.helper.duration(24,"hours");if(t<e+n){var r=new Date(e+n),s=a.Z.count.down(r,{format:["h","m","s"]});return o(!0),v(!0),s.onupdate=function(e){h(e)},s.onended=function(){o(!1),v(!1)},function(){s.timer&&(s.timer.stop(),v(!1))}}o(!1),v(!1)}),[n]),(0,s.useEffect)((function(){l.current&&(l.current.value=p)}),[p]),(0,i.jsx)("div",{ref:c,className:"tick","data-credits":"false",style:{display:f?"block":"none"},children:(0,i.jsx)("div",{"data-repeat":"true","data-layout":"horizontal fit",children:(0,i.jsx)("div",{class:"tick-group",children:(0,i.jsx)("div",{"data-key":"value","data-repeat":"true","data-transform":"pad(00) -> split -> delay",children:(0,i.jsx)("span",{"data-view":"flip"})})})})})}},75368:function(e,t,n){"use strict";var r=n(1413),s=n(29439),a=n(45987),i=n(76543),o=n(76504),c=n(36368),l=n(81962),u=n(42669),d=n(47313),p=n(47439),h=n(46417),m=["value","onFontSelection","selectedBrandFontName"],g=function(e){var t=e.children,n=e.fontObj;return(0,h.jsx)("span",{style:{fontFamily:(null==n?void 0:n.fontName)||(null==n?void 0:n.text),fontWeight:(null==n?void 0:n.fontWeight)||"normal"},children:t})};t.Z=function(e){var t=e.value,n=e.onFontSelection,f=e.selectedBrandFontName,v=((0,a.Z)(e,m),(0,d.useState)({})),x=(0,s.Z)(v,2),S=x[0],y=x[1],b=(0,d.useState)(),j=(0,s.Z)(b,2),w=j[0],Z=j[1];return(0,d.useEffect)((function(){var e=p.ZO.filter((function(e){return!!e.value})).map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{label:e.text})}));f&&(e.unshift({label:"Pictory library",value:"",text:"",isReadOnly:!0}),e.unshift({label:f,value:f,text:f}),e.unshift({label:(0,h.jsxs)("span",{children:[(0,h.jsx)(i.Z,{fontSize:"small"}),"  Brand font"]}),value:"",text:"",isReadOnly:!0})),Z(e)}),[f]),(0,d.useEffect)((function(){if(t){var e=p.ZO.find((function(e){return e.value==t}));y(e)}}),[t]),(0,h.jsx)(o.Z,{sx:{backgroundColor:"white",width:"150px",height:"40px",borderRadius:"8px",textAlign:"left",pl:0},disableClearable:!0,value:(null==S?void 0:S.text)||"",isOptionEqualToValue:function(e,t){return e.label==t},onChange:function(e,t){t&&t.value&&n(t.value)},options:w||[],renderInput:function(e){return e=(0,r.Z)((0,r.Z)({},e),{},{InputProps:(0,r.Z)((0,r.Z)({},e.InputProps),{},{placeholder:"Select font",sx:{fontFamily:"inherit",fontWeight:"inherit",input:{"&::placeholder":{color:"#A0A0A0"}}}})}),(0,h.jsx)(g,{fontObj:S,children:(0,h.jsx)(c.Z,(0,r.Z)({},e))})},renderOption:function(e,t,n){return t.isReadOnly?(0,d.createElement)(l.Z,(0,r.Z)((0,r.Z)({},e),{},{key:t.value,disabled:!0}),(0,h.jsx)(u.Z,{variant:"text_xs",children:t.label})):(0,d.createElement)(l.Z,(0,r.Z)((0,r.Z)({},e),{},{key:t.value}),(0,h.jsx)(g,{fontObj:t,children:t.label}))}})}},4066:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(45987),s=n(605),a=n(82937),i=(n(47313),n(46417)),o=["onClick"];function c(e){var t=e.onClick;return(0,r.Z)(e,o),(0,i.jsxs)(a.ZP,{container:!0,sx:{alignItems:"center"},direction:"column",spacing:2,children:[(0,i.jsx)(a.ZP,{item:!0,children:(0,i.jsx)("img",{src:"/images/google_drive.png"})}),(0,i.jsx)(a.ZP,{item:!0,children:(0,i.jsx)(s.Z,{variant:"outlined",sx:{textTransform:"unset"},onClick:function(){return t()},children:"Connect to Google drive"})})]})}},41714:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(45987),s=n(28212),a=n(92484),i=n(82821),o=n(83440),c=n(42669),l=(n(47313),n(46417)),u=["onClick","thumbnail","name","durationMillis"];function d(e){var t=e.onClick,n=e.thumbnail,d=e.name,p=e.durationMillis,h=((0,r.Z)(e,u),"".concat(function(e){var t=e/1e3,n=parseInt(t/3600);t%=3600;var r=parseInt(t/60);t=Math.ceil(t%60);var s="";return n>0?s="hours":r>0?s="minutes":t>0&&(s="seconds"),"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")," ").concat(s)}(parseInt(p)))||"na");return(0,l.jsx)(a.Z,{onClick:function(){return t&&t()},children:(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(o.Z,{component:"img",height:"135",image:n}),(0,l.jsxs)(i.Z,{sx:{padding:"0.5rem"},children:[(0,l.jsx)(c.Z,{noWrap:!0,variant:"body3",title:d,sx:{color:"grey.700"},children:d}),(0,l.jsx)(c.Z,{noWrap:!0,variant:"body2",title:h,sx:{color:"grey.400",mt:"8px"},children:h})]})]})})}},94023:function(e,t,n){"use strict";n.r(t);var r=n(605),s=n(64164);t.default=(0,s.ZP)(r.Z)((function(e){return e.theme,{background:"url('/images/google_signup.png') no-repeat",width:"183.72px",height:"36.65px"}}))},60377:function(e,t,n){"use strict";n.r(t);var r=n(82937),s=n(51690),a=(n(47313),n(46417));t.default=function(e){return(0,a.jsx)(r.ZP,{container:!0,direction:"row",sx:{marginLeft:"24px",marginTop:"18px"},children:(0,a.jsx)(r.ZP,{item:!0,children:(0,a.jsx)("a",{className:"navbar-brand d-sm-inline-block btn-span",onClick:function(t){e.parentCallBack()},children:(0,a.jsx)(s.PImage,{src:"/icons/logo-octopus-with-pictory.png",display:"block",maxHeight:"36px",maxWidth:"150px"})})})})}},71581:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(29439),s=n(45987),a=n(62463),i=n(82937),o=n(42669),c=n(47313),l=n(58890),u=n(47439),d=n(66859),p=n(46417),h=["onSelect","selectedLanguageValue","defaultLanguage","languages","title"];function m(e){var t=e.onSelect,n=e.selectedLanguageValue,m=e.defaultLanguage,g=e.languages,f=void 0===g?u._e:g,v=e.title,x=void 0===v?"Select language in the video":v,S=((0,s.Z)(e,h),f.find((function(e){return e.code===m})));m&&!u.Yd.includes(m)&&(S=f.find((function(e){return"en"===e.code}))),!S&&f&&f.length>0&&(S=f[0],n&&(S=f.find((function(e){return e.value===n}))));var y=(0,c.useState)(S),b=(0,r.Z)(y,2),j=b[0],w=b[1];return(0,c.useEffect)((function(){t&&t(j)}),[t]),(0,c.useEffect)((function(){var e=f.find((function(e){return e.value===n}));e&&w(e)}),[n]),(0,c.useEffect)((function(){t&&t(j)}),[j]),(0,p.jsxs)(a.Z,{direction:"row",sx:{display:"flex",alignItems:"center",mr:"7px"},children:[(0,p.jsx)(o.Z,{variant:"text_sm",color:"grey.700",children:x}),(0,p.jsx)(i.ZP,{item:!0,sx:{marginLeft:"5px",borderRadius:"5px",backgroundColor:"transparent"},children:(0,p.jsxs)(l.Z,{onSelect:function(e){var t=f.findIndex((function(t){return t.value===e}));w(f[t]||f.filter((function(e){return"en"===e.code}))[0])},className:["language-selection-dropdown height-unset"].join(" "),children:[(0,p.jsx)(l.Z.Toggle,{id:"dropdown-custom-components",children:(0,p.jsxs)(a.Z,{direction:"row",sx:{display:"flex",alignItems:"center"},children:[j&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{src:"/icons/langs/"+j.value+".png",className:"flag-icon"}),(0,p.jsx)(o.Z,{variant:"text_sm",children:j.name})," "]}),(0,p.jsx)(d.Z,{fontSize:"small"})]})}),(0,p.jsx)(l.Z.Menu,{className:"longer-video-languages",children:f.map((function(e){return(0,p.jsxs)(l.Z.Item,{eventKey:e.value,value:e.value,children:[(0,p.jsx)("img",{src:"/icons/langs/"+e.value+".png",className:"flag-icon"}),e.name]},e.value)}))})]})})]})}},91466:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(1413),s=n(45987),a=n(82937),i=n(62463),o=n(77449),c=n(42669),l=(n(47313),n(46417)),u=["text","linkTextCaption","textAlign","linkText","variant","sx","onLinkClick"];function d(e){var t=e.text,n=e.linkTextCaption,d=e.textAlign,p=e.linkText,h=e.variant,m=e.sx,g=e.onLinkClick;return(0,s.Z)(e,u),(0,l.jsx)(a.ZP,{container:!0,sx:{justifyContent:d||"center"},direction:"row",children:(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)(c.Z,{sx:m,variant:h,children:t}),n&&(0,l.jsxs)(i.Z,{direction:"row",children:[(0,l.jsx)(c.Z,{sx:m,variant:h,children:n}),p&&(0,l.jsxs)(o.Z,{variant:h,sx:(0,r.Z)((0,r.Z)({},m),{},{color:m.linkColor||"#852CFF !important",cursor:"pointer"}),onClick:function(e){return g&&g(e)},children:[" ",p]})]}),!n&&p&&(0,l.jsxs)(o.Z,{variant:h,sx:(0,r.Z)((0,r.Z)({},m),{},{color:m.linkColor||"#852CFF !important",cursor:"pointer"}),onClick:function(e){return g&&g(e)},children:[" ",p]})]})})}},17568:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(1413),s=n(45987),a=n(75958),i=(n(47313),n(46417)),o=["small","sx"];function c(e){var t=e.small,n=e.sx;return(0,s.Z)(e,o),t?(0,i.jsx)(a.Z,{label:"N",classes:{root:"new-chip",label:"new-chip-label"},sx:(0,r.Z)({position:"absolute",top:"0px",right:"-5px",height:"16px",fontSize:"8px",fontWeight:700,color:"common.black",backgroundColor:"cardcolors.one",zIndex:1},n)}):(0,i.jsx)(a.Z,{label:"NEW",classes:{root:"new-chip",label:"new-chip-label"},sx:(0,r.Z)({position:"absolute",top:"-6px",right:"1px",height:"16px",fontSize:"8px",fontWeight:700,color:"common.black",backgroundColor:"cardcolors.one",zIndex:1},n)})}},62949:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1413),s=n(45987),a=n(86227),i=n(42669),o=(n(47313),n(46417)),c=["name","imgSrc","size","index","backgroundColor","color","labelfontSize","sx"],l=["success.main","secondary.main","warning.main"],u=function(e){var t,n,u=e.name,d=void 0===u?"":u,p=e.imgSrc,h=e.size,m=void 0===h?"medium":h,g=e.index,f=void 0===g?0:g,v=e.backgroundColor,x=e.color,S=e.labelfontSize,y=e.sx,b=(0,s.Z)(e,c);return m=function(e){switch(e){case"xtra-small":return"20px";case"small":return"32px";case"medium":return"40px";case"large":return"50px";default:return e}}(m),(0,o.jsx)(a.Z,(0,r.Z)((0,r.Z)({sx:(0,r.Z)({backgroundColor:v||l[f%l.length],color:x||"common.white",width:m,height:m},y),src:p},b),{},{children:S?(0,o.jsxs)(i.Z,{sx:{fontSize:S},children:[" ",null===(t=d[0])||void 0===t?void 0:t.toUpperCase()]}):null===(n=d[0])||void 0===n?void 0:n.toUpperCase()}))}},15422:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(1413),s=n(29439),a=n(45987),i=n(605),o=n(47313),c=n(46417),l=["children","variant","onClick","disabled","disabledAfterClickDuration"];function u(e){var t=e.children,n=e.variant,u=void 0===n?"outlined":n,d=e.onClick,p=e.disabled,h=e.disabledAfterClickDuration,m=void 0===h?1e3:h,g=(0,a.Z)(e,l),f=o.useState(p||!1),v=(0,s.Z)(f,2),x=v[0],S=v[1];o.useEffect((function(){S(p||!1)}),[p]);var y=o.useCallback((function(e){x||(null==d||d(e),m&&(S(!0),setTimeout((function(){S(!1)}),m)))}),[x,d]);return(0,c.jsx)(i.Z,(0,r.Z)((0,r.Z)({disabled:x,variant:u},g),{},{onClick:y,children:t}))}},25489:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(1413),s=n(29439),a=n(45987),i=n(84062),o=n(87038),c=n(24873),l=n(605),u=n(47313),d=n(46417),p=["children","className","scrollPercent"],h=function(e){var t,n=e.children,h=e.className,m=void 0===h?"":h,g=e.scrollPercent,f=void 0===g?.8:g,v=(0,a.Z)(e,p),x=(0,u.useState)(!1),S=(0,s.Z)(x,2),y=S[0],b=S[1],j=(0,u.useRef)(null),w=(null===(t=j.current)||void 0===t||t.scrollWidth,function(){var e,t;(null===(e=j.current)||void 0===e?void 0:e.scrollWidth)>(null===(t=j.current)||void 0===t?void 0:t.clientWidth)?b(!0):b(!1)});return(0,u.useEffect)((function(){return window.addEventListener("resize",w),function(){return window.removeEventListener("resize",w)}}),[]),(0,u.useEffect)((function(){w()})),(0,d.jsxs)(c.Z,{className:"carousel-container",children:[(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({className:"carousel-scroll-box "+m,ref:j},v),{},{children:n})),y&&(0,d.jsx)(l.Z,{className:"left-arrow-button",color:"grey",onClick:function(){j.current.scrollLeft-=j.current.clientWidth*f},children:(0,d.jsx)(i.Z,{})}),y&&(0,d.jsx)(l.Z,{className:"right-arrow-button",color:"grey",onClick:function(){j.current.scrollLeft+=j.current.clientWidth*f},children:(0,d.jsx)(o.Z,{})})]})}},34009:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(45987),s=n(24873),a=n(34207),i=n(82937),o=n(42669),c=(n(47313),n(46417)),l=["text"];function u(e){var t=e.text;return(0,r.Z)(e,l),(0,c.jsxs)(i.ZP,{container:!0,sx:{alignItems:"center"},direction:"column",children:[(0,c.jsx)(s.Z,{sx:{display:"flex"},children:(0,c.jsx)(a.Z,{})}),t?(0,c.jsx)(o.Z,{children:t}):(0,c.jsx)(c.Fragment,{})]})}},56790:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(1413),s=n(45987),a=(n(47313),n(62463)),i=n(42669),o=n(46417),c=["icon","text","textColor","keyboardShortcut","width","sx"];function l(e){var t=e.icon,n=e.text,l=e.textColor,u=void 0===l?"":l,d=e.keyboardShortcut,p=void 0===d?"":d,h=e.width,m=void 0===h?"170px":h,g=e.sx,f=(0,s.Z)(e,c);return(0,o.jsxs)(a.Z,(0,r.Z)((0,r.Z)({direction:"row",sx:(0,r.Z)({width:{width:m},display:"flex",justifyContent:"space-between",alignItems:"center"},g)},f),{},{children:[(0,o.jsxs)(a.Z,{spacing:1,direction:"row",children:[t,u?(0,o.jsx)(i.Z,{sx:{color:u},children:n}):(0,o.jsx)(i.Z,{children:n})]}),p&&(0,o.jsx)(i.Z,{variant:"body2",color:"text.secondary",children:p})]}))}},69750:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(29439),s=n(47313),a=n(24873),i=n(81962),o=n(10383),c=n(88905),l=n(42669),u=n(46417);function d(e){var t=e.dropdownData,n=e.selectedValue,d=e.onChange,p=s.useState(!1),h=(0,r.Z)(p,2),m=h[0],g=h[1];return(0,u.jsx)(a.Z,{className:"d-flex ControlledOpenSelect",children:(0,u.jsx)(o.Z,{sx:{m:1,minWidth:120},children:(0,u.jsx)(c.Z,{open:m,onClose:function(){g(!1)},onOpen:function(){g(!0)},value:n,onChange:d,sx:{borderRadius:"4px",padding:"0px",outline:"none",borderColor:m?"transparent":"grey.400"},renderValue:function(e){if(t){var n=t.filter((function(t){return t.fractionValue==e}))[0];return n||(r=t,(s=e)&&-1===r.findIndex((function(e){return(null==e?void 0:e.fractionValue)===s}))&&r.push({label:"Original size",description:"The format you uploaded",value:"Custom",fractionValue:s,class:"custom",dropdownLabel:"Original size",dropdownDescription:"The format you uploaded",dropdownAspectRatio:"custom",dropdownIconSrc:"../images/original-size.svg",dropdownIconSrcSelected:"../images/original-size-selected.svg"})),(0,u.jsx)(a.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",padding:"10px",alignItems:"center"},children:(0,u.jsxs)(a.Z,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,u.jsx)("img",{src:null==n?void 0:n.dropdownIconSrcSelected,width:"24px",className:"mr-1"}),(0,u.jsx)(a.Z,{children:(0,u.jsx)(l.Z,{children:null==n?void 0:n.dropdownLabel})})]})})}var r,s;return(0,u.jsx)(u.Fragment,{})},children:t&&t.map((function(e){return(0,u.jsx)(i.Z,{value:e.fractionValue,selected:!0,sx:{padding:"0",width:"300px",borderRadius:"8px",margin:"0 8px",height:"60px"},className:"selectAspectRatio",children:(0,u.jsxs)(a.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",padding:"10px",alignItems:"center"},children:[(0,u.jsxs)(a.Z,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,u.jsx)(a.Z,{sx:{background:"#F3EBFF",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"32px",height:"32px",borderRadius:"10px"},children:(0,u.jsx)("img",{src:e.dropdownIconSrc,width:"24px"})}),(0,u.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,u.jsx)(l.Z,{variant:"text_sm",children:e.dropdownLabel}),(0,u.jsx)(l.Z,{variant:"text_xs",color:"greywhite.darker",children:e.dropdownDescription})]})]}),(0,u.jsx)(a.Z,{children:(0,u.jsx)(l.Z,{variant:"text_xs",color:"grey.400",children:e.dropdownAspectRatio})})]})})}))})})})}},52927:function(e,t,n){"use strict";n.d(t,{Rh:function(){return Z},_c:function(){return w}});var r=n(1413),s=n(29439),a=n(45987),i=n(11198),o=n(24873),c=n(18104),l=n(42669),u=n(70800),d=n(7204),p=n(62463),h=n(605),m=n(2517),g=n(66382),f=n(71235),v=n(54634),x=n(47313),S=n(26018),y=n(86171),b=n(46417),j=["children","title","subtitle","actions","actionsOnTop","uid","headerComponent","isVerticalLayout","disableBackdropClick","appBar","closeIcon","onClose","divider","actionsDivider","contentSx","closeSx","actionsSx"];function w(e){var t=e.children,n=e.title,p=e.subtitle,h=e.actions,y=e.actionsOnTop,w=e.uid,Z=e.headerComponent,k=e.isVerticalLayout,C=e.disableBackdropClick,I=e.appBar,T=e.closeIcon,E=void 0===T||T,A=e.onClose,_=e.divider,R=e.actionsDivider,P=e.contentSx,N=e.closeSx,O=(e.actionsSx,(0,a.Z)(e,j)),D=x.useState(!1),U=(0,s.Z)(D,2),L=U[0],F=(U[1],x.useCallback((function(e,t){"backdropClick"===t&&C||A&&A(e,t)}),[C,A])),V=w?"pdialog-".concat(w,"-title"):void 0;function B(e){return"function"==typeof e?e({close:function(e){return F(e,"external")}}):e}var M=function(){return k?(0,b.jsxs)(o.Z,{children:[E&&(0,b.jsx)(c.Z,{color:"inherit",onClick:function(e){return F(e,"closeButton")},"aria-label":"close",sx:{position:"absolute",right:"4px",top:"4px"},children:(0,b.jsx)(i.Z,{})}),(0,b.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",paddingX:4,paddingY:2,textAlign:"center"},children:[(0,b.jsx)(o.Z,{sx:{p:4},children:Z}),(0,b.jsx)(l.Z,{variant:"dialog_title",sx:{flex:1},component:"div",children:n}),(0,b.jsx)(l.Z,{variant:"body1_resp",color:"grey.900",sx:{opacity:.5},component:"div",children:p})]})]}):(0,b.jsx)(u.Z,{children:(0,b.jsxs)(b.Fragment,{children:[Z,(0,b.jsx)(l.Z,{variant:"dialog_title",sx:{flex:1},component:"div",children:n}),y&&h&&(0,b.jsx)(g.Z,{sx:{p:3},children:B(h)}),E&&(0,b.jsx)(c.Z,{edge:"start",color:"inherit",onClick:function(e){return F(e,"closeButton")},"aria-label":"close",sx:(0,r.Z)({ml:2,mr:-1.8},N),children:(0,b.jsx)(i.Z,{})})]})})};return(0,b.jsx)(m.Z,(0,r.Z)((0,r.Z)((0,r.Z)({open:L,onClose:F,"aria-labelledby":V},O),k?{sx:{"& .MuiPaper-root":{width:"370px"}}}:{}),{},{children:(0,b.jsxs)("form",{action:"/",method:"POST",className:"scrollDialog",children:[!n&&E&&(0,b.jsx)(c.Z,{edge:"start",color:"inherit",onClick:function(e){return F(e,"closeButton")},"aria-label":"close",sx:(0,r.Z)({position:"absolute",right:"4px",top:"4px"},N),children:(0,b.jsx)(i.Z,{})}),n&&!I&&M(),n&&I&&(0,b.jsx)(d.Z,{sx:{position:"relative"},children:M()}),_&&(0,b.jsx)(S.S,{sx:{mb:1}}),(0,b.jsx)(f.Z,{sx:(0,r.Z)({},P),children:(0,b.jsx)(v.Z,{variant:"dialog_body",children:B(t)})}),R&&(0,b.jsx)(S.S,{sx:{mb:0}}),!y&&h&&(0,b.jsx)(g.Z,{sx:{p:3},children:B(h)})]})}))}function Z(){var e=x.useState(!1),t=(0,s.Z)(e,2),n=t[0],a=t[1],i=x.useState(),o=(0,s.Z)(i,2),c=o[0],u=o[1],d=x.useState(),m=(0,s.Z)(d,2),g=m[0],f=m[1],v=x.useState(),S=(0,s.Z)(v,2),j=S[0],Z=S[1],k=x.useState(),C=(0,s.Z)(k,2),I=C[0],T=C[1],E=x.useState(),A=(0,s.Z)(E,2),_=A[0],R=A[1],P=x.useState(),N=(0,s.Z)(P,2),O=N[0],D=N[1],U=x.useState(),L=(0,s.Z)(U,2),F=L[0],V=L[1],B=x.useState(),M=(0,s.Z)(B,2),G=M[0],W=M[1],z=x.useState(),J=(0,s.Z)(z,2),H=J[0],K=J[1],q=x.useState(),Y=(0,s.Z)(q,2),Q=Y[0],X=Y[1],$=x.useState(""),ee=(0,s.Z)($,2),te=ee[0],ne=ee[1],re=x.useRef(),se=x.useRef();function ae(){var e;null===(e=se.current)||void 0===e||e.call(se),a(!1),ne("")}var ie=n&&(0,b.jsxs)(w,{open:n,fullWidth:!0,divider:!I,disableEscapeKeyDown:!0,disableBackdropClick:!0,title:c,subtitle:g,headerComponent:j,isVerticalLayout:I,onClose:ae,actions:(0,b.jsxs)(p.Z,(0,r.Z)((0,r.Z)({direction:"row",spacing:1.5},I?{sx:{width:"100%"}}:{}),{},{children:[(0,b.jsx)(h.Z,{variant:"outlined",onClick:ae,fullWidth:!!I,children:H}),(0,b.jsx)(h.Z,{variant:"contained",type:"submit",onClick:function(){var e;null===(e=re.current)||void 0===e||e.call(re,te),a(!1),ne("")},fullWidth:!!I,children:G})]})),children:[(0,b.jsx)(y.Z,{autoFocus:!0,fullWidth:!0,label:_,placeholder:O,value:te,onChange:function(e){return ne(e)},inputProps:{maxLength:F}}),Q&&(0,b.jsx)(l.Z,{variant:"text-xs",sx:{my:.5},children:Q})]});return{component:ie,createDialog:function(e){var t=e.title,n=e.subtitle,r=e.headerComponent,s=e.isVerticalLayout,i=void 0!==s&&s,o=e.label,c=e.placeholder,l=void 0===c?"Type here...":c,d=e.maxLength,p=void 0===d?50:d,h=e.okButtonLabel,m=void 0===h?"OK":h,g=e.cancelButtonLabel,v=void 0===g?"Cancel":g,x=e.bottomText;return new Promise((function(e,s){re.current=e,se.current=s,u(t),n&&f(n),r&&Z(r),T(i),R(o),D(l),V(p),W(m),K(v),x&&X(x),a(!0)}))}}}},26018:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});var r=n(1413),s=n(45987),a=n(34940),i=(n(47313),n(46417)),o=["className"];function c(e){var t=e.className,n=(0,s.Z)(e,o);return(0,i.jsx)(a.Z,(0,r.Z)((0,r.Z)({},n),{},{sx:{borderColor:"primary.lighter",mb:4},className:t}))}},5465:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(45987),s=n(64164),a=(n(47313),n(46417)),i=["src"],o=(0,s.ZP)("img")();function c(e){var t=e.src,n=(0,r.Z)(e,i);return(0,a.jsx)(o,{src:t,style:n})}},4330:function(e,t,n){"use strict";n.d(t,{W:function(){return m}});var r=n(1413),s=n(45987),a=n(47313),i=n(24873),o=n(62463),c=n(78061),l=n(5211),u=n(49476),d=n(46417),p=["children","sx","minValue","maxValue","value","stackSpacing","valueInCenter","minusStyles","plusStyles","onChange"],h={padding:".2rem",cursor:"pointer",display:"inline-flex",alignItem:"center",justifyContent:"center",borderRadius:"8px"};function m(e){e.children;var t=e.sx,n=e.minValue,m=void 0===n?0:n,g=e.maxValue,f=e.value,v=e.stackSpacing,x=void 0===v?1:v,S=e.valueInCenter,y=e.minusStyles,b=e.plusStyles,j=e.onChange,w=(0,s.Z)(e,p),Z=a.useRef(),k=a.useCallback((function(e){null==j||j(parseInt(e.target.value))}),[]),C=(0,d.jsx)(i.Z,{sx:{flex:1,display:"flex",input:{border:"1px solid transparent",background:"transparent",paddingLeft:"5px",height:"100%"}},children:(0,d.jsx)("input",{className:"input-number-no-buttons",type:"number",ref:function(e){return Z.current=e},value:f,onChange:k})});return(0,d.jsx)(i.Z,(0,r.Z)((0,r.Z)({},w),{},{sx:(0,r.Z)({border:"1px solid ".concat(c.Z.grey[200]),borderRadius:"8px",padding:".2rem"},t),children:(0,d.jsxs)(o.Z,{direction:"row",spacing:x,children:[!S&&C,(0,d.jsx)(i.Z,{sx:(0,r.Z)((0,r.Z)({},h),y),onClick:function(){void 0!==m&&f<=m||j(f-1)},children:(0,d.jsx)(u.Z,{})}),S&&C,(0,d.jsx)(i.Z,{sx:(0,r.Z)((0,r.Z)({},h),b),onClick:function(){void 0!==g&&f>=g||j(f+1)},children:(0,d.jsx)(l.Z,{})})]})}))}},83254:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(45987),s=(n(47313),n(46417)),a=["onchange","inputRef"];function i(e){var t=e.onchange,n=e.inputRef;return(0,r.Z)(e,a),(0,s.jsxs)("div",{className:"search-vid",children:[(0,s.jsx)("input",{type:"search",ref:n,placeholder:"Search",name:"searchValue",id:"searchValue",autoComplete:"off",onChange:t}),(0,s.jsx)("i",{className:"fa fa-search"})]})}},93012:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(29439),a=n(45987),i=n(20777),o=n(47313),c=n(46417),l=["defaultValue","value","onChange","onChangeCommitted","sx"];t.default=function(e){var t=e.defaultValue,n=void 0===t?void 0:t,u=e.value,d=e.onChange,p=e.onChangeCommitted,h=e.sx,m=(0,a.Z)(e,l),g=(0,o.useState)(u||n),f=(0,s.Z)(g,2),v=f[0],x=f[1];return(0,o.useEffect)((function(){void 0!==u&&x(u)}),[u]),(0,o.useEffect)((function(){void 0!==n&&x(n)}),[n]),(0,c.jsx)(i.ZP,(0,r.Z)((0,r.Z)({value:v,onChange:function(e,t){x(t),d&&d(e,t)},onChangeCommitted:function(e,t){x(t),p&&p(e,t)}},m),{},{sx:(0,r.Z)({width:"calc(100% - 15px)"},h)}))}},56310:function(e,t,n){"use strict";n.r(t);var r=n(62463),s=(0,n(64164).ZP)(r.Z)((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff",padding:t.spacing(3),margin:"20px",borderRadius:"10px",direction:"row",textAlign:"left",color:t.palette.text.secondary,boxShadow:"2px 2px 3px lightgray"}}));t.default=s},27811:function(e,t,n){"use strict";n.d(t,{h:function(){return h}});var r=n(1413),s=n(45987),a=n(10383),i=n(62463),o=n(87668),c=n(95352),l=n(46123),u=n.n(l),d=(n(47313),n(46417)),p=["fullWidth","label","checked","onChange","className","styles","border"];function h(e){var t=e.fullWidth,n=void 0!==t&&t,l=e.label,h=e.checked,m=void 0!==h&&h,g=e.onChange,f=e.className,v=e.styles,x=void 0===v?{}:v,S=e.border,y=void 0===S||S,b=(0,s.Z)(e,p);return(0,d.jsx)(a.Z,{className:u()("pswitch",f),fullWidth:n,sx:(0,r.Z)({},x),children:(0,d.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:y?{border:"1px solid",borderColor:"grey.300",borderRadius:"8px",p:1,py:"10px"}:{},children:[l&&(0,d.jsx)(o.Z,(0,r.Z)((0,r.Z)({},b),{},{sx:{m:0},children:l})),(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({},b),{},{inputProps:{"aria-label":"controlled"},checked:m,onChange:function(e){g&&g(e.target.checked)},size:"small"}))]})})}},86171:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1413),s=n(29439),a=n(45987),i=n(36368),o=n(47313),c=n(46417),l=["value","required","validation","error","label","placeholder","form","trim","debounce","size","errorMsgWhenBlank","sx","variant","onChange","onSave","onBlur"];function u(e){var t=e.value,n=void 0===t?"":t,u=e.required,d=void 0!==u&&u,p=e.validation,h=e.error,m=e.label,g=e.placeholder,f=e.form,v=e.trim,x=e.debounce,S=e.size,y=e.errorMsgWhenBlank,b=e.sx,j=void 0===b?{}:b,w=e.variant,Z=void 0===w?"outlined":w,k=e.onChange,C=e.onSave,I=e.onBlur,T=(0,a.Z)(e,l),E=o.useState(n),A=(0,s.Z)(E,2),_=A[0],R=A[1],P=o.useState(),N=(0,s.Z)(P,2),O=N[0],D=N[1],U=o.useRef(),L=m,F=o.useCallback((function(e){var t,n=p?Array.isArray(p)?p:[p]:void 0;e?null!=n&&n.length&&n.every((function(n){if(null!=n&&n.regex){if(!1===new RegExp(n.regex).test(e))return t=n.message||"Invalid value",!1}else if(null!=n&&n.fn&&!1===(0,n.fn)(e))return t=n.message||"Invalid value",!1;return!0})):d&&(t=y||"".concat(m||"This field"," is required")),D(t);var r,s=e,a=v&&"string"==typeof e?e.trim():e;return R(a),a!==(null==s?void 0:s.trim())&&C&&(x?(U.current&&U.current.cancel(),U.current=(r=setTimeout((function(){return null==C?void 0:C(a)}),x),{cancel:function(){clearTimeout(r)}})):C&&C(a)),{value:a,error:t}}),[x,y,m,C,d,v,p]);return o.useEffect((function(){null!=f&&f.current&&(f.current[L]={validate:function(){return F(_)}})}),[f,L,_,F]),o.useEffect((function(){R(n)}),[n]),o.useEffect((function(){d||D(void 0)}),[d]),o.useEffect((function(){k&&k(_,h||O)}),[h,k,_,O]),(0,c.jsx)(i.Z,(0,r.Z)({placeholder:g,label:m,variant:Z,size:S,sx:(0,r.Z)((0,r.Z)({flexGrow:1},j),{},{"& .MuiOutlinedInput-root.Mui-focused":{"& > fieldset":{borderWidth:"1px"}}}),value:_,role:"textbox",onChange:function(e){F(e.target.value)},onBlur:function(e){F(_),I&&I(e)},error:!(!h&&!O),helperText:h||O},T))}},29868:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(1413),s=n(29439),a=n(45987),i=n(36368),o=n(47313),c=n(46417),l=["value","required","onChange","validation","error","label","placeholder","form","sx","variant","onKeyPress","autoFocus"];function u(e){var t=e.value,n=e.required,u=e.onChange,d=e.validation,p=void 0===d?{regex:"",message:""}:d,h=e.error,m=void 0===h?null:h,g=e.label,f=e.placeholder,v=e.form,x=e.sx,S=void 0===x?{}:x,y=e.variant,b=void 0===y?"outlined":y,j=e.onKeyPress,w=void 0===j?function(){}:j,Z=e.autoFocus,k=void 0!==Z&&Z,C=(0,a.Z)(e,l),I=(0,o.useState)(t),T=(0,s.Z)(I,2),E=T[0],A=T[1],_=(0,o.useState)(m),R=(0,s.Z)(_,2),P=R[0],N=R[1];v&&v.current&&(v.current[g]={validate:function(){return O(E)}}),(0,o.useEffect)((function(){A(t)}),[t]),(0,o.useEffect)((function(){u&&u(E,P)}),[E,P]),(0,o.useEffect)((function(){N(m)}),[m]);var O=function(e){var t="";return e?p&&p.regex&&!1===new RegExp(p.regex).test(e)&&(t=p.message||"Invalid value"):n&&(t="".concat(g," is required")),N(t),A(e),{value:e,error:t}};return(0,c.jsx)(i.Z,(0,r.Z)((0,r.Z)({},C),{},{placeholder:f,label:g,variant:b,sx:(0,r.Z)((0,r.Z)({flexGrow:1},S),{},{"& .MuiOutlinedInput-input":{paddingLeft:"4px"},"& .MuiOutlinedInput-root.Mui-focused":{"& > fieldset":{borderWidth:"1px"}}}),value:E,onChange:function(e){var t=e.target.value;O(t)},onBlur:function(e){O(E)},error:!!P,helperText:P,onKeyPress:w,autoFocus:k}))}},26146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(1413),s=n(29439),a=n(10237),i=n(22611),o=n(62463),c=n(10383),l=n(91294),u=n(42318),d=n(59017),p=n(18104),h=n(42669),m=n(47313),g=n(46417),f=["Use 8 or more characters with a mix of capital and small letters, numbers & symbols (! # @ $)"];function v(e){var t=e.value,n=e.onChange,v=e.validate,x=e.form,S=e.label,y=e.id,b=e.name,j=e.isSignUp,w=void 0!==j&&j,Z=(0,m.useState)(!1),k=(0,s.Z)(Z,2),C=k[0],I=k[1],T=(0,m.useState)(t),E=(0,s.Z)(T,2),A=E[0],_=E[1],R=(0,m.useState)(null),P=(0,s.Z)(R,2),N=P[0],O=P[1];x&&x.current&&(x.current.password={validate:function(){return L(A)}}),(0,m.useEffect)((function(){_(t)}),[t]),(0,m.useEffect)((function(){n(A,N)}),[A,N]);var D=function(e){var t=e.target.value;L(t)},U=function(e){L(A)},L=function(e){var t="";return e?v&&!1===/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\^$*.\[\]{}\(\)?\-\"!@#%&\/,><\':;|_~`])\S{8,99}$/.test(e)&&(t=f):t=["Password is required"],O(t),_(e),{value:e,error:t}};return(0,g.jsxs)(o.Z,{spacing:1,sx:{width:"100%"},children:[(0,g.jsxs)(c.Z,{sx:{height:"40px","& .MuiOutlinedInput-root.Mui-focused":{"& > fieldset":{borderWidth:"1px"}}},variant:"outlined",children:[(0,g.jsx)(l.Z,{htmlFor:"outlined-adornment-password",sx:(0,r.Z)({m:0,p:0,background:"white"},(null==N?void 0:N.length)>0?{color:"red"}:{}),shrink:!0,children:S||"Password"}),w?(0,g.jsx)(u.Z,{id:y||"outlined-adornment-password",label:S||"Password",name:b||"Password",type:C?"text":"password",value:A,onChange:D,onBlur:U,autoComplete:"new-password",error:!!(N&&N.length>0),endAdornment:(0,g.jsx)(d.Z,{position:"end",children:(0,g.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:function(e){e.preventDefault(),I(!C)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:C?(0,g.jsx)(i.Z,{}):(0,g.jsx)(a.Z,{})})})}):(0,g.jsx)(u.Z,{id:y||"outlined-adornment-password",label:S||"Password",name:b||"Password",type:C?"text":"password",value:A,onChange:D,onBlur:U,error:!!(N&&N.length>0),endAdornment:(0,g.jsx)(d.Z,{position:"end",children:(0,g.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:function(e){e.preventDefault(),I(!C)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:C?(0,g.jsx)(i.Z,{}):(0,g.jsx)(a.Z,{})})})})]}),N&&N.length>0?(0,g.jsx)(o.Z,{direction:"column",sx:{width:"100%",pl:"1rem",mt:"-5px"},children:(0,g.jsx)(h.Z,{variant:"text_xs",sx:{color:"error.main",textAlign:"left",margin:"-8px 0 0 0"},children:N})}):(0,g.jsx)(g.Fragment,{})]})}},51991:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(45987),s=n(5648),a=n(18765),i=(n(47313),n(94138)),o=(n(90500),n(46417)),c=["open","onClose","anchorEl","url"],l=function(e){var t=e.open,n=e.onClose,l=e.anchorEl,u=e.url;return(0,r.Z)(e,c),(0,o.jsx)(s.Z,{open:t,onClose:n,anchorEl:l,placement:"left-start",disablePortal:!0,modifiers:[{name:"offset",options:{offset:function(e){return e.placement,e.reference,[0,-e.popper.width]}}}],className:"play-music",children:(0,o.jsx)(a.Z,{onClickAway:function(e){!e.target.closest(".music-play-button")&&n()},children:(0,o.jsx)(i.Z,{style:{borderRadius:"1rem"},autoPlay:!0,src:u,showJumpControls:!1,customVolumeControls:[],customAdditionalControls:[],customProgressBarSection:[null,i.s.PROGRESS_BAR,null]})})})}},79859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(1413),s=n(45987),a=n(24873),i=(n(47313),n(46417)),o=["children","horizontalScroll"];function c(e){var t=e.children,n=e.horizontalScroll,c=(0,s.Z)(e,o);return c.className="flex-column fill-height "+(c.className||""),(0,i.jsxs)(a.Z,(0,r.Z)((0,r.Z)({},c),{},{children:[(0,i.jsx)(a.Z,{sx:{pb:1},children:t[0]}),(0,i.jsx)(a.Z,{className:"".concat(n?"scrollable-x-axis":"scrollable-y-axis"," scroll-smooth fill-height"),children:t[1]})]}))}},77049:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(29439),s=n(47313),a=n(75958),i=n(62463),o=n(42669),c=n(24873),l=n(46417);function u(e){var t=e.filterData,n=e.filterValue,u=s.useState("all"),d=(0,r.Z)(u,2),p=d[0],h=d[1],m=function(e){h(e),t(e)};return(0,s.useEffect)((function(){h(n||"all")}),[n]),(0,l.jsxs)(i.Z,{direction:"row",spacing:1,sx:{marginRight:"0"},children:[(0,l.jsx)(a.Z,{label:(0,l.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{variant:"text_xs",sx:{color:"all"===p?"grey.0":"grey.700"},children:"All"})}),onClick:function(){return m("all")},variant:"contained",color:"all"===p?"primary":"default",sx:{height:28}}),(0,l.jsx)(a.Z,{label:(0,l.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{variant:"text_xs",sx:{color:"my"===p?"grey.0":"grey.700"},children:"Mine"})}),onClick:function(){return m("my")},variant:"contained",color:"my"===p?"primary":"default",sx:{height:28}}),(0,l.jsx)(a.Z,{label:(0,l.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{variant:"text_xs",sx:{color:"sharedwithme"===p?"grey.0":"grey.700"},children:"Shared with me"})}),onClick:function(){return m("sharedwithme")},variant:"contained",color:"sharedwithme"===p?"primary":"default",sx:{height:28}})]})}},35687:function(e,t,n){"use strict";n.r(t),n(47313);var r=n(55240),s=n(46417);t.default=function(){return(0,s.jsxs)(r.Z,{controls:!0,interval:5e3,indicators:!0,children:[(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsx)("img",{className:"d-block w-100",src:"/images/testimonials/easietediting.png",style:{borderRadius:"8px"}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsx)("img",{className:"d-block w-100",src:"/images/testimonials/howeasyprocess.png",style:{borderRadius:"8px"}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsx)("img",{className:"d-block w-100",src:"/images/testimonials/onemillionviews.png",style:{borderRadius:"8px"}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsx)("img",{className:"d-block w-100",src:"/images/testimonials/organicsearch.png",style:{borderRadius:"8px"}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsx)("img",{className:"d-block w-100",src:"/images/testimonials/savesmesomuchtime.png",style:{borderRadius:"8px"}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsx)("img",{className:"d-block w-100",src:"/images/testimonials/vidnamialternative.png",style:{borderRadius:"8px"}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})]})}},23938:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(1413),s=n(74165),a=n(15861),i=n(29439),o=n(45987),c=n(24873),l=n(42669),u=n(36368),d=n(16031),p=n.n(d),h=n(47313),m=n(46417),g=["id","value","required","errorMsgWhenBlank","onChange","onBlur","onFocus","onEditSaveText","onSave","onKeyDown","externalChangeText","trimText","validationsList","error","label","placeholder","form","sx","sxLabel","sxTextField","size","showBorder","component","inputProps"];function f(e){var t=e.id,n=e.value,d=void 0===n?"":n,f=e.required,v=e.errorMsgWhenBlank,x=e.onChange,S=e.onBlur,y=e.onFocus,b=e.onEditSaveText,j=e.onSave,w=e.onKeyDown,Z=e.externalChangeText,k=e.trimText,C=void 0===k||k,I=e.validationsList,T=void 0===I?[{fn:function(e){return!0},regex:"",message:""}]:I,E=e.error,A=void 0===E?null:E,_=e.label,R=e.placeholder,P=e.form,N=e.sx,O=e.sxLabel,D=e.sxTextField,U=e.size,L=void 0===U?"medium":U,F=e.showBorder,V=e.component,B=void 0===V?"span":V,M=e.inputProps,G=(0,o.Z)(e,g),W=(0,h.useState)(d),z=(0,i.Z)(W,2),J=z[0],H=z[1],K=(0,h.useState)(d),q=(0,i.Z)(K,2),Y=q[0],Q=q[1],X=(0,h.useState)(!1),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ne=(0,h.useState)(!1),re=(0,i.Z)(ne,2),se=re[0],ae=re[1],ie=(0,h.useState)(!1),oe=(0,i.Z)(ie,2),ce=oe[0],le=oe[1],ue=(0,h.useState)(!0),de=(0,i.Z)(ue,2),pe=de[0],he=de[1],me=(0,h.useState)(A),ge=(0,i.Z)(me,2),fe=ge[0],ve=ge[1],xe=h.useRef();(0,h.useEffect)((function(){if(!se&&pe)return H(d),void te(!1);d!==Y&&pe&&te(!0)}),[d]),(0,h.useEffect)((function(){}),[J,fe]),(0,h.useEffect)((function(){ve(A)}),[A]);var Se=p().debounce(function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(t),!b){e.next=11;break}return he(!0),e.next=5,le(!0);case 5:return te(void 0),e.next=8,b(t);case 8:0==e.sent&&te(!0),le(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),ye=function(e){var t="";if(e?T&&T.length>0&&T.every((function(n){if(n.regex){if(!1===new RegExp(n.regex).test(e))return t=n.message||"Invalid value",!1}else if(n.fn&&!1===(0,n.fn)(e))return t=n.message||"Invalid value",!1;return!0})):f&&(t=v||"".concat(_," is required")),ve(t),H(e),!t){var n=C&&e&&"string"==typeof e?e.trim():e;J&&n!==J.trim()&&Se(n)}return{value:e,error:t}},be=fe;ee&&(be=Z||"External Change");var je=(0,r.Z)((0,r.Z)({display:"block",flexGrow:1,legend:{display:"none"},"& .MuiInputBase-formControl":{display:"flex"},"& .MuiInputBase-root":{height:"30px",borderRadius:"4px"},"& .MuiInputBase-root.Mui-focused":{height:"30px"},"& fieldset":{bottom:"-5px"}},F?{}:{"& .MuiInputBase-root:not(:hover):not(.Mui-focused) fieldset":{borderWidth:0}}),{},{"& .MuiInputBase-root:hover:not(.Mui-focused) fieldset":{borderColor:"grey.200"},"& .MuiInputBase-root.Mui-focused fieldset":{borderWidth:"1px"},"& .MuiInputBase-input":(0,r.Z)({fontSize:"large"===L?"20px":"16px",fontWeight:400,color:"rgba(0, 0, 0, 0.87)",pl:0,pr:1},null==M?void 0:M.sx),"& .MuiFormHelperText-root":{ml:1,mt:1,position:"absolute"}},D);return(0,m.jsxs)(c.Z,{component:B,sx:(0,r.Z)({textAlign:"left",height:"50px"},N),children:[(0,m.jsx)(l.Z,{variant:"large"===L?"body3":"caption",sx:(0,r.Z)({marginLeft:"10px",color:"rgba(0,0,0,0.6)",pb:1},O),component:"div",children:_}),(0,m.jsx)(u.Z,(0,r.Z)({ref:xe,placeholder:R,hiddenLabel:!0,variant:"outlined",size:"small",sx:je,value:J,onChange:function(e){var n=e.target.value;he(!1);var r=ye(n);null!=P&&P.current&&(P.current.validation||(P.current.validation={}),P.current.validation[t]=r),x&&x(e)},onFocus:function(e){ae(!0),y&&y(e)},onBlur:function(e){var n=ye(J);null!=P&&P.current&&(P.current.validation||(P.current.validation={}),P.current.validation[t]=n),ae(!1),j&&j(d),!ce&&pe&&H(d),ee&&te(void 0),S&&S(e)},onKeyDown:function(e){te(void 0),w&&w(e)},error:!!(A||ee||fe),helperText:be,InputProps:M},G))]})}},23148:function(e,t,n){"use strict";n.r(t),n.d(t,{HtmlTooltip:function(){return y},HtmlTooltip1:function(){return b},default:function(){return j}});var r=n(4942),s=n(1413),a=n(45987),i=n(47313),o=n(64164),c=n(62463),l=n(42669),u=n(18104),d=n(80699),p=n(73648),h=n(47196),m=n(46417),g=["className"],f=["className"],v=["className"],x=["className"],S=["headerText","text"],y=(0,o.ZP)((function(e){var t=e.className,n=(0,a.Z)(e,g);return(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({},n),{},{classes:{popper:t}}))}))((function(e){var t=e.theme;return(0,r.Z)({},"& .".concat(p.Z.tooltip),{backgroundColor:"#ffffff",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #E0E0E0",borderRadius:"8px",boxShadow:"0px 4px 4px rgba(172, 172, 172, 0.25)"})})),b=(0,o.ZP)((function(e){var t=e.className,n=(0,a.Z)(e,f);return(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({},n),{},{classes:{popper:t},arrow:!0}))}))((function(e){return e.theme,(0,r.Z)({},"& .".concat(p.Z.tooltip),{backgroundColor:"#E4D0FF",color:"rgba(0, 0, 0, 0.87)",borderRadius:"4px"})}));function j(e){var t=e.headerText,n=e.text;return(0,a.Z)(e,S),(0,m.jsx)(y,{title:(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(c.Z,{spacing:"7px",sx:{width:"230px",padding:".5rem"},children:[(0,m.jsx)(l.Z,{color:"grey.700",variant:"text_sm",children:t}),(0,m.jsx)(c.Z,{direction:"row",sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,m.jsx)(l.Z,{color:"grey.400",variant:"text_sm",children:n})})]})}),children:(0,m.jsx)(u.Z,{color:"inherit","aria-label":"info",children:(0,m.jsx)(h.Z,{sx:{fontSize:"18px",color:"grey.400"}})})})}(0,o.ZP)((function(e){var t=e.className,n=(0,a.Z)(e,v);return(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({},n),{},{classes:{popper:t}}))}))((function(e){var t=e.theme;return(0,r.Z)({},"& .".concat(p.Z.tooltip),{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:t.shadows[1],fontSize:11})})),(0,o.ZP)((function(e){var t=e.className,n=(0,a.Z)(e,x);return(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({},n),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,n=e.theme;return t={},(0,r.Z)(t,"& .".concat(p.Z.arrow),{color:n.palette.common.black}),(0,r.Z)(t,"& .".concat(p.Z.tooltip),{backgroundColor:n.palette.common.black}),t}))},43561:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(37762),s=n(93433),a=n(29439),i=n(47313),o=n(24873),c=n(36368),l=n(16031),u=n.n(l),d=n(46417);function p(e){var t=e.codes,n=e.onCodeChanged,l=e.onCodeComplete,p=e.invalidCode,h=e.codeVerified,m=e.disabled,g=void 0!==m&&m,f=(0,i.useState)(t),v=(0,a.Z)(f,2),x=v[0],S=v[1],y=(0,i.useState)(new Array(t.length).fill(null).map((function(e){return(0,i.useRef)(null)}))),b=(0,a.Z)(y,2),j=b[0];return b[1],(0,i.useEffect)((function(){j&&j.length>0&&j[0].current&&j[0].current.focus()}),[]),(0,i.useEffect)((function(){S(t),!t.find((function(e){return e}))&&j&&j.length>0&&j[0].current&&j[0].current.focus()}),[t]),(0,d.jsx)(o.Z,{className:["otp-sms",p?"error-otp-sms":"",h?"email-verified-success":"","d-flex w-100 justify-content-between"].join(" "),sx:{padding:"2em 2em 1.5em 2em"},children:x.map((function(e,t){return(0,d.jsx)(c.Z,{disabled:g,type:"number",inputRef:j[t],variant:"outlined",value:e,onChange:function(e){return function(e,t){var r=(0,s.Z)(x);t?!1===isNaN(parseInt(t))&&(1===t.trim().length&&(r[e]=t),e+1<j.length&&j[e+1].current.focus()):r[e]=t,n(r),S(r),u().every(r,(function(e,t,n){return e}))&&l(r)}(t,e.target.value)},onFocus:function(e){return e.target.select()},onPaste:function(e){return function(e){var t,a=e.clipboardData.getData("Text").split(""),i=(0,s.Z)(x),o=0,c=(0,r.Z)(a);try{for(c.s();!(t=c.n()).done;){var d=t.value;d&&d.match(/^[0-9]+$/)&&1===d.trim().length&&(i[o]=d,o++)}}catch(e){c.e(e)}finally{c.f()}return j[o-1].current.focus(),n(i),S(i),u().every(i,(function(e,t,n){return e}))&&l(i),!1}(e)},onKeyDown:function(e){return function(e,t){var n=t.key;return"Backspace"!==n&&"Delete"!==n||x[e]||e>0&&j[e-1].current.focus(),!0}(t,e)},sx:{height:"72px",background:g?"lightgray":""},autoComplete:"off",inputProps:{inputMode:"numeric",pattern:"[0-9]*"}},t)}))})}},24611:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(29439),s=n(45987),a=n(43997),i=n(18104),o=n(27018),c=n(47313),l=n(46417),u=["children"];function d(e){var t=e.children,n=((0,s.Z)(e,u),(0,c.useState)(null)),d=(0,r.Z)(n,2),p=d[0],h=d[1],m=Boolean(p);return(0,l.jsx)(l.Fragment,{children:t&&t.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{id:"long-button","aria-controls":m?"basic-menu":void 0,"aria-haspopup":"true",sx:{p:"0"},"aria-expanded":m?"true":void 0,onClick:function(e){h(e.currentTarget)},children:(0,l.jsx)(a.Z,{})}),(0,l.jsx)(o.Z,{id:"basic-menu",anchorEl:p,open:m,onClose:function(){h(null)},MenuListProps:{"aria-labelledby":"long-button"},children:t})]}):(0,l.jsx)(l.Fragment,{})})}},99865:function(e,t,n){"use strict";n.r(t);var r=n(29439),s=n(47313),a=n(42669),i=n(62463),o=n(24873),c=(n(44282),n(56790),n(91508)),l=n(46417);t.default=function(e){var t=e.assetUrl,n=e.assetAltName,u=e.assetTitle,d=e.downloadFile,p=(0,s.useState)(t.split(".").pop()),h=(0,r.Z)(p,2),m=h[0];return h[1],(0,l.jsxs)("div",{className:"asset-tile-assetview",children:[(0,l.jsx)("div",{className:"vid-outerbox","data-type":"outerbox",children:(0,l.jsxs)("div",{className:"inner-vdbox",style:{width:"100%",cursor:"auto"},children:[(0,l.jsx)("img",{src:"/images/pc_project_pictai.png",alt:n,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"8px"}}),(0,l.jsx)("div",{className:"centered",children:(0,l.jsx)(a.Z,{variant:"h5b",color:"grey.0",children:".".concat(m)})})]})}),(0,l.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,sx:{width:"100%",height:"28px"},children:[(0,l.jsx)(o.Z,{className:"video-no my-video-panel-project-title","data-toggle":"tooltip",style:{flex:1,maxWidth:"85%"},"data-placement":"bottom",children:(0,l.jsx)(o.Z,{component:"span",sx:{fontSize:"15px",color:"grey.900"},children:u})}),(0,l.jsx)(c.Z,{className:"hover-bg-black-10",sx:{color:"grey.500",cursor:"pointer",fontSize:"22px"},onClick:function(){d(t,u+"."+m)}})]})]})}},13594:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}}),n(47313);var r=n(32415),s=n(81962),a=n(38127),i=n(61634),o=n(39026),c=n(42669),l=n(5329),u=n(96217),d=n(26642),p=n(18104),h=n(46417);function m(e){var t=function(t){e.onOptionSelect(t)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.Z,{id:"voiceover-menu-button","aria-haspopup":"true",variant:"text",disableElevation:!0,className:"min-width-30 voice-over iconbutton mx-2",children:e.isVoiceAiOverSelected||e.isVoiceOverRecorded?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.Z,{className:"micIcon"}),e.isVoiceOverRecorded?(0,h.jsx)(o.Z,{className:"voice-upload voice-suffix"}):e.isVoiceAiOverSelected?(0,h.jsx)(c.Z,{className:"ai-voice voice-suffix",children:"AI"}):""]}):(0,h.jsx)(a.Z,{className:"micIcon"})}),(0,h.jsxs)(r.Z,{sx:{position:"absolute",zIndex:"100",top:"0",right:"0",transform:"translate(-70%, -96%)",visibility:"hidden",transition:".2s all",padding:"8px 0",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"},elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"voiceover-menu",MenuListProps:{"aria-labelledby":"voiceover-menu-button"},children:[!e.isVoiceAiOverSelected&&!e.isVoiceOverRecorded&&(0,h.jsx)(s.Z,{className:"voice-over",onClick:function(){t("ai-voice-over")},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{sx:{mr:"10px"}}),(0,h.jsx)(c.Z,{className:"ai-voice voice-suffix",children:"AI"}),(0,h.jsx)(c.Z,{variant:"text_sm",children:"Apply AI voice-over"})]})}),!e.isVoiceOverRecorded&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.Z,{className:"voice-over",onClick:function(){t("upload-voice-over")},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{sx:{mr:"10px"}}),(0,h.jsx)(o.Z,{className:"voice-upload voice-suffix"}),(0,h.jsx)(c.Z,{variant:"text_sm",children:"Upload voice-over"})]})}),(0,h.jsx)(s.Z,{className:"voice-over",onClick:function(){t("record-voice-over")},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{sx:{mr:"10px"}}),(0,h.jsx)(c.Z,{className:"ai-record voice-suffix"}),(0,h.jsx)(c.Z,{variant:"text_sm",children:"Record voice-over"})]})})]}),e.isVoiceOverRecorded&&e.isRecorderEntireVideo&&(0,h.jsx)(s.Z,{className:"voice-over",onClick:function(){t("adjust-voice-over")},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{sx:{mr:"10px"}}),(0,h.jsx)(c.Z,{variant:"text_sm",children:"Adjust voice-over"})]})}),(e.isVoiceAiOverSelected||e.isVoiceOverRecorded)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.Z,{className:"voice-over",onClick:function(){t("change-voice-over")},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Z,{sx:{mr:"10px"}}),(0,h.jsx)(c.Z,{variant:"text_sm",children:"Change voice-over"})]})}),(0,h.jsx)(s.Z,{className:"voice-over",onClick:function(){t("remove-voice-over")},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{sx:{mr:"10px"}}),(0,h.jsx)(c.Z,{variant:"text_sm",children:"Remove voice-over"})]})})]})]})]})}},39801:function(e,t,n){"use strict";n.r(t);var r=n(47313),s=n(55239);t.default=function(e,t){var n=(0,s.Z)(e);(0,r.useEffect)((function(){var r;(null==e?void 0:e.length)>(null==n?void 0:n.length)&&(null===(r=t.current)||void 0===r||r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))}),[e])}},80962:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(15671),a=n(43144),i=n(60136),o=n(29388),c=n(31172),l=n(47313),u=n(46417);t.default=function(e){return t=e,function(e){(0,i.Z)(l,e);var n=(0,o.Z)(l);function l(e){var t;return(0,s.Z)(this,l),(t=n.call(this,e)).getCookie=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var s=n[r];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""},t.state={leadSource:"Other",campaign:"",clickId:""},t}return(0,a.Z)(l,[{key:"componentDidMount",value:function(){if(this.props.location&&this.props.location.search){var e=c.parse(this.props.location.search);if(e.leadsource){var t=new Date;t.setTime(t.getTime()+2592e6);var n="expires="+t.toUTCString(),r=this.getCookie("gclid");r&&(document.cookie="clickId="+r+";"+n+";path=/",this.setState({clickId:r})),document.cookie="leadsource="+e.leadsource+";"+n+";path=/",this.setState({leadSource:e.leadsource})}}else{var s=this.getCookie("utm_source"),a=this.getCookie("gclid"),i=this.getCookie("utm_campaign");s&&"trustpilot"===s.trim().toLowerCase()&&(s="Other"),this.setState({leadSource:s&&""!=s.trim()?s:"Other",clickId:a,campaign:i})}}},{key:"render",value:function(){return(0,u.jsx)(t,(0,r.Z)((0,r.Z)({},this.props),this.state))}}]),l}(l.Component);var t}},62986:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(29439),s=n(40009),a=n(47313);function i(){var e=a.useState(),t=(0,r.Z)(e,2),n=t[0],i=t[1];return a.useEffect((function(){s.g.currentAuthenticatedUser().then((function(e){i(e)}))}),[]),n}},22650:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(47313),s=n(1084),a=n(33783);function i(){var e=(0,s.I0)(),t=r.useCallback((function(){e((0,a.hideLoadingOverlayRequest)())}),[e]);return r.useEffect((function(){return function(){return t()}}),[]),{loadingOverlay:r.useCallback((function(n){return e((0,a.showLoadingOverlayRequest)({show:!0,message:n})),t}),[t,e])}}},51690:function(e,t,n){var r=n(28965);r.keys().forEach((function(t){var n=t.replace(/^.+\/([^/]+)\/index\.js/,"$1");e.exports[n]=r(t).default}))},82728:function(e,t,n){"use strict";n.r(t);var r=n(45987),s=n(42669),a=n(605),i=n(82937),o=n(51690),c=(n(47313),n(46417)),l=["onEnter","emailVerification"];t.default=function(e){var t=e.onEnter,n=e.emailVerification,u=void 0===n||n;return(0,r.Z)(e,l),(0,c.jsx)(i.ZP,{container:!0,sx:{alignItems:"center"},children:(0,c.jsxs)(i.ZP,{item:!0,container:!0,direction:"column",sx:{alignItems:"center"},children:[(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(o.PImage,{src:"/images/hurray.png",display:"block",width:"75px",height:"75px"})}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(s.Z,{align:"center",variant:"h4b",gutterBottom:!0,component:"div",sx:{alignSelf:"center",color:"grey.700"},children:"Hurray!!"})}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(s.Z,{align:"center",variant:"h4b",gutterBottom:!0,component:"div",sx:{alignSelf:"center",color:"grey.700"},children:"Account is setup."})}),u?(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(s.Z,{align:"center",variant:"body3",gutterBottom:!0,component:"div",sx:{alignSelf:"center",color:"#9596A5"},children:"An email is sent with a link to verify your email"})}):(0,c.jsx)(c.Fragment,{}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(a.Z,{variant:"contained",sx:{width:"110px"},onClick:function(e){e.preventDefault&&e.preventDefault(),t&&t()},children:"PROCEED"})})]})})}},77280:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var r=n(1413),s=n(45987),a=n(605),i=n(52927),o=(n(47313),n(46417)),c=["okButtonText","onOk","onClose"];function l(e){var t=e.okButtonText,n=void 0===t?"Ok":t,l=e.onOk,u=e.onClose,d=(0,s.Z)(e,c);return(0,o.jsx)(i._c,(0,r.Z)({closeIcon:!1,onClose:u,disableEscapeKeyDown:!0,disableBackdropClick:!0,actions:(0,o.jsx)(a.Z,{variant:"contained",onClick:function(){l&&l(),u&&u()},children:n})},d))}},20130:function(e,t,n){"use strict";n.r(t);var r=n(4942),s=n(1413),a=n(93433),i=n(37762),o=n(29439),c=n(45987),l=n(62463),u=n(36368),d=n(24873),p=n(34940),h=n(42669),m=n(35672),g=n(8224),f=n(64558),v=n(88765),x=n(10383),S=n(91294),y=n(88905),b=n(81962),j=n(71659),w=n(47313),Z=n(46417),k=["value","valueOther","isOther","onChange","answers","onDisableNext","onChangeOthers","onChangeOthersValue","updateNextButtonLabel","updateCompany","updateIndustry","questionNumber"],C=["Agency (Marketing/Advertising/Event/PR)","Arts, Entertainment; Recreation (excluding sports)","Construction","Fashion & Beauty","Finance & Insurance","Fitness","Government & Political","Healthcare","Hospitality & Food Services","Manufacturing & Industrial","Media and Publishing - Online & Offline","Non-Profit","Production Service (Co. or Freelance)","Radio Station","Real Estate, Rental, & Leasing","Religious Organizations","Retail","Schools & Educational Services","Software & Technology","Sports (Event/Team/League/Federation/Venue)","Telecommunications","Television Broadcasting","Transportation & Warehousing","Others"];t.default=(0,j.Z)((function(e){return{listItemSelected:{backgroundColor:"#FFFFFF !important",border:"1px solid #8126FF","& span":{color:"#8126FF"}},selectItemSelected:{backgroundColor:"#8126FF !important","& span":{color:"#FFFFFF"}}}}))((function(e){var t=e.value,n=e.valueOther,j=e.isOther,I=e.onChange,T=e.answers,E=e.onDisableNext,A=e.onChangeOthers,_=e.onChangeOthersValue,R=e.updateNextButtonLabel,P=e.updateCompany,N=e.updateIndustry,O=e.questionNumber,D=(0,c.Z)(e,k),U=(0,w.useState)(T.map((function(e){return{option:e,selected:!1}}))),L=(0,o.Z)(U,2),F=L[0],V=L[1],B=(0,w.useState)(null),M=(0,o.Z)(B,2),G=(M[0],M[1]),W=(0,w.useState)(null),z=(0,o.Z)(W,2),J=(z[0],z[1],(0,w.useState)(null)),H=(0,o.Z)(J,2),K=(H[0],H[1],(0,w.useState)(n)),q=(0,o.Z)(K,2),Y=(q[0],q[1],(0,w.useState)(n)),Q=(0,o.Z)(Y,2),X=Q[0],$=Q[1],ee=(0,w.useState)(n),te=(0,o.Z)(ee,2),ne=te[0],re=te[1];return(0,Z.jsxs)(Z.Fragment,{children:[3===O&&(0,Z.jsxs)(l.Z,{sx:{gap:"1.5rem"},children:[(0,Z.jsx)(x.Z,{fullWidth:!0,className:"question-floating-label",children:(0,Z.jsx)(u.Z,{sx:{mt:"12px"},labelId:"demo-company",id:"demo-simple-select",label:"Company name",variant:"outlined",value:ne,onChange:function(e){re(e.target.value),P(e.target.value)}})}),(0,Z.jsxs)(x.Z,{fullWidth:!0,className:"question-floating-label",children:[(0,Z.jsx)(S.Z,{id:"demo-simple-select-label",children:"Industry"}),(0,Z.jsx)(y.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Industry",value:X,onChange:function(e,t){$(e.target.value),N(e.target.value)},children:C.map((function(e,t){return(0,Z.jsx)(b.Z,{value:e,children:e},t)}))})]}),(0,Z.jsxs)(d.Z,{sx:{position:"relative",mb:"1rem",mt:"0.8rem",display:"flex",alignItems:"center"},children:[(0,Z.jsx)(p.Z,{sx:{width:"100%",backgroundColor:"#C0C0C0"}}),(0,Z.jsx)(h.Z,{sx:{mb:"0.7rem",mt:"0.5rem",color:"grey.600",position:"absolute",background:"#fff",left:"14px",p:"2px 6px 0 6px"},variant:"text_sm",children:"Number of people in the organization"})]})]}),(0,Z.jsx)(m.Z,{sx:{display:3==O?"flex":"block",flexWrap:"wrap",justifyContent:"space-between"},children:F.map((function(e,o){var c,u=(c={border:"0",height:"45px",borderRadius:"8px"},(0,r.Z)(c,"border","1px solid"),(0,r.Z)(c,"borderColor","rgba(0, 0, 0, 0.15)"),(0,r.Z)(c,"width","unset"),(0,r.Z)(c,"&:hover",{borderColor:"rgba(0, 0, 0, 0.5)"}),c);return 3==O&&(u.flexGrow="unset",u.width="48%",u.mb="1rem"),o<F.length-1&&(u.marginBottom="0.5rem"),e.option==t&&(e.selected=!0),(0,Z.jsx)(g.Z,{sx:u,selected:e.selected,onClick:function(t){return function(e,t,r,o){console.log(o.selected);var c=!1,l=function(e){for(var t=(0,a.Z)(F),n=0;n<t.length;n++){var r=(0,s.Z)({},t[n]);if(t[n]=r,r.option===e)r.selected=!r.selected;else if(r.selected){var i=(0,s.Z)({},t[n]);i.selected=!1,t[n]=i}}return t}(r);V(l);var u,d=[],p=(0,i.Z)(l);try{for(p.s();!(u=p.n()).done;){var h=u.value;h.selected&&(d.push(h.option),"other"===h.option.toLowerCase()?(A(!0),c=!0):A(!1),G(h))}}catch(e){p.e(e)}finally{p.f()}I&&I(d.length?d[0]:""),1==o.selected&&E(!0),c&&!n&&E(!0),R(1==O&&(0==t||t>=3)||3==O?"Start using Pictory":"Next")}(0,o,e.option,e)},classes:{selected:D.classes.listItemSelected},children:(0,Z.jsxs)(l.Z,{direction:"row",sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Z.jsx)(h.Z,{variant:"body3",sx:{color:"grey.700"},children:e.option}),(0,Z.jsx)(f.Z,{sx:{m:"0"},value:"top",control:(0,Z.jsx)(v.Z,{checked:e.selected}),label:"",labelPlacement:"top"})]})},o)}))}),j?(0,Z.jsx)(u.Z,{autoFocus:!0,required:!0,placeholder:"Input here...",sx:{width:"100%",mt:"0",mr:"10px",height:"45px",borderRadius:"4px"},value:n,onChange:function(e){_(e.target.value),e.target.value&&e.target.value.trim().length>0?E(!1):E(!0)}}):(0,Z.jsx)(Z.Fragment,{})]})}))},11313:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(45987),s=n(38693),a=n(6965),i=n(85585),o=n(68470),c=n(97648),l=n(80699),u=n(24873),d=n(18104),p=n(605),h=n(42669),m=(n(47313),n(46417)),g=["AIVoiceover","onDelete","onApply","onPlay","setDefault","itemRef","isPremiumVOQuotaValid"],f=function(e){var t=e.AIVoiceover,n=e.onDelete,f=e.onApply,v=e.onPlay,x=e.setDefault,S=e.itemRef,y=e.isPremiumVOQuotaValid,b=((0,r.Z)(e,g),"elevenlabs"!=(null==t?void 0:t.service)||0!=y);return(0,m.jsx)(l.Z,{title:b?"":"Elevenlabs quota has expired",children:(0,m.jsxs)(u.Z,{className:"music-text-thumbnail music-thumbnail thumbnails-hover-action on-hover-event",ref:S,children:[(0,m.jsxs)(u.Z,{className:"uploaded-brand-music position-relative m-0",children:[v&&(0,m.jsxs)(u.Z,{className:"absolute-fill flex-centered",onClick:function(e){e.target.closest(".music-play-button")?v(e,null==t?void 0:t.url):f&&b&&f()},children:[(0,m.jsx)(s.Z,{className:"hide-on-hover"}),(0,m.jsx)(d.Z,{className:"show-on-hover music-play-button",sx:{padding:"5px"},children:(0,m.jsx)(a.Z,{})})]}),(0,m.jsxs)(u.Z,{className:"thumbnail-icons",children:[n&&(0,m.jsx)(l.Z,{title:"Delete",placement:"bottom",arrow:!0,children:(0,m.jsx)(p.Z,{className:"delete-brand-music",onClick:function(e){e.stopPropagation(),null==n||n()},children:(0,m.jsx)(i.Z,{})})}),x&&(0,m.jsx)(l.Z,{title:"Set as default",placement:"top",arrow:!0,children:(0,m.jsxs)(d.Z,{className:"set-default-brand-icon",onClick:function(e){e.stopPropagation(),x(null==t?void 0:t.trackId,!(null!=t&&t.isDefault))},children:[(null==t?void 0:t.isDefault)&&(0,m.jsx)(o.Z,{color:"warning"}),!(null!=t&&t.isDefault)&&(0,m.jsx)(c.Z,{sx:{color:"white"}})]})})]})]}),(0,m.jsxs)(h.Z,{variant:"text_sm",className:"ellipsis-100 uploaded-logo-name",children:[null==t?void 0:t.name,", ",null==t?void 0:t.gender]})]})})}},22370:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(45987),s=n(57179),a=n(6965),i=n(85585),o=n(68470),c=n(97648),l=n(24873),u=n(18104),d=n(80699),p=n(605),h=n(42669),m=(n(47313),n(84090)),g=n(46417),f=["musicTrack","onDelete","onApply","onPlay","setDefault","itemRef"],v=function(e){var t=e.musicTrack,n=e.onDelete,v=e.onApply,x=e.onPlay,S=e.setDefault,y=e.itemRef;return(0,r.Z)(e,f),(0,g.jsxs)(l.Z,{className:"music-text-thumbnail music-thumbnail thumbnails-hover-action",ref:y,children:[(0,g.jsxs)(l.Z,{className:"uploaded-brand-music position-relative m-0",children:[x&&(0,g.jsxs)(l.Z,{className:"absolute-fill flex-centered on-hover-event",onClick:function(e){e.target.closest(".music-play-button")?x(e,null==t?void 0:t.url):v&&v()},children:[(0,g.jsx)(s.Z,{className:"hide-on-hover"}),(0,g.jsx)(u.Z,{className:"show-on-hover music-play-button",sx:{padding:"5px"},children:(0,g.jsx)(a.Z,{})})]}),(0,g.jsxs)(l.Z,{className:"thumbnail-icons",children:[n&&(0,g.jsx)(d.Z,{title:"Delete",placement:"bottom",arrow:!0,children:(0,g.jsx)(p.Z,{className:"delete-brand-music",onClick:function(e){e.stopPropagation(),null==n||n()},children:(0,g.jsx)(i.Z,{})})}),S&&(0,g.jsx)(d.Z,{title:"Set as default",placement:"top",arrow:!0,children:(0,g.jsxs)(u.Z,{className:"set-default-brand-icon",onClick:function(e){e.stopPropagation(),S(null==t?void 0:t.url,!(null!=t&&t.isDefault))},children:[(null==t?void 0:t.isDefault)&&(0,g.jsx)(o.Z,{color:"warning"}),!(null!=t&&t.isDefault)&&(0,g.jsx)(c.Z,{sx:{color:"white"}})]})}),(0,g.jsx)(m.Z,{className:"music-node-icon",sx:{color:"#5F6178"}})]})]}),(0,g.jsx)(h.Z,{variant:"text_sm",className:"ellipsis-100 uploaded-logo-name",children:(null==t?void 0:t.title)||(null==t?void 0:t.fileName)}),(0,g.jsx)(h.Z,{variant:"text_xs",sx:{color:"grey.400",display:"block",margin:"0"},children:null!=t&&t.duration?Math.floor(t.duration/60)+":"+(t.duration-60*Math.floor((null==t?void 0:t.duration)/60)).toLocaleString("en-us",{minimumIntegerDigits:2}):""})]})}},5540:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(45987),s=n(68470),a=n(98967),i=n(85585),o=n(80699),c=n(24873),l=n(605),u=(n(47313),n(91104)),d=n(46417),p=["colorData","openColorPicker","onDelete","onApply","setDefault","itemRef","onClick"],h=function(e){var t=e.colorData,n=e.openColorPicker,h=e.onDelete,m=e.onApply,g=(e.setDefault,e.itemRef),f=e.onClick;return(0,r.Z)(e,p),(0,d.jsx)(o.Z,{title:m?"Apply color":null!=t&&t.isDefault?"":"Select color for preview",arrow:!0,children:(0,d.jsxs)(c.Z,{className:"position-relative add-colors ml-2 mr-0 thumbnails-hover-action",ref:g,children:[(null==t?void 0:t.textBackgroundColor)&&(0,d.jsx)(c.Z,{className:"added-colors",sx:{backgroundColor:(0,u.FO)(null==t?void 0:t.textBackgroundColor)},onClick:function(e){e.stopPropagation(),null==m||m(),(null==t||!t.isDefault)&&(null==f||f())}}),(0,d.jsxs)(c.Z,{className:"thumbnail-icons",children:[(0,d.jsx)(o.Z,{title:"Default color",placement:"top",arrow:!0,children:(0,d.jsx)(d.Fragment,{children:(null==t?void 0:t.isDefault)&&(0,d.jsx)(o.Z,{title:"Default color",placement:"top",arrow:!0,children:(0,d.jsx)(s.Z,{className:"set-default-brand-icon",color:"warning"})})})}),n&&(0,d.jsx)(o.Z,{title:"Edit",placement:"top",arrow:!0,children:(0,d.jsx)(l.Z,{className:"edit-brand-color",onClick:n,children:(0,d.jsx)(a.Z,{})})}),h&&(0,d.jsx)(o.Z,{title:"Delete",arrow:!0,children:(0,d.jsx)(l.Z,{className:"delete-brand-logo",onClick:function(e){e.stopPropagation(),h()},children:(0,d.jsx)(i.Z,{})})})]})]})})}},372:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(45987),s=n(85585),a=n(68470),i=n(80699),o=n(24873),c=n(18104),l=n(46417),u=["logoData","onDelete","onApply","setDefault","itemRef","onClick"],d=function(e){var t=e.logoData,n=e.onDelete,d=e.onApply,p=(e.setDefault,e.itemRef),h=e.onClick;return(0,r.Z)(e,u),(0,l.jsx)(i.Z,{title:d?"Apply logo":null!=t&&t.isDefault?"":"Select logo for preview",arrow:!0,children:(0,l.jsxs)(o.Z,{className:"ml-2 brand-logo-with-text thumbnails-hover-action position-relative",ref:p,children:[(0,l.jsx)(o.Z,{className:"uploaded-brand-logo position-relative",sx:{overflow:"hidden"},onClick:function(e){e.stopPropagation(),null==d||d(),(null==t||!t.isDefault)&&(null==h||h())},children:(0,l.jsx)("img",{src:t.url,alt:""})}),(0,l.jsxs)(o.Z,{className:"thumbnail-icons",children:[n&&(0,l.jsx)(i.Z,{title:"Delete",placement:"bottom",arrow:!0,children:(0,l.jsx)(c.Z,{sx:{width:"20px",height:"20px",borderRadius:"50%",padding:"0",right:"-9px",top:"-7px",position:"absolute",background:"rgba(0, 0, 0, 0.7)",color:"grey.0","&:hover":{background:"rgba(0, 0, 0, 0.7)"}},className:"delete-brand-logo",onClick:function(e){e.stopPropagation(),n()},children:(0,l.jsx)(s.Z,{})})}),(0,l.jsx)(i.Z,{title:"Default logo",placement:"top",arrow:!0,children:(0,l.jsx)(l.Fragment,{children:t.isDefault&&(0,l.jsx)(i.Z,{title:"Default logo",placement:"top",arrow:!0,children:(0,l.jsx)(a.Z,{className:"set-default-brand-icon",color:"warning"})})})})]})]})})}},72943:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(29439),s=n(45987),a=n(96813),i=n(63333),o=n(85585),c=n(24873),l=n(42669),u=n(605),d=n(80699),p=n(91104),h=n(47313),m=n(46417),g=["visualObj","onDelete","setAsIntro","setAsOutro","onApply","itemRef","isRecentlyAddedVisual"],f=function(e){var t=e.visualObj,n=e.onDelete,f=e.setAsIntro,v=e.setAsOutro,x=e.onApply,S=e.itemRef,y=e.isRecentlyAddedVisual,b=((0,s.Z)(e,g),(0,h.useState)("")),j=(0,r.Z)(b,2),w=j[0],Z=j[1];return(0,h.useEffect)((function(){null!=t&&t.url&&Z((0,p.Q5)(t.url))}),[t]),(0,m.jsx)(c.Z,{className:"uploaded-brand-visual position-relative add-more-logo-colors",ref:S,sx:{border:"0"},children:(0,m.jsxs)(c.Z,{className:"visual-container",children:[(0,m.jsxs)(c.Z,{className:"into-outro-indicator",children:[t.isDefaultForIntro&&(0,m.jsx)(l.Z,{variant:"text_xs",sx:{background:"rgba(0,0,0,0.4)",padding:"4px",fontSize:"12px",borderRadius:"8px"},children:"Intro"}),t.isDefaultForOutro&&(0,m.jsx)(l.Z,{variant:"text_xs",sx:{background:"rgba(0,0,0,0.4)",padding:"4px",fontSize:"12px",borderRadius:"8px",marginLeft:"5px"},children:"Outro"})]}),x&&(0,m.jsx)(u.Z,{onClick:x,sx:{height:"100%",width:"100%",padding:"0","&:hover":{backgroundColor:"grey.100"}},children:(0,m.jsxs)(c.Z,{className:"visual-box",children:[0===(null==w?void 0:w.indexOf("image"))&&(0,m.jsx)("img",{src:null==t?void 0:t.url}),0===(null==w?void 0:w.indexOf("video"))&&(0,m.jsx)("video",{src:null==t?void 0:t.url,muted:!0,style:{maxWidth:"100%",objectFit:"contain"},onMouseOver:function(e){return e.target.play()},onMouseOut:function(e){return e.target.pause()}})]})}),!x&&(0,m.jsxs)(c.Z,{className:"visual-box",sx:{border:"1px solid",borderColor:"greywhite.main"},children:[0===(null==w?void 0:w.indexOf("image"))&&(0,m.jsx)("img",{src:null==t?void 0:t.url}),0===(null==w?void 0:w.indexOf("video"))&&(0,m.jsx)("video",{src:null==t?void 0:t.url,muted:!0,style:{maxWidth:"100%",objectFit:"contain",zoom:"2"},onMouseOver:function(e){return e.target.play()},onMouseOut:function(e){return e.target.pause()}})]}),(0,m.jsxs)(c.Z,{className:y?"show-intro-outro":"brand-visual-buttonset",children:[f&&(0,m.jsxs)(u.Z,{onClick:function(e){e.stopPropagation(),f()},children:[!(null!=t&&t.isDefaultForIntro)&&(0,m.jsx)(a.Z,{}),(null==t?void 0:t.isDefaultForIntro)&&(0,m.jsx)(i.Z,{}),(0,m.jsx)(l.Z,{variant:"text_xs",sx:{ml:"5px"},children:"Set as intro"})]}),v&&(0,m.jsxs)(u.Z,{onClick:function(e){e.stopPropagation(),v()},children:[!(null!=t&&t.isDefaultForOutro)&&(0,m.jsx)(a.Z,{}),(null==t?void 0:t.isDefaultForOutro)&&(0,m.jsx)(i.Z,{}),(0,m.jsx)(l.Z,{variant:"text_xs",sx:{ml:"5px"},children:"Set as outro"})]})]}),n&&(0,m.jsx)(d.Z,{title:"Delete",placement:"bottom",arrow:!0,children:(0,m.jsx)(u.Z,{className:"delete-brand-visual",onClick:function(e){e.stopPropagation(),n()},children:(0,m.jsx)(o.Z,{})})})]})})}},52102:function(e,t,n){"use strict";n.r(t);var r=n(29439),s=n(11198),a=n(62463),i=n(18104),o=n(42669),c=n(605),l=n(24873),u=n(47313),d=n(46417);t.default=function(e){var t=e.cancellationReason,n=e.onPause,p=e.onCancel,h=e.pauseAndCancelAction,m=e.pauseAction,g=e.cancelAction,f=e.onClose,v=(0,u.useState)("{ User name here}"),x=(0,r.Z)(v,2),S=(x[0],x[1],(0,u.useState)("Designation")),y=(0,r.Z)(S,2),b=(y[0],y[1],(0,u.useState)("CompanyName")),j=(0,r.Z)(b,2);return j[0],j[1],(0,d.jsx)("div",{style:{height:"100vh",color:"#000000",margin:"-10px -10px -10px -10px",padding:"-10px -10px -10px -10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,d.jsxs)(l.Z,{boxShadow:1,bgcolor:"background.paper",p:1,sx:{width:h?"723px":"320px",height:"350px",borderRadius:"10px",paddingTop:"40px"},children:[m&&(0,d.jsx)("center",{children:(0,d.jsxs)(a.Z,{direction:"column",spacing:2,sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,d.jsx)(a.Z,{direction:"row",sx:{width:"100%",display:"flex",justifyContent:"flex-end",mt:"-20px"},children:(0,d.jsx)(i.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:f,children:(0,d.jsx)(s.Z,{})})}),(0,d.jsx)("img",{src:"images/pause.png",height:"30px",width:"30px"}),(0,d.jsx)(o.Z,{variant:"body3_resp",sx:{mt:"1rem",lineHeight:"1.3",width:"202px",height:"130px",textAlign:"center",color:"grey.500"},children:"Good choice! All your video data, templates, styles, projects will be SAFE till you come back saving a ton of work. You will be charged just $1 per month."}),(0,d.jsx)(c.Z,{variant:"outlined",sx:{textTransform:"unset",borderColor:"error.main",fontStyle:"normal",color:"error.main","&:hover":{borderColor:"error.main"}},onClick:function(){return n&&n(t)},children:"Pause my subscription"})]})}),g&&(0,d.jsx)("center",{children:(0,d.jsxs)(a.Z,{direction:"column",spacing:2,sx:{width:"100%",display:"flex",alignItems:"center",alignSelf:"center",justifyContent:"center"},children:[(0,d.jsx)(a.Z,{direction:"row",sx:{width:"100%",display:"flex",justifyContent:"flex-end",mt:"-20px"},children:(0,d.jsx)(i.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:f,children:(0,d.jsx)(s.Z,{})})}),(0,d.jsx)("img",{src:"images/cancel.svg",height:"30px",width:"30px"}),(0,d.jsx)(o.Z,{variant:"body3_resp",sx:{mt:"1rem",lineHeight:"1.3",width:"202px",height:"130px",textAlign:"center",color:"grey.500"},children:"Are you sure? All your video data, projects, templates, styles will be permanently DELETED. Have you considered PAUSING your subscription instead?"}),(0,d.jsx)(c.Z,{variant:"contained",sx:{textTransform:"unset",backgroundColor:"error.main",fontStyle:"normal",width:"240px",color:"#fff","&:hover":{borderColor:"error.main",backgroundColor:"error.main"}},onClick:function(){return p&&p(t)},children:"Cancel subscription"})]})}),h&&(0,d.jsxs)(a.Z,{direction:"column",sx:{width:"720px",display:"flex",justifyContent:"center"},children:[(0,d.jsx)(a.Z,{direction:"row",sx:{display:"flex",justifyContent:"flex-end",pr:"15px",mt:"-20px"},children:(0,d.jsx)(i.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:f,children:(0,d.jsx)(s.Z,{})})}),(0,d.jsxs)(a.Z,{direction:"row",spacing:8,sx:{width:"100%",display:"flex",justifyContent:"center"},children:[(0,d.jsxs)(a.Z,{direction:"column",spacing:3,sx:{width:"200px",display:"flex",justifyContent:"center",alignItems:"center",color:"grey.500"},children:[(0,d.jsx)("img",{src:"images/pause.png",height:"40px",width:"40px"}),(0,d.jsx)(o.Z,{variant:"body3_resp",sx:{mt:"1rem",lineHeight:"1.3",width:"202px",height:"130px",textAlign:"center"},children:"All your video data, templates, styles, projects will be SAFE till you come back. You will be charged just $1 per month."}),(0,d.jsx)(c.Z,{variant:"outlined",sx:{borderColor:"error.main",fontStyle:"normal",color:"error.main","&:hover":{borderColor:"error.main",fontStyle:"normal",color:"error.main"}},onClick:function(){return n&&n(t)},children:"Pause my subscription"})]}),(0,d.jsxs)(a.Z,{direction:"column",spacing:3,sx:{width:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,d.jsx)(l.Z,{sx:{height:"40px"},children:(0,d.jsx)("img",{src:"images/cancel.svg",height:"30px",width:"30px"})}),(0,d.jsx)(o.Z,{variant:"body3_resp",sx:{mt:"1rem",lineHeight:"1.3",width:"202px",height:"130px",textAlign:"center",color:"grey.500"},children:"Are you sure? All your video data, projects, templates, styles will be permanently DELETED. Have you considered PAUSING your subscription instead?"}),(0,d.jsx)(c.Z,{variant:"contained",sx:{backgroundColor:"error.main",fontStyle:"normal",width:"240px",color:"#fff","&:hover":{borderColor:"error.main",backgroundColor:"error.main"}},onClick:function(){return p&&p(t)},children:"Cancel subscription"})]})]})]})]})})}},70283:function(e,t,n){"use strict";n.r(t);var r=n(45987),s=n(11198),a=n(82937),i=n(62463),o=n(18104),c=n(42669),l=n(605),u=n(19579),d=n(71659),p=n(75192),h=n.n(p),m=(n(47313),n(46417)),g=["classes","onReasonSelect","onClose"],f=function(e){var t=e.classes,n=e.onReasonSelect,u=e.onClose;return(0,r.Z)(e,g),(0,m.jsx)(a.ZP,{style:{height:"100vh",margin:"-10px -10px -10px -10px",padding:"-10px -10px -10px -10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsxs)(i.Z,{direction:"column",bgcolor:"background.paper",boxShadow:1,sx:{width:"600px",height:"500px",borderRadius:"10px"},children:[(0,m.jsx)(i.Z,{direction:"row",sx:{display:"flex",justifyContent:"flex-end",p:"15px 15px 0 0"},children:(0,m.jsx)(o.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:u,children:(0,m.jsx)(s.Z,{})})}),(0,m.jsxs)(i.Z,{direction:"column",sx:{display:"flex",alignItems:"center",width:"100%",mt:"-1.5rem"},children:[(0,m.jsx)("img",{src:"images/heartbreak.svg",height:"42px",width:"36px"}),(0,m.jsx)(c.Z,{variant:"h5_resp",component:"div",sx:{color:"grey.700"},children:"We are sorry to see you go!"}),(0,m.jsx)(c.Z,{variant:"h5_resp",component:"div",sx:{color:"grey.700",mb:"10px"},children:"Please tell us why you're leaving us"}),(0,m.jsxs)(i.Z,{direction:"row",spacing:3,sx:{display:"flex",justifyContent:"center",width:"420px",m:2},children:[(0,m.jsx)(l.Z,{className:t.customButton,onClick:function(){return n&&n("NO_CURRENT_NEED")},children:"No current need"}),(0,m.jsx)(l.Z,{className:t.customButton,onClick:function(){return n&&n("MISSING_FEATURE")},children:"Missing feature"}),(0,m.jsx)(l.Z,{className:t.customButton,onClick:function(){return n&&n("TOO_EXPENSIVE")},children:"Too expensive"})]}),(0,m.jsxs)(i.Z,{direction:"row",spacing:3,sx:{width:"420px",display:"flex",justifyContent:"center"},children:[(0,m.jsx)(l.Z,{className:t.customButton,onClick:function(){return n&&n("TOO_COMPLEX")},children:"Too complex"}),(0,m.jsx)(l.Z,{className:t.customButton,onClick:function(){return n&&n("OTHER")},children:"Other"})]})]})]})})};f.prototypes={classes:h().object.isRequired},t.default=(0,d.Z)((function(e){return{customButton:{lineHeight:1.2,textTransform:"unset",height:"120px",fontStyle:"normal",fontWeight:"normal",width:"140px",p:"20px 4px",fontSize:"15px",color:"theme.palette.grey.600",backgroundColor:(0,u.Fq)("#CBA5FF",.2),border:"1px solid lightgrey"}}}))(f)},46528:function(e,t,n){"use strict";n.r(t);var r=n(29439),s=n(45987),a=n(24873),i=n(62463),o=n(18104),c=n(42669),l=n(36368),u=n(605),d=n(47313),p=n(11198),h=n(10383),m=n(64558),g=n(87668),f=n(88765),v=n(82569),x=n(46417),S=["onPause","onCancel","onClose"];t.default=function(e){var t=e.onPause,n=e.onCancel,y=e.onClose,b=((0,s.Z)(e,S),(0,d.useState)("")),j=(0,r.Z)(b,2),w=j[0],Z=j[1],k=(0,d.useState)(""),C=(0,r.Z)(k,2),I=C[0],T=C[1],E=function(){return!(!w||"OTHER_REASONS"===w&&!I)};return(0,x.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(a.Z,{boxShadow:1,bgcolor:"background.paper",color:"grey.800",p:1,sx:{top:"41px",width:"723px",mb:"3rem",borderRadius:"10px"},children:(0,x.jsxs)(i.Z,{direction:"column",sx:{width:"100%",borderRadius:"10px"},children:[(0,x.jsx)(i.Z,{direction:"row",sx:{display:"flex",justifyContent:"flex-end",p:"15px 0px 0 0"},children:(0,x.jsx)(o.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:y,children:(0,x.jsx)(p.Z,{})})}),(0,x.jsxs)(i.Z,{direction:"column",sx:{display:"flex",alignItems:"center",width:"100%",mt:"-1.5rem"},children:[(0,x.jsx)("img",{src:"images/heartbreak.svg",height:"43px"}),(0,x.jsx)(c.Z,{variant:"h5_resp",sx:{display:"flex",justifyContent:"center",color:"grey.700"},children:"We are sorry to see you go!"})]}),(0,x.jsxs)(i.Z,{direction:"column",spacing:3,sx:{m:"20px 60px"},children:[(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(g.Z,{id:"demo-radio-buttons-group-label"}),(0,x.jsxs)(v.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"female",name:"radio-buttons-group",value:w,onChange:function(e){Z(e.target.value)},children:[(0,x.jsx)(m.Z,{value:"NOT_A_FIT",control:(0,x.jsx)(f.Z,{}),label:"Not a fit"}),(0,x.jsx)(m.Z,{value:"WENT_WITH_ANOTHER_SOFTWARE",control:(0,x.jsx)(f.Z,{}),label:"Went with another software"}),(0,x.jsx)(m.Z,{value:"OTHER_REASONS",control:(0,x.jsx)(f.Z,{}),label:"Other reasons"})]})]}),"OTHER_REASONS"===w&&(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(g.Z,{id:"knowMoreId"}),(0,x.jsx)(l.Z,{id:"outlined-multiline-static",label:"Please let us know more",placeHolder:"Please let us know more",value:I,onChange:function(e){T(e.target.value)}})]})]}),(0,x.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"right",mr:"1.5rem",width:"100%"},children:[(0,x.jsx)(u.Z,{variant:"outlined",sx:{m:"10px",borderColor:"error.main",color:"error.main","&:hover":{borderColor:"error.main",fontStyle:"normal",color:"error.main"}},disabled:!E(),onClick:function(){return t&&t(I||w)},children:"Pause my subscription"}),(0,x.jsx)(u.Z,{variant:"contained",sx:{m:"10px",backgroundColor:"error.main","&:hover":{borderColor:"error.main",backgroundColor:"error.main"}},disabled:!E(),onClick:function(){return t&&n(I||w)},children:"Cancel subscription"})]})]})})})}},65099:function(e,t,n){"use strict";n.r(t);var r=n(29439),s=n(45987),a=n(11198),i=n(62463),o=n(82937),c=n(42669),l=n(18104),u=n(605),d=n(24873),p=n(47313),h=n(11043),m=n(46417),g=["reason","email","name","onNeedHelp","onGetDiscount","onPause","onCancel","onClose"];t.default=function(e){var t=e.reason,n=(e.email,e.name,e.onNeedHelp),f=e.onGetDiscount,v=e.onPause,x=e.onCancel,S=e.onClose,y=((0,s.Z)(e,g),(0,p.useState)("{ User name here}")),b=(0,r.Z)(y,2),j=(b[0],b[1],(0,p.useState)("Designation")),w=(0,r.Z)(j,2),Z=(w[0],w[1],(0,p.useState)("CompanyName")),k=(0,r.Z)(Z,2),C=(k[0],k[1],(0,p.useRef)());return(0,p.useEffect)((function(){C.current.play()}),[]),(0,m.jsx)("div",{style:{height:"100vh",color:"#000000",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsxs)(d.Z,{boxShadow:1,bgcolor:"background.paper",p:1,sx:{width:"520px",mb:"1rem",borderRadius:"10px"},children:["NO_CURRENT_NEED"===t&&function(e){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.Z,{direction:"row",sx:{width:"100%",m:"10px 20px 0 12px"},children:[(0,m.jsx)(o.ZP,{item:!0,sx:{width:"70%"},children:(0,m.jsx)(c.Z,{variant:"h5_resp",color:"grey.700",children:"Don’t Need Pictory Right Now?"})}),(0,m.jsx)(o.ZP,{item:!0,sx:{width:"30%",display:"flex",justifyContent:"flex-end",mt:"-15px",mr:"10px"},children:(0,m.jsx)(l.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:S,children:(0,m.jsx)(a.Z,{})})})]}),(0,m.jsx)(i.Z,{direction:"column",sx:{display:"flex",justifyContent:"center",m:"1.4rem",mt:"2px"},children:(0,m.jsxs)("video",{controls:!0,autoPlay:!0,style:{width:"100%",height:"267px"},ref:C,children:[(0,m.jsx)("source",{src:h.Z.Instance.GetStaticFile("no_current_need.mp4"),type:"video/mp4"}),"Your browser does not support the video tag."]})}),(0,m.jsxs)(i.Z,{direction:"column",sx:{width:"460px",ml:"1.4rem",mt:"-10px",color:"grey.500"},children:[(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{fontWeight:"bold",mb:"5px",color:"grey.600"},children:"Would you like to PAUSE your subscription?"}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"Most customers who take a break come back."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"If you cancel, all your video data, templates, styles, project and settings will be permanently DELETED."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"But don’t worry, simply hit ‘PAUSE MY SUBSCRIPTION’’ and we’ll keep all your work SAFE for just $1 a month, saving you a ton of work when you next need us."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"If you have any questions, click ‘NEED HELP’ and I’ll reach out to you."})]}),(0,m.jsxs)(i.Z,{spacing:2,direction:"row",sx:{display:"flex",justifyContent:"center"},children:[(0,m.jsx)(u.Z,{variant:"outlined",sx:{height:"36px",borderColor:"primary.main"},onClick:function(){return n&&n("SUBSCRIPTION_HELP")},children:"Need help"}),(0,m.jsx)(u.Z,{variant:"contained",sx:{borderColor:"#FF0000"},onClick:function(){return v&&v(e)},children:"Pause my subscription"})]}),(0,m.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mt:"8px"},children:(0,m.jsx)(u.Z,{variant:"outlined",sx:{border:0,bottomBorder:"1px solid ",borderColor:"grey.600",display:"flex",color:"grey.600",justifyContent:"center"},onClick:function(){return x&&x(e)},children:"Still, go ahead and cancel"})})]})}(t),"MISSING_FEATURE"===t&&function(e){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.Z,{direction:"row",sx:{width:"100%",m:"10px 20px 0 12px"},children:[(0,m.jsx)(o.ZP,{item:!0,sx:{width:"80%"},children:(0,m.jsx)(c.Z,{variant:"h5_resp",color:"grey.700",children:"Feature Missing From Pictory?"})}),(0,m.jsx)(o.ZP,{item:!0,sx:{width:"20%",display:"flex",justifyContent:"flex-end",mt:"-15px",mr:"10px"},children:(0,m.jsx)(l.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:S,children:(0,m.jsx)(a.Z,{})})})]}),(0,m.jsx)(i.Z,{direction:"column",sx:{display:"flex",justifyContent:"center",m:"1.4rem",mt:"2px"},children:(0,m.jsxs)("video",{controls:!0,autoPlay:!0,style:{width:"100%",height:"267px"},ref:C,children:[(0,m.jsx)("source",{src:h.Z.Instance.GetStaticFile("missing_feature.mp4"),type:"video/mp4"}),"Your browser does not support the video tag."]})}),(0,m.jsxs)(i.Z,{direction:"column",sx:{width:"470px",ml:"1.4rem",mt:"-10px",color:"grey.500"},children:[(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{fontWeight:"bold",mb:"5px",color:"grey.600"},children:"Wait! Your missing feature is on the way"}),(0,m.jsx)(o.ZP,{container:!0,direction:"column",component:"span",sx:{mb:"0.8rem",lineHeight:"1.2"},children:(0,m.jsxs)(c.Z,{variant:"body3_resp",children:["We’re busy adding new features requested by our users every three weeks! The feature you need may be almost ready for release, check our",(0,m.jsx)(u.Z,{href:"https://feedback.pictory.ai/roadmap",rel:"noreferrer noopener",target:"_blank",variant:"standard",sx:{border:0,borderColor:"grey.600",color:"grey.500",height:"20px",minWidth:"12ch",width:"12ch",padding:"3px",mt:"-4px"},children:(0,m.jsx)("span",{style:{color:"#852CFF"},children:"roadmap here"})}),"and join our active",(0,m.jsx)(u.Z,{href:"https://www.facebook.com/groups/863439644603943/",rel:"noreferrer noopener",target:"_blank",variant:"standard",sx:{border:0,borderColor:"grey.600",color:"grey.500",height:"20px",minWidth:"13ch",width:"13ch",padding:"3px",mt:"-4px"},children:(0,m.jsx)("span",{style:{color:"#852CFF"},children:"facebook group"})}),"to help us prioritize what you need."]})}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.7rem",lineHeight:"1.2"},children:"If you cancel, all your video data, templates, styles, project and settings will be permanently DELETED."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.7rem",lineHeight:"1.2"},children:"It doesn't have to be like that, simply hit ‘PAUSE MY SUBSCRIPTION’’ and we’ll keep all your work SAFE for just $1 a month while we add the feature you need."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.7rem",lineHeight:"1.2"},children:"If you have any questions, click ‘NEED HELP’ and I’ll reach out to you."})]}),(0,m.jsxs)(i.Z,{spacing:2,direction:"row",sx:{display:"flex",justifyContent:"center"},children:[(0,m.jsx)(u.Z,{variant:"outlined",sx:{height:"36px",borderColor:"primary.main"},onClick:function(){return n&&n("SUBSCRIPTION_HELP")},children:"Need help"}),(0,m.jsx)(u.Z,{variant:"contained",sx:{borderColor:"primary.main"},onClick:function(){return v&&v(e)},children:"Pause my subcription"})]}),(0,m.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mt:"8px"},children:(0,m.jsx)(u.Z,{variant:"outlined",sx:{border:0,bottomBorder:"1px solid",borderColor:"grey.600",display:"flex",color:"grey.600",justifyContent:"center"},onClick:function(){return x&&x(e)},children:"Still, go ahead and cancel"})})]})}(t),"TOO_EXPENSIVE"===t&&function(e){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.Z,{direction:"row",sx:{width:"100%",m:"10px 20px 0 12px"},children:[(0,m.jsx)(o.ZP,{item:!0,sx:{width:"80%"},children:(0,m.jsx)(c.Z,{variant:"h5_resp",color:"grey.700",children:"Too Expensive? I've Got A Great Deal for You!"})}),(0,m.jsx)(o.ZP,{item:!0,sx:{width:"20%",display:"flex",justifyContent:"flex-end",mt:"-15px",mr:"10px"},children:(0,m.jsx)(l.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:S,children:(0,m.jsx)(a.Z,{})})})]}),(0,m.jsx)(i.Z,{direction:"column",sx:{display:"flex",justifyContent:"center",m:"1.4rem",mt:"2px"},children:(0,m.jsxs)("video",{controls:!0,autoPlay:!0,style:{width:"100%",height:"267px"},ref:C,children:[(0,m.jsx)("source",{src:h.Z.Instance.GetStaticFile("too_expensive.mp4"),type:"video/mp4"}),"Your browser does not support the video tag."]})}),(0,m.jsxs)(i.Z,{direction:"column",sx:{width:"460px",ml:"1.4rem",mt:"-10px",color:"grey.500"},children:[(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{fontWeight:"bold",lineHeight:1,mb:"5px",color:"grey.600"},children:"Don't Go! Stick around and we'll give you 20% off for life"}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.7rem",lineHeight:"1.2"},children:"Breakups are hard and we don't want to lose you. We know you'll miss us too so stay and we'll give knock 20% off your current plan so you can continue to enjoy the benefits of Pictory."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.7rem",lineHeight:"1.2"},children:"If you have any questions, click ‘NEED HELP’ and I’ll reach out to you."})]}),(0,m.jsxs)(i.Z,{spacing:2,direction:"row",sx:{display:"flex",justifyContent:"center"},children:[(0,m.jsx)(u.Z,{variant:"outlined",sx:{height:"36px",borderColor:"primary.main"},onClick:function(){return n&&n("SUBSCRIPTION_HELP")},children:"Need help"}),(0,m.jsx)(u.Z,{variant:"contained",sx:{borderColor:"primary.main"},onClick:function(){return f&&f()},children:"Get discount"})]}),(0,m.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mt:"8px"},children:(0,m.jsx)(u.Z,{variant:"outlined",sx:{border:0,bottomBorder:"1px solid ".concat("grey.600"),display:"flex",color:"grey.600",justifyContent:"center"},onClick:function(){return x&&x(e)},children:"Still, go ahead and cancel"})})]})}(t),"TOO_COMPLEX"===t&&function(e){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.Z,{direction:"row",sx:{width:"100%",m:"10px 20px 0 12px"},children:[(0,m.jsx)(o.ZP,{item:!0,sx:{width:"40%"},children:(0,m.jsx)(c.Z,{variant:"h5_resp",color:"grey.700",children:"Too Complex?"})}),(0,m.jsx)(o.ZP,{item:!0,sx:{width:"60%",display:"flex",justifyContent:"flex-end",mt:"-15px",mr:"10px"},children:(0,m.jsx)(l.Z,{sx:{color:"grey.400"},"aria-label":"upload picture",component:"span",onClick:S,children:(0,m.jsx)(a.Z,{})})})]}),(0,m.jsx)(i.Z,{direction:"column",sx:{display:"flex",justifyContent:"center",m:"1.2rem",mt:"2px"},children:(0,m.jsxs)("video",{controls:!0,autoPlay:!0,style:{width:"100%",height:"267px"},ref:C,children:[(0,m.jsx)("source",{src:h.Z.Instance.GetStaticFile("too_complex.mp4"),type:"video/mp4"}),"Your browser does not support the video tag."]})}),(0,m.jsxs)(i.Z,{direction:"column",sx:{width:"460px",ml:"1.2rem",mt:"-10px",color:"grey.500"},children:[(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{fontWeight:"bold",lineHeight:1,mb:"5px",color:"grey.600"},children:"I'll be your personal guide"}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"Learning any new system can be a challenge, but don't worry, you're not alone.."}),(0,m.jsxs)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:["In addition to our extensive resources center we offer personal one-on-one support to help with your specific needs."," "]}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"Simply email support@pictory.ai, our highly trained support team will reach out - they'll even jump on a Zoom and guide you step by step."}),(0,m.jsx)(c.Z,{variant:"body3_resp",sx:{mb:"0.8rem",lineHeight:"1.2"},children:"If you have more questions ask for help. I will reach out to you."})]}),(0,m.jsx)(i.Z,{spacing:2,direction:"row",sx:{display:"flex",justifyContent:"center"},children:(0,m.jsx)(u.Z,{variant:"contained",sx:{borderColor:"primary.main"},onClick:function(){return n&&n("PRODUCT_GUIDANCE")},children:"Guide me"})}),(0,m.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mt:"8px"},children:(0,m.jsx)(u.Z,{variant:"outlined",sx:{border:0,bottomBorder:"1px solid ".concat("grey.600"),display:"flex",color:"grey.600",justifyContent:"center"},onClick:function(){return x&&x(e)},children:"Still, go ahead and cancel"})})]})}(t)]})})}},60503:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(29439),s=n(24873),a=n(42669),i=n(82937),o=n(62463),c=n(605),l=n(47313),u=n(46417);function d(){var e=(0,l.useState)("first_video.mp4"),t=(0,r.Z)(e,2),n=t[0],d=(t[1],(0,l.useState)("2 min")),p=(0,r.Z)(d,2),h=p[0],m=(p[1],(0,l.useState)("34.5 Mb")),g=(0,r.Z)(m,2),f=g[0];return g[1],(0,u.jsx)("div",{style:{backgroundImage:"url(".concat("/images/signup_background.png",")"),height:"100vh",margin:"-10px",p:"-10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsxs)(s.Z,{boxShadow:1,bgcolor:"background.paper",p:1,sx:{width:"324px",height:"390px",borderRadius:"10px"},children:[(0,u.jsxs)("center",{style:{paddingTop:"32px",height:"82px"},children:[(0,u.jsxs)(a.Z,{variant:"h5_resp",sx:{color:"primary.main"},children:["Congratulations on"," "]}),(0,u.jsx)(a.Z,{variant:"h5_resp",sx:{color:"primary.main"},children:"your first video!!"})]}),(0,u.jsxs)(i.ZP,{item:!0,container:!0,direction:"column",sx:{alignItems:"center"},children:[(0,u.jsx)(i.ZP,{item:!0,children:(0,u.jsx)("img",{src:"/images/hurray.png",display:"block",width:"75px",height:"75px"})}),(0,u.jsxs)(i.ZP,{item:!0,children:[(0,u.jsx)(a.Z,{align:"center",variant:"h4b",gutterBottom:!0,component:"div",sx:{alignSelf:"center",color:"grey.700"},children:n}),(0,u.jsxs)(o.Z,{direction:"row",spacing:2,sx:{color:"grey.700",display:"flex",justifyContent:"center"},children:[(0,u.jsx)(a.Z,{variant:"h4b",children:f}),(0,u.jsx)(a.Z,{variant:"h4b",children:h})]}),(0,u.jsxs)(o.Z,{direction:"row",sx:{pt:"30px"},spacing:2,children:[(0,u.jsxs)(a.Z,{variant:"body2",sx:{color:"primary.main"},children:[" ",(0,u.jsx)("img",{src:"/images/download_small.svg"})," Share"]}),(0,u.jsxs)(a.Z,{variant:"body2",sx:{color:"primary.main"},children:[" ",(0,u.jsx)("img",{src:"/images/download_small.svg"})," Download"]}),(0,u.jsxs)(a.Z,{variant:"body2",sx:{color:"primary.main"},children:[" ",(0,u.jsx)("img",{src:"/images/export_small.svg"})," Export"]})]})]})]}),(0,u.jsx)(s.Z,{sx:{mt:"3rem",display:"flex",justifyContent:"center"},children:(0,u.jsx)(c.Z,{variant:"contained",children:"Proceed"})})]})})}},78531:function(e,t,n){"use strict";n.d(t,{ZD:function(){return d},ci:function(){return u},vD:function(){return c}});var r=n(45987),s=(n(47313),n(1430)),a=n(31565),i=n(46417),o=["addDisplayElement","username"];function c(e){var t=e.addDisplayElement,n=(e.username,(0,r.Z)(e,o),document.querySelector("em-emoji-picker"));if(n){var c,l,d=null===(c=n.shadowRoot)||void 0===c?void 0:c.querySelectorAll(".padding-lr");d&&(d.forEach((function(e){e.style.padding=0})),d[1]&&(d[1].style["margin-top"]="10px"));var p=null===(l=n.shadowRoot)||void 0===l?void 0:l.querySelector(".search>input");if(p&&(p.style.height="42px",p.style.border="1px lightgrey solid",p.style["background-color"]="transparent",p.style["border-radius"]="5px",p.style["box-shadow"]="none",p.placeholder="Search Emojis",p.style["font-size"]="14px",p.style["font-weight"]=400,p.style["font-family"]="Lato",p.style["font-style"]="normal",p.style["padding-left"]="40px",!p.hasChildNodes())){var h=document.createElement("style");h.appendChild(document.createTextNode(".scroll::-webkit-scrollbar {width: 6px!important;}\n          .scroll::-webkit-scrollbar-thumb {\n            background: #ccc;\n            border-width: 0px !important;\n          }\n          .scroll:hover::-webkit-scrollbar-thumb {\n            background-color: #ccc !important;\n          }")),p.appendChild(h)}}return(0,i.jsx)(a.Z,{data:s,set:"twitter",theme:"light",autoFocus:!0,navPosition:"none",previewPosition:"none",skinTonePosition:"none",dynamicWidth:!0,emojiButtonSize:56,emojiSize:42,onEmojiSelect:function(e){t({url:u((null==e?void 0:e.unified)||"2753"),unified:(null==e?void 0:e.unified)||"2753",visualDataObj:e})},exceptEmojis:["copyright","registered","one","face_with_peeking_eye","saluting_face","two","melting_face","four","heart_hands","rightwards_hand","beans","face_with_open_eyes_and_hand_over_mouth","seven","biting_lip","hand_with_index_finger_and_thumb_crossed","face_holding_back_tears","palm_up_hand","jar","three","bubbles","x-ray","low_battery","wheel","nest_with_eggs","keycap_star","heavy_equals_sign","ring_buoy","nine","face_with_diagonal_mouth","index_pointing_at_the_viewer","empty_nest","mirror_ball","pregnant_man","coral","identification_card","playground_slide","leftwards_hand","hash","zero","pregnant_person","hamsa","palm_down_hand","troll","five","person_with_crown","pouring_liquid","dotted_line_face","crutch","six","lotus","eight","heart_on_fire"]})}var l="https://cdn.jsdelivr.net/npm/@svgmoji/twemoji/svg/",u=function(e){return l+(e||"2753").toUpperCase()+".svg"},d=l+"2753.svg"},79761:function(e,t,n){"use strict";n.r(t);var r=n(29439),s=n(45987),a=n(11198),i=n(82315),o=n(69791),c=n(79136),l=n(82937),u=n(605),d=n(18104),p=n(27923),h=n(47313),m=n(46417),g=["open","onResendLink"];t.default=function(e){var t=e.open,n=e.onResendLink,f=((0,s.Z)(e,g),(0,h.useState)(t)),v=(0,r.Z)(f,2),x=v[0],S=v[1];(0,h.useEffect)((function(){S(t)}),[t]);var y=function(e,t){S(!1)};return(0,m.jsx)(i.Z,{open:x,autoHideDuration:1e4,onClose:y,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:o.Z,children:(0,m.jsxs)(c.Z,{severity:"error",action:(0,m.jsxs)(l.ZP,{container:!0,height:"100%",direction:"row",alignItems:"center",children:[(0,m.jsx)(l.ZP,{item:!0,children:(0,m.jsx)(u.Z,{variant:"outlined",color:"primary",onClick:n,children:"Resend Link"})}),(0,m.jsx)(l.ZP,{item:!0,marginLeft:"10px",children:(0,m.jsx)(d.Z,{size:"small","aria-label":"close",color:"inherit",onClick:y,children:(0,m.jsx)(a.Z,{fontSize:"small"})})})]}),sx:{mb:2},children:[(0,m.jsx)(p.Z,{children:"Email not verified!"}),"Please verify the registered email id to continue using Pictory!"]})})}},98742:function(e,t,n){"use strict";n.r(t);var r=n(82937),s=n(42669),a=n(64164),i=(n(47313),n(46417)),o=(0,a.ZP)("img")({margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"});t.default=function(e){var t=e.error;return(0,i.jsxs)(r.ZP,{container:!0,height:"auto",direction:"column",alignItems:"center",children:[(0,i.jsx)(r.ZP,{item:!0,children:(0,i.jsx)(o,{alt:"complex",src:"images/purple_circular_close.png"})}),(0,i.jsx)(r.ZP,{item:!0,children:(0,i.jsx)(s.Z,{variant:"h4",sx:{color:"grey.600"},children:"Woopsy, It happens"})}),(0,i.jsx)(r.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",children:t.map((function(e){return(0,i.jsx)(s.Z,{variant:"body1",sx:{color:"grey.500",textAlign:"center"},children:e})}))})]})}},65804:function(e,t,n){"use strict";n.d(t,{p:function(){return C}});var r=n(1413),s=n(74165),a=n(15861),i=n(29439),o=n(45987),c=n(59341),l=n(98495),u=n(84981),d=n(24873),p=n(28566),h=n(80699),m=n(42669),g=n(91104),f=n(47439),v=n(11043),x=n(89956),S=n(51443),y=n.n(S),b=n(78503),j=n(30253),w=n(47313),Z=n(46417),k=["id","defaultUrl","fileName","uploadText","onUpload","filePath","closeBtn","showVisualAfterUpload","allowedFileTypes","size","allowedFileSize","validationMsgs","onClickUpload","uploadFileContainer","sx"],C=function(e){var t=e.id,n=e.defaultUrl,S=e.fileName,C=e.uploadText,I=e.onUpload,T=e.filePath,E=e.closeBtn,A=e.showVisualAfterUpload,_=e.allowedFileTypes,R=void 0===_?["image/*","video/*"]:_,P=e.size,N=void 0===P?"small":P,O=e.allowedFileSize,D=e.validationMsgs,U=e.onClickUpload,L=(e.uploadFileContainer,e.sx),F=(0,o.Z)(e,k),V=(0,w.useState)(""),B=(0,i.Z)(V,2),M=B[0],G=B[1],W=(0,w.useState)(0),z=(0,i.Z)(W,2),J=z[0],H=z[1],K=(0,w.useState)(n&&S||""),q=(0,i.Z)(K,2),Y=q[0],Q=q[1],X=(0,w.useState)(n),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ne=(0,w.useState)(n?(0,g.Q5)(n):""),re=(0,i.Z)(ne,2),se=re[0],ae=re[1],ie=(0,w.useState)(""),oe=(0,i.Z)(ie,2),ce=oe[0],le=oe[1],ue=(0,w.useState)(!1),de=(0,i.Z)(ue,2),pe=de[0],he=de[1],me=(0,w.useRef)(null),ge=(0,w.useRef)(""),fe=w.useRef();(0,w.useEffect)((function(){if(ee!=n){te(n);var e=n&&(0,g.Q5)(n);ae(e||"")}}),[n]);var ve=function(e,t){le(e),setTimeout((function(){H(0),fe.current&&(fe.current.value="")}),1e3),setTimeout((function(){G("")}),6e3),y().getInstance().logEvent("file-upload-error",{error:t})},xe=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,c,l,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.size/1e6,O&&(f.tP.video.includes(t.type)?r="videoUploadMaxSize":f.tP.image.includes(t.type)&&(r="imageUploadMaxSize")),!(O&&O[r]&&n>O[r]||O&&(null==R||!R.includes(t.type)))){e.next=9;break}return ve(r?"Please choose a file size less than ".concat(O[r]>1024?Math.floor(O[r]/1e3)+" GB":O[r]+" MB"):"Please choose a valid file","Invalid file type or size"),e.abrupt("return");case 9:le("");case 10:return e.prev=10,i=j.lookup(t.name),o="",ae(i),(u=new FileReader).onload=(0,a.Z)((0,s.Z)().mark((function e(){var t,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(u.result),H(0),0==i.indexOf("image")?((t=new Image).src=u.result,t.onload=function(){c=t.height,l=t.width}):0==i.indexOf("video")?((n=document.createElement("video")).src=u.result,n.onloadedmetadata=function(){c=n.videoHeight,l=n.videoWidth,o=n.duration}):0==i.indexOf("audio")&&((r=new Audio).src=u.result,r.onloadedmetadata=function(){o=r.duration});case 3:case"end":return e.stop()}}),e)}))),u.readAsDataURL(t),Q(t.name),d=(new Date).toISOString().replace(/\D/g,""),p="/uploads/".concat(d).concat(t.name.substring(t.name.lastIndexOf("."))),e.next=22,(0,x.d)();case 22:me.current&&(b.Ke.cancel(me.current),G(""),H(0)),ge.current="public/"+T+p,me.current=b.Ke.put(T+p,t,{level:"public",ACL:"public-read",contentType:i,progressCallback:function(e){if(!e.key||e.key===ge.current){var t=e.loaded/e.total*100;H(t),t>=100&&setTimeout((function(){H(101)}),1e3)}}}),me.current.then((function(e){if(e&&e.key){var n=v.Z.Instance.GetUserUploadUrl("".concat(T).concat(p),"public");te(A?n:"");var r={url:n,type:i.split("/")[0],name:t.name,id:d,duration:o,heightPx:c,widthPx:l};I(r)}else ve("Failed to upload file. Please try again.","Failed to upload file: "+t.name)})).catch((function(e){e.message&&0===e.message.indexOf("Upload was cancelled")||ve("Failed to upload file. Please try again.","Failed to upload file: "+t.name)})),e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(10),ve("Failed to upload file. Please try again.","Failed to upload file: "+t.name),e.abrupt("return");case 32:case"end":return e.stop()}}),e,null,[[10,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,Z.jsxs)(d.Z,(0,r.Z)((0,r.Z)({className:"large"===N?"full-width flex-row":"",style:"large"===N?{}:{position:"relative",minWidth:"100%",height:"100%"},sx:(0,r.Z)((0,r.Z)({},L),pe?{backgroundColor:"grey.100"}:{}),onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),he(!0),le("")},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),he(!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),he(!0)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),he(!1);var t=e.dataTransfer.files[0];xe(t)}},F),{},{children:[(0,Z.jsxs)(d.Z,{component:"label",htmlFor:t,className:["large"===N?"w-50":"full-width","p-1 pointer rounded-border-large flex-centered upload-file"].join(" "),sx:{height:"90%",minHeight:"100px",backgroundColor:"transparent",border:"1px solid",borderColor:"grey.200",color:"grey.400"},onClick:function(){return le("")},children:[(0,Z.jsx)("input",{type:"file",accept:R.join(","),onChange:function(e){var t,n,r=null==e||null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0];xe(r)},style:{display:"none"},id:t,name:t,ref:function(e){return fe.current=e},onClick:U}),!ee&&(0,Z.jsxs)(d.Z,{className:"small",sx:{width:"80%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,Z.jsx)(u.Z,{}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)("span",{style:{height:"30px",marginTop:"8px"},children:C}),D&&(0,Z.jsx)(h.Z,{sx:{zIndex:"999"},title:(0,Z.jsxs)(d.Z,{sx:{p:"5px"},children:[(0,Z.jsx)("span",{style:{opacity:".5",marginTop:"2px",marginBottom:"4px"},children:"Supported format types and sizes"}),O&&Object.keys(D).map((function(e){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("br",{}),(0,Z.jsxs)(m.Z,{sx:{marginBottom:"2px"},variant:"text_sm",children:[D[e]," upto ",O[e]," MB"]})]})}))]}),placement:"bottom",children:(0,Z.jsx)(c.Z,{fontSize:"small",sx:{width:"13px",height:"13px",ml:"2px",mb:"1px"}})}),ce&&""!==ce&&(0,Z.jsx)("p",{style:{color:"#FF5252",margin:"0px",fontSize:"11.2px"},children:ce})]})]})]}),(0,Z.jsxs)("span",{className:["large"===N?"w-50 pl-3":"absolute-centered vertical-bottom","flex-vertical-space-between"].join(" "),children:[ee&&(0,Z.jsxs)(d.Z,{className:"flex-vertical-align-top",sx:{width:"85%"},children:[(0,Z.jsxs)("span",{style:{position:"relative"},children:[se&&0===se.indexOf("image")&&(0,Z.jsx)("img",{src:ee,style:{height:"55px",objectFit:"contain"}}),se&&0===se.indexOf("video")&&(0,Z.jsx)("video",{src:ee,muted:!0,style:{maxWidth:"100%",height:"55px",objectFit:"contain",border:"1px solid #E4D0FF",borderRadius:"5px"},onMouseOver:function(e){return e.target.play()},onMouseOut:function(e){return e.target.pause()}})]}),(0,Z.jsx)("div",{className:"small ellipsis-full-width",style:{textAlign:"center",height:"1rem"},title:Y,children:Y})]}),!ee&&"large"===N&&(0,Z.jsx)("div",{className:"flex-centered",style:{width:"100%",height:"80%"},children:(0,Z.jsx)("i",{className:"fa fa-image"})}),(0,Z.jsx)(p.Z,{variant:"determinate",value:J,sx:{width:"calc(100% - 16px)",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",visibility:0===J||J>100?"hidden":"visible",ml:1,mr:1}}),(0,Z.jsx)("div",{className:"small",children:M})]}),E&&ee&&(!J||J>=100)&&(0,Z.jsx)(l.Z,{fontSize:"small",sx:{position:"absolute",right:"6px",top:"6px",color:"rgba(0, 0, 0, 0.54)",cursor:"pointer"},onClick:function(){return G(""),H(0),Q("Choose Pic..."),te(""),I({}),void(fe.current&&(fe.current.value=""))}})]}))}},38781:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(29439),s=n(45987),a=n(82937),i=n(51690),o=n(47313),c=n(76657),l=n.n(c),u=n(46417),d=["files","loadNextFiles","hasMore"];function p(e){var t=e.files,n=e.loadNextFiles,c=e.hasMore,p=(0,s.Z)(e,d),h=(0,o.useRef)(),m=(0,o.useState)(null),g=(0,r.Z)(m,2),f=g[0],v=g[1];return o.useEffect((function(){window.screen.height>=1080?v("45vh"):v("29vh")}),[]),(0,u.jsx)(u.Fragment,{children:f&&(0,u.jsx)("div",{style:{overflowX:"hidden",height:"".concat(f),paddingRight:"5px !important",width:"100%"},className:"content mCustomScrollbar hover-only-scrollbar flex-auto",ref:function(e){return h.current=e},children:(0,u.jsx)(l(),{pageStart:1,initialLoad:!1,loadMore:n,hasMore:c,useWindow:!1,getScrollParent:function(){return h.current},children:(0,u.jsx)(a.ZP,{container:!0,spacing:2,sx:{padding:"0 1rem",width:"100%"},children:t.map((function(e){return(0,u.jsx)(a.ZP,{item:!0,xs:3,children:(0,u.jsx)(i.GoogleDriveMediaItem,{onClick:function(){return p.onFileSelect(e.id,e.name.replace(/\.[^/.]+$/,""))},thumbnail:e.thumbnailLink,name:e.name,durationMillis:e.videoMediaMetadata&&e.videoMediaMetadata.durationMillis||0})},e.id)}))})})})})}},59404:function(e,t,n){"use strict";n.r(t);var r=n(82937),s=n(51690),a=(n(47313),n(46417));t.default=function(e){return(0,a.jsx)(r.ZP,{container:!0,direction:"row",sx:{marginLeft:"24px",marginTop:"18px"},children:(0,a.jsx)(r.ZP,{item:!0,children:(0,a.jsx)("a",{className:"navbar-brand d-sm-inline-block btn-span",onClick:function(t){e.parentCallBack()},children:(0,a.jsx)(s.PImage,{src:"/icons/logo-octopus-with-pictory.png",display:"block",maxHeight:"36px",maxWidth:"150px"})})})})}},6070:function(e,t,n){"use strict";n.r(t);var r=n(45987),s=n(42669),a=n(605),i=n(82937),o=n(51690),c=(n(47313),n(46417)),l=["onLogin"];t.default=function(e){var t=e.onLogin;return(0,r.Z)(e,l),(0,c.jsx)(i.ZP,{container:!0,sx:{alignItems:"center"},children:(0,c.jsxs)(i.ZP,{item:!0,container:!0,direction:"column",sx:{alignItems:"center"},children:[(0,c.jsxs)(i.ZP,{item:!0,children:[(0,c.jsx)(o.PImage,{src:"/images/dot.svg",display:"block",width:"20px",height:"20px",marginLeft:"58px"}),(0,c.jsx)(o.PImage,{src:"/images/email.svg",display:"block",width:"75px",height:"75px",marginTop:"-20px"})]}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(s.Z,{align:"center",variant:"h4b",gutterBottom:!0,component:"div",sx:{alignSelf:"center",color:"grey.700"},children:"Password reset email is sent"})}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsxs)(s.Z,{align:"center",variant:"h5_resp",gutterBottom:!0,component:"div",sx:{alignSelf:"center",fontStyle:"normal",fontWeight:400,fontSize:"16px",lineHeight:"30px",color:"#9596A5"},children:["An email is sent with a link to reset your ",(0,c.jsx)("br",{}),"password to login later."]})}),(0,c.jsx)(i.ZP,{item:!0,container:!0,sx:{justifyContent:"center"},direction:"row",children:(0,c.jsx)(a.Z,{variant:"contained",sx:{width:"110px"},onClick:function(e){e.preventDefault&&e.preventDefault(),t&&t()},children:"LOGIN"})})]})})}},44282:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(1413),s=n(29439),a=n(45987),i=n(54045),o=n(80699),c=n(24873),l=n(81962),u=n(27018),d=n(62463),p=n(34940),h=n(47313),m=n(46417),g=["open","trigger","menu","visible","onClose"],f=["open","onClose","anchorEl","children"];function v(e){var t=e.open,n=e.trigger,i=e.menu,o=e.visible,c=void 0===o||o,l=e.onClose,u=(0,a.Z)(e,g),d=h.useState(null),p=(0,s.Z)(d,2),f=p[0],v=p[1];if(!c)return null;var y=!!f||t||!1,b=function(){v(null),null==l||l()};return(0,m.jsxs)("div",{className:"pmenu",children:[null==n?void 0:n((function(e){v(e.currentTarget)}),y),(0,m.jsx)(S,(0,r.Z)((0,r.Z)({anchorEl:f,onClose:b},u),{},{open:y,children:i.map((function(e,t){return(0,m.jsx)(x,{menuItem:e,handleClose:b},t)}))}))]})}function x(e){var t=e.menuItem,n=e.handleClose;return t.condition&&!t.condition()?null:t.subMenu?(0,m.jsx)(y,{handle:t.handle,onClose:n,disabled:t.disabled,children:t.subMenu.map((function(e,t){return(0,m.jsx)(x,{menuItem:e,handleClose:n},t)}))}):t.noWrap?(0,m.jsx)(m.Fragment,{children:t.handle}):t.divider?(0,m.jsx)(p.Z,{}):(0,m.jsx)(o.Z,{title:t.tooltipMsg,children:(0,m.jsx)(c.Z,{children:(0,m.jsx)(l.Z,{disabled:t.disabled,onClick:function(){return null==t?void 0:t.onClick({close:n})},children:t.handle})})})}function S(e){var t=e.open,n=e.onClose,s=e.anchorEl,i=e.children,o=(0,a.Z)(e,f);return(0,m.jsx)(u.Z,(0,r.Z)((0,r.Z)({MenuListProps:{"aria-labelledby":"long-button"},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},anchorEl:s,open:t,onClose:n},o),{},{children:i}))}function y(e){var t=e.handle,n=e.children,r=e.onClose,a=e.disabled,o=h.useState(null),c=(0,s.Z)(o,2),p=c[0],g=c[1],f=h.useState(!1),v=(0,s.Z)(f,2),x=v[0],S=v[1],y=!!p,b=function(e){e.stopPropagation(),e.preventDefault(),g(null),r&&r()};return(0,m.jsxs)(l.Z,{disabled:a,onClick:function(e){e.stopPropagation(),e.preventDefault(),g(e.currentTarget)},children:[(0,m.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,style:{width:"100%"},onMouseEnter:function(e){S(!0)},onMouseLeave:function(e){S(!1)},children:[(0,m.jsx)("div",{children:t}),(0,m.jsx)("div",{style:{width:24,height:25.2},children:(x||null!==p)&&(0,m.jsx)(i.Z,{})})]}),(0,m.jsx)(u.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:p,open:y,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:b,children:h.Children.map(n,(function(e,t){return e?h.cloneElement(e,Object.assign({},e.props,{key:t,onClick:function(t){b(t),e.props.onClick&&e.props.onClick(t)}},e.children)):null}))})]})}},16416:function(e,t,n){"use strict";n.r(t);var r=n(45987),s=n(42669),a=n(605),i=n(82937),o=n(51690),c=(n(47313),n(46417)),l=["onLogin"];t.default=function(e){var t=e.onLogin;return(0,r.Z)(e,l),(0,c.jsx)(i.ZP,{container:!0,sx:{alignItems:"center"},children:(0,c.jsxs)(i.ZP,{item:!0,container:!0,direction:"column",sx:{alignItems:"center"},children:[(0,c.jsxs)(i.ZP,{item:!0,children:[(0,c.jsx)(o.PImage,{src:"/images/dot.svg",display:"block",width:"20px",height:"20px",marginLeft:"58px"}),(0,c.jsx)(o.PImage,{src:"/images/email.svg",display:"block",width:"75px",height:"75px",marginTop:"-20px"})]}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsx)(s.Z,{align:"center",variant:"h4b",gutterBottom:!0,component:"div",sx:{alignSelf:"center",color:"grey.700"},children:"Password reset email is sent"})}),(0,c.jsx)(i.ZP,{item:!0,children:(0,c.jsxs)(s.Z,{align:"center",variant:"h5_resp",gutterBottom:!0,component:"div",sx:{alignSelf:"center",fontStyle:"normal",fontWeight:400,fontSize:"16px",lineHeight:"30px",color:"#9596A5"},children:["An email is sent with a link to reset your ",(0,c.jsx)("br",{}),"password to login later."]})}),(0,c.jsx)(i.ZP,{item:!0,container:!0,sx:{justifyContent:"center"},direction:"row",children:(0,c.jsx)(a.Z,{variant:"contained",sx:{width:"110px"},onClick:function(e){e.preventDefault&&e.preventDefault(),t&&t()},children:"Login"})})]})})}},60339:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(45987),a=n(82937),i=(n(47313),n(46417)),o=["showHeader","header","mainContent","rightContent","mainContentWidth","rightContentWidth","sx"];t.default=function(e){var t=e.showHeader,n=void 0!==t&&t,c=e.header,l=e.mainContent,u=e.rightContent,d=e.mainContentWidth,p=e.rightContentWidth,h=e.sx,m=void 0===h?{}:h;return(0,s.Z)(e,o),(0,i.jsxs)(a.ZP,{sx:(0,r.Z)({margin:"auto",maxWidth:"100%",flexGrow:1,backgroundColor:"white"},m),container:!0,children:[(0,i.jsx)(a.ZP,{item:!0,width:d,children:(0,i.jsxs)(a.ZP,{item:!0,sx:{margin:"auto",maxWidth:"100%",minHeight:"100%",flexGrow:1},container:!0,direction:"column",children:[n?(0,i.jsx)(a.ZP,{item:!0,children:c}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(a.ZP,{item:!0,sx:{flexGrow:1},container:!0,children:l})]})}),(0,i.jsx)(a.ZP,{item:!0,container:!0,width:p,children:u})]})}},36155:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(1413),s=n(82937),a=n(51690),i=(n(47313),n(46417));function o(e){return(0,i.jsx)(s.ZP,{item:!0,sx:(0,r.Z)({},e.sx),children:(0,i.jsx)(a.Testimonial,{width:"100%",user:"Keshawn Hughes",designation:"CEO XYZ",header:"Pictory is a great tool",text:"“...and I’m happy it exists. I will definitely use as often as possible. With the responsiveness of the support team. I believe , the already great product will become only get better and better!”"})})}},2260:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(29439),s=n(1413),a=n(45987),i=n(11198),o=n(605),c=n(2517),l=n(66382),u=n(71235),d=n(5448),p=n(18104),h=n(64164),m=n(42669),g=n(47313),f=n(45610),v=n(46417),x=["children","onClose"],S=(0,h.ZP)(c.Z)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},"& .MuiPaper-root":{width:"600px",height:"300px"}}})),y=function(e){var t=e.children,n=e.onClose,r=(0,a.Z)(e,x);return(0,v.jsxs)(d.Z,(0,s.Z)((0,s.Z)({sx:{m:0,p:2}},r),{},{children:[t,n?(0,v.jsx)(p.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,v.jsx)(i.Z,{})}):null]}))};function b(e){var t=e.header,n=e.messages,s=void 0===n?[]:n,a=e.show,i=e.history,c=e.onClose,d=g.useState(a),p=(0,r.Z)(d,2),h=p[0],x=p[1];(0,g.useEffect)((function(){x(a)}),[a]);var b=function(){x(!1),c&&c()};return(0,v.jsxs)(S,{onClose:b,"aria-labelledby":"customized-dialog-title",open:h,children:[(0,v.jsx)(y,{id:"customized-dialog-title",onClose:b,children:t}),(0,v.jsx)(u.Z,{dividers:!0,children:s.map((function(e,t){return(0,v.jsxs)(m.Z,{gutterBottom:!0,children:[" ",e," "]},t)}))}),(0,v.jsx)(l.Z,{children:(0,v.jsx)(o.Z,{autoFocus:!0,onClick:function(){b(),i&&i.push("/"+f.Z.plansList)},children:"See plans"})})]})}},28981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(29439),s=n(92484),a=n(62463),i=n(42669),o=n(605),c=n(28566),l=n(47313),u=n(46417);function d(){var e=l.useState(120),t=(0,r.Z)(e,2),n=t[0],d=(t[1],l.useState(180)),p=(0,r.Z)(d,2),h=p[0];return p[1],(0,u.jsx)(s.Z,{variant:"outlined",sx:{width:"100%",p:"1rem",borderRadius:"10px"},children:(0,u.jsxs)(a.Z,{direction:"column",spacing:"8px",children:[(0,u.jsx)(i.Z,{variant:"subtitle1_500",children:"Storage used"}),(0,u.jsxs)(i.Z,{variant:"caption",children:[n," % / ",h," GB used"]}),(0,u.jsx)(c.Z,{color:"success",variant:"determinate"}),(0,u.jsx)(o.Z,{variant:"outlined",size:"small",sx:{mt:"1rem",textTransform:"unset",width:"140px"},children:"Add more space"})]})})}},46211:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(29439),s=n(92484),a=n(62463),i=n(42669),o=n(605),c=n(28566),l=n(47313),u=n(46417);function d(){var e=l.useState(120),t=(0,r.Z)(e,2),n=t[0],d=(t[1],l.useState(180)),p=(0,r.Z)(d,2),h=p[0];return p[1],(0,u.jsx)(s.Z,{variant:"outlined",sx:{width:"100%",p:"1rem",borderRadius:"10px"},children:(0,u.jsxs)(a.Z,{direction:"column",spacing:"8px",children:[(0,u.jsx)(i.Z,{variant:"subtitle1_500",children:"Video minutes usage"}),(0,u.jsxs)(i.Z,{variant:"caption",children:[n," / ",h," minutes"]}),(0,u.jsx)(c.Z,{color:"success",variant:"determinate"}),(0,u.jsx)(o.Z,{variant:"outlined",size:"small",sx:{width:"140px",mt:"1rem",textTransform:"unset"},children:"Buy more time"})]})})}},71717:function(e,t,n){"use strict";n.r(t),n(47313),n(44282);var r=n(99865),s=n(46417);t.default=function(e){var t=e.assetItems,n=e.downloadFile;return(0,s.jsx)("div",{className:"col-md-12",style:{paddingTop:"10px"},children:(0,s.jsx)("div",{className:"col-12 videos-gallery asset-tile-container",children:(0,s.jsx)("div",{className:"row",children:t.map((function(e){return(0,s.jsx)(r.default,{assetUrl:e.url,assetAltName:e.altName,assetTitle:e.title,downloadFile:n},e.url)}))})})})}},79094:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(74165),s=n(15861),a=n(4942),i=n(15671),o=n(43144),c=n(60136),l=n(29388),u=n(62463),d=n(42669),p=n(24873),h=n(605),m=n(10056),g=n(47313),f=n(51443),v=n.n(f),x=(n(27772),n(91104)),S=n(1413),y=n(45987),b=n(44282),j=n(67829),w=n(1851),Z=n(68537),k=n(56790),C=n(46417),I=["contextMenu","handleClose","onClose","onCopy","onPaste","onDelete"];function T(e){var t=e.contextMenu,n=e.handleClose,r=(e.onClose,e.onCopy),s=e.onPaste,a=e.onDelete,i=(0,y.Z)(e,I),o=[{handle:(0,C.jsx)(k.default,{icon:(0,C.jsx)(j.Z,{fontSize:"small"}),text:"Copy",keyboardShortcut:"MacOS"===(0,x.L9)()?"⌘C":"Ctrl+C"}),condition:function(){return!0},onClick:r},{handle:(0,C.jsx)(k.default,{icon:(0,C.jsx)(w.Z,{fontSize:"small"}),text:"Paste",keyboardShortcut:"MacOS"===(0,x.L9)()?"⌘V":"Ctrl+V"}),condition:function(){return!0},onClick:s},{handle:"",divider:!0},{handle:(0,C.jsx)(k.default,{icon:(0,C.jsx)(Z.Z,{fontSize:"small",sx:{color:"error.main"}}),text:"Delete",textColor:"error.main",keyboardShortcut:"Del"}),condition:function(){return!0},onClick:a}];return(0,C.jsx)(b.Z,(0,S.Z)({open:null!==t,onClose:n,anchorReference:"anchorPosition",anchorPosition:null!==t?{top:t.mouseY,left:t.mouseX}:void 0,menu:o},i))}n(21628);var E=n(87074),A=n(45610),_=n(52587),R=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).validateArticleLink=function(e){var t="";e.indexOf("docs.google.com")>-1&&(t="Google docs links are not supported");var n=e.substr(e.lastIndexOf("/")+1),r=n.substr(n.lastIndexOf(".")+1);r.indexOf("?")>-1&&(r=r.substr(0,r.indexOf("?"))),r&&["doc","docs","docx","xls","xlsx","ppt","pptx","epub","pdf"].indexOf(r)>-1&&(t="File urls are not supported yet"),o.setState({articleError:t})},o.handleChange=function(e){var t=e.target.name,n=e.target.value;o.setState((0,a.Z)({},t,n)),o.validateArticleLink(n)},o.hideArticleToVideoMenu=function(){o.setState({contextMenu:null})},o.handleContextMenu=function(e){e.preventDefault(),o.setState({contextMenu:null===o.state.contextMenu?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null})},o.handleClose=function(){o.setState({contextMenu:null})},o.onDelete=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.state.selectionStart,s=o.state.selectionEnd,o.state.url&&(a=o.state.url,n===s?o.setState({url:""}):o.setState({url:a.substring(0,n)+a.substring(s)})),o.hideArticleToVideoMenu();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.onCopy=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.state.selectionStart,s=o.state.selectionEnd,o.state.url){a=n===s?o.state.url:o.state.url.substring(n,s);try{console.log("copied data: "+a),navigator.clipboard.writeText(a)}catch(e){console.log("copy failed: "+e)}}o.hideArticleToVideoMenu();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.onPaste=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,i,c,l,u,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.state.url,s=o.state.selectionStart,a=o.state.selectionEnd,o.hideArticleToVideoMenu(),e.next=6,navigator.clipboard.read();case 6:i=e.sent,c="",l=0;case 9:if(!(l<i.length)){e.next=30;break}if(u=i[l],d="",!u.types.includes("text/html")){e.next=19;break}return e.next=15,u.getType("text/html");case 15:return d=e.sent,e.next=18,d.text();case 18:c=e.sent;case 19:if(!u.types.includes("text/plain")){e.next=26;break}return e.next=22,u.getType("text/plain");case 22:return d=e.sent,e.next=25,d.text();case 25:c=e.sent;case 26:c&&(n=n?s===a?n.substring(0,s)+c+n.substring(s):n.substring(0,s)+c+n.substring(a):c,o.setState({url:n}));case 27:l++,e.next=9;break;case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.gotoCreateVideoStep2ViaURL=function(e){if(e.preventDefault(),!1!==o.props.validateProjectQuota())if(""!==o.state.url&&null!==o.state.url){v().getInstance().logEvent("start-with-article-init");var t={cognito_id:o.props.user.username,email:o.props.user.attributes.email,project_id:Date.now(),articleUrl:o.state.url,source:"url",states:[]};o.props.history.push({pathname:E.Z.BaseURL+A.Z.stepTwo,state:{url:o.state.url&&o.state.url.trim(),sentences:2,originalText:"",baseText:"",summaryText:"",isPrevious:!1,summaryJson:"",lines:5,value:40,totalLines:20,GoClick:"URL",allSummaryText:"",mainOriginalText:"",startingSummary:"",projectDetails:t,language:o.props.language}})}else o.setState({articleError:"Please enter valid article link"}),document.getElementById("txtURL").focus()},o.state={contextMenu:null,url:void 0!==(o.props.history.location.state&&o.props.history.location.state.url)?o.props.history.location.state.url:"",articleError:""},o}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(u.Z,{className:"".concat(t.cardOne," ").concat(t.cardBase," Feature-Card"),sx:{mt:"-25%"},children:[(0,C.jsxs)(u.Z,{direction:"row",spacing:2,sx:{color:"grey.700",height:"25%",width:"100%",p:"0px 10px 0px 10px"},children:[(0,C.jsxs)(d.Z,{variant:"h5b",className:"card-title",sx:{width:"70%"},children:["Article ",(0,C.jsx)("br",{}),"to Video"," "]}),(0,C.jsx)(p.Z,{sx:{width:"30%",textAlign:"right"},children:(0,C.jsx)(_.Z,{fontSize:"large"})})]}),(0,C.jsxs)(u.Z,{sx:{height:"50%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,C.jsxs)(p.Z,{onContextMenu:this.handleContextMenu,sx:{width:"100%"},children:[(0,C.jsx)("input",{type:"search",id:"txtURL",name:"url",className:"".concat(t.input," form-control flex-centered "),onFocus:function(){return e.setState({writingUrl:!0})},onBlur:function(){return e.setState({writingUrl:!1})},onMouseDown:function(t){2===t.button&&e.setState({contextMenuOpen:!0,selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd})},placeholder:"Copy paste the URL",value:this.state.url,onChange:this.handleChange}),(0,C.jsx)(T,{contextMenu:this.state.contextMenu,handleClose:this.handleClose,onCopy:this.onCopy,onPaste:this.onPaste,onDelete:this.onDelete})]}),(0,C.jsxs)(d.Z,{variant:"body3_resp",sx:{color:"grey.500",pt:"5px",textAlign:"center",maxWidth:"26ch"},children:["Use ","MacOS"===(0,x.L9)()?"cmd+v":"ctrl+v"," to paste"]}),(0,C.jsx)("label",{className:"step-1-article-error",children:this.state.articleError})]}),(0,C.jsx)(p.Z,{sx:{display:"flex",justifyContent:"center",height:"25%",pb:"1rem"},children:(0,C.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",style:{display:"inline-block",alignSelf:"flex-end"},className:(t.cardButton||"")+" article-to-video-button",disabled:this.state.articleError.length>0,value:"Proceed",id:"btnGo",onClick:this.gotoCreateVideoStep2ViaURL.bind(this),children:"Proceed"})})]}),(0,C.jsxs)(u.Z,{direction:"column",className:"use-cases",style:{margin:"12px auto 10px auto"},children:[(0,C.jsx)(d.Z,{variant:"subtitle2b_resp",sx:{color:"grey.500",mb:"5px"},children:"Recommended for:"}),(0,C.jsxs)(d.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,C.jsx)(m.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Blogs"]}),(0,C.jsxs)(d.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,C.jsx)(m.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Press releases"]}),(0,C.jsxs)(d.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,C.jsx)(m.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Any HTML article"]})]})]})}}]),n}(g.Component),P=R},88449:function(e,t,n){"use strict";n.r(t);var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(62463),c=n(42669),l=n(24873),u=n(605),d=n(10056),p=n(47313),h=(n(27772),n(53314)),m=n(46417),g=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).state={},s}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.Z,{className:"".concat(t.cardThree," ").concat(t.cardBase," Feature-Card"),sx:{mt:"-25%"},children:[(0,m.jsxs)(o.Z,{direction:"row",spacing:2,sx:{color:"grey.700",height:"25%",width:"100%",p:"0px 10px 0px 10px"},className:"",children:[(0,m.jsxs)(c.Z,{variant:"h5b",className:"card-title",sx:{width:"70%"},children:["Edit Video ",(0,m.jsx)("br",{}),"using Text"," "]}),(0,m.jsx)(l.Z,{sx:{width:"30%",textAlign:"right"},children:(0,m.jsx)(h.Z,{fontSize:"large"})})]}),(0,m.jsx)(l.Z,{sx:{height:"50%",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center"},className:"",children:(0,m.jsx)(c.Z,{variant:"body3_resp",style:{color:"grey.700",textAlign:"center"},children:(0,m.jsxs)(m.Fragment,{children:["Input video from",(0,m.jsx)("br",{}),"various sources"]})})}),(0,m.jsx)(l.Z,{sx:{height:"25%",display:"flex",justifyContent:"center",pb:"1rem"},className:"",children:(0,m.jsx)(u.Z,{style:{display:"inline-block",alignSelf:"flex-end",marginTop:"1rem"},type:"submit",value:"Select",id:"btnGo",variant:"contained",onClick:function(){return e.props.onClick&&e.props.onClick()},className:(t.cardButton||"")+" edit-video-button",children:"Proceed"})})]}),(0,m.jsxs)(o.Z,{direction:"column",className:"use-cases",style:{margin:"12px auto 8px auto"},children:[(0,m.jsx)(c.Z,{variant:"subtitle2b_resp",sx:{color:"grey.500",mb:"5px"},children:"Recommended for:"}),(0,m.jsxs)(c.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,m.jsx)(d.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Add subtitles automatically"]}),(0,m.jsxs)(c.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,m.jsx)(d.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Cut portions of video"]}),(0,m.jsxs)(c.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,m.jsx)(d.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Create video highlights"]}),(0,m.jsxs)(c.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,m.jsx)(d.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Add logo, intro, & outro"]})]})]})}}]),n}(p.Component);t.default=g},36792:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(93433),s=n(15671),a=n(43144),i=n(60136),o=n(29388),c=n(62463),l=n(42669),u=n(24873),d=n(80699),p=n(18104),h=n(605),m=n(10056),g=n(76666),f=n.n(g),v=n(47313),x=n(91104);n.p;var S=n(97554),y=n(59341),b=n(47439),j=n(46417),w=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).handleVisualSelect=function(e){var t=Array.from(e.target.files);a.setState({totalSelectedFiles:"".concat(t.length," files selected"),selectedFilesError:""});for(var n=[],s=[],i=0;i<t.length;i++){var o,c,l=t[i],u=l.size/1e6;""!=l.type&&(b.tP.video.includes(l.type)&&u<(null===(o=a.props.fileValidations)||void 0===o?void 0:o.videoUploadMaxSize)||b.tP.image.includes(l.type)&&u<(null===(c=a.props.fileValidations)||void 0===c?void 0:c.imageUploadMaxSize))?n.push(l):s.push({name:l.name,type:"invalid"})}for(var d=function(e){var t=n[e],s=t.size/1e6,i=new FileReader;i.onloadend=function(){"invalid"!==t.type?a.setState({files:[].concat((0,r.Z)(a.state.files),[{id:(0,x.DO)(),src:i,title:t.name,size:t.size,progress:0,blob:t,type:t.type,isActive:!0,isVideo:t.type.includes("video")}])}):a.setState({invalidFiles:[].concat((0,r.Z)(a.state.invalidFiles),[{name:t.name,size:s}])})},i.readAsDataURL(t)},p=0;p<n.length;p++)d(p);a.setState({invalidTypes:s})},a.documentInputFileClick=function(){a.props.validateProjectQuota&&!1===a.props.validateProjectQuota()||(a.documentInputFile.click(),setTimeout((function(){a.setState({selectedFilesError:""})}),2))},a.handleSubmit=function(e){if(e.preventDefault(),!a.props.validateProjectQuota||!1!==a.props.validateProjectQuota()){var t=[].concat((0,r.Z)(a.state.invalidFiles),(0,r.Z)(a.state.invalidTypes));t.length>0?a.props.openVisualValidations(!0,t,a.state.files):a.state.files.length>0?a.props.openVisualArrangements(a.state.files):(a.setState({selectedFilesError:"Please select visuals."}),setTimeout((function(){a.setState({selectedFilesError:""})}),5e3))}},a.clearSelectedFile=function(){a.setState({files:[],invalidFiles:[],totalSelectedFiles:"",invalidTypes:[]}),a.props.openVisualValidations(!1,[],[]),document.getElementById("visual-to-upload").value=""},a.setUpFiledropListeners=function(){var e=document.getElementById("diledropcontainer");if(!a.state.isDragSupported)return"Dragging not supported";var t=f()(e);t.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){t.addClass("is-dragover")})).on("dragleave dragend drop",(function(){t.removeClass("is-dragover")})).on("drop",(function(e){t.addClass("have-file");var n={target:{files:e.originalEvent.dataTransfer.files}};a.handleVisualSelect(n)}))},a.state={documentFileName:"",articleDocumentError:"",isDragSupported:a.isDragToUploadSupported(),files:[],invalidFiles:[],invalidTypes:[],totalSelectedFiles:"",selectedFilesError:""},a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.setUpFiledropListeners()}},{key:"componentWillReceiveProps",value:function(e){this.props.cancelFromInvalid!=e.cancelFromInvalid&&this.clearSelectedFile()}},{key:"isDragToUploadSupported",value:function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}},{key:"render",value:function(){var e,t,n=this,r=this.props.classes;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{className:"".concat(r.cardFour," ").concat(r.cardBase," Feature-Card"),sx:{mt:"-25%"},children:(0,j.jsxs)("form",{onSubmit:this.handleSubmit,style:{height:"100%"},children:[(0,j.jsxs)(c.Z,{direction:"row",spacing:2,sx:{color:"grey.700",height:"25%",width:"100%",p:"0px 10px 0px 10px"},className:"",children:[(0,j.jsxs)(l.Z,{variant:"h5b",className:"card-title",sx:{width:"70%"},children:["Visuals",(0,j.jsx)("br",{}),"to Video"," "]}),(0,j.jsx)(u.Z,{sx:{width:"30%",textAlign:"right"},children:(0,j.jsx)(S.Z,{fontSize:"large"})})]}),(0,j.jsx)("input",{ref:function(e){return n.documentInputFile=e},style:{display:"none"},type:"file",id:"visual-to-upload",multiple:!0,onChange:this.handleVisualSelect,accept:"".concat(b.tP.video.join(","),",").concat(b.tP.image.join(","))}),(0,j.jsxs)(u.Z,{sx:{height:"50%",display:"flex",justifyContent:"center"},id:"diledropcontainer",onClick:function(){return n.documentInputFile.click()},className:"",children:[(0,j.jsxs)(l.Z,{variant:"body3_resp",style:{margin:"auto"},className:["input-instructions",this.state.totalSelectedFiles.length?"hidden":""].join(" "),sx:{color:"#000000",border:"1px dotted #ffffff",borderRadius:"10px",width:"100%",height:"80px",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[this.state.isDragSupported?(0,j.jsxs)("center",{children:["Drag and drop files or",(0,j.jsx)("br",{})," browse computer"]}):(0,j.jsx)("span",{children:"Browse computer"}),(0,j.jsxs)(l.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px"},children:["Images and Video files"," ",(0,j.jsx)(d.Z,{title:(0,j.jsxs)(u.Z,{sx:{p:"5px"},children:[(0,j.jsx)(l.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px",mb:"4px"},children:"Supported format types and sizes"}),(0,j.jsx)("br",{}),(0,j.jsxs)(l.Z,{variant:"text_sm",sx:{mb:"2px"},children:["Images - JPG, JPEG, PNG, SVG, WEBP up to ",null===(e=this.props.fileValidations)||void 0===e?void 0:e.imageUploadMaxSize," MB"]}),(0,j.jsx)("br",{}),(0,j.jsxs)(l.Z,{variant:"text_sm",children:["Videos - MP4, MOV, WEBM up to ",null===(t=this.props.fileValidations)||void 0===t?void 0:t.videoUploadMaxSize," MB"]})]}),placement:"bottom",children:(0,j.jsx)(y.Z,{fontSize:"small",sx:{width:"13px",height:"13px",ml:"2px",mb:"3px"}})})]}),this.state.selectedFilesError.length?(0,j.jsxs)("label",{className:"step-1-article-error",children:[" ",this.state.selectedFilesError," "]}):null]}),(0,j.jsxs)("h3",{className:["input-instructions",this.state.totalSelectedFiles.length?"":"hidden"].join(" "),children:[this.state.totalSelectedFiles,"  ",(0,j.jsx)(p.Z,{className:"fa fa-times",style:{cursor:"pointer"},onClick:this.clearSelectedFile,"aria-hidden":"true",sx:{color:"grey.400","&:hover":{color:"error.main",background:"none"}}})]})]}),(0,j.jsx)(u.Z,{sx:{height:"25%",display:"flex",justifyContent:"center",pb:"1rem"},className:"",children:this.state.totalSelectedFiles&&this.state.totalSelectedFiles.length?(0,j.jsx)(h.Z,{type:"submit",value:"Upload",id:"btnGo",variant:"contained",className:this.props.classes.cardButton,style:{display:"inline-block",alignSelf:"flex-end"},children:"Upload"}):(0,j.jsx)(h.Z,{type:"submit",id:"btnGo",onClick:function(){return n.documentInputFileClick()},className:(this.props.classes.cardButton||"")+" visuals-to-video-button",style:{display:"inline-block",alignSelf:"flex-end"},variant:"contained",children:"Proceed"})})]})}),(0,j.jsxs)(c.Z,{direction:"column",className:"use-cases",style:{margin:"12px auto 8px auto"},children:[(0,j.jsx)(l.Z,{variant:"subtitle2b_resp",sx:{color:"grey.500",mb:"5px"},children:"Recommended for:"}),(0,j.jsxs)(l.Z,{variant:"body2_resp",sx:{color:"grey.400",lineHeight:"1.5"},children:[(0,j.jsx)(m.Z,{className:"fa fa-check",sx:{color:"primary.main"}})," Create a slideshow video ",(0,j.jsx)("br",{}),"        using existing images & ",(0,j.jsx)("br",{}),"        short video clips"," "]})]})]})}}]),n}(v.Component)},270:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(16157),s=n(68728),a=n(42669),i=n(82937),o=n(24873),c=n(34940),l=n(605),u=n(34207),d=n(51690),p=(n(47313),n(46417));function h(e){var t,n=e.email,h=e.codes,m=e.validationError,g=e.onResendCode,f=e.onCodeChanged,v=e.onCodeComplete,x=e.onChangeEmail,S=e.submittingForm,y=(e.submittingMessage,e.emailVerified),b=e.codeSent;return(0,p.jsx)(i.ZP,{container:!0,className:"email-verification-container",sx:{maxWidth:"556px",height:"max-content",backgroundColor:"white",borderRadius:"8px",display:"flex",padding:"3em 0",justifyContent:"center",flexDirection:"column",alignItems:"center",flexWrap:"unset"},children:m&&"ExpiredCodeException"===m.code?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{children:(0,p.jsx)("img",{src:"images/otp_expired.svg"})}),(0,p.jsxs)(o.Z,{sx:{textAlign:"center"},children:[(0,p.jsx)(a.Z,{variant:"h3_resp",color:"grey.900",sx:{m:"0.8em 0 0.5em 0",display:"block",width:"100%"},children:"Verification code expired"}),(0,p.jsxs)(a.Z,{variant:"body1_resp",color:"grey.500",sx:{padding:"0 4em",display:"block",marginTop:"0.5em"},children:["Looks like verification code has expired. Do not worry, we can resend it to ",n]})]}),(0,p.jsx)(c.Z,{className:"w-100",sx:{m:"32px 0"}}),(0,p.jsx)(o.Z,{cols:2,gap:"10px",sx:{display:"flex",width:"100%",padding:"0 4em"},children:(0,p.jsx)(l.Z,{disabled:S,variant:"contained",sx:{width:"100%",borderRadius:"8px",height:"52px"},onClick:g,children:(0,p.jsx)(a.Z,{variant:"text_sm",children:"Resend code"})})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{sx:{width:"120px",height:"120px"},children:y?(0,p.jsx)("img",{src:"images/email_verified.svg"}):S?(0,p.jsx)(o.Z,{className:"gradient-bg",children:(0,p.jsx)(u.Z,{sx:{color:"#ffffff"}})}):(0,p.jsx)("img",{src:"images/enter_email.svg"})}),(0,p.jsxs)(o.Z,{sx:{textAlign:"center",padding:"0 20px"},children:[(0,p.jsx)(a.Z,{variant:"h3_resp",color:"grey.900",sx:{m:"0.8em 0 0.5em 0",display:"block",width:"100%"},children:"Verify your email address"}),(0,p.jsxs)(a.Z,{variant:"subtitle1b",color:"grey.900",sx:{display:"block",lineHeight:"22px",wordBreak:"break-all"},children:["A verification code has been sent to ",(0,p.jsx)(a.Z,{children:n})]}),(0,p.jsx)(a.Z,{variant:"text_sm",color:"grey.500",className:"check-inbox-text",sx:{display:"block",marginTop:"0.5em"},children:"Please check your inbox and enter the verification code below to verify your email address. The code will expire in 24 hours."}),(0,p.jsx)(d.VerificationCodeInput,{invalidCode:m&&m.message,codeVerified:y,codes:h,onCodeChanged:f,onCodeComplete:v,disabled:S})]}),function(e){if(e&&"ExpiredCodeException"!==e.code){if(e.code){var t=e.message;return"CodeMismatchException"===e.code&&(t="Incorrect code. Please try again"),(0,p.jsxs)(a.Z,{variant:"text_sm",color:"error.main",sx:{padding:"0 4em",display:"block",marginTop:"0.5em",mb:"1em"},children:[(0,p.jsx)(r.Z,{sx:{mr:"10px"}}),t]})}if(e.message)return(0,p.jsxs)(a.Z,{variant:"body1_resp",color:"error.main",sx:{padding:"0 2em",display:"block",marginTop:"0.5em",mb:"1em"},children:[(0,p.jsx)(r.Z,{sx:{mr:"10px"}}),e.message]})}return(0,p.jsx)(p.Fragment,{})}(m),(t=y,t?(0,p.jsxs)(a.Z,{variant:"body1_resp",color:"success.main",sx:{padding:"0 4em",display:"block",marginTop:"0.5em",mb:"1em"},children:[(0,p.jsx)(s.Z,{sx:{mr:"10px"}}),"Your email address has been verified!"]}):(0,p.jsx)(p.Fragment,{})),b?(0,p.jsx)(o.Z,{sx:{width:"max-content",borderRadius:"8px",right:"0",left:"0",top:"0",margin:"0px 0 10px 0",display:"block"},children:(0,p.jsxs)(a.Z,{variant:"text_sm",color:"success.main",children:[" ",(0,p.jsx)(s.Z,{sx:{fontSize:"20px",marginRight:"5px",marginTop:"-3px"}})," ","The new code was successfully sent to your mail"]})}):(0,p.jsx)(p.Fragment,{}),y?(0,p.jsx)(p.Fragment,{}):(0,p.jsxs)(a.Z,{color:"grey.400",variant:"text_sm",className:"resend-code-text",sx:{position:"relative",display:"flex"},children:["Didn't get a code? Click to"," ",(0,p.jsx)(a.Z,{onClick:g,color:"grey.900",variant:"text_sm",sx:{margin:"0 4px",cursor:"pointer"},children:"resend"})," ","or"," ",(0,p.jsxs)(a.Z,{color:"grey.900",variant:"text_sm",sx:{margin:"0 4px",cursor:"pointer"},onClick:x,children:["sign up"," "]}),"with new email."]})]})})}new Array(5).fill(" ")},55417:function(e,t,n){"use strict";n.r(t);var r=n(93433),s=n(29439),a=n(45987),i=n(82937),o=n(62463),c=n(42669),l=n(28566),u=n(34940),d=n(605),p=n(47313),h=n(51690),m=n(16031),g=n.n(m),f=n(36410),v=(n(78061),n(24873)),x=n(46417),S=["onSave","previousAnswers","previousOtherAnswers","startQuestion","isLogin"];t.default=function(e){var t=e.onSave,n=e.previousAnswers,m=e.previousOtherAnswers,y=e.startQuestion,b=(e.isLogin,(0,a.Z)(e,S),(0,p.useState)(y)),j=(0,s.Z)(b,2),w=j[0],Z=j[1],k=(0,p.useState)(n||["",""]),C=(0,s.Z)(k,2),I=C[0],T=C[1],E=(0,p.useState)(m||["","",""]),A=(0,s.Z)(E,2),_=A[0],R=A[1],P=(0,p.useState)(!1),N=(0,s.Z)(P,2),O=N[0],D=N[1],U=(0,p.useState)(""),L=(0,s.Z)(U,2),F=L[0],V=L[1],B=(0,p.useState)(""),M=(0,s.Z)(B,2),G=M[0],W=M[1],z=(0,p.useState)(!0),J=(0,s.Z)(z,2),H=J[0],K=J[1],q=(0,p.useState)("Next"),Y=(0,s.Z)(q,2),Q=Y[0],X=Y[1];return(0,x.jsx)(i.ZP,{sx:{width:"100vw",display:"flex",justifyContent:"center",backgroundSize:"100%"},container:!0,children:(0,x.jsx)(o.Z,{container:!0,sx:{width:"unset",height:"max-content",backgroundColor:"white",borderRadius:"10px",overflow:"hidden"},className:"add-zoom responsive-questionnaire",children:(0,x.jsxs)(v.Z,{sx:{display:"flex",maxHeight:"593px"},children:[(0,x.jsxs)(v.Z,{className:"questions-list",children:[(0,x.jsxs)(v.Z,{sx:{minHeight:"500px",height:"500px"},children:[(0,x.jsxs)(v.Z,{children:[(0,x.jsx)(c.Z,{variant:"text_xl",sx:{padding:"28px 48px",display:"block",lineHeight:"26px",color:"grey.900"},children:f.C[w-1].question}),(0,x.jsx)(l.Z,{value:33.33*w,variant:"determinate"}),(0,x.jsx)(u.Z,{})]}),(0,x.jsx)(v.Z,{sx:{padding:"0 48px"},children:(0,x.jsx)(i.ZP,{sx:{overflowX:"hidden",overflowY:"auto",mt:"1.3rem"},children:(0,x.jsx)(h.Answers,{onChange:function(e){var t=(0,r.Z)(I);t[w-1]=e,T(t),"Other"==e&&D(!0),K(!1)},value:I[w-1],valueOther:_[w-1],isOther:O,onChangeOthers:function(e){D(e)},onChangeOthersValue:function(e){var t=(0,r.Z)(_);t[w-1]=e,R(t)},answers:function(){var e=null,t=f.C[w-1].answers;if(g().isArray(t))e=t;else{var n=w-2;e=n>-1&&t[I[n]]?t[I[n]]:t.others}return e}(),updateNextButtonLabel:function(e){X(e)},updateCompany:function(e){V(e)},updateIndustry:function(e){W(e)},onDisableNext:function(e){K(e)},questionNumber:w,textCompanyName:F,textIndustry:G},w)})})]}),(0,x.jsx)(v.Z,{sx:{display:"flex",height:"48px",minHeight:"48px",alignItems:"flex-end",p:"0 48px",mb:"45px"},children:(0,x.jsx)(d.Z,{fullWidth:!0,variant:"contained",disabled:H,onClick:function(e){2==w&&X("Start using Pictory");var n=!1;if("next"===Q.toLocaleLowerCase()&&3!==w||(n=!0),I[w-1]&&I[w-1].length>0){var r,s="";if("other"==I[w-1].toLocaleLowerCase())s="other - "+_[w-1];else{var a=f.C[w-1].answers.indexOf(I[w-1]);s=-1!=a?f.C[w-1].answersForEvents[a]:I[w-1]}w<3?(D(!1),1==w&&"for my clients"===I[w-1].toLocaleLowerCase()?(r=w+2,X("Start using Pictory")):r=w+1,Z(r),I[r-1]&&I[r-1].length>0?K(!1):K(!0),t&&t(I,w-1,_,null,null,s,n)):t&&t(I,w-1,_,F,G,s,n)}},sx:{width:"100%",height:"40px"},children:Q})})]}),(0,x.jsxs)(v.Z,{className:"questionnaire-right-panel",sx:{minWidth:"420px",maxWidth:"420px",position:"relative",backgroundColor:"#e0e0e0"},children:[1==w&&(0,x.jsx)("img",{src:"images/q1.png"}),2==w&&(0,x.jsx)("img",{src:"images/q2.png"}),3==w&&(0,x.jsx)("img",{src:"images/q3.png"})]})]})})})}},64923:function(e,t,n){"use strict";n.d(t,{I:function(){return T}});var r=n(74165),s=n(15861),a=n(93433),i=n(29439),o=n(45987),c=n(1413),l=n(47313),u=n(15422),d=n(52927),p=n(24873),h=n(42669),m=n(62463),g=n(76504),f=n(36368),v=n(59017),x=n(18104),S=n(98495),y=n(49530),b=n(35045),j=n(68537),w=n(62949),Z=n(91104),k=n(46417),C=["assetMapping","teamUsers","cognito_id","assetType","title","shareAsset","onClose"],I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.displayName;return(0,k.jsxs)(p.Z,(0,c.Z)((0,c.Z)({sx:{display:"flex",alignItems:"center"}},t),{},{children:[(0,k.jsx)(w.Z,{name:r,imgSrc:"",size:"small",backgroundColor:"team"==e.type?"grey.100":"",color:"team"==e.type?"grey.500":""}),(0,k.jsxs)(p.Z,{sx:{ml:2},children:[(0,k.jsxs)(h.Z,{variant:"text_sm",component:"div",children:[r,n?(0,k.jsx)(h.Z,{component:"span",sx:{color:"grey.300"},children:"  (You)"}):""]}),(0,k.jsx)(h.Z,{variant:"text_xs",component:"div",sx:{color:"grey.400"},children:e.subtitle||e.email})]})]}))};function T(e){var t=e.assetMapping,n=e.teamUsers,w=e.cognito_id,T=e.assetType,E=e.title,A=e.shareAsset,_=e.onClose,R=(0,o.Z)(e,C),P=(0,l.useState)(!0),N=(0,i.Z)(P,2),O=N[0],D=N[1],U=(0,l.useState)([]),L=(0,i.Z)(U,2),F=L[0],V=L[1],B=(0,l.useState)([]),M=(0,i.Z)(B,2),G=M[0],W=M[1],z=(0,l.useState)([]),J=(0,i.Z)(z,2),H=J[0],K=J[1],q=(0,l.useState)({}),Y=(0,i.Z)(q,2),Q=Y[0],X=Y[1],$=(0,l.useState)(),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1];(0,l.useEffect)((function(){if((null==t?void 0:t.length)>0){var e=t.map((function(e){return{displayName:(0,Z.WI)(e),email:e.email,sharedUserId:e.sharedUserId}}));e=e.filter((function(e){var t=n.find((function(t){return t.memberUserId==e.sharedUserId}));return!!t&&!t.isInactive})),V(e)}else V([])}),[t]),(0,l.useEffect)((function(){if(n){for(var e=[],r=0;r<n.length;r++){var s=n[r];s.memberUserId&&w!==s.memberUserId&&!s.isInactive&&e.push({displayName:(0,Z.oH)(s),email:s.memberUserEmail,sharedUserId:s.memberUserId})}W(e);var a=e.length;e=e.filter((function(e){return!(null!=t&&t.find((function(t){return t.sharedUserId===e.sharedUserId})))})),e=re(e,a),K(e),(null==t?void 0:t.length)>0&&D(!1);var i=n.find((function(e){return e.memberUserId===w}));X({displayName:(0,Z.oH)(i),email:i.memberUserEmail,sharedUserId:i.memberUserId})}}),[n]);var re=function(e,t){var r;if("team"===(null==e||null===(r=e[0])||void 0===r?void 0:r.type))return e;var s=(0,a.Z)(e);if(void 0===t&&(t=G.length),t++,e[0]&&"team"!==e[0].type){var i="members";t<=1&&(i="member");var o={displayName:n[0].name,subtitle:"".concat(t," ").concat(i),type:"team"};s.unshift(o)}return s},se=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,s,a,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],s=function(e){var r=t[e];null!=F&&F.find((function(e){return e.sharedUserId===r.sharedUserId}))||n.push({cognito_id:r.sharedUserId,role:"full",action:"remove"})},a=0;a<(null==t?void 0:t.length);a++)s(a);for(i=function(e){var r=F[e];null!=t&&t.find((function(e){return e.sharedUserId===r.sharedUserId}))||n.push({cognito_id:r.sharedUserId,role:"full",action:"add"})},o=0;o<F.length;o++)i(o);if(!(n.length>0)){e.next=11;break}return ne(!0),e.next=9,A(n);case 9:ne(!1),_();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(d._c,(0,c.Z)((0,c.Z)({},R),{},{fullWidth:!0,maxWidth:"xs",title:(0,k.jsx)(p.Z,{sx:{mt:4,mb:2},children:(0,k.jsx)(h.Z,{variant:"text_2xl",children:E})}),closeSx:{mt:2},onClose:_,divider:!0,actionsDivider:!0,actions:(0,k.jsx)(m.Z,{direction:"row",spacing:1.5,justifyContent:"space-between",alignItems:"center",sx:{width:"100%",mb:1,marginTop:"-24px"},children:(0,k.jsxs)(u.w,{variant:"contained",type:"submit",onClick:function(){return se()},sx:{width:"100%"},children:[(0,k.jsx)(p.Z,{className:te?"visibility-hidden":"",children:"Share"}),te&&(0,k.jsx)(p.Z,{className:"dot-flashing"})]})}),children:[(0,k.jsx)(g.Z,{sx:{marginTop:"-20px"},open:O,onOpen:function(){return D(!0)},onClose:function(){return D(!1)},multiple:!0,id:"team-share-names",options:H,getOptionLabel:function(e){return e.displayName},isOptionEqualToValue:function(e,t){return!1},renderOption:function(e,t,n){return I(t,e)},onChange:function(e,t,n){if("selectOption"===n){var r=t[t.length-1];if("team"===(null==r?void 0:r.type))V(G),K([]);else{var s=(0,a.Z)(F);null!=s&&s.find((function(e){return e.email===(null==r?void 0:r.email)}))||(s.unshift(r),V(s));var i=H.filter((function(e){return e.sharedUserId!==(null==r?void 0:r.sharedUserId)}));1===(i=re(i)).length&&"team"===i[0].type&&(i=[]),K(i)}}else"removeOption"===n&&V((0,a.Z)(F))},filterSelectedOptions:!0,openOnFocus:!0,popupIcon:null,clearIcon:(0,k.jsx)(S.Z,{fontSize:"small",sx:{color:"grey.200"}}),limitTags:2,noOptionsText:(0,k.jsxs)(h.Z,{color:"error",variant:"text_xs",children:[(0,k.jsx)(y.Z,{fontSize:"small"}),"   You can share ",T," with your active team members only"]}),filterOptions:function(e,t){var n=[];return e.forEach((function(e){var r;(e.displayName.toLowerCase().includes(t.inputValue.toLowerCase())||null!==(r=e.email)&&void 0!==r&&r.toLowerCase().includes(t.inputValue.toLowerCase()))&&n.push(e)})),n},renderInput:function(e){return(0,k.jsx)(f.Z,(0,c.Z)((0,c.Z)({},e),{},{InputProps:(0,c.Z)((0,c.Z)({},e.InputProps),{},{placeholder:e.InputProps.startAdornment?"":"Type one or more names or emails",startAdornment:(0,k.jsxs)(v.Z,{position:"start",children:[" ",(0,k.jsx)(b.Z,{fontSize:"small",sx:{color:"grey.500",mr:.5}})," ",e.InputProps.startAdornment]}),endAdornment:null,disableUnderline:!0})}))},renderTags:function(e,t,r){var s=G.length+1;if(s+=s<=1?" member":" members",F.length===G.length)return(0,k.jsxs)(h.Z,{sx:{color:"secondary.light"},children:[n[0].name," "," (".concat(s,")")]});var a=F.length;return(0,k.jsxs)(h.Z,{sx:{color:"secondary.light"},children:[F.slice(0,2).map((function(e,t){return e.displayName})).join(", "),a>2&&" +".concat(a-2," more")]})}}),(0,k.jsxs)(p.Z,{sx:{mt:3},children:[(0,k.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1},children:[I(Q,{},Q.sharedUserId===w),(0,k.jsxs)(h.Z,{variant:"text_xs",sx:{color:"grey.400",width:"40%",textAlign:"right"},children:["brand"==T&&Q.sharedUserId!=w?"View only":"Full ownership",(0,k.jsx)(x.Z,{className:"disabled",size:"small",sx:{ml:2},children:(0,k.jsx)(j.Z,{fontSize:"small"})})]})]}),null==F?void 0:F.map((function(e,t){return(0,k.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1},children:[I(e),(0,k.jsxs)(h.Z,{variant:"text_xs",sx:{color:"grey.400",width:"40%",textAlign:"right"},children:["brand"==T&&e.sharedUserId!=w?"View only":"Full ownership",(0,k.jsx)(x.Z,{size:"small",sx:{ml:2},onClick:function(){return function(e){var t=(0,a.Z)(F),r=t.splice(e,1);V(t);var s,i=(0,a.Z)(H);n.find((function(e){return e.memberUserId==r[0].sharedUserId&&e.isInactive}))||((s=i).push.apply(s,(0,a.Z)(r)),i=re(i),K(i))}(t)},children:(0,k.jsx)(j.Z,{sx:{"&:hover":{color:"error.main"}},fontSize:"small"})})]})]})}))]})]}))}},48527:function(e,t,n){"use strict";n.d(t,{y:function(){return f}});var r=n(29439),s=n(45987),a=n(47313),i=n(44906),o=n(24873),c=n(42669),l=n(80699),u=n(18104),d=n(68537),p=n(62949),h=n(91104),m=n(46417),g=["open","assetMapping","teamUsers","anchorEl","cognito_id","shareAsset","disableRemoveShare","onClose"];function f(e){var t=e.open,n=e.assetMapping,f=e.teamUsers,v=e.anchorEl,x=(e.cognito_id,e.shareAsset),S=e.disableRemoveShare,y=e.onClose,b=((0,s.Z)(e,g),(0,a.useState)([])),j=(0,r.Z)(b,2),w=j[0],Z=j[1];return(0,a.useEffect)((function(){if(n){var e=n.filter((function(e){var t=f.find((function(t){return t.memberUserId==e.sharedUserId}));return!!t&&!t.isInactive}));Z(e)}}),[n]),(0,m.jsx)(i.ZP,{open:t,onClose:y,anchorEl:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,m.jsxs)(o.Z,{sx:{p:1},children:[(0,m.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",height:"40px",p:1},children:(0,m.jsx)(c.Z,{children:"Shared with"})}),null==w?void 0:w.map((function(e){var t=(0,h.WI)(e);return(0,m.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1},children:[(0,m.jsxs)(o.Z,{sx:{width:"60%",display:"flex",alignItems:"center"},children:[(0,m.jsx)(p.Z,{name:t,imgSrc:"",size:"small"}),(0,m.jsxs)(o.Z,{sx:{ml:2},children:[(0,m.jsx)(c.Z,{variant:"text_sm",component:"div",children:t}),(0,m.jsx)(c.Z,{variant:"text_xs",component:"div",sx:{color:"grey.400"},children:e.email})]})]}),(0,m.jsx)(l.Z,{title:S?(0,m.jsxs)(m.Fragment,{children:["This project is owned by ",(0,h.Yf)(e),". ",(0,m.jsx)("br",{}),"Ask ",(0,h.Zo)(e)," to remove access."]}):"",children:(0,m.jsx)("span",{children:(0,m.jsx)(u.Z,{size:"small",sx:{ml:2},disabled:S,onClick:function(){return t=e.sharedUserId,x([{cognito_id:t,role:"full",action:"remove"}]),void y();var t},children:(0,m.jsx)(d.Z,{sx:{"&:hover":{color:"error.main"}},fontSize:"small"})})})})]})}))]})})}},24714:function(){},86836:function(e,t,n){"use strict";n.d(t,{C:function(){return p}});var r=n(1413),s=n(45987),a=n(80699),i=n(24873),o=(n(47313),n(62463)),c=n(18104),l=n(91466),u=n(46417),d=["history"];function p(e){var t=this,n=(e.history,(0,s.Z)(e,d));return(0,u.jsx)(a.Z,(0,r.Z)({title:(0,u.jsx)(i.Z,{sx:{color:"#FFFFFF",backgroundColor:"#333333",padding:"4px",margin:"4px",height:"auto",width:"350px",borderRadius:"3px"},children:(0,u.jsxs)(o.Z,{direction:"row",sx:{display:"flex",alignItems:"top"},children:[(0,u.jsx)(l.default,{variant:"text_xs",text:"To use this media commercially, you may need to obtain additional permissions from persons whose likeness, property, trademark, or logo is pictured. You may also be required to attribute your use of this content to the creator. For more information.",linkTextCaption:"Please see",linkText:"https://creativecommons.org/licenses/",textAlign:"left",sx:{color:"#FFFFFF",fontFamily:"Lato",textAlign:"left"},onLinkClick:function(e){window.open("https://creativecommons.org/licenses/","_blank","noreferrer")}}),(0,u.jsx)(c.Z,{edge:"start",color:"inherit",onClick:function(e){return t.props.close()},"aria-label":"close",sx:{mr:-1,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"}})]})}),placement:"right",arrow:!0},n))}},40523:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(1413),s=n(82937),a=n(62463),i=n(42669),o=n(605),c=n(24873),l=(n(51690),n(47313),n(46417));function u(e){var t=e.busy,n=e.onAddCardDetailsClick,u=e.style,d=void 0===u?{}:u;return(0,l.jsx)(s.ZP,{container:!0,sx:(0,r.Z)({maxWidth:"476px",height:"max-content",backgroundColor:"white",borderRadius:"10px"},d),children:(0,l.jsxs)(a.Z,{sx:{width:"100%",p:"3rem",gap:"1.5rem",justifyContent:"center"},children:[(0,l.jsx)(s.ZP,{item:!0,sx:{m:"0 auto"},children:(0,l.jsx)("img",{width:"156px",height:"54px",src:"/icons/logo-pictory-march2023.svg",alt:"Pictory",title:"Pictory"})}),(0,l.jsx)(i.Z,{variant:"text_2xl",sx:{display:"flex",justifyContent:"center",fontWeight:"700",color:"grey.500",textAlign:"center"},children:"Start your 14-day free trial"}),(0,l.jsx)(i.Z,{variant:"text_lg",sx:{color:"grey.900",display:"block",textAlign:"center",fontWeight:"500",lineHeight:"25px",mr:"-22px",ml:"-22px"},children:"You'll not be charged during or at the end of the trial period. Card details are needed for verification purposes only."}),(0,l.jsx)(o.Z,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",sx:{height:"40px",boxShadow:"none",":disabled":{backgroundColor:"primary.main"}},onClick:n,children:t?(0,l.jsx)(c.Z,{className:"dot-flashing"}):(0,l.jsx)(l.Fragment,{children:"Verify payment method"})}),(0,l.jsx)(i.Z,{variant:"text_sm",sx:{color:"grey.500",lineHeight:"20px",textAlign:"center",display:"none"},children:"You will not be charged during or at the end of this trial period. Card details needed for verification purposes only."})]})})}},74563:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(1413),s=n(29439),a=n(45987),i=n(82937),o=n(62463),c=n(42669),l=n(77449),u=n(605),d=n(34940),p=n(51690),h=n(16031),m=n.n(h),g=n(47313),f=(n(54034),n(46417)),v=["onLogin","onGoogleLogin","onSignup","onForgotPassword","onOpenLinkInNewTab","loginInProgress","loginStatus","loginErrors","existingLogin","existingLoginMessage","fetchingCountryCode","loginEmail"];function x(e){var t=e.onLogin,n=e.onGoogleLogin,h=e.onSignup,x=e.onForgotPassword,S=e.onOpenLinkInNewTab,y=e.loginInProgress,b=(e.loginStatus,e.loginErrors),j=void 0===b?[]:b,w=e.existingLogin,Z=void 0===w?"":w,k=e.existingLoginMessage,C=void 0===k?"":k,I=e.fetchingCountryCode,T=e.loginEmail,E=((0,a.Z)(e,v),(0,g.useState)({email:T||"",password:""})),A=(0,s.Z)(E,2),_=A[0],R=A[1],P=(0,g.useState)({}),N=(0,s.Z)(P,2),O=N[0],D=N[1],U=(0,g.useState)(j),L=(0,s.Z)(U,2),F=L[0],V=L[1],B=(0,g.useRef)({email:null,password:null});return(0,g.useEffect)((function(){V(j)}),[j]),(0,g.useEffect)((function(){R((0,r.Z)((0,r.Z)({},_),{},{email:T||""}))}),[T]),(0,f.jsx)(i.ZP,{sx:{backgroundImage:"url(".concat("https://pictory-static.pictorycontent.com/signupbg_1080p.jpg",")"),width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundSize:"100%",alignItems:"center",backgroundColor:"#15161c"},container:!0,children:(0,f.jsx)(i.ZP,{container:!0,sx:{maxWidth:"480px",height:"max-content",backgroundColor:"white",borderRadius:"10px"},children:(0,f.jsxs)(o.Z,{sx:{width:"100%",p:"2.5rem",pt:"40px"},children:[(0,f.jsx)(i.ZP,{item:!0,sx:{m:"0 auto"},children:(0,f.jsx)("img",{width:"156px",height:"54px",src:"/icons/logo-pictory-march2023.svg",alt:"Pictory",title:"Pictory"})}),(0,f.jsx)(c.Z,{variant:"text_2xl",color:"grey.900",sx:{display:"flex",justifyContent:"center",pt:"2rem",fontWeight:"700"},children:"Welcome Back"}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{children:[(0,f.jsxs)(o.Z,{sx:{width:"100%",mt:Z&&C||F&&F.length>0?"1rem":"2.5rem"},children:[Z&&C?(0,f.jsx)(o.Z,{direction:"column",sx:{width:"100%",borderRadius:"5px",backgroundColor:"error.lighter",p:"0.5rem",mb:"1rem"},children:C.map((function(e){return(0,f.jsx)(c.Z,{variant:"text_sm",sx:{color:"error.main",textAlign:"center"},children:e})}))}):(0,f.jsx)(f.Fragment,{}),F&&F.length>0?(0,f.jsxs)(o.Z,{direction:"column",sx:{width:"100%",borderRadius:"5px",backgroundColor:"error.lighter",p:"0.5rem",mb:"1rem"},children:[(0,f.jsx)(c.Z,{variant:"text_sm",sx:{color:"error.main",textAlign:"center"},children:F[0]}),F.length>1?F.slice(1).map((function(e,t){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.Z,{variant:"text_sm",sx:{color:"error.main",textAlign:"center"},children:[e," ",t<F.length-1?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}):(0,f.jsx)("br",{})]})})})):(0,f.jsx)(f.Fragment,{})]}):(0,f.jsx)(f.Fragment,{}),(0,f.jsx)(i.ZP,{container:!0,sx:{height:"2.5rem"},children:(0,f.jsx)(p.EmailTextField,{form:B,required:!0,value:_.email,onChange:function(e,t){R((0,r.Z)((0,r.Z)({},_),{},{email:e}));var n=(0,r.Z)({},O);t?n.email=t:delete n.email,V([]),D(n)}})}),(0,f.jsx)(i.ZP,{container:!0,sx:{width:"100%",mt:"2.0rem",height:"2.5rem"},children:(0,f.jsx)(p.PasswordTextField,{form:B,value:_.password,onChange:function(e,t){R((0,r.Z)((0,r.Z)({},_),{},{password:e}));var n=(0,r.Z)({},O);t?n.password=t:delete n.password,V([]),D(n)},validate:!1})})]}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.ZP,{container:!0,sx:{justifyContent:"right",mt:"10px"},direction:"row",children:(0,f.jsx)(l.Z,{variant:"text_sm",sx:{color:"grey.500",cursor:"pointer"},onClick:function(e){if(e.preventDefault&&e.preventDefault(),!O.email){if(B.current.email&&B.current.email.validate&&B.current.email.validate().error)return;_.email&&x&&x(_.email)}},children:"Forgot password?"})}),(0,f.jsx)(i.ZP,{container:!0,sx:{justifyContent:"center",mt:"2rem"},direction:"row",children:(0,f.jsx)(u.Z,{fullWidth:!0,type:"submit",variant:"contained",onClick:function(e){if(e.preventDefault&&e.preventDefault(),m().isEmpty(O)){var n=!1;for(var r in B.current)B.current[r].validate&&B.current[r].validate().error&&(n=!0);n||t&&t(_)}},disabled:y,color:"primary",sx:{height:"40px",boxShadow:"none",":disabled":{backgroundColor:"primary.main"}},children:y?(0,f.jsx)("div",{className:"dot-flashing"}):"Login"})})]})]}),(0,f.jsx)(d.Z,{sx:{display:"flex",alignItems:"self-start",marginTop:"2rem",color:"grey.400"},children:"OR"}),(0,f.jsxs)(u.Z,{variant:"outlined",fullWidth:!0,color:"grey",className:"signUpGoogle",onClick:function(e){e.preventDefault&&e.preventDefault(),n&&n()},disabled:y||I,sx:{"&:hover":{backgroundColor:"white"},height:"40px",mt:"2rem"},children:[(0,f.jsx)("img",{src:"images/googleIcon.png",alt:"Continue with Google",width:"20px"}),(0,f.jsx)(c.Z,{fontSize:"text_sm",color:"grey.600",sx:{marginLeft:"15px"},children:"Continue with Google"})]}),(0,f.jsx)(p.LinkText,{text:"By signing in you accept our",linkText:"Terms and Conditions",variant:"text_sm",sx:{color:"grey.500",lineHeight:"1rem",mt:".75rem"},onLinkClick:function(e){S&&S()}}),(0,f.jsx)(p.LinkText,{text:"New to Pictory?",linkText:"Sign up",variant:"text_sm",sx:{color:"grey.500",textAlign:"center",lineHeight:"1rem",mt:"1.5rem"},onLinkClick:function(e){e.preventDefault&&e.preventDefault(),h&&h()}})]})]})})})}},30005:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(1413),s=n(29439),a=n(45987),i=n(82937),o=n(62463),c=n(42669),l=n(605),u=n(34940),d=n(51690),p=n(16031),h=n.n(p),m=n(47313),g=n(91104),f=n(46417),v=["onLogin","onSignup","onGoogleLogin","onOpenLinkInNewTab","signupInProgress","signupStatus","countryCode","fetchingCountryCode","userAlreadyExist","emailNotAllowed"];function x(e){var t=e.onLogin,n=e.onSignup,p=e.onGoogleLogin,x=e.onOpenLinkInNewTab,S=e.signupInProgress,y=(e.signupStatus,e.countryCode),b=e.fetchingCountryCode,j=e.userAlreadyExist,w=void 0!==j&&j,Z=e.emailNotAllowed,k=void 0!==Z&&Z,C=((0,a.Z)(e,v),(0,m.useState)({name:"",last_name:"",email:"",password:""})),I=(0,s.Z)(C,2),T=I[0],E=I[1],A=(0,m.useState)({}),_=(0,s.Z)(A,2),R=_[0],P=_[1],N=(0,m.useState)(w),O=(0,s.Z)(N,2),D=O[0],U=O[1],L=(0,m.useState)(k),F=(0,s.Z)(L,2),V=F[0],B=F[1],M=(0,m.useRef)({email:null,password:null});return(0,m.useEffect)((function(){U(w)}),[w]),(0,m.useEffect)((function(){B(k)}),[k]),(0,f.jsx)(i.ZP,{sx:{backgroundImage:"url(".concat("https://pictory-static.pictorycontent.com/signupbg_1080p.jpg",")"),width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundSize:"100%",backgroundColor:"#15161c"},container:!0,children:(0,f.jsx)(i.ZP,{container:!0,sx:{maxWidth:"480px",height:"max-content",backgroundColor:"white",borderRadius:"10px"},children:(0,f.jsxs)(o.Z,{sx:{width:"100%",p:"2.5rem",pt:"40px"},children:[(0,f.jsx)(i.ZP,{item:!0,sx:{m:"0 auto"},children:(0,f.jsx)("img",{width:"156px",height:"54px",src:"/icons/logo-pictory-march2023.svg",alt:"Pictory",title:"Pictory"})}),(0,f.jsx)("div",{id:"hyros-email",style:{visibility:"hidden",position:"absolute"}}),(0,f.jsx)(c.Z,{variant:"text_2xl",color:"grey.900",sx:{display:"flex",justifyContent:"center",mt:"1.5rem",fontWeight:"700"},children:"Start your FREE trial"}),(0,f.jsx)(c.Z,{variant:"text-sm",color:"grey.500",sx:{display:"flex",justifyContent:"center",mt:"0.5rem"},children:!1!==b||y&&!(0,g.bv)(y)?(0,f.jsx)(f.Fragment,{}):"No credit card required"}),D?(0,f.jsx)(o.Z,{direction:"column",sx:{width:"100%",borderRadius:"5px",backgroundColor:"error.lighter",p:".5rem",mt:"0.5rem"},children:(0,f.jsxs)(c.Z,{variant:"text_sm",sx:{color:"error.main",textAlign:"center"},children:["There is already a Pictory account with this email address. Please"," ",(0,f.jsx)("a",{href:"javascript:;",style:{color:"blue"},onClick:function(){t&&t()},children:"Login"})," ","or register with another email address."]})}):(0,f.jsx)(f.Fragment,{}),V?(0,f.jsx)(o.Z,{direction:"column",sx:{width:"100%",borderRadius:"5px",backgroundColor:"error.lighter",p:".5rem",mt:"0.5rem"},children:(0,f.jsx)(c.Z,{variant:"text_sm",sx:{color:"error.main",textAlign:"center"},children:"The given email is not allowed. Please use valid non-disposable email for signup."})}):(0,f.jsx)(f.Fragment,{}),(0,f.jsxs)(l.Z,{disabled:b,variant:"outlined",fullWidth:!0,color:"grey",className:"signUpGoogle",onClick:function(e){e.preventDefault&&e.preventDefault(),p&&p()},sx:{"&:hover":{backgroundColor:"white"},height:"40px",mt:"2rem"},children:[(0,f.jsx)("img",{src:"images/googleIcon.png",alt:"Continue with Google",width:"20px"}),(0,f.jsx)(c.Z,{fontSize:"text_sm",color:"grey.600",sx:{marginLeft:"15px"},children:"Continue with Google"})]}),(0,f.jsx)(u.Z,{sx:{display:"flex",alignItems:"self-start",marginTop:"2rem",color:"grey.400"},children:"OR"}),(0,f.jsxs)(i.ZP,{container:!0,sx:{mt:"1.7rem",display:"grid",gridColumnGap:"1.5rem",gridTemplateColumns:"repeat(2, 1fr)"},children:[(0,f.jsx)(d.PTextField,{form:M,label:"First name",value:T.first_name,onChange:function(e,t){E((0,r.Z)((0,r.Z)({},T),{},{first_name:e}));var n=(0,r.Z)({},R);t?n.first_name=t:delete n.first_name,P(n)},required:!0,validation:{regex:/^[ a-zA-Z0-9\u00C0-\u00FF]+$/,message:"Only letters, numbers and spaces are allowed"}}),(0,f.jsx)(d.PTextField,{form:M,label:"Last name",value:T.last_name,onChange:function(e,t){E((0,r.Z)((0,r.Z)({},T),{},{last_name:e}));var n=(0,r.Z)({},R);t?n.last_name=t:delete n.last_name,P(n)},required:!0,validation:{regex:/^[ a-zA-Z0-9\u00C0-\u00FF]+$/,message:"Only letters, numbers and spaces are allowed"}})]}),(0,f.jsx)(i.ZP,{container:!0,sx:{mt:"1.5rem",height:"3rem"},children:(0,f.jsx)(d.EmailTextField,{form:M,required:!0,value:T.email,onChange:function(e,t){E((0,r.Z)((0,r.Z)({},T),{},{email:e}));var n=(0,r.Z)({},R);t?n.email=t:delete n.email,U(!1),P(n)}})}),(0,f.jsx)(i.ZP,{container:!0,sx:{mt:"1.5rem",height:"3rem"},children:(0,f.jsx)(d.PasswordTextField,{label:"Password",placeholder:"Password",form:M,value:T.password,onChange:function(e,t){E((0,r.Z)((0,r.Z)({},T),{},{password:e}));var n=(0,r.Z)({},R);t?n.password=t:delete n.password,P(n)},validate:!0,isSignUp:!0})}),(0,f.jsx)(i.ZP,{container:!0,sx:{mt:"2.0rem"},direction:"row",children:(0,f.jsx)(l.Z,{fullWidth:!0,variant:"contained",color:"primary",sx:{height:"40px",boxShadow:"none",":disabled":{backgroundColor:"primary.main"}},onClick:function(e){if(e.preventDefault&&e.preventDefault(),h().isEmpty(R)){var t=!1;for(var r in M.current)M.current[r].validate&&M.current[r].validate().error&&(t=!0);t||n&&n(T)}},disabled:S||b,children:S?(0,f.jsx)("div",{class:"dot-flashing"}):"Continue"})}),(0,f.jsx)(i.ZP,{container:!0,sx:{justifyContent:"center"},direction:"row",children:(0,f.jsx)(d.LinkText,{text:"By signing up you accept our",linkText:"Terms and Conditions",variant:"text_sm",sx:{color:"grey.500",lineHeight:"1rem",mt:".75rem"},onLinkClick:function(e){x&&x()}})}),(0,f.jsx)(i.ZP,{container:!0,sx:{justifyContent:"center",height:"40px"},direction:"row",children:(0,f.jsx)(d.LinkText,{text:"Already registered?",linkText:"Login",variant:"text_sm",sx:{color:"grey.500",textAlign:"center",lineHeight:"1rem",mt:"1.5rem"},onLinkClick:function(e){e.preventDefault&&e.preventDefault(),t&&t()}})})]})})})}},50471:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return on}});var r=n(1413),s=n(47313),a=n(74165),i=n(15861),o=n(93433),c=n(29439),l=n(45987),u=n(24873),d=n(82937),p=n(2983),h=n(52740),m=n(78896),g=n(91104),f=n(47439),v=n(51443),x=n.n(v),S=n(66823),y=n(91970),b=n(14108),j=n(46417),w=n(42669),Z=n(62949),k=["selectedWorkspace","username","userImage"],C=function(e){var t=e.selectedWorkspace,n=e.username,s=e.userImage,a=((0,l.Z)(e,k),function(e){var t=e||0;return"".concat(t,1===t?" member":" members")});return(0,g.VO)(n),t?(0,j.jsx)(j.Fragment,{children:function(e,t,i){var o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Free trial";return c="".concat(c," - "),(0,j.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(u.Z,{sx:{p:1},children:(0,j.jsx)(Z.Z,(0,r.Z)((0,r.Z)({name:t,size:"medium"},e===f.vn?{imgSrc:s}:{}),{},{backgroundColor:"primary.light",color:"white"}))}),(0,j.jsxs)(u.Z,{sx:{padding:"0px 0px 0 4px"},children:[(0,j.jsx)(w.Z,{variant:"text_base",component:"div",sx:{wordBreak:"break-all"},children:t}),e===f.vn&&(0,j.jsx)(w.Z,{variant:"text_xs",sx:{color:"grey.main"},component:"div",children:"".concat((0,g.Gz)(null===(o=(0,g.we)(n))||void 0===o?void 0:o.name)," - Personal workspace")}),e!==f.vn&&(0,j.jsx)(w.Z,{variant:"text_xs",sx:{color:"grey.main"},component:"div",children:c+a(i)})]})]})}(t.teamId,t.name,t.membersCount,t.plan_name)}):(0,j.jsx)(j.Fragment,{})},I=n(4942),T=n(92507),E=n(98967),A=n(2040),_=n(20063),R=n(4051),P=n(18104),N=n(605),O=n(33834),D=n(75368),U=n(79859),L=n(23938),F=n(11313),V=n(39801),B=n(25489),M=["AIVoiceoverList","onUpdate","username","showAlertNotification","onPlay"],G=function(e){var t=e.AIVoiceoverList,n=e.onUpdate,r=(e.username,e.showAlertNotification,e.onPlay),a=((0,l.Z)(e,M),(0,s.useState)(t)),i=(0,c.Z)(a,2),u=i[0],d=i[1],p=(0,s.useState)(null),h=(0,c.Z)(p,2),m=(h[0],h[1],(0,s.useState)("")),g=(0,c.Z)(m,2),f=(g[0],g[1],(0,s.useRef)(null));return(0,V.default)(u,f),(0,s.useEffect)((function(){d(t)}),[t]),(0,j.jsx)(B.Z,{children:null==u?void 0:u.map((function(e,t){return(0,j.jsx)(F.Z,{AIVoiceover:e,itemRef:t==u.length-1?f:null,onDelete:function(){return function(e){var t=(0,o.Z)(u),r=t.findIndex((function(t){return t.trackId===e}));r>-1&&t.splice(r,1),d(t),n("AIVoiceoverList",t)}(e.trackId)},onPlay:r},e.trackId)}))})},W=n(8586),z=n(65804),J=n(22370),H=n(1243),K=n(45610),q=n(87074),Y=["bgMusicList","onUpdate","username","showAlertNotification","addMusicToUploadedAudioList","onPlay","history"],Q=function(e){var t=e.bgMusicList,n=e.onUpdate,d=e.username,p=e.showAlertNotification,h=e.addMusicToUploadedAudioList,m=e.onPlay,v=e.history,S=((0,l.Z)(e,Y),(0,s.useState)(t)),y=(0,c.Z)(S,2),b=y[0],w=y[1],Z=(0,s.useState)(!1),k=(0,c.Z)(Z,2),C=k[0],I=k[1],T=(0,s.useRef)(null);(0,V.default)(b,T),(0,s.useEffect)((function(){w(t)}),[t]);var E=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,s){var i,c,l,u,h,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,o.Z)(b),c=i.findIndex((function(e){return e.url==t})),s)for(l=0;l<i.length;l++)i[l].isDefault&&(i[l]=(0,r.Z)((0,r.Z)({},i[l]),{},{isDefault:void 0}));return u=(0,r.Z)((0,r.Z)({},i[c]),{},{isDefault:s}),i[c]=u,w(i),e.next=8,n("bgMusicList",i);case 8:"success"==(null==(h=e.sent)?void 0:h.status)?x().getInstance().logEvent("set-as-default",{"brand-name":null===(m=h.brand)||void 0===m?void 0:m.name,asset:u,"asset-type":"Music","workspace-name":(0,g.CV)(d)}):p("Music file status could not be changed. Please contact support");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,j.jsxs)(B.Z,{children:[(0,j.jsx)(u.Z,{className:"uploaded-brand-music position-relative pointer border-0",sx:{maxWidth:b&&b.length>0?"100px":"unset"},children:(0,j.jsx)(z.p,{defaultUrl:"",fileName:"",uploadText:"Upload",validationMsgs:{imageUploadMaxSize:"Audio - MP3, WAV, and WEBA"},allowedFileTypes:f.tP.audio,allowedFileSize:(0,g.eF)(d),size:"small",onUpload:function(e){var t=e.url,r=(e.contentType,e.name),s=e.id,a=e.duration,i=(0,o.Z)(b||[]),c={url:t,fileName:r,audio_id:s,source:"music",duration:a,isDefault:0==i.length||void 0};i.push(c),w(i),n("bgMusicList",i);var l={id:s,trackId:s,name:r,type:"music",url:t,category:"upload",cognito_id:d,date:new Date,duration:a,teamId:(0,g.E3)(),context:"branding"};h({body:l})},filePath:d+"/branding",onClickUpload:function(e){(0,g.dv)(d,f.R2.customMusicTrack)||(e.preventDefault(),e.stopPropagation(),I(!0))}})}),C&&(0,j.jsx)(H.default,{open:C,headerComponent:(0,j.jsx)(P.Z,{sx:{position:"absolute",right:"10px",top:"10px"},onClick:function(){return I(!1)},children:(0,j.jsx)(W.Z,{})}),title:"Upgrade to Professional!",message:(0,j.jsxs)(j.Fragment,{children:["Apply custom background music ",(0,j.jsx)("br",{}),"with a Professional plan"]}),primaryButtonLabel:"See plans",primaryButtonOnClick:function(){return v.push(q.Z.BaseURL+K.Z.plansList)}}),null==b?void 0:b.map((function(e,t){return(0,j.jsx)(J.Z,{musicTrack:e,itemRef:t==b.length-1?T:null,onDelete:function(){return function(e){var t=(0,o.Z)(b),r=t.findIndex((function(t){return t.url===e}));r>-1&&t.splice(r,1),w(t),n("bgMusicList",t)}(e.url)},onPlay:m,setDefault:E},e.url)}))]})},X=n(12948),$=n(69355),ee=n(5540),te=n(44906),ne=n(47536),re=n(38706),se=["open","onClose","anchorEl","color","onSelectColor"],ae=function(e){var t=e.open,n=e.onClose,r=e.anchorEl,a=e.color,i=e.onSelectColor,o=((0,l.Z)(e,se),(0,s.useCallback)((function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),n(e,""))}),[a]));return(0,s.useEffect)((function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[o]),(0,j.jsxs)(te.ZP,{open:t,onClose:n,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,j.jsx)(re.gW,{color:a,onChange:i}),(0,j.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:"10px",paddingRight:"10px"},children:[(0,j.jsx)(re.ZE,{color:a,onChange:i,className:"color-picker-input"}),(0,j.jsx)(ne.Z,{onSelectColor:function(e){i(e)}})]})]})},ie=["colorList","onUpdate","username","showAlertNotification","brandPreviewValues","setBrandPreviewValues"],oe=function(e){var t=e.colorList,n=e.onUpdate,d=e.username,p=e.showAlertNotification,h=e.brandPreviewValues,m=e.setBrandPreviewValues,f=((0,l.Z)(e,ie),(0,s.useState)(!1)),v=(0,c.Z)(f,2),S=v[0],y=v[1],b=(0,s.useState)(),Z=(0,c.Z)(b,2),k=Z[0],C=Z[1],I=(0,s.useState)(),T=(0,c.Z)(I,2),E=T[0],A=T[1],_=(0,s.useState)(-1),R=(0,c.Z)(_,2),P=R[0],N=R[1],O=(0,s.useRef)(null);(0,V.default)(t,O),(0,s.useEffect)((function(){var e=O.current;setTimeout((function(){null==e||e.scrollIntoView(!1)}),500)}),[]);var D=function(e,t,n){C(e),A(n.currentTarget),N(t),y(!0)},U=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s,i){var c,l,u,f,v,S,y,b,j,w;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(0,o.Z)(t),l=c.findIndex((function(e){return e.textBackgroundColor==s})),i)for(u=0;u<c.length;u++)c[u].isDefault&&(c[u]=(0,r.Z)((0,r.Z)({},c[u]),{},{isDefault:void 0}));return f=(0,r.Z)((0,r.Z)({},c[l]),{},{isDefault:i}),null!=(v=null==t?void 0:t.find((function(e){return e.isDefault})))&&v.textBackgroundColor&&(S=(0,g.l)(v.textBackgroundColor),y=(0,g.l)(c[l].textBackgroundColor),(b=(0,g.fP)({rgb:{r:null==y?void 0:y.r,g:null==y?void 0:y.g,b:null==y?void 0:y.b,a:null==S?void 0:S.a}}))&&(f.textBackgroundColor=b)),c[l]=f,m((0,r.Z)((0,r.Z)({},h),{},{colorList:c})),e.next=10,n("colorList",c);case 10:"success"==(null==(j=e.sent)?void 0:j.status)?x().getInstance().logEvent("set-as-default",{"brand-name":null===(w=j.brand)||void 0===w?void 0:w.name,asset:f,"asset-type":"Color","workspace-name":(0,g.CV)(d)}):p({message:"Color status could not be changed. Please contact support",severity:"error"});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,j.jsxs)(B.Z,{children:[(0,j.jsxs)(u.Z,{className:"uploaded-brand-logo position-relative add-more-logo-colors pointer",onClick:function(e){return D("",-1,e)},sx:{maxWidth:t&&t.length>0?"100px":"unset",display:"flex",flexDirection:"column"},children:[(0,j.jsx)(X.Z,{sx:{color:"grey.400"}}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.400"},children:"Add color"})]}),null==t?void 0:t.map((function(e,r){return(0,j.jsx)(ee.Z,{colorData:e,itemRef:O.current?r==t.length-1?O:null:e.isDefault?O:null,openColorPicker:function(t){return D(e.textBackgroundColor,r,t)},onDelete:function(){return function(e){var r=(0,o.Z)(t),s=r.findIndex((function(t){return t.textBackgroundColor===e}));s>-1&&r.splice(s,1),n("colorList",r)}(e.textBackgroundColor)},setDefault:U,onClick:function(){U(e.textBackgroundColor,!0)}},e.textBackgroundColor)})),S&&(0,j.jsx)(ae,{open:S,onClose:function(e,s){if(N(-1),y(!1),"escapeKeyDown"!=s&&k){var a=(0,o.Z)(t||[]);if(!(a.findIndex((function(e){return e.textBackgroundColor===k}))>-1)){if(a[P])a[P]=(0,r.Z)((0,r.Z)({},a[P]),{},{textBackgroundColor:k});else{var i=0==a.length||void 0;a.push({textBackgroundColor:k,keywordColor:(0,g.rN)(k)||"",fontColor:"dark"==(0,g.nt)(k)?"rgba(255,255,255,1)":"rgba(0,0,0,1)",isDefault:i})}n("colorList",a)}}},anchorEl:E,color:(0,$._0)(k)||"#000000",onSelectColor:function(e){C((0,g.a7)(e,1))}})]})},ce=n(372),le=n(33187),ue=n(6736),de=n(18765),pe=n(98165),he=n.p+"static/media/default-preview-bg.3f4b742a9129d50ec939.png",me=n(30715),ge=n(93012),fe=n(8690),ve=["selectedLogo","onUpdateLogoData"],xe=function(e){var t=e.selectedLogo,n=e.onUpdateLogoData;return(0,l.Z)(e,ve),(0,j.jsx)(u.Z,{sx:{mt:2,border:"1px solid",borderColor:"grey.100",borderRadius:"8px"},children:(0,j.jsxs)(u.Z,{className:"selectable-item",sx:{display:"flex",justifyContent:"end",alignItems:"center",padding:"4px","& .MuiIconButton-root":{borderRadius:"4px"}},children:[(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(fe.O,{}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover small-width",children:(0,j.jsx)(me.lf,{selectedValue:null==t?void 0:t.preset,classNames:"icon-popup aspect-ratio-1",onChangeFn:function(e){return s=e.target.id,a=(0,r.Z)((0,r.Z)({},t),{},{preset:s,leftCoordinate:void 0,topCoordinate:void 0}),void n(a);var s,a},isIcon:void 0})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",sx:{padding:"10px !important"},children:[(0,j.jsx)(O.yG,{}),(0,j.jsxs)(u.Z,{className:"show-on-hover panel-popover",children:[(0,j.jsx)(w.Z,{variant:"caption",sx:{ml:2,mt:2,width:"190px"},children:"Opacity"}),(0,j.jsx)(ge.default,{value:100*((null==t?void 0:t.opacity)||1),valueLabelDisplay:"auto",valueLabelFormat:function(e){return Math.round(e)+"%"},sx:{width:"80%",ml:2,mb:2,"& .MuiSlider-thumb":{height:"15px",width:"15px"}},min:5,max:100,onChange:function(e,s){if(t){var a=(0,r.Z)((0,r.Z)({},t),{},{opacity:s/100});n(a,!0)}},onChangeCommitted:function(e,s){if(t){var a=(0,r.Z)((0,r.Z)({},t),{},{opacity:s/100});n(a)}}})]})]})]})})},Se=n(3249),ye=n(43111),be=n(74231),je=n(76384),we=n(31170),Ze=n(62463),ke=n(21569),Ce=n(26018),Ie=n(27811),Te=n(94728),Ee=n(61358),Ae=n(32599),_e=["colorStringList","onUpdate","onChangeColor","brandDataForPreview","setBrandPreviewValues"],Re=function(e){var t,n,s,a=e.colorStringList,i=e.onUpdate,c=e.onChangeColor,d=e.brandDataForPreview,p=e.setBrandPreviewValues,h=((0,l.Z)(e,_e),d.fontSizeList),m=d.colorList,v=d.textFormatData,x=v.decoration,S=v.case,y=v.preset,b=v.paragraphWidth,Z=v.fullWidth,k=v.textAlign,C=null==m?void 0:m.find((function(e){return e.isDefault})),I=null==h||null===(t=h[0])||void 0===t?void 0:t.fontSize,T=(null==C?void 0:C.keywordColor)&&(0,g.FT)(null==C?void 0:C.keywordColor)>240?{stroke:"rgba(0,0,0,0.1)"}:{},E=(0,o.Z)(a);return null==E||E.push((0,$._0)((0,g.rN)(null==C?void 0:C.textBackgroundColor))),(0,j.jsx)(u.Z,{sx:{mt:2,border:"1px solid",borderColor:"grey.100",borderRadius:"8px"},children:(0,j.jsxs)(u.Z,{className:"selectable-item",sx:{display:"flex",justifyContent:"end",alignItems:"center",padding:"4px","& .MuiIconButton-root":{borderRadius:"4px"}},children:[(0,j.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",padding:"0 4px"},children:[(0,j.jsx)(u.Z,{sx:{borderLeft:"1px solid",borderColor:"grey.100",height:"24px",mr:"4px"}}),(0,j.jsx)(ke.default,{sx:{backgroundColor:"white",width:"70px",height:"40px",borderRadius:"8px",pl:0},value:I||f.n5,onChange:function(e){e>0&&(p((0,r.Z)((0,r.Z)({},d),{},{fontSizeList:[{fontSize:e.toString()}]})),i("fontSizeList",[{fontSize:e.toString()}]))},options:f.z6.filter((function(e){return!!e.value})).map((function(e){return e.value})),minValue:8,maxValue:150}),(0,j.jsx)(u.Z,{sx:{borderLeft:"1px solid",borderColor:"grey.100",height:"24px",ml:"4px"}})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(je.Z,{}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover",children:(0,j.jsx)(me.r,{selectedValue:x,onChangeFn:function(e){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{decoration:e}))},size:"small"})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(Ee.R,{}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover",children:(0,j.jsx)(me.A2,{selectedValue:S,onChangeFn:function(e){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{case:e}))},size:"small"})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",sx:{width:"auto"},children:["left"===k?(0,j.jsx)(ye.Z,{}):"right"===k?(0,j.jsx)(be.Z,{}):(0,j.jsx)(Se.Z,{}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover",children:(0,j.jsxs)(Ze.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1.5,sx:{padding:1},children:[(0,j.jsx)(P.Z,{sx:{width:"30px",height:"30px",color:"left"===k?"primary.main":""},size:"small",onClick:function(){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{textAlign:"left"}))},children:(0,j.jsx)(ye.Z,{})}),(0,j.jsx)(P.Z,{sx:{width:"30px",height:"30px",color:"center"===k?"primary.main":""},size:"small",onClick:function(){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{textAlign:"center"}))},children:(0,j.jsx)(Se.Z,{})}),(0,j.jsx)(P.Z,{sx:{width:"30px",height:"30px",color:"right"===k?"primary.main":""},size:"small",onClick:function(){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{textAlign:"right"}))},children:(0,j.jsx)(be.Z,{})})]})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(O.QM,{fillColor:null==C?void 0:C.fontColor}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover color-picker-container",sx:{width:"150px"},children:(0,j.jsx)(Te.if,{onChangeComplete:function(e){c((0,r.Z)((0,r.Z)({},C),{},{fontColor:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}))},colors:a,triangle:"hide"})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(O.yG,{}),(0,j.jsxs)(u.Z,{className:"show-on-hover panel-popover color-picker-container",sx:{top:"32px !important",width:"190px"},children:[(0,j.jsx)(w.Z,{variant:"caption",sx:{ml:2,mt:2},children:"Background color opacity"}),(0,j.jsx)(ge.default,{value:100*((null===(n=(0,g.l)(null==C?void 0:C.textBackgroundColor))||void 0===n?void 0:n.a)||1),valueLabelDisplay:"auto",valueLabelFormat:function(e){return Math.round(e)+"%"},sx:{width:"80%",ml:2,mb:2,"& .MuiSlider-thumb":{height:"15px",width:"15px"}},min:0,max:100,onChange:function(e,t){if(C){var n=(0,g.l)(C.textBackgroundColor);c((0,r.Z)((0,r.Z)({},C),{},{textBackgroundColor:"rgba(".concat(null==n?void 0:n.r,",").concat(null==n?void 0:n.g,",").concat(null==n?void 0:n.b,",").concat(t/100,")")}),!0)}},onChangeCommitted:function(e,t){if(C){var n=(0,g.l)(C.textBackgroundColor);c((0,r.Z)((0,r.Z)({},C),{},{textBackgroundColor:"rgba(".concat(null==n?void 0:n.r,",").concat(null==n?void 0:n.g,",").concat(null==n?void 0:n.b,",").concat(t/100,")")}))}}})]})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(Ae.a,{sx:(0,r.Z)({color:null==C?void 0:C.keywordColor},T)}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover color-picker-container",sx:{width:"190px"},children:(0,j.jsx)(Te.if,{onChangeComplete:function(e,t){c((0,r.Z)((0,r.Z)({},C),{},{keywordColor:"rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")}))},colors:E,triangle:"hide"})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[(0,j.jsx)(we.Z,{}),(0,j.jsx)(u.Z,{className:"show-on-hover panel-popover",children:(0,j.jsxs)(u.Z,{sx:{px:2,py:2,width:200},children:[(0,j.jsx)(w.Z,{variant:"captionB",sx:{color:"grey.500",mb:1},component:"div",children:"Text width"}),(0,j.jsx)(Ze.Z,{sx:{width:"100%"},children:(0,j.jsx)(ge.default,{defaultValue:parseFloat(null===(s=b+"%")||void 0===s?void 0:s.replace("%","").trim())||90,valueLabelDisplay:"auto",valueLabelFormat:function(e){return"".concat(e,"%")},min:30,max:90,onChangeCommitted:function(e,t){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{paragraphWidth:t+"%"}))},sx:{width:"100%","& .MuiSlider-thumb":{height:"15px",width:"15px"}},disabled:Z})}),(0,j.jsx)(Ce.S,{}),(0,j.jsx)(u.Z,{sx:{mt:2.5},children:(0,j.jsx)(Ie.h,{label:"Full width",fullWidth:!0,checked:Z,onChange:function(e){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{paragraphWidth:"100%",fullWidth:e}))},border:!1})})]})})]}),(0,j.jsxs)(P.Z,{className:"on-hover-event position-relative",children:[Z?(0,j.jsx)(O.Am,{}):(0,j.jsx)(fe.O,{}),(0,j.jsxs)(u.Z,{className:"show-on-hover panel-popover small-width",children:[!Z&&(0,j.jsx)(me.lf,{selectedValue:y,classNames:"icon-popup aspect-ratio-1",onChangeFn:function(e){var t;i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{preset:e.target.id,textAlign:null===(t=e.target.id)||void 0===t?void 0:t.split("-")[1]}))},isIcon:void 0}),Z&&(0,j.jsx)(me.DV,{selectedValue:["full-width-top","full-width-center","full-width-bottom"].find((function(e){return e===y})),classNames:"aspect-ratio-1",onChangeFn:function(e){i("textFormatData",(0,r.Z)((0,r.Z)({},v),{},{preset:e.target.id,textAlign:"center"}))},isIcon:void 0})]})]})]})})},Pe=n(74137),Ne=["children","id","sx","inEditMode","isFocused","isFullWidth","className","snappableElementIds","width","leftCoordinate","topCoordinate","preset","rotation","frameSize","isVisualType","savePosition","saveRotation","onTextWidthChange","onScaleText","setEditorFocus","editorBoxPopover","disableRotate","refresh","isDraggable","isScalable"],Oe=[45,90,135,180,225,270,315,360],De=["position-preset","full-width-bottom","full-width-center","full-width-top"],Ue=.9,Le=[],Fe=[],Ve=function(e){var t,n,a=e.children,i=e.id,o=e.sx,d=e.inEditMode,p=e.isFocused,h=e.isFullWidth,m=e.className,g=e.snappableElementIds,f=e.width,v=e.leftCoordinate,x=e.topCoordinate,S=e.preset,y=e.rotation,b=e.frameSize,w=e.isVisualType,Z=e.savePosition,k=e.saveRotation,C=e.onTextWidthChange,I=e.onScaleText,T=(e.setEditorFocus,e.editorBoxPopover),E=e.disableRotate,A=e.refresh,_=e.isDraggable,R=e.isScalable,P=void 0!==R&&R,N=((0,l.Z)(e,Ne),(0,s.useRef)(null)),O=(0,s.useRef)(null),D=(t=b,n=(0,s.useRef)(),(0,s.useEffect)((function(){n.current=t}),[t]),n.current),U=(0,s.useState)(1),L=(0,c.Z)(U,2),F=L[0],V=L[1],B=(0,s.useState)(w),M=(0,c.Z)(B,2),G=M[0],W=M[1];(0,s.useEffect)((function(){J(S,!1)})),(0,s.useEffect)((function(){if(f&&null!=N&&N.current&&(N.current.style.width=parseFloat(f)*b.width/100+"px"),S)J(S,!0);else{var e="translate("+parseFloat(v)*b.width/100+"px,"+parseFloat(x)*b.height/100+"px)";y&&(e+=" rotate("+y+"deg)"),N.current.style.transform=e}}),[v,x,f]),(0,s.useEffect)((function(){V(F+1)}),[A]),(0,s.useEffect)((function(){if(D&&(D.height!==b.height||D.width!==b.width)){var e=b.width/D.width;if(S)N.current.classList.add("position-preset"),N.current.style.width=parseFloat(N.current.style.width)*e+"px";else{var t=z(),n=t.x,r=t.y,s=t.rotate;n*=e,N.current.style.transform="translate("+n+"px,"+r+"px) rotate("+s+"deg)",N.current.style.width=parseFloat(N.current.style.width)*e+"px",V(F+1)}}}),[b,S]),(0,s.useEffect)((function(){if(f&&null!=O&&O.current){var e=parseFloat(f)*b.width/100;O.current.request("resizable",{offsetWidth:e},!0)}}),[f]);var z=function(){var e=N.current.style.transform,t=e.indexOf("translate(")+10,n=e.indexOf("px,",t),r=parseFloat(e.substring(t,n)),s=n+3,a=e.indexOf(")",n),i=e.indexOf("rotate(",a),o=e.indexOf("deg)",i),c=0;return i>-1&&(i+=7,c=parseFloat(e.substring(i,o))),{x:r,y:parseFloat(e.substring(s,a)),rotate:c}},J=function(e,t){if(e&&null!=N&&N.current&&null!=O&&O.current){var n=function(){var e=N.current.getBoundingClientRect(),t=N.current.parentElement.getBoundingClientRect(),n=e.x-t.x,r=e.y-t.y,s="translate("+n.toFixed(2)+"px,"+r.toFixed(2)+"px)";return y&&(s+=" rotate("+y+"deg)"),{x:n,y:r,transform:s}};if(_)for(var r=0;r<De.length;r++){var s=De[r];if(N.current.classList.contains(s)){var a=n(),i=(a.x,a.y,a.transform);N.current.classList.remove(s),N.current.style.transform=i,V(F+1)}}}},H=function(e){(e=parseInt(e%360))<0&&(e=360+e);for(var t=0;t<Oe.length;t++){var n=Oe[t];Math.abs(e-n)<5&&(e=n),360===e&&(e=0)}return e};Le=[4*b.width/100,b.width/2,96*b.width/100],Fe=[7*b.height/100,b.height/2,93*b.height/100];var K=h?{left:0,top:0,right:0,bottom:0,position:"css"}:null!=N&&N.current?{left:-N.current.clientWidth*Ue,top:-N.current.clientHeight*Ue,right:-N.current.clientWidth*Ue,bottom:-N.current.clientHeight*Ue,position:"css"}:{},q={name:"editorBoxPopoverable",props:[],events:[],render:function(e,t){return e.getRect(),T}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Z,{className:["sentences drag-and-resize-box",w?"visual-type":"",p?"editor-box-selected":"",d?"edit-mode":"",m].join(" "),ref:N,id:i,sx:(0,r.Z)({cursor:_?"move":"pointer"},o),children:a}),(0,j.jsx)(Pe.ZP,{ref:O,target:N,ables:[q],draggable:_,bounds:K,throttleDrag:1,edgeDraggable:!1,startDragRotate:0,throttleDragRotate:0,onDragStart:function(e){N.current.classList.add("dragging")},onDrag:function(e){e.target.style.transform=e.transform},onDragEnd:function(e){var t;if(N.current.classList.remove("dragging"),e.isDrag&&e.inputEvent&&null!==(t=e.lastEvent)&&void 0!==t&&t.beforeTranslate){var n=(0,c.Z)(e.lastEvent.beforeTranslate,2),r=n[0],s=n[1],a=r/b.width*100,i=s/b.height*100;isNaN(a)&&(a=0),isNaN(i)&&(i=0);var o=a.toFixed(2)+"%",l=i.toFixed(2)+"%",u=function(e,t){e=parseFloat(e),t=parseFloat(t);var n=100*N.current.clientHeight/b.height,r=100*N.current.clientWidth/b.width,s="",a="";if(4==Math.round(e)?s="left":96==Math.round(e+r)?s="right":0==Math.round(50-r/2-e)&&(s="center"),7==Math.round(t)?a="top":93==Math.round(t+n)?a="bottom":0==Math.round(50-n/2-t)&&(a="center"),a&&s)return a+"-"+s}(o,l);u&&(o=void 0,l=void 0),Z(u,o,l)}},triggerAblesSimultaneously:!0,resizable:w?{edge:[],renderDirections:["nw","ne","se","sw"]}:{edge:[],renderDirections:["e","w"]},keepRatio:G,throttleResize:1,onBeforeResize:function(e){w||W(!1)},onResize:function(e){var t;e.target.style.width="".concat(e.width,"px"),e.target.style.transform=null===(t=e.drag)||void 0===t?void 0:t.transform},onResizeEnd:function(e){var t,n,r;if(e.inputEvent&&null!==(t=e.lastEvent)&&void 0!==t&&null!==(n=t.drag)&&void 0!==n&&n.beforeTranslate&&null!==(r=e.lastEvent)&&void 0!==r&&r.boundingWidth){var s=(0,c.Z)(e.lastEvent.drag.beforeTranslate,2),a=s[0],i=s[1],o=e.lastEvent.boundingWidth,l=o/b.width*100,u=w?5:30;l<u&&(o=u),l>100&&(o=100),l=l.toFixed(2);var d=a/b.width*100,p=i/b.height*100;C(e,l,d,p,void 0)}},scalable:!(w||!P)&&{edge:[],renderDirections:["nw","ne","se","sw"]},onBeforeScale:function(e){var t=(0,c.Z)(e.moveable.controlGesto.data.scalable.direction,2),n=t[0],r=t[1];[1,-1].includes(n)&&[1,-1].includes(r)?W(!0):W(!1)},onScale:function(e){var t;e.target.style.transform=null===(t=e.drag)||void 0===t?void 0:t.transform},onScaleEnd:function(e){var t=e.lastEvent.scale[0],n=e.lastEvent.scale[1];e.target.style.width="".concat(e.lastEvent.offsetWidth*t,"px");var r=(0,c.Z)(e.lastEvent.drag.beforeTranslate,2),s=r[0],a=r[1];s+=e.lastEvent.offsetWidth*(1-t)/2,a+=e.lastEvent.offsetHeight*(1-n)/2,e.target.style.transform="translate("+s+"px,"+a+"px) rotate("+(y||0)+"deg) ";var i=parseFloat(e.target.querySelector("#editor-box").style.fontSize)*t;e.target.querySelector("#editor-box").style.fontSize=i;var o=100*s/b.width,l=100*a/b.height,u=o.toFixed(2)+"%",d=l.toFixed(2)+"%";I(t,u,d)},snappable:!0,elementSnapDirections:{top:!0,left:!0,bottom:!0,right:!0,center:!0,middle:!0},elementGuidelines:g,snapDirections:{top:!0,left:!0,bottom:!0,right:!0,center:!0,middle:!0},snapThreshold:5,isDisplaySnapDigit:!1,isDisplayInnerSnapDigit:!1,verticalGuidelines:Le,horizontalGuidelines:Fe,rotatable:!E&&p,onRotate:function(e){var t=H(e.rotation),n=(0,c.Z)(e.drag.beforeTranslate,2),r=n[0],s=n[1];e.target.style.transform="translate("+r+"px,"+s+"px) rotate("+t+"deg)"},onRotateEnd:function(e){var t;if(e.inputEvent&&null!==(t=e.lastEvent)&&void 0!==t&&t.beforeRotation){var n=H(e.lastEvent.beforeRotation);k(n)}},props:{className:"hide-origin-circle",editorBoxPopoverable:!0},checkInput:d},F)]})},Be=["selectedLogo","selectedColor","_brandPreviewValues","setBrandPreviewValues","onUpdate","onUndo","onRedo","undoRedoIndex","undoRedoStackLength"],Me={width:530,height:298.125},Ge=function(e){var t,n,a=e.selectedLogo,i=e.selectedColor,d=e._brandPreviewValues,p=e.setBrandPreviewValues,h=e.onUpdate,m=e.onUndo,f=e.onRedo,v=e.undoRedoIndex,x=e.undoRedoStackLength,S=((0,l.Z)(e,Be),(0,s.useState)(null)),y=(0,c.Z)(S,2),b=y[0],Z=y[1],k=(0,s.useState)(""),C=(0,c.Z)(k,2),I=C[0],T=C[1],E=(0,s.useState)(!1),A=(0,c.Z)(E,2),_=A[0],R=A[1],N=(0,s.useRef)(null),O=(0,s.useRef)(null),D=d.colorList,U=d.fontList,L=d.fontSizeList,F=d.logoList,V=d.textFormatData,B=null==U||null===(t=U[0])||void 0===t?void 0:t.fontName,M=null==L||null===(n=L[0])||void 0===n?void 0:n.fontSize,G=V.decoration,W=V.case,z=V.textAlign,J=V.preset,H=V.paragraphWidth,K=V.fullWidth;(0,s.useEffect)((function(){a?((null==a?void 0:a.url)!==(null==b?void 0:b.url)&&(N.current=!0),Z(a),T("logo")):(T(""),Z(null))}),[a]);var q,Y,Q=function(e,t){if(Z(e),!t){var n=(0,o.Z)(F||[]),r=n.findIndex((function(t){return t.url==e.url}));n[r]&&(n[r]=e,h("logoList",n))}},X=function(){var e=" sentences position-preset selectable-item";return J||K||(e+=" bottom-center"),!J||K||J.includes("full")||(e+=" ".concat(J)),J&&!K&&J.includes("full")&&(e+=" ".concat(J.split("-")[2])+"-center"),K&&J&&(null!=J&&J.includes("top")&&(e+=" full-width-style full-width-top "),null!=J&&J.includes("center")&&(e+=" full-width-style full-width-center "),null!=J&&J.includes("bottom")&&(e+=" full-width-style full-width-bottom ")),e},ee=function(e){return(0,j.jsx)(de.Z,{onClickAway:function(e){var t,n,r,s;null!==(t=e.target)&&void 0!==t&&null!==(n=t.closest)&&void 0!==n&&n.call(t,".selectable-item")||null!==(r=e.target)&&void 0!==r&&null!==(s=r.closest)&&void 0!==s&&s.call(r,".MuiAutocomplete-popper")||T("")},children:e})},te=(null==D?void 0:D.map((function(e){return(0,$._0)(e.textBackgroundColor)})))||[];return te.push("#z","#000000","#ffffff"),(0,j.jsxs)(u.Z,{sx:{width:"530px"},children:[(0,j.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",gap:"10px"},children:[(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",className:"mt-3",children:"Brand designer"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Select logo or caption (text) to make changes."})]}),(0,j.jsx)(u.Z,{className:"flex-centered",children:(0,j.jsxs)(u.Z,{className:"undo-redo-container",children:[(0,j.jsx)(P.Z,{sx:{borderRadius:"0"},onClick:m,disabled:v<=0,children:(0,j.jsx)(le.Z,{})}),(0,j.jsx)(P.Z,{sx:{borderRadius:"0"},onClick:f,disabled:v>=x-1,children:(0,j.jsx)(ue.Z,{})})]})})]}),(0,j.jsxs)(u.Z,{className:"animation-container transformable-container bg-transparent",sx:{position:"relative",aspectRatio:"16/9",boxShadow:"none !important"},children:[(0,j.jsx)("img",{src:he}),function(){if(i){var e=1.33*parseInt(M||"24")*530/1280+"px";return ee((0,j.jsx)(u.Z,{ref:O,id:"drag-and-resize-box",sx:{display:"flex",width:"".concat(K?"100%":"number"==typeof H?H+"%":K||"string"!=typeof H?void 0:parseFloat(H.replace("%",""))>90?"90%":H," !important"),backgroundColor:"".concat(K?null==i?void 0:i.textBackgroundColor:"transparent"),padding:"".concat(K?"8px 16px":0)},onClick:function(){T("textBox")},className:"".concat(X()),children:(0,j.jsx)(u.Z,{component:"p",sx:{fontSize:e,fontFamily:pe.ZP.getFrontFontName(B),textAlign:"".concat(z," !important"),width:"100% !important",border:"".concat("textBox"===I&&!0!==K&&"1px #852cff dotted"),margin:0,lineHeight:1.5},children:(0,j.jsxs)(u.Z,{component:"span",sx:{color:null==i?void 0:i.fontColor,backgroundColor:K?"transparent":null==i?void 0:i.textBackgroundColor,padding:"0.1em 0.25em"},className:"".concat((null==G?void 0:G.reduce((function(e,t){return e+t+" "}),""))+(W||"")),children:["Your brand's",(0,j.jsx)("strong",{style:{color:null==i?void 0:i.keywordColor},children:" default "})," text style"]})})}))}}(),b&&function(e,t,n,s,a,i){var o=(0,r.Z)({},n);o.paragraphWidth||(o.paragraphWidth="10%"),o.leftCoordinate||o.preset||(o.preset=s);var c=I===t,l=!1;return o.preset&&(l="position-preset "+o.preset),(0,j.jsx)(Ve,{id:t,isFocused:c,inEditMode:!1,className:l,width:o.paragraphWidth,leftCoordinate:o.leftCoordinate,topCoordinate:o.topCoordinate,preset:o.preset,frameSize:Me,isVisualType:!0,savePosition:function(e,t,n){var s=(0,r.Z)((0,r.Z)({},b),{},{preset:e,leftCoordinate:t,topCoordinate:n});Q(s,!1)},isDraggable:!0,onTextWidthChange:function(e,t,n,s,a){var i=(0,r.Z)((0,r.Z)({},b),{},{paragraphWidth:t+"%",leftCoordinate:n+"%",topCoordinate:s+"%",preset:a});Q(i,!1)},disableRotate:!0,refresh:_,children:ee(e)},t)}((q=parseFloat((null==b?void 0:b.paragraphWidth)||"10%")*Me.width/100,Y=(q*parseFloat(null==b?void 0:b.heightPx)||1)/(parseFloat(null==b?void 0:b.widthPx)||1),(0,j.jsx)("img",{src:null==b?void 0:b.url,className:"selectable-item",style:N.current?{opacity:0,width:q,height:Y}:{opacity:(null==b?void 0:b.opacity)||1},onClick:function(){return T("logo")},onLoad:function(){N.current=!1,R(!_)}})),"logo",b,"top-right"),!a&&!i&&(0,j.jsx)(u.Z,{className:"absolute-fill translucent-background-layer-12 white-text flex-centered",children:(0,j.jsx)(w.Z,{sx:{mb:2},children:"Add logo or colors to enable this designer"})})]}),"textBox"==I&&(0,j.jsx)(Re,{onUpdate:h,setBrandPreviewValues:p,brandDataForPreview:d,colorStringList:te,onChangeColor:function(e,t){if(!t){var n=(0,o.Z)(D||[]),s=(0,g.l)(null==i?void 0:i.textBackgroundColor),a=s&&n.findIndex((function(e){var t=(0,g.l)(e.textBackgroundColor);if((null==t?void 0:t.r)==s.r&&(null==t?void 0:t.g)==s.g&&(null==t?void 0:t.b)==s.b)return!0}));"number"==typeof a&&(n[a]?n[a]=e:n.push(e),p((0,r.Z)((0,r.Z)({},d),{},{colorList:n})),h("colorList",n))}}}),"logo"==I&&(0,j.jsx)(xe,{selectedLogo:b,onUpdateLogoData:Q})]})},We=["logoList","setSelectedLogo","onUpdate","username","showAlertNotification","setBrandPreviewValues","brandPreviewValues"],ze=function(e){var t=e.logoList,n=e.setSelectedLogo,d=e.onUpdate,p=e.username,h=e.showAlertNotification,m=e.setBrandPreviewValues,v=e.brandPreviewValues,S=((0,l.Z)(e,We),(0,s.useState)(t)),y=(0,c.Z)(S,2),b=y[0],w=y[1],Z=(0,s.useRef)(null);(0,V.default)(b,Z),(0,s.useEffect)((function(){var e=Z.current;setTimeout((function(){null==e||e.scrollIntoView(!1)}),100)}),[]),(0,s.useEffect)((function(){w(t)}),[t]);var k=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s,i){var c,l,u,f,S,y,j,Z,k,C,I,T,E,A,_,R,P;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(0,o.Z)(b),l=c.findIndex((function(e){return e.url==s})),i)for(u=0;u<c.length;u++)c[u].isDefault&&(c[u]=(0,r.Z)((0,r.Z)({},c[u]),{},{isDefault:void 0}));return f=1,S="top-right",y=0,j=0,Z="0",k="0",C="0",(I=null==t?void 0:t.find((function(e){return e.isDefault})))?(f=I.opacity||1,S=I.preset,Z=I.paragraphWidth.toString(),y=I.heightPx,j=I.widthPx,k=I.leftCoordinate,C=I.topCoordinate):(y=null===(T=c[l])||void 0===T?void 0:T.heightPx,j=null===(E=c[l])||void 0===E?void 0:E.widthPx,Z=null===(A=c[l])||void 0===A?void 0:A.paragraphWidth),_=(0,r.Z)((0,r.Z)({},c[l]),{},{isDefault:i,opacity:f,preset:S,heightPx:y,widthPx:j,paragraphWidth:Z,leftCoordinate:k,topCoordinate:C}),c[l]=_,m((0,r.Z)((0,r.Z)({},v),{},{logoList:c})),n(_),w(c),e.next=19,d("logoList",c);case 19:"success"==(null==(R=e.sent)?void 0:R.status)?x().getInstance().logEvent("set-as-default",{"brand-name":null===(P=R.brand)||void 0===P?void 0:P.name,asset:_,"asset-type":"Logo","workspace-name":(0,g.CV)(p)}):h({message:"Logo status could not be changed. Please contact support",severity:"error"});case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,j.jsxs)(B.Z,{children:[(0,j.jsx)(u.Z,{className:"uploaded-brand-logo position-relative pointer border-0",sx:{maxWidth:b&&b.length>0?"100px":"unset"},children:(0,j.jsx)(z.p,{defaultUrl:"",fileName:"",uploadText:"Upload",validationMsgs:{imageUploadMaxSize:"Image - JPG, JPEG, PNG, SVG, WEBP"},allowedFileTypes:f.tP.image,allowedFileSize:(0,g.eF)(p),size:"small",onUpload:function(e){var t=e.url,n=(e.contentType,e.name),r=(e.id,e.heightPx),s=e.widthPx,a=(0,o.Z)(b||[]),i=0==a.length||void 0;a.push({url:t,isDefault:i,fileName:n,heightPx:r,widthPx:s,preset:"top-right",opacity:1,paragraphWidth:"10%"}),w(a),d("logoList",a)},filePath:p+"/branding"})}),null==b?void 0:b.map((function(e,t){return(0,j.jsx)(ce.Z,{itemRef:Z.current?t==b.length-1?Z:null:e.isDefault?Z:null,logoData:e,onDelete:function(){return function(e){var t=(0,o.Z)(b),n=t.findIndex((function(t){return t.url===e}));n>-1&&t.splice(n,1),w(t),d("logoList",t)}(e.url)},setDefault:k,onClick:function(){k(e.url,!0)}},e.url)}))]})},Je=n(72943),He=["visualList","onUpload","onUpdate","onDelete","username","addVisualToUploadedVisualList","recentlyAddedVisual","setRecentlyAddedVisual"],Ke=function(e){var t=e.visualList,n=e.onUpload,a=e.onUpdate,i=e.onDelete,d=e.username,p=(e.addVisualToUploadedVisualList,e.recentlyAddedVisual),h=(e.setRecentlyAddedVisual,(0,l.Z)(e,He),(0,s.useState)(t)),m=(0,c.Z)(h,2),v=m[0],x=m[1],S=(0,s.useRef)(null);return(0,V.default)(v,S),(0,s.useEffect)((function(){x(t)}),[t]),(0,j.jsxs)(B.Z,{children:[(0,j.jsx)(u.Z,{className:"uploaded-brand-visual position-relative add-more-logo-colors pointer",sx:{minWidth:"260px !important"},children:(0,j.jsx)(z.p,{className:"upload-visual",defaultUrl:"",fileName:"",uploadText:"Upload",validationMsgs:{imageUploadMaxSize:"Image - JPG, JPEG, PNG, SVG, WEBP",videoUploadMaxSize:"Video - MP4, MOV, WEBM"},allowedFileTypes:[].concat((0,o.Z)(f.tP.video),(0,o.Z)(f.tP.image)),allowedFileSize:(0,g.eF)(d),size:"small",onUpload:n,filePath:d+"/branding"})}),null==v?void 0:v.map((function(e,t){return(0,j.jsx)(Je.Z,{itemRef:t==v.length-1?S:null,visualObj:e,onDelete:function(){return i(e.url)},setAsIntro:function(){return function(e){var t=(0,o.Z)(v),n=t.findIndex((function(t){return t.url===e}));if(n>-1){if(!t[n].isDefaultForIntro){var s=t.findIndex((function(e){return e.isDefaultForIntro}));s>-1&&(t[s]=(0,r.Z)((0,r.Z)({},t[s]),{},{isDefaultForIntro:!1}))}t[n]=(0,r.Z)((0,r.Z)({},t[n]),{},{isDefaultForIntro:!t[n].isDefaultForIntro}),x(t),a("visualList",t)}}(e.url)},setAsOutro:function(){return function(e){var t=(0,o.Z)(v),n=t.findIndex((function(t){return t.url===e}));if(n>-1){if(!t[n].isDefaultForOutro){var s=t.findIndex((function(e){return e.isDefaultForOutro}));s>-1&&(t[s]=(0,r.Z)((0,r.Z)({},t[s]),{},{isDefaultForOutro:!1}))}t[n]=(0,r.Z)((0,r.Z)({},t[n]),{},{isDefaultForOutro:!t[n].isDefaultForOutro}),x(t),a("visualList",t)}}(e.url)},isRecentlyAddedVisual:e.url===p},e.url)}))]})},qe=n(2517),Ye=n(57308),Qe=n(3128),Xe=["AIVoiceoverList","onUpdate","open","onClose","username","history"],$e=function(e){var t,n,r=e.AIVoiceoverList,a=e.onUpdate,i=e.open,o=e.onClose,d=e.username,p=e.history,h=((0,l.Z)(e,Xe),(0,s.useState)(100)),m=(0,c.Z)(h,2),f=m[0],v=m[1],x=(0,g.w3)(d,null),S=x.textToSpeechDurationValue,y=x.daysRemainingTillResetDate,b=x.textToSpeechDuration,Z=(null===(t=(0,g.we)(d))||void 0===t||null===(n=t.plan)||void 0===n?void 0:n.plan_code)||"",k=Qe.W.filter((function(e){return e.subscriptions.indexOf(Z)>-1}));return(0,j.jsxs)(qe.Z,{open:i,onClose:o,maxWidth:"sm",PaperProps:{sx:{minWidth:"600px",height:"calc(100% - 200px)",overflow:"hidden",borderRadius:"24px"}},children:[(0,j.jsxs)(u.Z,{className:"flex-row flex-space-between",sx:{height:"80px",p:3},children:[(0,j.jsxs)(w.Z,{variant:"text_2xl",children:["AI voices"," ",(0,j.jsxs)(w.Z,{variant:"text_2xl",sx:{color:"grey.300"},children:["(",(null==r?void 0:r.length)||0,")"]})]}),(0,j.jsx)(P.Z,{onClick:o,children:(0,j.jsx)(W.Z,{})})]}),(0,j.jsxs)(u.Z,{sx:{height:"calc(100% - 60px)"},className:"branding-voiceover-dialog",children:[(0,j.jsx)(Ye.Z,{speedValue:f,onChange:function(e){return v(e)},username:d,voiceOverTracks:k,recentTracks:[],getVoiceOverQuota:function(){return(0,g.w3)(d,null)},textToSpeechDuration:b,textToSpeechDurationValue:S,daysRemainingTillResetDate:y,restrictUsers:(0,g.Sc)(d),history:p,hideElevenLabs:(0,g.c2)(d),fromBranding:!0,brandingAIVoiceoverList:r,onUpdateBrandingAIVoiceoverList:function(e){a("AIVoiceoverList",e)}}),(0,j.jsx)("audio",{id:"myMusicTrackPlay"})]})]})},et=n(78768),tt=["bgMusicList","onUpdate","open","onClose","username"],nt=function(e){var t=e.bgMusicList,n=e.onUpdate,r=e.open,a=e.onClose,i=(e.username,(0,l.Z)(e,tt),(0,s.useState)(0)),o=(0,c.Z)(i,2),d=o[0],p=o[1],h=(0,s.useRef)(null);return(0,j.jsxs)(qe.Z,{open:r,onClose:onclose,maxWidth:"sm",PaperProps:{sx:{minWidth:"600px",height:"calc(100% - 200px)",overflow:"hidden",borderRadius:"24px"}},children:[(0,j.jsxs)(u.Z,{className:"flex-row flex-space-between",sx:{height:"80px",p:3},children:[(0,j.jsx)(w.Z,{variant:"text_2xl",sx:{fontWeight:"600"},children:"Music"}),(0,j.jsx)(P.Z,{onClick:a,children:(0,j.jsx)(W.Z,{})})]}),(0,j.jsx)(u.Z,{sx:{height:"calc(100% - 60px)"},className:"branding-music-dialog",children:(0,j.jsx)(et.Z,{fromBranding:!0,brandingBgMusicList:t,onUpdateBrandingBgMusicList:function(e){n("bgMusicList",e)},tracks:[],playMusic:function(e,t,n,r,s){r.stopPropagation(),s?(h.current.src=e,h.current.play(),p(t),h.current.addEventListener("ended",(function(e){p(0)}),!1)):(h.current.pause(),h.current.src="",p(0))},activeMusicTrack:d})}),(0,j.jsx)("audio",{ref:h})]})},rt=n(37536),st=n(1084),at=["visualList","onUpload","open","onClose","username","history","searchCategories","searchCategoriesBegin"],it=m.Z.searchCategoriesBegin,ot=(0,st.$j)((function(e){return{searchCategories:e.visualsSearch.searchCategories}}),{searchCategoriesBegin:it})((function(e){var t=e.visualList,n=e.onUpload,r=e.open,a=e.onClose,i=e.username,o=e.history,d=e.searchCategories,p=e.searchCategoriesBegin;(0,l.Z)(e,at),(0,s.useEffect)((function(){p()}),[]);var h=(0,s.useState)({}),m=(0,c.Z)(h,2),g=m[0],f=m[1],v=(0,s.useState)(t),x=(0,c.Z)(v,2);return x[0],x[1],(0,j.jsxs)(qe.Z,{open:r,onClose:a,maxWidth:"sm",PaperProps:{sx:{minWidth:"600px",height:"calc(100% - 200px)",overflow:"hidden",borderRadius:"24px"}},children:[(0,j.jsxs)(u.Z,{className:"flex-row flex-space-between",sx:{height:"80px",p:3},children:[(0,j.jsxs)(w.Z,{variant:"text_2xl",children:["Visuals"," "]}),(0,j.jsx)(P.Z,{onClick:a,children:(0,j.jsx)(W.Z,{})})]}),(0,j.jsx)(u.Z,{sx:{height:"calc(100% - 60px)"},className:"branding-voiceover-dialog",children:(0,j.jsx)(rt.Z,{username:i,history:o,fromBranding:!0,searchCategories:d,sentenceKeywordSuggestions:["intro","outro","openers","endings","subscribe"],updateAllAssets:function(e){var t=Object.assign(g,e);f(t)},allAssets:g,visualList:t||[],handleUpload:n})})]})})),ct=n(64923),lt=n(48527),ut=n(51991),dt=["brandData","onUpdateBrandData","onCloseBrand","username","brandUserMapping","teamUsers","shareBrand","showAlertNotification","linkBrandDataItem","addMusicToUploadedAudioList","addVisualToUploadedVisualList","isFromStoryBoard","applyBrandOnProject","history","deleteImage"],pt="logos",ht="colors",mt="fonts",gt="visuals",ft="bgMusic",vt="AIVoiceover",xt=["logoList","colorList","fontList","fontSizeList","fontStyleList","textFormatData","visualList"],St={preset:"bottom-center",decoration:[""],case:"",textAlign:"center",paragraphWidth:"90%",fullWidth:!1},yt=m.Z.deleteImage,bt=(0,st.$j)((function(e){return{}}),{deleteImage:yt})((function(e){var t,n,d,p,h,m,f,v=e.brandData,S=e.onUpdateBrandData,y=e.onCloseBrand,b=e.username,k=e.brandUserMapping,C=e.teamUsers,F=e.shareBrand,V=e.showAlertNotification,B=e.linkBrandDataItem,M=e.addMusicToUploadedAudioList,W=e.addVisualToUploadedVisualList,z=e.isFromStoryBoard,J=e.applyBrandOnProject,H=e.history,K=e.deleteImage,q=((0,l.Z)(e,dt),(0,s.useState)()),Y=(0,c.Z)(q,2),X=Y[0],$=Y[1],ee=(0,s.useState)(v),te=(0,c.Z)(ee,2),ne=te[0],re=te[1],se=(0,s.useState)(!1),ae=(0,c.Z)(se,2),ie=ae[0],ce=ae[1],le=(0,s.useState)(!1),ue=(0,c.Z)(le,2),de=ue[0],pe=ue[1],he=(0,s.useState)(!1),me=(0,c.Z)(he,2),ge=me[0],fe=me[1],ve=(0,s.useState)(!1),xe=(0,c.Z)(ve,2),Se=xe[0],ye=xe[1],be=(0,s.useState)(null),je=(0,c.Z)(be,2),we=je[0],Ze=je[1],ke=(0,s.useState)(!1),Ce=(0,c.Z)(ke,2),Ie=Ce[0],Te=Ce[1],Ee=(0,s.useState)(),Ae=(0,c.Z)(Ee,2),_e=Ae[0],Re=Ae[1],Pe=(0,s.useState)(null),Ne=(0,c.Z)(Pe,2),Oe=Ne[0],De=Ne[1],Ue=(0,s.useState)(""),Le=(0,c.Z)(Ue,2),Fe=Le[0],Ve=Le[1],Be=(0,s.useState)(null),Me=(0,c.Z)(Be,2),We=Me[0],Je=Me[1],He=(0,s.useState)(null==X||null===(t=X.logoList)||void 0===t||null===(n=t.filter((function(e){return e.isDefault})))||void 0===n?void 0:n[0]),qe=(0,c.Z)(He,2),Ye=qe[0],Qe=qe[1],Xe=(0,s.useState)(null==X||null===(d=X.colorList)||void 0===d||null===(p=d.filter((function(e){return e.isDefault})))||void 0===p?void 0:p[0]),et=(0,c.Z)(Xe,2),tt=et[0],rt=et[1],st=function(e){var t=(0,s.useState)(e),n=(0,c.Z)(t,2),r=n[0],a=n[1],i=(0,s.useState)(e?[e]:[]),l=(0,c.Z)(i,2),u=l[0],d=l[1],p=(0,s.useState)(0),h=(0,c.Z)(p,2),m=h[0],g=h[1];return{undoRedoState:r,undoRedoIndex:m,undoRedoStackLength:u.length,setUndoable:function(e,t){var n=0,r=m+1;u.length>20&&(n=u.length-20);var s=t?[e]:[].concat((0,o.Z)(u.slice(n,r)),[e]);d(s),g(s.length-1)},undo:function(){m>0&&(g(m-1),a(u[m-1]))},redo:function(){m<u.length-1&&(g(m+1),a(u[m+1]))}}}(),at=st.undoRedoState,it=st.undoRedoIndex,yt=st.undoRedoStackLength,bt=st.setUndoable,jt=st.undo,wt=st.redo,Zt=(0,s.useRef)(null),kt=(0,s.useRef)(null);(0,s.useEffect)((function(){var e,t;Qe(null==X||null===(e=X.logoList)||void 0===e||null===(t=e.filter((function(e){return e.isDefault})))||void 0===t?void 0:t[0])}),[null==X?void 0:X.logoList]),(0,s.useEffect)((function(){var e=ne.colorList,t=ne.fontList,n=ne.fontSizeList,r=ne.logoList,s=ne.visualList,a=ne.textFormatData;$({colorList:e,fontList:t,fontSizeList:n,logoList:r,visualList:s,textFormatData:a})}),[ne.colorList,ne.fontList,ne.fontSizeList,ne.logoList,ne.visualList,ne.textFormatData]),(0,s.useEffect)((function(){var e=(0,g.l)(null==tt?void 0:tt.textBackgroundColor),t=(0,g.fP)({rgb:{r:null==e?void 0:e.r,g:null==e?void 0:e.g,b:null==e?void 0:e.b,a:0}});t&&rt((0,r.Z)((0,r.Z)({},tt),{},{textBackgroundColor:t,isDefault:!1,fontColor:"",keywordColor:""}))}),[null==X?void 0:X.colorList]),(0,s.useEffect)((function(){We?document.addEventListener("click",Ct):document.removeEventListener("click",Ct)}),[We]),(0,s.useEffect)((function(){return bt({brandDataForPreview:It(v)},!0),function(){var e,t,n,r,s,a,i,o;kt.current&&x().getInstance().logEvent("brand-saved",{"brand-name":kt.current.name,"brand-logo":(null===(e=kt.current.logoList)||void 0===e?void 0:e.length)>0?"Yes":"No","brand-voiceover":(null===(t=kt.current.AIVoiceoverList)||void 0===t?void 0:t.length)>0?"Yes":"No","brand-color-count":(null===(n=kt.current.colorList)||void 0===n?void 0:n.length)||0,"brand-visual-count":(null===(r=kt.current.visualList)||void 0===r?void 0:r.length)||0,"brand-font":(null===(s=kt.current.fontList)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.fontName)||"","brand-intro":null!==(i=kt.current.visualList)&&void 0!==i&&i.find((function(e){return e.isDefaultForIntro}))?"Yes":"No","brand-outro":null!==(o=kt.current.visualList)&&void 0!==o&&o.find((function(e){return e.isDefaultForOutro}))?"Yes":"No","workspace-name":(0,g.CV)(b),"quota-left":(0,g.EI)(b)})}}),[]),(0,s.useEffect)((function(){var e;null===(e=Zt.current)||void 0===e||e.scrollIntoView()}),[B]),(0,s.useEffect)((function(){2===_e&&setTimeout((function(){return Re(0)}),2e3)}),[_e]),(0,s.useEffect)((function(){at&&re((0,r.Z)((0,r.Z)({},ne),at.brandDataForPreview))}),[at]);var Ct=function(){We&&Je(null)},It=function(e){return{logoList:e.logoList,colorList:e.colorList,fontList:e.fontList,fontSizeList:e.fontSizeList,visualList:e.visualList,textFormatData:e.textFormatData}},Tt=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,r.Z)((0,r.Z)({},kt.current||v),{},(0,I.Z)({},t,n)),re(s),"textFormatData"===t&&$((0,r.Z)((0,r.Z)({},X),{},{textFormatData:n})),xt.includes(t)&&bt({brandDataForPreview:It(s)}),kt.current=s,Re(1),e.next=8,S(s);case 8:return i=e.sent,Re(2),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Et=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K({username:b,id:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,o.Z)(ne.visualList),(r=n.findIndex((function(e){return e.url===t})))>-1&&((s=n[r]).id&&!s.isAddedFromLibrary&&Et(s.id),n.splice(r,1),Tt("visualList",n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.id,r=e.url,s=e.contentType,a=e.name,i=e.duration,c=e.heightPx,l=e.widthPx,u=e.isAddedFromLibrary;if(t){var d=(0,o.Z)(ne.visualList||[]);if(Je(r),d.push({id:n||Date.now(),url:r,type:s,fileName:a,duration:i,heightPx:c,widthPx:l,isAddedFromLibrary:u}),Tt("visualList",d),!u){var p={id:n||Date.now(),cognito_id:b,url:r,createdDate:(new Date).toISOString(),name:a,teamId:(0,g.E3)(),context:"branding"},h={body:p};W(h)}}else At(r)},Rt=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{fontName:t}],$((0,r.Z)((0,r.Z)({},X),{},{fontList:n})),e.abrupt("return",Tt("fontList",n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(e,t){De(t?e.currentTarget:null),Ve(t)},Nt=(0,g.E3)();return void 0===(null==X?void 0:X.textFormatData)&&$((0,r.Z)((0,r.Z)({},X),{},{textFormatData:St})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(U.default,{children:[(0,j.jsxs)(u.Z,{className:"flex-row flex-space-between",sx:{mr:4,borderBottom:"1px solid #e0e0e0",pb:"8px"},children:[(0,j.jsxs)(u.Z,{className:"flex-row align-items-center w-100 justify-content-between",children:[(0,j.jsxs)(u.Z,{className:"d-flex",children:[(0,j.jsx)(P.Z,{onClick:function(){return y(ne)},sx:{borderRadius:"8px"},children:(0,j.jsx)(T.Z,{})}),(0,j.jsx)(u.Z,{className:"brand-name-edit-container flex-centered",children:(0,j.jsx)(L.default,{id:"edit-brand-name",label:"",required:!0,errorMsgWhenBlank:"Brand name is required",value:ne.name,validationsList:[{fn:function(e){return e.trim().length>0},message:"Enter valid name"}],onEditSaveText:function(e){return Tt("name",e)},inputProps:{endAdornment:(0,j.jsx)(E.Z,{className:"edit-icon",sx:{ml:2}})}})})]}),(0,j.jsxs)(u.Z,{sx:{display:"flex"},children:[(0,j.jsxs)(u.Z,{sx:{minWidth:"max-content",ml:2,mr:2,display:"flex",alignItems:"center",justifyContent:"end"},children:[0==_e&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(O.oe,{strokeColor:"#F0F0F0",isRotating:!1})}),1==_e&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.Z,{color:"default",children:"Saving changes  "}),(0,j.jsx)(O.oe,{isRotating:!0})]}),2==_e&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.Z,{color:"default",children:"Saved  "}),(0,j.jsx)(O.Fn,{})]})]}),Nt&&(0,j.jsxs)(N.Z,{variant:"outlined",sx:{ml:3},onClick:function(){return ye(!0)},children:[(0,j.jsx)(_.Z,{}),"    Share brand"]}),z&&(0,j.jsxs)(N.Z,{variant:"contained",sx:{height:"40px",padding:"0 16px",ml:"12px"},onClick:J,children:[(0,j.jsx)(R.Z,{}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.0",ml:"10px"},children:"Save and apply"})]})]})]}),(0,j.jsxs)(u.Z,{children:[Nt&&(0,j.jsx)(u.Z,{children:(null==k?void 0:k.length)>0&&(0,j.jsx)(N.Z,{onClick:function(e){e.stopPropagation(),function(e,t){var n;Ze(e.currentTarget),Te((null==k||null===(n=k[0])||void 0===n?void 0:n.sharedByUserId)!==b)}(e,v.id)},sx:{minWidth:20*(((null==k?void 0:k.length)>3?3:k.length)||0)},children:null==k?void 0:k.map((function(e,t){return t<3&&(0,j.jsx)(Z.Z,{name:(0,g.WI)(e),size:"small",index:t,sx:{position:"absolute",left:20*t,border:"white 1px solid"}})}))})}),Se&&(0,j.jsx)(ct.I,{open:Se,onClose:function(){return ye(!1)},assetMapping:k,shareAsset:function(e){return F(e,v.id)},teamUsers:C,cognito_id:b,assetType:"brand",title:"Share brand"}),we&&(0,j.jsx)(lt.y,{open:!!we,onClose:function(){Ze(void 0)},assetMapping:k,teamUsers:C,shareAsset:function(e){return F(e,v.id)},anchorEl:we,disableRemoveShare:Ie})]})]}),(0,j.jsx)(u.Z,{children:(0,j.jsxs)(u.Z,{className:"brand-edit-container",children:[(0,j.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",gap:"80px"},children:[(0,j.jsxs)(u.Z,{sx:{width:"calc(100% - ".concat(610,"px)")},children:[(0,j.jsxs)(u.Z,{ref:B==pt?Zt:null,children:[(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",children:"Logos"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Upload the logo you would like to include in your videos"})]}),(0,j.jsx)(ze,{logoList:null==X?void 0:X.logoList,brandPreviewValues:X,setSelectedLogo:Qe,onUpdate:Tt,username:b,showAlertNotification:V,setBrandPreviewValues:$})]}),(0,j.jsxs)(u.Z,{ref:B==ht?Zt:null,children:[(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",children:"Brand colors"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Add all your primary and secondary brand colors"})]}),(0,j.jsx)(oe,{colorList:null==ne?void 0:ne.colorList,onUpdate:Tt,username:b,showAlertNotification:V,brandPreviewValues:X,setBrandPreviewValues:$})]}),(0,j.jsxs)(u.Z,{ref:B==mt?Zt:null,children:[(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",children:"Fonts"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Select a default font for your captions."})]}),(0,j.jsx)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"400px"},children:(0,j.jsx)(u.Z,{className:"brand-edit-FontsDropdown width-277",children:(0,j.jsx)(D.Z,{value:null==ne||null===(h=ne.fontList)||void 0===h||null===(m=h[0])||void 0===m?void 0:m.fontName,onFontSelection:Rt})})})]})]}),(null==X?void 0:X.textFormatData)&&(0,j.jsx)(Ge,{selectedLogo:Ye,selectedColor:null==X||null===(f=X.colorList)||void 0===f?void 0:f.find((function(e){return e.isDefault})),_brandPreviewValues:X,setBrandPreviewValues:$,onUpdate:Tt,onUndo:jt,onRedo:wt,undoRedoIndex:it,undoRedoStackLength:yt})]}),(0,j.jsxs)(u.Z,{ref:B==gt?Zt:null,children:[(0,j.jsxs)(u.Z,{className:"asset-heading-layout",children:[(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",sx:{color:"grey.900"},children:"Visuals - Intro, Outro, others"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Upload your custom intros and outros. You can also add any images and videos you use frequently for easy access"})]}),(0,j.jsxs)(N.Z,{onClick:function(){return ce(!0)},sx:{backgroundColor:"grey.100",color:"grey.900",padding:"0 12px",height:"32px","&:hover":{backgroundColor:"#E0E0E0"}},children:[(0,j.jsx)(A.Z,{sx:{fontSize:"16px",mr:"5px"}}),(0,j.jsx)(w.Z,{variant:"text_xs",children:"Add from library"})]})]}),(0,j.jsx)(u.Z,{sx:{marginLeft:"-5px"},children:(0,j.jsx)(Ke,{visualList:null==ne?void 0:ne.visualList,onUpload:_t,onUpdate:Tt,onDelete:At,username:b,addVisualToUploadedVisualList:W,setRecentlyAddedVisual:Je,recentlyAddedVisual:We})})]}),(0,j.jsxs)(u.Z,{ref:B==ft?Zt:null,children:[(0,j.jsxs)(u.Z,{className:"asset-heading-layout",children:[(0,j.jsx)(u.Z,{children:(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",children:"Background music"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Select tracks from the library or upload your own. The track you set as default will be automatically applied to your videos"})]})}),(0,j.jsxs)(N.Z,{onClick:function(){return fe(!0)},sx:{backgroundColor:"grey.100",color:"grey.900",padding:"0 12px",height:"32px","&:hover":{backgroundColor:"#E0E0E0"}},children:[(0,j.jsx)(A.Z,{sx:{fontSize:"16px",mr:"5px"}}),(0,j.jsx)(w.Z,{variant:"text_xs",children:"Add from library"})]})]}),(0,j.jsx)(Q,{bgMusicList:null==ne?void 0:ne.bgMusicList,onUpdate:Tt,username:b,showAlertNotification:V,addMusicToUploadedAudioList:M,onPlay:Pt,history:H})]}),(0,j.jsxs)(u.Z,{ref:B==vt?Zt:null,children:[(0,j.jsxs)(u.Z,{className:"asset-heading-layout",children:[(0,j.jsx)(u.Z,{children:(0,j.jsxs)(u.Z,{className:"brand-edit-section-title",children:[(0,j.jsx)(w.Z,{variant:"text_xl",children:"AI voices"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.500"},children:"Select voiceovers you frequently use in your videos. Voiceovers will not be automatically applied"})]})}),(0,j.jsxs)(N.Z,{onClick:function(){pe(!0)},sx:{backgroundColor:"grey.100",color:"grey.900",padding:"0 12px",height:"32px","&:hover":{backgroundColor:"#E0E0E0"}},children:[(0,j.jsx)(A.Z,{sx:{fontSize:"16px",mr:"5px"}}),(0,j.jsx)(w.Z,{variant:"text_xs",children:"Add from library"})]})]}),(0,j.jsx)(G,{AIVoiceoverList:null==ne?void 0:ne.AIVoiceoverList,onUpdate:Tt,username:b,showAlertNotification:V,onPlay:Pt})]}),(0,j.jsx)(u.Z,{sx:{height:"20px"}})]})})]}),(0,j.jsx)($e,{AIVoiceoverList:null==ne?void 0:ne.AIVoiceoverList,onUpdate:Tt,open:de,onClose:function(){return pe(!1)},username:b,history:H}),(0,j.jsx)(ot,{visualList:null==ne?void 0:ne.visualList,onUpload:_t,open:ie,onClose:function(){return ce(!1)},username:b,history:H}),(0,j.jsx)(nt,{bgMusicList:null==ne?void 0:ne.bgMusicList,onUpdate:Tt,open:ge,onClose:function(){return fe(!1)},username:b}),Oe&&(0,j.jsx)(ut.Z,{open:!!Oe,onClose:function(){return De(null)},anchorEl:Oe,url:Fe})]})})),jt=n(20086),wt=n(77449),Zt=n(80699),kt=n(15422),Ct=n(83254),It=n(55379),Tt=n(90119),Et=n(68470),At=n(70811),_t=n(31666),Rt=["brandData","onOpenBrand","onDelete","onShare","onDuplicate","setDefault","brandUserMapping","isSharedByOtherUser","showShareIcon","openShareBrandPopover","disableCreateBrandMsg"],Pt=function(e){var t,n,r,o,d=e.brandData,p=e.onOpenBrand,h=e.onDelete,m=e.onShare,f=e.onDuplicate,v=e.setDefault,x=e.brandUserMapping,S=e.isSharedByOtherUser,y=e.showShareIcon,b=e.openShareBrandPopover,Z=e.disableCreateBrandMsg,k=((0,l.Z)(e,Rt),(0,s.useState)(!1)),C=(0,c.Z)(k,2),I=C[0],T=C[1],A=S?(0,j.jsxs)(j.Fragment,{children:["This brand is owned by ",(0,g.Zo)(x[0]),". ",(0,j.jsx)("br",{}),"Only the owner of the brand can share this brand"]}):"Share",_=S?(0,j.jsxs)(j.Fragment,{children:["This brand is owned by ",(0,g.Zo)(x[0]),". ",(0,j.jsx)("br",{}),"Only the owner of the brand can edit this brand"]}):"Edit",R=S?(0,j.jsxs)(j.Fragment,{children:["This brand is owned by ",(0,g.Yf)(x[0]),". ",(0,j.jsx)("br",{}),"Ask ",(0,g.Zo)(x[0])," to delete."]}):"Delete",N=Z||"Duplicate",D=(null===(t=d.logoList)||void 0===t||null===(n=t.find((function(e){return e.isDefault})))||void 0===n?void 0:n.url)||(null===(r=d.logoList)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.url);return(0,j.jsxs)(u.Z,{className:"brand-thumbnail",onClick:function(){return!S&&p(d.id)},children:[(0,j.jsx)(u.Z,{className:"brand-thumbnail-logo",children:D?(0,j.jsx)("img",{src:D}):(0,j.jsx)(O.QU,{sx:{color:"grey.400",fontSize:"30px"}})}),(0,j.jsxs)(u.Z,{className:"brand-thumbnail-name",children:[(0,j.jsx)(Zt.Z,{title:d.name,placement:"top",arrow:!0,children:(0,j.jsx)(w.Z,{className:"ellipsis-100",variant:"text_sm",sx:{color:"grey.900"},children:d.name})}),(0,j.jsx)(w.Z,{variant:"text_xs",sx:{color:"grey.400"},children:S?(0,j.jsxs)(j.Fragment,{children:["By ",(0,g.Yf)(x[0])]}):(0,j.jsx)(j.Fragment,{})})]}),(0,j.jsxs)(u.Z,{className:"my-brand-action-icons",sx:{right:"10px"},children:[(0,j.jsx)(Zt.Z,{title:_,arrow:!0,children:(0,j.jsx)("span",{children:(0,j.jsx)(P.Z,{children:(0,j.jsx)(E.Z,{})})})}),(0,j.jsx)(Zt.Z,{title:N,arrow:!0,placement:"bottom",children:(0,j.jsx)("span",{onClick:function(e){return e.stopPropagation()},children:(0,j.jsx)(P.Z,{onClick:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),I){e.next=6;break}return T(!0),e.next=5,f(d.id);case 5:T(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),disabled:!!Z,children:(0,j.jsx)(_t.Z,{sx:{fontSize:"18px !important"}})})})}),y&&(0,j.jsx)(Zt.Z,{title:A,placement:"bottom",arrow:!0,children:(0,j.jsx)("span",{children:(0,j.jsx)(P.Z,{onClick:function(e){e.stopPropagation(),m(d.id)},disabled:S,children:(0,j.jsx)(It.Z,{})})})}),(0,j.jsx)(Zt.Z,{title:R,arrow:!0,children:(0,j.jsx)("span",{children:(0,j.jsx)(P.Z,{onClick:function(e){e.stopPropagation(),h(d.id)},disabled:S,sx:{"&:hover":{color:"error.main"}},children:(0,j.jsx)(Tt.Z,{})})})})]}),(0,j.jsx)(Zt.Z,{title:"Set as default",placement:"top",arrow:!0,children:(0,j.jsx)(P.Z,{className:"brand-thumbnail-star ".concat(d.isDefault?"fav-brand":""),sx:{padding:"0",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",borderRadius:"3px",width:"20px",height:"20px","&:hover":{background:"rgba(0,0,0,0.7)"}},onClick:function(e){e.stopPropagation(),v(d.id,!d.isDefault)},children:(0,j.jsx)(Et.Z,{sx:{color:d.isDefault?"orange":"lightgrey",fontSize:"18px"}})})}),y&&(null==x?void 0:x.length)>0&&(0,j.jsx)(P.Z,{className:"dark-background-icon",sx:{position:"absolute",top:"72px",left:"10px"},onClick:function(e){e.stopPropagation(),b(e,d.id)},children:(0,j.jsx)(At.Z,{})})]})},Nt=["brandsList","onOpenCreateBrand","onOpenBrand","onDelete","onDuplicate","setDefault","username","brandUsersMapping","teamUsers","showAlertNotification","fetchBrandUsersMapping","shareBrand","showUpgrade","onClickUpgrade","disableCreateBrandMsg"],Ot=function(e){var t=e.brandsList,n=e.onOpenCreateBrand,r=e.onOpenBrand,a=e.onDelete,i=e.onDuplicate,o=e.setDefault,d=e.username,p=e.brandUsersMapping,h=e.teamUsers,m=(e.showAlertNotification,e.fetchBrandUsersMapping,e.shareBrand),f=e.showUpgrade,v=e.onClickUpgrade,x=e.disableCreateBrandMsg,S=((0,l.Z)(e,Nt),(0,s.useState)(!1)),y=(0,c.Z)(S,2),b=y[0],Z=y[1],k=(0,s.useState)(),C=(0,c.Z)(k,2),I=C[0],T=C[1],E=(0,s.useState)(""),A=(0,c.Z)(E,2),_=A[0],R=A[1],P=(0,s.useState)([]),N=(0,c.Z)(P,2),O=N[0],D=N[1],U=(0,s.useState)(!1),L=(0,c.Z)(U,2),F=L[0],V=L[1],B=(0,s.useState)(t),M=(0,c.Z)(B,2),G=M[0],W=M[1],z=(0,s.useRef)(null);(0,s.useEffect)((function(){var e,t=(null==z||null===(e=z.current)||void 0===e?void 0:e.value)||"";H(t)}),[t]),(0,s.useEffect)((function(){var e,t=null==p||null===(e=p.Items)||void 0===e?void 0:e.filter((function(e){return e.brandId===_}));D(t)}),[p]);var J=function(e,t){var n,r,s=null==p||null===(n=p.Items)||void 0===n?void 0:n.filter((function(e){return e.brandId===t}));T(e.currentTarget),R(t),D(s),V((null==s||null===(r=s[0])||void 0===r?void 0:r.sharedByUserId)!==d)},H=function(e){var n=t;e&&(n=null==t?void 0:t.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}))),W(n)},K=!!(0,g.E3)(),q=(0,g.E3)();return(0,j.jsxs)(u.Z,{className:"my-brands",children:[(null==t?void 0:t.length)>0&&(0,j.jsxs)(u.Z,{className:"flex-row flex-space-between",sx:{mr:2,mb:2},children:[(0,j.jsx)(w.Z,{className:"brand-hub",variant:"text_2xl",children:q?"Team brands":"My brands"}),(0,j.jsx)(Ct.Z,{inputRef:z,onchange:function(e){H(e.target.value)}})]}),(null==t?void 0:t.length)>0&&(0,j.jsxs)(u.Z,{className:"brand-hub-container",children:[G.map((function(e){var t,n=null==p?void 0:p.Items.filter((function(t){return t.brandId===e.id})),s=(null==n||null===(t=n[0])||void 0===t?void 0:t.sharedByUserId)&&n[0].sharedByUserId!==d;return(0,j.jsx)(Pt,{brandData:e,onOpenBrand:r,onDelete:a,onShare:function(e){R(e),D(null==p?void 0:p.Items.filter((function(t){return t.brandId===e}))),Z(!0)},onDuplicate:i,setDefault:o,isSharedByOtherUser:s,brandUserMapping:n,showShareIcon:K,openShareBrandPopover:J,disableCreateBrandMsg:x},e.id)})),f&&(0,j.jsx)(u.Z,{className:"brand-thumbnail default-cursor",sx:{height:"154px","&:hover":{backgroundColor:"transparent !important"}},children:(0,j.jsxs)(u.Z,{className:"brand-thumbnail-logo",sx:{flexDirection:"column",textAlign:"center"},children:[(0,j.jsx)(jt.Z,{color:"primary",sx:{mb:"0"}}),(0,j.jsx)(w.Z,{variant:"text_xs",sx:{color:"grey.500",padding:"0 10px"},children:"Upgrade your plan to add more brand templates"}),(0,j.jsx)(wt.Z,{onClick:v,sx:{cursor:"pointer",textDecoration:"underline !important",textDecorationColor:"#5F6178 !important"},children:(0,j.jsx)(w.Z,{variant:"text_xs",sx:{color:"grey.500"},children:"Upgrade now"})})]})}),b&&(0,j.jsx)(ct.I,{open:b,onClose:function(){return Z(!1)},assetMapping:O,shareAsset:function(e){return m(e,_)},teamUsers:h,cognito_id:d,assetType:"brand",title:"Share brand"}),I&&(0,j.jsx)(lt.y,{open:!!I,onClose:function(){T(void 0),R("")},assetMapping:O,teamUsers:h,shareAsset:function(e){return m(e,_)},anchorEl:I,disableRemoveShare:F})]}),0==(null==t?void 0:t.length)&&(0,j.jsxs)(u.Z,{className:"align-items-center d-flex flex-column justify-content-center no-brands-container h-100",children:[(0,j.jsx)("img",{src:"/images/no_brand.svg"}),(0,j.jsxs)(u.Z,{className:"pb-4 pt-4 text-center",children:[(0,j.jsx)(w.Z,{variant:"text_lg",sx:{fontWeight:"600"},className:"pb-2 d-block",children:"Welcome to Brand Hub"}),(0,j.jsx)(w.Z,{className:"d-block",variant:"text_sm",sx:{maxWidth:"450px"},children:"Stay on-brand with one click. Set logos, fonts, and more to jumpstart your next project."})]}),(0,j.jsx)(Zt.Z,{title:x,children:(0,j.jsx)("span",{children:(0,j.jsxs)(kt.w,{variant:"contained",onClick:n,disabled:!!x,sx:{height:"40px"},children:[(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",style:{marginRight:"10px"},children:(0,j.jsx)("path",{d:"M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM8 14H10V10H14V8H10V4H8V8H4V10H8V14Z",fill:"white"})}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Create a Brand"})]})})})]})]})},Dt=n(34940),Ut=n(8224),Lt=n(35672),Ft=n(58698),Vt=n(79062),Bt=n(99159),Mt=n(28301),Gt=n(84462),Wt=n(12320),zt=n(30503),Jt=(n(68537),["onOpenCreateBrand","hideCreateBrand","setLinkBrandDataItem","view","workspaceDetails","brandData","disableCreateBrandMsg"]),Ht=function(e){var t=e.onOpenCreateBrand,n=e.hideCreateBrand,r=e.setLinkBrandDataItem,s=e.view,a=e.workspaceDetails,i=e.brandData,o=e.disableCreateBrandMsg;return(0,l.Z)(e,Jt),(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsxs)(u.Z,{children:[a?(0,j.jsx)(u.Z,{sx:{padding:"1rem 1rem 1rem 0.5rem",minHeight:"56px"},children:a}):(0,j.jsxs)(Ze.Z,{spacing:1,sx:{padding:"8px 24px 22px 24px",alignItems:"center",flexDirection:"row",minHeight:"100px"},children:[(0,j.jsx)(p.Z,{variant:"circular",sx:{minWidth:"40px",minHeight:"40px"}}),(0,j.jsxs)(u.Z,{className:"w-100",sx:{marginLeft:"5px !important",marginTop:"0 !important"},children:[(0,j.jsx)(p.Z,{variant:"text",sx:{fontSize:"1rem"}}),(0,j.jsx)(p.Z,{variant:"text",sx:{fontSize:"1rem"}})]})]}),!n&&(0,j.jsx)(u.Z,{sx:{textAlign:"center"},children:(0,j.jsx)(Zt.Z,{title:o,children:(0,j.jsx)(u.Z,{sx:{padding:"0 24px"},children:(0,j.jsxs)(kt.w,{onClick:t,sx:{padding:"6px 16px",width:"100%",justifyContent:"flex-start",marginBottom:"20px"},disabled:!!o,children:[(0,j.jsx)(zt.Z,{sx:{fontSize:"22px",mr:"5px"}}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Create a Brand"})]})})})}),s==sn&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Dt.Z,{sx:{margin:"-1em 1.5em 1.5em 1.5em"}}),(0,j.jsx)(u.Z,{className:"branding-sedenav",children:(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"greywhite.darker",margin:"0 1.5em",display:"flex"},children:(null==i?void 0:i.name)+" brand assets"}),(0,j.jsx)(u.Z,{sx:{width:"100%",mt:"8px"},children:(0,j.jsx)("nav",{"aria-label":"secondary mailbox folders",children:(0,j.jsxs)(Lt.Z,{className:"m-0",sx:{p:"0 20px",color:"grey.500"},children:[(0,j.jsx)(Ft.ZP,{disablePadding:!0,children:(0,j.jsxs)(Ut.Z,{sx:{borderRadius:"8px"},onClick:function(e){return r(pt)},children:[(0,j.jsx)(Vt.Z,{sx:{fontSize:"16px",mr:"1em"}}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Logos"})]})}),(0,j.jsx)(Ft.ZP,{disablePadding:!0,children:(0,j.jsxs)(Ut.Z,{sx:{borderRadius:"8px"},onClick:function(e){return r(ht)},children:[(0,j.jsx)(Bt.Z,{sx:{fontSize:"16px",mr:"1em"}}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Brand colors"})]})}),(0,j.jsx)(Ft.ZP,{disablePadding:!0,children:(0,j.jsxs)(Ut.Z,{sx:{borderRadius:"8px"},onClick:function(e){return r(mt)},children:[(0,j.jsx)(u.Z,{sx:{width:"16px",marginRight:"1em"},children:(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,j.jsx)("path",{d:"M4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6ZM20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H8V4H20V16Z",fill:"#5F6178"}),(0,j.jsx)("path",{d:"M10 8H13V15H15V8H18V6H10V8Z",fill:"#5F6178"})]})}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Fonts"})]})}),(0,j.jsx)(Ft.ZP,{disablePadding:!0,children:(0,j.jsxs)(Ut.Z,{sx:{borderRadius:"8px"},onClick:function(e){return r(gt)},children:[(0,j.jsx)(Mt.Z,{sx:{fontSize:"16px",mr:"1em"}}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Visuals"})]})}),(0,j.jsx)(Ft.ZP,{disablePadding:!0,children:(0,j.jsxs)(Ut.Z,{sx:{borderRadius:"8px"},onClick:function(e){return r(ft)},children:[(0,j.jsx)(Gt.Z,{sx:{fontSize:"16px",mr:"1em"}}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"Background music"})]})}),(0,j.jsx)(Ft.ZP,{disablePadding:!0,children:(0,j.jsxs)(Ut.Z,{sx:{borderRadius:"8px"},onClick:function(e){return r(vt)},children:[(0,j.jsx)(Wt.Z,{sx:{fontSize:"16px",mr:"1em"}}),(0,j.jsx)(w.Z,{variant:"text_sm",children:"AI voices"})]})})]})})})]})})]})]})]})},Kt=n(52927),qt=n(18248),Yt=["open","onClose","onCreate","username","showAlertNotification"],Qt=function(e){var t,n,o=e.open,d=e.onClose,p=e.onCreate,h=e.username,m=e.showAlertNotification,g=((0,l.Z)(e,Yt),(0,s.useState)({})),f=(0,c.Z)(g,2),v=f[0],x=f[1],S=(0,s.useState)(!1),y=(0,c.Z)(S,2),b=y[0],Z=y[1],k=(0,s.useRef)(null),C=function(e,t){var n=(0,r.Z)((0,r.Z)({},v),{},(0,I.Z)({},e,t));x(n)},T=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=Object.values(null===(s=k.current)||void 0===s?void 0:s.validation))||void 0===n||!n.find((function(e){return e.error}))){e.next=2;break}return e.abrupt("return");case 2:return i=(0,r.Z)((0,r.Z)({},v),{},{id:(0,qt.Z)()}),x(i),Z(!0),e.next=7,p(i);case 7:o=e.sent,Z(!1),"success"==(null==o?void 0:o.status)&&d(t,void 0,!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsx)("form",{ref:k,children:(0,j.jsxs)(Kt._c,{className:"create-brand-modal",title:(0,j.jsx)(w.Z,{className:"modal-title",variant:"text_base",children:"Create your brand"}),maxWidth:"lg",open:o,onClose:d,contentSx:null,closeSx:null,actionsSx:null,PaperProps:{sx:{borderRadius:"24px"}},actions:(0,j.jsxs)(u.Z,{sx:{width:"100%",flex:1,display:"flex",justifyContent:"space-between",p:"0","& button":{fontSize:"14px",height:"40px",padding:"0 32px"}},children:[(0,j.jsx)(kt.w,{variant:"outlined",color:"primary",onClick:d,children:"Cancel"}),(0,j.jsxs)(kt.w,{variant:"contained",color:"primary",onClick:T,children:[(0,j.jsx)(u.Z,{className:b?"visibility-hidden":"",children:"Create"}),b&&(0,j.jsx)(u.Z,{className:"dot-flashing"})]})]}),children:[(0,j.jsx)(Dt.Z,{sx:{m:"0 0 20px 0"}}),(0,j.jsx)(u.Z,{sx:{minWidth:"720px"},children:(0,j.jsxs)(u.Z,{children:[(0,j.jsxs)(u.Z,{className:"d-flex justify-content-between",children:[(0,j.jsx)(u.Z,{children:(0,j.jsxs)(w.Z,{sx:{display:"flex"},children:["Brand name"," ",(0,j.jsx)(w.Z,{sx:{color:"error.main",ml:"5px"},children:"*"})]})}),(0,j.jsx)(u.Z,{children:(0,j.jsx)(u.Z,{className:"fetch-brand",children:(0,j.jsx)(L.default,{id:"brandName",autoFocus:!0,fullWidth:!0,errorMsgWhenBlank:"Brand name is required",placeholder:"Untitled brand",value:(null==v?void 0:v.brandName)||"",onChange:function(e){return t=e.target.value,n=(0,r.Z)((0,r.Z)({},v),{},{name:t}),void x(n);var t,n},inputProps:{maxLength:50,sx:{fontSize:"14px",input:{"&::placeholder":{color:"#A0A0A0"}}}},showBorder:!0,required:!0,validationsList:[{fn:function(e){return e.trim().length>0},message:"Enter valid name"}],form:k})})})]}),(0,j.jsx)(Dt.Z,{sx:{m:"20px 0"}}),(0,j.jsxs)(u.Z,{className:"d-flex justify-content-between",children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.900",display:"flex"},children:"Brand logo"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.400",display:"block"},children:"Upload all variations of your logo"})]}),(0,j.jsx)(u.Z,{className:"width-277",children:(0,j.jsx)(ze,{logoList:null==v?void 0:v.logoList,onUpdate:C,username:h})})]}),(0,j.jsx)(Dt.Z,{sx:{m:"20px 0"}}),(0,j.jsxs)(u.Z,{className:"d-flex justify-content-between",sx:{"&>div":{maxWidth:"50%",flexWrap:"wrap"}},children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.900",display:"block"},children:"Brand colors"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.400",display:"block"},children:"Select your primary and secondary colors"})]}),(0,j.jsx)(u.Z,{className:"width-277",children:(0,j.jsx)(oe,{colorList:null==v?void 0:v.colorList,onUpdate:C,username:h,showAlertNotification:m})})]}),(0,j.jsx)(Dt.Z,{sx:{m:"20px 0"}}),(0,j.jsxs)(u.Z,{className:"d-flex justify-content-between",sx:{"&>div":{maxWidth:"50%",flexWrap:"wrap"}},children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.900",display:"block"},children:"Brand font"}),(0,j.jsx)(w.Z,{variant:"text_sm",sx:{color:"grey.400",display:"block"},children:"Select from our library"})]}),(0,j.jsx)(u.Z,{className:"fonts-dropdown width-277",children:(0,j.jsx)(D.Z,{value:null==v||null===(t=v.fontList)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.fontName,onFontSelection:function(e){return C("fontList",[{fontName:e}])}})})]})]})})]})})},Xt=n(16031),$t=n.n(Xt),en=n(92145),tn=n(3643),nn=n(90794),rn=["history","brandsList","brandUsersMapping","teamUsers","fetchBrandsList","fetchBrandData","updateBrandData","fetchBrandUsersMapping","getTeamUsers","getCurrentSubscription","shareBrandRequest","addMusicToUploadedAudioList","addVisualToUploadedVisualList","activeProject"],sn=1,an=(0,st.$j)((function(e){var t=e.branding.getUserBrandsResult,n=e.branding.userBrandsResult;return null!=t&&t.success&&!n&&(n=[]),{brandsList:n,brandUsersMapping:e.branding.brandUsersResult,teamUsers:e.teams.teamUsersResult,activeProject:e.myVideos.activeProject}}),(function(e){return{fetchBrandsList:function(t){return e(m.Z.getUserBrandsRequest(t))},updateBrandData:function(t,n){return e(m.Z.createBrandRequest(t,n))},fetchBrandUsersMapping:function(t){return e(m.Z.getBrandUsersRequest(t))},getTeamUsers:function(){return e(m.Z.getTeamUsersRequest((0,g.E3)()))},shareBrandRequest:function(t,n,r){return e(m.Z.shareBrandRequest(t,n,r))},addMusicToUploadedAudioList:function(t){return e(m.Z.saveAudioFavAndRecents(t))},addVisualToUploadedVisualList:function(t){return e(m.Z.saveImage(t))},getCurrentSubscription:function(t){return e(m.Z.getCurrentSubscription(t))}}}))((0,tn.EN)((function(e){var t,n=e.history,m=e.brandsList,v=e.brandUsersMapping,w=e.teamUsers,Z=e.fetchBrandsList,k=(e.fetchBrandData,e.updateBrandData),I=e.fetchBrandUsersMapping,T=e.getTeamUsers,E=e.getCurrentSubscription,A=e.shareBrandRequest,_=e.addMusicToUploadedAudioList,R=e.addVisualToUploadedVisualList,P=e.activeProject,N=((0,l.Z)(e,rn),(0,s.useState)(m)),O=(0,c.Z)(N,2),D=O[0],U=O[1],L=(0,s.useState)(),F=(0,c.Z)(L,2),V=F[0],B=F[1],M=(0,s.useState)(0),G=(0,c.Z)(M,2),W=G[0],z=G[1],J=(0,s.useState)(),H=(0,c.Z)(J,2),Y=H[0],Q=H[1],X=(0,s.useState)(),$=(0,c.Z)(X,2),ee=$[0],te=$[1],ne=(0,s.useState)(!0),re=(0,c.Z)(ne,2),se=re[0],ae=re[1],ie=(0,s.useState)({message:"",severity:void 0}),oe=(0,c.Z)(ie,2),ce=oe[0],le=oe[1],ue=(0,s.useState)([]),de=(0,c.Z)(ue,2),pe=de[0],he=de[1],me=(0,s.useState)(""),ge=(0,c.Z)(me,2),fe=ge[0],ve=ge[1],xe=(0,s.useState)({teamId:(0,g.E3)()||f.vn}),Se=(0,c.Z)(xe,2),ye=Se[0],be=Se[1],je=(0,s.useState)(!1),we=(0,c.Z)(je,2),Ze=we[0],ke=we[1],Ce=(0,s.useState)(),Ie=(0,c.Z)(Ce,2),Te=Ie[0],Ee=Ie[1],Ae=function(){var e=(0,s.useState)(""),t=(0,c.Z)(e,2),n=t[0],r=t[1],a=(0,s.useState)(""),i=(0,c.Z)(a,2),o=i[0],l=i[1],u=(0,s.useState)(!1),d=(0,c.Z)(u,2),p=d[0],h=d[1],m=(0,s.useState)((0,j.jsx)(j.Fragment,{})),g=(0,c.Z)(m,2),f=g[0],v=g[1],x=(0,s.useState)(""),S=(0,c.Z)(x,2),w=S[0],Z=S[1],k=(0,s.useState)(""),C=(0,c.Z)(k,2),I=C[0],T=C[1],E=(0,s.useState)(""),A=(0,c.Z)(E,2),_=A[0],R=A[1],P=(0,s.useRef)(),N=(0,s.useRef)(),O=function(){var e;null===(e=N.current)||void 0===e||e.call(N),h(!1)},D=function(){var e;null===(e=P.current)||void 0===e||e.call(P,"confirmed"),h(!1)};return{ConfirmationDialog:function(){return p?(0,j.jsx)(b.default,{icon:f,iconColor:w,iconBgPaletteColor:w+".lighter",open:p,title:n,message:o,primaryButtonLabel:I,primaryButtonOnClick:D,primaryButtonColor:"error"==w?"error.main":"primary.main",secondaryButtonLabel:_,secondaryButtonOnClick:O}):(0,j.jsx)(j.Fragment,{})},createConfirmationDialog:function(e){var t=e.title,n=void 0===t?"Are you sure ?":t,s=e.message,a=void 0===s?"":s,i=e.icon,o=void 0===i?(0,j.jsx)(y.Z,{}):i,c=e.iconColor,u=void 0===c?"error":c,d=e.primaryButtonLabel,p=void 0===d?"Delete":d,m=e.secondaryButtonLabel,g=void 0===m?"Cancel":m;return new Promise((function(e,t){P.current=e,N.current=t,r(n),l(a),v(o),Z(u),T(p),R(g),h(!0)}))}}}(),_e=Ae.ConfirmationDialog,Re=Ae.createConfirmationDialog;(0,s.useEffect)((function(){return nn.Z.setItem("lastUrl",K.Z.branding),ae(!0),(0,g.E3)()&&T(),function(){ee&&Z(ee.username)}}),[]),(0,s.useEffect)((function(){ee&&(ae(!0),Z(ee.username),I(ee.username))}),[ee]),(0,s.useEffect)((function(){var e,t,r,s;null!=n&&null!==(e=n.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.editBrandId&&!se&&ee&&(Ne(n.location.state.editBrandId),ke(!0)),"storyboard"==(null==n||null===(r=n.location)||void 0===r||null===(s=r.state)||void 0===s?void 0:s.CreateBrandSource)&&ke(!0)}),[n,se,ee]),(0,s.useEffect)((function(){var e;m&&(ae(!1),e=(0,o.Z)(m)),U(e)}),[m]),(0,s.useEffect)((function(){if(Y){var e=null==v?void 0:v.Items.filter((function(e){return e.brandId===Y}));he(e)}}),[v]);var Pe=function(e){var t=e.message,n=e.severity;le({message:t,severity:n}),setTimeout((function(){le({message:"",severity:void 0})}),5e3)},Ne=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null==v?void 0:v.Items.filter((function(e){return e.brandId===t})),Q(t),z(sn),he(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,s,i,c,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.Z)(D),s=n.findIndex((function(e){return e.id==t})),i=n[s].name,e.next=5,Re({title:"Are you sure?",message:(0,j.jsxs)(j.Fragment,{children:["Are you sure you want to delete ",i,"? ",(0,j.jsx)("br",{}),"This action cannot be undone."]})});case 5:return e.sent,c=(0,r.Z)((0,r.Z)({},n[s]),{},{isDeleted:!0}),n.splice(s,1),U(n),e.next=11,Be(c,!1,!0,!1);case 11:"success"==(null==(l=e.sent)?void 0:l.status)?x().getInstance().logEvent("brand-deleted",{"brand-name":l.brand.name,"workspace-name":(0,g.CV)(null==ee?void 0:ee.username),"quota-left":(0,g.EI)(null==ee?void 0:ee.username)}):Pe({message:"Brand could not be deleted. Please contact support",severity:"error"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var s,i,c,l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(0,o.Z)(D),i=s.findIndex((function(e){return e.id==t})),n)for(c=0;c<s.length;c++)s[c].isDefault&&(s[c]=(0,r.Z)((0,r.Z)({},s[c]),{},{isDefault:void 0}));return l=(0,r.Z)((0,r.Z)({},s[i]),{},{isDefault:n}),s[i]=l,U(s),e.next=8,Be(l,!1,!1,!1);case 8:"success"==(null==(u=e.sent)?void 0:u.status)?(Pe({message:l.name+(n?" brand has been set as default, and will be applied to all new projects here on.":" brand has been removed as default, and no brand will be applied to new projects here on."),severity:"success"}),x().getInstance().logEvent("set-as-default",{"brand-name":l.name,"asset-type":"Brand","workspace-name":(0,g.CV)(null==ee?void 0:ee.username)})):Pe({message:"Brand status could not be changed. Please contact support",severity:"error"});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(e){var t=(0,o.Z)(D),n=t.findIndex((function(t){return t.id==e.id}));n>-1?t[n]=e:t.push(e),U(t)},Le=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x().getInstance().logEvent("create-a-brand",{"brand-name":null==t?void 0:t.name,"workspace-name":(0,g.CV)(null==ee?void 0:ee.username)}),e.next=3,Be(t,!0,!1,!1);case 3:return null!=(r=e.sent)&&null!==(n=r.brand)&&void 0!==n&&n.id?(Ue(r.brand),Pe({message:"Great Job! Brand successfully created",severity:"success"}),Ne(null==r||null===(s=r.brand)||void 0===s?void 0:s.id)):Pe({message:"Brand could not be created",severity:"error"}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t,!1,!1,!1);case 2:return null!=(r=e.sent)&&null!==(n=r.brand)&&void 0!==n&&n.id?Ue(r.brand):Pe({message:"Brand data could not be updated",severity:"error"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee("Please wait..."),(r=D.find((function(e){return e.id==t})))&&ee.username){e.next=4;break}return e.abrupt("return");case 4:return(r=$t().cloneDeep(r)).id=(0,qt.Z)(),r.name+=" (copy)",r.isDefault=!1,r.isShared=!1,r.sharedUserId=void 0,r.createdBy=ee.username,e.next=13,Be(r,!0,!1,!0);case 13:return null!=(s=e.sent)&&null!==(n=s.brand)&&void 0!==n&&n.id?(Ue(s.brand),x().getInstance().logEvent("brand-duplicated",{"brand-name":s.brand.name,"workspace-name":(0,g.CV)(null==ee?void 0:ee.username),"quota-left":(0,g.EI)(null==ee?void 0:ee.username)})):Pe({message:"Brand data could not be duplicated",severity:"error"}),Ee(""),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r,s){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.username,t.createdBy&&!s&&t.createdBy,e.next=4,k(t,ee.username);case 4:if(i=e.sent,!n&&!r){e.next=10;break}return e.next=8,(0,g._v)(4e3);case 8:return e.next=10,E(ee.username);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),Me=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Brand share removed for the chosen team member":"Brand shared with selected team members",e.next=3,A(n,t,null==ee?void 0:ee.username);case 3:"success"===(null==(s=e.sent)?void 0:s.status)?(setTimeout((function(){Pe({message:r,severity:"success"})}),100),I(null==ee?void 0:ee.username),x().getInstance().logEvent("asset-shared",{"asset-type":"brand","brand-id":n,"workspace-name":(0,g.CV)(null==ee?void 0:ee.username)})):(i=1===(null==t?void 0:t.length)&&"remove"===t[0].action?"Brand share could not be removed. Please contact support":"Brand could not be shared. Please contact support",Pe({message:i,severity:"error"}),x().getInstance().logEvent("asset-share-error",{"asset-type":"brand","brand-id":n,"workspace-name":(0,g.CV)(null==ee?void 0:ee.username),response:s}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=(0,g.EI)(null==ee?void 0:ee.username)<=0,We=Ge?(null==ye?void 0:ye.teamId)!==f.vn?"Brand quota has been exhausted on this workspace":"You have exhausted your brand quota":"",ze=((null==ye?void 0:ye.teamId)==f.vn&&!(0,g.wc)(null==ee?void 0:ee.username)||(null==ye?void 0:ye.teamId)!==f.vn&&(0,g.b1)(null==ee?void 0:ee.username))&&Ge,Je=0!==W||se,He=null==D?void 0:D.find((function(e){return e.id==Y})),Ke=(0,r.Z)((0,r.Z)({},He),{},{AIVoiceoverList:(null==He||null===(t=He.AIVoiceoverList)||void 0===t?void 0:t.filter((function(e){return!(null!==g.Tf&&void 0!==g.Tf&&g.Tf.includes(null==e?void 0:e.trackId))})))||[]});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(h.Z,{history:n,setUser:function(e){return te(e)},updateWorkspaceDetails:function(e){return be(e)}}),(0,j.jsxs)(d.ZP,{container:!0,className:"page-content p-0",sx:{position:"absolute",top:"55px",width:"calc(100vw - 2rem)",height:"calc(100vh - 55px - 28px)",margin:"1rem"},children:[(0,j.jsx)(d.ZP,{item:!0,sx:{width:"270px",backgroundColor:"#fff"},children:(0,j.jsx)(Ht,{onOpenCreateBrand:function(){return B(!0)},hideCreateBrand:Je,setLinkBrandDataItem:ve,view:W,workspaceDetails:(null==ye?void 0:ye.name)&&(0,j.jsx)(C,{selectedWorkspace:ye,username:null==ee?void 0:ee.username}),brandData:Ke,disableCreateBrandMsg:We})}),(0,j.jsxs)(d.ZP,{item:!0,sx:{width:"calc(100% - 270px)",backgroundColor:"#fff",p:"15px 0px 20px 20px",borderLeft:"1px solid #e0e0e0",height:"100%"},children:[0==W&&(se?(0,j.jsx)(u.Z,{className:"flex-row",children:$t().times(3,(function(){return(0,j.jsx)(p.Z,{variant:"rectangular",width:210,height:118,sx:{mr:2}})}))}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ot,{brandsList:se?void 0:D,onOpenCreateBrand:function(){return B(!0)},onOpenBrand:Ne,onDelete:Oe,onDuplicate:Ve,setDefault:De,username:null==ee?void 0:ee.username,brandUsersMapping:v,teamUsers:w,showAlertNotification:Pe,fetchBrandUsersMapping:I,shareBrand:Me,showUpgrade:ze,onClickUpgrade:function(){x().getInstance().logEvent("upgrade-button-clicked",{"button-clicked-from":"My brands"}),n.push("/"+K.Z.plansList)},disableCreateBrandMsg:We}),(0,j.jsx)(_e,{})]})),W==sn&&(0,j.jsx)(bt,{brandData:Ke,onUpdateBrandData:Fe,onCloseBrand:function(e){z(0);var t=(0,o.Z)(D),n=t.findIndex((function(t){return t.id==e.id}));t[n]=e,U(t)},username:null==ee?void 0:ee.username,brandUserMapping:pe,teamUsers:w,shareBrand:Me,showAlertNotification:Pe,linkBrandDataItem:fe,addMusicToUploadedAudioList:_,addVisualToUploadedVisualList:R,isFromStoryBoard:Ze,applyBrandOnProject:function(){var e;x().getInstance().logEvent("brand-save-and-apply",{"project-id":P.project_id,"project-name":null==P?void 0:P.projectName,"brand-name":null==D||null===(e=D.find((function(e){return e.id==Y})))||void 0===e?void 0:e.name,"workspace-name":(0,g.CV)(null==ee?void 0:ee.username)}),n.push({pathname:q.Z.BaseURL+K.Z.stepThree,state:{applyBrandId:Y,loadProject:!0,project_id:P.project_id,projectDetails:P,title:P.title||null}})},history:n})]})]}),V&&(0,j.jsx)(Qt,{open:V,onClose:function(e,t,n){B(!1),n&&Z(null==ee?void 0:ee.username)},onCreate:Le,username:null==ee?void 0:ee.username})]}),(0,j.jsx)(S.default,{show:ce.message.length>0,message:ce.message,severity:ce.severity,onClose:function(){return le({message:"",severity:void 0})}}),(0,j.jsx)(en.Z,{active:!(!Te||""===Te),spinner:!0,text:Te})]})}))),on=function(e){return(0,j.jsx)(an,(0,r.Z)({},e))}},57384:function(e,t,n){"use strict";n.r(t);var r=n(82937),s=n(14237),a=n(54034),i=(n(47313),n(46417));t.default=function(e){var t;return(0,i.jsx)(s.Z,{injectFirst:!0,children:(0,i.jsx)(r.ZP,{sx:{backgroundImage:"url(".concat("https://pictory-static.pictorycontent.com/signupbg_1080p.jpg",")"),width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundSize:"100%",alignItems:"center",backgroundColor:"#15161c"},container:!0,children:(0,i.jsx)(a.EmailVerification,{modal:!1,redirectedFrom:null===(t=e.location.state)||void 0===t?void 0:t.redirectedFrom,history:e.history})})})}},9159:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(82937),a=n(14237),i=n(54034),o=(n(47313),n(46417));t.default=function(e){return(0,o.jsx)(a.Z,{injectFirst:!0,children:(0,o.jsx)(s.ZP,{container:!0,sx:{flexGrow:1,justifyContent:"center"},direction:"column",children:(0,o.jsx)(i.UserLogin,(0,r.Z)({},e))})})}},91977:function(e,t,n){"use strict";n.r(t),n(47313);var r=n(46417);t.default=function(){return(0,r.jsx)("div",{style:{height:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"grey"},children:(0,r.jsxs)("div",{style:{width:"80%"},children:[(0,r.jsx)("div",{style:{paddingBottom:"30px",paddingRight:"20px"},children:(0,r.jsx)("img",{src:"/icons/logo-octopus-with-pictory.png"})}),(0,r.jsxs)("h4",{style:{lineHeight:1.5,paddingLeft:"10px"},children:["Thanks for signing up. ",(0,r.jsx)("br",{}),"We don't support mobile yet. ",(0,r.jsx)("br",{}),"Please sign in to Pictory from your desktop computer to continue using Pictory"]})]})})}},48532:function(e,t,n){"use strict";n.r(t);var r=n(82937),s=(n(51690),n(14237)),a=n(54034),i=(n(47313),n(46417));t.default=function(e){return(0,i.jsx)(s.Z,{injectFirst:!0,children:(0,i.jsx)(r.ZP,{sx:{backgroundImage:"url(".concat("https://pictory-static.pictorycontent.com/signupbg_1080p.jpg",")"),width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundSize:"100%",alignItems:"center",backgroundColor:"#15161c"},container:!0,children:(0,i.jsx)(a.UserPaymentCards,{history:e.history,redirectedFrom:e.location&&e.location.state&&e.location.state.redirectedFrom||"",redirectPath:e.location&&e.location.state&&e.location.state.redirectPath||""})})})}},58134:function(e,t,n){"use strict";n.r(t);var r=n(82937),s=n(14237),a=n(54034),i=(n(47313),n(87074)),o=n(45610),c=n(46417);t.default=function(e){var t,n,l;return(0,c.jsx)(s.Z,{injectFirst:!0,children:(0,c.jsx)(r.ZP,{sx:{backgroundImage:"url(/images/homepage-blur.png)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundSize:"100%",alignItems:"center",backgroundColor:"#15161c"},container:!0,children:(0,c.jsx)(a.VideoGenerationQuestionnaire,{onClose:function(){var t;e.history.push({pathname:i.Z.BaseURL+o.Z.stepOne,state:{isNewSignUp:null===(t=e.location.state)||void 0===t?void 0:t.isNewSignUp,showConfettiAfterQs:!0}})},previousAnswers:null,startQuestion:(null===(t=e.location.state)||void 0===t?void 0:t.startQuestion)||1,isSignup:null===(n=e.location.state)||void 0===n?void 0:n.isNewSignUp,isLogin:null===(l=e.location.state)||void 0===l?void 0:l.isLogin,history:e.history})})})}},53445:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(82937),a=(n(51690),n(54034)),i=(n(47313),n(46417));t.default=function(e){return(0,i.jsx)(s.ZP,{container:!0,sx:{flexGrow:1},direction:"column",children:(0,i.jsx)(a.UserSignup,(0,r.Z)({},e))})}},48997:function(e,t,n){"use strict";n.r(t);var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(58921),c=n(51443),l=n.n(c),u=n(51690),d=n(47313),p=n(1084),h=n(3643),m=n(78896),g=n(91104),f=n(47439),v=n(96161),x=n(46417),S=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).onCancellationReasonSelect=function(e){s.setState({cancellationReason:e,cancellationStep:s.state.cancellationStep+1,pauseAndCancelAction:!0})},s.onPauseSubscription=function(e){"OTHER"===s.state.cancellationReason&&s.state.cancellationStep<=2?s.setState({cancellationStep:s.state.cancellationStep+1,pauseAction:!0,cancelAction:!1,pauseAndCancelAction:!1,pauseReason:e}):(s.setState({loading:!0}),l().getInstance().logEvent("cancel-subscription",{reason:s.state.pauseReason||e,decision:"PAUSE_SUBSCRIPTION"}),s.props.hibernateSubscription(s.props.user.username,s.state.currentSubscription.subscription_id),s.setState({isBusy:!0,busyMessage:"Pausing subscription..."}))},s.onNeedHelpWithSubscription=function(e){s.setState({loading:!0}),l().getInstance().logEvent("cancel-subscription",{reason:s.state.cancellationReason,decision:e}),s.props.subscriptionHelp(s.props.user.username,s.state.currentSubscription.subscription_id,e),s.setState({isBusy:!0,busyMessage:"Contacting support for help..."})},s.onGetDiscountOnSubscription=function(){s.setState({loading:!0}),l().getInstance().logEvent("cancel-subscription",{reason:s.state.cancellationReason,decision:"GET_DISCOUNT"}),s.props.subscriptionCancelDiscount(s.props.user.username,s.state.currentSubscription.subscription_id),s.setState({isBusy:!0,busyMessage:"Applying discount..."})},s.onSelectCancelSubscription=function(e){s.setState({cancellationStep:s.state.cancellationStep+1,selectedCancellationReason:e})},s.onCancelSubscription=function(e){s.setState({loading:!0}),l().getInstance().logEvent("cancel-subscription",{reason:e,decision:"GO_AHEAD_AND_CANCEL"}),s.props.cancelSubscription({subId:s.state.currentSubscription.subscription_id,userId:s.props.user.username}),s.setState({isBusy:!0,busyMessage:"Cancelling subscription..."})},s.onCloseCancelSubscription=function(){s.props.onClose&&s.props.onClose()},s.getCancelSubscriptionReason=function(){return"OTHER"!==s.state.cancellationReason?(0,x.jsx)(u.CancelSubscriptionReason,{name:s.state.userName,email:s.state.email,reason:s.state.cancellationReason,onNeedHelp:s.onNeedHelpWithSubscription,onGetDiscount:s.onGetDiscountOnSubscription,onPause:s.onPauseSubscription,onCancel:s.onSelectCancelSubscription,onClose:s.onCloseCancelSubscription}):(0,x.jsx)(u.CancelSubscriptionOthers,{name:s.state.userName,email:s.state.email,onPause:s.onPauseSubscription,onCancel:s.onSelectCancelSubscription,onClose:s.onCloseCancelSubscription})},s.state={cancellationReason:"",cancellationStep:1},s}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e,t=(0,g.we)(this.props.user.username);this.setState({currentSubscription:t,userName:this.props.user.attributes&&this.props.user.attributes.name,email:this.props.user.attributes&&this.props.user.attributes.email}),(null===(e=t.plan)||void 0===e?void 0:e.plan_code)===f.yj.hibernate&&this.setState({cancellationStep:3,cancelAction:!0})}},{key:"componentDidUpdate",value:function(e,t){this.onCancelSubStatusChanged(e),this.onHibernateSubscriptionResultChanged(e),this.onSubscriptionHelpResultChanged(e),this.onSubscriptionCancelDiscountResultChanged(e)}},{key:"onCancelSubStatusChanged",value:function(e){this.props.cancelSubStatus&&this.props.cancelSubStatus!==e.cancelSubStatus&&(this.props.cancelSubStatus.success?this.props.onClose&&this.props.onClose({result:"SUBSCRIPTION_CANCELLED"}):(0,v.x2)("Subscription could not be cancelled. Please contact support."),this.setState({isBusy:!1,busyMessage:""}))}},{key:"onHibernateSubscriptionResultChanged",value:function(e){this.props.hibernateSubscriptionResult&&this.props.hibernateSubscriptionResult!==e.hibernateSubscriptionResult&&(this.props.hibernateSubscriptionResult.success?this.props.onClose&&this.props.onClose({result:"SUBSCRIPTION_HIBERNATED"}):(0,v.x2)("Subscription could not be paused. Please contact support."),this.setState({isBusy:!1,busyMessage:""}))}},{key:"onSubscriptionHelpResultChanged",value:function(e){if(this.props.subscriptionHelpResult&&this.props.subscriptionHelpResult!==e.subscriptionHelpResult){if(this.state.supressHelpEmailNotification)return void this.setState({supressHelpEmailNotification:!1});this.props.onClose&&this.props.onClose({result:"SUBSCRIPTION_HELP_SEND"}),this.setState({isBusy:!1,busyMessage:""})}}},{key:"onSubscriptionCancelDiscountResultChanged",value:function(e){this.props.subscriptionCancelDiscountResult&&this.props.subscriptionCancelDiscountResult!==e.subscriptionCancelDiscountResult&&(this.props.subscriptionCancelDiscountResult.success||113030!==this.props.subscriptionCancelDiscountResult.code?(this.props.onClose&&this.props.onClose({result:"DISCOUNT_APPLIED"}),this.setState({busyMessage:"Please wait..."})):(this.setState({busyMessage:"Please wait...",supressHelpEmailNotification:!0}),this.props.subscriptionHelp(this.props.user.username,this.state.currentSubscription.subscription_id,"NEED_DISCOUNT"),this.props.onClose&&this.props.onClose({result:"DISCOUNT_ALREADY_APPLIED"})))}},{key:"render",value:function(){return(0,x.jsx)(o.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.props.opened,children:(0,x.jsxs)(x.Fragment,{children:[1===this.state.cancellationStep?(0,x.jsx)(u.CancelReasonSelect,{onReasonSelect:this.onCancellationReasonSelect,onClose:this.onCloseCancelSubscription}):2===this.state.cancellationStep?this.getCancelSubscriptionReason():(0,x.jsx)(u.CancelActionSelect,{cancellationReason:this.state.selectedCancellationReason,pauseAction:this.state.pauseAction,cancelAction:this.state.cancelAction,pauseAndCancelAction:this.state.pauseAndCancelAction,onPause:this.onPauseSubscription,onCancel:this.onCancelSubscription,onClose:this.onCloseCancelSubscription}),(0,x.jsx)(o.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.isBusy,children:(0,x.jsx)(u.PCircularProgress,{text:this.state.busyMessage})})]})})}}]),n}(d.Component);t.default=(0,p.$j)((function(e){return{cancelSubStatus:e.subscription.cancelSubStatus,hibernateSubscriptionResult:e.subscription.hibernateSubscriptionResult,subscriptionHelpResult:e.subscription.subscriptionHelpResult,subscriptionCancelDiscountResult:e.subscription.subscriptionCancelDiscountResult}}),(function(e){return{cancelSubscription:function(t){return e(m.Z.cancelSubscription(t))},hibernateSubscription:function(t,n){return e(m.Z.hibernateSubscriptionRequest(t,n))},subscriptionHelp:function(t,n,r){return e(m.Z.subscriptionHelpRequest(t,n,r))},subscriptionCancelDiscount:function(t,n){return e(m.Z.subscriptionCancelDiscountRequest(t,n))}}}))((0,h.EN)(S))},9553:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(40158),s=n(1084),a=n(29439),i=n(47313),o=n(24873),c=n(605),l=n(27018),u=n(81962),d=n(2517),p=n(71235),h=n(66382),m=n(18104),g=n(59236),f=n(11198),v=n(44002),x=n(48268),S=n(68747),y=n(42669),b=n(64292),j=n(19212),w=n(98495),Z=n(46417),k=(0,s.$j)((function(e,t){return{sharedVideo:e.myVideos.sharedVideo}}),{shareVideo:r.shareVideo,clearShareVideo:r.clearShareVideo})((function(e){var t=e.open,n=e.videoURL,r=e.audioURL,s=e.downloadVideo,k=e.downloadAudio,C=e.downloadTextFile,I=e.project_id,T=e.projectName,E=e.srtFile,A=e.vttFile,_=e.txtFile,R=e.videoThumbnail,P=e.previewJson,N=e.gotoMyProjects,O=e.onClose,D=e.sharedVideo,U=e.shareVideo,L=e.clearShareVideo,F=i.useState(!1),V=(0,a.Z)(F,2),B=V[0],M=V[1],G=i.useState(!1),W=(0,a.Z)(G,2),z=W[0],J=W[1],H=i.useState(""),K=(0,a.Z)(H,2),q=K[0],Y=K[1],Q=i.useState(null),X=(0,a.Z)(Q,2),$=X[0],ee=X[1],te=Boolean($);i.useEffect((function(){B?(U(I,[{name:T,url:n,audioURL:r,text:_,thumbnail:R,preview:P,vtt:A,srt:E}]),J(!1)):L()}),[B]),i.useEffect((function(){if(null!=D&&D[I]){var e,t=null==D||null===(e=D[I])||void 0===e?void 0:e.shareId,n="https://video.pictory.ai/"+"".concat(I,"/").concat(t);Y(n)}}),[D]);var ne=function(){ee(null)},re=function(e){ne(),C(e)};return(0,Z.jsxs)(d.Z,{"aria-labelledby":"customized-dialog-title",open:t,sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"610px"}}},children:[(0,Z.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"18px 24px 8px 24px"},children:[(0,Z.jsx)(y.Z,{variant:"text_2xl",sx:{lineHeight:2,mb:"20px",color:"grey.900",display:"block",fontWeight:"700"},className:"mb-0",children:"Your video is now ready!"}),(0,Z.jsx)(f.Z,{onClick:O,sx:{cursor:"pointer"}})]}),(0,Z.jsx)(p.Z,{sx:{padding:"10px 24px 20px 24px",borderTop:"0px"},dividers:!0,children:(0,Z.jsxs)(o.Z,{sx:{backgroundColor:"info.lighter",borderRadius:"4px",display:"flex",alignItems:"center"},className:"p-3",children:[(0,Z.jsx)(g.Z,{color:"secondary",className:"mr-2"}),(0,Z.jsxs)(y.Z,{gutterBottom:!0,className:"m-0",sx:{fontWeight:"100",fontSize:"text_sm",display:"flex"},children:["Video is saved under",(0,Z.jsx)(y.Z,{color:"primary",sx:{display:"inline-block",marginLeft:"5px",textDecoration:"underline",cursor:"pointer"},onClick:function(){N(),O()},children:"My projects"})]})]})}),(0,Z.jsxs)(h.Z,{sx:{padding:"24px",display:"flex",justifyContent:"space-between"},children:[!B&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(c.Z,{variant:"text",sx:{marginRight:"10px"},onClick:function(){return M(!0)},children:[(0,Z.jsx)(x.Z,{sx:{marginRight:"10px"},color:"primary"}),"Copy link"]}),(0,Z.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[r&&(0,Z.jsx)(o.Z,{children:(0,Z.jsxs)(c.Z,{variant:"text",sx:{fontWeight:"100",fontSize:"text_sm",padding:"10px"},onClick:function(){return k()},children:[(0,Z.jsx)("img",{src:"/images/exportAudio.svg",className:"mr-2",style:{marginTop:"-2px"}}),"Export audio"]})}),(E||A||_)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(c.Z,{variant:"text",onClick:function(e){ee(e.currentTarget)},sx:{display:"inline-flex",cursor:"pointer"},children:[(0,Z.jsx)(S.Z,{sx:{marginRight:"10px"},color:"primary"}),"Export text",(0,Z.jsx)(j.Z,{})]}),(0,Z.jsxs)(l.Z,{id:"basic-menu",anchorEl:$,open:te,onClose:ne,sx:{"& .MuiMenu-list":{minWidth:"140px"}},children:[(0,Z.jsx)(u.Z,{dense:!0,disabled:!0,children:"Export as"}),_&&(0,Z.jsx)(u.Z,{onClick:function(){return re(_)},children:".txt"}),E&&(0,Z.jsx)(u.Z,{onClick:function(){return re(E)},children:".srt"}),A&&(0,Z.jsx)(u.Z,{onClick:function(){return re(A)},children:".vtt"})]})]})]}),(0,Z.jsx)(o.Z,{children:(0,Z.jsxs)(c.Z,{variant:"contained",sx:{fontWeight:"100",fontSize:"text_sm",padding:"10px 20px"},onClick:function(){return s()},children:[(0,Z.jsx)(v.Z,{className:"mr-2"}),"Download"]})})]}),B&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(o.Z,{className:"w-100",children:[(0,Z.jsxs)(o.Z,{className:"mb-2 d-flex justify-between align-items-center",children:[(0,Z.jsx)(y.Z,{sx:{color:"grey.900",fontSize:"text_sm"},children:"Everyone with the link can view this video"}),(0,Z.jsx)(m.Z,{onClick:function(){return M(!1)},children:(0,Z.jsx)(w.Z,{sx:{color:"grey.400"}})})]}),(0,Z.jsxs)(o.Z,{className:"d-flex justify-between align-items-center border p-1",sx:{borderRadius:"5px",color:"grey.500"},children:[(0,Z.jsx)(o.Z,{sx:{maxWidth:"calc(100% - 140px)",overflow:"hidden",height:"1.6em"},children:q?(0,Z.jsx)(y.Z,{sx:{textDecoration:"underline"},children:q}):"Preparing link..."}),!z&&(0,Z.jsx)(c.Z,{variant:"contained",className:q?"":"disabled",onClick:function(){navigator.clipboard.writeText(q).then((function(){J(!0)}),(function(){J(!1)}))},sx:{fontWeight:"100",fontSize:"text_sm",padding:"10px 20px",height:"30px",borderRadius:"4px"},children:"Copy link"}),z&&(0,Z.jsxs)(c.Z,{onClick:O,sx:{fontWeight:"100",fontSize:"text_sm",padding:"10px 10px",height:"30px",borderRadius:"4px",backgroundColor:"success.lighter",textDecoration:"none",color:"success.dark"},children:[(0,Z.jsx)(b.Z,{className:"mr-2"}),"Link copied"]})]})]})})]})]})}))},89859:function(e,t,n){"use strict";n.r(t);var r=n(74165),s=n(15861),a=n(15671),i=n(43144),o=n(60136),c=n(29388),l=n(47313),u=n(22449),d=n(40009),p=n(51443),h=n.n(p),m=n(51690),g=(n(16031),n(1084)),f=n(3643),v=n(78896),x=n(91104),S=n(87074),y=n(45610),b=n(96161),j=n(90794),w=n(47439),Z=n(46417),k=new Array(6).fill(""),C=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).onResendCode=function(){r.setState({verificationCodeSent:!1,busy:!0,busyMessage:"Resending code",validationError:{code:null,message:null}}),r.props.sendEmailVerification()},r.onCodeChanged=function(e){r.setState({verificationCodeSent:!1,validationError:{code:null,message:null}})},r.onCodeComplete=function(e){r.setState({verificationCodeSent:!1,codes:e,busy:!0,busyMessage:"Verifying code",validationError:{code:null,message:null}}),r.props.verifyEmail(e.join(""))},r.onChangeEmail=function(){d.g.signOut(),j.Z.clear(),window.location.assign("/signup")},r.state={busy:!1,busyMessage:"",codes:k,emailVerified:!1,verificationCodeSent:!1,validationError:{code:null,message:null}},r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loggedInUser?(this.setState({currentUser:this.props.loggedInUser}),this.props.getCurrentSubscription(this.props.loggedInUser.username),this.props.redirectedFrom===y.Z.signUp&&this.props.sendEmailVerification()):d.g.currentAuthenticatedUser().then(function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({currentUser:n}),e.props.getCurrentSubscription(n.username),e.props.redirectedFrom===y.Z.signUp&&e.props.sendEmailVerification();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.props.history.push("/"+y.Z.login)}))}},{key:"componentDidUpdate",value:function(e,t){this.onEmailVerificationResultChanged(e),this.onEmailVerifiedResultChanged(e)}},{key:"onEmailVerificationResultChanged",value:function(e){this.props.emailVerificationResult&&this.props.emailVerificationResult!==e.emailVerificationResult&&(this.props.emailVerificationResult.success?(this.props.redirectedFrom!==y.Z.signUp&&this.setState({verificationCodeSent:!0}),this.setState({validationError:{code:null,message:null}})):(0,b.x2)(this.props.emailVerificationResult.message||"Could not able to send code at the moment. Please contact support"),this.setState({busy:!1}))}},{key:"onEmailVerifiedResultChanged",value:function(e){var t=this;this.props.emailVerifiedResult&&this.props.emailVerifiedResult!==e.emailVerifiedResult&&(this.props.emailVerifiedResult.success?(this.setState({emailVerified:!0}),h().getInstance().logEvent("email-verified"),setTimeout((function(){var e=t.props.currentSubscription.data;if(!(0,x.E3)()&&t.props.currentSubscription.plan.plan_code===w.yj.freeTrial&&"chargebee"===t.props.currentSubscription.data.organization_id){var n=(0,x.Wy)(e);if(-1!=n)return void t.props.history.push({pathname:S.Z.BaseURL+y.Z.userQuestionnaire,state:{isLogin:t.props.redirectedFrom===y.Z.login,isNewSignUp:t.props.redirectedFrom===y.Z.signUp,startQuestion:n}})}t.props.history.push("/"+y.Z.stepOne)}),2500)):this.setState({verificationCodeSent:!1,validationError:this.props.emailVerifiedResult,codes:k}),this.setState({busy:!1}))}},{key:"render",value:function(){var e,t;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.EmailVerificationForm,{submittingForm:this.state.busy,submittingMessage:this.state.busyMessage,codes:this.state.codes,validationError:this.state.validationError,email:this.state.currentUser&&this.state.currentUser.attributes&&this.state.currentUser.attributes.email,emailVerified:this.state.emailVerified,codeSent:this.state.verificationCodeSent,onResendCode:this.onResendCode,onCodeChanged:this.onCodeChanged,onCodeComplete:this.onCodeComplete,onChangeEmail:this.onChangeEmail}),(null===(e=this.props.loggedInUser)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.email)&&(0,Z.jsx)("div",{id:"hyros-email",style:{visibility:"hidden",position:"absolute"},children:(0,Z.jsx)(u.Z,{value:this.props.loggedInUser.attributes.email,preventDefault:!0})})]})}}]),n}(l.Component);t.default=(0,g.$j)((function(e){return{emailVerificationResult:e.emailVerification.emailVerificationResult,emailVerifiedResult:e.emailVerification.emailVerifiedResult,currentSubscription:e.subscription.currentSubscription,loggedInUser:e.userLogin.loggedInUser}}),(function(e){return{sendEmailVerification:function(){return e(v.Z.sendEmailVerificationRequest())},verifyEmail:function(t){return e(v.Z.verifyEmailRequest(t))},getCurrentSubscription:function(t){return e(v.Z.getCurrentSubscription(t))}}}))((0,f.EN)(C))},3067:function(e,t,n){"use strict";n.r(t);var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(40009),c=n(51690),l=n(47313),u=n(1084),d=n(3643),p=n(78896),h=n(96161),m=n(46417),g=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).onResendLinkClick=function(){s.props.sendEmailVerificationCode(),(0,h.s$)("Email verification link sent.")},s.state={open:!1},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.user&&this.props.user.attributes&&!this.props.user.attributes.email_verified&&o.g.currentUserInfo().then((function(t){t&&t.attributes&&t.username&&!t.username.startsWith("Google")&&!t.attributes.email_verified&&e.setState({open:!0})}))}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){return(0,m.jsx)(c.EmailNotVerifiedAlert,{open:this.state.open,onResendLink:this.onResendLinkClick})}}]),n}(l.Component);t.default=(0,u.$j)((function(e){return{}}),(function(e){return{sendEmailVerificationCode:function(){return e(p.Z.sendEmailVerificationCodeRequest())}}}))((0,d.EN)(g))},76249:function(e,t,n){"use strict";n.r(t);var r=n(15671),s=n(43144),a=n(97326),i=n(60136),o=n(29388),c=n(82937),l=n(51690),u=n(47313),d=n(1084),p=n(3643),h=n(78896),m=n(46417),g=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).onLoginClick=function(){s.setState({isBusy:!0,busyMessage:"Sign-in in progress..."}),s.props.loginGoogleDrive()},s.onLogoutClick=function(){s.setState({isBusy:!0,busyMessage:"Signout in progress..."}),s.props.logoutGoogleDrive()},s.onFileSelect=function(e,t){s.props.onFileSelect({fileId:e,fileName:t,accessToken:s.props.user.xc.access_token})},s.onLoadNextFiles=function(){s.props.filesResult.nextPageToken&&s.props.getGoogleDriveFiles(s.props.filesResult.nextPageToken)},s.state={isBusy:!0,busyMessage:"Please wait..."},e.instance.current=(0,a.Z)(s),s}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.initializeGoogleDrive()}},{key:"componentDidUpdate",value:function(e,t){this.onInitializeGoogleDriveResultChanged(e),this.onLoginGoogleDriveResultChanged(e),this.onLogoutGoogleDriveResultChanged(e),this.onGetGoogleDriveFilesResultChanged(e)}},{key:"onInitializeGoogleDriveResultChanged",value:function(e){this.props.initializeGoogleDriveResult&&this.props.initializeGoogleDriveResult!==e.initializeGoogleDriveResult&&(this.props.initializeGoogleDriveResult.success&&this.props.user?(this.props.onLogin&&this.props.onLogin(),this.props.getGoogleDriveFiles()):this.setState({isBusy:!1,busyMessage:""}))}},{key:"onLoginGoogleDriveResultChanged",value:function(e){this.props.loginGoogleDriveResult&&this.props.loginGoogleDriveResult!==e.loginGoogleDriveResult&&(this.props.loginGoogleDriveResult.success&&this.props.user?(this.props.onLogin&&this.props.onLogin(),this.props.getGoogleDriveFiles()):this.setState({isBusy:!1,busyMessage:""}))}},{key:"onLogoutGoogleDriveResultChanged",value:function(e){this.props.logoutGoogleDriveResult&&this.props.logoutGoogleDriveResult!==e.logoutGoogleDriveResult&&(this.props.logoutGoogleDriveResult.success&&this.props.onLogout&&this.props.onLogout(),this.setState({isBusy:!1,busyMessage:""}))}},{key:"onGetGoogleDriveFilesResultChanged",value:function(e){this.props.getGoogleDriveFilesResult&&this.props.getGoogleDriveFilesResult!==e.getGoogleDriveFilesResult&&(this.props.getGoogleDriveFilesResult.success,this.setState({isBusy:!1,busyMessage:""}))}},{key:"render",value:function(){return(0,m.jsx)(c.ZP,{container:!0,children:this.state.isBusy?(0,m.jsx)(l.PCircularProgress,{text:this.state.busyMessage}):(0,m.jsx)(m.Fragment,{children:this.props.user?(0,m.jsx)(c.ZP,{item:!0,container:!0,children:(0,m.jsx)(c.ZP,{item:!0,sx:{width:"100%"},children:this.props.filesResult&&this.props.filesResult.files&&this.props.filesResult.files.length>0?(0,m.jsxs)(m.Fragment,{children:[this.state.loadingMoreFiles?(0,m.jsx)(l.PCircularProgress,{text:"Loading more..."}):(0,m.jsx)(m.Fragment,{}),(0,m.jsx)(l.GoogleMediaFileList,{loadNextFiles:this.onLoadNextFiles,hasMore:!!this.props.filesResult.nextPageToken,files:this.props.filesResult.files,onFileSelect:this.onFileSelect})]}):(0,m.jsx)(m.Fragment,{})})}):(0,m.jsx)(l.GoogleDriveLoginButton,{onClick:this.onLoginClick})})})}}]),n}(u.Component);t.default=(0,d.$j)((function(e){return{initializeGoogleDriveResult:e.googleDrive.initializeGoogleDriveResult,user:e.googleDrive.user,loginGoogleDriveResult:e.googleDrive.loginGoogleDriveResult,logoutGoogleDriveResult:e.googleDrive.logoutGoogleDriveResult,getGoogleDriveFilesResult:e.googleDrive.getGoogleDriveFilesResult,filesResult:e.googleDrive.filesResult}}),(function(e){return{initializeGoogleDrive:function(){return e(h.Z.initializeGoogleDriveRequest())},loginGoogleDrive:function(){return e(h.Z.loginGoogleDriveRequest())},logoutGoogleDrive:function(){return e(h.Z.logoutGoogleDriveRequest())},getGoogleDriveFiles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e(h.Z.getGoogleDriveFilesRequest(t))}}}))((0,p.EN)(g))},85802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var r=n(1413),s=n(15671),a=n(43144),i=n(97326),o=n(60136),c=n(29388),l=n(81962),u=n(94286),d=n(24873),p=n(82937),h=n(42669),m=n(62463),g=n(77449),f=n(92484),v=n(82821),x=n(28566),S=n(605),y=n(58921),b=n(51690),j=(n(54034),n(74165)),w=n(15861),Z=n(80699),k=n(10056),C=n(51443),I=n.n(C),T=n(86508),E=n(41293),A=n(76666),_=n.n(A),R=n(47313),P=n(1084),N=n(45987),O=n(52927),D=n(15422),U=n(4330),L=n(46417),F=["value","onChange","onAccept"];function V(e){var t=e.value,n=e.onChange,s=e.onAccept,a=(0,N.Z)(e,F);return(0,L.jsxs)(O._c,(0,r.Z)((0,r.Z)({title:"Number of Speakers"},a),{},{contentSx:{paddingTop:0},children:[(0,L.jsxs)("p",{children:["Help us improve video transcription quality by ",(0,L.jsx)("br",{}),"specifying number of speakers in this video. "]}),(0,L.jsx)(U.W,{value:t,onChange:n,minValue:1,maxValue:10,sx:{marginBottom:"2rem"},plusStyles:{backgroundColor:"grey.100"}}),(0,L.jsx)(D.w,{variant:"contained",color:"primary",fullWidth:!0,onClick:s,children:"Proceed"})]}))}var B=n(78896),M=n(47439),G=n(91104),W=n(45610),z=n(59341),J=B.Z.setUploadProgress,H=B.Z.transcriptionSummaryInitiate,K=B.Z.UploadMediaForTranscription,q=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).fileRefClick=function(){r.props.validateProjectQuota&&!1===r.props.validateProjectQuota()||(r.fileRef.click(),setTimeout((function(){r.setState({selectedFilesError:""})}),2))},r.handleSubmit=function(e){e.preventDefault(),r.props.validateProjectQuota&&!1===r.props.validateProjectQuota()||(r.state.longVideo?(0,G.k$)(r.props.user?r.props.user.username:"")?r.promptSpeakerCount():r.handleProceedWithSpeakers():r.setState({selectedFilesError:"Please select a video/audio."}))},r.handleProceedWithSpeakers=function(){r.createVideoFromVideo()},r.promptSpeakerCount=function(){r.setState({showPromptSpeakerCount:!0})},r.createVideoFromVideo=function(e){var t=r.state.longVideo,n=r.props.user,s=Date.now(),a=t.name.replace(/ /g,"_").replace(/[^0-9a-zA-Z_.]+/g,""),i="".concat(n.username,"/projects/").concat(s,"/videos/transcription/").concat(a);a.split(".").pop().toLowerCase(),r.props.openNotification(),r.props.UploadMediaForTranscription({filePath:i,projectId:s,fileTobeUploaded:t,user:n,filename:a,isPodcast:!1,language:r.props.language,transcriptionVideoDuration:r.state.transcriptionVideoDuration,speakerCount:r.state.speakerCount}),r.clearSelectedFile(),r.props.history.push("/"+W.Z.progress),I().getInstance().logEvent("start-editing-long-videos",{"project-id":s,"video-name":a,language:r.props.language,"video-duration":r.state.transcriptionVideoDuration,"video-file-size":(t.size/1e6).toFixed(2)+" MB"})},r.clearSelectedFile=function(){r.setState({selectedFilesError:"",longVideo:null,selectedFileName:""}),r.fileRef.value=""},r.beginButtonMovingAnimation=function(){var e=document.querySelector(".floating-blue-box");e&&e.parentElement.removeChild(e);var t=document.querySelector(".working-div #close-generate-video-popup").getBoundingClientRect(),n=document.querySelector(".working-div #notification-bell-dropdown").getBoundingClientRect(),r=document.createElement("div");r.classList.add("floating-blue-box"),r.style.left=parseInt(t.left)+"px",r.style.top=parseInt(t.top)+"px",r.style.width=parseInt(t.width)+"px",r.style.height=parseInt(t.height)+"px",r.style.display="block",(0,T.Z)({targets:r,translateX:n.x-t.x-24,translateY:n.y-t.y-24,scaleX:n.width/(2*t.width),scaleY:n.height/(2*t.height),duration:750,easing:"easeInQuint",complete:function(){r.style.display="none"}}),document.body.appendChild(r)},r.setUpFiledropListeners=function(){var e=document.getElementById("videoDropContainer");if(!r.state.isDragSupported)return"Dragging not supported";var t=_()(e);t.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){t.addClass("is-dragover")})).on("dragleave dragend drop",(function(){t.removeClass("is-dragover")})).on("drop",(function(e){t.addClass("have-file");var n={target:{files:e.originalEvent.dataTransfer.files}};r.selectVideo(n)}))},r.setVideo=function(){var e=(0,w.Z)((0,j.Z)().mark((function e(t){var n,s,a,i,o,c,l,u,d;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=100,o=null===(n=r.state.fileValidation)||void 0===n?void 0:n.allowedDuration,c=null===(s=r.state.fileValidation)||void 0===s?void 0:s.allowedSingleFileDuration,!(0,G.Tm)(t)&&!(0,G.pk)(t)){e.next=8;break}return e.next=6,(0,E.Z)(t);case 6:i=e.sent,i/=60;case 8:l=!0,u=null===(a=r.state.fileValidation)||void 0===a?void 0:a.allowedSize,(i||u)&&r.setState({filevalidation:{duration:i,allowedFileSize:u}}),t.size&&u&&(d=parseFloat((t.size/1048576).toFixed(2)))&&!1===isNaN(d)&&!1===isNaN(u)&&d>u&&(l=!1),((0,G.Tm)(t)||(0,G.pk)(t))&&l?o<=0?r.setState({headerMsg:"Your Monthly Upload Limit Reached! ",textMsg:"Your monthly video/audio upload limit has been reached"},(function(){r.showUpgradeModal(),r.fileRef.value=""})):i>c?r.setState({headerMsg:"Video/Audio Duration Exceeded!",textMsg:"The uploaded video/audio duration is more than ".concat(c>=60?Math.floor(c/60)+" hour(s)":Math.floor(c)+" minute(s)"," ")},(function(){r.showUpgradeModal(),r.fileRef.value=""})):o<i?r.setState({headerMsg:"Video/Audio Duration Exceeded!",textMsg:"The uploaded video/audio duration is more than your remaining monthly limit."},(function(){r.showUpgradeModal(),r.fileRef.value=""})):r.setState({longVideo:t,transcriptionVideoDuration:i,selectedFileName:t.name,selectedFilesError:""}):l?(r.setState({selectedFileName:"",selectedFilesError:(0,G.Tm)(t)||(0,G.pk)(t)?"Video/Audio length cannot exceed ".concat(c>=60?Math.floor(c/60)+" hour(s)":Math.floor(c)+" minute(s)"):"Please choose a file that has a valid format and size less than ".concat(u>=1024?Math.floor(u/1e3)+" GB":Math.floor(u)+" MB"),longVideo:null}),r.fileRef.value=""):(r.setState({selectedFileName:"",selectedFilesError:"Video/Audio size cannot exceed ".concat(u>=1024?Math.floor(u/1e3)+" GB":Math.floor(u)+" MB"),longVideo:null}),r.fileRef.value="");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectVideo=function(e){e.preventDefault&&e.preventDefault();var t=e.target.files[0];r.setVideo(t)},r.hideUpgradeModal=function(e,t){e.stopPropagation(),r.setState({alertPopup:!1}),t&&r.props.history.push("/"+W.Z.plansList)},r.showUpgradeModal=function(e){e&&e.stopPropagation(),r.setState({alertPopup:!0})},r.state={selectedFileName:"",isDragSupported:r.isDragToUploadSupported(),selectedFilesError:"",longVideo:null,transcriptionVideoDuration:0,speakerCount:1,showPromptSpeakerCount:!1,fileValidation:null,alertPopup:!1},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.setUpFiledropListeners(),this.props.user&&this.setState({fileValidation:{allowedDuration:(0,G.pC)(this.props.user.username),allowedSize:(0,G.N$)(this.props.user?this.props.user.username:"")[M.R2.transcriptionVideoSize],allowedSingleFileDuration:(0,G.J7)(this.props.user.username)}})}},{key:"isDragToUploadSupported",value:function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}},{key:"render",value:function(){var e,t,n,r,s,a,i,o,c,l,u,m,g,f,v,x=this;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(V,{value:this.state.speakerCount,onChange:function(e){I().getInstance().logEvent("video-editing-speakers",{number:e}),x.setState({speakerCount:e})},open:this.state.showPromptSpeakerCount,onClose:function(){x.setState({showPromptSpeakerCount:!1})},onAccept:this.handleProceedWithSpeakers}),(0,L.jsxs)(d.Z,{children:[(0,L.jsx)("input",{style:{display:"none"},type:"file",id:"file",onChange:this.selectVideo,accept:".ogg,.mp4,.webm,.mov,.mp3,.wav",ref:function(e){return x.fileRef=e}}),(0,L.jsx)(h.Z,{variant:"h6_resp",color:"grey.500",gutterBottom:!0,children:"Upload video/audio"}),(0,L.jsx)(p.ZP,{container:!0,children:(0,L.jsxs)(p.ZP,{item:!0,container:!0,xs:12,direction:"row",spacing:2,children:[(0,L.jsx)(p.ZP,{container:!0,item:!0,xs:10,justifyContent:"center",children:(0,L.jsxs)(d.Z,{id:"videoDropContainer",component:"span",sx:{p:2,border:"1px dashed grey",borderRadius:"5px",width:"80%",height:"300px",mt:"1rem"},style:{display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){x.fileRef.click(),x.setState({selectedFilesError:""})},children:[this.state.selectedFileName&&0!=this.state.selectedFileName.length?(0,L.jsx)(L.Fragment,{}):(0,L.jsxs)(p.ZP,{container:!0,item:!0,xs:12,alignItems:"center",direction:"column",children:[this.state.isDragSupported?(0,L.jsxs)(p.ZP,{container:!0,item:!0,direction:"column",alignItems:"center",children:[(0,L.jsx)(p.ZP,{item:!0,children:(0,L.jsx)(h.Z,{variant:"body3",children:"Drag and drop a file"})}),(0,L.jsx)(p.ZP,{children:(0,L.jsx)(h.Z,{variant:"body3",children:"or browse your computer"})})]}):(0,L.jsx)(p.ZP,{item:!0,children:(0,L.jsx)(h.Z,{variant:"body3",children:"Browse computer"})}),(0,L.jsxs)(h.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px"},children:["Video or audio file up to ",Math.floor((null===(e=this.state.fileValidation)||void 0===e?void 0:e.allowedSize)/1e3)," GB and no more than"," ",(null===(t=this.state.fileValidation)||void 0===t?void 0:t.allowedSingleFileDuration)>=60?Math.floor((null===(n=this.state.fileValidation)||void 0===n?void 0:n.allowedSingleFileDuration)/60*10)/10+" hour(s) ":Math.floor((null===(r=this.state.fileValidation)||void 0===r?void 0:r.allowedSingleFileDuration)/60*10)/10+" minute(s) ",(0,L.jsx)(Z.Z,{title:(0,L.jsxs)(d.Z,{sx:{p:"5px"},children:[(0,L.jsxs)(h.Z,{variant:"text_xs",sx:{opacity:".5",marginTop:"2px",mb:"4px"},children:["Supported format types and sizes"," "]}),(0,L.jsx)("br",{}),(0,L.jsxs)(h.Z,{variant:"text_sm",sx:{mb:"2px"},children:["Video - MP4, MOV, WEBM, OGG up to"," ",Math.floor((null===(s=this.state.fileValidation)||void 0===s?void 0:s.allowedSize)/1e3)," GB or"," ",(null===(a=this.state.fileValidation)||void 0===a?void 0:a.allowedSingleFileDuration)>=60?Math.floor((null===(i=this.state.fileValidation)||void 0===i?void 0:i.allowedSingleFileDuration)/60*10)/10+" hour(s) ":Math.floor((null===(o=this.state.fileValidation)||void 0===o?void 0:o.allowedSingleFileDuration)/60*10)/10+" minute(s) "]}),(0,L.jsx)("br",{}),(0,L.jsxs)(h.Z,{variant:"text_sm",children:["Audio - MP3, WAV, WEBA up to ",Math.floor((null===(c=this.state.fileValidation)||void 0===c?void 0:c.allowedSize)/1e3)," ","GB or"," ",(null===(l=this.state.fileValidation)||void 0===l?void 0:l.allowedSingleFileDuration)>=60?Math.floor((null===(u=this.state.fileValidation)||void 0===u?void 0:u.allowedSingleFileDuration)/60*10)/10+" hour(s) ":Math.floor((null===(m=this.state.fileValidation)||void 0===m?void 0:m.allowedSingleFileDuration)/60*10)/10+" minute(s) "]}),(0,L.jsx)("br",{}),(0,L.jsxs)(h.Z,{variant:"text_sm",children:["Total transcription hours left:"," ",(null===(g=this.state.fileValidation)||void 0===g?void 0:g.allowedDuration)>=60?Math.floor((null===(f=this.state.fileValidation)||void 0===f?void 0:f.allowedDuration)/60*10)/10+" hour(s) ":Math.floor(null===(v=this.state.fileValidation)||void 0===v?void 0:v.allowedDuration)+" minute(s) "," "]})]}),placement:"bottom",children:(0,L.jsx)(z.Z,{fontSize:"small",sx:{width:"13px",height:"13px",ml:"2px",mb:"2px"}})})]}),(0,L.jsx)(d.Z,{sx:{height:"20px"},children:this.state.selectedFilesError.length?(0,L.jsx)(h.Z,{component:"label",className:"step-1-article-error",children:this.state.selectedFilesError}):null})]}),(0,L.jsxs)("h3",{className:["input-instructions",this.state.selectedFileName.length?"":"hidden"].join(" "),children:[(0,L.jsx)("span",{className:"fixed-width-200-text",children:this.state.selectedFileName}),"  ",(0,L.jsx)(k.Z,{className:"fa fa-times",style:{cursor:"pointer"},onClick:this.clearSelectedFile,"aria-hidden":"true",sx:{color:"grey.400","&:hover":{color:"error.main"}}})]})]})}),(0,L.jsx)(p.ZP,{item:!0,container:!0,xs:2,children:(0,L.jsx)(p.ZP,{container:!0,item:!0,xs:12,justifyContent:"end",sx:{mt:"1rem"},children:this.state.selectedFileName&&this.state.selectedFileName.length?(0,L.jsx)(S.Z,{sx:{height:"36px",width:"90px"},onClick:this.handleSubmit,disabled:!!this.state.selectedFilesError&&this.state.selectedFilesError.length,variant:"contained",color:"primary",children:"Proceed"}):(0,L.jsx)(S.Z,{sx:{height:"36px",width:"90px"},variant:"contained",color:"primary",onClick:function(){return x.fileRefClick()},children:"Upload"})})})]})})]}),(0,L.jsx)(O._c,{open:this.state.alertPopup,title:this.state.headerMsg,msg:this.state.textMsg,onClose:function(){return x.setState({alertPopup:!1})},actions:(0,L.jsx)(S.Z,{variant:"contained",onClick:function(e){return x.hideUpgradeModal(e,!0)},children:"See plans"}),children:(0,L.jsxs)("p",{children:[this.state.textMsg,(0,L.jsx)("br",{}),"Please upgrade to upload more videos"]})})]})}}]),n}(R.Component),Y=(0,P.$j)(null,{setUploadProgress:J,transcriptionSummary:H,UploadMediaForTranscription:K})(q),Q=n(87074),X=n(96161),$=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),ee=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts)\/)/,te=/^[a-zA-Z0-9-_]{11}$/,ne=function(e){return te.test(e.trim())},re=function(e){try{return function(e){var t=new URL(e.trim()),n=t.searchParams.get("v");if(ee.test(e.trim())&&!n){var r=t.pathname.split("/");n="youtu.be"===t.host?r[1]:r[2]}else if(t.hostname&&!$.has(t.hostname))throw Error("Not a YouTube domain");if(!n)throw Error('No video id found: "'.concat(e,'"'));if(n=n.substring(0,11),!ne(n))throw TypeError("Video id (".concat(n,") does not match expected ")+"format (".concat(te.toString(),")"))}(e),!0}catch(e){return!1}},se=(n(78842),n(86171),B.Z.healthCheckYoutubeRequest,function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).onSelectedTabChange=function(e,t){a.setState({selectedTab:t})},a.onMediaUrlChange=function(e){if(e!==a.state.mediaUrl){var t=(0,r.Z)({},a.state.fieldErrors);delete t.mediaUrl,a.setState({mediaUrl:e,fieldErrors:t})}},a.onFileSelect=function(e,t){a.setState({mediaProperties:t,source:e},(function(){return a.handleSpeakersAccept()}))},a.uploadGoogleMedia=function(){var e={summarize:!0,url:"",language:a.state.language},t=a.props.currentUser.username,n=Date.now();if("GOOGLE_DRIVE"===a.state.source){var r,s={project_id:n,username:t,body:e,fetchProjectName:!0,videoURL:"",user:a.props.currentUser,filename:a.state.mediaProperties.fileName,uniqueId:null,transcriptionVideoDuration:0,fileId:a.state.mediaProperties.fileId,accessToken:a.state.mediaProperties.accessToken,source:"GOOGLE_DRIVE",parentId:null===(r=a.props.activeProjectFolder)||void 0===r?void 0:r.project_id,speakerCount:a.state.speakerCount};a.props.remoteMediaTranscription(s),a.setState({processingFile:!0})}},a.promptSpeakerCount=function(e){a.setState({showPromptSpeakerCount:!0,uploadType:e})},a.onProceedWithMediaUrlAndSpeakers=function(){var e,t={summarize:!0,url:"",language:a.state.language},n=a.props.currentUser.username,r=Date.now(),s=new URL(a.state.mediaUrl).pathname.replace(/^.*[\\\/]/,"");s=s.substring(0,s.lastIndexOf("."));var i={project_id:r,username:n,body:t,fetchProjectName:!0,videoURL:"",user:a.props.currentUser,filename:s,uniqueId:null,transcriptionVideoDuration:0,mediaUrl:a.state.mediaUrl,source:re(a.state.mediaUrl)?"YOUTUBE":"REMOTE",parentId:null===(e=a.props.activeProjectFolder)||void 0===e?void 0:e.project_id,speakerCount:a.state.speakerCount};a.props.remoteMediaTranscription(i),a.setState({processingFile:!0,showPromptSpeakerCount:!1})},a.onProceedWithMediaUrl=function(){if(a.state.mediaUrl){if(!1===re(a.state.mediaUrl)){var e=(0,r.Z)({},a.state.fieldErrors);return e.mediaUrl="Invalid YouTube link",void a.setState({fieldErrors:e})}a.handleSpeakersAccept()}},a.onLanguageSelect=function(e){var t=e.value;e.name,a.setState({language:t})},a.onGoogleDriveLogin=function(){a.setState({isLoggedInGoogleDrive:!0})},a.onGoogleDriveLogout=function(){a.setState({isLoggedInGoogleDrive:!1})},a.onGoogleDriveSignoutClicked=function(){a.googleDriveInstance.current&&a.googleDriveInstance.current.onLogoutClick()},a.onCloseUpgradeDialog=function(){a.setState({showUpgradeDialog:!1})},a.handleSpeakersAccept=function(){"GOOGLE_DRIVE"===a.state.source?a.uploadGoogleMedia():a.onProceedWithMediaUrlAndSpeakers()},a.state={selectedTab:"1",fieldErrors:{},processingFile:!1,speakerCount:1,showPromptSpeakerCount:!1},a.googleDriveInstance=R.createRef(),a.getResponsiveWidth=a.getResponsiveWidth.bind((0,i.Z)(a)),a}return(0,a.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.setState({healthCheckInProgress:!0}),this.props.healthCheckYoutube()}},{key:"componentDidUpdate",value:function(e,t){this.onRemoteMediaTranscriptionResultChanged(e),this.onHealthCheckYoutubeResultChanged(e)}},{key:"getResponsiveHeight",value:function(){return"120px"}},{key:"getResponsiveHeight2",value:function(){return"400px"}},{key:"getResponsiveWidth",value:function(){return window.screen.width>1980?"xl":window.screen.width>=1440?"lg":"md"}},{key:"onRemoteMediaTranscriptionResultChanged",value:function(e){var t=this;if(this.props.remoteMediaTranscriptionResult&&this.props.remoteMediaTranscriptionResult!==e.remoteMediaTranscriptionResult)if(this.props.remoteMediaTranscriptionResult.success)this.setState({processingFile:!1},(function(){t.props.history.push({pathname:Q.Z.BaseURL+W.Z.progress,state:{reloadPage:!0,reloadKey:Date.now()}})}));else{switch(this.props.remoteMediaTranscriptionResult.code){case"INVALID_YOUTUBE_LICENSE":case"INVALID_MEDIA_URL":case"YOUTUBE_NO_SUPPORTED_FORMAT":this.props.remoteMediaTranscriptionResult.fields?this.setState({fieldErrors:this.props.remoteMediaTranscriptionResult.fields}):(0,X.x2)(this.props.remoteMediaTranscriptionResult.message);break;case"MEDIA_FILE_SIZE_EXCEEDED":this.setState({showUpgradeDialog:!0,upgraderDialogHeader:"File Size Limit Reached! ",upgraderDialogMessage:this.props.remoteMediaTranscriptionResult.message});break;case"MONTHLY_UPLOAD_LIMIT_REACHED":this.setState({showUpgradeDialog:!0,upgraderDialogHeader:"Your Monthly Upload Limit Reached!",upgraderDialogMessage:this.props.remoteMediaTranscriptionResult.message});break;case"VIDEO_DURATION_EXCEEDED":this.setState({showUpgradeDialog:!0,upgraderDialogHeader:"Video Duration Exceeded!",upgraderDialogMessage:this.props.remoteMediaTranscriptionResult.message});break;default:(0,X.x2)(this.props.remoteMediaTranscriptionResult.message||"An error occurred while processing media. Please contact support")}this.setState({processingFile:!1})}}},{key:"onHealthCheckYoutubeResultChanged",value:function(e){this.props.healthCheckYoutubeResult&&this.props.healthCheckYoutubeResult!==e.healthCheckYoutubeResult&&this.setState({healthCheckInProgress:!1})}},{key:"render",value:function(){var e=this;return this.state.isLoggedInGoogleDrive&&[].push((0,L.jsx)(l.Z,{onClick:this.onGoogleDriveSignoutClicked,children:"Signout Google"})),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(y.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.processingFile,children:(0,L.jsx)(b.PCircularProgress,{text:"Processing file..."})}),(0,L.jsx)(V,{value:this.state.speakerCount,onChange:function(t){return e.setState({speakerCount:t})},open:this.state.showPromptSpeakerCount,onClose:function(){e.setState({showPromptSpeakerCount:!1})},onAccept:this.handleSpeakersAccept}),(0,L.jsx)(u.Z,{maxWidth:this.getResponsiveWidth(),children:(0,L.jsxs)(d.Z,{children:[(0,L.jsxs)(p.ZP,{container:!0,pt:"10px",alignItems:"center",justifyContent:"space-between",children:[(0,L.jsx)(p.ZP,{item:!0,children:(0,L.jsx)(h.Z,{variant:"h4b",color:"grey.700",component:"div",sx:{lineHeight:"1.5"},children:(0,L.jsx)(L.Fragment,{children:"Input your video "})})}),(0,L.jsx)(p.ZP,{item:!0,children:(0,L.jsx)(b.LanguageSelection,{onSelect:this.onLanguageSelect})})]}),(0,L.jsxs)(m.Z,{direction:"row",sx:{pb:"12px"},children:[(0,L.jsxs)(h.Z,{variant:"subtitle2b_resp",color:"grey.700",children:["OR try with a"," "]}),(0,L.jsx)(g.Z,{onClick:function(){return e.props.onDemoVideoClick&&e.props.onDemoVideoClick()},variant:"subtitle2b_resp",href:"javascript:;",underline:"always",color:"rgb(25, 118, 210) !important",sx:{pl:"6px"},children:"demo video"})]}),(0,L.jsxs)(p.ZP,{container:!0,direction:"row",spacing:2,style:{},children:[(0,L.jsx)(p.ZP,{item:!0,xs:12,sx:{height:this.getResponsiveHeight()},children:(0,L.jsx)(f.Z,{sx:{height:"100%"},children:(0,L.jsxs)(v.Z,{sx:{padding:"16px 24px 8px 24px"},children:[(0,L.jsx)(h.Z,{variant:"h6_resp",color:"grey.500",gutterBottom:!0,children:"YouTube video link"}),(0,L.jsx)(p.ZP,{container:!0,children:(0,L.jsx)(p.ZP,{item:!0,container:!0,xs:12,direction:"row",spacing:2,children:(0,L.jsx)(p.ZP,{item:!0,xs:12,children:this.state.healthCheckInProgress?(0,L.jsx)(x.Z,{}):(0,L.jsx)(L.Fragment,{children:this.props.healthCheckYoutubeResult.isHealthy?(0,L.jsxs)(m.Z,{direction:"row",sx:{display:"flex",alignItems:"center"},children:[(0,L.jsx)(b.PTextField,{variant:"standard",sx:{pr:"8px"},placeholder:"https://",onChange:this.onMediaUrlChange,error:this.state.fieldErrors.mediaUrl}),(0,L.jsx)(S.Z,{variant:"contained",color:"primary",sx:{height:"36px",width:"90px"},onClick:this.onProceedWithMediaUrl,children:"Proceed"})]}):(0,L.jsxs)(m.Z,{sx:{border:"1px solid #D32F2F",borderRadius:"5px",mt:"-10px",p:"7px 15px"},spacing:1,direction:"row",children:[(0,L.jsx)("img",{src:"images/warning.svg",height:"24px",width:"24px",style:{marginTop:"-3px"}}),(0,L.jsx)(h.Z,{variant:"body3_resp",color:"grey.800",children:"Unfortunately, due to technical issues this feature is currently unavailable."})]})})})})})]})})}),(0,L.jsx)(p.ZP,{item:!0,xs:12,sx:{height:this.getResponsiveHeight2()},children:(0,L.jsx)(f.Z,{sx:{height:"100%"},children:(0,L.jsx)(v.Z,{sx:{padding:"16px 24px 8px 24px"},children:(0,L.jsx)(Y,{language:this.state.language,user:this.props.currentUser,openNotification:this.props.openNotification,history:this.props.history,isAutoSummarize:this.props.isAutoSummarize,validateProjectQuota:this.props.validateProjectQuota})})})})]})]})}),(0,L.jsx)(b.UpgradeSubscriptionDialog,{show:this.state.showUpgradeDialog,header:this.state.upgraderDialogHeader,messages:[this.state.upgraderDialogMessage,"Please upgrade to upload more videos"],onClose:this.onCloseUpgradeDialog,history:this.props.history})]})}}]),n}(R.Component)),ae=(0,P.$j)((function(e){return{remoteMediaTranscriptionResult:e.transcriptionSummary.remoteMediaTranscriptionResult,activeProjectFolder:e.myVideos.activeProjectFolder,healthCheckYoutubeResult:e.transcriptionSummary.healthCheckYoutubeResult}}),(function(e){return{remoteMediaTranscription:function(t){return e(B.Z.remoteMediaTranscriptionRequest(t))},healthCheckYoutube:function(){return e(B.Z.healthCheckYoutubeRequest())}}}))(se)},14812:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ce}});var r=n(4942),s=n(1413),a=n(93433),i=n(74165),o=n(15861),c=n(15671),l=n(43144),u=n(97326),d=n(60136),p=n(29388),h=n(47313),m=n(45987),g=n(39874),f=n(44874),v=n(90495),x=n(59629),S=n(37982),y=n(53805),b=n(605),j=n(46417),w=["tableHead","tableData","maxHeight"];function Z(e){var t=this,n=e.tableHead,r=e.tableData;return e.maxHeight,(0,m.Z)(e,w),(0,j.jsx)("div",{className:"PTable",class:"scroll-for-table",children:(0,j.jsx)(g.Z,{sx:{},children:(0,j.jsxs)(f.Z,{"aria-label":"simple table",stickyHeader:!0,children:[(0,j.jsx)(v.Z,{children:(0,j.jsx)(x.Z,{children:n.map((function(e,t){return(0,j.jsx)(S.Z,{sx:e.style,children:e.value})}))})}),(0,j.jsx)(y.Z,{children:r&&r.map((function(e,n){return(0,j.jsx)(x.Z,{children:e&&e.map((function(e,n){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(S.Z,{align:e.align,sx:e.style,children:[e.onClick&&(0,j.jsx)(b.Z,{onClick:e.onClick.bind(t),style:{backgroundColor:e.backgroundColor},children:e.text?e.text:e.raw?e.raw:""}),!e.onClick&&(e.text?e.text:e.raw?e.raw:"")]})})}))})}))})]})})})}var k=n(83254),C=n(62949),I=n(33834),T=n(52740),E=n(78896),A=n(1084),_=n(91104),R=n(42669),P=n(88905),N=n(81962),O=n(80699),D=n(62463),U=n(82937),L=n(28566),F=n(24873),V=n(68537),B=n(4028),M=n(69235),G=n(68728),W=n(15422),z=n(29439),J=n(32415),H=n(43301);function K(e){var t=e.placeholderText,n=e.buttonText,r=e.buttonOnClick,s=e.buttonDisabled,a=e.validateInput,i=e.inputBoxBorder,o=e.loadingButton,c=h.useState(""),l=(0,z.Z)(c,2),u=l[0],d=l[1];return(0,j.jsxs)(J.Z,{sx:{p:"0px 0px 0px 4px",display:"flex",alignItems:"center",width:360,border:i||"1px solid #852CFF",borderRadius:"8px"},children:[(0,j.jsx)(H.ZP,{sx:{ml:1,flex:1},placeholder:t,inputProps:{"aria-label":t},value:u,onChange:function(e){d(e.target.value),a(e.target.value)},autoFocus:!0}),(0,j.jsx)(b.Z,{variant:"contained",sx:{minWidth:"105px"},disabled:s,onClick:function(){r(u)},children:o?(0,j.jsx)(F.Z,{sx:{height:"20px",display:"flex",alignItems:"center"},children:(0,j.jsx)("div",{className:"dot-flashing",style:{left:"48px"}})}):n})]})}var q,Y=n(45610),Q=n(87074),X=n(48242),$=n.n(X),ee=n(95352),te=n(64164),ne=n(19579),re=n(14108),se=["title","titleId"];function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function ie(e,t){var n=e.title,r=e.titleId,s=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,se);return h.createElement("svg",ae({width:54,height:54,viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?h.createElement("title",{id:r},n):null,q||(q=h.createElement("path",{d:"M33.75 36H42.75V40.5H33.75V36ZM33.75 18H49.5V22.5H33.75V18ZM33.75 27H47.25V31.5H33.75V27ZM6.75 40.5C6.75 42.975 8.775 45 11.25 45H24.75C27.225 45 29.25 42.975 29.25 40.5V18H6.75V40.5ZM11.25 22.5H24.75V40.5H11.25V22.5ZM22.5 9H13.5L11.25 11.25H4.5V15.75H31.5V11.25H24.75L22.5 9Z",fill:"#FF5252"})))}var oe=h.forwardRef(ie),ce=(n.p,n(51690)),le=n(23938),ue=n(40009),de=(n(90794),n(47439)),pe=(n(43794),n(66823)),he=n(51443),me=n.n(he),ge=n(50096),fe=E.Z.getTeamUsersRequest,ve=E.Z.deleteUsersFromTeamRequest,xe=E.Z.inviteUserToTeamRequest,Se=E.Z.activateDeactivateTeamUserRequest,ye=E.Z.updateTeamUserRoleRequest,be=E.Z.updateTeamRequest,je=E.Z.getCurrentSubscription,we=[{value:"Name",style:{fontSize:"16px",lineHeight:"20px",color:"grey.500",backgroundColor:"grey.100",borderRadius:"10px 0px 0px 10px"}},{value:"Email",style:{fontSize:"14px",lineHeight:"20px",color:"grey.500",backgroundColor:"grey.100"}},{value:"Role",style:{minHeight:"60px",minWidth:"160px",fontSize:"14px",lineHeight:"20px",color:"grey.500",backgroundColor:"grey.100"}},{value:"Status",style:{fontSize:"14px",lineHeight:"20px",color:"grey.500",backgroundColor:"grey.100"}},{value:"",style:{maxWidth:"10px",fontSize:"14px",lineHeight:"20px",color:"grey.500",backgroundColor:"grey.100",borderRadius:"0px 10px 10px 0px"}}],Ze=(0,te.ZP)(ee.Z)((function(e){var t=e.theme;return{"& .Mui-disabled":{"& .MuiSwitch-thumb":{color:t.palette.grey[400]},"& ~ .MuiSwitch-track":{backgroundColor:"".concat(t.palette.grey[9999]," !important"),opacity:1}},width:"45px",height:"30px","& .MuiSwitch-thumb":{height:"20px",width:"20px"},"& .MuiSwitch-switchBase.Mui-checked":{color:t.palette.success.main,"&:hover":{backgroundColor:(0,ne.Fq)(t.palette.success.main,t.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase + .MuiSwitch-track":{height:"14px",opacity:"0.15"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:t.palette.success.main},"& .MuiSwitch-switchBase.MuiSwitch-colorPrimary":{color:t.palette.grey[400]},"& .MuiSwitch-switchBase.MuiSwitch-colorPrimary.Mui-checked":{color:t.palette.success.main}}})),ke=function(e){(0,d.Z)(m,e);var t,n,h=(0,p.Z)(m);function m(e){var t;(0,c.Z)(this,m),(t=h.call(this,e)).resetAccountDetails=function(e){if(e&&"personal"!=e)t.setState({currentWorkspace:e,showInviteUserBox:!1,sendInviteButtonDisabled:!0}),t.props.getTeamUsersRequest(e);else if("personal"==e){var n,r;null===(n=(r=t.props).refreshUserProfileSettings)||void 0===n||n.call(r)}},t.gotoPlansList=function(){t.props.history.push(Q.Z.BaseURL+Y.Z.plansList)},t.searchVideo=function(e){e.preventDefault()},t.handleValueChange=function(e){e.target.name;var n=e.target.value;t.setState({filterValue:n}),t.createTeamUserData(t.props,n)},t.showDeleteConfirmationDialog=function(){if(t.state.showDeleteConfirmationDialog){var e=t.state.deleteUserDetails,n=t.props.teamUsers[0].name;return(0,j.jsx)(re.default,{icon:(0,j.jsx)(oe,{}),iconWidth:"130px",iconHeight:"130px",iconBgPaletteColor:"error.lighter",title:"Are you sure?",message:"Are you sure you want to remove ".concat(e.userDisplayName," from ").concat(n,"?"),primaryButtonLabel:"Delete",primaryButtonColor:"error.main",primaryButtonOnClick:(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteUserFromTeam(t.state.deleteUserDetails.userId?t.state.deleteUserDetails.userId:t.state.deleteUserDetails.userEmail,!!t.state.deleteUserDetails.userId);case 2:t.setState({showDeleteConfirmationDialog:!1,deleteUserDetails:null});case 3:case"end":return e.stop()}}),e)}))),secondaryButtonLabel:"Cancel",secondaryButtonOnClick:function(){t.setState({showDeleteConfirmationDialog:!1,deleteUserDetails:null})},showCloseIcon:!1})}return(0,j.jsx)(j.Fragment,{})},t.updateUserStatusInSortedteamuserData=function(e){var n=(0,a.Z)(t.state.sortedteamuserData)||(0,a.Z)(t.props.teamUsers),r=n.findIndex((function(t){return t.memberUserId==e}));return r>-1&&(n[r]=(0,s.Z)({},n[r]),n[r].isInactive=!n[r].isInactive),{sortedteamuserData:n,isInactive:n[r].isInactive}},t.onActiveInactiveSwitch=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,r){var s,a,o,c,l,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.updateUserStatusInSortedteamuserData(r),a=s.sortedteamuserData,o=s.isInactive,e.next=3,t.setState({sortedteamuserData:a});case 3:return t.createTeamUserData({sortedteamuserData:a},t.state.filterValue),e.next=6,t.props.activateDeactivateTeamUserRequest(r,o);case 6:if("success"!==(null==(c=e.sent)?void 0:c.status)){e.next=12;break}l=o?"User has been deactivated successfully. All the user's access have been revoked.":"User has been activated successfully.",t.showAlertNotification(l),e.next=18;break;case 12:return u=t.updateUserStatusInSortedteamuserData(r),d=u.sortedteamuserData,u.isInactive,e.next=15,t.setState({sortedteamuserData:d});case 15:t.createTeamUserData({sortedteamuserData:d},t.state.filterValue),p=(null==c?void 0:c.message)||"Member status could not be changed. Please contact support.",t.showAlertNotification(p,"error");case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.showAlertNotification=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";t.setState({showAlertNotification:e,alertType:n})},t.onUserRoleChange=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,r){var s,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.state.sortedteamuserData?t.state.sortedteamuserData:t.props.teamUsers,a=s.filter((function(e){return e.memberUserId==r})),o=a[0].isAdmin,a[0].isAdmin=1==n.target.value,t.createTeamUserData({teamUsers:s},t.state.filterValue),e.next=7,t.props.updateTeamUserRoleRequest(r,a[0].isAdmin);case 7:me().getInstance().logEvent("role-updated",{"new-role":a[0].isAdmin?"admin":"member","old-role":o?"admin":"member","workspace-name":t.state.teamName,"member-email":a[0].memberUserEmail});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.deleteUserFromTeam=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.deleteUsersFromTeamRequest([{isUserId:r,userId:n}]);case 2:e.sent,t.setState({sortedteamuserData:null},(function(){return t.props.getTeamUsersRequest(t.state.currentWorkspace)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.inviteUserToTeam=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({addingEmail:!0}),e.next=3,t.props.getCurrentSubscription();case 3:return e.sent,e.next=6,t.props.inviteUserToTeamRequest({userEmail:n});case 6:e.sent,me().getInstance().logEvent("team-invite-request-sent",{"workspace-name":t.state.teamName}),t.setState({sortedteamuserData:null},(function(){return t.props.getTeamUsersRequest(t.state.currentWorkspace)})),t.toggleInviteUserBox(),t.setState({addingEmail:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.validateEmailAddress=function(e){var n="";e&&!1===$().isEmail(e)?(n="Invalid email",t.setState({emailValidationMessage:n,sendInviteButtonDisabled:!0})):t.props.teamUsers.filter((function(t){return t.memberUserEmail==e})).length>0?(n="The user is already a member of the team",t.setState({emailValidationMessage:n,sendInviteButtonDisabled:!0})):t.setState({emailValidationMessage:"",sendInviteButtonDisabled:!1})},t.handleUpdateTeamName=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.updateTeamRequest({teamId:t.state.currentWorkspace,name:n});case 2:t.setState({teamName:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var n,l=(0,_.E3)();return l&&(t.state=(n={currentWorkspace:l,showInviteUserBox:!1,sendInviteButtonDisabled:!0},(0,r.Z)(n,"showInviteUserBox",!!e.openAddTeamMemberBox),(0,r.Z)(n,"addingEmail",!1),(0,r.Z)(n,"leftMenuSelection","TEAM_MEMBERS"),n)),t.onActiveInactiveSwitch=t.onActiveInactiveSwitch.bind((0,u.Z)(t)),t}return(0,l.Z)(m,[{key:"componentDidMount",value:(n=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.currentWorkspace&&this.props.getTeamUsersRequest(this.state.currentWorkspace);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillMount",value:function(){var e=this;ue.g.currentAuthenticatedUser().then(function(){var t=(0,o.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({user:n}),t.next=3,e.props.getCurrentSubscription(n.username);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillReceiveProps",value:(t=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,s,a,o,c,l,u,d,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.teamUsers!=t.teamUsers&&this.createTeamUserData(t),"success"==t.deleteUsersFromTeamStatus&&t.deleteUsersFromTeamUsers!=this.props.deleteUsersFromTeamUsers&&"success"==t.deleteUsersFromTeamStatus&&this.showAlertNotification("User deleted successfully"),null!=t&&null!==(n=t.currentPlan)&&void 0!==n&&n.features&&null!=t&&null!==(r=t.currentSubscription)&&void 0!==r&&r.currentQuota&&(d={},p=null==t||null===(s=t.currentSubscription)||void 0===s?void 0:s.email,this.setState({email:p}),d.quotaNumberOfVideos=t.currentSubscription.currentQuota.projectsPerMonth,d.totalNumberOfVideos=t.currentPlan.features.video.totalProjectsPerMonth,d.quotaNumberOfTemplates=null===(a=t.currentSubscription)||void 0===a||null===(o=a.currentQuota)||void 0===o?void 0:o.templates,d.totalNumberOfTemplates=null===(c=t.currentPlan)||void 0===c||null===(l=c.features)||void 0===l||null===(u=l.video)||void 0===u?void 0:u.totalTemplates,d.quotaNumberOfTranscriptionHours=(t.currentSubscription.currentQuota.transcriptionDurationPerMonth/60).toFixed(2).replace(/[.]0+$/,""),d.totalNumberOfTranscriptionHours=(t.currentPlan.features.video.transcriptionTotalDurationPerMonth/60).toFixed(2).replace(/[.]0+$/,""),this.setState({quotaGridData:d}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createTeamUserData",value:function(e,t){var n,r,s,i=this,o=[],c=this.state.sortedteamuserData?this.state.sortedteamuserData:e.teamUsers;if(!this.state.sortedteamuserData){var l=c.filter((function(e){return e.adminUserId==e.memberUserId})),u=c.filter((function(e){return!e.isInactive&&!e.partitionKey.includes("inviteEmail:")&&e.adminUserId!=e.memberUserId})),d=c.filter((function(e){return e.isInactive})),p=c.filter((function(e){return e.partitionKey.includes("inviteEmail:")}));c=[].concat((0,a.Z)(l),(0,a.Z)(u),(0,a.Z)(d),(0,a.Z)(p))}var h,m,g=!1,f=!1;(s=t?c.filter((function(e){return e.memberUserDisplayName&&e.memberUserDisplayName.includes(t)||e.memberUserEmail&&e.memberUserEmail.includes(t)})):c).length>0&&(g=null===(h=c.filter((function(e){return e.memberUserId==i.props.user.username})))||void 0===h||null===(m=h[0])||void 0===m?void 0:m.isAdmin,f=c.find((function(e){return e.adminUserId==i.props.user.username})),this.setState({isAdmin:g,isCurrentUserAuthor:f}));for(var v=0;v<s.length;v++){var x=s[v],S="".concat(x.memberUserFirstName||""," ").concat(x.memberUserLastName?x.memberUserLastName:"").trim();S&&""!=S||(S=x.memberUserEmail);var y=x.memberUserId==x.adminUserId,b=S.charAt(0),j=x.memberUserId==this.props.user.username,w=x.memberUserEmail,Z=x.memberUserPicture,k=x.partitionKey.includes("inviteEmail:"),C=this.createTeamUserRowData(b,S,w,j,x.isAdmin,k,x.isInactive,x.memberUserId,Z,g,v,y);o.push(C)}this.setState({teamUsersData:o,teamName:null===(n=s)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.name,sortedteamuserData:c})}},{key:"toggleInviteUserBox",value:function(){var e=!this.state.showInviteUserBox;this.setState({showInviteUserBox:e,emailValidationMessage:"",sendInviteButtonDisabled:!0})}},{key:"createTeamUserRowData",value:function(e,t,n,s,a,i,o,c,l,u,d,p){var h,m=this;return[{raw:(0,j.jsxs)("div",{style:{display:"flex"},className:o?"disabled":"",children:[(0,j.jsx)(C.Z,{name:t,imgSrc:l,index:d,in:!0,size:"small"}),(0,j.jsx)(R.Z,{style:{color:"grey.9999",alignSelf:"center",paddingLeft:"10px"},variant:"text_sm_resp",children:t}),s&&(0,j.jsx)(R.Z,{style:{color:"grey",opacity:"0.9",alignSelf:"center",paddingLeft:"5px",fontStyle:"italic"},variant:"text_sm_resp",children:"(You)"})]})},{text:n,style:{color:"grey.400",fontSize:"14px"}},{raw:!u||s||i||o||p?(0,j.jsx)(R.Z,{sx:{minHeight:"40px",color:"grey.400",display:"flex",alignItems:"center",width:"180px"},variant:"text_sm_resp",children:p?"Owner":a?"Admin":"Member"}):(0,j.jsxs)(P.Z,{value:a?1:0,onChange:function(e){m.onUserRoleChange(e,c)},renderValue:function(e){return 0==e?(0,j.jsx)(R.Z,{variant:"text_sm_resp",children:"Member"}):(0,j.jsx)(R.Z,{variant:"text_sm_resp",children:"Admin"})},className:"role-dropdown",sx:(h={minHeight:"40px",color:"grey.400",width:"130px",ml:"-24px",p:"10px 30px 10px 10px",cursor:"pointer",position:"relative"},(0,r.Z)(h,"ml","-9px"),(0,r.Z)(h,"border",0),(0,r.Z)(h,"& .MuiSelect-select",{position:"absolute",right:0,left:0,width:"86px",padding:"10px"}),(0,r.Z)(h,"& fieldset",{border:0}),(0,r.Z)(h,"&.Mui-focused fieldset",{border:"0 !important"}),(0,r.Z)(h,"& :hover",{backgroundColor:"grey.100",color:"grey.9999"}),(0,r.Z)(h,'& div.MuiSelect-select[aria-expanded="true"]',{backgroundColor:"grey.100"}),h),children:[(0,j.jsx)(N.Z,{value:0,children:(0,j.jsxs)(R.Z,{variant:"text_sm_resp",children:["Member ",!a&&(0,j.jsx)(G.Z,{sx:{color:"grey.500"}})]})}),(0,j.jsx)(N.Z,{value:1,children:(0,j.jsxs)(R.Z,{variant:"text_sm_resp",children:["Admin ",a&&(0,j.jsx)(G.Z,{sx:{color:"grey.500"}})]})})]})},{raw:i?(0,j.jsx)(O.Z,{title:"Awaiting response",placement:"top-start",arrow:!0,children:(0,j.jsx)(D.Z,{sx:{ml:"4px"},children:(0,j.jsx)(I.Ro,{})})}):(0,j.jsx)(O.Z,{title:o?"Inactive":"Active",placement:"top-start",arrow:!0,children:(0,j.jsx)("span",{children:(0,j.jsx)(Ze,{checked:!o,onChange:function(e){m.onActiveInactiveSwitch(e,c)},size:"small",disabled:!u||s||!s&&p})})})},{raw:u&&!s&&!p&&(0,j.jsx)("div",{children:(0,j.jsx)(R.Z,{color:"greywhite.darker",children:(0,j.jsx)(V.Z,{sx:{"&:hover":{color:"error.main"}}})})}),align:"right",backgroundColor:"transparent",onClick:u&&!s?function(){m.setState({showDeleteConfirmationDialog:!0,deleteUserDetails:{userId:c,userEmail:n,userDisplayName:t}})}:null}]}},{key:"render",value:function(){var e=this;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(pe.default,{show:!!this.state.showAlertNotification,message:this.state.showAlertNotification,severity:this.state.alertType,onClose:function(){return e.setState({showAlertNotification:void 0})}}),this.showDeleteConfirmationDialog(),this.state.currentWorkspace&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T.Z,{history:this.props.history,resetAccountDetails:this.resetAccountDetails.bind(this),resetStep1:function(){e.props.history.push({pathname:Q.Z.BaseURL+Y.Z.stepOne})}}),(0,j.jsxs)("div",{children:[(0,j.jsxs)(U.ZP,{container:!0,direction:"row",id:"team-account-details",sx:{position:"absolute",top:"".concat(this.props.headerHeight,"px"),width:"calc(100vw - 2rem)",backgroundColor:"grey.0",flexWrap:"nowrap",m:"1rem",borderRadius:"5px",minHeight:"calc(100vh - ".concat(this.props.headerHeight+16,"px)")},children:[(0,j.jsxs)(U.ZP,{item:!0,sx:{width:"300px",pl:"20px",pr:"20px",pt:"32px",borderRight:"1px solid",borderRightColor:"primary.lighter"},children:[this.props.teamUsers&&this.props.teamUsers[0]&&(0,j.jsxs)("div",{style:{paddingBottom:"32px",display:"flex",alignItems:"center"},children:[(0,j.jsx)(C.Z,{name:this.props.teamUsers[0].name,size:"small"}),this.state.isAdmin&&(0,j.jsx)(le.default,{id:"edit-team-name",required:!0,errorMsgWhenBlank:"Team name is required",value:this.state.teamName,size:"medium",sx:{display:"block",width:"100%",ml:"2px"},onEditSaveText:this.handleUpdateTeamName,inputProps:{maxLength:de.m_}}),!this.state.isAdmin&&(0,j.jsxs)(R.Z,{variant:"body500_resp",sx:{width:"calc(100% - 32px)",overflowWrap:"break-word",paddingLeft:"16px",alignSelf:"center",fontSize:"16px"},children:[" ",this.props.teamUsers[0].name]})]}),(0,j.jsx)(b.Z,{sx:"TEAM_MEMBERS"==this.state.leftMenuSelection?{width:"100%",justifyContent:"flex-start",backgroundColor:"primary.lighter","&:hover":{backgroundColor:"grey.100"}}:{width:"100%",justifyContent:"flex-start","&:hover":{backgroundColor:"grey.100"}},onClick:function(){"TEAM_MEMBERS"!==e.state.leftMenuSelection&&e.setState({leftMenuSelection:"TEAM_MEMBERS"})},children:(0,j.jsxs)(D.Z,{direction:"row",children:[(0,j.jsx)(I.F8,{}),(0,j.jsx)(R.Z,{sx:{pl:"12px",fontSize:"14px",color:"grey.900"},children:"Team members"})]})}),this.state.isCurrentUserAuthor&&(0,j.jsx)(b.Z,{sx:"BILLING"==this.state.leftMenuSelection?{width:"100%",justifyContent:"flex-start",backgroundColor:"primary.lighter","&:hover":{backgroundColor:"grey.100"}}:{width:"100%",justifyContent:"flex-start","&:hover":{backgroundColor:"grey.100"}},onClick:function(){"BILLING"!==e.state.leftMenuSelection&&e.setState({leftMenuSelection:"BILLING"})},children:(0,j.jsxs)(D.Z,{direction:"row",children:[(0,j.jsx)(I.NB,{}),(0,j.jsx)(R.Z,{sx:{pl:"12px",fontSize:"14px",color:"grey.900"},children:"Billing & plans"})]})}),this.state.isAdmin&&this.state.quotaGridData&&(0,j.jsx)(D.Z,{sx:{height:"281px",width:"244px",border:"1px solid",borderRadius:"8px",position:"fixed",bottom:"8px",borderColor:"grey.300"},children:(0,j.jsxs)("div",{style:{paddingLeft:"24px",paddingTop:"24px"},children:[(0,j.jsx)(R.Z,{sx:{fontSize:"14px",color:"grey.500"},children:"Number of videos"}),(0,j.jsx)(R.Z,{sx:{fontSize:"12px",color:"grey.400"},children:"".concat(parseFloat(this.state.quotaGridData.totalNumberOfVideos)-parseFloat(this.state.quotaGridData.quotaNumberOfVideos),"/").concat(this.state.quotaGridData.totalNumberOfVideos," videos used")}),(0,j.jsx)(L.Z,{sx:{width:"196px",marginTop:"8px",marginBottom:"12px",backgroundColor:"grey.300"},variant:"determinate",value:(parseFloat(this.state.quotaGridData.totalNumberOfVideos)-parseFloat(this.state.quotaGridData.quotaNumberOfVideos))/parseFloat(this.state.quotaGridData.totalNumberOfVideos)*100}),(0,j.jsx)(R.Z,{sx:{fontSize:"14px",color:"grey.500"},children:"Number of transcription Hrs"}),(0,j.jsx)(R.Z,{sx:{fontSize:"12px",color:"grey.400"},children:"".concat((parseFloat(this.state.quotaGridData.totalNumberOfTranscriptionHours)-parseFloat(this.state.quotaGridData.quotaNumberOfTranscriptionHours)).toFixed(2).replace(/[.]0+$/,""),"/").concat(parseFloat(this.state.quotaGridData.totalNumberOfTranscriptionHours).toFixed(2).replace(/[.]0+$/,"")," hours used")}),(0,j.jsx)(L.Z,{sx:{width:"196px",marginTop:"8px",marginBottom:"12px",backgroundColor:"grey.300"},variant:"determinate",value:(parseFloat(this.state.quotaGridData.totalNumberOfTranscriptionHours)-parseFloat(this.state.quotaGridData.quotaNumberOfTranscriptionHours))/parseFloat(this.state.quotaGridData.totalNumberOfTranscriptionHours)*100}),this.state.isAdmin&&(0,j.jsx)(W.w,{variant:"contained",sx:{width:"90%"},onClick:this.gotoPlansList,children:"Upgrade"})]})})]}),"TEAM_MEMBERS"==this.state.leftMenuSelection&&(0,j.jsxs)(U.ZP,{item:!0,sx:{width:"calc(100vw - 300px)",height:"100%"},children:[this.state.showBanner&&(0,j.jsx)("div",{style:{alignSelf:"center"},children:(0,j.jsx)(ce.Banner,{text:this.state.bannerText,backgroundColor:this.state.bannerBackgroundColor,textColor:"Primary/Darkest",topAsAppHeader:"",showButton:"true",buttonText:this.state.bannerButtonText,buttonIcon:"images/CrownOutlined.svg",buttonWidth:"130px",buttonOnClick:function(){e.gotoPlansList()}})}),(0,j.jsxs)("div",{style:{padding:"24px 20px",alignSelf:"center"},children:[(0,j.jsxs)(U.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{minHeight:"65px"},children:[(0,j.jsx)(U.ZP,{item:!0,children:(0,j.jsx)("span",{style:{alignSelf:"center",fontSize:"24px",fontWeight:"500"},children:"Team members"})}),(0,j.jsx)(U.ZP,{item:!0,children:this.state.isAdmin&&(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[!this.state.showInviteUserBox&&(0,j.jsxs)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center"},onClick:function(){return e.toggleInviteUserBox()},children:[(0,j.jsx)(F.Z,{onClick:function(){return e.toggleInviteUserBox()},sx:{backgroundColor:"primary",width:"35px",height:"35px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:(0,j.jsx)(M.Z,{sx:{fontSize:35},color:"primary"})}),(0,j.jsxs)(R.Z,{style:{color:"grey.500",fontSize:"16px",marginLeft:"5px"},children:[" ","Add team member"]})]}),(0,j.jsx)("div",{style:{display:"flex"},children:this.state.showInviteUserBox&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(F.Z,{onClick:function(){return e.toggleInviteUserBox()},sx:{backgroundColor:"primary",width:"35px",height:"35px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",alignSelf:"auto"},children:(0,j.jsx)(B.Z,{sx:{fontSize:35},color:"primary"})}),(0,j.jsxs)(F.Z,{sx:{marginLeft:"10px"},children:[(0,j.jsx)(K,{placeholderText:"Enter email address",buttonText:"Send invite",buttonOnClick:this.inviteUserToTeam.bind(),buttonDisabled:this.state.sendInviteButtonDisabled,validateInput:this.validateEmailAddress.bind(),loadingButton:this.state.addingEmail,inputBoxBorder:this.state.emailValidationMessage&&""!=this.state.emailValidationMessage?"1px solid #FF5252":null}),this.state.emailValidationMessage&&""!=this.state.emailValidationMessage&&(0,j.jsxs)(F.Z,{children:[(0,j.jsx)(I.cb,{height:"14px",width:"14px",strokeColor:"#FF5252"}),(0,j.jsx)(R.Z,{component:"span",sx:{fontSize:"12px",color:"error.main"},children:" "+this.state.emailValidationMessage})]})]})]})})]})})]}),(0,j.jsx)("hr",{style:{marginTop:"0px"}})]}),(0,j.jsx)("div",{style:{padding:"0px 20px 24px 20px",alignSelf:"center",width:"280px"},children:(0,j.jsx)(k.Z,{onchange:this.handleValueChange.bind()})}),(0,j.jsx)("div",{style:{padding:"0px 20px 24px 20px",alignSelf:"center"},children:(0,j.jsx)(Z,{tableHead:we,tableData:this.state.teamUsersData})})]}),"BILLING"==this.state.leftMenuSelection&&(0,j.jsx)(U.ZP,{item:!0,sx:{width:"calc(100vw - 300px)",height:"100%"},children:(0,j.jsx)("div",{children:this.props.user.username&&(0,j.jsx)(ge.Z,{user:this.props.user.username,email:this.state.email,redirect:function(){e.props.history.push("/"+Y.Z.stepOne)}})})})]}),this.state.showInfoDialog&&(0,j.jsx)(re.default,{icon:this.state.showInfoDialog.icon,iconBgPaletteColor:this.state.showInfoDialog.iconBgPaletteColor,open:!!this.state.showInfoDialog,title:this.state.showInfoDialog.title,message:this.state.showInfoDialog.message,primaryButtonLabel:this.state.showInfoDialog.primaryButtonLabel,primaryButtonOnClick:this.state.showInfoDialog.primaryButtonOnClick,secondaryButtonLabel:this.state.showInfoDialog.secondaryButtonLabel,secondaryButtonOnClick:this.state.showInfoDialog.secondaryButtonOnClick,showCloseIcon:!0,onClose:function(){return e.setState({showInfoDialog:!1})}})]})]})]})}}]),m}(h.Component),Ce=(0,A.$j)((function(e){var t,n;return t=e.subscription.currentSubscription.data,n=e.subscription.currentPlan,{headerHeight:e.app.headerHeight,teamUsers:e.teams.teamUsersResult,deleteUsersFromTeamStatus:e.teams.deleteUsersFromTeamStatus,deleteUsersFromTeamUsers:e.teams.deleteUsersFromTeamUsers,currentSubscription:t,currentPlan:n}}),{getTeamUsersRequest:fe,deleteUsersFromTeamRequest:ve,inviteUserToTeamRequest:xe,activateDeactivateTeamUserRequest:Se,updateTeamUserRoleRequest:ye,updateTeamRequest:be,getCurrentSubscription:je})(ke)},59028:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(74165),a=n(15861),i=n(15671),o=n(43144),c=n(60136),l=n(29388),u=n(51443),d=n.n(u),p=n(97442),h=n(40009),m=n(51690),g=n(31172),f=n(47313),v=n(34862),x=n(1084),S=n(3643),y=n(87074),b=n(78896),j=n(90794),w=n(96161),Z=n(91104),k=n(45610),C=n(47439),I=n(20140),T=n(14108),E=n(19259),A=n(46417),_=function(e){(0,c.Z)(S,e);var t,n,u,f,x=(0,l.Z)(S);function S(e){var t;return(0,i.Z)(this,S),(t=x.call(this,e)).trackAffiliate=function(e){if(e)try{window.fpr("referral",{email:e})}catch(e){console.log("Afiliate Error (sending username email) ",e)}},t.showErrorDialog=function(e,n){var r={title:e,message:n};t.setState({dialogWithButtonAndIcon:r,areErrors:!0})},t.closeQuestionnaire=function(){t.setState({isQuestionnaireOpen:!1}),t.props.history.push(y.Z.BaseURL+k.Z.stepOne)},t.login=function(e){var n=e.email,r=e.password;t.setState({loginInProgress:!0,loginStatus:"Logging you in ...",emailLowercase:!0,logginEmail:n,logginPassword:r,existingLoginMessage:""}),d().getInstance().setUserId(n),t.props.userLogin(n.toLowerCase(),r)},t.googleLogin=function(){t.isAuthenticating()||(t.setState({loginInProgress:!0,loginStatus:"Logging you in ..."}),t.props.userGoogleLogin(),j.Z.setItem("loggedInWithGoogle",!0))},t.linkClick=function(){window.open("https://pictory.ai/terms-of-service")},t.goToSignUp=function(){t.props.history.push(y.Z.BaseURL+k.Z.signUp)},t.goToStep1=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextStep();case 2:case"end":return e.stop()}}),e)}))),t.forgotPassword=function(e){t.setState({loginInProgress:!0,loginStatus:"Sending password reset link..."}),t.props.forgotPassword({userName:e})},t.goToLogin=function(){t.setState({showForgotPasswordFeedback:!1})},t.redirectToBaseUrlAfterPopupLogin=function(){window.awsCognitoLoginWindow&&!window.awsCognitoLoginWindow.closed&&window.awsCognitoLoginWindow.close(),t.props.history.push(y.Z.BaseURL)},t.authListener=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var r,a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.payload,a=r.event,i=r.data,e.t0=a,e.next="customOAuthState"===e.t0?4:9;break;case 4:return o=JSON.parse(i),t.props.saveUserLocation(o.location),o.redirectUrl&&t.props.setAfterLoginRedirectUrl(o.redirectUrl),t.setState({postSignInEventProcessing:!0},(function(){t.props.getLoggedInUser({})})),e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isAuthenticating=function(){if(t.props.location&&t.props.location.search){var e=g.parse(t.props.location.search);if(e.code&&e.state)return!0}return!1},t.addLoginEvents=function(){t.props.loggedInUser.attributes&&t.props.loggedInUser.attributes.email&&(d().getInstance().setUserId(t.props.loggedInUser.attributes.email),d().getInstance().setUserProperties({Username:t.props.loggedInUser.attributes.email}))},t.addSignupEvents=function(){t.props.loggedInUser},t.state={loginInProgress:!1,loginStatus:"",loginErrors:[],isUserProviderLogged:!1,fetchingCountryCode:!1},window.redirectToBaseUrlAfterPopupLogin=t.redirectToBaseUrlAfterPopupLogin,t}return(0,o.Z)(S,[{key:"componentWillMount",value:function(){this.props.userLocationResult&&this.props.userLocationResult.countryCode||(this.setState({fetchingCountryCode:!0}),this.props.getUserLocation()),this.props.history&&this.props.history.location&&this.props.history.location.state&&(this.props.history.location.state&&this.props.history.location.state.query&&this.props.history.location.state.query.hostapp?this.props.setHostApp(this.props.history.location.state.query):this.props.history.location.state&&this.props.history.location.state.query&&this.props.history.location.state.query.error_description&&this.props.history.location.state.query.error_description.indexOf("GOOGLE_SIGNUP_NOT_ALLOWED")>-1?(this.props.history.replace({state:(0,r.Z)((0,r.Z)({},this.props.history.location.state),{},{query:{}})}),this.setState({loginInProgress:!1,loginStatus:"",existingLogin:"Pictory",existingLoginMessage:["You had previously signed up to Pictory using","email ID & password option.","Please login with email and password option to continue."]})):this.props.history.location.state&&this.props.history.location.state.loginError&&"GOOGLE_LOGIN_EXIST"===this.props.history.location.state.loginError.code&&(this.props.history.replace({state:(0,r.Z)((0,r.Z)({},this.props.history.location.state),{},{loginError:null})}),this.setState({loginInProgress:!1,loginStatus:"",existingLogin:"Google",existingLoginMessage:["You already have a Pictory account with this email.","Please login with Google.","OR","Sign up again with a different email ID."]})))}},{key:"componentDidMount",value:function(){var e=this;this.isAuthenticating()?(p.Xb.listen("auth",this.authListener),this.setState({loginInProgress:!0,loginStatus:"Logging you in ..."})):(this.setState({loginInProgress:!0,loginStatus:"Please wait..."}),this.props.getLoggedInUser({})),this.props.location&&this.props.location.state&&this.props.location.state.isLinkExpired&&setTimeout((function(){(0,w.JQ)("User cannot be confirmed. Current status is CONFIRMED"==e.props.location.state.linkMessage?"Link is already confirmed, please login.":e.props.location.state.linkMessage)}),1e3),(!v.i7||parseInt(v.x_)<92)&&(0,w.uV)("For better experience, use latest Chrome browser","use-latest-chrome",!0)}},{key:"componentDidUpdate",value:(f=(0,a.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onGetUserLocationResultChanged(t),e.next=3,this.onGetLoggedInUserResultChanged(t);case 3:return this.onUserLoginResultChanged(t),e.next=6,this.onCurrentSubscriptionChanged(t);case 6:this.onForgotPasswordStatusChanged(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){p.Xb.remove("auth",this.authListener)}},{key:"onGetUserLocationResultChanged",value:function(e){this.props.getUserLocationResult&&this.props.getUserLocationResult!==e.getUserLocationResult&&this.setState({fetchingCountryCode:!1})}},{key:"onUserLoginResultChanged",value:function(e){if(this.props.userLoginResult&&this.props.userLoginResult!==e.userLoginResult)if(this.props.userLoginResult.success){this.setState({loginErrors:[],emailLowercase:!1,logginEmail:null,logginPassword:null}),this.addLoginEvents(),j.Z.setItem("user:".concat(this.props.loggedInUser.username,"_LoginDate"),(new Date).toISOString());var t=j.Z.getItem("lastLoggedInUser");t&&t===this.props.loggedInUser.username||(j.Z.setItem("lastLoggedInUser",this.props.loggedInUser.username),(0,Z.A)("")),this.props.getCurrentSubscription(this.props.loggedInUser.username,!0)}else{if("GOOGLE_LOGIN_EXIST"===this.props.userLoginResult.code)return void this.setState({loginInProgress:!1,loginStatus:"",existingLogin:"Google",existingLoginMessage:["You had previously signed up to Pictory using Google.","Please login with Google to continue."]});if(this.state.emailLowercase&&this.state.logginEmail&&this.state.logginPassword)this.setState({emailLowercase:!1}),this.props.userLogin(this.state.logginEmail,this.state.logginPassword);else if(this.setState({loginInProgress:!1,loginStatus:"",emailLowercase:!1,logginEmail:null,logginPassword:null}),"NotAuthorizedException"===this.props.userLoginResult.code||"UserNotFoundException"===this.props.userLoginResult.code||"PERMISSION_DENIED"===this.props.userLoginResult.code)this.setState({loginErrors:["Invalid username or password"]});else if("CHANGE_TEMPORARY_PASSWORD"===this.props.userLoginResult.code)this.setState({changeTemporaryPassword:!0,email:this.props.userLoginResult.email});else if("UserLambdaValidationException"===this.props.userLoginResult.code&&this.props.userLoginResult.message.indexOf("SUBSCRIPTION_CANCELLED")>-1)this.setState({loginErrors:["Login not allowed!","Subscription is cancelled.","Please contact support to renew subscription."]});else{var n,r;null!==(n=this.props.userLoginResult)&&void 0!==n&&n.code?this.showErrorDialog("Error",(null===(r=this.props.userLoginResult)||void 0===r?void 0:r.message)+("failed"!=this.props.userLoginResult.code?", error code: "+this.props.userLoginResult.code:""),"Please contact support"):this.showErrorDialog("Error","Login failed")}}}},{key:"onCurrentSubscriptionChanged",value:(u=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.currentSubscription||this.props.currentSubscription===t.currentSubscription){e.next=28;break}if(!this.state.postSignInEventProcessing){e.next=19;break}if(!window.opener||!window.opener.redirectToBaseUrlAfterPopupLogin){e.next=5;break}return window.opener.redirectToBaseUrlAfterPopupLogin(),e.abrupt("return");case 5:if(this.props.currentSubscription.data){e.next=10;break}this.props.getCurrentSubscription(this.props.loggedInUser.username,!0),this.setState({loginStatus:"Setting-up your account, please wait . . ."}),e.next=18;break;case 10:if(!this.props.currentSubscription.data||!this.props.currentSubscription.data.country_code||""==this.props.currentSubscription.data.country_code){e.next=16;break}return this.trackEventsAndAffiliateWrapper(),e.next=14,this.nextStep();case 14:e.next=18;break;case 16:this.props.updateCountryCode(),this.props.getCurrentSubscription(this.props.loggedInUser.username,!0);case 18:return e.abrupt("return");case 19:if(!this.props.currentSubscription.data||!this.props.currentSubscription.data.country_code||""==this.props.currentSubscription.data.country_code){e.next=26;break}return this.trackEventsAndAffiliateWrapper(),e.next=23,this.nextStep();case 23:this.setState({loginInProgress:!1,loginStatus:""}),e.next=27;break;case 26:this.props.currentSubscription.data?(this.props.updateCountryCode(),this.props.getCurrentSubscription(this.props.loggedInUser.username,!0)):(this.showErrorDialog("Error: ","No subscription found for this account. Please contact support."),d().getInstance().logEvent("signout-no-subscription-found"),h.g.signOut());case 27:this.setState({loginInProgress:!1,loginStatus:""});case 28:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"trackEventsAndAffiliateWrapper",value:function(){if(1!=this.state.isUserProviderLogged&&this.props.currentSubscription.data){var e=this.props.currentSubscription.data.cognito_id,t=!1,n=this.props.currentSubscription.data.email;try{if(e&&e.includes("Google")){t=!0;var r=this.props.currentSubscription.data.subscription.created_time,s=60,a=new Date;if(r){var i=new Date(r);s=(a.getTime()-i.getTime())/1e3}s<=30&&this.trackAffiliate(n)}}catch(e){}d().getInstance().setUserId(n),d().getInstance().logEvent("user-login",{"login-via":t?"Google":"pictory",device:v.tq?"mobile":"computer"}),this.setState({isUserProviderLogged:!0})}}},{key:"nextStep",value:(n=(0,a.Z)((0,s.Z)().mark((function e(){var t,n,r,a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=-1,e.prev=1,!(n=this.props.currentSubscription.data)){e.next=21;break}return j.Z.setItem("subscription."+n.cognito_id+".details",JSON.stringify(this.props.currentSubscription)),r=this.props.currentSubscription.data.country_code,a="chargebee"===this.props.currentSubscription.data.organization_id?"v2":"v1",e.next=9,(0,I.xx)(this.props.loggedInUser);case 9:if(i=e.sent,(0,Z.E3)()||this.props.currentSubscription.plan.plan_code===C.yj.freeTrial&&"chargebee"===this.props.currentSubscription.data.organization_id&&(t=(0,Z.Wy)(n)),o=k.Z.stepOne,!1===i?o=k.Z.VerifyEmail:-1!=t&&(o=k.Z.userQuestionnaire),"v2"!==a||n.teamId||n.teamUser||!r||!1!==(0,Z.bv)(r)||n.payment_method){e.next=18;break}return this.props.history.push({pathname:y.Z.BaseURL+k.Z.cards,state:{redirectPath:o}}),e.abrupt("return");case 18:if(!1!==i){e.next=21;break}return this.props.history.push({pathname:y.Z.BaseURL+k.Z.VerifyEmail,state:{redirectedFrom:k.Z.login}}),e.abrupt("return");case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:-1==t||v.tq?this.props.history.push(y.Z.BaseURL+k.Z.stepOne):-1!=t&&this.props.history.push({pathname:y.Z.BaseURL+k.Z.userQuestionnaire,state:{isLogin:!0,startQuestion:t}});case 26:case"end":return e.stop()}}),e,this,[[1,23]])}))),function(){return n.apply(this,arguments)})},{key:"onGetLoggedInUserResultChanged",value:(t=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getLoggedInUserResult&&this.props.getLoggedInUserResult!==t.getLoggedInUserResult&&(this.props.getLoggedInUserResult.success&&this.props.loggedInUser?(this.addLoginEvents(),this.props.getCurrentSubscription(this.props.loggedInUser.username,!0)):this.setState({loginInProgress:!1,loginStatus:""}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onForgotPasswordStatusChanged",value:function(e){this.props.forgotPasswordStatus&&this.props.forgotPasswordStatus!==e.forgotPasswordStatus&&("failed"===this.props.forgotPasswordStatus.code?this.showErrorDialog("Error","".concat(this.props.forgotPasswordStatus.message,". Please contact support.")):this.setState({showForgotPasswordFeedback:!0}),this.setState({loginInProgress:!1,loginStatus:""}))}},{key:"render",value:function(){var e=this;return(0,A.jsx)(A.Fragment,{children:this.state.accountSetup?(0,A.jsx)(m.AccountSetupFeedback,{onEnter:this.goToStep1,emailVerification:!1}):this.state.showForgotPasswordFeedback?(0,A.jsx)(m.ResetPasswordFeedback,{onLogin:this.goToLogin}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.UserLoginForm,{onLogin:this.login,onGoogleLogin:this.googleLogin,onSignup:this.goToSignUp,onOpenLinkInNewTab:this.linkClick,loginInProgress:this.state.loginInProgress,loginStatus:this.state.loginStatus,loginErrors:this.state.loginErrors,onForgotPassword:this.forgotPassword,existingLogin:this.state.existingLogin,existingLoginMessage:this.state.existingLoginMessage,fetchingCountryCode:this.state.fetchingCountryCode,loginEmail:this.state.googleLoginEmail}),this.state.areErrors?(0,A.jsx)(T.default,{icon:(0,A.jsx)(E.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:this.state.areErrors,title:this.state.dialogWithButtonAndIcon.title,message:this.state.dialogWithButtonAndIcon.message,primaryButtonLabel:"OK",primaryButtonOnClick:function(){return e.setState({areErrors:!1})},primaryButtonColor:"error.main"}):(0,A.jsx)(A.Fragment,{})]})})}}]),S}(f.Component);t.default=(0,x.$j)((function(e){return{getLoggedInUserResult:e.userLogin.getLoggedInUserResult,userLoginResult:e.userLogin.userLoginResult,loggedInUser:e.userLogin.loggedInUser,currentSubscription:e.subscription.currentSubscription,startPlan:e.subscription.startPlan,forgotPasswordStatus:e.login.forgotPasswordStatus,getUserLocationResult:e.userSignUp.getUserLocationResult,userLocationResult:e.userSignUp.userLocationResult,createSubscriptionAfterGoogleSignupResult:e.subscription.createSubscriptionAfterGoogleSignupResult,redirectUrl:e.userLogin.redirectUrl}}),(function(e){return{getLoggedInUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(b.Z.getLoggedInUserRequest(t))},userLogin:function(t,n){return e(b.Z.userLoginRequest(t,n))},userGoogleLogin:function(){return e(b.Z.userGoogleLoginRequest())},forgotPassword:function(t){return e(b.Z.forgotPassword(t))},startPlanForExistingCustomer:function(t){return e(b.Z.startPlanForExistingCustomer(t))},getCurrentSubscription:function(t,n){return e(b.Z.getCurrentSubscription(t,n))},setHostApp:function(t){return e(b.Z.setHostApp(t))},getUserLocation:function(){return e(b.Z.getUserLocationRequest())},saveUserLocation:function(t){return e(b.Z.getUserLocationSuccess({countryCode:t}))},createSubscriptionAfterGoogleSignup:function(t,n,r,s){return e(b.Z.createSubscriptionAfterGoogleSignupRequest(t,n,r,s))},updateCountryCode:function(){return e(b.Z.updateCountryCodeRequest())},setAfterLoginRedirectUrl:function(t){return e(b.Z.setAfterLoginRedirectUrlRequest(t))}}}))((0,S.EN)(_))},75372:function(e,t,n){"use strict";n.r(t);var r=n(15671),s=n(43144),a=n(60136),i=n(29388),o=n(47313),c=n(24873),l=n(22449),u=n(51443),d=n.n(u),p=n(51690),h=(n(16031),n(1084)),m=n(3643),g=n(78896),f=(n(91104),n(87074)),v=(n(45610),n(96161)),x=(n(90794),n(47439),n(31172)),S=n(46417),y=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).onAddCardDetailsClick=function(){s.setState({busy:!0}),s.props.getUserPaymentCardPage("".concat("https://app.pictory.ai/","card_success.html"))},s.onPageLoaded=function(){setTimeout((function(){s.setState({busy:!1,pageLoaded:!0})}),1e3)},s.state={busy:!1,busyMessage:"",cardsPageUrl:null,cardAdded:!1,pageLoaded:!1},s.props.redirectedFrom||s.props.redirectPath?window.afterAddCard=function(){s.props.getCurrentSubscription(s.props.loggedInUser.username),s.props.cardAddedSuccess(!0),d().getInstance().logEvent("credit-card-verified"),s.props.history.push({pathname:f.Z.BaseURL+s.props.redirectPath,state:{redirectedFrom:s.props.redirectedFrom}}),window.afterAddCard=null}:s.props.history.push({pathname:f.Z.BaseURL,state:{}}),s.props.location&&s.props.location.search&&x.parse(s.props.location.search).success&&window.parent&&window.parent.afterAddCard&&(window.parent.afterAddCard(),s.state.cardAdded=!0),s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){this.onGetUserPaymentCardPageResultChanged(e)}},{key:"onGetUserPaymentCardPageResultChanged",value:function(e){this.props.getUserPaymentCardPageResult&&this.props.getUserPaymentCardPageResult!==e.getUserPaymentCardPageResult&&(this.props.getUserPaymentCardPageResult.success&&this.props.userPaymentCardPageResult?this.setState({cardsPageUrl:this.props.userPaymentCardPageResult.hostedPageUrl}):(0,v.x2)("Could not able to get cards page. Please contact support"))}},{key:"render",value:function(){var e,t;return(0,S.jsxs)(S.Fragment,{children:[!1===this.state.cardAdded?(0,S.jsxs)(S.Fragment,{children:[this.state.cardsPageUrl?(0,S.jsxs)(c.Z,{sx:{height:"710px",width:"430px",border:"none",background:"none",alignSelf:"center",zIndex:"9",margin:"-30px 30px -30px 41px",position:"relative"},children:[(0,S.jsx)("iframe",{className:"chargebee-card-container",onLoad:this.onPageLoaded,src:this.state.cardsPageUrl,style:{width:"100%",height:"100%",borderRadius:"8px",overflow:"hidden"}}),!this.state.pageLoaded&&(0,S.jsx)(c.Z,{className:"absolute-fill flex-centered bg-black",sx:{opacity:"0.5"},children:(0,S.jsx)("div",{className:"dot-flashing"})})]}):(0,S.jsx)(S.Fragment,{}),this.state.cardsPageUrl?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)(p.UserAddPaymentCardView,{style:this.state.cardsPageUrl?{marginLeft:"-69vh"}:{},busy:this.state.busy,onAddCardDetailsClick:this.onAddCardDetailsClick})]}):(0,S.jsx)(S.Fragment,{}),(null===(e=this.props.loggedInUser)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.email)&&(0,S.jsx)("div",{id:"hyros-email",style:{visibility:"hidden",position:"absolute"},children:(0,S.jsx)(l.Z,{value:this.props.loggedInUser.attributes.email,preventDefault:!0})})]})}}]),n}(o.Component);t.default=(0,h.$j)((function(e){return{currentSubscription:e.subscription.currentSubscription,loggedInUser:e.userLogin.loggedInUser,getUserPaymentCardPageResult:e.userPaymentCard.getUserPaymentCardPageResult,userPaymentCardPageResult:e.userPaymentCard.userPaymentCardPageResult}}),(function(e){return{getUserPaymentCardPage:function(t){return e(g.Z.getUserPaymentCardPageRequest(t))},getCurrentSubscription:function(t){return e(g.Z.getCurrentSubscription(t))},cardAddedSuccess:function(t){return e(g.Z.cardAddedSuccess(t))}}}))((0,m.EN)(y))},35838:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(74165),a=n(15861),i=n(15671),o=n(43144),c=n(60136),l=n(29388),u=n(51443),d=n.n(u),p=n(51690),h=n(16031),m=n.n(h),g=n(47313),f=n(34862),v=n(1084),x=n(3643),S=n(87074),y=n(78896),b=n(96161),j=n(20140),w=n(91104),Z=n(45610),k=(n(54034),n(14108)),C=n(19259),I=n(46417),T=function(e){(0,c.Z)(h,e);var t,n,u=(0,l.Z)(h);function h(e){var t;return(0,i.Z)(this,h),(t=u.call(this,e)).showErrorDialog=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={title:e,message:n,message2:r};t.setState({dialogWithButtonAndIcon:s,areErrors:!0})},t.signUp=m().debounce(function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({emailNotAllowed:!1,signupInProgress:!0,signupStatus:"Getting you signed-up, please wait . . ."}),n.email=n.email.toLowerCase(),r=n.first_name+" "+n.last_name,a={email:n.email,name:r,"custom:lead_source":t.props.leadSource||"","custom:google_click_id":t.props.clickId&&"undefined"!=t.props.clickId?t.props.clickId:"","custom:campaign":t.props.campaign},t.setState({first_name:n.first_name,last_name:n.last_name}),e.next=7,t.props.userSignUp(n.email,n.password,a);case 7:d().getInstance().setUserId(n.email),d().getInstance().logEvent("user-signup",{provider:"pictory",email:n.email,leadSource:t.props.leadSource,device:f.tq?"mobile":"computer",platform:(0,w.Ij)()}),t.trackAffiliate(n.email);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),3e3,{leading:!0}),t.googleLogin=function(){t.isAuthenticating()||(t.setState({loginInProgress:!0,loginStatus:"Logging you in ..."}),t.props.userGoogleLogin(),AppLocalStorage.setItem("loggedInWithGoogle",!0))},t.isAuthenticating=function(){if(t.props.location&&t.props.location.search){var e=queryString.parse(t.props.location.search);if(e.code&&e.state)return!0}return!1},t.linkClick=function(){window.open("https://pictory.ai/terms-of-service")},t.goToLogin=function(){t.props.history.push(S.Z.BaseURL)},t.goToStep1=function(){t.props.history.push(S.Z.BaseURL+Z.Z.stepOne)},t.trackAffiliate=function(e){if(e)try{window.fpr("referral",{email:e})}catch(e){console.log("Afiliate Error (sending username email) ",e)}},t.state={signupInProgress:!1,signupStatus:"",userAlreadyExist:!1,emailNotAllowed:!1,first_name:"",last_name:"",fetchingCountryCode:!1},t}return(0,o.Z)(h,[{key:"componentWillMount",value:function(){this.props.userLocationResult&&this.props.userLocationResult.countryCode||(this.setState({fetchingCountryCode:!0}),this.props.getUserLocation())}},{key:"componentDidMount",value:function(){(!f.i7||parseInt(f.x_)<92)&&(0,b.uV)("For better experience, use latest Chrome browser","use-latest-chrome",!0)}},{key:"componentDidUpdate",value:(n=(0,a.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onGetUserLocationResultChanged(t),this.onUserSignUpResultChanged(t),e.next=4,this.onCurrentSubscriptionChanged(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){}},{key:"onGetUserLocationResultChanged",value:function(e){this.props.getUserLocationResult&&this.props.getUserLocationResult!==e.getUserLocationResult&&this.setState({fetchingCountryCode:!1})}},{key:"onUserSignUpResultChanged",value:function(e){if(this.props.userSignUpResult&&this.props.userSignUpResult!==e.userSignUpResult)if(this.props.userSignUpResult.success)this.setState({userAlreadyExist:!1,emailNotAllowed:!1}),this.props.userSignUpResult.loggedInUser?(this.props.updateCountryCode(),this.props.getCurrentSubscription(this.props.userSignUpResult.loggedInUser.username,!0),this.setState({signupStatus:"Setting-up your account, please wait . . ."})):this.props.history.push(S.Z.BaseURL+Z.Z.login);else{if("GOOGLE_LOGIN_EXIST"===this.props.userSignUpResult.code)return void this.props.history.push(S.Z.BaseURL+Z.Z.login,{loginError:(0,r.Z)({},this.props.userSignUpResult)});if("BAD_REQUEST"===this.props.userSignUpResult.code&&"EMAIL_NOT_ALLOWED_FOR_SIGNUP"===this.props.userSignUpResult.message)return void this.setState({emailNotAllowed:!0,signupInProgress:!1,signupStatus:""});var t;this.setState({signupInProgress:!1,signupStatus:""}),this.props.userSignUpResult.code&&"UsernameExistsException"===this.props.userSignUpResult.code?this.setState({userAlreadyExist:!0}):this.showErrorDialog("Signup failed",(null===(t=this.props.userSignUpResult)||void 0===t?void 0:t.message)+("failed"!=this.props.userSignUpResult.code?", error code: "+this.props.userSignUpResult.code:""),"Please contact support")}}},{key:"onCurrentSubscriptionChanged",value:(t=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.currentSubscription||this.props.currentSubscription==t.currentSubscription){e.next=16;break}if(!(this.props.currentSubscription&&this.props.currentSubscription.data&&this.props.currentSubscription.data.country_code)){e.next=15;break}return n=this.props.currentSubscription.data.country_code,r="chargebee"===this.props.currentSubscription.data.organization_id?"v2":"v1",e.next=7,(0,j.xx)(this.props.userSignUpResult.loggedInUser);case 7:if(a=e.sent,i=Z.Z.VerifyEmail,"v2"!==r||this.props.currentSubscription.data.teamId||this.props.currentSubscription.data.teamUser||!n||!1!==(0,w.bv)(n)){e.next=12;break}return this.props.history.push({pathname:S.Z.BaseURL+Z.Z.cards,state:{redirectPath:i,redirectedFrom:Z.Z.signUp}}),e.abrupt("return");case 12:!1===a?this.props.history.push({pathname:S.Z.BaseURL+Z.Z.VerifyEmail,state:{redirectedFrom:Z.Z.signUp}}):(f.tq||this.props.history.push({pathname:S.Z.BaseURL+Z.Z.userQuestionnaire,state:{isNewSignUp:!0}}),this.setState({signupInProgress:!1,signupStatus:""})),e.next=16;break;case 15:this.props.currentSubscription&&this.props.currentSubscription.data?(this.props.updateCountryCode(),this.props.getCurrentSubscription(this.props.userSignUpResult.loggedInUser.username,!0)):this.setState({signupInProgress:!1,signupStatus:""});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return(0,I.jsx)(I.Fragment,{children:this.state.accountSetup?(0,I.jsx)(p.AccountSetupFeedback,{onEnter:this.goToStep1}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.UserSignupForm,{onLogin:this.goToLogin,onSignup:this.signUp,onGoogleLogin:this.googleLogin,onOpenLinkInNewTab:this.linkClick,signupInProgress:this.state.signupInProgress,signupStatus:this.state.signupStatus,userAlreadyExist:this.state.userAlreadyExist,emailNotAllowed:this.state.emailNotAllowed,countryCode:this.props.userLocationResult&&this.props.userLocationResult.countryCode,fetchingCountryCode:this.state.fetchingCountryCode}),this.state.areErrors?(0,I.jsx)(k.default,{icon:(0,I.jsx)(C.Z,{color:"error"}),iconBgPaletteColor:"error.lighter",open:this.state.areErrors,title:this.state.dialogWithButtonAndIcon.title,message:this.state.dialogWithButtonAndIcon.message,message2:this.state.dialogWithButtonAndIcon.message2,primaryButtonLabel:"OK",primaryButtonOnClick:function(){return e.setState({areErrors:!1})},primaryButtonColor:"error.main"}):(0,I.jsx)(I.Fragment,{})]})})}}]),h}(g.Component);t.default=(0,v.$j)((function(e){return{userSignUpResult:e.userSignUp.userSignUpResult,startPlan:e.subscription.startPlan,currentSubscription:e.subscription.currentSubscription,getUserLocationResult:e.userSignUp.getUserLocationResult,userLocationResult:e.userSignUp.userLocationResult,updateCountryCodeResult:e.subscription.updateCountryCodeResult}}),(function(e){return{userSignUp:function(t,n,r){return e(y.Z.userSignUpRequest(t,n,r))},startPlanForExistingCustomer:function(t){return e(y.Z.startPlanForExistingCustomer(t))},getCurrentSubscription:function(t){return e(y.Z.getCurrentSubscription(t))},userGoogleLogin:function(){return e(y.Z.userGoogleLoginRequest())},getUserLocation:function(){return e(y.Z.getUserLocationRequest())},updateCountryCode:function(){return e(y.Z.updateCountryCodeRequest())}}}))((0,x.EN)(T))},408:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(15671),a=n(43144),i=n(60136),o=n(29388),c=n(51443),l=n.n(c),u=n(51690),d=(n(16031),n(47313)),p=n(1084),h=n(3643),m=n(78896),g=(n(91104),n(87074),n(45610)),f=(n(36410),n(46417)),v=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).onSaveQuestionnaire=function(e,t,n,s,i,o,c){var u,d,p,h,m="";m=null!=s&&s.length>0?s:null!==(d=a.props.currentSubscription.data)&&void 0!==d&&d.company_name&&(null===(p=a.props.currentSubscription.data)||void 0===p?void 0:p.company_name.length)>0?null===(h=a.props.currentSubscription.data)||void 0===h?void 0:h.company_name:"-";var g="",f="",v="";e&&e.length>=1&&e[0]&&e[0].length>0&&"other"==(g=e[0]).toLocaleLowerCase()&&(g=n[0]),e&&e.length>=2&&e[1]&&e[1].length>0&&"other"==(v=e[1]).toLocaleLowerCase()&&(v=n[1]),e&&e.length>=3&&e[2]&&e[2].length>0&&(f=e[2]);var x={};x.company_name=m,i&&(x.industry=i);var S=a.state.eventData;0==t?(x.productUsage=g,S.What_Do_Use_Pictory_For=o):2==t?(x.orgSize=f,S.What_Is_Your_OrgSize=o,S.industry=i||"",S.company_name=m||""):1==t&&(x.job=v,S.What_Best_Describes_You=o),a.setState({currentStep:t}),a.props.updateCustomer(null===(u=a.props.currentSubscription.data)||void 0===u?void 0:u.cognito_id,x),!0===c?(l().getInstance().logEvent("pictory-experience-questionnaire",(0,r.Z)({},S)),a.props.onClose&&a.props.onClose()):a.setState({eventData:S})},a.state={eventData:{What_Do_Use_Pictory_For:"",What_Best_Describes_You:"",What_Is_Your_OrgSize:"",industry:"",company_name:""}},a}return(0,a.Z)(n,[{key:"componentWillMount",value:function(){this.props.loggedInUser&&this.props.currentSubscription&&this.props.currentSubscription.data||this.props.history.push("/"+g.Z.login);var e=-1,t=[],n=[];try{this.props.currentSubscription.data,1==(e=this.props.startQuestion)&&(t.push(""),n.push("")),this.setState({startQuestion:e,previousAnswers:t,previousOtherAnswers:n})}catch(e){}}},{key:"componentDidUpdate",value:function(e,t){this.onUpdateCustomerChanged(e)}},{key:"onUpdateCustomerChanged",value:function(e){this.props.updateCustomerResult&&(e.updateCustomerResult,this.props.updateCustomerResult)}},{key:"render",value:function(){return(0,f.jsx)(f.Fragment,{children:this.state.startQuestion>0&&(0,f.jsx)(u.QuestionsForm,{onSave:this.onSaveQuestionnaire,previousAnswers:this.state.previousAnswers,previousOtherAnswers:this.state.previousOtherAnswers,startQuestion:this.state.startQuestion,isLogin:this.props.isLogin})})}}]),n}(d.Component);t.default=(0,p.$j)((function(e){return{loggedInUser:e.userLogin.loggedInUser,currentSubscription:e.subscription.currentSubscription,updateCustomerResult:e.subscription.updateCustomer}}),(function(e){return{updateCustomer:function(t,n){return e(m.Z.updateCustomer({userId:t,postData:n,image:null,path:null}))}}}))((0,h.EN)(v))},54034:function(e,t,n){var r=n(67751);r.keys().forEach((function(t){var n=t.replace(/^\.\/([^.]+)\.js$/,"$1");e.exports[n]=r(t).default}))},34119:function(e,t,n){"use strict";var r=n(51443),s=n.n(r),a=n(11393),i=n(5390),o=n.n(i),c=(n(47313),n(1168)),l=n(11824),u={aws_project_region:"us-east-2",aws_cognito_region:"us-east-2",aws_cognito_identity_pool_id:"us-east-2:78a7ad3e-8e95-4dee-a942-36942b0f7449",aws_user_pools_id:"us-east-2_slTC9DYpz",aws_user_pools_web_client_id:"6jf85ec83ken7p1hi9objfl96s",oauth:{domain:"pictoryai6625df75-6625df75-pictory.auth.us-east-2.amazoncognito.com",scope:["phone","email","openid","profile","aws.cognito.signin.user.admin"],redirectSignIn:"http://localhost:3000/,https://dev.pictory.ai/,https://app.pictory.ai/,http://localhost:3000/login/,http://localhost:3000/createvideostep1/,https://dev.pictory.ai/login/,https://dev.pictory.ai/createvideostep1/,https://app.pictory.ai/login/,https://app.pictory.ai/createvideostep1/",redirectSignOut:"http://localhost:3000/,https://dev.pictory.ai/,https://app.pictory.ai/",responseType:"code"},federationTarget:"COGNITO_USER_POOLS",Auth:{region:"us-east-2",userPoolId:"us-east-2_slTC9DYpz",userPoolWebClientId:"6jf85ec83ken7p1hi9objfl96s",identityPoolId:"us-east-2:78a7ad3e-8e95-4dee-a942-36942b0f7449",mandatorySignIn:!0},Storage:{bucket:"brand-settings-images130431-pictory",region:"us-east-2",identityPoolId:"us-east-2:78a7ad3e-8e95-4dee-a942-36942b0f7449"}},d=n(65526);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=n(27403),h=n(14237),m=n(2367),g=n(3666),f=n(16031),v=n(19579),x="BLMelody, Lato",S=n(78061),y=n(1413);function b(e){return"".concat(e/16,"em")}function j(e){return"".concat(e/16,"rem")}function w(e){var t=e.sm,n=e.md,r=e.lg;return{"@media (min-width:600px)":{fontSize:j(t)},"@media (min-width:900px)":{fontSize:j(n)},"@media (min-width:1200px)":{fontSize:j(r)}}}function Z(e){var t=e.sm,n=e.md,r=e.lg,s=e.lg_1440,a=e.lg_1600,i=e.lg_1920,o=e.lg_2560;return{"@media (min-width:600px)":{fontSize:j(t)},"@media (min-width:900px)":{fontSize:j(n)},"@media (min-width:1200px)":{fontSize:j(r)},"@media (min-width:1440px)":{fontSize:j(s)},"@media (min-width:1600px)":{fontSize:j(a)},"@media (min-width:1920px)":{fontSize:j(i)},"@media (min-width:2560px)":{fontSize:j(o)},"@media (min-width:3840px)":{fontSize:j(1.5*i)},"@media (min-width:4096px)":{fontSize:j(1.7*i)}}}var k,C,I={h1:(0,y.Z)({fontWeight:100,lineHeight:4.8,fontSize:j(40)},w({sm:32,md:36,lg:40})),h2:(0,y.Z)({fontWeight:600,lineHeight:2.4,fontSize:j(32)},w({sm:24,md:28,lg:32})),h3:(0,y.Z)({fontWeight:600,lineHeight:2.1,fontSize:j(24)},w({sm:18,md:22,lg:24})),h4:(0,y.Z)({fontWeight:600,lineHeight:1.8,fontSize:j(21)},w({sm:16,md:18,lg:21})),h5_resp:(0,y.Z)({fontWeight:600,lineHeight:1.35,fontSize:j(18)},Z({sm:14,md:16,lg:18,lg_1440:18,lg_1600:20,lg_1920:20,lg_2560:24})),h6:(0,y.Z)({fontWeight:600,lineHeight:1.125,fontSize:j(15)},w({sm:13,md:14,lg:15})),h2a:(0,y.Z)({fontWeight:100,lineHeight:2.4,fontSize:j(32)},w({sm:24,md:28,lg:32})),h3a:(0,y.Z)({fontWeight:100,lineHeight:2.1,fontSize:j(24)},w({sm:18,md:21,lg:24})),h4a:(0,y.Z)({fontWeight:100,lineHeight:1.8,fontSize:j(21)},w({sm:16,md:18,lg:21})),h5a:(0,y.Z)({fontWeight:100,lineHeight:1.35,fontSize:j(18)},w({sm:14,md:16,lg:18})),h6a:(0,y.Z)({fontWeight:100,lineHeight:1.125,fontSize:j(15)},w({sm:13,md:14,lg:15})),h2b:(0,y.Z)({fontWeight:700,lineHeight:2.4,fontSize:j(32)},w({sm:24,md:28,lg:32})),h3b:(0,y.Z)({fontWeight:700,lineHeight:2.1,fontSize:j(24)},w({sm:18,md:21,lg:24})),h4b:(0,y.Z)({fontWeight:700,lineHeight:1.8,fontSize:j(21),fontFamily:"Lato"},Z({sm:16,md:18,lg:21,lg_1440:21,lg_1600:24,lg_1920:24,lg_2560:28})),h5b:(0,y.Z)({fontWeight:700,lineHeight:1.35},Z({sm:14,md:14,lg:16,lg_1440:16,lg_1600:20,lg_1920:20,lg_2560:24})),h6b:(0,y.Z)({fontWeight:700,lineHeight:1.125,fontSize:j(15)},w({sm:13,md:14,lg:15})),subtitle1:(0,y.Z)({fontWeight:600,lineHeight:1.05},Z({sm:14,md:14,lg:16,lg_1440:16,lg_1600:18,lg_1920:18,lg_2560:22})),subtitle1_500:(0,y.Z)({fontWeight:500,lineHeight:1.05},Z({sm:14,md:14,lg:16,lg_1440:16,lg_1600:18,lg_1920:18,lg_2560:22})),subtitle1a:(0,y.Z)({fontWeight:100,lineHeight:1.05,fontSize:j(14)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:15,lg_1920:15,lg_2560:18})),subtitle1b:(0,y.Z)({fontWeight:700,lineHeight:1.05,fontSize:j(14)},Z({sm:14,md:14,lg:16,lg_1440:16,lg_1600:18,lg_1920:18,lg_2560:22})),subtitle2:{fontWeight:600,lineHeight:.9,fontSize:j(12)},subtitle2a:{fontWeight:100,lineHeight:.9,fontSize:j(12)},subtitle2b:{fontWeight:700,lineHeight:.9,fontSize:j(12)},body1:(0,y.Z)({fontWeight:400,lineHeight:1.5,fontSize:j(14),fontFamily:"Lato"},Z({sm:11,md:11,lg:14,lg_1440:14,lg_1600:15,lg_1920:15,lg_2560:17})),body2:{fontWeight:400,lineHeight:.975,fontSize:j(13)},body3:{fontWeight:400,lineHeight:1.05,fontSize:j(14)},caption:{fontWeight:400,lineHeight:.9,fontSize:j(12)},captionB:(0,y.Z)({fontWeight:700,lineHeight:.9,fontSize:j(12)},Z({sm:11,md:11,lg:12,lg_1440:12,lg_1600:14,lg_1920:15,lg_2560:18})),captionC:{fontWeight:100,lineHeight:.9,fontSize:j(12)},overline:{fontWeight:100,lineHeight:1.5,fontSize:j(12),letterSpacing:1.1,textTransform:"uppercase"},button:{fontWeight:400,lineHeight:1.5,fontSize:j(15),textTransform:"unset"},body1_medium:(0,y.Z)({fontWeight:400,lineHeight:"96px",fontSize:"2.4rem"},w({sm:52,md:58,lg:64})),h3_resp:(0,y.Z)({fontWeight:600,lineHeight:1.5,fontSize:j(24)},Z({sm:26,md:30,lg:32,lg_1440:32,lg_1600:38,lg_1920:38,lg_2560:44})),h4_resp:(0,y.Z)({fontWeight:600,lineHeight:1,fontSize:j(20)},Z({sm:16,md:16,lg:22,lg_1440:24,lg_1600:28,lg_1920:28,lg_2560:32})),h3a_resp:(0,y.Z)({fontWeight:100,lineHeight:1.5,fontSize:j(24)},Z({sm:18,md:21,lg:24,lg_1440:24,lg_1600:28,lg_1920:28,lg_2560:34})),h4a_resp:(0,y.Z)({fontWeight:100,lineHeight:1.5,fontSize:j(20)},Z({sm:18,md:18,lg:20,lg_1440:20,lg_1600:22,lg_1920:22,lg_2560:26})),h5a_resp:(0,y.Z)({fontWeight:100,lineHeight:1.5,fontSize:j(18)},Z({sm:16,md:16,lg:18,lg_1440:18,lg_1600:20,lg_1920:20,lg_2560:24})),h6a_resp:(0,y.Z)({fontWeight:100,lineHeight:1.125,fontSize:j(15)},Z({sm:13,md:14,lg:15,lg_1440:15,lg_1600:18,lg_1920:18,lg_2560:22})),h3sb_resp:(0,y.Z)({fontWeight:500,lineHeight:1.5,fontSize:j(24)},Z({sm:18,md:21,lg:24,lg_1440:24,lg_1600:28,lg_1920:28,lg_2560:34})),h4b_resp:(0,y.Z)({fontWeight:700,lineHeight:1.8,fontSize:j(21)},Z({sm:16,md:18,lg:21,lg_1440:21,lg_1600:24,lg_1920:24,lg_2560:28})),h4sb_resp:(0,y.Z)({fontWeight:500,lineHeight:1.8,fontSize:j(21)},Z({sm:16,md:18,lg:21,lg_1440:21,lg_1600:24,lg_1920:24,lg_2560:28})),h5sb_resp:(0,y.Z)({fontWeight:500,lineHeight:1.5,fontSize:j(18)},Z({sm:14,md:16,lg:18,lg_1440:18,lg_1600:20,lg_1920:20,lg_2560:24})),h6_resp:(0,y.Z)({fontWeight:600,lineHeight:1.125,fontSize:j(15)},Z({sm:13,md:14,lg:15,lg_1440:15,lg_1600:18,lg_1920:18,lg_2560:22})),h6b_resp:(0,y.Z)({fontWeight:700,lineHeight:28/18,fontSize:j(17)},Z({sm:15,md:15,lg:17,lg_1440:17,lg_1600:18,lg_1920:18,lg_2560:21})),subtitle1_resp:(0,y.Z)({fontWeight:700,lineHeight:1.5,fontSize:j(16)},Z({sm:14,md:14,lg:16,lg_1440:16,lg_1600:18,lg_1920:18,lg_2560:22})),subtitle2_resp:(0,y.Z)({fontWeight:700,lineHeight:22/14,fontSize:j(14)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:20})),subtitle2b_resp:(0,y.Z)({fontWeight:700,lineHeight:.9,fontSize:j(14)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:20})),body1_resp:(0,y.Z)({fontWeight:400,lineHeight:1.5,fontSize:j(16)},Z({sm:14,md:14,lg:16,lg_1440:16,lg_1600:18,lg_1920:18,lg_2560:24})),body2_resp:(0,y.Z)({fontWeight:400,lineHeight:22/14,fontSize:j(14)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:20})),body3_resp:(0,y.Z)({fontWeight:400,lineHeight:1.05,fontSize:j(14)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:20})),body500_resp:(0,y.Z)({fontWeight:500,lineHeight:1.2,fontSize:j(14)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:20})),caption_resp:(0,y.Z)({fontWeight:400,lineHeight:.9,fontSize:j(12)},Z({sm:11,md:11,lg:12,lg_1440:12,lg_1600:14,lg_1920:15,lg_2560:18})),menuitem_resp:(0,y.Z)({fontWeight:500,lineHeight:1.125,fontSize:j(12)},Z({sm:12,md:12,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:19})),tiny_resp:(0,y.Z)({fontWeight:600,lineHeight:1.125,fontSize:j(10)},Z({sm:8,md:9,lg:10,lg_1440:10,lg_1600:10,lg_1920:11,lg_2560:12})),dialog_title:{fontWeight:500,fontFamily:"BL Melody, Lato",fontSize:b(24),color:S.Z.common.black},text_xs:{fontWeight:400,fontSize:"12px",lineHeight:"16px",fontFamily:"Lato"},text_xs_13:(0,y.Z)((0,y.Z)({fontWeight:400,fontSize:"13px"},Z({sm:10,md:11,lg:11,lg_1440:11,lg_1600:13,lg_1920:13,lg_2560:16})),{},{lineHeight:"16px",fontFamily:"Lato"}),text_sm:{fontWeight:400,fontSize:"14px",lineHeight:"20px",fontFamily:"Lato"},text_sm_resp:(0,y.Z)((0,y.Z)({fontWeight:400,fontSize:"14px"},Z({sm:12,md:14,lg:14,lg_1440:14,lg_1600:16,lg_1920:16,lg_2560:20})),{},{lineHeight:"20px",fontFamily:"Lato"}),text_base:(0,y.Z)((0,y.Z)({fontWeight:400,fontSize:"16px"},Z({sm:12,md:14,lg:14,lg_1440:16,lg_1600:16,lg_1920:16,lg_2560:1})),{},{lineHeight:"24px",fontFamily:"Lato"}),text_lg:(0,y.Z)((0,y.Z)({fontWeight:500,fontSize:"18px"},Z({sm:14,md:16,lg:16,lg_1440:18,lg_1600:18,lg_1920:18,lg_2560:21})),{},{lineHeight:"28px",fontFamily:"Lato"}),text_xl:{fontWeight:500,fontSize:"20px",lineHeight:"28px",fontFamily:"Lato"},text_2xl:{fontWeight:500,fontSize:"24px",lineHeight:"32px",fontFamily:"Lato"},text_3xl:{fontWeight:500,fontSize:"30px",lineHeight:"36px",fontFamily:"Lato"},text_4xl:{fontWeight:500,fontSize:"36px",lineHeight:"40px",fontFamily:"Lato"},text_5xl:{fontWeight:500,fontSize:"48px",lineHeight:"48px",fontFamily:"Lato"},text_6xl:{fontWeight:400,fontSize:"60px",lineHeight:"60px",fontFamily:"Lato"},text_7xl:{fontWeight:400,fontSize:"72px",lineHeight:"72px",fontFamily:"Lato"},text_8xl:{fontWeight:400,fontSize:"96px",lineHeight:"96px",fontFamily:"Lato"},text_9xl:{fontWeight:400,fontSize:"128px",lineHeight:"128px",fontFamily:"Lato"}},T=(0,y.Z)((0,y.Z)({},{fontFamily:"Lato",fontWeightRegular:400,fontWeightMedium:600,fontWeightBold:700}),I),E=S.Z.grey[500],A=(k=E,C=(0,v.Fq)(k,.24),{z1:"0 1px 2px 0 ".concat(C),z8:"0 8px 16px 0 ".concat(C),z12:"0 0 2px 0 ".concat(C,", 0 12px 24px 0 ").concat(C),z16:"0 0 2px 0 ".concat(C,", 0 16px 32px -4px ").concat(C),z20:"0 0 2px 0 ".concat(C,", 0 20px 40px -4px ").concat(C),z24:"0 0 4px 0 ".concat(C,", 0 24px 48px 0 ").concat(C),primary:"0 8px 16px 0 ".concat((0,v.Fq)(S.Z.primary.main,.24)),secondary:"0 8px 16px 0 ".concat((0,v.Fq)(S.Z.secondary.main,.24)),info:"0 8px 16px 0 ".concat((0,v.Fq)(S.Z.info.main,.24)),success:"0 8px 16px 0 ".concat((0,v.Fq)(S.Z.success.main,.24)),warning:"0 8px 16px 0 ".concat((0,v.Fq)(S.Z.warning.main,.24)),error:"0 8px 16px 0 ".concat((0,v.Fq)(S.Z.error.main,.24))}),_=function(e){var t=(0,v.Fq)(e,.2),n=(0,v.Fq)(e,.14),r=(0,v.Fq)(e,.12);return["none","0px 2px 1px -1px ".concat(t,",0px 1px 1px 0px ").concat(n,",0px 1px 3px 0px ").concat(r),"0px 3px 1px -2px ".concat(t,",0px 2px 2px 0px ").concat(n,",0px 1px 5px 0px ").concat(r),"0px 3px 3px -2px ".concat(t,",0px 3px 4px 0px ").concat(n,",0px 1px 8px 0px ").concat(r),"0px 2px 4px -1px ".concat(t,",0px 4px 5px 0px ").concat(n,",0px 1px 10px 0px ").concat(r),"0px 3px 5px -1px ".concat(t,",0px 5px 8px 0px ").concat(n,",0px 1px 14px 0px ").concat(r),"0px 3px 5px -1px ".concat(t,",0px 6px 10px 0px ").concat(n,",0px 1px 18px 0px ").concat(r),"0px 4px 5px -2px ".concat(t,",0px 7px 10px 1px ").concat(n,",0px 2px 16px 1px ").concat(r),"0px 5px 5px -3px ".concat(t,",0px 8px 10px 1px ").concat(n,",0px 3px 14px 2px ").concat(r),"0px 5px 6px -3px ".concat(t,",0px 9px 12px 1px ").concat(n,",0px 3px 16px 2px ").concat(r),"0px 6px 6px -3px ".concat(t,",0px 10px 14px 1px ").concat(n,",0px 4px 18px 3px ").concat(r),"0px 6px 7px -4px ".concat(t,",0px 11px 15px 1px ").concat(n,",0px 4px 20px 3px ").concat(r),"0px 7px 8px -4px ".concat(t,",0px 12px 17px 2px ").concat(n,",0px 5px 22px 4px ").concat(r),"0px 7px 8px -4px ".concat(t,",0px 13px 19px 2px ").concat(n,",0px 5px 24px 4px ").concat(r),"0px 7px 9px -4px ".concat(t,",0px 14px 21px 2px ").concat(n,",0px 5px 26px 4px ").concat(r),"0px 8px 9px -5px ".concat(t,",0px 15px 22px 2px ").concat(n,",0px 6px 28px 5px ").concat(r),"0px 8px 10px -5px ".concat(t,",0px 16px 24px 2px ").concat(n,",0px 6px 30px 5px ").concat(r),"0px 8px 11px -5px ".concat(t,",0px 17px 26px 2px ").concat(n,",0px 6px 32px 5px ").concat(r),"0px 9px 11px -5px ".concat(t,",0px 18px 28px 2px ").concat(n,",0px 7px 34px 6px ").concat(r),"0px 9px 12px -6px ".concat(t,",0px 19px 29px 2px ").concat(n,",0px 7px 36px 6px ").concat(r),"0px 10px 13px -6px ".concat(t,",0px 20px 31px 3px ").concat(n,",0px 8px 38px 7px ").concat(r),"0px 10px 13px -6px ".concat(t,",0px 21px 33px 3px ").concat(n,",0px 8px 40px 7px ").concat(r),"0px 10px 14px -6px ".concat(t,",0px 22px 35px 3px ").concat(n,",0px 8px 42px 7px ").concat(r),"0px 11px 14px -7px ".concat(t,",0px 23px 36px 3px ").concat(n,",0px 9px 44px 8px ").concat(r),"0px 11px 15px -7px ".concat(t,",0px 24px 38px 3px ").concat(n,",0px 9px 46px 8px ").concat(r)]}(E),R=_,P={palette:S.Z,shape:{borderRadius:8,borderRadiusSm:12,borderRadiusMd:16},typography:T,shadows:R,customShadows:A},N=(0,g.Z)(P);N.components=function(e){return(0,f.merge)({MuiAlert:{styleOverrides:{action:{alignItems:"center"}}}},function(e){return{MuiCard:{styleOverrides:{root:{boxShadow:e.customShadows.z16,borderRadius:e.shape.borderRadiusMd,position:"relative",zIndex:0}}},MuiCardHeader:{defaultProps:{titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{variant:"body2"}},styleOverrides:{root:{padding:e.spacing(3,3,0)}}},MuiCardContent:{styleOverrides:{root:{padding:e.spacing(3)}}}}}(e),function(e){return{MuiListItemIcon:{styleOverrides:{root:{color:"inherit",minWidth:"auto",marginRight:e.spacing(2)}}},MuiListItemAvatar:{styleOverrides:{root:{minWidth:"auto",marginRight:e.spacing(2)}}},MuiListItemText:{styleOverrides:{root:{marginTop:0,marginBottom:0},multiline:{marginTop:0,marginBottom:0}}}}}(e),{MuiPaper:{defaultProps:{elevation:0},styleOverrides:{root:{backgroundImage:"none"}}}},function(e){return{MuiInputBase:{styleOverrides:{root:{"&.Mui-disabled":{"& svg":{color:e.palette.text.disabled}}},input:{"&::placeholder":{opacity:1,color:e.palette.text.disabled}}}},MuiInput:{styleOverrides:{margineLeft:"10px",underline:{"&:before":{borderBottomColor:e.palette.grey[50056]}}}},MuiFilledInput:{styleOverrides:{root:{height:"40px",color:"#222222",backgroundColor:"#fff","&:hover":{backgroundColor:"#fff"},"&.Mui-focused":{backgroundColor:"#fff"},"&.Mui-disabled":{backgroundColor:e.palette.action.disabledBackground}},underline:{"&:before":{borderBottomColor:e.palette.grey[50056]}}}},MuiOutlinedInput:{styleOverrides:{root:{height:"40px",paddingLeft:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.grey[50032]},"&.Mui-focused":{height:"40px"},"&.Mui-disabled":{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.action.disabledBackground}}}}},MuiInputLabel:{styleOverrides:{root:{top:"-5px"}}}}}(e),function(e){return{MuiButton:{styleOverrides:{root:{fontFamily:x,boxShadow:"none","&:hover":{boxShadow:"none"}},sizeLarge:{height:48},containedInherit:{color:e.palette.grey[800],"&:hover":{backgroundColor:e.palette.grey[400]}},outlinedInherit:{border:"1px solid ".concat(e.palette.grey[50032]),"&:hover":{backgroundColor:e.palette.action.hover}},textInherit:{"&:hover":{backgroundColor:e.palette.action.hover}}}}}}(e),{MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"#3D3E4E",fontSize:b(12),fontFamily:x},arrow:{color:"#3D3E4E"}}}},function(e){var t=(0,v.Fq)(e.palette.grey[900],.48),n=(0,v.Fq)(e.palette.grey[900],1);return{MuiBackdrop:{styleOverrides:{root:{background:["rgb(22,28,36)","-moz-linear-gradient(75deg, ".concat(t," 0%, ").concat(n," 100%)"),"-webkit-linear-gradient(75deg, ".concat(t," 0%, ").concat(n," 100%)"),"linear-gradient(75deg, ".concat(t," 0%, ").concat(n," 100%)")],"&.MuiBackdrop-invisible":{background:"transparent"}}}}}}(e),function(e){return{MuiTypography:{styleOverrides:{paragraph:{marginBottom:e.spacing(2)},gutterBottom:{marginBottom:e.spacing(1)}}}}}(e),function(e){return{MuiIconButton:{variants:[{props:{color:"default"},style:{"&:hover":{backgroundColor:e.palette.action.hover}}},{props:{color:"inherit"},style:{"&:hover":{backgroundColor:e.palette.action.hover}}}],styleOverrides:{root:{}}}}}(e),function(e){return{MuiAutocomplete:{styleOverrides:{paper:{boxShadow:e.customShadows.z20}}}}}(e))}(N);var O=n(46417);function D(e){var t=e.children;return(0,O.jsx)(h.Z,{injectFirst:!0,children:(0,O.jsxs)(m.Z,{theme:N,children:[(0,O.jsx)(p.ZP,{}),t]})})}var U=n(98390),L=(n(77241),n(90794));n(30690),U.Z.Initialize(),window.location&&window.location.hostname&&(window.location.hostname.startsWith("app")||window.location.hostname.startsWith("master-v1-staging"))?(u.oauth.domain="auth.pictory.ai",s().getInstance().init("a27b15a47d850b0fef178702d4dcb7a4"),l.ZP.initialize("AW-677181474/BGM4CJrrqs0BEKLw88IC")):(u.oauth.domain="pictoryai6625df75-6625df75-pictory.auth.us-east-2.amazoncognito.com",s().getInstance().init("7b6997468ddb8b2eaafb22809cc659f5")),window.amplitude=s().getInstance();var F=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/";u.oauth.redirectSignIn=F,u.oauth.redirectSignOut=F,function(){try{if(window.self===window.top)return!1}catch(e){}return!0}()&&(u.oauth.urlOpener=function(e){var t=window.open(e,"","toolbar=no,status=no,menubar=no,location=center,scrollbars=no,resizable=no,height=500,width=657");window.awsCognitoLoginWindow=t}),function(){var e=window,t=e.Intercom;if("function"==typeof t)t("reattach_activator"),t("update",e.intercomSettings);else{var n=document,r=function e(){e.c(arguments)};r.q=[],r.c=function(e){r.q.push(e)},e.Intercom=r;var s=function(){var e=n.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/";var t=n.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)};"complete"===document.readyState?s():e.attachEvent?e.attachEvent("onload",s):e.addEventListener("load",s,!1)}}(),a.dQ.configure(u),L.Z.removeItem("create-video-step1-state"),L.Z.removeItem("create-video-step2-state"),L.Z.removeItem("create-video-step2-location-state"),o().config.update({correctClockSkew:!0}),c.render((0,O.jsx)(D,{children:(0,O.jsx)(d.Z,{basename:"/"})}),document.getElementById("root")),window.onpopstate=function(){window.location.assign("/textinput")},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),"serviceWorker"in navigator&&navigator.serviceWorker.register("".concat("","/proxyWorker.js")).then((function(e){console.log("Proxy Worker registered with scope:",e.scope)})).catch((function(e){console.error("Proxy Worker registration failed:",e)}))},61358:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(1413),s=n(85541),a=(n(47313),n(46417));function i(e){return(0,a.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},e),{},{width:"20",height:"12",viewBox:"0 0 20 12",fill:"none",children:[(0,a.jsx)("path",{d:"M10.4125 11.0611H8.95652C8.79319 11.0611 8.65786 11.0215 8.55052 10.9421C8.44786 10.8581 8.37319 10.7555 8.32652 10.6341L7.57052 8.56915H3.37752L2.62152 10.6341C2.58419 10.7415 2.50952 10.8395 2.39752 10.9281C2.29019 11.0168 2.15719 11.0611 1.99852 11.0611H0.535522L4.51152 0.939148H6.43652L10.4125 11.0611ZM3.86052 7.23915H7.08752L5.85552 3.87215C5.79952 3.72282 5.73652 3.54782 5.66652 3.34715C5.60119 3.14182 5.53586 2.92015 5.47052 2.68215C5.40519 2.92015 5.33986 3.14182 5.27452 3.34715C5.21386 3.55248 5.15319 3.73215 5.09252 3.88615L3.86052 7.23915Z"}),(0,a.jsx)("path",{d:"M15.7475 9.67515C16.1722 9.67515 16.5408 9.63782 16.8535 9.56315C17.1708 9.48382 17.4718 9.37648 17.7565 9.24115V7.40015H16.4895C16.3682 7.40015 16.2725 7.36748 16.2025 7.30215C16.1325 7.23215 16.0975 7.14815 16.0975 7.05015V5.98615H19.4645V10.0811C19.2078 10.2678 18.9395 10.4311 18.6595 10.5711C18.3842 10.7065 18.0878 10.8185 17.7705 10.9071C17.4578 10.9958 17.1218 11.0611 16.7625 11.1031C16.4032 11.1498 16.0158 11.1731 15.6005 11.1731C14.8632 11.1731 14.1842 11.0448 13.5635 10.7881C12.9428 10.5315 12.4062 10.1745 11.9535 9.71715C11.5008 9.25982 11.1462 8.71381 10.8895 8.07915C10.6375 7.44448 10.5115 6.75148 10.5115 6.00015C10.5115 5.23948 10.6352 4.54182 10.8825 3.90715C11.1298 3.27248 11.4798 2.72648 11.9325 2.26915C12.3898 1.81182 12.9428 1.45715 13.5915 1.20515C14.2402 0.953148 14.9682 0.827148 15.7755 0.827148C16.6015 0.827148 17.3155 0.950815 17.9175 1.19815C18.5242 1.44081 19.0375 1.75815 19.4575 2.15015L18.9115 3.00415C18.8042 3.17681 18.6618 3.26315 18.4845 3.26315C18.3725 3.26315 18.2582 3.22582 18.1415 3.15115C17.9922 3.06248 17.8382 2.97381 17.6795 2.88515C17.5255 2.79648 17.3528 2.71948 17.1615 2.65415C16.9748 2.58882 16.7625 2.53515 16.5245 2.49315C16.2912 2.45115 16.0205 2.43015 15.7125 2.43015C15.2132 2.43015 14.7605 2.51415 14.3545 2.68215C13.9532 2.85015 13.6102 3.09048 13.3255 3.40315C13.0408 3.71581 12.8215 4.09148 12.6675 4.53015C12.5135 4.96881 12.4365 5.45881 12.4365 6.00015C12.4365 6.58348 12.5182 7.10382 12.6815 7.56115C12.8448 8.01382 13.0735 8.39648 13.3675 8.70915C13.6615 9.02182 14.0115 9.26215 14.4175 9.43015C14.8235 9.59348 15.2668 9.67515 15.7475 9.67515Z"})]}))}},8690:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(1413),s=n(85541),a=(n(47313),n(46417));function i(e){return(0,a.jsx)(s.Z,(0,r.Z)((0,r.Z)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,a.jsx)("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V4C22 2.9 21.1 2 20 2ZM8 20H4V16H8V20ZM8 14H4V10H8V14ZM8 8H4V4H8V8ZM14 20H10V16H14V20ZM14 14H10V10H14V14ZM14 8H10V4H14V8ZM20 20H16V16H20V20ZM20 14H16V10H20V14ZM20 8H16V4H20V8Z"})}))}},32599:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(1413),s=n(85541),a=(n(47313),n(46417));function i(e){return(0,a.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},e),{},{width:"544",height:"512",viewBox:"0 0 544 512",fill:"none",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_125:2)",children:(0,a.jsx)("path",{d:"M513.919 140.44L359.074 321.807L222.201 184.926L403.561 30.0705L403.691 29.9593L403.82 29.846C417.049 18.181 437.056 18.8113 449.517 31.2728L512.717 94.4728C525.191 106.946 525.816 126.951 514.148 140.176L514.032 140.307L513.919 140.44ZM207.827 402.007L172.17 437.664L106.344 371.838L142.074 336.101L151.197 326.976L147.437 314.633L134.387 271.804C134.387 271.804 134.387 271.804 134.387 271.803C133.543 269.033 133.513 266.079 134.302 263.293C135.079 260.551 136.615 258.086 138.733 256.182L164.976 233.782L310.217 379.022L287.706 405.39C283.789 409.75 277.689 411.451 272.062 409.731C272.062 409.731 272.061 409.731 272.061 409.731C272.06 409.731 272.06 409.731 272.059 409.73L229.322 396.651L216.965 392.87L207.827 402.007ZM104.964 476.55L93.9913 487.523L39.5497 470.077L68.5662 440.152L104.964 476.55Z",strokeWidth:"43"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_125:2",children:(0,a.jsx)("rect",{width:"544",height:"512",fill:"white"})})})]}))}},78061:function(e,t,n){"use strict";var r=n(1413),s=n(19579);function a(e,t){return"linear-gradient(to bottom, ".concat(e,", ").concat(t,")")}var i={0:"#FFFFFF",50:"#F9F9F9",100:"#F0F0F0",200:"#E0E0E0",300:"#C0C0C0",400:"#A0A0A0",500:"#5F6178",600:"#595C72",700:"#333442",800:"#252630",900:"#16171D",9999:"#000000",5008:(0,s.Fq)("#5F6178",.08),50012:(0,s.Fq)("#5F6178",.12),50016:(0,s.Fq)("#5F6178",.16),50024:(0,s.Fq)("#5F6178",.24),50032:(0,s.Fq)("#5F6178",.32),50048:(0,s.Fq)("#5F6178",.48),50056:(0,s.Fq)("#5F6178",.56),50080:(0,s.Fq)("#5F6178",.8),lighten4:"#E0E2F4",lightBgColor:"#757575",lighter:"#F0F0F0",light:"#C0C0C0",main:"#5F6178",dark:"#333442",darker:"#16171D",contrastText:"#fff"},o={lighest:"#F3EBFF",lighter1:"#eee3fc",lighter:"#E4D0FF",light:"#9A50FF",main:"#852CFF",dark:"#751CDF",darker:"#2E006D",contrastText:"#fff"},c={lighter:"#D0F2FF",light:"#74CAFF",main:"#2196F3",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},l={lighter:"#E9FCD4",light:"#AAF27F",main:"#4CAF50",dark:"#229A16",darker:"#08660D",contrastText:i[800]},u={lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:i[800]},d={lighter:"#FFE7D9",light:"#FFA48D",main:"#FF5252",dark:"#B72136",darker:"#7A0C2E",darkest:"#FFD0D0",contrastText:"#fff"},p={primary:a(o.light,o.main),info:a(c.light,c.main),success:a(l.light,l.main),warning:a(u.light,u.main),error:a(d.light,d.main)},h={common:{black:"#000",white:"#fff"},primary:(0,r.Z)({},o),secondary:(0,r.Z)({},{lighter:"#C0E1FF",light:"#6A89F3",main:"#309CFF",dark:"#2C87DA",darker:"#21619C",contrastText:"#fff"}),info:(0,r.Z)({},c),success:(0,r.Z)({},l),warning:(0,r.Z)({},u),error:(0,r.Z)({},d),greywhite:(0,r.Z)({},{lighter:"#FFFFFF",light:"#F0F0F0",main:"#E0E0E0",dark:"#C0C0C0",darker:"#A0A0A0",contrastText:"#fff"}),grey:i,gradients:p,chart:{violet:["#826AF9","#9E86FF","#D0AEFF","#F7D2FF"],blue:["#2D99FF","#83CFFF","#A5F3FF","#CCFAFF"],green:["#2CD9C5","#60F1C8","#A4F7CC","#C0F2DC"],yellow:["#FFE700","#FFEF5A","#FFF7AE","#FFF3D6"],red:["#FF6C40","#FF8F6D","#FFBD98","#FFF2D4"]},cardcolors:{one:"#F9C114",two:"#FFB2B2",three:"#B984FF",four:"#4AD3FF"},divider:i[50024],text:{primary:i[800],secondary:i[600],disabled:i[500]},background:{paper:"#fff",default:"#ffffff",neutral:i[200]},action:{active:i[600],hover:i[5008],selected:i[50016],disabled:i[50080],disabledBackground:i[50024],focus:i[50024],hoverOpacity:.08,disabledOpacity:.48}};t.Z=h},80201:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(1413),s={opacity:"0.5",cursor:"default",pointerEvents:"none"};(0,r.Z)((0,r.Z)({},s),{},{filter:"grayscale(100%)"})},23265:function(){},79155:function(){},22845:function(){},61382:function(){},79833:function(){},82436:function(){},92297:function(){},76417:function(){},35005:function(){},46700:function(e,t,n){var r={"./af":18567,"./af.js":18567,"./ar":85077,"./ar-dz":32,"./ar-dz.js":32,"./ar-kw":87293,"./ar-kw.js":87293,"./ar-ly":52669,"./ar-ly.js":52669,"./ar-ma":69648,"./ar-ma.js":69648,"./ar-sa":93868,"./ar-sa.js":93868,"./ar-tn":66678,"./ar-tn.js":66678,"./ar.js":85077,"./az":8660,"./az.js":8660,"./be":83336,"./be.js":83336,"./bg":99354,"./bg.js":99354,"./bm":7e3,"./bm.js":7e3,"./bn":3176,"./bn-bd":4932,"./bn-bd.js":4932,"./bn.js":3176,"./bo":47283,"./bo.js":47283,"./br":8900,"./br.js":8900,"./bs":89668,"./bs.js":89668,"./ca":66762,"./ca.js":66762,"./cs":42433,"./cs.js":42433,"./cv":22043,"./cv.js":22043,"./cy":13937,"./cy.js":13937,"./da":97981,"./da.js":97981,"./de":99634,"./de-at":25150,"./de-at.js":25150,"./de-ch":76595,"./de-ch.js":76595,"./de.js":99634,"./dv":54137,"./dv.js":54137,"./el":65137,"./el.js":65137,"./en-au":13724,"./en-au.js":13724,"./en-ca":1618,"./en-ca.js":1618,"./en-gb":84766,"./en-gb.js":84766,"./en-ie":46652,"./en-ie.js":46652,"./en-il":25605,"./en-il.js":25605,"./en-in":12335,"./en-in.js":12335,"./en-nz":89178,"./en-nz.js":89178,"./en-sg":16198,"./en-sg.js":16198,"./eo":14458,"./eo.js":14458,"./es":69939,"./es-do":41153,"./es-do.js":41153,"./es-mx":42924,"./es-mx.js":42924,"./es-us":22985,"./es-us.js":22985,"./es.js":69939,"./et":27213,"./et.js":27213,"./eu":80680,"./eu.js":80680,"./fa":3810,"./fa.js":3810,"./fi":80250,"./fi.js":80250,"./fil":17120,"./fil.js":17120,"./fo":76172,"./fo.js":76172,"./fr":44127,"./fr-ca":31639,"./fr-ca.js":31639,"./fr-ch":52445,"./fr-ch.js":52445,"./fr.js":44127,"./fy":92311,"./fy.js":92311,"./ga":34246,"./ga.js":34246,"./gd":5025,"./gd.js":5025,"./gl":74129,"./gl.js":74129,"./gom-deva":74713,"./gom-deva.js":74713,"./gom-latn":36147,"./gom-latn.js":36147,"./gu":34144,"./gu.js":34144,"./he":75243,"./he.js":75243,"./hi":12835,"./hi.js":12835,"./hr":92554,"./hr.js":92554,"./hu":47898,"./hu.js":47898,"./hy-am":59845,"./hy-am.js":59845,"./id":85534,"./id.js":85534,"./is":81215,"./is.js":81215,"./it":75585,"./it-ch":5220,"./it-ch.js":5220,"./it.js":75585,"./ja":88517,"./ja.js":88517,"./jv":3720,"./jv.js":3720,"./ka":65230,"./ka.js":65230,"./kk":3227,"./kk.js":3227,"./km":58432,"./km.js":58432,"./kn":41396,"./kn.js":41396,"./ko":41971,"./ko.js":41971,"./ku":39808,"./ku.js":39808,"./ky":3947,"./ky.js":3947,"./lb":40580,"./lb.js":40580,"./lo":49584,"./lo.js":49584,"./lt":70312,"./lt.js":70312,"./lv":2793,"./lv.js":2793,"./me":43409,"./me.js":43409,"./mi":1323,"./mi.js":1323,"./mk":89164,"./mk.js":89164,"./ml":46136,"./ml.js":46136,"./mn":80116,"./mn.js":80116,"./mr":59474,"./mr.js":59474,"./ms":80134,"./ms-my":55730,"./ms-my.js":55730,"./ms.js":80134,"./mt":7709,"./mt.js":7709,"./my":4969,"./my.js":4969,"./nb":68410,"./nb.js":68410,"./ne":77810,"./ne.js":77810,"./nl":24737,"./nl-be":71197,"./nl-be.js":71197,"./nl.js":24737,"./nn":31241,"./nn.js":31241,"./oc-lnc":40859,"./oc-lnc.js":40859,"./pa-in":3241,"./pa-in.js":3241,"./pl":21212,"./pl.js":21212,"./pt":2985,"./pt-br":96790,"./pt-br.js":96790,"./pt.js":2985,"./ro":69681,"./ro.js":69681,"./ru":17009,"./ru.js":17009,"./sd":99386,"./sd.js":99386,"./se":84667,"./se.js":84667,"./si":93841,"./si.js":93841,"./sk":11312,"./sk.js":11312,"./sl":90033,"./sl.js":90033,"./sq":49125,"./sq.js":49125,"./sr":70197,"./sr-cyrl":62031,"./sr-cyrl.js":62031,"./sr.js":70197,"./ss":39709,"./ss.js":39709,"./sv":64703,"./sv.js":64703,"./sw":44867,"./sw.js":44867,"./ta":26755,"./ta.js":26755,"./te":99178,"./te.js":99178,"./tet":6284,"./tet.js":6284,"./tg":63087,"./tg.js":63087,"./th":4584,"./th.js":4584,"./tk":39005,"./tk.js":39005,"./tl-ph":92402,"./tl-ph.js":92402,"./tlh":55134,"./tlh.js":55134,"./tr":66487,"./tr.js":66487,"./tzl":72221,"./tzl.js":72221,"./tzm":87550,"./tzm-latn":93633,"./tzm-latn.js":93633,"./tzm.js":87550,"./ug-cn":42829,"./ug-cn.js":42829,"./uk":10279,"./uk.js":10279,"./ur":26314,"./ur.js":26314,"./uz":48722,"./uz-latn":46009,"./uz-latn.js":46009,"./uz.js":48722,"./vi":69881,"./vi.js":69881,"./x-pseudo":40112,"./x-pseudo.js":40112,"./yo":52555,"./yo.js":52555,"./zh-cn":67746,"./zh-cn.js":67746,"./zh-hk":81918,"./zh-hk.js":81918,"./zh-mo":4819,"./zh-mo.js":4819,"./zh-tw":89910,"./zh-tw.js":89910};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=46700},65107:function(e,t,n){"use strict";n(47313),n.p},27772:function(e,t,n){"use strict";n(47313),n.p},21628:function(e,t,n){"use strict";n(47313),n.p},42333:function(e,t,n){var r={"./AlertNotification/Action.js":78626,"./App/Action.js":25543,"./AppSumoSignup/Action.js":50962,"./AudioTracks/Action.js":46967,"./BrandSettings/Action.js":27769,"./CreateVideoStepOne/Action.js":57775,"./CreateVideoStepThree/Action.js":48636,"./CreateVideoSummary/Action.js":91834,"./EditVideoAllScene/Action.js":83103,"./EmailVerification/Action.js":67384,"./FavouriteAndRecents/Action.js":5151,"./GoogleDrive/Action.js":82825,"./Header/Action.js":61087,"./LoadingOverlay/Action.js":33783,"./Login/Action.js":66860,"./Music/Action.js":11013,"./MyVideos/Action.js":40158,"./OrderSummary/Action.js":6202,"./PreviewVideo/Action.js":28623,"./ProjectTitle/Action.js":7480,"./PushNotification/Action.js":43862,"./ReelArt/Action.js":6343,"./Subscription/Action.js":57207,"./TemplateStyles/Action.js":34355,"./TranscribeUndoRedo/Action.js":1857,"./TranscriptionSummary/Action.js":78842,"./UndoRedo/Action.js":94763,"./UploadImage/Action.js":62729,"./UserLogin/Action.js":2650,"./UserPaymentCard/Action.js":18887,"./UserPushNotification/Action.js":58484,"./UserSignUp/Action.js":80590,"./VideoPosts/Action.js":72931,"./VisualsSearch/Action.js":68628,"./branding/Action.js":69069,"./teams/Action.js":31296};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=42333},54741:function(e,t,n){var r={"./AlertNotification/Reducer.js":77182,"./App/Reducer.js":19166,"./AppSumoSignup/Reducer.js":75969,"./AudioTracks/Reducer.js":55790,"./BrandSettings/Reducer.js":35471,"./CreateVideoStepOne/Reducer.js":54841,"./CreateVideoStepThree/Reducer.js":77583,"./CreateVideoSummary/Reducer.js":52621,"./EditVideoAllScene/Reducer.js":5264,"./EmailVerification/Reducer.js":72053,"./FavouriteAndRecents/Reducer.js":50226,"./GoogleDrive/Reducer.js":34090,"./Header/Reducer.js":10591,"./LoadingOverlay/Reducer.js":7561,"./Login/Reducer.js":1648,"./Music/Reducer.js":21990,"./MyVideos/Reducer.js":14238,"./OrderSummary/Reducer.js":2685,"./PreviewVideo/Reducer.js":95764,"./ProjectTitle/Reducer.js":22744,"./PushNotification/Reducer.js":12655,"./ReelArt/Reducer.js":98116,"./Subscription/Reducer.js":83838,"./TemplateStyles/Reducer.js":64679,"./TranscribeUndoRedo/Reducer.js":79961,"./TranscriptionSummary/Reducer.js":66942,"./UndoRedo/Reducer.js":88262,"./UploadImage/Reducer.js":94479,"./UserLogin/Reducer.js":70055,"./UserPaymentCard/Reducer.js":38633,"./UserPushNotification/Reducer.js":53313,"./UserSignUp/Reducer.js":86935,"./VideoPosts/Reducer.js":95323,"./VisualsSearch/Reducer.js":82010,"./branding/Reducer.js":64837,"./teams/Reducer.js":12565};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=54741},58527:function(e,t,n){var r={"./App/Saga.js":57243,"./AppSumoSignup/Saga.js":3218,"./AudioTracks/Saga.js":58693,"./BrandSettings/Saga.js":72010,"./CreateVideoStepOne/Saga.js":73138,"./CreateVideoStepThree/Saga.js":46565,"./CreateVideoSummary/Saga.js":11450,"./EditVideoAllScene/Saga.js":31821,"./EmailVerification/Saga.js":22141,"./FavouriteAndRecents/Saga.js":5392,"./GoogleDrive/Saga.js":59609,"./Header/Saga.js":24652,"./Login/Saga.js":48205,"./Music/Saga.js":57258,"./MyVideos/Saga.js":35246,"./OrderSummary/Saga.js":91448,"./PreviewVideo/Saga.js":73353,"./Project/Saga.js":91234,"./ProjectTitle/Saga.js":97509,"./PushNotification/Saga.js":17434,"./ReelArt/Saga.js":21122,"./Subscription/Saga.js":5539,"./TemplateStyles/Saga.js":91635,"./TranscriptionSummary/Saga.js":27593,"./UploadImage/Saga.js":51569,"./UserLogin/Saga.js":96633,"./UserPaymentCard/Saga.js":29914,"./UserPushNotification/Saga.js":69789,"./UserSignUp/Saga.js":40502,"./VideoPosts/Saga.js":29339,"./VisualsSearch/Saga.js":69897,"./branding/Saga.js":72958,"./teams/Saga.js":75190};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=58527},12876:function(e,t,n){var r={"./BackgroundAnimations/pan-down.js":51230,"./BackgroundAnimations/pan-left.js":91643,"./BackgroundAnimations/pan-right.js":12802,"./BackgroundAnimations/pan-up.js":25364,"./BackgroundAnimations/zoom-in.js":90456,"./IntegratedAnimations/reveal-center.js":12622,"./IntegratedAnimations/reveal-left.js":96880,"./IntegratedAnimations/reveal-right.js":17543,"./IntegratedAnimations/typewriter-reveal.js":25444,"./TextAnimations/CountDown.js":38881,"./TextAnimations/Jitter.js":79206,"./TextAnimations/bounce-bottom-left.js":18047,"./TextAnimations/bounce-bottom-right.js":23591,"./TextAnimations/bounce-top-left.js":58053,"./TextAnimations/bounce-top-right.js":39651,"./TextAnimations/expand-Center.js":4649,"./TextAnimations/expand-out.js":135,"./TextAnimations/fade-in-slide-down.js":17865,"./TextAnimations/fade-in-slide-left.js":56156,"./TextAnimations/fade-in-slide-right.js":65978,"./TextAnimations/fade-in-slide-up.js":6485,"./TextAnimations/fade-in.js":86812,"./TextAnimations/fade-out-slide-down.js":63064,"./TextAnimations/fade-out-slide-left.js":12891,"./TextAnimations/fade-out-slide-right.js":42984,"./TextAnimations/fade-out-slide-up.js":28211,"./TextAnimations/fade-out.js":96834,"./TextAnimations/simple-fade-in.js":99516,"./TextAnimations/simple-fade-out.js":65589,"./TextAnimations/slide-in-left.js":164,"./TextAnimations/slide-in-right.js":14179,"VideoPlayback/Animations/BackgroundAnimations/pan-down.js":51230,"VideoPlayback/Animations/BackgroundAnimations/pan-left.js":91643,"VideoPlayback/Animations/BackgroundAnimations/pan-right.js":12802,"VideoPlayback/Animations/BackgroundAnimations/pan-up.js":25364,"VideoPlayback/Animations/BackgroundAnimations/zoom-in.js":90456,"VideoPlayback/Animations/IntegratedAnimations/reveal-center.js":12622,"VideoPlayback/Animations/IntegratedAnimations/reveal-left.js":96880,"VideoPlayback/Animations/IntegratedAnimations/reveal-right.js":17543,"VideoPlayback/Animations/IntegratedAnimations/typewriter-reveal.js":25444,"VideoPlayback/Animations/TextAnimations/CountDown.js":38881,"VideoPlayback/Animations/TextAnimations/Jitter.js":79206,"VideoPlayback/Animations/TextAnimations/bounce-bottom-left.js":18047,"VideoPlayback/Animations/TextAnimations/bounce-bottom-right.js":23591,"VideoPlayback/Animations/TextAnimations/bounce-top-left.js":58053,"VideoPlayback/Animations/TextAnimations/bounce-top-right.js":39651,"VideoPlayback/Animations/TextAnimations/expand-Center.js":4649,"VideoPlayback/Animations/TextAnimations/expand-out.js":135,"VideoPlayback/Animations/TextAnimations/fade-in-slide-down.js":17865,"VideoPlayback/Animations/TextAnimations/fade-in-slide-left.js":56156,"VideoPlayback/Animations/TextAnimations/fade-in-slide-right.js":65978,"VideoPlayback/Animations/TextAnimations/fade-in-slide-up.js":6485,"VideoPlayback/Animations/TextAnimations/fade-in.js":86812,"VideoPlayback/Animations/TextAnimations/fade-out-slide-down.js":63064,"VideoPlayback/Animations/TextAnimations/fade-out-slide-left.js":12891,"VideoPlayback/Animations/TextAnimations/fade-out-slide-right.js":42984,"VideoPlayback/Animations/TextAnimations/fade-out-slide-up.js":28211,"VideoPlayback/Animations/TextAnimations/fade-out.js":96834,"VideoPlayback/Animations/TextAnimations/simple-fade-in.js":99516,"VideoPlayback/Animations/TextAnimations/simple-fade-out.js":65589,"VideoPlayback/Animations/TextAnimations/slide-in-left.js":164,"VideoPlayback/Animations/TextAnimations/slide-in-right.js":14179};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=12876},9624:function(e,t,n){var r={"./BackgroundAnimations/pan-down":51230,"./BackgroundAnimations/pan-down.js":51230,"./BackgroundAnimations/pan-left":91643,"./BackgroundAnimations/pan-left.js":91643,"./BackgroundAnimations/pan-right":12802,"./BackgroundAnimations/pan-right.js":12802,"./BackgroundAnimations/pan-up":25364,"./BackgroundAnimations/pan-up.js":25364,"./BackgroundAnimations/zoom-in":90456,"./BackgroundAnimations/zoom-in.js":90456,"./IntegratedAnimations/reveal-center":12622,"./IntegratedAnimations/reveal-center.js":12622,"./IntegratedAnimations/reveal-left":96880,"./IntegratedAnimations/reveal-left.js":96880,"./IntegratedAnimations/reveal-right":17543,"./IntegratedAnimations/reveal-right.js":17543,"./IntegratedAnimations/typewriter-reveal":25444,"./IntegratedAnimations/typewriter-reveal.js":25444,"./TextAnimations/CountDown":38881,"./TextAnimations/CountDown.js":38881,"./TextAnimations/Jitter":79206,"./TextAnimations/Jitter.js":79206,"./TextAnimations/bounce-bottom-left":18047,"./TextAnimations/bounce-bottom-left.js":18047,"./TextAnimations/bounce-bottom-right":23591,"./TextAnimations/bounce-bottom-right.js":23591,"./TextAnimations/bounce-top-left":58053,"./TextAnimations/bounce-top-left.js":58053,"./TextAnimations/bounce-top-right":39651,"./TextAnimations/bounce-top-right.js":39651,"./TextAnimations/expand-Center":4649,"./TextAnimations/expand-Center.js":4649,"./TextAnimations/expand-out":135,"./TextAnimations/expand-out.js":135,"./TextAnimations/fade-in":86812,"./TextAnimations/fade-in-slide-down":17865,"./TextAnimations/fade-in-slide-down.js":17865,"./TextAnimations/fade-in-slide-left":56156,"./TextAnimations/fade-in-slide-left.js":56156,"./TextAnimations/fade-in-slide-right":65978,"./TextAnimations/fade-in-slide-right.js":65978,"./TextAnimations/fade-in-slide-up":6485,"./TextAnimations/fade-in-slide-up.js":6485,"./TextAnimations/fade-in.js":86812,"./TextAnimations/fade-out":96834,"./TextAnimations/fade-out-slide-down":63064,"./TextAnimations/fade-out-slide-down.js":63064,"./TextAnimations/fade-out-slide-left":12891,"./TextAnimations/fade-out-slide-left.js":12891,"./TextAnimations/fade-out-slide-right":42984,"./TextAnimations/fade-out-slide-right.js":42984,"./TextAnimations/fade-out-slide-up":28211,"./TextAnimations/fade-out-slide-up.js":28211,"./TextAnimations/fade-out.js":96834,"./TextAnimations/simple-fade-in":99516,"./TextAnimations/simple-fade-in.js":99516,"./TextAnimations/simple-fade-out":65589,"./TextAnimations/simple-fade-out.js":65589,"./TextAnimations/slide-in-left":164,"./TextAnimations/slide-in-left.js":164,"./TextAnimations/slide-in-right":14179,"./TextAnimations/slide-in-right.js":14179};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=9624},37752:function(e,t,n){var r={"./4_squares_leftt_barr.jpg":27132,"./4_squares_right_barr.jpg":93603,"./barr_ripple_1.jpg":68421,"./barr_ripple_10.jpg":47979,"./barr_ripple_11.jpg":24269,"./barr_ripple_12.jpg":10928,"./barr_ripple_13.jpg":18673,"./barr_ripple_2.jpg":40579,"./barr_ripple_3.jpg":29498,"./barr_ripple_4.jpg":6433,"./barr_ripple_5.jpg":34028,"./barr_ripple_7.jpg":29275,"./barr_ripple_8.jpg":43910,"./barr_ripple_9.jpg":36257,"./big_barr.jpg":48145,"./big_barr_shaking2.jpg":4594,"./big_barr_shaking_1.jpg":86166,"./big_cross_left_barr.jpg":79336,"./big_cross_right_barr.jpg":34060,"./big_losange.jpg":97940,"./big_losange_new.jpg":74298,"./blinds_in_to_out.jpg":81980,"./blinds_in_to_out_big.jpg":2758,"./blinds_sliding.jpg":11096,"./blur_left_barr.jpg":24835,"./blur_ray_left.jpg":13819,"./blur_ray_right.jpg":97031,"./blur_right_barr.jpg":90734,"./board_1.jpg":29429,"./board_10.jpg":52605,"./board_11.jpg":51172,"./board_12.jpg":86507,"./board_13.jpg":54239,"./board_14.jpg":26807,"./board_2.jpg":33963,"./board_3.jpg":24838,"./board_3_new.jpg":26310,"./board_4.jpg":74460,"./board_5.jpg":75568,"./board_6.jpg":19066,"./board_7.jpg":21686,"./board_8.jpg":68965,"./board_9.jpg":56447,"./boxes_1.jpg":27935,"./boxes_10.jpg":17191,"./boxes_11.jpg":45616,"./boxes_12.jpg":21770,"./boxes_13.jpg":44748,"./boxes_2.jpg":83048,"./boxes_4.jpg":77147,"./boxes_5.jpg":35312,"./boxes_6.jpg":54066,"./boxes_8.jpg":20052,"./boxes_9.jpg":17689,"./bubbles.jpg":76763,"./central_mozaic.jpg":19023,"./checked_1.jpg":52351,"./checked_2.jpg":79781,"./circle_in_to_out.jpg":54262,"./circle_in_to_out_new.jpg":49065,"./circle_out_to_in.jpg":8807,"./clock_left_to_right.jpg":56541,"./clock_left_to_right_new.jpg":42051,"./clock_right_to_left.jpg":73755,"./clouds.jpg":62399,"./clouds_2.jpg":4269,"./cross_1.jpg":78310,"./cross_10.jpg":50400,"./cross_11.jpg":39621,"./cross_12.jpg":26963,"./cross_13.jpg":90109,"./cross_14.jpg":73571,"./cross_15.jpg":23626,"./cross_16.jpg":2840,"./cross_17.jpg":77026,"./cross_2.jpg":64849,"./cross_3.jpg":62323,"./cross_4.jpg":20476,"./cross_5.jpg":96905,"./cross_6.jpg":64415,"./cross_7.jpg":98391,"./cross_8.jpg":99266,"./cross_9.jpg":94405,"./crossed_barr.jpg":53930,"./deform_1.jpg":69747,"./deform_10.jpg":65873,"./deform_11.jpg":4716,"./deform_12.jpg":15265,"./deform_13.jpg":22933,"./deform_14.jpg":63262,"./deform_15.jpg":2723,"./deform_2.jpg":55030,"./deform_25.jpg":17293,"./deform_26.jpg":25788,"./deform_27.jpg":72542,"./deform_3.jpg":98610,"./deform_4.jpg":16179,"./deform_5.jpg":25135,"./deform_6.jpg":1281,"./deform_7.jpg":43900,"./deform_8.jpg":13039,"./deform_9.jpg":28042,"./dissolve.jpg":92868,"./distortion_1.jpg":87589,"./distortion_10.jpg":66272,"./distortion_11.jpg":22812,"./distortion_12.jpg":3559,"./distortion_13.jpg":1137,"./distortion_14.jpg":29527,"./distortion_15.jpg":5605,"./distortion_16.jpg":47476,"./distortion_17.jpg":3120,"./distortion_18.jpg":86914,"./distortion_19.jpg":12312,"./distortion_2.jpg":65563,"./distortion_20.jpg":86134,"./distortion_21.jpg":85033,"./distortion_22.jpg":89508,"./distortion_23.jpg":66702,"./distortion_24.jpg":21991,"./distortion_3.jpg":83509,"./distortion_4.jpg":94997,"./distortion_5.jpg":97849,"./distortion_6.jpg":57545,"./distortion_7.jpg":45134,"./distortion_8.jpg":4265,"./distortion_9.jpg":99112,"./fade.jpg":34675,"./fish-eyes_1.jpg":31726,"./fish-eyes_10.jpg":96137,"./fish-eyes_2.jpg":9279,"./fish-eyes_4.jpg":25113,"./fish-eyes_5.jpg":10993,"./fish-eyes_6.jpg":11961,"./fish-eyes_7.jpg":67267,"./fish-eyes_8.jpg":80867,"./fish-eyes_9.jpg":65165,"./flower_1.jpg":80995,"./flower_10.jpg":51880,"./flower_2.jpg":32354,"./flower_3.jpg":93516,"./flower_4.jpg":74532,"./flower_5.jpg":72736,"./flower_6.jpg":27961,"./flower_7.jpg":66743,"./flower_8.jpg":86729,"./flower_9.jpg":41881,"./fogg_1.jpg":56265,"./fogg_2.jpg":91566,"./fogg_3.jpg":57263,"./fogg_4.jpg":97384,"./fogg_5.jpg":86176,"./fogg_6.jpg":52919,"./fogg_7.jpg":29174,"./foggy_spiral_1.jpg":38535,"./fractal_1.jpg":15142,"./fractal_2.jpg":12278,"./fractal_3.jpg":64137,"./fractal_4.jpg":43289,"./fractal_5.jpg":76238,"./fractal_6.jpg":24506,"./fractal_7.jpg":13175,"./fractal_8.jpg":92858,"./frame_1.jpg":65753,"./frame_2.jpg":55831,"./frame_barr_left.jpg":20291,"./frame_barr_right.jpg":49843,"./frame_cross_left_barr.jpg":30740,"./free_inspiration_right.jpg":77188,"./free_left_inspiration.jpg":64530,"./future_1.jpg":73793,"./future_10.jpg":38429,"./future_11.jpg":40205,"./future_2.jpg":38468,"./future_3.jpg":23443,"./future_4.jpg":60676,"./future_5.jpg":62948,"./future_6.jpg":55951,"./future_7.jpg":42057,"./future_8.jpg":8287,"./future_9.jpg":94790,"./hatched_1.jpg":5412,"./hatched_2.jpg":34356,"./hatched_3.jpg":27150,"./horizontal_barr_1.jpg":8873,"./hourglass_1.jpg":17652,"./hourglass_2.jpg":58644,"./hourglass_3.jpg":32528,"./hourglass_4.jpg":42825,"./lateral_left_triangle.jpg":21417,"./lateral_right_triangle.jpg":31349,"./left_arrow.jpg":40662,"./left_mozaic.jpg":7793,"./little_left_inspiration.jpg":76471,"./little_right_inspiration.jpg":15036,"./little_rippling_left.jpg":82397,"./little_rippling_right.jpg":79274,"./luminous_boxes_1.jpg":78667,"./luminous_boxes_10.jpg":80746,"./luminous_boxes_11.jpg":49458,"./luminous_boxes_12.jpg":81920,"./luminous_boxes_13.jpg":41361,"./luminous_boxes_14.jpg":35829,"./luminous_boxes_15.jpg":67341,"./luminous_boxes_16.jpg":31637,"./luminous_boxes_17.jpg":73867,"./luminous_boxes_18.jpg":59943,"./luminous_boxes_19.jpg":54199,"./luminous_boxes_2.jpg":39157,"./luminous_boxes_20.jpg":1014,"./luminous_boxes_21.jpg":60990,"./luminous_boxes_22.jpg":79320,"./luminous_boxes_3.jpg":41205,"./luminous_boxes_4.jpg":44977,"./luminous_boxes_5.jpg":34565,"./luminous_boxes_6.jpg":3257,"./luminous_boxes_7.jpg":79508,"./luminous_boxes_8.jpg":3659,"./luminous_boxes_9.jpg":99444,"./luminous_frame_1.jpg":14396,"./luminous_frame_2.jpg":35717,"./luminous_frame_3.jpg":19303,"./luminous_frame_4.jpg":25973,"./luminous_spiral_1.jpg":59303,"./luminous_spiral_10.jpg":37545,"./luminous_spiral_11.jpg":21373,"./luminous_spiral_2.jpg":11060,"./luminous_spiral_3.jpg":89135,"./luminous_spiral_4.jpg":3080,"./luminous_spiral_5.jpg":62116,"./luminous_spiral_6.jpg":66617,"./luminous_spiral_7.jpg":17919,"./luminous_spiral_8.jpg":31201,"./luminous_spiral_9.jpg":25840,"./middle_barr.jpg":74715,"./middle_barr_ripple_1.jpg":62190,"./middle_barr_ripple_2.jpg":85135,"./middle_black_barr.jpg":66168,"./middle_cross_left_barr.jpg":12372,"./middle_cross_right_barr.jpg":85128,"./middle_left_inspiration.jpg":69118,"./middle_losange.jpg":89810,"./middle_low_arrow.jpg":67517,"./middle_right_inspiration.jpg":59811,"./middle_top_arrow.jpg":12833,"./mosaic_1.jpg":74447,"./mosaic_2.jpg":58363,"./mosaic_3.jpg":15155,"./mosaic_4.jpg":45866,"./mountains.jpg":36270,"./mozaic_5.jpg":31897,"./mozaic_6.jpg":79233,"./mozaic_7.jpg":29422,"./mozaic_8.jpg":12951,"./mozaic_barr_left.jpg":2009,"./mozaic_barr_right.jpg":71132,"./ondulation_1.jpg":61624,"./openshot_logo.jpg":70017,"./postime_1.jpg":1156,"./postime_2.jpg":94396,"./postime_3.jpg":88672,"./postime_5.jpg":53389,"./postime_6.jpg":86988,"./postime_7.jpg":27547,"./postime_8.jpg":22765,"./postime_9.jpg":58004,"./puzzle.jpg":62793,"./ray_1.jpg":24757,"./ray_light_1.jpg":17946,"./ray_light_10.jpg":32109,"./ray_light_11.jpg":35155,"./ray_light_12.jpg":99744,"./ray_light_13.jpg":32088,"./ray_light_14.jpg":19759,"./ray_light_15.jpg":52319,"./ray_light_16.jpg":87145,"./ray_light_17.jpg":79725,"./ray_light_18.jpg":10802,"./ray_light_19.jpg":65876,"./ray_light_2.jpg":81531,"./ray_light_20.jpg":8812,"./ray_light_3.jpg":4076,"./ray_light_4.jpg":73147,"./ray_light_5.jpg":30608,"./ray_light_6.jpg":2145,"./ray_light_7.jpg":65008,"./ray_light_8.jpg":44796,"./ray_light_9.jpg":39224,"./ray_light_left.jpg":68305,"./ray_light_left_2.jpg":13264,"./ray_light_right.jpg":55885,"./ray_light_right_2.jpg":1344,"./rectangle_in_to_out.jpg":67286,"./rectangle_out_to_in.jpg":19013,"./right_arrow.jpg":21124,"./right_mozaic.jpg":6949,"./right_mozaic_2.jpg":40981,"./ripple_1.jpg":56182,"./ripple_2.jpg":21903,"./ripple_3.jpg":52403,"./ripple_4.jpg":29822,"./ripple_low_arrow.jpg":21657,"./ripple_luminous_low_arrow.jpg":7429,"./ripple_luminous_top_arrow.jpg":49603,"./ripple_top_arrow.jpg":47063,"./small_barr.jpg":33704,"./small_cross_left_barr.jpg":23846,"./small_cross_right_barr.jpg":95431,"./small_losange.jpg":33625,"./small_low_arrow.jpg":60267,"./small_top_arrow.jpg":40356,"./sphere.jpg":7821,"./sphere_2.jpg":79093,"./spiral_1.jpg":78301,"./spiral_2.jpg":38028,"./spiral_abstract_1.jpg":61285,"./spiral_abstract_2.jpg":33477,"./spiral_big.jpg":52076,"./spiral_big_2.jpg":4223,"./spiral_medium.jpg":90336,"./spiral_small.jpg":44097,"./spiral_small_2.jpg":88890,"./spots.jpg":69252,"./square_left_barr.jpg":81269,"./square_middle_left_barr.jpg":54209,"./square_middle_right_barr.jpg":55464,"./square_right_barr.jpg":90999,"./stain_1.jpg":3085,"./stain_2.jpg":49857,"./star_1.jpg":88254,"./star_2.jpg":79668,"./strange_barr_1.jpg":51523,"./strange_barr_2.jpg":31292,"./stretched_1.jpg":21740,"./stretched_2.jpg":38422,"./stretched_3.jpg":32025,"./stretched_4.jpg":73406,"./stretched_5.jpg":83294,"./sun_shaking.jpg":27024,"./sunlight_1.jpg":11912,"./sunlight_2.jpg":68342,"./sunlight_3.jpg":68473,"./sunlight_4.jpg":69385,"./triangle_1.jpg":3408,"./triangle_2.jpg":7425,"./triangle_3.jpg":38312,"./twirl_1.jpg":64269,"./twirl_10.jpg":15482,"./twirl_11.jpg":87175,"./twirl_12.jpg":92304,"./twirl_13.jpg":93893,"./twirl_14.jpg":70333,"./twirl_15.jpg":1942,"./twirl_16.jpg":18947,"./twirl_17.jpg":96841,"./twirl_18.jpg":36599,"./twirl_19.jpg":75096,"./twirl_2.jpg":20629,"./twirl_20.jpg":69092,"./twirl_21.jpg":25143,"./twirl_22.jpg":3932,"./twirl_23.jpg":66021,"./twirl_24.jpg":64092,"./twirl_25.jpg":25420,"./twirl_26.jpg":98524,"./twirl_27.jpg":11156,"./twirl_28.jpg":94684,"./twirl_29.jpg":78,"./twirl_3.jpg":54391,"./twirl_30.jpg":50242,"./twirl_31.jpg":26181,"./twirl_32.jpg":36999,"./twirl_33.jpg":87739,"./twirl_34.jpg":47133,"./twirl_35.jpg":75794,"./twirl_36.jpg":27257,"./twirl_37.jpg":47692,"./twirl_38.jpg":70503,"./twirl_39.jpg":77878,"./twirl_4.jpg":2851,"./twirl_5.jpg":94626,"./twirl_6.jpg":4258,"./twirl_7.jpg":95296,"./twirl_8.jpg":79216,"./twirl_9.jpg":6413,"./vertical_bars.jpg":17986,"./vertical_blinds_in_to_out.jpg":23609,"./vertical_blinds_in_to_out_big.jpg":53122,"./wandering_1.jpg":6735,"./wandering_10.jpg":57127,"./wandering_11.jpg":72011,"./wandering_12.jpg":28326,"./wandering_2.jpg":19527,"./wandering_3.jpg":61338,"./wandering_4.jpg":52255,"./wandering_5.jpg":82330,"./wandering_6.jpg":13036,"./wandering_7.jpg":49517,"./wandering_8.jpg":4614,"./wandering_9.jpg":25281,"./wave_left_down.jpg":4930,"./wave_left_up.jpg":60673,"./wave_right_down.jpg":23121,"./wave_right_up.jpg":31624,"./whirpool_1.jpg":3370,"./whirpool_2.jpg":38777,"./whirpool_3.jpg":98924,"./whirpool_4.jpg":3561,"./wipe_bottom_to_top.jpg":59887,"./wipe_diagonal_1.jpg":46386,"./wipe_diagonal_2.jpg":87197,"./wipe_diagonal_3.jpg":99136,"./wipe_diagonal_4.jpg":80442,"./wipe_left_to_right.jpg":43197,"./wipe_right_to_left.jpg":93116,"./wipe_top_to_bottom.jpg":43368};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=37752},28965:function(e,t,n){var r={"./atoms/AlertNotification/index.js":66823,"./atoms/AutoCompleteNumeric/index.js":21569,"./atoms/Banner/index.js":4884,"./atoms/CircularProgressContainer/index.js":28328,"./atoms/CustomizeVideo/index.js":90105,"./atoms/DialogWithButtonAndFooter/index.js":1243,"./atoms/DialogWithButtonAndIcon/index.js":14108,"./atoms/EOYFooter/index.js":12435,"./atoms/EOYHeader/index.js":12752,"./atoms/EmailTextField/index.js":29230,"./atoms/EmptyAssetItem/index.js":88839,"./atoms/ErrorDialog/index.js":61166,"./atoms/FlipCountDownTimer/index.js":11676,"./atoms/GoogleDriveLoginButton/index.js":4066,"./atoms/GoogleDriveMediaItem/index.js":41714,"./atoms/GoogleLoginButton/index.js":94023,"./atoms/HomeLogo/index.js":60377,"./atoms/LanguageSelection/index.js":71581,"./atoms/LinkText/index.js":91466,"./atoms/NewFeatureChip/index.js":17568,"./atoms/PCircularProgress/index.js":34009,"./atoms/PCtxMenuItem/index.js":56790,"./atoms/PCustomDropdown/index.js":69750,"./atoms/PImage/index.js":5465,"./atoms/PSlider/index.js":93012,"./atoms/PStack/index.js":56310,"./atoms/PTextField/index.js":29868,"./atoms/PasswordTextField/index.js":26146,"./atoms/StackedTwinBox/index.js":79859,"./atoms/TeamAssetFilter/index.js":77049,"./atoms/Testimonial/index.js":35687,"./atoms/TitleTextField/index.js":23938,"./atoms/TooltipWithTitle/index.js":23148,"./atoms/VerificationCodeInput/index.js":43561,"./atoms/VerticleThreeDotMenu/index.js":24611,"./atoms/VideoAssetItem/index.js":99865,"./atoms/VoiceOverMenu/index.js":13594,"./atoms/useScrollIntoViewWhenAdded/index.js":39801,"./hoc/CookieHOC/index.js":80962,"./molecules/AccountSetupFeedback/index.js":82728,"./molecules/Answers/index.js":20130,"./molecules/CancelActionSelect/index.js":52102,"./molecules/CancelReasonSelect/index.js":70283,"./molecules/CancelSubscriptionOthers/index.js":46528,"./molecules/CancelSubscriptionReason/index.js":65099,"./molecules/CongratsFirstVideo/index.js":60503,"./molecules/EmailNotVerifiedAlert/index.js":79761,"./molecules/ExistingLoginError/index.js":98742,"./molecules/GoogleMediaFileList/index.js":38781,"./molecules/HomeLogo/index.js":59404,"./molecules/OrderSummaryThankyou/index.js":6070,"./molecules/ResetPasswordFeedback/index.js":16416,"./molecules/SplitLayoutPanel/index.js":60339,"./molecules/Testimonials/index.js":36155,"./molecules/UpgradeSubscriptionDialog/index.js":2260,"./molecules/UsageStorageCardItem/index.js":28981,"./molecules/UsageTimeCardItem/index.js":46211,"./molecules/VideoAssetItems/index.js":71717,"./organisms/Card4ArticleToVideo/index.js":79094,"./organisms/Card4VideoEditing/index.js":88449,"./organisms/Card4VisualsToVideo/index.js":36792,"./organisms/EmailVerificationForm/index.js":270,"./organisms/QuestionsForm/index.js":55417,"./organisms/SignupBackground/index.js":24714,"./organisms/UserAddPaymentCardView/index.js":40523,"./organisms/UserLoginForm/index.js":74563,"./organisms/UserSignupForm/index.js":30005,"./pages/BrandingPage/index.js":50471,"./pages/EmailVerificationPage/index.js":57384,"./pages/HomePage/index.js":9159,"./pages/MobilePage/index.js":91977,"./pages/UserPaymentCardsPage/index.js":48532,"./pages/UserQuestionnairePage/index.js":58134,"./pages/UserSignupPage/index.js":53445};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=28965},67751:function(e,t,n){var r={"./CancelSubscription.js":48997,"./EmailVerification.js":89859,"./EmailVerificationAlert.js":3067,"./GoogleDrive.js":76249,"./MediaTranscription.js":85802,"./TeamAccountDetails.js":14812,"./UserLogin.js":59028,"./UserPaymentCards.js":75372,"./UserSignup.js":35838,"./VideoGenerationQuestionnaire.js":408,"containers/CancelSubscription.js":48997,"containers/EmailVerification.js":89859,"containers/EmailVerificationAlert.js":3067,"containers/GoogleDrive.js":76249,"containers/MediaTranscription.js":85802,"containers/TeamAccountDetails.js":14812,"containers/UserLogin.js":59028,"containers/UserPaymentCards.js":75372,"containers/UserSignup.js":35838,"containers/VideoGenerationQuestionnaire.js":408};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=67751},43778:function(e,t,n){"use strict";e.exports=n.p+"static/media/texture3.693dc2908344ff52355b.png"},38789:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAaBAMAAAApqzNLAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADBQTFRFAAAA2tra5eXl5+fn1tbW2NjY5ubm6enp4ODg4+Pj3t7e6+vr2dnZ4uLi6urq6urqg2P0jAAAABB0Uk5TAP+zgP//mk3/5v8Z//8y/0xCIWAAAAB2SURBVHicY2DAARgVoAwmAbiYSQCUweoMF0uBi7khibGD6QK4GItDSkDLBCCD04PVjcUBLrakgYHBmsMLXYzbBS7GeQAiZssHFeOZwACiQGIu76FiQEfAxf4PkBiSW7C5GZvfcIcBelhhC1PsYY8tjrDFJRoAAAnjT6Njz0eHAAAAAElFTkSuQmCC"},14839:function(e,t,n){"use strict";e.exports=n.p+"static/media/video_camera_loaderV5.bd3b7b92f6a344cd2c7d.gif"},27132:function(e,t,n){"use strict";e.exports=n.p+"static/media/4_squares_leftt_barr.bec02a97f755dda0809e.jpg"},93603:function(e,t,n){"use strict";e.exports=n.p+"static/media/4_squares_right_barr.77c121e2b5429171c095.jpg"},68421:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_1.9e73814b43e77e139df0.jpg"},47979:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_10.88dd0487a03c1d2732a1.jpg"},24269:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_11.1b070d07c89ad238fdd0.jpg"},10928:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_12.5bc62e8710d341774145.jpg"},18673:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_13.61c2ad1bf5193ed2b2d7.jpg"},40579:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_2.767b0e43a64124dff8e7.jpg"},29498:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_3.d9ef66f3d4123b559d9a.jpg"},6433:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_4.dd73e9e5b7c2b15d61e2.jpg"},34028:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_5.17cc768bd654f11b1f99.jpg"},29275:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_7.c75ddd35f792ecc8921f.jpg"},43910:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_8.d414c0fabbcbdca89dd3.jpg"},36257:function(e,t,n){"use strict";e.exports=n.p+"static/media/barr_ripple_9.4c6ab731c0958ac4bc8c.jpg"},48145:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_barr.2171a54daad28dea3460.jpg"},4594:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_barr_shaking2.63835db5420ad1c61f95.jpg"},86166:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_barr_shaking_1.27b76a67e1d5f3f5b6af.jpg"},79336:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_cross_left_barr.bed2f36136d338bd097d.jpg"},34060:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_cross_right_barr.2626f797090d5fcad251.jpg"},97940:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_losange.b26903bbfbc484e87f2f.jpg"},74298:function(e,t,n){"use strict";e.exports=n.p+"static/media/big_losange_new.f4ad615da2f207a7b151.jpg"},81980:function(e,t,n){"use strict";e.exports=n.p+"static/media/blinds_in_to_out.96575a5243c0c7bcdfa6.jpg"},2758:function(e,t,n){"use strict";e.exports=n.p+"static/media/blinds_in_to_out_big.f54bb55aef0b0093be28.jpg"},11096:function(e,t,n){"use strict";e.exports=n.p+"static/media/blinds_sliding.c5b37167eb35e08d6955.jpg"},24835:function(e,t,n){"use strict";e.exports=n.p+"static/media/blur_left_barr.991280e4c19d8c3ec61d.jpg"},13819:function(e,t,n){"use strict";e.exports=n.p+"static/media/blur_ray_left.9a040e16fa6186580145.jpg"},97031:function(e,t,n){"use strict";e.exports=n.p+"static/media/blur_ray_right.a84b4d7425b152acc90e.jpg"},90734:function(e,t,n){"use strict";e.exports=n.p+"static/media/blur_right_barr.1d6544ac0605bd812eea.jpg"},29429:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_1.17267c6efe93990ba149.jpg"},52605:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_10.05f4125c308e5620cbd6.jpg"},51172:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_11.426522290001ec67f5ac.jpg"},86507:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_12.03ad8b74a8151d579f7b.jpg"},54239:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_13.872c823b922366460411.jpg"},26807:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_14.1e9562eba236856b0997.jpg"},33963:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_2.f564c972297c537f2158.jpg"},24838:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_3.99b7955a09a171571135.jpg"},26310:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_3_new.c377137921a20047866b.jpg"},74460:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_4.e610797867d0beef75bc.jpg"},75568:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_5.70591f23d6b29c895026.jpg"},19066:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_6.f357a88a621521aabd6d.jpg"},21686:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_7.5c366ef39ff95188e5a6.jpg"},68965:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_8.12cb3a62631a158eab35.jpg"},56447:function(e,t,n){"use strict";e.exports=n.p+"static/media/board_9.fe421eb7ae28615a4135.jpg"},27935:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_1.426522290001ec67f5ac.jpg"},17191:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_10.ab8f50f903eac19b29e1.jpg"},45616:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_11.3f8f3d46c5c2a056a6f3.jpg"},21770:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_12.3f8f3d46c5c2a056a6f3.jpg"},44748:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_13.3a6ced11aa351662142b.jpg"},83048:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_2.2b390d0f290383b87d92.jpg"},77147:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_4.2b390d0f290383b87d92.jpg"},35312:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_5.436893087538869ed995.jpg"},54066:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_6.ab8f50f903eac19b29e1.jpg"},20052:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_8.7248de87b4d8dda508ad.jpg"},17689:function(e,t,n){"use strict";e.exports=n.p+"static/media/boxes_9.837f42e2d73b48ee1d91.jpg"},76763:function(e,t,n){"use strict";e.exports=n.p+"static/media/bubbles.c7d0e800346e9c1803f8.jpg"},19023:function(e,t,n){"use strict";e.exports=n.p+"static/media/central_mozaic.6685e301ebc88c5aa012.jpg"},52351:function(e,t,n){"use strict";e.exports=n.p+"static/media/checked_1.80ece82a84e8dd3d3508.jpg"},79781:function(e,t,n){"use strict";e.exports=n.p+"static/media/checked_2.2fd249429849a891c7a7.jpg"},54262:function(e,t,n){"use strict";e.exports=n.p+"static/media/circle_in_to_out.e6c2d5f8b8335ca7c89f.jpg"},49065:function(e,t,n){"use strict";e.exports=n.p+"static/media/circle_in_to_out_new.f1b5915dbb993f21c6cb.jpg"},8807:function(e,t,n){"use strict";e.exports=n.p+"static/media/circle_out_to_in.2328f69508cd723f3efa.jpg"},56541:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAQABAAD//gAoIENSRUFUT1I6IEdJTVAgUE5NIEZpbHRlciBWZXJzaW9uIDEuMQr/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCAJAAtABAREA/8QAHAABAQEBAAMBAQAAAAAAAAAAAQACAwUHCAQG/8QAJBABAQEBAAAHAQEBAQEBAAAAAAERAgQFBhI2dbMDQSFhEzH/2gAIAQEAAD8A/h8SCCQQQCQCAQFQCoAAqAAACrNVZr669HfB/IPrfD/ny80AKAAAqKAAhQAgEFoWgaggkEEEnzOEglgVCCAQqCAqAFVAFVAAAoAqorKofXPo74P5B9b4f8+XmqzUKAAAAEAAqAEAggEgNQSCCGp80IJBKhBBAVBUKgAIBAAAKs1VmplUCs19dejvg/kH1vh/z5earNFVFArNQAACFACAqAQQVAqGpaEEEnzSEgl/gWBUIIBBYAKgAgABQqKBQKKKBWa+uvR3wf0/9b4f8+XmqzRVRWaAKFQAAP8AEAAgqAggKhUEtCGoJ81JBBIKhBBAIKgCoAIUAAUAD/QABWa+uvR3wfyD63w/58vNVmigCgAAACqgAIBBALQNQ1BIIIJPmsYkEMSCoQQCCAWAAVAAAUUJmgUCgVmvrr0d8H8g+t8P+fLzNAAAAAAACAoAQVAqAqGoJaEEEE+bQhiQCQqCCCACCoAAo/xAUACs0AUChmvrr0d8H8g+t8P+fLzIFAFZQorKZqAAAQCAQCGoLQgloQSfNoqQxIIIYgkAgAgBUygAAAAGaKAGa+uvR3wfyD63w/58vM0AAVmigCgAJlABABAahVQghqCCQ1Pm/AlgQxBBCpAIAYgqAAKFQyAAKKKGQKH1z6O+D+QfW+H/AD5eZAorIAAFZQoAACACAQQWhBaENSFS183oJYEKkBiCQCACAQAFAAFAoZFFDIofXPo74P5B9b4f8+XmQKKzQGamQAAAKgAEAgtC0BLQEgkE+cMWJYEgEgggggAEAmUyEKyABWaKKKKzWa+uvR3wfyD63w/58vMis0UBmgAAUMoABM6gEEEBqQGpBBJV84oJBIIYgggsCAAQAAAAFZFAorNArNFfXPo74P5B9b4f8+XmRWRRWaKGRRQAAAEAAggqAgghqQS0J85/4MSGJBIBBBBBAABAAAUVmigMis1Vms0V9c+jvg/p/wCt8P8Any8yKyKzQKyAKAzRQFQAAgEAloCQ1aqFqoQ1864EMSCQQQWAIIIAABMgUABmiis0Cs1mivrn0d8H9P8A1vh/z5eZorNZoFZoorIFAZQAACAQGoJAVLQkEEtfOqCQQxLAkBiCAQQAAAAAFZorNDNArNZor659HfB/IPrfD/ny8yzRWazVWazQGVWQAAAEAgNQCQ1BIIakE+dwkEghiQQQCCAQAAAorNAoZDNFFZrNZor659HfB/IPrfD/AJ8vMUUVms0VkVmiihkAAAIBALQEEEtCGpBIa+eEglgQxIJBAIBDAgAAKyKKKKyzRWaKzWaKzX1z6O+D+QfW+H/Pl5iis0Vms0Vmis0UVkAAIABAIIILVoGpBIak+eUsCGJYEMSCCCACAQAAFZFFZorNZorNZrNFZr659HfB/IPrfD/ny8xWaKzRWazRWRWQAGQEAAgEFoQSC1AakhqfPeBLFgQSCCGJYEAgAMQDIADNFZorNZorNZrNZr659HfB/IPrfD/ny8xWazWaKzWaGaKzQKGUygAEAggtCC0IatSGpatfPaQSWBDEgghiCAxABABnAKKzQzWaKzWazWazWa+uPR/wfyD63w/58vM1ms1ms1mis0Vms0CgayAgAEKgggghqQ1JaEnz6hiSCQQSCCCCAAQADIFZorNZorNZrNZrNYr649H/AAfyD63w/wCfLzNZrNZrNZrNZrNFZooDOhAABAIIIIJDUtCSWh8/YsSGELAkghiwIIIAIAABkVmis1ms1ms1ms1msV9cej/g/kH1vh/z5eZrNYrNZrNZrNFZrNFGs0AaEANQCCCGpDUtCS0JCvQCQSQSQSwILAgEMQAAGCs4LGaKzWazWazWaxWaxX1x6P8AhHp/63w/58vMVmsVms1ms1ms0Ws2i1kADQEBqA1BDVqCQS0JBak9ArFgSCSGJYEghiAQWADAMGDBYzRYzYzYzYzWazWaxWKzX1v6P+D+QfW+H/Pl5isVms1is1ms2s2i1ms2i0aNGjQFoAQQQ1LQloSGrUtWhPQYxJLAkEliCwJYAsAxAYsAxmjBgrNjNgsZsYsZsZrFYrNYr639H/B/IPrfD/ny8xWKxWaxWazazazWbWbQNGhnUNA0aghqCCWrQhq1LQkNWmvQmBJBJYEgsQxYkEAgFgwYMGDGbBgsZsZsZsZsZrFYrFYrFfW/o/4P5B9b4f8APl5esVis2sVi1ms1m1m0WjWdGjRoQ0aBqQQ1LQglq0JDVqST0KksWBJDEkEMSGJYMQCwYMWDBjNgwWM2CxmxmxixmxisVisVzr639H/B/IPrfD/ny8vXOsVis2sWs2sWs2i0Ws2s2jVo0aANWhBIahqQSGrUkgtSeh1iwJJLAkglgQxYkBiwYMWDAMGCwWM2CxmxixmxmxixzsYrnXOvrb0f8H8g+t8P+fLzHTn051i1i1i1m1m1m1m0azaNFo0aNGrRo1aggloSGpIatWpatWhPRIWLEliwJIYcCGLFiwIYsWDBiwYMGDBYMZsZsFjNjFjNjnYxY59OfTl0+tvR/wAH8g+t8P8Any8v059OVrFrFrFrFotZtZtZtFoGjRq0aNQ1aNWoIJIaktWoJJJa9EpJJDFiSxYEsWBIYlgWDFgwYsGDBgsZsFjNjNjNjFjnYx1HLqOfUcun1r6Q+D+QfW+H/Pl5bpy6rna52sWsWsWs2s2i0azo0aNWjVo0atCGpLQktWhJLVoSST0WkhixYkkkMWIYcCxILBiwYsGLBgwYMFjNgsZsYsZsc7HPqOfUceo5dPrT0h8H8g+t8P8Any8p1XLquXVc7XO1m1m1m1m1nRo0aNGrRq0atGrUFq1aEtWrVoSQ1atWpJ6NWLEEkkhixYliQxYsGLEsWDFgxYMGDFgxnGbBYzYxYxY59Rx6jj3HDt9Z+kfg/kH1vh/z5eU7rh1XLqudrFrnaLWLRaNGjRo1aNGrVo1aNS1LRqSQ1atSS1atWhJ6OxYsWLFiSSxYsCxJYhixYlgxYsGLFgwYsGDBgsZvLN5ZvLF5c+uXHrlw7j83cfWPpH4P5B9b4f8APl5Luvz99OXXTnenO9M3pm1m0aNGjRq1aNWjVq1aEhq1b/xLUtC1JJJBatT0jgSSSSSwYlixYlixYsGLFiwYsWLBiwYsGDBg9ovLN5YvLn1y5dcvzf05fk/rH1d6Tueh/IPrfD/ly/d/Tp+fvpy67c7053oXpm9DWdWjVo1aNWrRq1atWjUtSSGrVqSSSSST0ikkkkksSxYsWLBixYsSxYMWLFixYsGLBiwYPavazeWbwxeHPr+f/j839P5vw/35yPqX0t1nojyD63w/58v1/wBP6Pzdf0cr2xe2fcPcPcPctGjVq0atWrRq1atWrVqWpIatWrVq1JJJJPSaxLEsSxYsWLFiwYcGHFixYMSxYsWLFixYsWLFgxe1e0e1e0ewexm/yc+v4b/j8Hi/Cdey2R9E+nPFc8+jPIed/wCzy7w/58v0d+I1yv8AXWb/AEF7HuXuHuXuWrRq1atWrVo1atWrVp1aFqSSSSSSSSelUkkkMKSSSSxJYsWLFixYsWLFixYsOLF7T7V7V7D/APP/AMan8t/xvnw+/wCP2+F8Dx13PdzLH9z4Dxvc/jxxerZzJI8lz4jf9dJ/Xf8AT/8AQ+8+4+5e5e5atWrTq1atWrVq1JatWpatSSK1aDq1atWrVq16VxYsWLFixYsWLFhSSSxJYsOLFixYsWLDiw4sWHD7V7Wpy1OGpw68/wA3f+f8/wDx5Dw/GPLeH6x5H+f9f+P08/0dJ3/63O2p0fcfcdOrVp1atWnVq1atOrVq1JatS1atS1atWrVq0pJ6XSSSRBxYsSxLFixYcWLFiw4sWLDixYcWHDhw4Zy1OW5y6c8uvHD9H8+f+v2fymP3fyr9n8+n6OO3bnp0nTc6anRnR06dOrTv/Fp0adOjTq1atWrVpSSSRWrVq1LUk9MpJJLFiwpJLFhxYsWLFhxYsOLFiw4cWHDhkONSNTlqctzl055dueXfjl+n+cfq/m/TxX6OenXnp0nTpOmp01K1KdOnVp06tOo6tWrTq1LVp1JJJatWrSkkk9NpJJIrFiSSOLEjgw4sWHFhxYcWHDhxY1I1IZGpG5y3I68x15jtxHfh+jh34rvzXXmunNdJWpW5TK1p06dOnVp1adWrTqOrVqWnUtSS0pJJJJ6dxYsWLEkkcWJJYUliw4sOLFhw4sOLDhw41hkMjUjcjcjcjpzHXmOvMduXbl25rtzXXmukrcrcrUrUrUplOtadOrTq06tOrStWlatOrUkjq1aklq1ai9OpFYsSSxYUliwrEcSKw4sOLDiw4cONSGQyNSNSNyNSOkjcjrzHTl25deXXl15rpzXSVuVuVuVqUytSmVqVa1q06dWnVp1adSOrVq0pHVqSSR1ak9PpLFhSSWLCkcSxYcWHEcWHFhw4sOHDhkakakMjcjUjUjpI3I6SOnLry6cuvLpzXSV0lblblalalalalMrWnTq06dOnVq06dSRSOpLVpSOrVqST1CkksOJJFJYUcWI4sOLFhw4sOHDhwyNSGRqRqRqRqRuRuRuRuR05dJ/jpHSOnLpK3K3K1K3K1K1K1KdalOnTp1adOrSVq0orf+paUjq1LVpSSOvUKxYUkUlhSKSKKxHCsJwnDIcONSGRqRqRqRqRuNSNx0jcdI3HSNxuNytytytStStStStSnTp0nTpWnStOoo6kUtWlJHUlq0p6jSOLEkUUkjiWFFYUThWHDhkaw4ZGpGpDI1I3Go1I3G46RuNxuNxuNxuNStytSmVqVqU6dMrWnTq06dRKKRR1LVpSWlJHVqepcSWLCjixJFIpHDixE4UcOE4TIZGoZGpDI3I1Go3Go3G43G43G41G43Go1K1K1K1KYZWtOk6SdKK06dS0rSkdSWlJLSk9TpI4sSRxLCkicRRKwrDhOHDhxqGNSGNRqNRqNxqNxqNxuNRuNxqNRuNStQxqNSmU60SmtWklFaUUUdSR1JaUknqg4kkcSWFIo4isOIrCTiaRw41DDGjGo1Go1Go3Go1G43Go3Go1Go3GoY1GoZWoTrUpRJJ1FaUUUtKKSOrUlpeqUjiSwpFIrCijiKJkJKLUOHGoZGoY1Go1Go1G41Go3Go1Go3Go1Go1DGoY1DDpalROnStJRRRRS0pHUkUnqtYlhSWFFIo4iiiUThKahMMahjULUajUajUajUajUbjUajUajUajUMMaaMJJ06SidKKKKKR1Io6kjr1XiwpYsKMSwo4ikUSmkSmiTDGjGoY1GoY1Go3DGo1Go3GoY3DGo1DGjC1DKSSSiStJSKKWlHUtKR1PVqRSKWFFIoolEokkkkxqGGNNQxqNRqNRqNRqGNRqNRqNQtRomNQmEkklEolHUUikUdSKT1dhSKRRxI4ikSiSiSSSTGjDGmoYY1Go1Go1GoY1DGo1Go1P/wwtQwxqEkkkolE6iijqRSKOrUtesEcSwo4kUUiUSiiSSSo0S1DDGoY1GoY1Go1DGo1DGo1GoTGoWoYSSSSSiUUVpOpHUoVq0pHXrFIo4kUikSiUVhJwlEtEktQtQtQwxqNRqGNQxqNQxqGNQwxqEktFEklFFE6ijqK1LSlpT1lCjEjiRSJSJiKJKaRJMaJhLUMMajRMajUMahjTUMMaMMahJLUJKJJKKKKKKKOrUUlr1ocWJHEoVhRRRRKJJRJJJLUJLUMaJjUahhjUahhjUMahMLUJJJKJJROooooopHUkXrVIpFLCcSJxFFYSiSU0So0S1CS1DGoo1GoYY1GoYY1DDGoTCSSSSUSiUSkSkUUjqWvWxSwpFFFFFFErCSUSSTGoSTGoYY1DDGoYY1DGoSY0SS0YVGkSSiUSiiiikUUjHrfEilhRRKRWFEokokkkkkmNGGGNGGNGGNQwxolokkmEkppEolEo6tKKP8A1IopPXGFLCjiROJFFEokokkolpNQwktQwwmNGGNQmExokwwmNIkklEolQnUUUij/AKkUdeuUUiiiiilCUSUSUSSSSTGlGiS0SY1DC1FC0SSSSUSSUUSiUioUoSlpT10UUsKKOIpEolEokkowlqGKFqEkmNEwwtGGGEtRNREwkklElFEonUUtKRRSevEUoTiRRRRRKJRJKJJJJJhJhjRMJJjUMJJJJJJUJJRMRROooopFFFPXqRRiRWFIlYTiKJMRJKhJJJMaiJjUMJhP+GNQxQxqEkpqIklEkorSiUUdRShSJevVCjEUiiioSiiiSYjCSTDFCTGoSmoSSYSSSY1ESSTDESUSitKJWlHUYkUi9fFFFLCiiicRRRJRJRMJJJJMJMJJhJJJMJJP+owkxEmKEooonUUUjq0pa/gCkUisKKJiRKJiJMUJMJiJJJJMJJJhJJhJJihJJRKJKJSJR1FGJFLS/gcSMRShRUJxIlFElEokkwomEkkkkwkkwqNRNREwmIkokxFEopaSlCUik/gikUsKKKKKhUJJRiJMUaiJJijSMJhJJhP+kwwqEklGEkxEqEomI6kVpKR/0pHU/9k="},42051:function(e,t,n){"use strict";e.exports=n.p+"static/media/clock_left_to_right_new.738f9c88e8509e8df3d8.jpg"},73755:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAQABAAD//gAoIENSRUFUT1I6IEdJTVAgUE5NIEZpbHRlciBWZXJzaW9uIDEuMQr/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCAJAAtABAREA/8QAHAABAQEBAQEBAQEAAAAAAAAAAQACAwgHBAUG/8QAIRABAQEBAAICAgMBAAAAAAAAAAERAgMSBEExYRMhgQX/2gAIAQEAAD8A+wpFGJFaUVpKOqExFNIqGEkmKEkkwqNQvFUaihJhJJMUMJJRKJUJKKRKKKRWFLHphaUdRS0lIqEoqEoklEmKEkkwkkmJ4rjUUaiMMJhJJMRJhRKJiKhKMUKKKWFLC9LpaUdR1KFQoolEqEokxGEwkwpqKNQwqNQvFUaUahhUaijSMJJMRKhJKKKhKKMRiWFFJ6WOpFGJFEo6iUiVCSYiSYTEYY1FGojDGoXiqNQkwkwklEwklEkorCiUUUUUsKMT0qkUtJ1IxQolKNIqElQkokkkkkwwxqKPFcahhJJJJJJiJJRJRRKKKKKWFFLHpRaUUiUjqKJRKKhJJRJJJJJJJMeLCTCSSSYSSSiYTESiYijEcWFLCisKekiiilpRRihRKJiJUJJMKhMaKhjUJJJjxXGoSYWlGoYSSSiSSiUTiJxIrCijiWFHHpFaUijqKKKK0mIlEkokkkkkmNQkmPFkMJaijUJhhJJJJRJWEnEUUVCijiWFFPSBRRSOoo6iiiVpJUJJJihjRhJJjUUaMMeK40TGjCSYY0TESSSUSiUSkUUUUUjj0ejqWlIlInUVCiUSYiSSSTGoSYTGoSY8VxoxqGGGNQwkkkkwlElElHEUsJiROJIp6PSOpFIooolFEppEqNRNEmGEmGNExowx4sLUMMMMaJhMaMKaTSJRJRKKKKKKRxKLHo5H8JFLSlCUUSiiU0iSSSS0YTGoYWoYY8WFqEtQwktEkkwklEkooonEiijiWFJ6Mi0o6kVq0rSdSJRKJJRJLRhJMMaLUMahMeLIY1DDGoYY1DDGoSYSSiSSiiiYkSkcSwpF6LSKOpFIoorSUSiSSU1CSY1DDGoTGo1DDHiyGNRqGGNQmNQwktJookkoolFFFHEsKRReiUUijEikUStJRKJJJMJLRhaMMajUaijUeLDGo1DGoTGoY1CTDCSSSUSicSJSOLClhSKeiCkdSKOpHUUUSUUSSSSY1CWoWoY1GoYY1HiyNQxqNQwxotGEtEkkkolE4sKKKWFYUYkoXodLVpR1Ioo6ikSiSUSSYWjC1DDGo1DGo0Y1HiyNQxqNQxqGNNQlomEkkolEolFLCsRRShRx6FRSWlHUiiiiiUSUSS0SWjDGo1DGo1DGo1HiyNQxqNRqNQxotQmNQkklElEoorClCilhRSehdWpFJaUdSJSKJRJKJLRMMaLUMajUMajUajUeLI1Go1Go1DGo1DDGoYY0miSiSiUUUsKKWFFI4seg0jqS0paUdWolFFE6SiS0SWoY1DGo1Go1Go1Go8WRqNwxqNSNRqGNQxqGEtQ4SVhJRRKRRSKOJFJPQSOpI6lpSKOooookrWlpLRhMahjUajUajUajUajUeLI3Go1Go1Go1DC1I1DC0cOErCSUUUUUUcSRxJYU9AaUikikUlpOonUdRWkknS1KZTGoY1Go1Go1Go3Go1HiyNxqNRqNRqNRqNRqGGRqEk4cOLCSiiisKOJHFiRSWKPQGpLSkUkUiiiiUdRJJJa0tSmVqNRqNRqNRuNRuPFkbjUbjUajchjUjUahjUMJhJJWEoooo4kcSKSxYUn35I6kikdSRWlaUVpOok6STp1qVqGVqVqVqNRuNRqNxuPFsajcbjUajcMajUjUhkahOHDhwnCUUUTiRSwpJYUcWLE++LVpSK1LSkUjqK1Eok6tOk61plOtStSmVuNStRqNxuNxuPFsbjcajcbkajUjUhkakawyGRrDhw4cWHCjiJxI4kViWFHFiSxYX3rSktOpIpLUUdWlFInUdOnSdMrUplMrUrUrUrUrcrcajcbjpHi2NxuNxuNxqNSNSNSNSGRrDhkOHCTiOFYUcRSWFI4ksWFI4v8AH3lJaiktWlIrVpRS0nUtOnTq06dOtSmVqUytStStytytStxuOkdI8Wx0jcbkbkbkbkakakakakMhkaw4cOHFhw4sOI4ilhSOJLCkcSxJPvCR1aktWlJatKOpLTpWnVpWnTp06dOnWpWpTK3K1K3K3K3K3HSOkeLuXTl0jpI3I3I3I1I1I1IZGpDhxrFhw4cOJYcKWFIpYUjixYkjgOJ931atSSOrVqWrSktWlHUUdWnVp06dOnTK1KdalalblblblbldOa6cuvLxdy68unMdJG5HSRqRuRqRqQyNYZDhw4cOI4jiwo4sWFI4sSRxYsSWLFhfdUkkdWrUkikdGlIo6tK06tOnTp0ytSmVqVqVqVuVuV0ldea68unLxhy68uvMdJHSRuRuRqRqRqRqQ4cOHDhw4sWHFhxFLCkkcSSxYUkksfdElq1atKSR1akkjq06lq06dWnVp06dOmVqUytStytSukrpzXTmu3NduXjDl35jrzHXmOkjcjcjUjUjUhkONYsOHFhw4sWFYcWJYsKxIpJJYsRST7kkjq1atWpLUtKS06tWpadWnVq06tOnTq061KZWpWpW5W5XXmuvNduK/Rw8Y8O/Ed+Y68x0kbkbkakakakOHDiw4cWHFhxYsOJYcSSSxYUsSRxYsWLE+4JatKSS1JI6tSS1adWrTq1atOrTq06dWtSmUytTpudNzp056duOn6OK/T43jPxx+niP0c8uvPLpOW5y3I1IZDhw4cOHFixYcOLFixYsOJYkVixJJYlixYsWF9vGlJJJJJatWlatSWrTq1atWnVp1atOrTp1r2M6anTc6b56duO36fH0/Z4rrxx4pr9fj5fp44deeG5y3OWpy1OThw4sOLDixYsOLFiOLFixLFiwpJJJJI4MOPtq1JJJJEalq1atKS1atWrVq06tWnVq39rTp1ex9jOmp23O3XnyP0+Pyft/Q+P17Y8gfH42R/Q8fi/T9HPjdJw3OGpyZyfVepxYcWHFixYsOLFiWI4sWLFixJJJJJJJPtiSSSSSSS1JalqWrVq1atWrTq1atWrVp9l7L2Puf5Gp5c+3Tn5Gfb9/xP8AoeLjqXyeTnjmfnrq5I8y/F+D3zxPbmyv28/Hz6bnixr0M4XqfU4sWLFixYsWLFiw4MWLFiw4MOJYsGHBhWJJJJJ9qOhJJHQkkkktSWrVq1atWrRq1atWrf2tXsPZew9h7i+Rm+Vy7+Rn2/mfO+V114+ud/qv8f8AL+Jz72yPwd+DPpyviZ/jHovUeq9V6jFixYMWLFixYsWLFiSxYkkkkkkkkk+0aiNWrVq1LVqS1JLVq1aFq1atWjVq1atWjVo1aPYezN6ZvbF7cuvI/P5PJ+38/wCR1uv5Xn51+DyeN+frxuV4/ti8C8s+o9R6jFixYMWLBixYsWLFiwJLP6SSSSQxYsWLFixY+0atS1atB0JJJLUNWrUlq1atGjVq1atGjVo0azaL0zemL059dOPfT8/k6fj8tfi8sfk8nL8/XDj1yxeWLyzeWfUYMGDFgxYsGLFixYMWJYsGLFiSSWLEsWBJJPsySSGrVq1JJIatSWrQtWrRq1aNWjRo1aNZtZtF6YvTHXTl105ddPz91+fyPy9vzdxw65cuuXO8ud5ZvLNjODBixnFgxYMWLBixYMSWLFiwJJJDEsSxJJ9kSSSQWrUktWrRqS0LVo1aNWjVo1aNGjRazazazaxaxa5dVy6rj3XDt+fuOHcceo5dRz65YsYsZsZsZsGDBgxYMGLBiwYsWLFiwJYsGJJYliCSST7GNWpJLVq0JLVq0JDUtQ0atWrRo0aNWs6LRazazaza52sWufVcuq5dOPTj049Ry6jl1HOxixixmxmxnBjNixnFgwYsGLBixYEMWLEgkliwJJJYsWPsB1aEklq0JIatSWhaFq1azq1aNGjRo0aLWbWbWbWbWLXO1jqufTl05dOXTl05dRz6jnYxYxYxYLGbGcFgsGDBgwYsCwYhiWLAhixJIYsSSxYEn2BJatCSQ1aktCGpLQtC0aNWgaNGi0Ws2i1m1m1i1m1i1ztc+nPpyrn059OVjFjnYxYxYzYzYzYzYLGcWDBgwYFgxDEsCGJYEkMSSQxYkn15JIatSWhIatSQWhatA1aBo1azaLRaLWbRazazaxazaxa52sVzrnXOudc6xYxYxYxYzYzYzYzYLBjODBixnFgwYlgQSCGJLAkhixYkk+uatWpLUEhq1IakEgghoWjRo0aNFrOi1m1m1m1i1m1i1i1iudYrFc6xXOxixmsWM2M2M2M2DBjOCwYMGDFgwYhiwJYEgkMSWLAkhix9cWoJBakNWpagtCGoIDVo0DVrOjRrNotZtFrFrNrNrFYrFYrFYrFc6xWaxWbGLGbBYzYzYKKziZxYMCwYMWAJDEsCQSQSWBJ9aQ1JJDUglq0ILQNSA1AaNAGs6NZotZrNrNYrNYrFZrFYrFYrFZrFZrNjNjNgrNjNAwYBgwIBBBBBLFgSxYEhixJ9Y1JIakEloQ1IILQEBqZQGs2ii1m1ms0VmsVms1isVmsVis1is1is1ms2M2CwYzYzgwYAsZWBAILAgkMSCSxYEk+rjVqWoJaEgkAkAkABooAAtZorNZtFZrFZrNZrFZrFZrFZrFZrNZorNZorNgsAwYABgQCCCQGJYhiWBJIPqyWhJBBIIakEEAgAANFFZFFZrNZrNFYrNZrNYorFZrFZrNZrNFZrOCs2ChnEAMCACCCGIJDEhiSwJPqiSWhCpBBIaggFoCAAAFFZrIorNZZrNZrNZrFZrNZrNZrNZrNZorNFZAAAACAQWBBBLAgkhiSx9T1aENWpaEEggkAgAgAABWaKKzWaKzWazRWb+WazWaxWaKxRWazWaKzRQzQKKAAgAgEsCCCxBBYkg+pIJLQhqQ1IIIAIIAAaAKyKKzRWazRWazWazRWb+GazWazWazRWWaKKGRQAAAgEAgglgQSqwIYk+oakghUkFoWhBAIBAAAAM0UM0VkVms0Vms0Vms1ms1mis0Vms0UMgAAABABAJDEEsCCWLAhX1AJDUglQloGoIBBAAAAAMiis0Vmis1mis1mis1ms0Vmis0VmhkUCigAABBALAgMSoSoSCWB9OQ1IaloS0IIDUNQA1AAAAAM0Cs0VkVmis1mis1mis0VlmiisgChkIADAgEAgghUglgQxYn00IJaEtCFQQQQAQAQAZVZAZoFZorNFZFFZrLNAZZooZooAZACAACAQQQGJDEqEsCGPpiC0JBBLQENSACACAAFAZooFFZrNFFZorIrNFZorIDNArIoAAAQACCCAQQSCCSD6UkEggtVAQQQCAQAAAADIoArIFZrNFFZoorNFZFZqZooAAAAQGAYggsASwIJBYEn0kJBD6SCCGrQgEAgAAAhWaABWaAKKyzRRWaAyBWQKKGQEymUAmUAggggsCGJBIPpCCQSASCCAqAQCAAAAADNAZooorNArNAFZAoZoAAAACAAQGIIIIYlgCSCfR9CGpUIIVLQgNQCAQAACZoAAFZooFFZFDNFAorNFAoArIQAACAQAxBLAggghiQx9GQ1LQghqCQCAQCAAQAAAAZAAorIoFZAAZAAAAAFVAGIAIBBLAsCCQQT6IlQhUgtCCCAQQAqAATIFFCrNAAoZAAFZoAorNAqrNTIQAAQCAQCQQSoCWBDH0RaEEEtCCCA1CqgCqgCoAAAAACis0UAAVmigUAAAAAIABAIBBBBBLAggn0JCpIILQgtA1BUIABAAVVlCigVmhUVmgUAUVmigCgAAVVlAAIAIIBAJCoJYEEn0EakEggEgNQQQAQCAAACrNAoAFAAArNQorNTNQoAAFVACACCAQQQqWBLAMT6B/qQQSA1IBBBUBaAKgBUygAAKABQAAKAABQAAKAgEAAl9AIBBBCpBKhP9+NSCQQVAQQQFQFQCoAAqoAoAFAAAAAAAAFCoAAqACAQQVAQQxCpBKh/vkqEtAQQQ1BIBUAIAVAAAVVlCgAAAAAACgUVAABAIBAIIIBBDEgglj/ehIIJaAkAkAgEAgAKgAAKKqKAAAAAKFWaqAABUAKggAggEqBUEMSCQf//Z"},62399:function(e,t,n){"use strict";e.exports=n.p+"static/media/clouds.756fae6cfe56dfef15c3.jpg"},4269:function(e,t,n){"use strict";e.exports=n.p+"static/media/clouds_2.8b48f7f2506fb29f6a87.jpg"},78310:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_1.ab0c33b09adb1d285d7e.jpg"},50400:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_10.46a61ee2e24684252c20.jpg"},39621:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_11.4f070a83c8fe39ce8918.jpg"},26963:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_12.f92fb4674175aa17d4e6.jpg"},90109:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_13.5cccf18fd538d155107d.jpg"},73571:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_14.466610c10d895523a988.jpg"},23626:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_15.60aee2dfb3e960ed9c00.jpg"},2840:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_16.f22dd630d58c13f3e0e9.jpg"},77026:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_17.b66246f45abe5f8248cf.jpg"},64849:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_2.5d7ecb7f601fad5bf7b8.jpg"},62323:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_3.36e1d3bf47b43d3dfba1.jpg"},20476:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_4.6546291da716ea668d17.jpg"},96905:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_5.e11933f04c76e7263f1e.jpg"},64415:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_6.7cf0baf5b29574a46088.jpg"},98391:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_7.4c0cbd7c321b27ccf680.jpg"},99266:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_8.466610c10d895523a988.jpg"},94405:function(e,t,n){"use strict";e.exports=n.p+"static/media/cross_9.34a8105164f4632585c9.jpg"},53930:function(e,t,n){"use strict";e.exports=n.p+"static/media/crossed_barr.4f2c8c1ebf02ffa38363.jpg"},69747:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_1.1d9a9d5937f70513cb71.jpg"},65873:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_10.4ef1c516660458abe0ca.jpg"},4716:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_11.1c0f3408d978ef5e09f8.jpg"},15265:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_12.de253d5a83f2cca98643.jpg"},22933:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_13.abdf2ef1a2637c6cab9b.jpg"},63262:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_14.3a24806e4c3938436840.jpg"},2723:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_15.8975bb6f057ba6e321d3.jpg"},55030:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_2.8e7ae952f2b9ee386dde.jpg"},17293:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_25.c612530f97c4176bf450.jpg"},25788:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_26.be4eec9715723814a381.jpg"},72542:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_27.9b9cba386faf125d2277.jpg"},98610:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_3.49b863b7cc92c262374c.jpg"},16179:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_4.16b6edca757fe6b56c46.jpg"},25135:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_5.c8fd8503a141811f9b7d.jpg"},1281:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_6.831576c8427efc7e8e6f.jpg"},43900:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_7.8a21b3222c970b9c1524.jpg"},13039:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_8.272859ca585c1e05835c.jpg"},28042:function(e,t,n){"use strict";e.exports=n.p+"static/media/deform_9.aa413b242f95e8595df2.jpg"},92868:function(e,t,n){"use strict";e.exports=n.p+"static/media/dissolve.46b6c3a5acaeeb38b2a0.jpg"},87589:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_1.622be3573658fc15272e.jpg"},66272:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_10.2636385f22bcaf2d286e.jpg"},22812:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_11.d692c256358862899b40.jpg"},3559:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_12.22360bf57bc339e4c480.jpg"},1137:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_13.c396fe0475b672bf48b1.jpg"},29527:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_14.18acf47c12c0278602f7.jpg"},5605:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_15.0a5e0704886ef2d59e64.jpg"},47476:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_16.6dd65cf0abb3cc5f353a.jpg"},3120:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_17.8f380e00f4c929dce481.jpg"},86914:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_18.fb7d7c3de0674da5f706.jpg"},12312:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_19.36f10a443360b1adeb67.jpg"},65563:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_2.5f802c889d71e5a3d70e.jpg"},86134:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_20.d1d00435ad215bbc2f79.jpg"},85033:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_21.164e51da69eaa8193b7b.jpg"},89508:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_22.3dc843212e723948392b.jpg"},66702:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_23.560382c947adff0f7663.jpg"},21991:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_24.7d899e280bda0561c6cd.jpg"},83509:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_3.e07c048636fb2a68da26.jpg"},94997:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_4.8e6fe782e378688ecf50.jpg"},97849:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_5.952b455f8c8026640ca8.jpg"},57545:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_6.ce87bb71ed9110e89479.jpg"},45134:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_7.547a7f3aa294b9928230.jpg"},4265:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_8.996231b3090010c23489.jpg"},99112:function(e,t,n){"use strict";e.exports=n.p+"static/media/distortion_9.a22e3a10f760384a9765.jpg"},34675:function(e,t,n){"use strict";e.exports=n.p+"static/media/fade.a459e0f46e34405a3c92.jpg"},31726:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_1.3d9819bc86d49787884d.jpg"},96137:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_10.62e33e6114d32587fc38.jpg"},9279:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_2.ef90c6f1bbeb6edf5d0c.jpg"},25113:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_4.224cbb6c715b9f0ecb8c.jpg"},10993:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_5.cefdffb4d71f38ef0681.jpg"},11961:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_6.0526ff904b13af90f4ec.jpg"},67267:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_7.53a3a5c0a1ca66da316f.jpg"},80867:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_8.dc908b95dd2a9feef3a4.jpg"},65165:function(e,t,n){"use strict";e.exports=n.p+"static/media/fish-eyes_9.fb32c9feed1bbf224f4f.jpg"},80995:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_1.2c8b6c61bcb75ae2240c.jpg"},51880:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_10.5b738c3e393b70901564.jpg"},32354:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_2.2706a0a68dbd1d4a380a.jpg"},93516:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_3.99c319c5f1e6b195b06d.jpg"},74532:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_4.1b8a5ce36f8f3b47a799.jpg"},72736:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_5.cd662f8c2b65be12f70f.jpg"},27961:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_6.ab7d8d0b7216a1654242.jpg"},66743:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_7.7fd23b1622b32fc0565c.jpg"},86729:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_8.d7b662bfd1738b2a0ec2.jpg"},41881:function(e,t,n){"use strict";e.exports=n.p+"static/media/flower_9.fa461f1783ee22916357.jpg"},56265:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_1.69307fe1f486842d9f9f.jpg"},91566:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_2.f832f5f06229c75663df.jpg"},57263:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_3.aab4581bf338da38bca6.jpg"},97384:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_4.8044cdd2316c8efe4528.jpg"},86176:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_5.fd3a8869c45e1863f2d7.jpg"},52919:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_6.e908efa334297beebcf2.jpg"},29174:function(e,t,n){"use strict";e.exports=n.p+"static/media/fogg_7.255161c45f2052e81a2a.jpg"},38535:function(e,t,n){"use strict";e.exports=n.p+"static/media/foggy_spiral_1.77576599c7480b38bf72.jpg"},15142:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_1.663b57f81281fb1d6fa4.jpg"},12278:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_2.3eb2ef7ec2485794a6dc.jpg"},64137:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_3.1ca9ad34245d05e00c12.jpg"},43289:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_4.0675eb853e271ea02773.jpg"},76238:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_5.ecafcbe82c95e552e2d8.jpg"},24506:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_6.d91d7afccb1a4bdb6d63.jpg"},13175:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_7.ebae3dfff5de02c630ea.jpg"},92858:function(e,t,n){"use strict";e.exports=n.p+"static/media/fractal_8.a86bd324dadeabda55b2.jpg"},65753:function(e,t,n){"use strict";e.exports=n.p+"static/media/frame_1.6784f48cb94aa509be52.jpg"},55831:function(e,t,n){"use strict";e.exports=n.p+"static/media/frame_2.6658db4515190562e71b.jpg"},20291:function(e,t,n){"use strict";e.exports=n.p+"static/media/frame_barr_left.fa8c21e0f86235df0d03.jpg"},49843:function(e,t,n){"use strict";e.exports=n.p+"static/media/frame_barr_right.eab8ebd693eab3c7ece5.jpg"},30740:function(e,t,n){"use strict";e.exports=n.p+"static/media/frame_cross_left_barr.1cfda700b97a1f5ecc5d.jpg"},77188:function(e,t,n){"use strict";e.exports=n.p+"static/media/free_inspiration_right.506cce74d008301946f9.jpg"},64530:function(e,t,n){"use strict";e.exports=n.p+"static/media/free_left_inspiration.06fa3610a8e52f6862da.jpg"},73793:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_1.ecdae8568474bfd84437.jpg"},38429:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_10.8392af1495f0f1a2fe6c.jpg"},40205:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_11.814a25d6ac5af1c7a425.jpg"},38468:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_2.575ed0f8204eed52808e.jpg"},23443:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_3.9c332783e844b0c1b5be.jpg"},60676:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_4.eae04fa35761c46a26e6.jpg"},62948:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_5.5df15956137d30de16d6.jpg"},55951:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_6.f9cbd7bdcc227596213f.jpg"},42057:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_7.ade03ce2e40caa855e59.jpg"},8287:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_8.953e86ddfaf27acd06b2.jpg"},94790:function(e,t,n){"use strict";e.exports=n.p+"static/media/future_9.d6572e0d364d611ecec5.jpg"},5412:function(e,t,n){"use strict";e.exports=n.p+"static/media/hatched_1.0e3f54d5919163aab38a.jpg"},34356:function(e,t,n){"use strict";e.exports=n.p+"static/media/hatched_2.ca94edb1799372627eff.jpg"},27150:function(e,t,n){"use strict";e.exports=n.p+"static/media/hatched_3.dace1605ee29d6cfe234.jpg"},8873:function(e,t,n){"use strict";e.exports=n.p+"static/media/horizontal_barr_1.d81b480e73806721f6a2.jpg"},17652:function(e,t,n){"use strict";e.exports=n.p+"static/media/hourglass_1.d9be268a20a0f9d65de7.jpg"},58644:function(e,t,n){"use strict";e.exports=n.p+"static/media/hourglass_2.e4339bc7fdad9afa44bc.jpg"},32528:function(e,t,n){"use strict";e.exports=n.p+"static/media/hourglass_3.c9ad8d90827ca3dd79ff.jpg"},42825:function(e,t,n){"use strict";e.exports=n.p+"static/media/hourglass_4.4dd9fcc12fb0ed3f2cb9.jpg"},21417:function(e,t,n){"use strict";e.exports=n.p+"static/media/lateral_left_triangle.c7e1f80231daf944a1b9.jpg"},31349:function(e,t,n){"use strict";e.exports=n.p+"static/media/lateral_right_triangle.b0cfcee5265704d65972.jpg"},40662:function(e,t,n){"use strict";e.exports=n.p+"static/media/left_arrow.7a1c668324e943f6857f.jpg"},7793:function(e,t,n){"use strict";e.exports=n.p+"static/media/left_mozaic.e620d905f1de56d83ad0.jpg"},76471:function(e,t,n){"use strict";e.exports=n.p+"static/media/little_left_inspiration.f29de1280d4d48375a21.jpg"},15036:function(e,t,n){"use strict";e.exports=n.p+"static/media/little_right_inspiration.853cf7a0aa3d7b7bf9d5.jpg"},82397:function(e,t,n){"use strict";e.exports=n.p+"static/media/little_rippling_left.a776e99396a62055efbc.jpg"},79274:function(e,t,n){"use strict";e.exports=n.p+"static/media/little_rippling_right.8ef63565d6b6949e998c.jpg"},78667:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_1.17fedda27043e714059d.jpg"},80746:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_10.16683528beb5f07e997b.jpg"},49458:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_11.b4a8fcdef46c61a879cd.jpg"},81920:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_12.03898ca994ec184410c6.jpg"},41361:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_13.b9e90c9be8e8e66af290.jpg"},35829:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_14.5fdd8c051869b80ba53e.jpg"},67341:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_15.b7ff875f7b18134c8201.jpg"},31637:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_16.73bf6f14cdba10fc0665.jpg"},73867:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_17.b0f315b5996310e21884.jpg"},59943:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_18.82dbbcd9df70e88c6d10.jpg"},54199:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_19.57290f8a12bc2b326f10.jpg"},39157:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_2.5de789720cef39cc9ffe.jpg"},1014:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_20.4b57a4742fda38dd1075.jpg"},60990:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_21.ae86593c48e457f03fbc.jpg"},79320:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_22.8dd7537993230e5f5220.jpg"},41205:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_3.3a0b0699c6ae17d14ed6.jpg"},44977:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_4.e9bd8e5bfb718d56c5bb.jpg"},34565:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_5.57a739da948c7e41c55b.jpg"},3257:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_6.82caf40c63eaa198b14d.jpg"},79508:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_7.5bfac04bf226a058fd01.jpg"},3659:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_8.2f59d14e5f707c633c3d.jpg"},99444:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_boxes_9.843afe71e26950643ac8.jpg"},14396:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_frame_1.cd1608e0573add509072.jpg"},35717:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_frame_2.6014245701b19b0ef858.jpg"},19303:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_frame_3.bfafde99899739c853e1.jpg"},25973:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_frame_4.b5ffbbcdda4250faa322.jpg"},59303:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_1.76e059093a66217b186c.jpg"},37545:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_10.aa35a483a7e345517138.jpg"},21373:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_11.f59a08e37b65089e43fe.jpg"},11060:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_2.171fce6d61e56c4ad372.jpg"},89135:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_3.972db6fd8890ecb4d6cb.jpg"},3080:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_4.b00a06c2d1e6fdb2d901.jpg"},62116:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_5.883fd678fd9273e9998d.jpg"},66617:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_6.8b85ce15ee273afb677d.jpg"},17919:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_7.364dd8a570bd21751acd.jpg"},31201:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_8.993418dbfb0bd9a7721e.jpg"},25840:function(e,t,n){"use strict";e.exports=n.p+"static/media/luminous_spiral_9.b5b58e4839188ab5ec40.jpg"},74715:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_barr.8cc19b3788411f937a3d.jpg"},62190:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_barr_ripple_1.ba28984f01b09f641621.jpg"},85135:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_barr_ripple_2.0608c6cbf9017a3e077f.jpg"},66168:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_black_barr.12b8357fea06e1e75989.jpg"},12372:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_cross_left_barr.09a505bd9e9b32aaea46.jpg"},85128:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_cross_right_barr.0de27446e02d5bfa71c2.jpg"},69118:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_left_inspiration.dff50e0f32600b115043.jpg"},89810:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_losange.7e89c2b25743c54f4d61.jpg"},67517:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_low_arrow.55bfb02e725ab5024ce2.jpg"},59811:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_right_inspiration.127b8c523c0c25133365.jpg"},12833:function(e,t,n){"use strict";e.exports=n.p+"static/media/middle_top_arrow.03f3dbda795021cd407d.jpg"},74447:function(e,t,n){"use strict";e.exports=n.p+"static/media/mosaic_1.5e4d7ba3ed0740d5fb84.jpg"},58363:function(e,t,n){"use strict";e.exports=n.p+"static/media/mosaic_2.e994cd68b4ee65800a21.jpg"},15155:function(e,t,n){"use strict";e.exports=n.p+"static/media/mosaic_3.f4a839495d2b8f643107.jpg"},45866:function(e,t,n){"use strict";e.exports=n.p+"static/media/mosaic_4.6c07b5fd85e7093e6659.jpg"},36270:function(e,t,n){"use strict";e.exports=n.p+"static/media/mountains.62543f2f6cb6c7192bf9.jpg"},31897:function(e,t,n){"use strict";e.exports=n.p+"static/media/mozaic_5.f31129d5520de018c0fc.jpg"},79233:function(e,t,n){"use strict";e.exports=n.p+"static/media/mozaic_6.1f44d9ad4f265051b407.jpg"},29422:function(e,t,n){"use strict";e.exports=n.p+"static/media/mozaic_7.f81947376bff88667ab2.jpg"},12951:function(e,t,n){"use strict";e.exports=n.p+"static/media/mozaic_8.e0a031eeb78510ebcf8e.jpg"},2009:function(e,t,n){"use strict";e.exports=n.p+"static/media/mozaic_barr_left.54a1a34b913e40d933c4.jpg"},71132:function(e,t,n){"use strict";e.exports=n.p+"static/media/mozaic_barr_right.c4f4c670dd584babd3e5.jpg"},61624:function(e,t,n){"use strict";e.exports=n.p+"static/media/ondulation_1.27c0cdcbdd049a153c7a.jpg"},70017:function(e,t,n){"use strict";e.exports=n.p+"static/media/openshot_logo.21d56a1d60e1af5a02fa.jpg"},1156:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_1.2249da1e7b5185a647ea.jpg"},94396:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_2.a57f560a1b761513f784.jpg"},88672:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_3.7b0ce7d29268c0f33c02.jpg"},53389:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_5.b1cf064e7fc952980c4f.jpg"},86988:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_6.cab39e1bca51d8976f5c.jpg"},27547:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_7.7b61dd205fbf93353140.jpg"},22765:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_8.0f80f0e765787c5a9e53.jpg"},58004:function(e,t,n){"use strict";e.exports=n.p+"static/media/postime_9.5659c2355fd52cca1605.jpg"},62793:function(e,t,n){"use strict";e.exports=n.p+"static/media/puzzle.99b10ffd0efb5f0e8fdf.jpg"},24757:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_1.2950b38b90dbd5e16cce.jpg"},17946:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_1.04d3820afbc794300bfa.jpg"},32109:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_10.266ffa15f4fd332ebf2f.jpg"},35155:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_11.014d02cf523889c51ff6.jpg"},99744:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_12.396652f2c13141b9a63f.jpg"},32088:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_13.65b352ecb6c8582acd05.jpg"},19759:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_14.6f4664d324e2bb716f1f.jpg"},52319:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_15.9f377f89de6af73b81cc.jpg"},87145:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_16.2e3ce0674f1751d43ad2.jpg"},79725:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_17.b10b4cab7e63bb639a99.jpg"},10802:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_18.d320a5317b2acfb7ff27.jpg"},65876:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_19.fa5aa04a782ea2ee09bd.jpg"},81531:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_2.af93685890821641533d.jpg"},8812:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_20.13c6f889a1d051fffa91.jpg"},4076:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_3.1c83503a661b64ab50c2.jpg"},73147:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_4.e46cd83091e1e88d38a4.jpg"},30608:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_5.e27d708990f1694f55a9.jpg"},2145:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_6.00a87f61670737e4bf89.jpg"},65008:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_7.1d8f9ec69f486512aa4b.jpg"},44796:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_8.1d8f9ec69f486512aa4b.jpg"},39224:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_9.12704d042e9d5e28f4f1.jpg"},68305:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_left.8998f97dcaf30d5dc252.jpg"},13264:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_left_2.e76137778dd75ad62d06.jpg"},55885:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_right.40053578b295c141a670.jpg"},1344:function(e,t,n){"use strict";e.exports=n.p+"static/media/ray_light_right_2.b6e7210b2fcd9d67f74b.jpg"},67286:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAQABAAD//gAoIENSRUFUT1I6IEdJTVAgUE5NIEZpbHRlciBWZXJzaW9uIDEuMQr/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCAJAAtABAREA/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMBAgf/xAAaEAEBAQEBAQEAAAAAAAAAAAAAEgIBETEh/9oACAEBAAA/APfe98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRzvppLvfGUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU3nfVMt0jpLvfGUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU3nfVMrZbpHSOku98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRzvquVsrZbpHSOkdJd74yiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiv0oooooooooooooooopvO+qZ6tlbK2W6R0jpHSOku98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRTed9UytlbK2Vst0jpHSOkdI6S73xlFFFFFFFFFFFFlFFdKKKLKKKKKKKLKKKKKKKKKKKKKKKKKKKKLKKKKKKLKKKKKKKKKKKLKKKKKKKKbzvqmVsrZWytlbLdI6R0jpHSOkdJd74yiiiyiiiyiyiyiyiiiiiiiiiiiiiiiivwooosoooosooosoooososoooooosooooooooooooooopvO+qZWytlbK2VsrZbpHSOkdI6R0jtHafe+OaKKKKKKKKLKKKKKKKKKKKKKKKLKKKKKKLKKKKKKKKKKKKKKKKKLKKLO6KLKKKKKKKKKLKKKKKbzvquVsq5WytlbK2Vst0jpHSOkdI6R0jtHSfe+ObLKKKKKKKKLK/Siiiiiiiiiyim0Uym0yiyiiiyiiyiiiiiiiiyiiiiiyiiyiiiiiiiyyi20yiim876rlbKuVsrZWytlbK2W6R0jpHSOkdI6R2jpHafe+OabRRTKKbTLbRRRRRRTKbRRRRTKKbRRTKKKbRRRRRRRTKbTKbRTLbRTKbRTKKbTKbRRTKbTO6bTKKbRRRTKbRRzXquVsrZVytlbK2VsrZWy3SOkdI6R0jpHSOkdo6R0n3vjKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKOd9VytlbK2Vsq5WytlbK2Vst0jpHSOkdI6R0jpHaOkdpaS73xlFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFN533qmVsrZWytlbKuVsrZWytlbLdI6R0jpHSOkdI6R2jtLSOkdJd74yiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiijnfVcrZWytlbK2Vsq5WytlbK2Vst0jpHSOkdI6R0jpHaOktI6R0jpLvfGUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU3nfVMrZWytlbK2Vsq5WytlbK2VsrZbpHSOkdI6R0jtHSOkdo6S0jpHSOku98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRTed9UytlbK2VsrZWytlbKuVsrZWytlbLdI6R0jpHSOkdI7R0jtHaWkdI6R0jpLvfGUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU3nfVMrZWytlbK2VsrZWytlXK2VsrZWytlukdI6R19R0jpHSWkNI7S0jpHSOkdI6R0l3vjKKKbTKbTKbRTKbRTKbRTKbTKKKbTKbRTKbTKbTKKbTKbTKKbRRTKKKKKKKKKKKbTKbTKKbzvqmFsLYWytlbK2VsrZWytlXK2VsrZWytlukdI6R0jpHSOkdo6R0lpHSOkdI6R0jpHSfe+MooooooooooooooooooooooooooooooplNoooooooooooooooooooo531TC2VsLYWytlbK2VsrZWytlXK2VsrZWytlukdI6R0jpHSOkdI6R2lpHSOkdI6R0jpLSOke98KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKOa9Vz9VythbC2FsrZWytlbK2VsrZVytlbK2VsrZbpHSOkdI6R0jpHSO0dpaR0jpHSOkdI6R0lpHSXe+Moooooooooooooooooooooooooooooooooooooooooooooooo531XK2VcLZWythbC2VsrZWytlbK2VcrZWytlbK2W6R0jpHSOkdI6R2jtHSOktI6R0jpHSOktI6R0jpLvfGUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUc76rlbK2VcLYWwtlbK2VsrZWytlbK2VcrZWytlbK2W6R0jpHSOkdI6R2jpHaWkdI6R0jr4jpHSOktI6R0jpLvfGUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUc76rlbK2VsrZVwthbC2FsrZWytlbK2Vsq5WytlbK2Vst0jr4jpHSOkdI6R0jpHSOktI6R0jpHSOktI6R0jpHSOku98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRTea9UytlbK2VsrZVythbC2VsrZWytlbK2VcrZWytlbK2Vst0jpHSOkdI6R0jpHaOktI6R0jpHSOkdI6S0jpHSOkdI6S73xlFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFN531TK2VsrZWytlbKuVsLZWytlbK2VsrZWytlXK2VsrZWytlukdI6R0jpHSO0dI6R0jpLSOkdI6R0jpHSWkdI6R0jpHSOku98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRTed9UytlbK2VsrZWytlXC2VsrYWytlbK2VsrZWyrlbK2VsrZWy3SOkdI6R0jpHSO0do6S0jpHSOkdI6R0jpLSOkdI6R0jpHSOk+98c0UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU3nfVcq5WytlbK2VsrZWyrhbK2VsrZWytlbK2VsrZVytlbK2VsrZ+N0jpHSOkdI6R2jtHSO0dJaR0jpHSOkdJaR0jpHSOkdI6R0jpHSfe+OaKKKKKKKKKKbTKKKKKKKKKKKbTKKKKKKKKKKbzvquVsq5WytlbK2VsrZWyrhbC2FsrZWytlbK2Vsq5WytlbK2VsrZbpHSOkdI6R0jpHSO0dJaR0jpHSOkdI6R0lpHSOkdI6R0jpHSOkdcT73xzRTaKKZTaKKKZTaKKKKKZTaZTaKKZTaKKKKZRTaOd9VytlbK2VcrZWytlbK2Vsq5WwtlbC2VsrZWytlbKuVsrZWytlbK2W6R0jpHSOkdI6R0jpHaWkdI6R0jpHSOkdJaR0jpHSOkdI6R0jpHSWku98ZRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRzvquVsrZWytlXK2VsrZWytlXK2FsrYWytlbK2VsrZWytlXK2VsrZWytk0lpHSOkdI6R2jtHaOktI6R0jpHSOkdJaR0jpHSOkdI6R0jpHSOktI6S73xlFFFFFFFFFFFFFFFFFFFFFFFFFFFN531TK2VsrZWytlXK2VsrZWytlbKuVsLYWytlbK2VsrZWyrlbK2VsrZWytluvqOkdfUdI6R0jtHSOkdI6S0jpHSOkdI6S0jpHXEdI6R0jpHSOkdI6S0jpHSXe+MooooooooooooooooooooooooopvO+qZWytlbK2Vsq5WytlbK2VsrZVythbK2FsrZWytlbK2Vsq5WytlbK2VsrZbpHSOkdI6R0jtHaOkdpaR0jpHSOkdI6R0lpHSOkdI6R0jpHSOkdJaR0jpHSXe+Moooooooooooooooooooooooo531XK2VsrZWytlbKuVsrZWytlbK2Vsq5WytlbK2VsrZWytlbK2VcrZWytlbK2W6R0jpHSOkdI7R2jtHSWkdI6R0jr6jpHSOktI6R0jpHSOkdI6R0jpLSOkdI6R0l3vjKKKKKKKKKKKKKKKKKKKKKKbzvqmVsrZWytlbK2Vsq5WytlbK2VsrZVwthbC2VsrZWytlbK2Vsq5WytlbK2VsrZbpHSOkdI6R0jpHaO0dJaR0jpHSOkdI6S0jpHSOkdfEdI6R0jpHSOktI6R0jpHSOku98LZRRRRRRRRRRRTbZRRRRRTed9UytlbK2Vs/VsrZWytlXK2VsrZWytlbKuVsrZWytlbK2VsrZWytlbK2VcrZWytlbLdI6R0jpHSOkdI6R2jpLSOkdI6R0jpHSOktI6R0jpHSOkdI6R0jpLSOkdI6R0jpHSXe+MooooptMptFFFsoooopvNHNHO+qZWytlbK2VsrZWytlbKuVsrZWytlbK2Vsq5WwtlbK2VsrZWytlbK2VcrZWytlbK2W6R0jr6jpHSOkdI7R2jtLSOkdI6R0jpHSWkdI6R0jpHSOkdI6R0jpHSWkdI6R0jpHSXeesklktklktkkklktlktlktkklvOeKZWytlbK2VsrZWytlbKuVsrZWytlbP1bKuFsLZWytlbK2VsrZWytlbKuVsrZWytlbLdI6R0jpHSOkdI7R2jtLSOkdI6R0jpHSWkdI6R0jpHSOkdfEdI6R0lpHSOkdI6R0l3nrmSSSSSSSSSSSSSSSSSSSXXOeKZWytlbK2VsrZWytlbKuVsrZWytlbK2VcLYWwtlbK2VsrZWytlbKuVsrZWytlbLdI6R0jpHSOkdI6R0jtHaWkdI6R0jpHSOktI6R0jpHSOkdI6R0jpLSOkdI6R0l3nrmSSSSSSSSSSSSSSSSSSSSSXXOeKZWytlbK2VsrZWytlXK2VsrZWytlbKuFsLYWz8WytlbK2Vsq5WytlbK2VsrZWy3SOkdI6R0jpHSO0do7S0jpHSOkdI6R0lpHSOkdI6R0jpHSOkdI6S0jpHSOku89cySSSSSSSSSSSSSSSSSSSSSSS3nPFcrZWytlbK2Vsq5WytlbK2VsrZWyrhbC2VsrZWytlbK2VsrZVytlbK2VsrZbpHSOkdI6R0jpHSO0tIbS0jpHSOkdI6S18Q0lpHSOkdI6R0jpHSOkdJaR0l3nrmSSSSSSSSSSSSSSSSSSSSSSSSSW854rlbPxbK2VsrZWyrlbK2VsrZWyrhbK2VsLZWytlbK2VsrZVytlbK2VsrZWy3SOkdI6R0jpHSO0do6S0jpHSOkdI6R0lpHSOkdI6R0jpHSOkdI6S0jpHvPWSSSSSSSSSSSSSSSSSSSSSSSSSSSS3nPFcrZWytlbKuVsrZWytlbK2Vsq4WwtlbK2VsrZWytlbK2VcrZWytlbK2W6R0jpHSOkdI6R0jpLSOkdI6R0jpHSOkdJaR0jpHSOkdI6R0jpHSWke89ZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJLec8VytlbK2VcrZWytlbK2VsrZVwtlbC2VsrZWytlbK2Vsq5WytlbK2Vst0jr6jpHSOkdI6R2jtHSWkdI6R0jpHSOktIaS0jpHSOkdI6R0jpHSXeeskkkkkkkkkkkkkkgkkkkkkkkkkkkkkkklvOeK5WytlXK2VsrZWytlbKuFsrZ6tlbK2VsrZWytlbK2VcrZWytlbK2W6R0jpHSOkdI6R0jpHSWkNJaR0jpHSOktI6R0jpHSOkdI6R0jpLvPWSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS3nPOq5WyrlbK2VsrZWytlbKuVsLYWwtlbK2VsrZWyrlbK2VsrZWytlu0dI6R0jpHSO0do7R0jpLSOkdI6R0jpLSOkdI6R0jpHSOkdJa56ySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSW854rlbKuVsrZWytlbKuFsLZWytlbK2VsrZWytlXK2VsrZWytlbLdI6R0jpHSOkdI7R0jpLSOkdI6R0jpHSOktI6R0jpHSOkdJd56ySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSTnPFsq5WytlbK2Vsq5WwthbC2FsrZWytlbK2VcrZWytlbK2Vst0jpHSOkdI6R0jpHSO0tI6R0jpHSOkdJaQ0lpHSOkdI6S7z1zLZZJJJJJLZZLZJJJJZJLZZJLZZJJLZJJZJLZJJJZLZJZLZZJLec86rlbK2VsrZ+rZVythbK2FsrZWytlbK2Vsq5WytlbK2VsrZbpHSOkdI6R0jpHaOkdJaR0jpHSOkdI6S0jpHSOkdI6S7z1zJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJLec8VytlbK2VsrZVwtlbC2VsrZWytlbK2Vsq5WytlbK2Vst0jpHSOkdI6R0jpHaWkNpaR0jpHSOkdI6S0jrqOkdI956ySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSW854rlbK2Vsq4WwthbC2VsrZWytlbK2Vsq5WytlbK2Vst0jpHSOkdI7R0jpHaO0dJaR0jpHSOkdI6S0jpHSPeeskkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklvOeK5WytlXK2FsLYWytlbK2VsrZWyrlbK2VsrZWytlukdI6R0jpHSOkdI7R2lpHSOkdI6R0jpHSWkdI956ySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSW854rlbKuVsLYWwtlbK2VsrZWytlXK2VsrZWytlbLdI6R0jpHSOkdo7R2jtHaWkdI6R0jpHSOktI956ySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSW854rlXK2FsrYWwtlbK2VsrZWytlXK2VsrZWytlukdI6R0jpHSOkdo6R2lpHSOkdI6R0jpLSPeeskkkkkkkklkNkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklktkkklktklvOeK5VwthbC2FsrZWytlbK2VcrZWytlbK2Vst0jpHSOkdI6R0jpHaOkdJaR0jpHSOkdJa565lskkslskkksgkkklskkkslsslskkkshsslssklssgglssklsshskks5kkklsskhskkkt5zxTC2VsrZWytlbK2VsrZVytlbK2VsrZWy3SOkdI6R0jpHSO0dI6S0jpHSOkdI6S7z1zJJBJJJBzJJJJBBJJJJJBJJJJJJJBJJJJJJJJJJLZZJJJJJJJJJBJJJJJJLrnPFMLYWytlbK2VsrZWytlXK2VsrZWytlukdI6R0jpHSOkdo6R0lpHSOkdI6S7z1zJJBJJJJBJBJJBJJJBJJJJJJJJJBJJJJJJJJJJJJJJJJBJJJJJBJJJJJBJP665zxTK2VsrZWytlbK2Vsq5Wytn5xbK2Vst0jpHSOkdI6R0jtHSOkdJaR0jpLvPXMkkknckknMkkkkkkkkkkkkkkkEkEEEkkkkkkkkkkkkkkkkkkEkkkkkkEkkkkEkt5zxXK2VsrZWytlbK2VcrZWytlbK2W6R0jpHSOkdI6R2jtHSWkdI6S7z3rmSSSSSSSSSSSSSSSSeEkkkkkkkkkkkkkkkkkkkkkkkEkkkkkkkkkkkkkkkkkkkkt5zxXK2VsrZWytlbKuVsrZWytlbLdI6R0jpHSO0do7R2jpLSG0+89cySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS3nPFc/VsrZWytlbKuVsrZWytlbLdI6R0jpHSOkdI7R0jtHaXeeskkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklvOeK5WytlbK2VcrZWytlbK2W6R0jpHSOkdI6R0jtHSXeeskkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklvOeK5WytlbKuVsrZWytlbLdI6R0jpHSOkdI6R0l3nrJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJbzniuVsq5WytlbK2VsrZbpHSOkdI6R0jpHSXeeskkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklvOeK5VytlbK2VsrZWy3SOkdI6R0jpHaXeeskkkkkkkkkkkkkkkkkkkkkkkkkkkklktkkkkkklktkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklvOeK5VytlbK2VsrZbpHSOkdI6R0l3nrJZJJLZZJJLZZJLZZLZZLZZLZJJZLZJZLZJJJJJJJJZJLZJZLZJJZLZZLZZLZJJJJJJZLZJZJLZZLZJJZLZJZLZJJJJJJJJbznimVsrZWytlbLdI6R0jpHSXeeuZJJJJbLJJJJbLJJJJJbLJJJbLJJJJJJJJJJJbLJJbLJJJJJbJJLJJJJJJbLJJJbLJJJJJbLJJJJJJJbLJJJJJJbLJJbzniuVsrZWytlukdI6R0l3nrJZLZZLZJZJJJJJJJJJJJJJJJJJJLZZJJJJJJJJLZZJJLZZLZZLZZJJJJJJJJJLZZJJJJLZZJJLZZJJJJJJJJLZZJJJJLrnPFMrZWytlukdI6S7z1zJJJJJJJJJLZZJLZZLZZJJLZZJLZZJJJLZZJJJLZZJJJJJJJJJLZJJZJJJJJJJJJLZZJJJLZZJJJJLZZJJJJJJJJJJBJJLec8VytlbLdI6S7z1zJJJJJJJJJJJJJJJJJJJJJJJJJJJJJBJJJJJJJJJJJJJJJJJJJJJJJJJJBJJJJJJJJJJJJJJJJJJJJJJJJJJLec8Vytluke89ZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJLec8Vy3vPWSSSSSSSSSSSSSSSSSSSSSSSSSST+kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk/hJJLec8f/9k="},19013:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAQABAAD//gAoIENSRUFUT1I6IEdJTVAgUE5NIEZpbHRlciBWZXJzaW9uIDEuMQr/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCAJAAtABAREA/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMBAgf/xAAaEAEBAQEBAQEAAAAAAAAAAAAAEgIBETEh/9oACAEBAAA/APK+c9bJJLZJJJJIJIZLZJZJJLZJZJJJLZZJJLZJJZLZJJJZLZJZJLZJZLZZLZZLZZLZIZJJLZJJJJJJZJJJJLYJZLZZJLZJZJLYZJJJJLZZLZJZJJ3njcqc562SSSSSSSSSSSSWyySSSSWyySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSTvPEtMz8WyrznrZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJZ3nieviOjCuVsq8562SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSWdz4npHSOjCuVsrZ+K8562SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSWd54npHSOkdMytlbK2Vsq8562SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSWd54npHSOkdI6ZlbK2VsrZWyrznrZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJZ3niekdo6R0jpHTMrZWytn4tlbK2Vec9bJJJJJJJJJLJbJJLJbJJJLJbLJbJJJJJJJJLJbJLJbJJJJJJJLJbJJJJJLJbLJbJLJbJLJbJLJbJJJJLJbJJJJJLO884npHSO0dI6R0jpmVsrZWytlbK2Vsq856SSSSSSSSSSSSS2WSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS2WSSSS2WSSSSSS2WSSSS2WSSSSSSSSS2Wd55xPaO0dI6R0jpHSOmZWytlbK2VsrZWyrlXnPWySSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSd55xLSW0dI7R2jpHSOkdGVcrZWytlbK2VsrZVyrznrZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJO88S0jpLSO0dI6R0jpHSOmZWytlbK2VsrZWyrlbK2Vec9bJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ3niWkdI6S2jtHaO0dI6R0joz1XK2VsrZWytlbK2VcrZWyrznrZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJO88S0jpHSOktI6R0jpHSOkdI6MK5WytlbK2Vsq5WytlbK2Vsq8562SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSWd54npHSOkdI6S0jpHSO0dI6R0jpmVsrZWytlbK2VcrZWytlbK2Vsq8562SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSWd54npHSOkdI6R0jpLaOkdo6R0jpHRlXK2VsrZWytlbKuVsrZWytlbK2Vec9bJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJLO88T0jpHSOkdI6R0lpHSO0do6R0jpHTMrZWytlbK2Vsq5WytlbK2VsrZWytlXnPeNkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkgkkkkkkkkkkkkkkkkkkkkkklneeJaS0jpHSOkdI6R0lpHaOkdo7R0jpHRlXK2VsrZWytlbK2VcrZWytlbK2VsrZU5z11JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJLJbJJJJJJJJJJJJJJJLJbJJLO88S0jpLSOkdI6R0jpHSW0dI7R2jpHSOkdGVcrZWytlbK2Vsq5WytlbK2VsrZWytlbKnOetkklssklskslsksklskkkslsslskslsskklsslskslsslssklskslsksklskkslsslssk7zxLSOkdJaR0jpHSOkdJaQ0lpHSOkdI6R19R0ZVytlbK2VsrZVytlbK2VsrZWytlbK2VsrZU5z1skkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkktlkkkkkkktlkkneeJaR0jpLSOkdI6R0jpHSOktI7R2jtHSOkdI6MK5WytlbK2VsrZWyrlbK2VsrZWz9WytlbKuVsq8562SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSTufEtI6R0jpLSOkdI6R0jpHSOkdJa+9R2jpHSOkdI6+GVcrZWytlbK2Vsq5WytlbK2VsrZWytlbKuVsrZV5z1skkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkneeJaR0jpHSOkdJaR0jpHSOkdI6R0lpHaOkdI6R0jpmVsrZWytlbK2Vcr5VytlbK2VsrZWytlbK2VcrZWyrznrZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJO88S0jpHSOkdI6R0lpHSOkdI6R0jpHSW0do6R0jpHSOjCuVsrZWytlbKuVsrZWytlbK2VsrZWytlXK2VsrZWyrznrZJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ/SSSSSSSSSSWd54npHSOkdI6R0jpHSWkdI6R0jpHSOkdJaR2jtHSOkdI6Mq5WytlbK2Vsq5WytlbK2VsrZWytlbK2VcrZWytlbK2Vec9bJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJLO88T0jpHSOkdI6R0jpHSOktI6R0jpHSOkto7R2jpHaOkdI6ZlbK2VsrZWytlbKuVsrZWytlbPxbK2VsrZWyrlbK2VsrZWyrznpLZJJZJDZJJJJZLZJJZDZJJJJJJJJJJJZLZJZLZJZLZZDZZ3niekdI6R0jpHSOkdI6R0lpHSOkdI6R0jpHSWkdo7R0jpHSOvphXK2VsrZWytlbKuVsrZWytlbK2VsrZWyrlbK2VsrZWytlXC3OekkkktlkkkkkkkkkkknMkkkkkkkkkkkkkkkEkEkneeJ6R0jpHSOkdI6R0jpHSOktI6R0jpHSOkdI6S0jtHaOkdI6R0ZVytlbK2VsrZVytlbK2VsrZWytlbPxbK2VcrZWytlbK2Vsq5WwrznrZJJJJJJJIIJJJJIJJJJJJOZJJJJJJJJJJIIO88S0lpHSOkdI6R0jpHSOkdI6S0jpHSOkdI6R0ltHSOkdI7R0jpHRhXK2VsrZWytlbKuVsrZWytlbK2VsrZWyrlbK2VsrZWytlbKuVsK8562SSSSSSSSSSSSSTmSSSSSSSCSSSCSSSSSTvPEtI6S0jpHSOkdI6R0jpHSOkdJaR0jpHSOkdI6R0ltHSO0dI6R0jowrlbK2VsrZWytlXK2VsrZWytlbK2VsrZWz94rlbK2VsrZWytlXC2Fsq8562SSSSSCSSSSSSSSSSCSSSSSSSSSSSSTufEtI6R0jpLSOkdI6R0jpHSOkdI6S0jpHSOkdI6R0ltHSOkdI6R0jpHTMrZWytlbK2Vsq5WytlbK2VsrZWytlbK2Vsq5WytlbK2VsrZVythbC2Vec9bJJJJJJJJJJJJJJJJJJJJJJJJJJJJ3PiWkdI6R0jpLSOkdI6R0jpHSOkdI6S0jpHSOkdI6R0jpLSO0dI6R0jpHRlXK2VsrZWytlbKuVsrZWytlbK2VsrZWyrlbK2VsrZWytlXC2FsrZWytlXnPeNkkkkkkkkkkkkkkkkkkkkkkkkkk7zziWkdI6R0lpHSOkdI6R0jpHSOkdI6S0jpHSOkdI6R0jpLaO0do6R0jpHSOjKuVsrZWytlbK2VcrZWytlbK2VsrZWytlbKuVsrZWytlbK2VcrYWwtlbK2Vec9bJJJJJJJJJJJJJJJJJJJJJJJLO88T0jpHSOkdI6R0lpHSOkdI6R0jpHSOkdJaR0jpHSOkdI6S0jtHSO0dI6R0jpmVsrZWytlbK2Vsq5WytlbK2VsrZWytlbKuVsrZWytlbK2VcrYWwtlbK2VsrZV5z1skkkkkkkkkkkkkkkkkkkkks7zxPSOkdI6R0jpHSWkdI6R0jpHSOkdI6R0jpLSOkdI6R0jpHSWkdI6R0jpHSOkdGFcrZWytlbK2VcrZWytlbK2VsrZWytlbK2VcrZWytlbK2Vsq4WwtlbK2VsrZWyrznrZJJJJJJJJJJJJJJJJJJJZ3niWktI6R0jpHSOkdJaR0jpHSOkdI6R0jpHSOkdJaR0jpHSOkdJbR2jpHSOkdI6R0YVytlbK2VsrZWyrlbK2VsrZWytlbK2Vsq5WytlbK2VsrZWyrlbK2VsLZWytlbK2Vec9bJJJJJJJJJJJJJJJJJLO88S0jtLSOkdI6R0jpHSOktI6R0jpHSOkdI6R0jpLSOkdI6R0jpHSWkdI7R2jpHXxHSOjKuVsrZWytlbKuVsrZWytlbK2VsrZWytlbKuVsrZWytlbK2Vsq4WwtlbK2VsrZWyrzvjbLKKKKKKKLLKKKLKKKZ3vqWkdo6S0jpHSOkdI6S0jpHSOkdI6R0jpHSOktIaS0jpHSOkdI6S0jtHSOkdo6R0joyrlbK2VsrZWyrlbK2VsrZWytlbK2VsrZWyrlbK2VsrZWyrlbC2FsrYWytlbK2Ved8bXSiiiiiyiiiiiiiiiiiijvfUdpaR0jpHSOkdI6R0lpHSOkdI6R0jpHSOkdJaR0jpHSOkdI6R0lpHSOkdI6R0jpmVsrZWytlbK2Vsq5WytlbK2VsrZWytlbKuVsrZWytlbK2Vsq5WwtlbK2Vs/Fsq8742iiiiiiiyiiiiiyiiiiiiijvfUtI6R0jpHSOkdJaR0jpHSOkdI6R0jpHSOkdJaR19R0jpHSOkto7R0jpHSOkdI6Mq5WytlbK2VsrZVytlbK2VsrZWytlbK2Vsq5WytlbK2VsrZVytlbC2VsrZV53xtFtoooplFFtooopltooopltoooopne+paR0jpHSOkdI6S0jpHSOkdI6R0jpHSOktI6R0jpHSOkdJbR2jtHaOkdI6R0zK2VsrZWytlbK2VcrZWytlbK2VsrZWytlbKuVsrZWytlbK2VcLZWwthbK3O+cbRRRRRRRRRRRRRRRRRRRRRRRRRTO99S0jpHSOkdJaR0jpHSOkdI6R0jpHSOktI6R0jpHSOkdJbR2jpHaOkdI6R0YVytlbK2VsrZWytlXK2VsrZWytlbK2VsrZVytlbK2VsrZVwtlbK2Fsrc742iiiiiiiiiiiiiiiiiiiiiiiiiiimd76lpHSOkdJaR0jpHSOkdI6R0jpHSOktI6R0jpHSOkdJbR0jtHSOkdI6R0YVytlbK2VsrZWyrlbK2VsrZWytlbK2Vsq5WytlbK2VsrZWyrhbC2Fud8bRRRRRRRRRRRRRRRRRRRRRRRRRRRRRTO99S0jpHSWkdI6R0jpHSOkdI6R0lpHSOkdI6R0jpHSOktI7R0jtHSOkdMytlbK2VsrZWytlXK2VsrZWytlbK2VsrZWzxXK2VsrZWytlXC2VsrZ742iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiimd76lpHSWkdI6R0jpHSOkdI6R0jpHSWkdI6R0jpHSW0dI7R2jtHSOkdMytlbK2VsrZWytlXK2VsrZWytlbK2VsrZWyrlbK2VsrZ+LZVythbnfG0UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUzvfUtI6S0jpHSOkdI6R0jpHSOkdJaR0jpHSOkdJaR0jtHaOkdI6R0ZVytlbK2VsrZWyrlbK2VsrZWytlbK2Vsq5WytlbK2VsrZVwtzvjqmUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU2imUUUzvfUtJaR0jpHSOkdI6R0jpHSWkdI6R0jpHSOkto7R0jtHSOkdI6MK5WytlbK2VsrZVytlbK2VsrZWytlbK2VcrZWytlbK2Vsq8742m0UUym0UUyim0Uym0yim0UUym0ym0UUUUUUym0Uym0UUUymd76npHSOkdI6R0jpHSOkdJaR0jpHSOkdI6S0jtHaO0dI6R0jpmVsrZWytlbK2Vsq5WytlbK2VsrZWytlbK2VcrZWytlbKvO+OqKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKc976npHSOkdI6R0jpHSOktI6R0jpHSOkdJbR2jpHSOkdI6R0zK2VsrZWytlbK2VcrZWytlbK2VsrZWytlbKuVsrZWytzvjaKKKKKKKKKKKKKKKKKKKKKKKKKLKKKKKLKKKKKKKKKc976npHSOkdI6R0jpHSWkdI6R0jpHSOktI7R2jrqO0dI6R0ZVytlbK2VsrZWyrlbK2VsrZWytlbK2VsrZVytlbKvO+cdUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUWUUUUUUUUUzvfUtI6R0jpHSOkdJaR0jpHSOkdI6R0ltHaO0dI6R0joyrlbK2VsrZWytlXK2VsrZWytlbK2VsrZVytlbKvO+OqKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKZ3vqWkdI6R0jpHSOktI6R0jpHSOkto6Q186lpHSOkdI6ZlbK2VsrZWytlXK2VsrZWytlbK2VsrZWyrlbK3O+Nooooooooooooooooooooooooooooooooooooooooooooooopne+paR0jpHSOktI6R0jpHSOkdJaR2jpHaOkdI6R0YVytlbK2VsrZWyrlbK2VsrZWytlbK2VsrZV53xtFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFM731LSOkdI6R0lpHSOkdI6R0jpLaO0dI6R0jpHTMrZWytlbK2Vsq5WytlbK2VsrZWytlbK2Ved8bRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRTO99S0jpHSWkdI6R0jr6jpHSW0do7R0jpHSOkdMytlbK2VsrZWytlXK2VsrZWytlbK2Vsq5742iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiimd76lpHSWkdI6R0jpHSOktI7R2jpHSOkdI6ZlbK2VsrZWytlbKuVsrZWytlbK2Vsq8742iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiyiiiiiiiijvfUdJaR0jpHSOkdI6S2jtHaO0dI6R0jowrlbK2VsrZWyrlbK2VsrZWytlbKvO+NoptMooooooooooooooptMooooooooooooooooooooptMoooooooooooooooptM731HSWkdI6R0jpHSW0do7R2jpHSOkdGFcrZWytlbK2Vsq5WytlbK2Vsq8746ooooooooooplNoplNoooooooplNoooooplNoplNotlNooplNplNoplNooooooooplNooopne+paR0jr4jpHSOkdJaR2jpHSOkdI6Mq5WytlbK2VsrZVytlbK2Vsq8746ooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooopne+paR0jpHSWkNJbR2jtHaOkdI6ZlbK2VsrZWytlbKuVsrZWytzvjaKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKZ3vqWkdI6S2jpHSO0do6R0jpHRlXK2VsrZWytlbKuVsrZW53xtFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFM731LSOkdI6S0jpHaOkdI6R0zK2VsrZWytlbK2VcrZW53xtFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFM731LSOkdJbR0jtHSOkdI6Mq5WytlbK2Vsq5WytzvjaKKKK/Siiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiimd76lpHSWkdI6R0jpHXxHRlXK2VsrZWz9WyrlbnfG0UUU2v1lFFNtlFNoplFFFFNplFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFNplFFFM731PSOkdI6R0jpHSOjKuVsrZWytlbKvO+OqKKLKKLKKZTaZTaKKKLKZTaKLZRTaKKKLZRTbKKZRTbKK/SmU2i2U2yimU2mU2y2U2yiiiiyiiiyiiiyimU2imU2nPe+p6R2jtHXxHSOkdGVc/Fs/VsrZ+LZV53x1RRRRRRRZZRRZRRRRZRRRRRRRRRRRRZzRRRRRRRZRRRRRRRRZRRRRRRRRRRRRRRRRRRRRRRRRRRZRTnvfeJ7R2jpHSOkdGVcrZWytlXnfHVFFFFlFFFlFFFFFFFFlFFFFllFFFFlFFFlFFFFFFFFFFFFFFFFFFlFllHNFFFFFlFFFFFFlFFFFFFFFM731LaOkdI6R18Mq5WytlXnfOOrKLKLKKKLKLKKKKKKLKKKLKKKKLKKLKLKKKKKKKKKKKKKKLOaKKKKLKKKKKKKKKLKKKKLO6KKKKKKKKLKKZ3vqWkdI6R0YVytlXnfHVFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFlFFFlFlFFFFFFFFFFFFFFFFFFFFfpRRRRRRRRZRRRRRRRRRRRRTO99S0jpHRhXKvO+OqKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKZ3vqWkdGFed842iiiiiiv0oooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooopne+paZzvjaKKKKKKKKKK/Ciiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiimd76//2Q=="},21124:function(e,t,n){"use strict";e.exports=n.p+"static/media/right_arrow.5384a724a8e46011a903.jpg"},6949:function(e,t,n){"use strict";e.exports=n.p+"static/media/right_mozaic.b9670ee05bc5ff61ddf4.jpg"},40981:function(e,t,n){"use strict";e.exports=n.p+"static/media/right_mozaic_2.67966741613638ff0edb.jpg"},56182:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_1.9c3dae604e421b8631ed.jpg"},21903:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_2.6a1f46d2ba9b83f7d663.jpg"},52403:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_3.1566db9b2d61063a09f4.jpg"},29822:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_4.03ecae233032814d8434.jpg"},21657:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_low_arrow.47f6405a17da60a28b4d.jpg"},7429:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_luminous_low_arrow.4047ad43c5688b0f35ff.jpg"},49603:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_luminous_top_arrow.eda52b49930411d70dae.jpg"},47063:function(e,t,n){"use strict";e.exports=n.p+"static/media/ripple_top_arrow.592bd1c4ad26fa76b154.jpg"},33704:function(e,t,n){"use strict";e.exports=n.p+"static/media/small_barr.5541351fd65c06648890.jpg"},23846:function(e,t,n){"use strict";e.exports=n.p+"static/media/small_cross_left_barr.4a14275a0d9e620f343a.jpg"},95431:function(e,t,n){"use strict";e.exports=n.p+"static/media/small_cross_right_barr.67c391947f1f684d2b3b.jpg"},33625:function(e,t,n){"use strict";e.exports=n.p+"static/media/small_losange.67245e08b296f2a24f32.jpg"},60267:function(e,t,n){"use strict";e.exports=n.p+"static/media/small_low_arrow.5cf15227f60ace4998cb.jpg"},40356:function(e,t,n){"use strict";e.exports=n.p+"static/media/small_top_arrow.2d90b32c9c54be615817.jpg"},7821:function(e,t,n){"use strict";e.exports=n.p+"static/media/sphere.3e9fcc4ad30642df5505.jpg"},79093:function(e,t,n){"use strict";e.exports=n.p+"static/media/sphere_2.fc522a395dbe15ab3cdf.jpg"},78301:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_1.f8087441729a58c210b8.jpg"},38028:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_2.dd40d004fdf717c59190.jpg"},61285:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_abstract_1.a1dc9e9185c93cf81e57.jpg"},33477:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_abstract_2.6751ea30d1942c78cecd.jpg"},52076:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_big.e04ab4dbba3db375f73b.jpg"},4223:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_big_2.5ee84fe11bd4e4e3b2c7.jpg"},90336:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_medium.fc7198ddf32fa03e8274.jpg"},44097:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_small.b1466d0bd59b8496b3b6.jpg"},88890:function(e,t,n){"use strict";e.exports=n.p+"static/media/spiral_small_2.4c60509eb850a3701b79.jpg"},69252:function(e,t,n){"use strict";e.exports=n.p+"static/media/spots.54e7acb1319e898fb697.jpg"},81269:function(e,t,n){"use strict";e.exports=n.p+"static/media/square_left_barr.e9a617d2cb33c854bc89.jpg"},54209:function(e,t,n){"use strict";e.exports=n.p+"static/media/square_middle_left_barr.dada6de0e9954983490f.jpg"},55464:function(e,t,n){"use strict";e.exports=n.p+"static/media/square_middle_right_barr.00906b8652bf077d36fe.jpg"},90999:function(e,t,n){"use strict";e.exports=n.p+"static/media/square_right_barr.13cb7ed68b4fb7a084c7.jpg"},3085:function(e,t,n){"use strict";e.exports=n.p+"static/media/stain_1.89340b2bd13ddeb1b09d.jpg"},49857:function(e,t,n){"use strict";e.exports=n.p+"static/media/stain_2.79ce89b05c8f673cf1cc.jpg"},88254:function(e,t,n){"use strict";e.exports=n.p+"static/media/star_1.704284a37dce26b24f6d.jpg"},79668:function(e,t,n){"use strict";e.exports=n.p+"static/media/star_2.063952427654a1ff2370.jpg"},51523:function(e,t,n){"use strict";e.exports=n.p+"static/media/strange_barr_1.90710e5e99a933621ff4.jpg"},31292:function(e,t,n){"use strict";e.exports=n.p+"static/media/strange_barr_2.143d528bb8da2cc62179.jpg"},21740:function(e,t,n){"use strict";e.exports=n.p+"static/media/stretched_1.f7c6b72992b1e56b010e.jpg"},38422:function(e,t,n){"use strict";e.exports=n.p+"static/media/stretched_2.8e0c5c6a6edff9d5b94e.jpg"},32025:function(e,t,n){"use strict";e.exports=n.p+"static/media/stretched_3.c911f5b097ff16d8d702.jpg"},73406:function(e,t,n){"use strict";e.exports=n.p+"static/media/stretched_4.511979ac932175274d51.jpg"},83294:function(e,t,n){"use strict";e.exports=n.p+"static/media/stretched_5.becaee287b49f877fc33.jpg"},27024:function(e,t,n){"use strict";e.exports=n.p+"static/media/sun_shaking.409ca7e1651f69ccf6ff.jpg"},11912:function(e,t,n){"use strict";e.exports=n.p+"static/media/sunlight_1.9e05e40b968c9d4ce54f.jpg"},68342:function(e,t,n){"use strict";e.exports=n.p+"static/media/sunlight_2.85dcdc714fdb8db456e4.jpg"},68473:function(e,t,n){"use strict";e.exports=n.p+"static/media/sunlight_3.223233dc2b53242b851f.jpg"},69385:function(e,t,n){"use strict";e.exports=n.p+"static/media/sunlight_4.368db9e1e2e4bb714f46.jpg"},3408:function(e,t,n){"use strict";e.exports=n.p+"static/media/triangle_1.056d3d4fc433e278ddf8.jpg"},7425:function(e,t,n){"use strict";e.exports=n.p+"static/media/triangle_2.c5c635ad3ac7945a17d2.jpg"},38312:function(e,t,n){"use strict";e.exports=n.p+"static/media/triangle_3.c460e6bae3a896b61403.jpg"},64269:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_1.45da02bbc6ae0b47af76.jpg"},15482:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_10.289b3b288fc6724e55c1.jpg"},87175:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_11.eec684efe4fe963efde2.jpg"},92304:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_12.213a849708f17bc60b4d.jpg"},93893:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_13.9a2e2e332d3a3e3e6e45.jpg"},70333:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_14.79bc53e6fd36cd312308.jpg"},1942:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_15.856214dcb7c4a59eeac5.jpg"},18947:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_16.856214dcb7c4a59eeac5.jpg"},96841:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_17.8b1d55559c9453192489.jpg"},36599:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_18.63ce98a89120e81a0bed.jpg"},75096:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_19.14c551affb4995fcce6b.jpg"},20629:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_2.35abb785ffa4121ca67b.jpg"},69092:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_20.3b20c6d6148f887db391.jpg"},25143:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_21.659ba2c3819b35c23ffd.jpg"},3932:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_22.99066f65b8c683246053.jpg"},66021:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_23.7ca50b8033b711d2368b.jpg"},64092:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_24.f07e8e5f30ec5bbf3474.jpg"},25420:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_25.47714c7080b0756ed4f1.jpg"},98524:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_26.b4681d9968c22d7da1e6.jpg"},11156:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_27.cf6a1001bf658b7752aa.jpg"},94684:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_28.7872de76e0cddcc2f67e.jpg"},78:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_29.726a9fe7166b661d4f76.jpg"},54391:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_3.3f4cecbc4b60661418d6.jpg"},50242:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_30.65d4607d4abe3c65a071.jpg"},26181:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_31.7e8a1cd94e24b3d785e3.jpg"},36999:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_32.bf79f86473b941964f26.jpg"},87739:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_33.10823104fc0db0ca0073.jpg"},47133:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_34.747d798ebb699b1ba251.jpg"},75794:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_35.bfb44fa3caaee635640c.jpg"},27257:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_36.3407ace6533c0c636924.jpg"},47692:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_37.5b47daf9a4a1b2810eaa.jpg"},70503:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_38.a38f6931cd90d90b61a4.jpg"},77878:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_39.207c0faed9e2aaacaf5c.jpg"},2851:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_4.4dc06dfc91a77bce962d.jpg"},94626:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_5.0296ba2596c7cfa36a8d.jpg"},4258:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_6.fb8241bcaf61688ed00f.jpg"},95296:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_7.6174a4851817a650c649.jpg"},79216:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_8.4482a80a763df4678974.jpg"},6413:function(e,t,n){"use strict";e.exports=n.p+"static/media/twirl_9.d0f0144f6d116bd37286.jpg"},17986:function(e,t,n){"use strict";e.exports=n.p+"static/media/vertical_bars.4b83dbedc9f5960918d5.jpg"},23609:function(e,t,n){"use strict";e.exports=n.p+"static/media/vertical_blinds_in_to_out.161702fd5fe66bbcfcf4.jpg"},53122:function(e,t,n){"use strict";e.exports=n.p+"static/media/vertical_blinds_in_to_out_big.d64ca83ddf7c88ae5b48.jpg"},6735:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_1.97615ec230f21476bb80.jpg"},57127:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_10.d4594ef8e3be96a65c18.jpg"},72011:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_11.ba8dcfc8f6a496b2f576.jpg"},28326:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_12.cebf4921fb3f4c312cc0.jpg"},19527:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_2.d10b95e2e8d4ff2bf39b.jpg"},61338:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_3.4695a68a8c0f99cb2f20.jpg"},52255:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_4.e5f1283d85fbcea93b16.jpg"},82330:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_5.6990948003938f6e9c3d.jpg"},13036:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_6.7ec1fbe07d12777718d6.jpg"},49517:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_7.e0d3fc4d4272ff5336ac.jpg"},4614:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_8.1f761da3098c9dc0c3b5.jpg"},25281:function(e,t,n){"use strict";e.exports=n.p+"static/media/wandering_9.63aec281933147547565.jpg"},4930:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQIAHAAcAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCABgAHgBAREA/8QAGgABAAMBAQEAAAAAAAAAAAAABQAECAIDAf/EAC0QAAICAQMCBQMDBQAAAAAAAAADAWECBBEhMbEFJENRkhIUQhMiIzNBgYKh/9oACAEBAAA/AHPFE7+Ianj1cu8g7k0HuTQc5NBzk0HOTQc5NB7k0HOTRSzwnGTkhCENWeJJ31uonb1Mu8hDk0HOTQe5NBzk0HOTQc5NBzk0HuTQc5NFLLCcZOSEIa716d9U6dvznuFOTQc5NBzk0HuTQc5NBzk9eA5yaDnJoPcnrwHOTRSzxnGTkhDZWsTu5k7flPcMcmg5yaDnJ68Bzk0HuTQc5NBzk0HOTQc5NB7k0HOTRSzxnGTk+xzJtjUp3zynb+8hzk0HOTQc5NBzk0HOTQe9NBzk0HOT14DnJoOcmg9yevAc5NFLPCcZJhG+eMe8wbncnfnYOcnrwHuTQc5PXgOcnrwHOTQc5NB7k0HOTQc5NBzk0HOTQe5PXgOcmispc/cqx984j/pvJit8f8FByaDnJoPcmg5yaDnJoOcmg5yaD3JoOcmg5yaDnJoOcmg9yaKik+dRx6mPc3VseLVRlzAe5NBzk0HuT14DnJoOcmg5yaDnJoPcnrwHOTQc5NBzk0HOTRUWnziePUx7m2j4eTFRn0PBuiX+llMzP1RG4K5NB7k0HOTQc5NBzk0HOTQe5NBzk0HOTQc5PXgqYJ82nj1Me5skhDhsTK5j3DHJoOcmg9yaDnJoOcnrwHOTQc5NB7k0HOTQc5NFTBHm08epj3NcEIQ8WKjKOID3JoOcmg9yaDnJDnJoOcmg5yaD3JoOcmiotHnE8epj3NTkIQhzK8MuuMSV3aJbeY/ZNRwF6jwt8b/Th9ce8SFP8PfvMfoM+Eh79A+OqG/CQ93h+o6/bt+Ehr9A/n+BnwkOd4fqJ3207fhIa/Qujqlkf6yVUaJv3+n/AIs/6uP4z7wf/9k="},60673:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQIAHAAcAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCABgAHgBAREA/8QAGwABAAMBAQEBAAAAAAAAAAAABQAECAIDAQf/xAAtEAACAgEDAgUDAwUAAAAAAAAAAwFhAgQRITGxBSRDUZISFEITIiMzQYGCof/aAAgBAQAAPwD9/IQhDmWYY9cogru1q1cR++angL1Hij53+nP6I9ogKf4g/eZ/XZ85D36989Xt+ch7vENR0+4b85DX69/P87PnIc7xDURvtqG/OQ1+udPVzJ/2kqo1rfv9P/Ln/Vx/KfeDSRCEPFjYxjiQ9zrDnOsPc6w5zg5zrDnOsOc6w9zrDnOsqLf5xPPqY9zU5CHDZmFzPsGOdYc51h7nWHOdYc53XkOc6w5zrD3OsOc6w5zrKmD/ADaefUx7muD4eTGxh0PButX+llExP1TGwK51h7nWHOdYc51hznWHOdYe51hznWHOdYc53XkqYO82nn1Me5snc8WtjHiA9zrDnOsPc7ryHOdYc51hznWHOdYe53XkOc6w5zrDnOsOc6yot3nE8+pj3Npsbtj/AIKDnWHOdYe51hznWHOdYc51hznWHudYc51hznWHOdYc51h7nWVFO86jn1Me5tRztuNw5zuvIe51hzndeQ5zuvIc51hznWHudYc51hznWHOdYc51h7ndeQ5zrKymT9yrL2zif+m09S7bPKN/7yHOdYc51hznWHOdYc51h73WHOdYc53XkOc6w5zrD3O68hznWUs85ykmE7Z4z7TBsjWO2cyN/wAp7hjnWHOdYc53XkOc6w9zrDnOsOc6w5zrDnOsPc6w5zrKWeU5Scn2OJNda922qdG/5z3CnOsOc6w5zrD3OsOc6w5zuvIc51hznWHud15DnOspZ5TlJyQhqzxJ22t1Eb+pl3kIc6w5zrD3OsOc6w5zrDnOsOc6w9zrDnOspZZzlJyQhDTnijtvENTz6uXeQdzrD3OsOc6w5zrDnOsOc6w9zrDnOspZ5zlJyQhCH//Z"},23121:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQIAHAAcAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCABgAHgBAREA/8QAGgABAAMBAQEAAAAAAAAAAAAABQAECAIDAf/EAC0QAAICAQMCBQMDBQAAAAAAAAADAWECBBEhMbEFJENRkhIUQhMiIzNBgYKh/9oACAEBAAA/AM/kIQh1hhOUl1KaEUpoQSmhFKaEUpoRSmhFKaEEpoY8LTt4hpuPVx7wZjIQh1jhOUl1KaEUpoQSmhFKaEUpoRSmhFKaEEpoRSmhfw1O2t087epj3gymQh1hjOUl1KaEUp6cCCU0IpTQilPTgRSmhFKaEEpoRSmhFKaFdAnbVJnb847mRZ4k+HWGM5SXUpoRSmhBKaEUpoRSmhFKaEUpoQSmhFKenAilNCKU0J6NOzlzt+UdzG+cbZ5R7TJMMJykupTQilPTgQSmhFKaEUp6cCKU0IoTQglNCKU0IpTQilNCKU0I6ZO2eM7f3gxY1c/ctx9s5j/pZSmhFKenAglNCKU0IpTQilNCKU0IJTQilNCKU9OBFKenAilNCCU9OBFKdudjFbU+dfx6mXctpTQglNCKU0IpTQilNCKU0IJTQilNCKU0IpTQilNCCU0IpTRfWrbH/BixifOO49TLuW0poRSmhFKaEUpoRSnpwIJTQilNCKU0IpTQilPTgQSmhFKaEFKjHmT22MbZp827j1Mu5bSnpwIpTQilNCKU0IJTQilNCKU0IpTQilNCCU0NK0S/0sZiZ+qY3Pdaow6nqfTI+aPNu49TLuW0poRSmhFKaEEpoRSmhFKenAilNCKU0IJTQilNCaomFxHsdkIZYYjzjuPUy7ltKaEUpoQSmhFKaEUpoRSkRSmhBKaEUpoQWqMY5g9iEIZtfom/f6j+LP8Aq5fjPvJaRoXT0Syf9ZEk+H6iNt9O34SIo0D+P4GfCRJPh+o6/bt+EiCNA+eiG/CRBHh794j9BnwkV0/hb52+rD6I95kUTolq5n983HBYheGPTGIOiEIQ/9k="},31624:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQIAHAAcAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wAALCABgAHgBAREA/8QAGgABAAMBAQEAAAAAAAAAAAAABQAECAIDAf/EAC0QAAICAQMCBQMDBQAAAAAAAAADAWECBBEhMbEFJENRkhIUQhMiIzNBgYKh/9oACAEBAAA/ADH61v3+o/lz/q5flPvJaRrnR0cyP9pEk+Iaidt9Q35yIo17+P52fORJPiGo6fcN+ciCNe+Oj2/ORBHiD94n9dnzkV0/ij42+rP649pgUTrVt4n9k3PBYhmGXTKJOiEIQywx/nHc+pl3LaXWIpdYgl1iKXWIpdYilwil1iCXWIpdYgtsZRzJ7EIQyPm/zbufUy7ltLrEUusRS6xBLrEUusRS7pyIpdYil1iCXWIpdYmqZlcT7nZCGNs3ebdz6mXctpd05EUusRS6xFLrEEusRS6xFLrEUusRS6xBLrGla1f6WMRE/VEbHutsZ9T1PpiVjvOO59TLuW0usRS6xFLrEUusRS7pyIJdYil1iKXWIpdYil3TkQS6xFLrEFNjLiT23MKtd51/PqZdy2l1iCXWIpdYil1iKXWIpdYgl1iKXWIpdYil1iKXWIJdYil1l9bd8f8ABg1rJ+5bl75zP/Syl1iKXdORBLrEUusRS6xFLrEUusQS6xFLrEUu6ciKXdORFLrEEu6ciKXb8bmGM53zyn3mSYZzjJdS6xFLunIgl1iKXWIpd05EUusRQ6xBLrEUusRS6xFLrEUusR0zt88Y3/vBieeZPh1hlOMl1LrEUusQS6xFLrEUusRS6xFLrEEusRS7pyIpdYil1iejdu5cb/lHcxqQh1hlOMl1LrEUu6ciCXWIpdYil3TkRS6xFLrEEusRS6xFLrFdA7fVJjf847mRCEIdY5zjJdS6xFLrEEusRS6xFLrEUusRS6xBLrEUusX8NdvrdPG/qY94MpkIQh1hnOMl1LrEUusQS6xFLrEUusRS6xFLrEEusY8Ldv4hpufVx7wf/9k="},3370:function(e,t,n){"use strict";e.exports=n.p+"static/media/whirpool_1.9e25d1a029b2a40ab0a1.jpg"},38777:function(e,t,n){"use strict";e.exports=n.p+"static/media/whirpool_2.db80047147c09cec4ec8.jpg"},98924:function(e,t,n){"use strict";e.exports=n.p+"static/media/whirpool_3.cf6a1001bf658b7752aa.jpg"},3561:function(e,t,n){"use strict";e.exports=n.p+"static/media/whirpool_4.a30f0b5709a46f128e4a.jpg"},59887:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_bottom_to_top.ce121fc90b521c891325.jpg"},46386:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_diagonal_1.b45b40f08327724eae71.jpg"},87197:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_diagonal_2.b78ecc1306d75747ff5c.jpg"},99136:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_diagonal_3.18ebc126140319f56db1.jpg"},80442:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_diagonal_4.7387927f377b7eda8d68.jpg"},43197:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_left_to_right.ff45ea9e61fac1fb54a2.jpg"},93116:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_right_to_left.751a749bd64d30f9b51d.jpg"},43368:function(e,t,n){"use strict";e.exports=n.p+"static/media/wipe_top_to_bottom.4e2d761f4e9dca801102.jpg"},28022:function(){},42480:function(){},24654:function(){},9557:function(){},17717:function(e){"use strict";e.exports=JSON.parse('[{"name":"None","id":"none"},{"name":"Wipe Up","preview":"/images/transitions/gifs/wipeup.gif","poster":"/images/transitions/posters/wipeup.png","id":"wipeup"},{"name":"Wipe Down","preview":"/images/transitions/gifs/wipedown.gif","poster":"/images/transitions/posters/wipedown.png","id":"wipedown"},{"name":"Wipe Left","preview":"/images/transitions/gifs/wipeleft.gif","poster":"/images/transitions/posters/wipeleft.png","id":"wipeleft"},{"name":"Wipe Right","preview":"/images/transitions/gifs/wiperight.gif","poster":"/images/transitions/posters/wiperight.png","id":"wiperight"},{"name":"Smooth Left","preview":"/images/transitions/gifs/smoothleft.gif","poster":"/images/transitions/posters/smoothleft.png","id":"smoothleft"},{"name":"Smooth Right","preview":"/images/transitions/gifs/smoothright.gif","poster":"/images/transitions/posters/smoothright.png","id":"smoothright"},{"name":"Radial","preview":"/images/transitions/gifs/radial.gif","poster":"/images/transitions/posters/radial.png","id":"radial"},{"name":"Circle Crop","preview":"/images/transitions/gifs/circlecrop.gif","poster":"/images/transitions/posters/circlecrop.png","id":"circlecrop"},{"name":"Horizontal Blur","preview":"/images/transitions/gifs/hblur.gif","poster":"/images/transitions/posters/hblur.png","id":"hblur"},{"name":"Fade","preview":"/images/transitions/gifs/fade.gif","poster":"/images/transitions/posters/fade.png","id":"fade"}]')}},function(e){e.O(0,[216],(function(){return 34119,e(e.s=34119)})),e.O()}]);